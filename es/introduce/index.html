<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ES - ElasticSearch基础概念 | OddFar&#39;s Notes</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/notes/img/favicon.ico">
    <meta name="description" content="我们在黑暗中并肩前行，走在各自的朝圣路上!">
    <meta name="keywords" content="oddfar,zhiyuan">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/notes/assets/css/0.styles.f3c5be15.css" as="style"><link rel="preload" href="/notes/assets/js/app.f5d81fd3.js" as="script"><link rel="preload" href="/notes/assets/js/4.55bd5ee9.js" as="script"><link rel="preload" href="/notes/assets/js/1.40ff521e.js" as="script"><link rel="preload" href="/notes/assets/js/3.d2a5efbd.js" as="script"><link rel="preload" href="/notes/assets/js/105.04ae844e.js" as="script"><link rel="preload" href="/notes/assets/js/6.2981ea96.js" as="script"><link rel="prefetch" href="/notes/assets/js/10.557b319b.js"><link rel="prefetch" href="/notes/assets/js/100.c1c90991.js"><link rel="prefetch" href="/notes/assets/js/101.813f7b2e.js"><link rel="prefetch" href="/notes/assets/js/102.d3e1d9ca.js"><link rel="prefetch" href="/notes/assets/js/103.c598e2f1.js"><link rel="prefetch" href="/notes/assets/js/104.da6b8d25.js"><link rel="prefetch" href="/notes/assets/js/106.122506a8.js"><link rel="prefetch" href="/notes/assets/js/107.8534ba31.js"><link rel="prefetch" href="/notes/assets/js/108.ad8ec0f4.js"><link rel="prefetch" href="/notes/assets/js/109.1dcc1937.js"><link rel="prefetch" href="/notes/assets/js/11.864926e1.js"><link rel="prefetch" href="/notes/assets/js/110.6058df08.js"><link rel="prefetch" href="/notes/assets/js/111.ff90d9a9.js"><link rel="prefetch" href="/notes/assets/js/112.67a4511c.js"><link rel="prefetch" href="/notes/assets/js/113.3f73e1bd.js"><link rel="prefetch" href="/notes/assets/js/114.a8f3bfa7.js"><link rel="prefetch" href="/notes/assets/js/115.921439be.js"><link rel="prefetch" href="/notes/assets/js/116.73ddac82.js"><link rel="prefetch" href="/notes/assets/js/117.9daeb33c.js"><link rel="prefetch" href="/notes/assets/js/118.cef0fa1f.js"><link rel="prefetch" href="/notes/assets/js/119.fabf6bf0.js"><link rel="prefetch" href="/notes/assets/js/12.c9665aab.js"><link rel="prefetch" href="/notes/assets/js/120.b0246e30.js"><link rel="prefetch" href="/notes/assets/js/121.5d52654f.js"><link rel="prefetch" href="/notes/assets/js/122.b20b16ea.js"><link rel="prefetch" href="/notes/assets/js/123.c6954c80.js"><link rel="prefetch" href="/notes/assets/js/124.952b796c.js"><link rel="prefetch" href="/notes/assets/js/125.67e9dd69.js"><link rel="prefetch" href="/notes/assets/js/126.cfc67310.js"><link rel="prefetch" href="/notes/assets/js/127.e041365d.js"><link rel="prefetch" href="/notes/assets/js/128.5b412815.js"><link rel="prefetch" href="/notes/assets/js/129.3a2eca61.js"><link rel="prefetch" href="/notes/assets/js/13.ffb05b43.js"><link rel="prefetch" href="/notes/assets/js/130.828cb06d.js"><link rel="prefetch" href="/notes/assets/js/131.a84cc9b3.js"><link rel="prefetch" href="/notes/assets/js/132.d82eea2c.js"><link rel="prefetch" href="/notes/assets/js/133.59b3b6f9.js"><link rel="prefetch" href="/notes/assets/js/134.b3454286.js"><link rel="prefetch" href="/notes/assets/js/135.d0e8f80d.js"><link rel="prefetch" href="/notes/assets/js/136.9a6ecb08.js"><link rel="prefetch" href="/notes/assets/js/137.3e782865.js"><link rel="prefetch" href="/notes/assets/js/138.051578ce.js"><link rel="prefetch" href="/notes/assets/js/139.893cf741.js"><link rel="prefetch" href="/notes/assets/js/14.a0ed8bba.js"><link rel="prefetch" href="/notes/assets/js/140.54af2462.js"><link rel="prefetch" href="/notes/assets/js/141.c253cac6.js"><link rel="prefetch" href="/notes/assets/js/142.11e5c334.js"><link rel="prefetch" href="/notes/assets/js/143.c04fe670.js"><link rel="prefetch" href="/notes/assets/js/144.68019ec7.js"><link rel="prefetch" href="/notes/assets/js/145.bace04a0.js"><link rel="prefetch" href="/notes/assets/js/146.5e3b7700.js"><link rel="prefetch" href="/notes/assets/js/147.e0cf3efb.js"><link rel="prefetch" href="/notes/assets/js/148.9e643e58.js"><link rel="prefetch" href="/notes/assets/js/149.56d3480f.js"><link rel="prefetch" href="/notes/assets/js/15.236bb627.js"><link rel="prefetch" href="/notes/assets/js/150.396f1c71.js"><link rel="prefetch" href="/notes/assets/js/151.3540053c.js"><link rel="prefetch" href="/notes/assets/js/152.706a9cc7.js"><link rel="prefetch" href="/notes/assets/js/153.e48a1071.js"><link rel="prefetch" href="/notes/assets/js/154.25f45aa6.js"><link rel="prefetch" href="/notes/assets/js/155.31a557f0.js"><link rel="prefetch" href="/notes/assets/js/156.0a3e017a.js"><link rel="prefetch" href="/notes/assets/js/157.f52ed9ce.js"><link rel="prefetch" href="/notes/assets/js/158.3ed953ce.js"><link rel="prefetch" href="/notes/assets/js/159.a39164f4.js"><link rel="prefetch" href="/notes/assets/js/16.7448e52f.js"><link rel="prefetch" href="/notes/assets/js/17.ca282e90.js"><link rel="prefetch" href="/notes/assets/js/18.a9536862.js"><link rel="prefetch" href="/notes/assets/js/19.bd880beb.js"><link rel="prefetch" href="/notes/assets/js/2.7de9c511.js"><link rel="prefetch" href="/notes/assets/js/20.45c81e5e.js"><link rel="prefetch" href="/notes/assets/js/21.0adec914.js"><link rel="prefetch" href="/notes/assets/js/22.05a7f1fe.js"><link rel="prefetch" href="/notes/assets/js/23.16baff2b.js"><link rel="prefetch" href="/notes/assets/js/24.7405d421.js"><link rel="prefetch" href="/notes/assets/js/25.5bccc3c7.js"><link rel="prefetch" href="/notes/assets/js/26.151ec9eb.js"><link rel="prefetch" href="/notes/assets/js/27.58648605.js"><link rel="prefetch" href="/notes/assets/js/28.3a4794cf.js"><link rel="prefetch" href="/notes/assets/js/29.c40f4abb.js"><link rel="prefetch" href="/notes/assets/js/30.2b9f1b2b.js"><link rel="prefetch" href="/notes/assets/js/31.049b8197.js"><link rel="prefetch" href="/notes/assets/js/32.5a86085e.js"><link rel="prefetch" href="/notes/assets/js/33.47a46ca7.js"><link rel="prefetch" href="/notes/assets/js/34.19d07a0f.js"><link rel="prefetch" href="/notes/assets/js/35.c1c7fa47.js"><link rel="prefetch" href="/notes/assets/js/36.61b37a24.js"><link rel="prefetch" href="/notes/assets/js/37.d5ec228a.js"><link rel="prefetch" href="/notes/assets/js/38.46a68289.js"><link rel="prefetch" href="/notes/assets/js/39.1a7bc068.js"><link rel="prefetch" href="/notes/assets/js/40.115578fb.js"><link rel="prefetch" href="/notes/assets/js/41.c9b25e8e.js"><link rel="prefetch" href="/notes/assets/js/42.dc4e0b0d.js"><link rel="prefetch" href="/notes/assets/js/43.5bd9d18f.js"><link rel="prefetch" href="/notes/assets/js/44.fc338ced.js"><link rel="prefetch" href="/notes/assets/js/45.c484eb67.js"><link rel="prefetch" href="/notes/assets/js/46.85be572a.js"><link rel="prefetch" href="/notes/assets/js/47.0906d5a1.js"><link rel="prefetch" href="/notes/assets/js/48.10c84c7a.js"><link rel="prefetch" href="/notes/assets/js/49.8cb07faf.js"><link rel="prefetch" href="/notes/assets/js/5.6c0b706d.js"><link rel="prefetch" href="/notes/assets/js/50.0ef12596.js"><link rel="prefetch" href="/notes/assets/js/51.27ef43ad.js"><link rel="prefetch" href="/notes/assets/js/52.a4bd9e25.js"><link rel="prefetch" href="/notes/assets/js/53.e2a8b224.js"><link rel="prefetch" href="/notes/assets/js/54.c291ac17.js"><link rel="prefetch" href="/notes/assets/js/55.2a837e3f.js"><link rel="prefetch" href="/notes/assets/js/56.971095f5.js"><link rel="prefetch" href="/notes/assets/js/57.22b20ca5.js"><link rel="prefetch" href="/notes/assets/js/58.9fac042d.js"><link rel="prefetch" href="/notes/assets/js/59.111e1275.js"><link rel="prefetch" href="/notes/assets/js/60.c51b6449.js"><link rel="prefetch" href="/notes/assets/js/61.495b203f.js"><link rel="prefetch" href="/notes/assets/js/62.593ef1ed.js"><link rel="prefetch" href="/notes/assets/js/63.4c47993a.js"><link rel="prefetch" href="/notes/assets/js/64.1d6fce23.js"><link rel="prefetch" href="/notes/assets/js/65.c761bcfe.js"><link rel="prefetch" href="/notes/assets/js/66.9faff52a.js"><link rel="prefetch" href="/notes/assets/js/67.864c24bb.js"><link rel="prefetch" href="/notes/assets/js/68.9180d04f.js"><link rel="prefetch" href="/notes/assets/js/69.7d0ca116.js"><link rel="prefetch" href="/notes/assets/js/7.587f0293.js"><link rel="prefetch" href="/notes/assets/js/70.6dfd72df.js"><link rel="prefetch" href="/notes/assets/js/71.71c4b550.js"><link rel="prefetch" href="/notes/assets/js/72.13dd9cf4.js"><link rel="prefetch" href="/notes/assets/js/73.faef3318.js"><link rel="prefetch" href="/notes/assets/js/74.96466e69.js"><link rel="prefetch" href="/notes/assets/js/75.4c02fd89.js"><link rel="prefetch" href="/notes/assets/js/76.b5237a4a.js"><link rel="prefetch" href="/notes/assets/js/77.5984d23b.js"><link rel="prefetch" href="/notes/assets/js/78.8159793b.js"><link rel="prefetch" href="/notes/assets/js/79.d439efe7.js"><link rel="prefetch" href="/notes/assets/js/80.fd565d86.js"><link rel="prefetch" href="/notes/assets/js/81.5fc27270.js"><link rel="prefetch" href="/notes/assets/js/82.57e95b12.js"><link rel="prefetch" href="/notes/assets/js/83.093ecc1d.js"><link rel="prefetch" href="/notes/assets/js/84.401948f3.js"><link rel="prefetch" href="/notes/assets/js/85.43734563.js"><link rel="prefetch" href="/notes/assets/js/86.ef5782e0.js"><link rel="prefetch" href="/notes/assets/js/87.513bce3b.js"><link rel="prefetch" href="/notes/assets/js/88.4c4d1f90.js"><link rel="prefetch" href="/notes/assets/js/89.71465ed7.js"><link rel="prefetch" href="/notes/assets/js/90.add32a12.js"><link rel="prefetch" href="/notes/assets/js/91.d168e230.js"><link rel="prefetch" href="/notes/assets/js/92.4cfc79e1.js"><link rel="prefetch" href="/notes/assets/js/93.e6d62235.js"><link rel="prefetch" href="/notes/assets/js/94.6b58a698.js"><link rel="prefetch" href="/notes/assets/js/95.ff6ddc3c.js"><link rel="prefetch" href="/notes/assets/js/96.2c82e92f.js"><link rel="prefetch" href="/notes/assets/js/97.4950f751.js"><link rel="prefetch" href="/notes/assets/js/98.028ab902.js"><link rel="prefetch" href="/notes/assets/js/99.b526735d.js"><link rel="prefetch" href="/notes/assets/js/vendors~docsearch.e8eeddec.js">
    <link rel="stylesheet" href="/notes/assets/css/0.styles.f3c5be15.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/notes/" class="home-link router-link-active"><img src="/notes/img/logo.png" alt="OddFar's Notes" class="logo"> <span class="site-name can-hide">OddFar's Notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/notes/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><a href="/notes/java/" class="link-title">Java</a> <span class="title" style="display:none;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Java-Se</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notes/java/se/initial-java/" class="nav-link">Java基础</a></li><li class="dropdown-subitem"><a href="/notes/java/se/object/" class="nav-link">Java面向对象</a></li><li class="dropdown-subitem"><a href="/notes/java/se/commonly-used-class/" class="nav-link">Java常用类</a></li><li class="dropdown-subitem"><a href="/notes/java/se/collection/synopsis/" class="nav-link">Java集合框架</a></li></ul></li><li class="dropdown-item"><h4>Java-Se进阶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notes/java/se/thread/1/" class="nav-link">JUC多线程</a></li></ul></li><li class="dropdown-item"><h4>Java-ee</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notes/javaweb/" class="nav-link">JavaWeb</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><!----> <span class="title" style="display:;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>SQL 数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notes/mysql/" class="nav-link">MySQL</a></li></ul></li><li class="dropdown-item"><h4>NoSQL 数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notes/redis/" class="nav-link">Redis</a></li><li class="dropdown-subitem"><a href="/notes/es/" class="nav-link router-link-active">ElasticSearch</a></li><li class="dropdown-subitem"><a href="/notes/mongodb/" class="nav-link">MongoDB</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><!----> <span class="title" style="display:;">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notes/mybatis/study-note/" class="nav-link">MyBatis</a></li><li class="dropdown-subitem"><a href="/notes/mybatis-plus/study-note/" class="nav-link">MyBatis-Plus</a></li></ul></li><li class="dropdown-item"><h4>Spring</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notes/spring/" class="nav-link">Spring</a></li></ul></li><li class="dropdown-item"><h4>中间件</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notes/rabbitmq/" class="nav-link">RabbitMQ</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具|部署" class="dropdown-title"><!----> <span class="title" style="display:;">工具|部署</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes/git/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/notes/docker/" class="nav-link">Docker</a></li><li class="dropdown-item"><!----> <a href="/notes/jenkins/" class="nav-link">Jenkins</a></li></ul></div></div><div class="nav-item"><a href="/notes/ai/" class="nav-link">AI</a></div><div class="nav-item"><a href="/notes/spider/" class="nav-link">爬虫</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><!----> <span class="title" style="display:;">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://oddfar.github.io/campus-doc/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Campus
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://oddfar.github.io/campus-doc/campus-example/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  校园信息墙
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="/notes/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/notes/archives/" class="nav-link">归档</a></div> <a href="https://github.com/oddfar/notes" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/notes/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><a href="/notes/java/" class="link-title">Java</a> <span class="title" style="display:none;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Java-Se</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notes/java/se/initial-java/" class="nav-link">Java基础</a></li><li class="dropdown-subitem"><a href="/notes/java/se/object/" class="nav-link">Java面向对象</a></li><li class="dropdown-subitem"><a href="/notes/java/se/commonly-used-class/" class="nav-link">Java常用类</a></li><li class="dropdown-subitem"><a href="/notes/java/se/collection/synopsis/" class="nav-link">Java集合框架</a></li></ul></li><li class="dropdown-item"><h4>Java-Se进阶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notes/java/se/thread/1/" class="nav-link">JUC多线程</a></li></ul></li><li class="dropdown-item"><h4>Java-ee</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notes/javaweb/" class="nav-link">JavaWeb</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><!----> <span class="title" style="display:;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>SQL 数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notes/mysql/" class="nav-link">MySQL</a></li></ul></li><li class="dropdown-item"><h4>NoSQL 数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notes/redis/" class="nav-link">Redis</a></li><li class="dropdown-subitem"><a href="/notes/es/" class="nav-link router-link-active">ElasticSearch</a></li><li class="dropdown-subitem"><a href="/notes/mongodb/" class="nav-link">MongoDB</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><!----> <span class="title" style="display:;">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>数据库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notes/mybatis/study-note/" class="nav-link">MyBatis</a></li><li class="dropdown-subitem"><a href="/notes/mybatis-plus/study-note/" class="nav-link">MyBatis-Plus</a></li></ul></li><li class="dropdown-item"><h4>Spring</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notes/spring/" class="nav-link">Spring</a></li></ul></li><li class="dropdown-item"><h4>中间件</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notes/rabbitmq/" class="nav-link">RabbitMQ</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具|部署" class="dropdown-title"><!----> <span class="title" style="display:;">工具|部署</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes/git/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/notes/docker/" class="nav-link">Docker</a></li><li class="dropdown-item"><!----> <a href="/notes/jenkins/" class="nav-link">Jenkins</a></li></ul></div></div><div class="nav-item"><a href="/notes/ai/" class="nav-link">AI</a></div><div class="nav-item"><a href="/notes/spider/" class="nav-link">爬虫</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><!----> <span class="title" style="display:;">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://oddfar.github.io/campus-doc/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Campus
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://oddfar.github.io/campus-doc/campus-example/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  校园信息墙
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="/notes/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/notes/archives/" class="nav-link">归档</a></div> <a href="https://github.com/oddfar/notes" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>MySQL</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Redis</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>ElasticSearch</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/es/" aria-current="page" class="sidebar-link">ElasticSearch - 知识体系</a></li><li><a href="/notes/es/introduce/" aria-current="page" class="active sidebar-link">ES - ElasticSearch基础概念</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/notes/es/introduce/#为什么需要学习elasticsearch" class="sidebar-link">为什么需要学习ElasticSearch</a></li><li class="sidebar-sub-header level2"><a href="/notes/es/introduce/#doug-cutting" class="sidebar-link">Doug Cutting</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/notes/es/introduce/#lucene" class="sidebar-link">Lucene</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/notes/es/introduce/#什么是elasticsearch" class="sidebar-link">什么是ElasticSearch</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/notes/es/introduce/#elasticsearch的由来" class="sidebar-link">ElasticSearch的由来</a></li><li class="sidebar-sub-header level3"><a href="/notes/es/introduce/#谁在使用elasticsearch" class="sidebar-link">谁在使用ElasticSearch</a></li><li class="sidebar-sub-header level3"><a href="/notes/es/introduce/#为什么不是直接使用lucene" class="sidebar-link">为什么不是直接使用Lucene</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/notes/es/introduce/#es和solr的差别" class="sidebar-link">ES和solr的差别</a></li><li class="sidebar-sub-header level2"><a href="/notes/es/introduce/#es的基础概念" class="sidebar-link">ES的基础概念</a></li><li class="sidebar-sub-header level2"><a href="/notes/es/introduce/#restful" class="sidebar-link">RESTful</a></li></ul></li><li><a href="/notes/es/install/" class="sidebar-link">ES - 安装ElasticSearch</a></li><li><a href="/notes/es/index-doc/" class="sidebar-link">ES - 索引和文档的基本操作</a></li><li><a href="/notes/es/query/" class="sidebar-link">ES - 高级查询操作</a></li><li><a href="/notes/pages/8b85ee/" class="sidebar-link">ES - 索引管理</a></li><li><a href="/notes/pages/87178e/" class="sidebar-link">ES - 分词</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>MongoDB</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/notes/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><span data-v-06225672>数据库</span></li><li data-v-06225672><span data-v-06225672>ElasticSearch</span></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://oddfar.com/" target="_blank" title="作者" class="beLink" data-v-06225672>zhiyuan</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2021-06-07</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">ES - ElasticSearch基础概念<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="elasticsearch基础概念"><a href="#elasticsearch基础概念" class="header-anchor">#</a> ElasticSearch基础概念</h1> <ul><li><a href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E5%AD%A6%E4%B9%A0elasticsearch">为什么需要学习ElasticSearch</a></li> <li><a href="#doug-cutting">Doug Cutting</a> <ul><li><a href="#lucene">Lucene</a></li></ul></li> <li><a href="#%E4%BB%80%E4%B9%88%E6%98%AFelasticsearch">什么是ElasticSearch</a> <ul><li><a href="#elasticsearch%E7%9A%84%E7%94%B1%E6%9D%A5">ElasticSearch的由来</a></li> <li><a href="#%E8%B0%81%E5%9C%A8%E4%BD%BF%E7%94%A8elasticsearch">谁在使用ElasticSearch</a></li> <li><a href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E6%98%AF%E7%9B%B4%E6%8E%A5%E4%BD%BF%E7%94%A8lucene">为什么不是直接使用Lucene</a></li></ul></li> <li><a href="#es%E5%92%8Csolr%E7%9A%84%E5%B7%AE%E5%88%AB">ES和solr的差别</a></li> <li><a href="#es%E7%9A%84%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5">ES的基础概念</a></li> <li><a href="#restful">RESTful</a></li></ul> <h2 id="为什么需要学习elasticsearch"><a href="#为什么需要学习elasticsearch" class="header-anchor">#</a> 为什么需要学习ElasticSearch</h2> <div class="custom-block tip"><p class="custom-block-title">排名</p> <p>根据 <a href="https://db-engines.com/en/ranking" target="_blank" rel="noopener noreferrer">DB Engine的排名<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 显示，ElasticSearch是最受欢迎的企业级搜索引擎。</p></div> <p>ElasticSearch在前十名内：</p> <p><img src="https://testingcf.jsdelivr.net/gh/oddfar/static/img/ElasticSearch/image-20210607170919526.png" alt="image-20210607170919526"></p> <p>所以为什么要学习ElasticSearch呢？</p> <p>1、在当前软件行业中，搜索是一个软件系统或平台的基本功能， 学习ElasticSearch就可以为相应的软件打造出良好的搜索体验。</p> <p>2、其次，ElasticSearch具备非常强的大数据分析能力。虽然Hadoop也可以做大数据分析，但是ElasticSearch的分析能力非常高，具备Hadoop不具备的能力。比如有时候用Hadoop分析一个结果，可能等待的时间比较长。</p> <p>3、ElasticSearch可以很方便的进行使用，可以将其安装在个人的笔记本电脑，也可以在生产环境中，将其进行水平扩展。</p> <p>4、国内比较大的互联网公司都在使用，比如小米、滴滴、携程等公司。另外，在腾讯云、阿里云的云平台上，也都有相应的ElasticSearch云产品可以使用。</p> <p>5、在当今大数据时代，掌握近实时的搜索和分析能力，才能掌握核心竞争力，洞见未来。</p> <h2 id="doug-cutting"><a href="#doug-cutting" class="header-anchor">#</a> Doug Cutting</h2> <div class="custom-block tip"><p class="custom-block-title">Hadoop之父：Doug Cutting</p></div> <p>1998年9月4日，Google 公司在美国硅谷成立。正如大家所知，它是一家做搜索引擎起家的公司。</p> <p><img src="https://testingcf.jsdelivr.net/gh/oddfar/static/img/ElasticSearch/38%E3%80%81ElasticSearch-00000001.png" alt="38、ElasticSearch-00000001"></p> <p>一位名叫 **Doug Cutting **的美国工程师，也迷上了搜索引擎。他做了一个用于文本搜索的函数库（姑且理解为软件的功能组件），命名为 <strong>Lucene</strong>。</p> <p><img src="https://testingcf.jsdelivr.net/gh/oddfar/static/img/ElasticSearch/38%E3%80%81ElasticSearch-00000002.png" alt="38、ElasticSearch-00000002"></p> <p>Lucene 是用 JAVA 写成的，目标是为各种中小型应用软件加入全文检索功能。因为好用而且开源，非常受程序员们的欢迎。</p> <p>早期的时候，这个项目被发布在Doug Cutting的个人网站和SourceForge（一个开源软件网站）。后来，2001年底，Lucene 成为 Apache 软件基金会 jakarta 项目的一个子项目。</p> <p><img src="https://testingcf.jsdelivr.net/gh/oddfar/static/img/ElasticSearch/38%E3%80%81ElasticSearch-00000003.png" alt="38、ElasticSearch-00000003"></p> <p>2004年，Doug Cutting再接再励，在Lucene的基础上，和Apache开源伙伴 Mike Cafarella 合作，开发了一款可以代替当时的主流搜索的开源搜索引擎，命名为 <strong>Nutch</strong> 。</p> <p><img src="https://testingcf.jsdelivr.net/gh/oddfar/static/img/ElasticSearch/38%E3%80%81ElasticSearch-00000004.png" alt="38、ElasticSearch-00000004"></p> <p>Nutch是一个建立在Lucene核心之上的网页搜索应用程序，可以下载下来直接使用。它在Lucene的基础上加了网络爬虫和一些网页相关的功能，目的就是从一个简单的站内检索推广到全球网络的搜索上，就像Google一样。</p> <p>Nutch在业界的影响力比Lucene更大。</p> <p>大批网站采用了Nutch平台，大大降低了技术门槛，使低成本的普通计算机取代高价的Web服务器成为可能。甚至有一段时间，在硅谷有了一股用Nutch低成本创业的潮流。</p> <p>随着时间的推移，无论是Google还是Nutch，都面临搜索对象“体积”不断增大的问题。</p> <p>尤其是Google，作为互联网搜索引擎，需要存储大量的网页，并不断优化自己的搜索算法，提升搜索效率。</p> <p><img src="https://testingcf.jsdelivr.net/gh/oddfar/static/img/ElasticSearch/38%E3%80%81ElasticSearch-00000005.png" alt="38、ElasticSearch-00000005"></p> <p>在这个过程中，Google确实找到了不少好办法，并且无私地分享了出来。</p> <p>2003年，Google发表了一篇技术学术论文，公开介绍了自己的谷歌文件系统<strong>GFS</strong>（Google File  System）。</p> <p>这是Google公司为了存储海量搜索数据而设计的专用文件系统。</p> <p>第二年，也就是2004年，Doug Cutting基于Google的GFS论文，实现了分布式文件存储系统，并将它命名为<strong>NDFS</strong>（Nutch Distributed File System）。</p> <p><img src="https://testingcf.jsdelivr.net/gh/oddfar/static/img/ElasticSearch/38%E3%80%81ElasticSearch-00000006.png" alt="38、ElasticSearch-00000006"></p> <p>还是2004年，Google又发表了一篇技术学术论文，介绍自己的MapReduce编程模型。这个编程模型， 用于大规模数据集（大于1TB）的并行分析运算。</p> <p>第二年（2005年），Doug Cutting又基于MapReduce，在Nutch搜索引擎实现了该功能。</p> <p><img src="https://testingcf.jsdelivr.net/gh/oddfar/static/img/ElasticSearch/38%E3%80%81ElasticSearch-00000007.png" alt="38、ElasticSearch-00000007"></p> <p>2006年，Yahoo（雅虎）公司，招安了Doug Cutting</p> <p><img src="https://testingcf.jsdelivr.net/gh/oddfar/static/img/ElasticSearch/38%E3%80%81ElasticSearch-00000008.png" alt="38、ElasticSearch-00000008"></p> <p>加盟Yahoo之后，Doug Cutting将NDFS和MapReduce进行了升级改造，并重新命名为 <strong>Hadoop</strong>（NDFS也改名为HDFS，Hadoop Distributed File System）。</p> <p>这个，就是后来大名鼎鼎的大数据框架系统——Hadoop的由来。</p> <p>而Doug Cutting，则被人们称为 <strong>Hadoop之父</strong>。</p> <p><img src="https://testingcf.jsdelivr.net/gh/oddfar/static/img/ElasticSearch/38%E3%80%81ElasticSearch-00000009.png" alt="38、ElasticSearch-00000009"></p> <p>Hadoop这个名字，实际上是Doug Cutting他儿子的黄色玩具大象的名字。所以，Hadoop的Logo，就是一只奔跑的黄色大象。</p> <p><img src="https://testingcf.jsdelivr.net/gh/oddfar/static/img/ElasticSearch/38%E3%80%81ElasticSearch-00000010.png" alt="38、ElasticSearch-00000010"></p> <p>我们继续往下说。 还是2006年，Google又发论文了。</p> <p>这次，它们介绍了自己的BigTable。这是一种分布式数据存储系统，一种用来处理海量数据的非关系型数据库。</p> <p>Doug Cutting当然没有放过，在自己的hadoop系统里面，引入了BigTable，并命名为HBase。</p> <p><img src="https://testingcf.jsdelivr.net/gh/oddfar/static/img/ElasticSearch/38%E3%80%81ElasticSearch-00000011.png" alt="38、ElasticSearch-00000011"></p> <p>好吧，反正就是紧跟Google时代步伐，你出什么，我学什么。</p> <p>所以，Hadoop的核心部分，基本上都有Google的影子。</p> <p><img src="https://testingcf.jsdelivr.net/gh/oddfar/static/img/ElasticSearch/38%E3%80%81ElasticSearch-00000012.png" alt="38、ElasticSearch-00000012"></p> <p>2008年1月，Hadoop成功上位，正式成为Apache基金会的顶级项目。</p> <p>同年2月，Yahoo宣布建成了一个拥有1万个内核的 Hadoop 集群，并将自己的搜索引擎产品部署在上面。</p> <p>7月，Hadoop打破世界纪录，成为最快排序1TB数据的系统，用时 209 秒。</p> <h3 id="lucene"><a href="#lucene" class="header-anchor">#</a> Lucene</h3> <p>Lucene是一套信息检索工具包，并不包含搜索引擎系统，它包含了索引结构、读写索引工具、相关性工具、排序等功能，因此在使用Lucene时仍需要关注搜索引擎系统，例如数据获取、解析、分词等方面的 东西。</p> <p>为什么要给大家介绍下Lucene呢，因为我们学过的 solr 和 即将要学习的 elasticsearch 都是基于该工具包做的一些封装和增强罢了</p> <h2 id="什么是elasticsearch"><a href="#什么是elasticsearch" class="header-anchor">#</a> 什么是ElasticSearch</h2> <h3 id="elasticsearch的由来"><a href="#elasticsearch的由来" class="header-anchor">#</a> ElasticSearch的由来</h3> <p>许多年前，一个刚结婚的名叫 Shay Banon 的失业开发者，跟着他的妻子去了伦敦，他的妻子在那里学习厨师。 在寻找一个赚钱的工作的时候，为了给他的妻子做一个食谱搜索引擎，他开始使用 Lucene 的一个早期版本。</p> <p>直接使用 Lucene 是很难的，因此 Shay 开始做一个抽象层，Java 开发者使用它可以很简单的给他们的程序添加搜索功能。 他发布了他的第一个开源项目 Compass。</p> <p>后来 Shay 获得了一份工作，主要是高性能，分布式环境下的内存数据网格。这个对于高性能，实时，分布式搜索引擎的需求尤为突出， 他决定重写 Compass，把它变为一个独立的服务并取名 Elasticsearch。</p> <p>第一个公开版本在2010年2月发布，从此以后，Elasticsearch 已经成为了 Github 上最活跃的项目之一，他拥有超过300名 contributors(目前736名 contributors )。 一家公司已经开始围绕 Elasticsearch 提供商业服务，并开发新的特性，但是，Elasticsearch 将永远开源并对所有人可用。</p> <p>据说，Shay 的妻子还在等着她的食谱搜索引擎…</p> <h3 id="谁在使用elasticsearch"><a href="#谁在使用elasticsearch" class="header-anchor">#</a> 谁在使用ElasticSearch</h3> <div class="custom-block tip"><p class="custom-block-title">ElasticSearch是一款非常强大的、基于Lucene的开源搜索及分析引擎；它是一个实时的分布式搜索分析引擎，它能让你以前所未有的速度和规模，去探索你的数据。</p></div> <p>它被用作<strong>全文检索</strong>、<strong>结构化搜索</strong>、<strong>分析</strong>以及这三个功能的组合：</p> <ul><li><p><em>Wikipedia</em> 使用 Elasticsearch 提供带有高亮片段的全文搜索，还有 search-as-you-type 和 did-you-mean 的建议。</p></li> <li><p><em>The Guardian</em> （国外新闻网站），类似搜狐新闻，用户行为日志（点击，浏览，收藏，评论）+社交网络数据（对某某新闻的相关看法），数据分析，给到每篇新闻文章的作者，为它的编辑们提供公众对于新文章的实时反馈（好，坏，热门，垃圾，鄙视，崇拜）</p></li> <li><p><em>Stack Overflow</em> 将地理位置查询融入全文检索中去，并且使用 more-like-this 接口去查找相关的问题和回答。</p></li> <li><p><em>GitHub</em> 使用 Elasticsearch 对1300亿行代码进行查询。</p></li> <li><p>.....</p></li></ul> <p>除了搜索，结合Kibana、Logstash、Beats开源产品，Elastic Stack（简称ELK）还被广泛运用在大数据近实时分析领域，包括：<strong>日志分析</strong>、<strong>指标监控</strong>、<strong>信息安全</strong>等。它可以帮助你<strong>探索海量结构化、非结构化数据，按需创建可视化报表，对监控数据设置报警阈值，通过使用机器学习，自动识别异常状况</strong>。</p> <h3 id="为什么不是直接使用lucene"><a href="#为什么不是直接使用lucene" class="header-anchor">#</a> 为什么不是直接使用Lucene</h3> <div class="custom-block tip"><p class="custom-block-title">Lucene简介</p></div> <p>Lucene是apache软件基金会4 jakarta项目组的一个子项目，是一个开放源代码的全文检索引擎工具 包，但它不是一个完整的全文检索引擎，而是一个全文检索引擎的架构，提供了完整的查询引擎和索引引擎，部分文本分析引擎（英文与德文两种西方语言）。</p> <p>Lucene的目的是为软件开发人员提供一个简单易用的工具包，以方便的在目标系统中实现全文检索的功能，或者是以此为基础建立起完整的全文检索引擎。</p> <p>Lucene是一套用于全文检索和搜寻的开源程式库，由Apache软件基金会支持和提供。</p> <p>Lucene提供了一个简单却强大的应用程式接口，能够做全文索引和搜寻。</p> <p>在Java开发环境里Lucene是一个成熟的免费开源工具。就其本身而言，Lucene是当前以及最近几年最受欢迎的免费Java信息检索程序库。人们经常提到信息检索程序库，虽然与搜索引擎有关，但不应该将信息检索程序库与搜索引擎相混淆。</p> <span class="badge tip" style="vertical-align:top;" data-v-d5affa18>Lucene是一个全文检索引擎的架构。那什么是全文搜索引擎？</span> <p>全文搜索引擎是名副其实的搜索引擎，国外具代表性的有Google、Fast/AllTheWeb、AltaVista、 Inktomi、Teoma、WiseNut等，国内著名的有百度（Baidu）。它们都是通过从互联网上提取的各个网站的信息（以网页文字为主）而建立的数据库中，检索与用户查询条件匹配的相关记录，然后按一定的排列顺序将结果返回给用户，因此他们是真正的搜索引擎。</p> <p>从搜索结果来源的角度，全文搜索引擎又可细分为两种，一种是拥有自己的检索程序（Indexer），俗称 “蜘蛛”（Spider）程序或“机器人”（Robot）程序，并自建网页数据库，搜索结果直接从自身的数据库中 调用，如上面提到的7家引擎；另一种则是租用其他引擎的数据库，并按自定的格式排列搜索结果，如 Lycos引擎。</p> <div class="custom-block tip"><p class="custom-block-title">ElasticSearch是基于Lucene的，那么为什么不是直接使用Lucene呢？</p></div> <p>Lucene 可以说是当下最先进、高性能、全功能的搜索引擎库。</p> <p>但是 Lucene 仅仅只是一个库。为了充分发挥其功能，你需要使用 Java 并将 Lucene 直接集成到应用程序中。 更糟糕的是，您可能需要获得信息检索学位才能了解其工作原理。Lucene 非常 复杂。</p> <p>Elasticsearch 也是使用 Java 编写的，它的内部使用 Lucene 做索引与搜索，但是它的目的是使全文检索变得简单，<strong>通过隐藏 Lucene 的复杂性，取而代之的提供一套简单一致的 RESTful API</strong>。</p> <p>然而，Elasticsearch 不仅仅是 Lucene，并且也不仅仅只是一个全文搜索引擎。 它可以被下面这样准确的形容：</p> <ul><li>一个分布式的实时文档存储，每个字段 可以被索引与搜索</li> <li>一个分布式实时分析搜索引擎</li> <li>能胜任上百个服务节点的扩展，并支持 PB 级别的结构化或者非结构化数据</li></ul> <h2 id="es和solr的差别"><a href="#es和solr的差别" class="header-anchor">#</a> ES和solr的差别</h2> <div class="custom-block tip"><p class="custom-block-title">Solr简介</p></div> <p>Solr 是Apache下的一个顶级开源项目，采用Java开发，它是基于Lucene的全文搜索服务器。Solr提供了 比Lucene更为丰富的查询语言，同时实现了可配置、可扩展，并对索引、搜索性能进行了优化</p> <p>Solr可以独立运行，运行在 Jetty、Tomcat 等这些 Servlet 容器中，Solr 索引的实现方法很简单，用 POST 方法向 Solr 服务器发送一个描述 Field 及其内容的 XML 文档，Solr 根据 xml 文档添加、删除、更新索引 。Solr 搜索只需要发送 HTTP GET 请求，然后对 Solr 返回Xml、json 等格式的查询结果进行解析，组织页面布局。Solr 不提供构建 UI 的功能，Solr 提供了一个管理界面，通过管理界面可以查询Solr的配置和运行情况。</p> <p>solr是基于lucene开发企业级搜索服务器，实际上就是封装了lucene。</p> <p>Solr是一个独立的企业级搜索应用服务器，它对外提供类似于 Web-service 的API接口。用户可以通过 http 请求，向搜索引擎服务器提交一定格式的文件，生成索引；也可以通过提出查找请求，并得到返回结果。</p> <div class="custom-block tip"><p class="custom-block-title">Elasticsearch和Solr比较</p></div> <p><img src="https://testingcf.jsdelivr.net/gh/oddfar/static/img/ElasticSearch/38%E3%80%81ElasticSearch-00000013.png" alt="38、ElasticSearch-00000013"></p> <p><img src="https://testingcf.jsdelivr.net/gh/oddfar/static/img/ElasticSearch/38%E3%80%81ElasticSearch-00000014.png" alt="38、ElasticSearch-00000014"></p> <p><img src="https://testingcf.jsdelivr.net/gh/oddfar/static/img/ElasticSearch/38%E3%80%81ElasticSearch-00000015.png" alt="38、ElasticSearch-00000015"></p> <p><img src="https://testingcf.jsdelivr.net/gh/oddfar/static/img/ElasticSearch/38%E3%80%81ElasticSearch-00000015-1623059278022.png" alt="38、ElasticSearch-00000015"></p> <p><img src="https://testingcf.jsdelivr.net/gh/oddfar/static/img/ElasticSearch/38%E3%80%81ElasticSearch-00000016.png" alt="38、ElasticSearch-00000016"></p> <p><strong>总结</strong></p> <p>1、es基本是开箱即用，非常简单。Solr安装略微复杂一丢丢！</p> <p>2、Solr 利用 Zookeeper 进行分布式管理，而 Elasticsearch 自身带有分布式协调管理功能。</p> <p>3、Solr 支持更多格式的数据，比如JSON、XML、CSV，而 Elasticsearch 仅支持json文件格式。</p> <p>4、Solr 官方提供的功能更多，而 Elasticsearch 本身更注重于核心功能，高级功能多有第三方插件提供，例如图形化界面需要 kibana 友好支撑</p> <p>5、Solr 查询快，但更新索引时慢（即插入删除慢），用于电商等查询多的应用；</p> <ul><li>ES建立索引快（即查询慢），即实时性查询快，用于facebook新浪等搜索。</li> <li>Solr 是传统搜索应用的有力解决方案，但 Elasticsearch 更适用于新兴的实时搜索应用。</li></ul> <p>6、Solr比较成熟，有一个更大，更成熟的用户、开发和贡献者社区，而 Elasticsearch相对开发维护者较少，更新太快，学习使用成本较高。</p> <h2 id="es的基础概念"><a href="#es的基础概念" class="header-anchor">#</a> ES的基础概念</h2> <div class="custom-block tip"><p class="custom-block-title">我们还需对比结构化数据库，看看ES的基础概念，为我们后面学习作铺垫。</p></div> <ul><li><strong>Near Realtime（NRT）</strong> 近实时。数据提交索引后，立马就可以搜索到。</li> <li><strong>Cluster 集群</strong>，一个集群由一个唯一的名字标识，默认为“elasticsearch”。集群名称非常重要，具有相同集群名的节点才会组成一个集群。集群名称可以在配置文件中指定。</li> <li><strong>Node 节点</strong>：存储集群的数据，参与集群的索引和搜索功能。像集群有名字，节点也有自己的名称，默认在启动时会以一个随机的UUID的前七个字符作为节点的名字，你可以为其指定任意的名字。通过集群名在网络中发现同伴组成集群。一个节点也可是集群。</li> <li><strong>Index 索引</strong>: 一个索引是一个文档的集合（等同于solr中的集合）。每个索引有唯一的名字，通过这个名字来操作它。一个集群中可以有任意多个索引。</li> <li><strong>Type 类型</strong>：指在一个索引中，可以索引不同类型的文档，如用户数据、博客数据。从6.0.0 版本起已废弃，一个索引中只存放一类数据。</li> <li><strong>Document 文档</strong>：被索引的一条数据，索引的基本信息单元，以JSON格式来表示。</li> <li><strong>Shard 分片</strong>：在创建一个索引时可以指定分成多少个分片来存储。每个分片本身也是一个功能完善且独立的“索引”，可以被放置在集群的任意节点上。</li> <li><strong>Replication 备份</strong>: 一个分片可以有多个备份（副本）</li></ul> <p>为了方便理解，作一个ES和数据库的对比</p> <p><img src="https://testingcf.jsdelivr.net/gh/oddfar/static/img/ElasticSearch/es-introduce-1-3.png" alt="img"></p> <p>和 mysql 的类比</p> <p><img src="https://testingcf.jsdelivr.net/gh/oddfar/static/img/ElasticSearch/image-20210620225735121.png" alt="image-20210620225735121"></p> <p>Elasticsearch 7.X 中, Type 的概念已经被删除了。</p> <h2 id="restful"><a href="#restful" class="header-anchor">#</a> RESTful</h2> <p>REST 指的是一组架构约束条件和原则。满足这些约束条件和原则的应用程序或设计就是 RESTful。Web 应用程序最重要的 REST 原则是，客户端和服务器之间的交互在请求之间是无状态的。从客户端到服务器的每个请求都必须包含理解请求所必需的信息。如果服务器在请求之间的任何时间点重启，客户端不会得到通知。此外，无状态请求可以由任何可用服务器回答，这十分适合云计算之类的环境。客户端可以缓存数据以改进性能。</p> <p>在服务器端，应用程序状态和功能可以分为各种资源。资源是一个有趣的概念实体，它向客户端公开。资源的例子有：应用程序对象、数据库记录、算法等等。每个资源都使用 URI (Universal Resource Identifier) 得到一个唯一的地址。所有资源都共享统一的接口，以便在客 户端和服务器之间传输状态。使用的是标准的 HTTP 方法，比如 GET、PUT、POST 和 DELETE。</p> <p>在 REST 样式的 Web 服务中，每个资源都有一个地址。资源本身都是方法调用的目标，方法列表对所有资源都是一样的。这些方法都是标准方法，包括 HTTP GET、POST、 PUT、DELETE，还可能包括 HEAD 和 OPTIONS。简单的理解就是，如果想要访问互联网上的资源，就必须向资源所在的服务器发出请求，请求体中必须包含资源的网络路径，以及对资源进行的操作(增删改查)。</p></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/oddfar/notes/edit/master/docs/03.数据库/15.ElasticSearch/02.ES - 基础概念.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">最后更新:</span> <span class="time">2023/03/26, 13:03:00</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/notes/es/" class="page-nav-centre page-nav-centre-prev router-link-active"><div class="tooltip">ElasticSearch - 知识体系</div></a> <a href="/notes/es/install/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">ES - 安装ElasticSearch</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/notes/es/" class="prev router-link-active">ElasticSearch - 知识体系</a></span> <span class="next"><a href="/notes/es/install/">ES - 安装ElasticSearch</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="mailto:oddfar@163.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/oddfar" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2021-2025
    <span>oddfar | <a href="https://beian.miit.gov.cn/" target="_blank">冀ICP备20001094号</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/notes/assets/js/app.f5d81fd3.js" defer></script><script src="/notes/assets/js/4.55bd5ee9.js" defer></script><script src="/notes/assets/js/1.40ff521e.js" defer></script><script src="/notes/assets/js/3.d2a5efbd.js" defer></script><script src="/notes/assets/js/105.04ae844e.js" defer></script><script src="/notes/assets/js/6.2981ea96.js" defer></script>
  </body>
</html>
