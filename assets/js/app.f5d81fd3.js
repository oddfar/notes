(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[]]);!function(n){function e(e){for(var a,s,o=e[0],l=e[1],c=e[2],u=0,p=[];u<o.length;u++)s=o[u],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&p.push(i[s][0]),i[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(n[a]=l[a]);for(d&&d(e);p.length;)p.shift()();return r.push.apply(r,c||[]),t()}function t(){for(var n,e=0;e<r.length;e++){for(var t=r[e],a=!0,o=1;o<t.length;o++){var l=t[o];0!==i[l]&&(a=!1)}a&&(r.splice(e--,1),n=s(s.s=t[0]))}return n}var a={},i={8:0},r=[];function s(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.e=function(n){var e=[],t=i[n];if(0!==t)if(t)e.push(t[2]);else{var a=new Promise((function(e,a){t=i[n]=[e,a]}));e.push(t[2]=a);var r,o=document.createElement("script");o.charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.src=function(n){return s.p+"assets/js/"+({9:"vendors~docsearch"}[n]||n)+"."+{1:"40ff521e",2:"7de9c511",3:"d2a5efbd",4:"55bd5ee9",5:"6c0b706d",6:"2981ea96",7:"587f0293",9:"e8eeddec",10:"557b319b",11:"864926e1",12:"c9665aab",13:"ffb05b43",14:"a0ed8bba",15:"236bb627",16:"7448e52f",17:"ca282e90",18:"a9536862",19:"bd880beb",20:"45c81e5e",21:"0adec914",22:"05a7f1fe",23:"16baff2b",24:"7405d421",25:"5bccc3c7",26:"151ec9eb",27:"58648605",28:"3a4794cf",29:"c40f4abb",30:"2b9f1b2b",31:"049b8197",32:"5a86085e",33:"47a46ca7",34:"19d07a0f",35:"c1c7fa47",36:"61b37a24",37:"d5ec228a",38:"46a68289",39:"1a7bc068",40:"115578fb",41:"c9b25e8e",42:"dc4e0b0d",43:"5bd9d18f",44:"fc338ced",45:"c484eb67",46:"85be572a",47:"0906d5a1",48:"10c84c7a",49:"8cb07faf",50:"0ef12596",51:"27ef43ad",52:"a4bd9e25",53:"e2a8b224",54:"c291ac17",55:"2a837e3f",56:"971095f5",57:"22b20ca5",58:"9fac042d",59:"111e1275",60:"c51b6449",61:"495b203f",62:"593ef1ed",63:"4c47993a",64:"1d6fce23",65:"c761bcfe",66:"9faff52a",67:"864c24bb",68:"9180d04f",69:"7d0ca116",70:"6dfd72df",71:"71c4b550",72:"13dd9cf4",73:"faef3318",74:"96466e69",75:"4c02fd89",76:"b5237a4a",77:"5984d23b",78:"8159793b",79:"d439efe7",80:"fd565d86",81:"5fc27270",82:"57e95b12",83:"093ecc1d",84:"401948f3",85:"43734563",86:"ef5782e0",87:"513bce3b",88:"4c4d1f90",89:"71465ed7",90:"add32a12",91:"d168e230",92:"4cfc79e1",93:"e6d62235",94:"6b58a698",95:"ff6ddc3c",96:"2c82e92f",97:"4950f751",98:"028ab902",99:"b526735d",100:"c1c90991",101:"813f7b2e",102:"d3e1d9ca",103:"c598e2f1",104:"da6b8d25",105:"04ae844e",106:"122506a8",107:"8534ba31",108:"ad8ec0f4",109:"1dcc1937",110:"6058df08",111:"ff90d9a9",112:"67a4511c",113:"3f73e1bd",114:"a8f3bfa7",115:"921439be",116:"73ddac82",117:"9daeb33c",118:"cef0fa1f",119:"fabf6bf0",120:"b0246e30",121:"5d52654f",122:"b20b16ea",123:"c6954c80",124:"952b796c",125:"67e9dd69",126:"cfc67310",127:"e041365d",128:"5b412815",129:"3a2eca61",130:"828cb06d",131:"a84cc9b3",132:"d82eea2c",133:"59b3b6f9",134:"b3454286",135:"d0e8f80d",136:"9a6ecb08",137:"3e782865",138:"051578ce",139:"893cf741",140:"54af2462",141:"c253cac6",142:"11e5c334",143:"c04fe670",144:"68019ec7",145:"bace04a0",146:"5e3b7700",147:"e0cf3efb",148:"9e643e58",149:"56d3480f",150:"396f1c71",151:"3540053c",152:"706a9cc7",153:"e48a1071",154:"25f45aa6",155:"31a557f0",156:"0a3e017a",157:"f52ed9ce",158:"3ed953ce",159:"a39164f4"}[n]+".js"}(n);var l=new Error;r=function(e){o.onerror=o.onload=null,clearTimeout(c);var t=i[n];if(0!==t){if(t){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;l.message="Loading chunk "+n+" failed.\n("+a+": "+r+")",l.name="ChunkLoadError",l.type=a,l.request=r,t[1](l)}i[n]=void 0}};var c=setTimeout((function(){r({type:"timeout",target:o})}),12e4);o.onerror=o.onload=r,document.head.appendChild(o)}return Promise.all(e)},s.m=n,s.c=a,s.d=function(n,e,t){s.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},s.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},s.t=function(n,e){if(1&e&&(n=s(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var a in n)s.d(t,a,function(e){return n[e]}.bind(null,a));return t},s.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return s.d(e,"a",e),e},s.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},s.p="/notes/",s.oe=function(n){throw console.error(n),n};var o=window.webpackJsonp=window.webpackJsonp||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;r.push([129,0]),t()}([function(n,e,t){"use strict";var a=function(n){return n&&n.Math===Math&&n};n.exports=a("object"==typeof globalThis&&globalThis)||a("object"==typeof window&&window)||a("object"==typeof self&&self)||a("object"==typeof global&&global)||a("object"==typeof this&&this)||function(){return this}()||Function("return this")()},function(n,e,t){"use strict";n.exports=function(n){try{return!!n()}catch(n){return!0}}},function(n,e,t){"use strict";var a="object"==typeof document&&document.all;n.exports=void 0===a&&void 0!==a?function(n){return"function"==typeof n||n===a}:function(n){return"function"==typeof n}},function(n,e,t){"use strict";var a=t(11),i=t(0),r=t(144),s=t(4),o=t(2),l=t(87),c=t(127),d=t(146),u=t(1),p=t(10),m=t(18),h=t(88).IteratorPrototype,g=t(6),b=t(24),f=m("toStringTag"),y=TypeError,v=i.Iterator,k=b||!o(v)||v.prototype!==h||!u((function(){v({})})),x=function(){if(r(this,h),l(this)===h)throw new y("Abstract class Iterator not directly constructable")},w=function(n,e){g?c(h,n,{configurable:!0,get:function(){return e},set:function(e){if(s(this),this===h)throw new y("You can't redefine this property");p(this,n)?this[n]=e:d(this,n,e)}}):h[n]=e};p(h,f)||w(f,"Iterator"),!k&&p(h,"constructor")&&h.constructor!==Object||w("constructor",x),x.prototype=h,a({global:!0,constructor:!0,forced:k},{Iterator:x})},function(n,e,t){"use strict";var a=t(9),i=String,r=TypeError;n.exports=function(n){if(a(n))return n;throw new r(i(n)+" is not an object")}},function(n,e,t){"use strict";var a=t(34),i=Function.prototype,r=i.call,s=a&&i.bind.bind(r,r);n.exports=a?s:function(n){return function(){return r.apply(n,arguments)}}},function(n,e,t){"use strict";var a=t(1);n.exports=!a((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(n,e,t){"use strict";var a=t(34),i=Function.prototype.call;n.exports=a?i.bind(i):function(){return i.apply(i,arguments)}},function(n,e,t){"use strict";var a=t(2),i=t(50),r=TypeError;n.exports=function(n){if(a(n))return n;throw new r(i(n)+" is not a function")}},function(n,e,t){"use strict";var a=t(2);n.exports=function(n){return"object"==typeof n?null!==n:a(n)}},function(n,e,t){"use strict";var a=t(5),i=t(32),r=a({}.hasOwnProperty);n.exports=Object.hasOwn||function(n,e){return r(i(n),e)}},function(n,e,t){"use strict";var a=t(0),i=t(70).f,r=t(25),s=t(46),o=t(52),l=t(84),c=t(143);n.exports=function(n,e){var t,d,u,p,m,h=n.target,g=n.global,b=n.stat;if(t=g?a:b?a[h]||o(h,{}):a[h]&&a[h].prototype)for(d in e){if(p=e[d],u=n.dontCallGetSet?(m=i(t,d))&&m.value:t[d],!c(g?d:h+(b?".":"#")+d,n.forced)&&void 0!==u){if(typeof p==typeof u)continue;l(p,u)}(n.sham||u&&u.sham)&&r(p,"sham",!0),s(t,d,p,n)}}},function(n,e,t){"use strict";var a=t(7),i=t(4),r=t(39);n.exports=function(n,e,t){var s,o;i(n);try{if(!(s=r(n,"return"))){if("throw"===e)throw t;return t}s=a(s,n)}catch(n){o=!0,s=n}if("throw"===e)throw t;if(o)throw s;return i(s),t}},function(n,e){var t=Array.isArray;n.exports=t},function(n,e,t){var a=t(98),i="object"==typeof self&&self&&self.Object===Object&&self,r=a||i||Function("return this")();n.exports=r},function(n,e,t){"use strict";function a(n,e,t,a,i,r,s,o){var l,c="function"==typeof n?n.options:n;if(e&&(c.render=e,c.staticRenderFns=t,c._compiled=!0),a&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),s?(l=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),i&&i.call(this,n),n&&n._registeredComponents&&n._registeredComponents.add(s)},c._ssrRegister=l):i&&(l=o?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(n,e){return l.call(e),d(n,e)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:n,options:c}}t.d(e,"a",(function(){return a}))},function(n,e,t){"use strict";var a=t(11),i=t(7),r=t(8),s=t(4),o=t(26),l=t(89),c=t(90),d=t(24),u=t(12),p=t(91),m=t(27),h=!d&&!p("filter",(function(){})),g=!d&&!h&&m("filter",TypeError),b=d||h||g,f=l((function(){for(var n,e,t=this.iterator,a=this.predicate,r=this.next;;){if(n=s(i(r,t)),this.done=!!n.done)return;if(e=n.value,c(t,a,[e,this.counter++],!0))return e}}));a({target:"Iterator",proto:!0,real:!0,forced:b},{filter:function(n){s(this);try{r(n)}catch(n){u(this,"throw",n)}return g?i(g,this,n):new f(o(this),{predicate:n})}})},function(n,e,t){"use strict";var a=t(11),i=t(7),r=t(47),s=t(8),o=t(4),l=t(26),c=t(12),d=t(27)("forEach",TypeError);a({target:"Iterator",proto:!0,real:!0,forced:d},{forEach:function(n){o(this);try{s(n)}catch(n){c(this,"throw",n)}if(d)return i(d,this,n);var e=l(this),t=0;r(e,(function(e){n(e,t++)}),{IS_RECORD:!0})}})},function(n,e,t){"use strict";var a=t(0),i=t(77),r=t(10),s=t(78),o=t(74),l=t(73),c=a.Symbol,d=i("wks"),u=l?c.for||c:c&&c.withoutSetter||s;n.exports=function(n){return r(d,n)||(d[n]=o&&r(c,n)?c[n]:u("Symbol."+n)),d[n]}},function(n,e,t){"use strict";var a=t(6),i=t(79),r=t(81),s=t(4),o=t(71),l=TypeError,c=Object.defineProperty,d=Object.getOwnPropertyDescriptor;e.f=a?r?function(n,e,t){if(s(n),e=o(e),s(t),"function"==typeof n&&"prototype"===e&&"value"in t&&"writable"in t&&!t.writable){var a=d(n,e);a&&a.writable&&(n[e]=t.value,t={configurable:"configurable"in t?t.configurable:a.configurable,enumerable:"enumerable"in t?t.enumerable:a.enumerable,writable:!1})}return c(n,e,t)}:c:function(n,e,t){if(s(n),e=o(e),s(t),i)try{return c(n,e,t)}catch(n){}if("get"in t||"set"in t)throw new l("Accessors not supported");return"value"in t&&(n[e]=t.value),n}},function(n,e,t){var a=t(196),i=t(199);n.exports=function(n,e){var t=i(n,e);return a(t)?t:void 0}},function(n,e,t){"use strict";t.d(e,"e",(function(){return a})),t.d(e,"b",(function(){return r})),t.d(e,"j",(function(){return s})),t.d(e,"g",(function(){return l})),t.d(e,"h",(function(){return c})),t.d(e,"i",(function(){return d})),t.d(e,"c",(function(){return u})),t.d(e,"f",(function(){return p})),t.d(e,"l",(function(){return m})),t.d(e,"m",(function(){return h})),t.d(e,"d",(function(){return b})),t.d(e,"k",(function(){return f})),t.d(e,"n",(function(){return y})),t.d(e,"a",(function(){return k}));t(31),t(3),t(16),t(17),t(22);const a=/#.*$/,i=/\.(md|html)$/,r=/\/$/,s=/^[a-z]+:/i;function o(n){return decodeURI(n).replace(a,"").replace(i,"")}function l(n){return s.test(n)}function c(n){return/^mailto:/.test(n)}function d(n){return/^tel:/.test(n)}function u(n){if(l(n))return n;if(!n)return"404";const e=n.match(a),t=e?e[0]:"",i=o(n);return r.test(i)?n:i+".html"+t}function p(n,e){const t=n.hash,i=function(n){const e=n&&n.match(a);if(e)return e[0]}(e);if(i&&t!==i)return!1;return o(n.path)===o(e)}function m(n,e,t){if(l(e))return{type:"external",path:e};t&&(e=function(n,e,t){const a=n.charAt(0);if("/"===a)return n;if("?"===a||"#"===a)return e+n;const i=e.split("/");t&&i[i.length-1]||i.pop();const r=n.replace(/^\//,"").split("/");for(let n=0;n<r.length;n++){const e=r[n];".."===e?i.pop():"."!==e&&i.push(e)}""!==i[0]&&i.unshift("");return i.join("/")}(e,t));const a=o(e);for(let e=0;e<n.length;e++)if(o(n[e].regularPath)===a)return Object.assign({},n[e],{type:"page",path:u(n[e].path)});return console.error(`[vuepress] No matching page found for sidebar item "${e}"`),{}}function h(n,e,t,a){const{pages:i,themeConfig:r}=t,s=a&&r.locales&&r.locales[a]||r;if("auto"===(n.frontmatter.sidebar||s.sidebar||r.sidebar))return g(n);const o=s.sidebar||r.sidebar;if(o){const{base:t,config:a}=function(n,e){if(Array.isArray(e))return{base:"/",config:e};for(const a in e)if(0===(t=n,/(\.html|\/)$/.test(t)?t:t+"/").indexOf(encodeURI(a)))return{base:a,config:e[a]};var t;return{}}(e,o);return"auto"===a?g(n):a?a.map(n=>function n(e,t,a,i=1){if("string"==typeof e)return m(t,e,a);if(Array.isArray(e))return Object.assign(m(t,e[0],a),{title:e[1]});{i>3&&console.error("[vuepress] detected a too deep nested sidebar group.");const r=e.children||[];return 0===r.length&&e.path?Object.assign(m(t,e.path,a),{title:e.title}):{type:"group",path:e.path,title:e.title,sidebarDepth:e.sidebarDepth,initialOpenGroupIndex:e.initialOpenGroupIndex,children:r.map(e=>n(e,t,a,i+1)),collapsable:!1!==e.collapsable}}}(n,i,t)):[]}return[]}function g(n){const e=b(n.headers||[]);return[{type:"group",collapsable:!1,title:n.title,path:null,children:e.map(e=>({type:"auto",title:e.title,basePath:n.path,path:n.path+"#"+e.slug,children:e.children||[]}))}]}function b(n){let e;return(n=n.map(n=>Object.assign({},n))).forEach(n=>{2===n.level?e=n:e&&(e.children||(e.children=[])).push(n)}),n.filter(n=>2===n.level)}function f(n){return Object.assign(n,{type:n.items&&n.items.length?"links":"link"})}function y(n){return Object.prototype.toString.call(n).match(/\[object (.*?)\]/)[1].toLowerCase()}function v(n){let e=n.frontmatter.date||n.lastUpdated||new Date,t=new Date(e);return"Invalid Date"==t&&e&&(t=new Date(e.replace(/-/g,"/"))),t.getTime()}function k(n,e){return v(e)-v(n)}},function(n,e,t){"use strict";var a=t(11),i=t(7),r=t(8),s=t(4),o=t(26),l=t(89),c=t(90),d=t(12),u=t(91),p=t(27),m=t(24),h=!m&&!u("map",(function(){})),g=!m&&!h&&p("map",TypeError),b=m||h||g,f=l((function(){var n=this.iterator,e=s(i(this.next,n));if(!(this.done=!!e.done))return c(n,this.mapper,[e.value,this.counter++],!0)}));a({target:"Iterator",proto:!0,real:!0,forced:b},{map:function(n){s(this);try{r(n)}catch(n){d(this,"throw",n)}return g?i(g,this,n):new f(o(this),{mapper:n})}})},function(n,e){n.exports=function(n){return null!=n&&"object"==typeof n}},function(n,e,t){"use strict";n.exports=!1},function(n,e,t){"use strict";var a=t(6),i=t(19),r=t(35);n.exports=a?function(n,e,t){return i.f(n,e,r(1,t))}:function(n,e,t){return n[e]=t,n}},function(n,e,t){"use strict";n.exports=function(n){return{iterator:n,next:n.next,done:!1}}},function(n,e,t){"use strict";var a=t(0);n.exports=function(n,e){var t=a.Iterator,i=t&&t.prototype,r=i&&i[n],s=!1;if(r)try{r.call({next:function(){return{done:!0}},return:function(){s=!0}},-1)}catch(n){n instanceof e||(s=!1)}if(!s)return r}},function(n,e,t){var a=t(30),i=t(181),r=t(182),s=a?a.toStringTag:void 0;n.exports=function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":s&&s in Object(n)?i(n):r(n)}},function(n,e,t){"use strict";var a=t(5),i=a({}.toString),r=a("".slice);n.exports=function(n){return r(i(n),8,-1)}},function(n,e,t){var a=t(14).Symbol;n.exports=a},function(n,e,t){"use strict";var a=t(11),i=t(32),r=t(33),s=t(175),o=t(177);a({target:"Array",proto:!0,arity:1,forced:t(1)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(n){return n instanceof TypeError}}()},{push:function(n){var e=i(this),t=r(e),a=arguments.length;o(t+a);for(var l=0;l<a;l++)e[t]=arguments[l],t++;return s(e,t),t}})},function(n,e,t){"use strict";var a=t(48),i=Object;n.exports=function(n){return i(a(n))}},function(n,e,t){"use strict";var a=t(141);n.exports=function(n){return a(n.length)}},function(n,e,t){"use strict";var a=t(1);n.exports=!a((function(){var n=function(){}.bind();return"function"!=typeof n||n.hasOwnProperty("prototype")}))},function(n,e,t){"use strict";n.exports=function(n,e){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:e}}},function(n,e,t){"use strict";var a=t(67),i=t(48);n.exports=function(n){return a(i(n))}},function(n,e,t){"use strict";var a=t(0),i=t(2),r=function(n){return i(n)?n:void 0};n.exports=function(n,e){return arguments.length<2?r(a[n]):a[n]&&a[n][e]}},function(n,e,t){"use strict";var a=t(5);n.exports=a({}.isPrototypeOf)},function(n,e,t){"use strict";var a=t(8),i=t(49);n.exports=function(n,e){var t=n[e];return i(t)?void 0:a(t)}},function(n,e,t){var a=t(186),i=t(187),r=t(188),s=t(189),o=t(190);function l(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var a=n[e];this.set(a[0],a[1])}}l.prototype.clear=a,l.prototype.delete=i,l.prototype.get=r,l.prototype.has=s,l.prototype.set=o,n.exports=l},function(n,e,t){var a=t(100);n.exports=function(n,e){for(var t=n.length;t--;)if(a(n[t][0],e))return t;return-1}},function(n,e,t){var a=t(20)(Object,"create");n.exports=a},function(n,e,t){var a=t(208);n.exports=function(n,e){var t=n.__data__;return a(e)?t["string"==typeof e?"string":"hash"]:t.map}},function(n,e,t){var a=t(63);n.exports=function(n){if("string"==typeof n||a(n))return n;var e=n+"";return"0"==e&&1/n==-1/0?"-0":e}},function(n,e,t){var a,i;
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */void 0===(i="function"==typeof(a=function(){var n,e,t={version:"0.2.0"},a=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function i(n,e,t){return n<e?e:n>t?t:n}function r(n){return 100*(-1+n)}t.configure=function(n){var e,t;for(e in n)void 0!==(t=n[e])&&n.hasOwnProperty(e)&&(a[e]=t);return this},t.status=null,t.set=function(n){var e=t.isStarted();n=i(n,a.minimum,1),t.status=1===n?null:n;var l=t.render(!e),c=l.querySelector(a.barSelector),d=a.speed,u=a.easing;return l.offsetWidth,s((function(e){""===a.positionUsing&&(a.positionUsing=t.getPositioningCSS()),o(c,function(n,e,t){var i;return(i="translate3d"===a.positionUsing?{transform:"translate3d("+r(n)+"%,0,0)"}:"translate"===a.positionUsing?{transform:"translate("+r(n)+"%,0)"}:{"margin-left":r(n)+"%"}).transition="all "+e+"ms "+t,i}(n,d,u)),1===n?(o(l,{transition:"none",opacity:1}),l.offsetWidth,setTimeout((function(){o(l,{transition:"all "+d+"ms linear",opacity:0}),setTimeout((function(){t.remove(),e()}),d)}),d)):setTimeout(e,d)})),this},t.isStarted=function(){return"number"==typeof t.status},t.start=function(){t.status||t.set(0);var n=function(){setTimeout((function(){t.status&&(t.trickle(),n())}),a.trickleSpeed)};return a.trickle&&n(),this},t.done=function(n){return n||t.status?t.inc(.3+.5*Math.random()).set(1):this},t.inc=function(n){var e=t.status;return e?("number"!=typeof n&&(n=(1-e)*i(Math.random()*e,.1,.95)),e=i(e+n,0,.994),t.set(e)):t.start()},t.trickle=function(){return t.inc(Math.random()*a.trickleRate)},n=0,e=0,t.promise=function(a){return a&&"resolved"!==a.state()?(0===e&&t.start(),n++,e++,a.always((function(){0==--e?(n=0,t.done()):t.set((n-e)/n)})),this):this},t.render=function(n){if(t.isRendered())return document.getElementById("nprogress");c(document.documentElement,"nprogress-busy");var e=document.createElement("div");e.id="nprogress",e.innerHTML=a.template;var i,s=e.querySelector(a.barSelector),l=n?"-100":r(t.status||0),d=document.querySelector(a.parent);return o(s,{transition:"all 0 linear",transform:"translate3d("+l+"%,0,0)"}),a.showSpinner||(i=e.querySelector(a.spinnerSelector))&&p(i),d!=document.body&&c(d,"nprogress-custom-parent"),d.appendChild(e),e},t.remove=function(){d(document.documentElement,"nprogress-busy"),d(document.querySelector(a.parent),"nprogress-custom-parent");var n=document.getElementById("nprogress");n&&p(n)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var n=document.body.style,e="WebkitTransform"in n?"Webkit":"MozTransform"in n?"Moz":"msTransform"in n?"ms":"OTransform"in n?"O":"";return e+"Perspective"in n?"translate3d":e+"Transform"in n?"translate":"margin"};var s=function(){var n=[];function e(){var t=n.shift();t&&t(e)}return function(t){n.push(t),1==n.length&&e()}}(),o=function(){var n=["Webkit","O","Moz","ms"],e={};function t(t){return t=t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(n,e){return e.toUpperCase()})),e[t]||(e[t]=function(e){var t=document.body.style;if(e in t)return e;for(var a,i=n.length,r=e.charAt(0).toUpperCase()+e.slice(1);i--;)if((a=n[i]+r)in t)return a;return e}(t))}function a(n,e,a){e=t(e),n.style[e]=a}return function(n,e){var t,i,r=arguments;if(2==r.length)for(t in e)void 0!==(i=e[t])&&e.hasOwnProperty(t)&&a(n,t,i);else a(n,r[1],r[2])}}();function l(n,e){return("string"==typeof n?n:u(n)).indexOf(" "+e+" ")>=0}function c(n,e){var t=u(n),a=t+e;l(t,e)||(n.className=a.substring(1))}function d(n,e){var t,a=u(n);l(n,e)&&(t=a.replace(" "+e+" "," "),n.className=t.substring(1,t.length-1))}function u(n){return(" "+(n.className||"")+" ").replace(/\s+/gi," ")}function p(n){n&&n.parentNode&&n.parentNode.removeChild(n)}return t})?a.call(e,t,e,n):a)||(n.exports=i)},function(n,e,t){"use strict";var a=t(2),i=t(19),r=t(82),s=t(52);n.exports=function(n,e,t,o){o||(o={});var l=o.enumerable,c=void 0!==o.name?o.name:e;if(a(t)&&r(t,c,o),o.global)l?n[e]=t:s(e,t);else{try{o.unsafe?n[e]&&(l=!0):delete n[e]}catch(n){}l?n[e]=t:i.f(n,e,{value:t,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return n}},function(n,e,t){"use strict";var a=t(128),i=t(7),r=t(4),s=t(50),o=t(159),l=t(33),c=t(38),d=t(160),u=t(93),p=t(12),m=TypeError,h=function(n,e){this.stopped=n,this.result=e},g=h.prototype;n.exports=function(n,e,t){var b,f,y,v,k,x,w,_=t&&t.that,S=!(!t||!t.AS_ENTRIES),j=!(!t||!t.IS_RECORD),E=!(!t||!t.IS_ITERATOR),T=!(!t||!t.INTERRUPTED),C=a(e,_),q=function(n){return b&&p(b,"normal"),new h(!0,n)},I=function(n){return S?(r(n),T?C(n[0],n[1],q):C(n[0],n[1])):T?C(n,q):C(n)};if(j)b=n.iterator;else if(E)b=n;else{if(!(f=u(n)))throw new m(s(n)+" is not iterable");if(o(f)){for(y=0,v=l(n);v>y;y++)if((k=I(n[y]))&&c(g,k))return k;return new h(!1)}b=d(n,f)}for(x=j?n.next:b.next;!(w=i(x,b)).done;){try{k=I(w.value)}catch(n){p(b,"throw",n)}if("object"==typeof k&&k&&c(g,k))return k}return new h(!1)}},function(n,e,t){"use strict";var a=t(49),i=TypeError;n.exports=function(n){if(a(n))throw new i("Can't call method on "+n);return n}},function(n,e,t){"use strict";n.exports=function(n){return null==n}},function(n,e,t){"use strict";var a=String;n.exports=function(n){try{return a(n)}catch(n){return"Object"}}},function(n,e,t){"use strict";var a=t(24),i=t(0),r=t(52),s=n.exports=i["__core-js_shared__"]||r("__core-js_shared__",{});(s.versions||(s.versions=[])).push({version:"3.45.1",mode:a?"pure":"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.45.1/LICENSE",source:"https://github.com/zloirock/core-js"})},function(n,e,t){"use strict";var a=t(0),i=Object.defineProperty;n.exports=function(n,e){try{i(a,n,{value:e,configurable:!0,writable:!0})}catch(t){a[n]=e}return e}},function(n,e,t){"use strict";var a=t(77),i=t(78),r=a("keys");n.exports=function(n){return r[n]||(r[n]=i(n))}},function(n,e,t){"use strict";n.exports={}},function(n,e,t){"use strict";n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(n,e,t){var a=t(180),i=t(23),r=Object.prototype,s=r.hasOwnProperty,o=r.propertyIsEnumerable,l=a(function(){return arguments}())?a:function(n){return i(n)&&s.call(n,"callee")&&!o.call(n,"callee")};n.exports=l},function(n,e,t){var a=t(20)(t(14),"Map");n.exports=a},function(n,e){n.exports=function(n){var e=typeof n;return null!=n&&("object"==e||"function"==e)}},function(n,e,t){var a=t(200),i=t(207),r=t(209),s=t(210),o=t(211);function l(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var a=n[e];this.set(a[0],a[1])}}l.prototype.clear=a,l.prototype.delete=i,l.prototype.get=r,l.prototype.has=s,l.prototype.set=o,n.exports=l},function(n,e){n.exports=function(n){var e=-1,t=Array(n.size);return n.forEach((function(n){t[++e]=n})),t}},function(n,e){n.exports=function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991}},function(n,e,t){var a=t(13),i=t(63),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;n.exports=function(n,e){if(a(n))return!1;var t=typeof n;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=n&&!i(n))||(s.test(n)||!r.test(n)||null!=e&&n in Object(e))}},function(n,e,t){var a=t(28),i=t(23);n.exports=function(n){return"symbol"==typeof n||i(n)&&"[object Symbol]"==a(n)}},function(n,e){n.exports=function(n){return n}},function(n,e,t){"use strict";var a=t(11),i=t(7),r=t(47),s=t(8),o=t(4),l=t(26),c=t(12),d=t(27)("some",TypeError);a({target:"Iterator",proto:!0,real:!0,forced:d},{some:function(n){o(this);try{s(n)}catch(n){c(this,"throw",n)}if(d)return i(d,this,n);var e=l(this),t=0;return r(e,(function(e,a){if(n(e,t++))return a()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},function(n,e){var t=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,r=/^0o[0-7]+$/i,s=parseInt,o="object"==typeof global&&global&&global.Object===Object&&global,l="object"==typeof self&&self&&self.Object===Object&&self,c=o||l||Function("return this")(),d=Object.prototype.toString,u=Math.max,p=Math.min,m=function(){return c.Date.now()};function h(n){var e=typeof n;return!!n&&("object"==e||"function"==e)}function g(n){if("number"==typeof n)return n;if(function(n){return"symbol"==typeof n||function(n){return!!n&&"object"==typeof n}(n)&&"[object Symbol]"==d.call(n)}(n))return NaN;if(h(n)){var e="function"==typeof n.valueOf?n.valueOf():n;n=h(e)?e+"":e}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(t,"");var o=i.test(n);return o||r.test(n)?s(n.slice(2),o?2:8):a.test(n)?NaN:+n}n.exports=function(n,e,t){var a,i,r,s,o,l,c=0,d=!1,b=!1,f=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function y(e){var t=a,r=i;return a=i=void 0,c=e,s=n.apply(r,t)}function v(n){return c=n,o=setTimeout(x,e),d?y(n):s}function k(n){var t=n-l;return void 0===l||t>=e||t<0||b&&n-c>=r}function x(){var n=m();if(k(n))return w(n);o=setTimeout(x,function(n){var t=e-(n-l);return b?p(t,r-(n-c)):t}(n))}function w(n){return o=void 0,f&&a?y(n):(a=i=void 0,s)}function _(){var n=m(),t=k(n);if(a=arguments,i=this,l=n,t){if(void 0===o)return v(l);if(b)return o=setTimeout(x,e),y(l)}return void 0===o&&(o=setTimeout(x,e)),s}return e=g(e)||0,h(t)&&(d=!!t.leading,r=(b="maxWait"in t)?u(g(t.maxWait)||0,e):r,f="trailing"in t?!!t.trailing:f),_.cancel=function(){void 0!==o&&clearTimeout(o),c=0,a=l=i=o=void 0},_.flush=function(){return void 0===o?s:w(m())},_}},function(n,e,t){"use strict";var a=t(5),i=t(1),r=t(29),s=Object,o=a("".split);n.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(n){return"String"===r(n)?o(n,""):s(n)}:s},function(n,e,t){"use strict";var a,i=t(4),r=t(147),s=t(55),o=t(54),l=t(149),c=t(80),d=t(53),u=d("IE_PROTO"),p=function(){},m=function(n){return"<script>"+n+"<\/script>"},h=function(n){n.write(m("")),n.close();var e=n.parentWindow.Object;return n=null,e},g=function(){try{a=new ActiveXObject("htmlfile")}catch(n){}var n,e;g="undefined"!=typeof document?document.domain&&a?h(a):((e=c("iframe")).style.display="none",l.appendChild(e),e.src=String("javascript:"),(n=e.contentWindow.document).open(),n.write(m("document.F=Object")),n.close(),n.F):h(a);for(var t=s.length;t--;)delete g.prototype[s[t]];return g()};o[u]=!0,n.exports=Object.create||function(n,e){var t;return null!==n?(p.prototype=i(n),t=new p,p.prototype=null,t[u]=n):t=g(),void 0===e?t:r.f(t,e)}},function(n,e){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(n,e,t){"use strict";var a=t(6),i=t(7),r=t(130),s=t(35),o=t(36),l=t(71),c=t(10),d=t(79),u=Object.getOwnPropertyDescriptor;e.f=a?u:function(n,e){if(n=o(n),e=l(e),d)try{return u(n,e)}catch(n){}if(c(n,e))return s(!i(r.f,n,e),n[e])}},function(n,e,t){"use strict";var a=t(131),i=t(72);n.exports=function(n){var e=a(n,"string");return i(e)?e:e+""}},function(n,e,t){"use strict";var a=t(37),i=t(2),r=t(38),s=t(73),o=Object;n.exports=s?function(n){return"symbol"==typeof n}:function(n){var e=a("Symbol");return i(e)&&r(e.prototype,o(n))}},function(n,e,t){"use strict";var a=t(74);n.exports=a&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(n,e,t){"use strict";var a=t(75),i=t(1),r=t(0).String;n.exports=!!Object.getOwnPropertySymbols&&!i((function(){var n=Symbol("symbol detection");return!r(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&a&&a<41}))},function(n,e,t){"use strict";var a,i,r=t(0),s=t(76),o=r.process,l=r.Deno,c=o&&o.versions||l&&l.version,d=c&&c.v8;d&&(i=(a=d.split("."))[0]>0&&a[0]<4?1:+(a[0]+a[1])),!i&&s&&(!(a=s.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=s.match(/Chrome\/(\d+)/))&&(i=+a[1]),n.exports=i},function(n,e,t){"use strict";var a=t(0).navigator,i=a&&a.userAgent;n.exports=i?String(i):""},function(n,e,t){"use strict";var a=t(51);n.exports=function(n,e){return a[n]||(a[n]=e||{})}},function(n,e,t){"use strict";var a=t(5),i=0,r=Math.random(),s=a(1.1.toString);n.exports=function(n){return"Symbol("+(void 0===n?"":n)+")_"+s(++i+r,36)}},function(n,e,t){"use strict";var a=t(6),i=t(1),r=t(80);n.exports=!a&&!i((function(){return 7!==Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},function(n,e,t){"use strict";var a=t(0),i=t(9),r=a.document,s=i(r)&&i(r.createElement);n.exports=function(n){return s?r.createElement(n):{}}},function(n,e,t){"use strict";var a=t(6),i=t(1);n.exports=a&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},function(n,e,t){"use strict";var a=t(5),i=t(1),r=t(2),s=t(10),o=t(6),l=t(133).CONFIGURABLE,c=t(134),d=t(83),u=d.enforce,p=d.get,m=String,h=Object.defineProperty,g=a("".slice),b=a("".replace),f=a([].join),y=o&&!i((function(){return 8!==h((function(){}),"length",{value:8}).length})),v=String(String).split("String"),k=n.exports=function(n,e,t){"Symbol("===g(m(e),0,7)&&(e="["+b(m(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),t&&t.getter&&(e="get "+e),t&&t.setter&&(e="set "+e),(!s(n,"name")||l&&n.name!==e)&&(o?h(n,"name",{value:e,configurable:!0}):n.name=e),y&&t&&s(t,"arity")&&n.length!==t.arity&&h(n,"length",{value:t.arity});try{t&&s(t,"constructor")&&t.constructor?o&&h(n,"prototype",{writable:!1}):n.prototype&&(n.prototype=void 0)}catch(n){}var a=u(n);return s(a,"source")||(a.source=f(v,"string"==typeof e?e:"")),n};Function.prototype.toString=k((function(){return r(this)&&p(this).source||c(this)}),"toString")},function(n,e,t){"use strict";var a,i,r,s=t(135),o=t(0),l=t(9),c=t(25),d=t(10),u=t(51),p=t(53),m=t(54),h=o.TypeError,g=o.WeakMap;if(s||u.state){var b=u.state||(u.state=new g);b.get=b.get,b.has=b.has,b.set=b.set,a=function(n,e){if(b.has(n))throw new h("Object already initialized");return e.facade=n,b.set(n,e),e},i=function(n){return b.get(n)||{}},r=function(n){return b.has(n)}}else{var f=p("state");m[f]=!0,a=function(n,e){if(d(n,f))throw new h("Object already initialized");return e.facade=n,c(n,f,e),e},i=function(n){return d(n,f)?n[f]:{}},r=function(n){return d(n,f)}}n.exports={set:a,get:i,has:r,enforce:function(n){return r(n)?i(n):a(n,{})},getterFor:function(n){return function(e){var t;if(!l(e)||(t=i(e)).type!==n)throw new h("Incompatible receiver, "+n+" required");return t}}}},function(n,e,t){"use strict";var a=t(10),i=t(136),r=t(70),s=t(19);n.exports=function(n,e,t){for(var o=i(e),l=s.f,c=r.f,d=0;d<o.length;d++){var u=o[d];a(n,u)||t&&a(t,u)||l(n,u,c(e,u))}}},function(n,e,t){"use strict";var a=t(5),i=t(10),r=t(36),s=t(138).indexOf,o=t(54),l=a([].push);n.exports=function(n,e){var t,a=r(n),c=0,d=[];for(t in a)!i(o,t)&&i(a,t)&&l(d,t);for(;e.length>c;)i(a,t=e[c++])&&(~s(d,t)||l(d,t));return d}},function(n,e,t){"use strict";var a=t(140);n.exports=function(n){var e=+n;return e!=e||0===e?0:a(e)}},function(n,e,t){"use strict";var a=t(10),i=t(2),r=t(32),s=t(53),o=t(145),l=s("IE_PROTO"),c=Object,d=c.prototype;n.exports=o?c.getPrototypeOf:function(n){var e=r(n);if(a(e,l))return e[l];var t=e.constructor;return i(t)&&e instanceof t?t.prototype:e instanceof c?d:null}},function(n,e,t){"use strict";var a,i,r,s=t(1),o=t(2),l=t(9),c=t(68),d=t(87),u=t(46),p=t(18),m=t(24),h=p("iterator"),g=!1;[].keys&&("next"in(r=[].keys())?(i=d(d(r)))!==Object.prototype&&(a=i):g=!0),!l(a)||s((function(){var n={};return a[h].call(n)!==n}))?a={}:m&&(a=c(a)),o(a[h])||u(a,h,(function(){return this})),n.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:g}},function(n,e,t){"use strict";var a=t(7),i=t(68),r=t(25),s=t(150),o=t(18),l=t(83),c=t(39),d=t(88).IteratorPrototype,u=t(151),p=t(12),m=t(152),h=o("toStringTag"),g=l.set,b=function(n){var e=l.getterFor(n?"WrapForValidIterator":"IteratorHelper");return s(i(d),{next:function(){var t=e(this);if(n)return t.nextHandler();if(t.done)return u(void 0,!0);try{var a=t.nextHandler();return t.returnHandlerResult?a:u(a,t.done)}catch(n){throw t.done=!0,n}},return:function(){var t=e(this),i=t.iterator;if(t.done=!0,n){var r=c(i,"return");return r?a(r,i):u(void 0,!0)}if(t.inner)try{p(t.inner.iterator,"normal")}catch(n){return p(i,"throw",n)}if(t.openIters)try{m(t.openIters,"normal")}catch(n){return p(i,"throw",n)}return i&&p(i,"normal"),u(void 0,!0)}})},f=b(!0),y=b(!1);r(y,h,"Iterator Helper"),n.exports=function(n,e,t){var a=function(a,i){i?(i.iterator=a.iterator,i.next=a.next):i=a,i.type=e?"WrapForValidIterator":"IteratorHelper",i.returnHandlerResult=!!t,i.nextHandler=n,i.counter=0,i.done=!1,g(this,i)};return a.prototype=e?f:y,a}},function(n,e,t){"use strict";var a=t(4),i=t(12);n.exports=function(n,e,t,r){try{return r?e(a(t)[0],t[1]):e(t)}catch(e){i(n,"throw",e)}}},function(n,e,t){"use strict";n.exports=function(n,e){var t="function"==typeof Iterator&&Iterator.prototype[n];if(t)try{t.call({next:null},e).next()}catch(n){return!0}}},function(n,e,t){"use strict";n.exports={}},function(n,e,t){"use strict";var a=t(94),i=t(39),r=t(49),s=t(92),o=t(18)("iterator");n.exports=function(n){if(!r(n))return i(n,o)||i(n,"@@iterator")||s[a(n)]}},function(n,e,t){"use strict";var a=t(161),i=t(2),r=t(29),s=t(18)("toStringTag"),o=Object,l="Arguments"===r(function(){return arguments}());n.exports=a?r:function(n){var e,t,a;return void 0===n?"Undefined":null===n?"Null":"string"==typeof(t=function(n,e){try{return n[e]}catch(n){}}(e=o(n),s))?t:l?r(e):"Object"===(a=r(e))&&i(e.callee)?"Arguments":a}},function(n,e,t){"use strict";var a=t(34),i=Function.prototype,r=i.apply,s=i.call;n.exports="object"==typeof Reflect&&Reflect.apply||(a?s.bind(r):function(){return s.apply(r,arguments)})},function(n,e,t){"use strict";var a=t(165),i=t(9),r=t(48),s=t(166);n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n,e=!1,t={};try{(n=a(Object.prototype,"__proto__","set"))(t,[]),e=t instanceof Array}catch(n){}return function(t,a){return r(t),s(a),i(t)?(e?n(t,a):t.__proto__=a,t):t}}():void 0)},function(n,e){n.exports=function(n,e){for(var t=-1,a=e.length,i=n.length;++t<a;)n[i+t]=e[t];return n}},function(n,e){var t="object"==typeof global&&global&&global.Object===Object&&global;n.exports=t},function(n,e,t){var a=t(40),i=t(191),r=t(192),s=t(193),o=t(194),l=t(195);function c(n){var e=this.__data__=new a(n);this.size=e.size}c.prototype.clear=i,c.prototype.delete=r,c.prototype.get=s,c.prototype.has=o,c.prototype.set=l,n.exports=c},function(n,e){n.exports=function(n,e){return n===e||n!=n&&e!=e}},function(n,e,t){var a=t(28),i=t(58);n.exports=function(n){if(!i(n))return!1;var e=a(n);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(n,e){var t=Function.prototype.toString;n.exports=function(n){if(null!=n){try{return t.call(n)}catch(n){}try{return n+""}catch(n){}}return""}},function(n,e,t){var a=t(212),i=t(23);n.exports=function n(e,t,r,s,o){return e===t||(null==e||null==t||!i(e)&&!i(t)?e!=e&&t!=t:a(e,t,r,s,n,o))}},function(n,e,t){var a=t(105),i=t(215),r=t(106);n.exports=function(n,e,t,s,o,l){var c=1&t,d=n.length,u=e.length;if(d!=u&&!(c&&u>d))return!1;var p=l.get(n),m=l.get(e);if(p&&m)return p==e&&m==n;var h=-1,g=!0,b=2&t?new a:void 0;for(l.set(n,e),l.set(e,n);++h<d;){var f=n[h],y=e[h];if(s)var v=c?s(y,f,h,e,n,l):s(f,y,h,n,e,l);if(void 0!==v){if(v)continue;g=!1;break}if(b){if(!i(e,(function(n,e){if(!r(b,e)&&(f===n||o(f,n,t,s,l)))return b.push(e)}))){g=!1;break}}else if(f!==y&&!o(f,y,t,s,l)){g=!1;break}}return l.delete(n),l.delete(e),g}},function(n,e,t){var a=t(59),i=t(213),r=t(214);function s(n){var e=-1,t=null==n?0:n.length;for(this.__data__=new a;++e<t;)this.add(n[e])}s.prototype.add=s.prototype.push=i,s.prototype.has=r,n.exports=s},function(n,e){n.exports=function(n,e){return n.has(e)}},function(n,e,t){var a=t(225),i=t(231),r=t(111);n.exports=function(n){return r(n)?a(n):i(n)}},function(n,e,t){(function(n){var a=t(14),i=t(227),r=e&&!e.nodeType&&e,s=r&&"object"==typeof n&&n&&!n.nodeType&&n,o=s&&s.exports===r?a.Buffer:void 0,l=(o?o.isBuffer:void 0)||i;n.exports=l}).call(this,t(69)(n))},function(n,e){var t=/^(?:0|[1-9]\d*)$/;n.exports=function(n,e){var a=typeof n;return!!(e=null==e?9007199254740991:e)&&("number"==a||"symbol"!=a&&t.test(n))&&n>-1&&n%1==0&&n<e}},function(n,e,t){var a=t(228),i=t(229),r=t(230),s=r&&r.isTypedArray,o=s?i(s):a;n.exports=o},function(n,e,t){var a=t(101),i=t(61);n.exports=function(n){return null!=n&&i(n.length)&&!a(n)}},function(n,e,t){var a=t(20)(t(14),"Set");n.exports=a},function(n,e,t){var a=t(58);n.exports=function(n){return n==n&&!a(n)}},function(n,e){n.exports=function(n,e){return function(t){return null!=t&&(t[n]===e&&(void 0!==e||n in Object(t)))}}},function(n,e,t){var a=t(116),i=t(44);n.exports=function(n,e){for(var t=0,r=(e=a(e,n)).length;null!=n&&t<r;)n=n[i(e[t++])];return t&&t==r?n:void 0}},function(n,e,t){var a=t(13),i=t(62),r=t(242),s=t(245);n.exports=function(n,e){return a(n)?n:i(n,e)?[n]:r(s(n))}},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){var a=t(178),i=t(183),r=t(254),s=t(262),o=t(271),l=t(126),c=r((function(n){var e=l(n);return o(e)&&(e=void 0),s(a(n,1,o,!0),i(e,2))}));n.exports=c},function(n,e,t){"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var a=/["'&<>]/;n.exports=function(n){var e,t=""+n,i=a.exec(t);if(!i)return t;var r="",s=0,o=0;for(s=i.index;s<t.length;s++){switch(t.charCodeAt(s)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#39;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}o!==s&&(r+=t.substring(o,s)),o=s+1,r+=e}return o!==s?r+t.substring(o,s):r}},function(n,e,t){"use strict";t.r(e);var a={name:"CodeBlock",props:{title:{type:String,required:!0},active:{type:Boolean,default:!1}}},i=(t(274),t(15)),r=Object(i.a)(a,(function(){return(0,this._self._c)("div",{staticClass:"theme-code-block",class:{"theme-code-block__active":this.active}},[this._t("default")],2)}),[],!1,null,"4f1e9d0c",null);e.default=r.exports},function(n,e,t){"use strict";t.r(e);t(3),t(16),t(17),t(22);var a={name:"CodeGroup",data:()=>({codeTabs:[],activeCodeTabIndex:-1}),watch:{activeCodeTabIndex(n){this.codeTabs.forEach(n=>{n.elm.classList.remove("theme-code-block__active")}),this.codeTabs[n].elm.classList.add("theme-code-block__active")}},mounted(){this.codeTabs=(this.$slots.default||[]).filter(n=>Boolean(n.componentOptions)).map((n,e)=>(""===n.componentOptions.propsData.active&&(this.activeCodeTabIndex=e),{title:n.componentOptions.propsData.title,elm:n.elm})),-1===this.activeCodeTabIndex&&this.codeTabs.length>0&&(this.activeCodeTabIndex=0)},methods:{changeCodeTab(n){this.activeCodeTabIndex=n}}},i=(t(275),t(15)),r=Object(i.a)(a,(function(){var n=this,e=n._self._c;return e("div",{staticClass:"theme-code-group"},[e("div",{staticClass:"theme-code-group__nav"},[e("ul",{staticClass:"theme-code-group__ul"},n._l(n.codeTabs,(function(t,a){return e("li",{key:t.title,staticClass:"theme-code-group__li"},[e("button",{staticClass:"theme-code-group__nav-tab",class:{"theme-code-group__nav-tab-active":a===n.activeCodeTabIndex},on:{click:function(e){return n.changeCodeTab(a)}}},[n._v("\n            "+n._s(t.title)+"\n          ")])])})),0)]),n._v(" "),n._t("default"),n._v(" "),n.codeTabs.length<1?e("pre",{staticClass:"pre-blank"},[n._v("// Make sure to add code blocks to your code group")]):n._e()],2)}),[],!1,null,"2f5f1757",null);e.default=r.exports},function(n,e,t){"use strict";var a=t(94),i=String;n.exports=function(n){if("Symbol"===a(n))throw new TypeError("Cannot convert a Symbol value to a string");return i(n)}},function(n,e){n.exports=function(n){var e=null==n?0:n.length;return e?n[e-1]:void 0}},function(n,e,t){"use strict";var a=t(82),i=t(19);n.exports=function(n,e,t){return t.get&&a(t.get,e,{getter:!0}),t.set&&a(t.set,e,{setter:!0}),i.f(n,e,t)}},function(n,e,t){"use strict";var a=t(158),i=t(8),r=t(34),s=a(a.bind);n.exports=function(n,e){return i(n),void 0===e?n:r?s(n,e):function(){return n.apply(e,arguments)}}},function(n,e,t){n.exports=t(280)},function(n,e,t){"use strict";var a={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!a.call({1:2},1);e.f=r?function(n){var e=i(this,n);return!!e&&e.enumerable}:a},function(n,e,t){"use strict";var a=t(7),i=t(9),r=t(72),s=t(39),o=t(132),l=t(18),c=TypeError,d=l("toPrimitive");n.exports=function(n,e){if(!i(n)||r(n))return n;var t,l=s(n,d);if(l){if(void 0===e&&(e="default"),t=a(l,n,e),!i(t)||r(t))return t;throw new c("Can't convert object to primitive value")}return void 0===e&&(e="number"),o(n,e)}},function(n,e,t){"use strict";var a=t(7),i=t(2),r=t(9),s=TypeError;n.exports=function(n,e){var t,o;if("string"===e&&i(t=n.toString)&&!r(o=a(t,n)))return o;if(i(t=n.valueOf)&&!r(o=a(t,n)))return o;if("string"!==e&&i(t=n.toString)&&!r(o=a(t,n)))return o;throw new s("Can't convert object to primitive value")}},function(n,e,t){"use strict";var a=t(6),i=t(10),r=Function.prototype,s=a&&Object.getOwnPropertyDescriptor,o=i(r,"name"),l=o&&"something"===function(){}.name,c=o&&(!a||a&&s(r,"name").configurable);n.exports={EXISTS:o,PROPER:l,CONFIGURABLE:c}},function(n,e,t){"use strict";var a=t(5),i=t(2),r=t(51),s=a(Function.toString);i(r.inspectSource)||(r.inspectSource=function(n){return s(n)}),n.exports=r.inspectSource},function(n,e,t){"use strict";var a=t(0),i=t(2),r=a.WeakMap;n.exports=i(r)&&/native code/.test(String(r))},function(n,e,t){"use strict";var a=t(37),i=t(5),r=t(137),s=t(142),o=t(4),l=i([].concat);n.exports=a("Reflect","ownKeys")||function(n){var e=r.f(o(n)),t=s.f;return t?l(e,t(n)):e}},function(n,e,t){"use strict";var a=t(85),i=t(55).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(n){return a(n,i)}},function(n,e,t){"use strict";var a=t(36),i=t(139),r=t(33),s=function(n){return function(e,t,s){var o=a(e),l=r(o);if(0===l)return!n&&-1;var c,d=i(s,l);if(n&&t!=t){for(;l>d;)if((c=o[d++])!=c)return!0}else for(;l>d;d++)if((n||d in o)&&o[d]===t)return n||d||0;return!n&&-1}};n.exports={includes:s(!0),indexOf:s(!1)}},function(n,e,t){"use strict";var a=t(86),i=Math.max,r=Math.min;n.exports=function(n,e){var t=a(n);return t<0?i(t+e,0):r(t,e)}},function(n,e,t){"use strict";var a=Math.ceil,i=Math.floor;n.exports=Math.trunc||function(n){var e=+n;return(e>0?i:a)(e)}},function(n,e,t){"use strict";var a=t(86),i=Math.min;n.exports=function(n){var e=a(n);return e>0?i(e,9007199254740991):0}},function(n,e,t){"use strict";e.f=Object.getOwnPropertySymbols},function(n,e,t){"use strict";var a=t(1),i=t(2),r=/#|\.prototype\./,s=function(n,e){var t=l[o(n)];return t===d||t!==c&&(i(e)?a(e):!!e)},o=s.normalize=function(n){return String(n).replace(r,".").toLowerCase()},l=s.data={},c=s.NATIVE="N",d=s.POLYFILL="P";n.exports=s},function(n,e,t){"use strict";var a=t(38),i=TypeError;n.exports=function(n,e){if(a(e,n))return n;throw new i("Incorrect invocation")}},function(n,e,t){"use strict";var a=t(1);n.exports=!a((function(){function n(){}return n.prototype.constructor=null,Object.getPrototypeOf(new n)!==n.prototype}))},function(n,e,t){"use strict";var a=t(6),i=t(19),r=t(35);n.exports=function(n,e,t){a?i.f(n,e,r(0,t)):n[e]=t}},function(n,e,t){"use strict";var a=t(6),i=t(81),r=t(19),s=t(4),o=t(36),l=t(148);e.f=a&&!i?Object.defineProperties:function(n,e){s(n);for(var t,a=o(e),i=l(e),c=i.length,d=0;c>d;)r.f(n,t=i[d++],a[t]);return n}},function(n,e,t){"use strict";var a=t(85),i=t(55);n.exports=Object.keys||function(n){return a(n,i)}},function(n,e,t){"use strict";var a=t(37);n.exports=a("document","documentElement")},function(n,e,t){"use strict";var a=t(46);n.exports=function(n,e,t){for(var i in e)a(n,i,e[i],t);return n}},function(n,e,t){"use strict";n.exports=function(n,e){return{value:n,done:e}}},function(n,e,t){"use strict";var a=t(12);n.exports=function(n,e,t){for(var i=n.length-1;i>=0;i--)if(void 0!==n[i])try{t=a(n[i].iterator,e,t)}catch(n){e="throw",t=n}if("throw"===e)throw t;return t}},function(n,e,t){"use strict";var a=t(11),i=t(154).left,r=t(155),s=t(75);a({target:"Array",proto:!0,forced:!t(156)&&s>79&&s<83||!r("reduce")},{reduce:function(n){var e=arguments.length;return i(this,n,e,e>1?arguments[1]:void 0)}})},function(n,e,t){"use strict";var a=t(8),i=t(32),r=t(67),s=t(33),o=TypeError,l="Reduce of empty array with no initial value",c=function(n){return function(e,t,c,d){var u=i(e),p=r(u),m=s(u);if(a(t),0===m&&c<2)throw new o(l);var h=n?m-1:0,g=n?-1:1;if(c<2)for(;;){if(h in p){d=p[h],h+=g;break}if(h+=g,n?h<0:m<=h)throw new o(l)}for(;n?h>=0:m>h;h+=g)h in p&&(d=t(d,p[h],h,u));return d}};n.exports={left:c(!1),right:c(!0)}},function(n,e,t){"use strict";var a=t(1);n.exports=function(n,e){var t=[][n];return!!t&&a((function(){t.call(null,e||function(){return 1},1)}))}},function(n,e,t){"use strict";var a=t(157);n.exports="NODE"===a},function(n,e,t){"use strict";var a=t(0),i=t(76),r=t(29),s=function(n){return i.slice(0,n.length)===n};n.exports=s("Bun/")?"BUN":s("Cloudflare-Workers")?"CLOUDFLARE":s("Deno/")?"DENO":s("Node.js/")?"NODE":a.Bun&&"string"==typeof Bun.version?"BUN":a.Deno&&"object"==typeof Deno.version?"DENO":"process"===r(a.process)?"NODE":a.window&&a.document?"BROWSER":"REST"},function(n,e,t){"use strict";var a=t(29),i=t(5);n.exports=function(n){if("Function"===a(n))return i(n)}},function(n,e,t){"use strict";var a=t(18),i=t(92),r=a("iterator"),s=Array.prototype;n.exports=function(n){return void 0!==n&&(i.Array===n||s[r]===n)}},function(n,e,t){"use strict";var a=t(7),i=t(8),r=t(4),s=t(50),o=t(93),l=TypeError;n.exports=function(n,e){var t=arguments.length<2?o(n):e;if(i(t))return r(a(t,n));throw new l(s(n)+" is not iterable")}},function(n,e,t){"use strict";var a={};a[t(18)("toStringTag")]="z",n.exports="[object z]"===String(a)},function(n,e,t){"use strict";var a=t(11),i=t(47),r=t(8),s=t(4),o=t(26),l=t(12),c=t(27),d=t(95),u=t(1),p=TypeError,m=u((function(){[].keys().reduce((function(){}),void 0)})),h=!m&&c("reduce",p);a({target:"Iterator",proto:!0,real:!0,forced:m||h},{reduce:function(n){s(this);try{r(n)}catch(n){l(this,"throw",n)}var e=arguments.length<2,t=e?void 0:arguments[1];if(h)return d(h,this,e?[n]:[n,t]);var a=o(this),c=0;if(i(a,(function(a){e?(e=!1,t=a):t=n(t,a,c),c++}),{IS_RECORD:!0}),e)throw new p("Reduce of empty iterator with no initial value");return t}})},function(n,e,t){"use strict";var a=t(11),i=t(0),r=t(95),s=t(164),o=i.WebAssembly,l=7!==new Error("e",{cause:7}).cause,c=function(n,e){var t={};t[n]=s(n,e,l),a({global:!0,constructor:!0,arity:1,forced:l},t)},d=function(n,e){if(o&&o[n]){var t={};t[n]=s("WebAssembly."+n,e,l),a({target:"WebAssembly",stat:!0,constructor:!0,arity:1,forced:l},t)}};c("Error",(function(n){return function(e){return r(n,this,arguments)}})),c("EvalError",(function(n){return function(e){return r(n,this,arguments)}})),c("RangeError",(function(n){return function(e){return r(n,this,arguments)}})),c("ReferenceError",(function(n){return function(e){return r(n,this,arguments)}})),c("SyntaxError",(function(n){return function(e){return r(n,this,arguments)}})),c("TypeError",(function(n){return function(e){return r(n,this,arguments)}})),c("URIError",(function(n){return function(e){return r(n,this,arguments)}})),d("CompileError",(function(n){return function(e){return r(n,this,arguments)}})),d("LinkError",(function(n){return function(e){return r(n,this,arguments)}})),d("RuntimeError",(function(n){return function(e){return r(n,this,arguments)}}))},function(n,e,t){"use strict";var a=t(37),i=t(10),r=t(25),s=t(38),o=t(96),l=t(84),c=t(168),d=t(169),u=t(170),p=t(171),m=t(172),h=t(6),g=t(24);n.exports=function(n,e,t,b){var f=b?2:1,y=n.split("."),v=y[y.length-1],k=a.apply(null,y);if(k){var x=k.prototype;if(!g&&i(x,"cause")&&delete x.cause,!t)return k;var w=a("Error"),_=e((function(n,e){var t=u(b?e:n,void 0),a=b?new k(n):new k;return void 0!==t&&r(a,"message",t),m(a,_,a.stack,2),this&&s(x,this)&&d(a,this,_),arguments.length>f&&p(a,arguments[f]),a}));if(_.prototype=x,"Error"!==v?o?o(_,w):l(_,w,{name:!0}):h&&"stackTraceLimit"in k&&(c(_,k,"stackTraceLimit"),c(_,k,"prepareStackTrace")),l(_,k),!g)try{x.name!==v&&r(x,"name",v),x.constructor=_}catch(n){}return _}}},function(n,e,t){"use strict";var a=t(5),i=t(8);n.exports=function(n,e,t){try{return a(i(Object.getOwnPropertyDescriptor(n,e)[t]))}catch(n){}}},function(n,e,t){"use strict";var a=t(167),i=String,r=TypeError;n.exports=function(n){if(a(n))return n;throw new r("Can't set "+i(n)+" as a prototype")}},function(n,e,t){"use strict";var a=t(9);n.exports=function(n){return a(n)||null===n}},function(n,e,t){"use strict";var a=t(19).f;n.exports=function(n,e,t){t in n||a(n,t,{configurable:!0,get:function(){return e[t]},set:function(n){e[t]=n}})}},function(n,e,t){"use strict";var a=t(2),i=t(9),r=t(96);n.exports=function(n,e,t){var s,o;return r&&a(s=e.constructor)&&s!==t&&i(o=s.prototype)&&o!==t.prototype&&r(n,o),n}},function(n,e,t){"use strict";var a=t(125);n.exports=function(n,e){return void 0===n?arguments.length<2?"":e:a(n)}},function(n,e,t){"use strict";var a=t(9),i=t(25);n.exports=function(n,e){a(e)&&"cause"in e&&i(n,"cause",e.cause)}},function(n,e,t){"use strict";var a=t(25),i=t(173),r=t(174),s=Error.captureStackTrace;n.exports=function(n,e,t,o){r&&(s?s(n,e):a(n,"stack",i(t,o)))}},function(n,e,t){"use strict";var a=t(5),i=Error,r=a("".replace),s=String(new i("zxcasd").stack),o=/\n\s*at [^:]*:[^\n]*/,l=o.test(s);n.exports=function(n,e){if(l&&"string"==typeof n&&!i.prepareStackTrace)for(;e--;)n=r(n,o,"");return n}},function(n,e,t){"use strict";var a=t(1),i=t(35);n.exports=!a((function(){var n=new Error("a");return!("stack"in n)||(Object.defineProperty(n,"stack",i(1,7)),7!==n.stack)}))},function(n,e,t){"use strict";var a=t(6),i=t(176),r=TypeError,s=Object.getOwnPropertyDescriptor,o=a&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(n){return n instanceof TypeError}}();n.exports=o?function(n,e){if(i(n)&&!s(n,"length").writable)throw new r("Cannot set read only .length");return n.length=e}:function(n,e){return n.length=e}},function(n,e,t){"use strict";var a=t(29);n.exports=Array.isArray||function(n){return"Array"===a(n)}},function(n,e,t){"use strict";var a=TypeError;n.exports=function(n){if(n>9007199254740991)throw a("Maximum allowed index exceeded");return n}},function(n,e,t){var a=t(97),i=t(179);n.exports=function n(e,t,r,s,o){var l=-1,c=e.length;for(r||(r=i),o||(o=[]);++l<c;){var d=e[l];t>0&&r(d)?t>1?n(d,t-1,r,s,o):a(o,d):s||(o[o.length]=d)}return o}},function(n,e,t){var a=t(30),i=t(56),r=t(13),s=a?a.isConcatSpreadable:void 0;n.exports=function(n){return r(n)||i(n)||!!(s&&n&&n[s])}},function(n,e,t){var a=t(28),i=t(23);n.exports=function(n){return i(n)&&"[object Arguments]"==a(n)}},function(n,e,t){var a=t(30),i=Object.prototype,r=i.hasOwnProperty,s=i.toString,o=a?a.toStringTag:void 0;n.exports=function(n){var e=r.call(n,o),t=n[o];try{n[o]=void 0;var a=!0}catch(n){}var i=s.call(n);return a&&(e?n[o]=t:delete n[o]),i}},function(n,e){var t=Object.prototype.toString;n.exports=function(n){return t.call(n)}},function(n,e,t){var a=t(184),i=t(240),r=t(64),s=t(13),o=t(251);n.exports=function(n){return"function"==typeof n?n:null==n?r:"object"==typeof n?s(n)?i(n[0],n[1]):a(n):o(n)}},function(n,e,t){var a=t(185),i=t(239),r=t(114);n.exports=function(n){var e=i(n);return 1==e.length&&e[0][2]?r(e[0][0],e[0][1]):function(t){return t===n||a(t,n,e)}}},function(n,e,t){var a=t(99),i=t(103);n.exports=function(n,e,t,r){var s=t.length,o=s,l=!r;if(null==n)return!o;for(n=Object(n);s--;){var c=t[s];if(l&&c[2]?c[1]!==n[c[0]]:!(c[0]in n))return!1}for(;++s<o;){var d=(c=t[s])[0],u=n[d],p=c[1];if(l&&c[2]){if(void 0===u&&!(d in n))return!1}else{var m=new a;if(r)var h=r(u,p,d,n,e,m);if(!(void 0===h?i(p,u,3,r,m):h))return!1}}return!0}},function(n,e){n.exports=function(){this.__data__=[],this.size=0}},function(n,e,t){var a=t(41),i=Array.prototype.splice;n.exports=function(n){var e=this.__data__,t=a(e,n);return!(t<0)&&(t==e.length-1?e.pop():i.call(e,t,1),--this.size,!0)}},function(n,e,t){var a=t(41);n.exports=function(n){var e=this.__data__,t=a(e,n);return t<0?void 0:e[t][1]}},function(n,e,t){var a=t(41);n.exports=function(n){return a(this.__data__,n)>-1}},function(n,e,t){var a=t(41);n.exports=function(n,e){var t=this.__data__,i=a(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this}},function(n,e,t){var a=t(40);n.exports=function(){this.__data__=new a,this.size=0}},function(n,e){n.exports=function(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}},function(n,e){n.exports=function(n){return this.__data__.get(n)}},function(n,e){n.exports=function(n){return this.__data__.has(n)}},function(n,e,t){var a=t(40),i=t(57),r=t(59);n.exports=function(n,e){var t=this.__data__;if(t instanceof a){var s=t.__data__;if(!i||s.length<199)return s.push([n,e]),this.size=++t.size,this;t=this.__data__=new r(s)}return t.set(n,e),this.size=t.size,this}},function(n,e,t){var a=t(101),i=t(197),r=t(58),s=t(102),o=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,d=l.toString,u=c.hasOwnProperty,p=RegExp("^"+d.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=function(n){return!(!r(n)||i(n))&&(a(n)?p:o).test(s(n))}},function(n,e,t){var a,i=t(198),r=(a=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+a:"";n.exports=function(n){return!!r&&r in n}},function(n,e,t){var a=t(14)["__core-js_shared__"];n.exports=a},function(n,e){n.exports=function(n,e){return null==n?void 0:n[e]}},function(n,e,t){var a=t(201),i=t(40),r=t(57);n.exports=function(){this.size=0,this.__data__={hash:new a,map:new(r||i),string:new a}}},function(n,e,t){var a=t(202),i=t(203),r=t(204),s=t(205),o=t(206);function l(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var a=n[e];this.set(a[0],a[1])}}l.prototype.clear=a,l.prototype.delete=i,l.prototype.get=r,l.prototype.has=s,l.prototype.set=o,n.exports=l},function(n,e,t){var a=t(42);n.exports=function(){this.__data__=a?a(null):{},this.size=0}},function(n,e){n.exports=function(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}},function(n,e,t){var a=t(42),i=Object.prototype.hasOwnProperty;n.exports=function(n){var e=this.__data__;if(a){var t=e[n];return"__lodash_hash_undefined__"===t?void 0:t}return i.call(e,n)?e[n]:void 0}},function(n,e,t){var a=t(42),i=Object.prototype.hasOwnProperty;n.exports=function(n){var e=this.__data__;return a?void 0!==e[n]:i.call(e,n)}},function(n,e,t){var a=t(42);n.exports=function(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=a&&void 0===e?"__lodash_hash_undefined__":e,this}},function(n,e,t){var a=t(43);n.exports=function(n){var e=a(this,n).delete(n);return this.size-=e?1:0,e}},function(n,e){n.exports=function(n){var e=typeof n;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n}},function(n,e,t){var a=t(43);n.exports=function(n){return a(this,n).get(n)}},function(n,e,t){var a=t(43);n.exports=function(n){return a(this,n).has(n)}},function(n,e,t){var a=t(43);n.exports=function(n,e){var t=a(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this}},function(n,e,t){var a=t(99),i=t(104),r=t(216),s=t(219),o=t(235),l=t(13),c=t(108),d=t(110),u="[object Object]",p=Object.prototype.hasOwnProperty;n.exports=function(n,e,t,m,h,g){var b=l(n),f=l(e),y=b?"[object Array]":o(n),v=f?"[object Array]":o(e),k=(y="[object Arguments]"==y?u:y)==u,x=(v="[object Arguments]"==v?u:v)==u,w=y==v;if(w&&c(n)){if(!c(e))return!1;b=!0,k=!1}if(w&&!k)return g||(g=new a),b||d(n)?i(n,e,t,m,h,g):r(n,e,y,t,m,h,g);if(!(1&t)){var _=k&&p.call(n,"__wrapped__"),S=x&&p.call(e,"__wrapped__");if(_||S){var j=_?n.value():n,E=S?e.value():e;return g||(g=new a),h(j,E,t,m,g)}}return!!w&&(g||(g=new a),s(n,e,t,m,h,g))}},function(n,e){n.exports=function(n){return this.__data__.set(n,"__lodash_hash_undefined__"),this}},function(n,e){n.exports=function(n){return this.__data__.has(n)}},function(n,e){n.exports=function(n,e){for(var t=-1,a=null==n?0:n.length;++t<a;)if(e(n[t],t,n))return!0;return!1}},function(n,e,t){var a=t(30),i=t(217),r=t(100),s=t(104),o=t(218),l=t(60),c=a?a.prototype:void 0,d=c?c.valueOf:void 0;n.exports=function(n,e,t,a,c,u,p){switch(t){case"[object DataView]":if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(n.byteLength!=e.byteLength||!u(new i(n),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return r(+n,+e);case"[object Error]":return n.name==e.name&&n.message==e.message;case"[object RegExp]":case"[object String]":return n==e+"";case"[object Map]":var m=o;case"[object Set]":var h=1&a;if(m||(m=l),n.size!=e.size&&!h)return!1;var g=p.get(n);if(g)return g==e;a|=2,p.set(n,e);var b=s(m(n),m(e),a,c,u,p);return p.delete(n),b;case"[object Symbol]":if(d)return d.call(n)==d.call(e)}return!1}},function(n,e,t){var a=t(14).Uint8Array;n.exports=a},function(n,e){n.exports=function(n){var e=-1,t=Array(n.size);return n.forEach((function(n,a){t[++e]=[a,n]})),t}},function(n,e,t){var a=t(220),i=Object.prototype.hasOwnProperty;n.exports=function(n,e,t,r,s,o){var l=1&t,c=a(n),d=c.length;if(d!=a(e).length&&!l)return!1;for(var u=d;u--;){var p=c[u];if(!(l?p in e:i.call(e,p)))return!1}var m=o.get(n),h=o.get(e);if(m&&h)return m==e&&h==n;var g=!0;o.set(n,e),o.set(e,n);for(var b=l;++u<d;){var f=n[p=c[u]],y=e[p];if(r)var v=l?r(y,f,p,e,n,o):r(f,y,p,n,e,o);if(!(void 0===v?f===y||s(f,y,t,r,o):v)){g=!1;break}b||(b="constructor"==p)}if(g&&!b){var k=n.constructor,x=e.constructor;k==x||!("constructor"in n)||!("constructor"in e)||"function"==typeof k&&k instanceof k&&"function"==typeof x&&x instanceof x||(g=!1)}return o.delete(n),o.delete(e),g}},function(n,e,t){var a=t(221),i=t(222),r=t(107);n.exports=function(n){return a(n,r,i)}},function(n,e,t){var a=t(97),i=t(13);n.exports=function(n,e,t){var r=e(n);return i(n)?r:a(r,t(n))}},function(n,e,t){var a=t(223),i=t(224),r=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,o=s?function(n){return null==n?[]:(n=Object(n),a(s(n),(function(e){return r.call(n,e)})))}:i;n.exports=o},function(n,e){n.exports=function(n,e){for(var t=-1,a=null==n?0:n.length,i=0,r=[];++t<a;){var s=n[t];e(s,t,n)&&(r[i++]=s)}return r}},function(n,e){n.exports=function(){return[]}},function(n,e,t){var a=t(226),i=t(56),r=t(13),s=t(108),o=t(109),l=t(110),c=Object.prototype.hasOwnProperty;n.exports=function(n,e){var t=r(n),d=!t&&i(n),u=!t&&!d&&s(n),p=!t&&!d&&!u&&l(n),m=t||d||u||p,h=m?a(n.length,String):[],g=h.length;for(var b in n)!e&&!c.call(n,b)||m&&("length"==b||u&&("offset"==b||"parent"==b)||p&&("buffer"==b||"byteLength"==b||"byteOffset"==b)||o(b,g))||h.push(b);return h}},function(n,e){n.exports=function(n,e){for(var t=-1,a=Array(n);++t<n;)a[t]=e(t);return a}},function(n,e){n.exports=function(){return!1}},function(n,e,t){var a=t(28),i=t(61),r=t(23),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,n.exports=function(n){return r(n)&&i(n.length)&&!!s[a(n)]}},function(n,e){n.exports=function(n){return function(e){return n(e)}}},function(n,e,t){(function(n){var a=t(98),i=e&&!e.nodeType&&e,r=i&&"object"==typeof n&&n&&!n.nodeType&&n,s=r&&r.exports===i&&a.process,o=function(){try{var n=r&&r.require&&r.require("util").types;return n||s&&s.binding&&s.binding("util")}catch(n){}}();n.exports=o}).call(this,t(69)(n))},function(n,e,t){var a=t(232),i=t(233),r=Object.prototype.hasOwnProperty;n.exports=function(n){if(!a(n))return i(n);var e=[];for(var t in Object(n))r.call(n,t)&&"constructor"!=t&&e.push(t);return e}},function(n,e){var t=Object.prototype;n.exports=function(n){var e=n&&n.constructor;return n===("function"==typeof e&&e.prototype||t)}},function(n,e,t){var a=t(234)(Object.keys,Object);n.exports=a},function(n,e){n.exports=function(n,e){return function(t){return n(e(t))}}},function(n,e,t){var a=t(236),i=t(57),r=t(237),s=t(112),o=t(238),l=t(28),c=t(102),d=c(a),u=c(i),p=c(r),m=c(s),h=c(o),g=l;(a&&"[object DataView]"!=g(new a(new ArrayBuffer(1)))||i&&"[object Map]"!=g(new i)||r&&"[object Promise]"!=g(r.resolve())||s&&"[object Set]"!=g(new s)||o&&"[object WeakMap]"!=g(new o))&&(g=function(n){var e=l(n),t="[object Object]"==e?n.constructor:void 0,a=t?c(t):"";if(a)switch(a){case d:return"[object DataView]";case u:return"[object Map]";case p:return"[object Promise]";case m:return"[object Set]";case h:return"[object WeakMap]"}return e}),n.exports=g},function(n,e,t){var a=t(20)(t(14),"DataView");n.exports=a},function(n,e,t){var a=t(20)(t(14),"Promise");n.exports=a},function(n,e,t){var a=t(20)(t(14),"WeakMap");n.exports=a},function(n,e,t){var a=t(113),i=t(107);n.exports=function(n){for(var e=i(n),t=e.length;t--;){var r=e[t],s=n[r];e[t]=[r,s,a(s)]}return e}},function(n,e,t){var a=t(103),i=t(241),r=t(248),s=t(62),o=t(113),l=t(114),c=t(44);n.exports=function(n,e){return s(n)&&o(e)?l(c(n),e):function(t){var s=i(t,n);return void 0===s&&s===e?r(t,n):a(e,s,3)}}},function(n,e,t){var a=t(115);n.exports=function(n,e,t){var i=null==n?void 0:a(n,e);return void 0===i?t:i}},function(n,e,t){var a=t(243),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,s=a((function(n){var e=[];return 46===n.charCodeAt(0)&&e.push(""),n.replace(i,(function(n,t,a,i){e.push(a?i.replace(r,"$1"):t||n)})),e}));n.exports=s},function(n,e,t){var a=t(244);n.exports=function(n){var e=a(n,(function(n){return 500===t.size&&t.clear(),n})),t=e.cache;return e}},function(n,e,t){var a=t(59);function i(n,e){if("function"!=typeof n||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var t=function(){var a=arguments,i=e?e.apply(this,a):a[0],r=t.cache;if(r.has(i))return r.get(i);var s=n.apply(this,a);return t.cache=r.set(i,s)||r,s};return t.cache=new(i.Cache||a),t}i.Cache=a,n.exports=i},function(n,e,t){var a=t(246);n.exports=function(n){return null==n?"":a(n)}},function(n,e,t){var a=t(30),i=t(247),r=t(13),s=t(63),o=a?a.prototype:void 0,l=o?o.toString:void 0;n.exports=function n(e){if("string"==typeof e)return e;if(r(e))return i(e,n)+"";if(s(e))return l?l.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(n,e){n.exports=function(n,e){for(var t=-1,a=null==n?0:n.length,i=Array(a);++t<a;)i[t]=e(n[t],t,n);return i}},function(n,e,t){var a=t(249),i=t(250);n.exports=function(n,e){return null!=n&&i(n,e,a)}},function(n,e){n.exports=function(n,e){return null!=n&&e in Object(n)}},function(n,e,t){var a=t(116),i=t(56),r=t(13),s=t(109),o=t(61),l=t(44);n.exports=function(n,e,t){for(var c=-1,d=(e=a(e,n)).length,u=!1;++c<d;){var p=l(e[c]);if(!(u=null!=n&&t(n,p)))break;n=n[p]}return u||++c!=d?u:!!(d=null==n?0:n.length)&&o(d)&&s(p,d)&&(r(n)||i(n))}},function(n,e,t){var a=t(252),i=t(253),r=t(62),s=t(44);n.exports=function(n){return r(n)?a(s(n)):i(n)}},function(n,e){n.exports=function(n){return function(e){return null==e?void 0:e[n]}}},function(n,e,t){var a=t(115);n.exports=function(n){return function(e){return a(e,n)}}},function(n,e,t){var a=t(64),i=t(255),r=t(257);n.exports=function(n,e){return r(i(n,e,a),n+"")}},function(n,e,t){var a=t(256),i=Math.max;n.exports=function(n,e,t){return e=i(void 0===e?n.length-1:e,0),function(){for(var r=arguments,s=-1,o=i(r.length-e,0),l=Array(o);++s<o;)l[s]=r[e+s];s=-1;for(var c=Array(e+1);++s<e;)c[s]=r[s];return c[e]=t(l),a(n,this,c)}}},function(n,e){n.exports=function(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}},function(n,e,t){var a=t(258),i=t(261)(a);n.exports=i},function(n,e,t){var a=t(259),i=t(260),r=t(64),s=i?function(n,e){return i(n,"toString",{configurable:!0,enumerable:!1,value:a(e),writable:!0})}:r;n.exports=s},function(n,e){n.exports=function(n){return function(){return n}}},function(n,e,t){var a=t(20),i=function(){try{var n=a(Object,"defineProperty");return n({},"",{}),n}catch(n){}}();n.exports=i},function(n,e){var t=Date.now;n.exports=function(n){var e=0,a=0;return function(){var i=t(),r=16-(i-a);if(a=i,r>0){if(++e>=800)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}},function(n,e,t){var a=t(105),i=t(263),r=t(268),s=t(106),o=t(269),l=t(60);n.exports=function(n,e,t){var c=-1,d=i,u=n.length,p=!0,m=[],h=m;if(t)p=!1,d=r;else if(u>=200){var g=e?null:o(n);if(g)return l(g);p=!1,d=s,h=new a}else h=e?[]:m;n:for(;++c<u;){var b=n[c],f=e?e(b):b;if(b=t||0!==b?b:0,p&&f==f){for(var y=h.length;y--;)if(h[y]===f)continue n;e&&h.push(f),m.push(b)}else d(h,f,t)||(h!==m&&h.push(f),m.push(b))}return m}},function(n,e,t){var a=t(264);n.exports=function(n,e){return!!(null==n?0:n.length)&&a(n,e,0)>-1}},function(n,e,t){var a=t(265),i=t(266),r=t(267);n.exports=function(n,e,t){return e==e?r(n,e,t):a(n,i,t)}},function(n,e){n.exports=function(n,e,t,a){for(var i=n.length,r=t+(a?1:-1);a?r--:++r<i;)if(e(n[r],r,n))return r;return-1}},function(n,e){n.exports=function(n){return n!=n}},function(n,e){n.exports=function(n,e,t){for(var a=t-1,i=n.length;++a<i;)if(n[a]===e)return a;return-1}},function(n,e){n.exports=function(n,e,t){for(var a=-1,i=null==n?0:n.length;++a<i;)if(t(e,n[a]))return!0;return!1}},function(n,e,t){var a=t(112),i=t(270),r=t(60),s=a&&1/r(new a([,-0]))[1]==1/0?function(n){return new a(n)}:i;n.exports=s},function(n,e){n.exports=function(){}},function(n,e,t){var a=t(111),i=t(23);n.exports=function(n){return i(n)&&a(n)}},function(n,e,t){},function(n,e,t){},function(n,e,t){"use strict";t(117)},function(n,e,t){"use strict";t(118)},function(n,e,t){},function(n,e,t){},function(n,e,t){"use strict";t(119)},function(n,e,t){"use strict";t(120)},function(n,e,t){"use strict";t.r(e);t(3),t(16),t(22);var a=Object.freeze({}),i=Array.isArray;function r(n){return null==n}function s(n){return null!=n}function o(n){return!0===n}function l(n){return"string"==typeof n||"number"==typeof n||"symbol"==typeof n||"boolean"==typeof n}function c(n){return"function"==typeof n}function d(n){return null!==n&&"object"==typeof n}var u=Object.prototype.toString;function p(n){return"[object Object]"===u.call(n)}function m(n){return"[object RegExp]"===u.call(n)}function h(n){var e=parseFloat(String(n));return e>=0&&Math.floor(e)===e&&isFinite(n)}function g(n){return s(n)&&"function"==typeof n.then&&"function"==typeof n.catch}function b(n){return null==n?"":Array.isArray(n)||p(n)&&n.toString===u?JSON.stringify(n,f,2):String(n)}function f(n,e){return e&&e.__v_isRef?e.value:e}function y(n){var e=parseFloat(n);return isNaN(e)?n:e}function v(n,e){for(var t=Object.create(null),a=n.split(","),i=0;i<a.length;i++)t[a[i]]=!0;return e?function(n){return t[n.toLowerCase()]}:function(n){return t[n]}}v("slot,component",!0);var k=v("key,ref,slot,slot-scope,is");function x(n,e){var t=n.length;if(t){if(e===n[t-1])return void(n.length=t-1);var a=n.indexOf(e);if(a>-1)return n.splice(a,1)}}var w=Object.prototype.hasOwnProperty;function _(n,e){return w.call(n,e)}function S(n){var e=Object.create(null);return function(t){return e[t]||(e[t]=n(t))}}var j=/-(\w)/g,E=S((function(n){return n.replace(j,(function(n,e){return e?e.toUpperCase():""}))})),T=S((function(n){return n.charAt(0).toUpperCase()+n.slice(1)})),C=/\B([A-Z])/g,q=S((function(n){return n.replace(C,"-$1").toLowerCase()}));var I=Function.prototype.bind?function(n,e){return n.bind(e)}:function(n,e){function t(t){var a=arguments.length;return a?a>1?n.apply(e,arguments):n.call(e,t):n.call(e)}return t._length=n.length,t};function A(n,e){e=e||0;for(var t=n.length-e,a=new Array(t);t--;)a[t]=n[t+e];return a}function M(n,e){for(var t in e)n[t]=e[t];return n}function z(n){for(var e={},t=0;t<n.length;t++)n[t]&&M(e,n[t]);return e}function L(n,e,t){}var D=function(n,e,t){return!1},R=function(n){return n};function B(n,e){if(n===e)return!0;var t=d(n),a=d(e);if(!t||!a)return!t&&!a&&String(n)===String(e);try{var i=Array.isArray(n),r=Array.isArray(e);if(i&&r)return n.length===e.length&&n.every((function(n,t){return B(n,e[t])}));if(n instanceof Date&&e instanceof Date)return n.getTime()===e.getTime();if(i||r)return!1;var s=Object.keys(n),o=Object.keys(e);return s.length===o.length&&s.every((function(t){return B(n[t],e[t])}))}catch(n){return!1}}function O(n,e){for(var t=0;t<n.length;t++)if(B(n[t],e))return t;return-1}function P(n){var e=!1;return function(){e||(e=!0,n.apply(this,arguments))}}function N(n,e){return n===e?0===n&&1/n!=1/e:n==n||e==e}var U=["component","directive","filter"],J=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],Q={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:D,isReservedAttr:D,isUnknownElement:D,getTagNamespace:L,parsePlatformTagName:R,mustUseProp:D,async:!0,_lifecycleHooks:J},H=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function F(n){var e=(n+"").charCodeAt(0);return 36===e||95===e}function V(n,e,t,a){Object.defineProperty(n,e,{value:t,enumerable:!!a,writable:!0,configurable:!0})}var G=new RegExp("[^".concat(H.source,".$_\\d]"));var $="__proto__"in{},W="undefined"!=typeof window,K=W&&window.navigator.userAgent.toLowerCase(),Y=K&&/msie|trident/.test(K),X=K&&K.indexOf("msie 9.0")>0,Z=K&&K.indexOf("edge/")>0;K&&K.indexOf("android");var nn=K&&/iphone|ipad|ipod|ios/.test(K);K&&/chrome\/\d+/.test(K),K&&/phantomjs/.test(K);var en,tn=K&&K.match(/firefox\/(\d+)/),an={}.watch,rn=!1;if(W)try{var sn={};Object.defineProperty(sn,"passive",{get:function(){rn=!0}}),window.addEventListener("test-passive",null,sn)}catch(n){}var on=function(){return void 0===en&&(en=!W&&"undefined"!=typeof global&&(global.process&&"server"===global.process.env.VUE_ENV)),en},ln=W&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function cn(n){return"function"==typeof n&&/native code/.test(n.toString())}var dn,un="undefined"!=typeof Symbol&&cn(Symbol)&&"undefined"!=typeof Reflect&&cn(Reflect.ownKeys);dn="undefined"!=typeof Set&&cn(Set)?Set:function(){function n(){this.set=Object.create(null)}return n.prototype.has=function(n){return!0===this.set[n]},n.prototype.add=function(n){this.set[n]=!0},n.prototype.clear=function(){this.set=Object.create(null)},n}();var pn=null;function mn(n){void 0===n&&(n=null),n||pn&&pn._scope.off(),pn=n,n&&n._scope.on()}var hn=function(){function n(n,e,t,a,i,r,s,o){this.tag=n,this.data=e,this.children=t,this.text=a,this.elm=i,this.ns=void 0,this.context=r,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=o,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(n.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),n}(),gn=function(n){void 0===n&&(n="");var e=new hn;return e.text=n,e.isComment=!0,e};function bn(n){return new hn(void 0,void 0,void 0,String(n))}function fn(n){var e=new hn(n.tag,n.data,n.children&&n.children.slice(),n.text,n.elm,n.context,n.componentOptions,n.asyncFactory);return e.ns=n.ns,e.isStatic=n.isStatic,e.key=n.key,e.isComment=n.isComment,e.fnContext=n.fnContext,e.fnOptions=n.fnOptions,e.fnScopeId=n.fnScopeId,e.asyncMeta=n.asyncMeta,e.isCloned=!0,e}"function"==typeof SuppressedError&&SuppressedError;var yn=0,vn=[],kn=function(){function n(){this._pending=!1,this.id=yn++,this.subs=[]}return n.prototype.addSub=function(n){this.subs.push(n)},n.prototype.removeSub=function(n){this.subs[this.subs.indexOf(n)]=null,this._pending||(this._pending=!0,vn.push(this))},n.prototype.depend=function(e){n.target&&n.target.addDep(this)},n.prototype.notify=function(n){var e=this.subs.filter((function(n){return n}));for(var t=0,a=e.length;t<a;t++){0,e[t].update()}},n}();kn.target=null;var xn=[];function wn(n){xn.push(n),kn.target=n}function _n(){xn.pop(),kn.target=xn[xn.length-1]}var Sn=Array.prototype,jn=Object.create(Sn);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(n){var e=Sn[n];V(jn,n,(function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];var i,r=e.apply(this,t),s=this.__ob__;switch(n){case"push":case"unshift":i=t;break;case"splice":i=t.slice(2)}return i&&s.observeArray(i),s.dep.notify(),r}))}));var En=Object.getOwnPropertyNames(jn),Tn={},Cn=!0;function qn(n){Cn=n}var In={notify:L,depend:L,addSub:L,removeSub:L},An=function(){function n(n,e,t){if(void 0===e&&(e=!1),void 0===t&&(t=!1),this.value=n,this.shallow=e,this.mock=t,this.dep=t?In:new kn,this.vmCount=0,V(n,"__ob__",this),i(n)){if(!t)if($)n.__proto__=jn;else for(var a=0,r=En.length;a<r;a++){V(n,o=En[a],jn[o])}e||this.observeArray(n)}else{var s=Object.keys(n);for(a=0;a<s.length;a++){var o;zn(n,o=s[a],Tn,void 0,e,t)}}}return n.prototype.observeArray=function(n){for(var e=0,t=n.length;e<t;e++)Mn(n[e],!1,this.mock)},n}();function Mn(n,e,t){return n&&_(n,"__ob__")&&n.__ob__ instanceof An?n.__ob__:!Cn||!t&&on()||!i(n)&&!p(n)||!Object.isExtensible(n)||n.__v_skip||Nn(n)||n instanceof hn?void 0:new An(n,e,t)}function zn(n,e,t,a,r,s,o){void 0===o&&(o=!1);var l=new kn,c=Object.getOwnPropertyDescriptor(n,e);if(!c||!1!==c.configurable){var d=c&&c.get,u=c&&c.set;d&&!u||t!==Tn&&2!==arguments.length||(t=n[e]);var p=r?t&&t.__ob__:Mn(t,!1,s);return Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:function(){var e=d?d.call(n):t;return kn.target&&(l.depend(),p&&(p.dep.depend(),i(e)&&Rn(e))),Nn(e)&&!r?e.value:e},set:function(e){var a=d?d.call(n):t;if(N(a,e)){if(u)u.call(n,e);else{if(d)return;if(!r&&Nn(a)&&!Nn(e))return void(a.value=e);t=e}p=r?e&&e.__ob__:Mn(e,!1,s),l.notify()}}}),l}}function Ln(n,e,t){if(!Pn(n)){var a=n.__ob__;return i(n)&&h(e)?(n.length=Math.max(n.length,e),n.splice(e,1,t),a&&!a.shallow&&a.mock&&Mn(t,!1,!0),t):e in n&&!(e in Object.prototype)?(n[e]=t,t):n._isVue||a&&a.vmCount?t:a?(zn(a.value,e,t,void 0,a.shallow,a.mock),a.dep.notify(),t):(n[e]=t,t)}}function Dn(n,e){if(i(n)&&h(e))n.splice(e,1);else{var t=n.__ob__;n._isVue||t&&t.vmCount||Pn(n)||_(n,e)&&(delete n[e],t&&t.dep.notify())}}function Rn(n){for(var e=void 0,t=0,a=n.length;t<a;t++)(e=n[t])&&e.__ob__&&e.__ob__.dep.depend(),i(e)&&Rn(e)}function Bn(n){return On(n,!0),V(n,"__v_isShallow",!0),n}function On(n,e){if(!Pn(n)){Mn(n,e,on());0}}function Pn(n){return!(!n||!n.__v_isReadonly)}function Nn(n){return!(!n||!0!==n.__v_isRef)}function Un(n,e,t){Object.defineProperty(n,t,{enumerable:!0,configurable:!0,get:function(){var n=e[t];if(Nn(n))return n.value;var a=n&&n.__ob__;return a&&a.dep.depend(),n},set:function(n){var a=e[t];Nn(a)&&!Nn(n)?a.value=n:e[t]=n}})}"".concat("watcher"," callback"),"".concat("watcher"," getter"),"".concat("watcher"," cleanup");var Jn;var Qn=function(){function n(n){void 0===n&&(n=!1),this.detached=n,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Jn,!n&&Jn&&(this.index=(Jn.scopes||(Jn.scopes=[])).push(this)-1)}return n.prototype.run=function(n){if(this.active){var e=Jn;try{return Jn=this,n()}finally{Jn=e}}else 0},n.prototype.on=function(){Jn=this},n.prototype.off=function(){Jn=this.parent},n.prototype.stop=function(n){if(this.active){var e=void 0,t=void 0;for(e=0,t=this.effects.length;e<t;e++)this.effects[e].teardown();for(e=0,t=this.cleanups.length;e<t;e++)this.cleanups[e]();if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!n){var a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0,this.active=!1}},n}();function Hn(n){var e=n._provided,t=n.$parent&&n.$parent._provided;return t===e?n._provided=Object.create(t):e}var Fn=S((function(n){var e="&"===n.charAt(0),t="~"===(n=e?n.slice(1):n).charAt(0),a="!"===(n=t?n.slice(1):n).charAt(0);return{name:n=a?n.slice(1):n,once:t,capture:a,passive:e}}));function Vn(n,e){function t(){var n=t.fns;if(!i(n))return Ce(n,null,arguments,e,"v-on handler");for(var a=n.slice(),r=0;r<a.length;r++)Ce(a[r],null,arguments,e,"v-on handler")}return t.fns=n,t}function Gn(n,e,t,a,i,s){var l,c,d,u;for(l in n)c=n[l],d=e[l],u=Fn(l),r(c)||(r(d)?(r(c.fns)&&(c=n[l]=Vn(c,s)),o(u.once)&&(c=n[l]=i(u.name,c,u.capture)),t(u.name,c,u.capture,u.passive,u.params)):c!==d&&(d.fns=c,n[l]=d));for(l in e)r(n[l])&&a((u=Fn(l)).name,e[l],u.capture)}function $n(n,e,t){var a;n instanceof hn&&(n=n.data.hook||(n.data.hook={}));var i=n[e];function l(){t.apply(this,arguments),x(a.fns,l)}r(i)?a=Vn([l]):s(i.fns)&&o(i.merged)?(a=i).fns.push(l):a=Vn([i,l]),a.merged=!0,n[e]=a}function Wn(n,e,t,a,i){if(s(e)){if(_(e,t))return n[t]=e[t],i||delete e[t],!0;if(_(e,a))return n[t]=e[a],i||delete e[a],!0}return!1}function Kn(n){return l(n)?[bn(n)]:i(n)?function n(e,t){var a,c,d,u,p=[];for(a=0;a<e.length;a++)r(c=e[a])||"boolean"==typeof c||(d=p.length-1,u=p[d],i(c)?c.length>0&&(Yn((c=n(c,"".concat(t||"","_").concat(a)))[0])&&Yn(u)&&(p[d]=bn(u.text+c[0].text),c.shift()),p.push.apply(p,c)):l(c)?Yn(u)?p[d]=bn(u.text+c):""!==c&&p.push(bn(c)):Yn(c)&&Yn(u)?p[d]=bn(u.text+c.text):(o(e._isVList)&&s(c.tag)&&r(c.key)&&s(t)&&(c.key="__vlist".concat(t,"_").concat(a,"__")),p.push(c)));return p}(n):void 0}function Yn(n){return s(n)&&s(n.text)&&!1===n.isComment}function Xn(n,e){var t,a,r,o,l=null;if(i(n)||"string"==typeof n)for(l=new Array(n.length),t=0,a=n.length;t<a;t++)l[t]=e(n[t],t);else if("number"==typeof n)for(l=new Array(n),t=0;t<n;t++)l[t]=e(t+1,t);else if(d(n))if(un&&n[Symbol.iterator]){l=[];for(var c=n[Symbol.iterator](),u=c.next();!u.done;)l.push(e(u.value,l.length)),u=c.next()}else for(r=Object.keys(n),l=new Array(r.length),t=0,a=r.length;t<a;t++)o=r[t],l[t]=e(n[o],o,t);return s(l)||(l=[]),l._isVList=!0,l}function Zn(n,e,t,a){var i,r=this.$scopedSlots[n];r?(t=t||{},a&&(t=M(M({},a),t)),i=r(t)||(c(e)?e():e)):i=this.$slots[n]||(c(e)?e():e);var s=t&&t.slot;return s?this.$createElement("template",{slot:s},i):i}function ne(n){return At(this.$options,"filters",n,!0)||R}function ee(n,e){return i(n)?-1===n.indexOf(e):n!==e}function te(n,e,t,a,i){var r=Q.keyCodes[e]||t;return i&&a&&!Q.keyCodes[e]?ee(i,a):r?ee(r,n):a?q(a)!==e:void 0===n}function ae(n,e,t,a,r){if(t)if(d(t)){i(t)&&(t=z(t));var s=void 0,o=function(i){if("class"===i||"style"===i||k(i))s=n;else{var o=n.attrs&&n.attrs.type;s=a||Q.mustUseProp(e,o,i)?n.domProps||(n.domProps={}):n.attrs||(n.attrs={})}var l=E(i),c=q(i);l in s||c in s||(s[i]=t[i],r&&((n.on||(n.on={}))["update:".concat(i)]=function(n){t[i]=n}))};for(var l in t)o(l)}else;return n}function ie(n,e){var t=this._staticTrees||(this._staticTrees=[]),a=t[n];return a&&!e||se(a=t[n]=this.$options.staticRenderFns[n].call(this._renderProxy,this._c,this),"__static__".concat(n),!1),a}function re(n,e,t){return se(n,"__once__".concat(e).concat(t?"_".concat(t):""),!0),n}function se(n,e,t){if(i(n))for(var a=0;a<n.length;a++)n[a]&&"string"!=typeof n[a]&&oe(n[a],"".concat(e,"_").concat(a),t);else oe(n,e,t)}function oe(n,e,t){n.isStatic=!0,n.key=e,n.isOnce=t}function le(n,e){if(e)if(p(e)){var t=n.on=n.on?M({},n.on):{};for(var a in e){var i=t[a],r=e[a];t[a]=i?[].concat(i,r):r}}else;return n}function ce(n,e,t,a){e=e||{$stable:!t};for(var r=0;r<n.length;r++){var s=n[r];i(s)?ce(s,e,t):s&&(s.proxy&&(s.fn.proxy=!0),e[s.key]=s.fn)}return a&&(e.$key=a),e}function de(n,e){for(var t=0;t<e.length;t+=2){var a=e[t];"string"==typeof a&&a&&(n[e[t]]=e[t+1])}return n}function ue(n,e){return"string"==typeof n?e+n:n}function pe(n){n._o=re,n._n=y,n._s=b,n._l=Xn,n._t=Zn,n._q=B,n._i=O,n._m=ie,n._f=ne,n._k=te,n._b=ae,n._v=bn,n._e=gn,n._u=ce,n._g=le,n._d=de,n._p=ue}function me(n,e){if(!n||!n.length)return{};for(var t={},a=0,i=n.length;a<i;a++){var r=n[a],s=r.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,r.context!==e&&r.fnContext!==e||!s||null==s.slot)(t.default||(t.default=[])).push(r);else{var o=s.slot,l=t[o]||(t[o]=[]);"template"===r.tag?l.push.apply(l,r.children||[]):l.push(r)}}for(var c in t)t[c].every(he)&&delete t[c];return t}function he(n){return n.isComment&&!n.asyncFactory||" "===n.text}function ge(n){return n.isComment&&n.asyncFactory}function be(n,e,t,i){var r,s=Object.keys(t).length>0,o=e?!!e.$stable:!s,l=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(o&&i&&i!==a&&l===i.$key&&!s&&!i.$hasNormal)return i;for(var c in r={},e)e[c]&&"$"!==c[0]&&(r[c]=fe(n,t,c,e[c]))}else r={};for(var d in t)d in r||(r[d]=ye(t,d));return e&&Object.isExtensible(e)&&(e._normalized=r),V(r,"$stable",o),V(r,"$key",l),V(r,"$hasNormal",s),r}function fe(n,e,t,a){var r=function(){var e=pn;mn(n);var t=arguments.length?a.apply(null,arguments):a({}),r=(t=t&&"object"==typeof t&&!i(t)?[t]:Kn(t))&&t[0];return mn(e),t&&(!r||1===t.length&&r.isComment&&!ge(r))?void 0:t};return a.proxy&&Object.defineProperty(e,t,{get:r,enumerable:!0,configurable:!0}),r}function ye(n,e){return function(){return n[e]}}function ve(n){return{get attrs(){if(!n._attrsProxy){var e=n._attrsProxy={};V(e,"_v_attr_proxy",!0),ke(e,n.$attrs,a,n,"$attrs")}return n._attrsProxy},get listeners(){n._listenersProxy||ke(n._listenersProxy={},n.$listeners,a,n,"$listeners");return n._listenersProxy},get slots(){return function(n){n._slotsProxy||we(n._slotsProxy={},n.$scopedSlots);return n._slotsProxy}(n)},emit:I(n.$emit,n),expose:function(e){e&&Object.keys(e).forEach((function(t){return Un(n,e,t)}))}}}function ke(n,e,t,a,i){var r=!1;for(var s in e)s in n?e[s]!==t[s]&&(r=!0):(r=!0,xe(n,s,a,i));for(var s in n)s in e||(r=!0,delete n[s]);return r}function xe(n,e,t,a){Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:function(){return t[a][e]}})}function we(n,e){for(var t in e)n[t]=e[t];for(var t in n)t in e||delete n[t]}var _e=null;function Se(n,e){return(n.__esModule||un&&"Module"===n[Symbol.toStringTag])&&(n=n.default),d(n)?e.extend(n):n}function je(n){if(i(n))for(var e=0;e<n.length;e++){var t=n[e];if(s(t)&&(s(t.componentOptions)||ge(t)))return t}}function Ee(n,e,t,a,u,p){return(i(t)||l(t))&&(u=a,a=t,t=void 0),o(p)&&(u=2),function(n,e,t,a,l){if(s(t)&&s(t.__ob__))return gn();s(t)&&s(t.is)&&(e=t.is);if(!e)return gn();0;i(a)&&c(a[0])&&((t=t||{}).scopedSlots={default:a[0]},a.length=0);2===l?a=Kn(a):1===l&&(a=function(n){for(var e=0;e<n.length;e++)if(i(n[e]))return Array.prototype.concat.apply([],n);return n}(a));var u,p;if("string"==typeof e){var m=void 0;p=n.$vnode&&n.$vnode.ns||Q.getTagNamespace(e),u=Q.isReservedTag(e)?new hn(Q.parsePlatformTagName(e),t,a,void 0,void 0,n):t&&t.pre||!s(m=At(n.$options,"components",e))?new hn(e,t,a,void 0,void 0,n):xt(m,t,n,a,e)}else u=xt(e,t,n,a);return i(u)?u:s(u)?(s(p)&&function n(e,t,a){e.ns=t,"foreignObject"===e.tag&&(t=void 0,a=!0);if(s(e.children))for(var i=0,l=e.children.length;i<l;i++){var c=e.children[i];s(c.tag)&&(r(c.ns)||o(a)&&"svg"!==c.tag)&&n(c,t,a)}}(u,p),s(t)&&function(n){d(n.style)&&Qe(n.style);d(n.class)&&Qe(n.class)}(t),u):gn()}(n,e,t,a,u)}function Te(n,e,t){wn();try{if(e)for(var a=e;a=a.$parent;){var i=a.$options.errorCaptured;if(i)for(var r=0;r<i.length;r++)try{if(!1===i[r].call(a,n,e,t))return}catch(n){qe(n,a,"errorCaptured hook")}}qe(n,e,t)}finally{_n()}}function Ce(n,e,t,a,i){var r;try{(r=t?n.apply(e,t):n.call(e))&&!r._isVue&&g(r)&&!r._handled&&(r.catch((function(n){return Te(n,a,i+" (Promise/async)")})),r._handled=!0)}catch(n){Te(n,a,i)}return r}function qe(n,e,t){if(Q.errorHandler)try{return Q.errorHandler.call(null,n,e,t)}catch(e){e!==n&&Ie(e,null,"config.errorHandler")}Ie(n,e,t)}function Ie(n,e,t){if(!W||"undefined"==typeof console)throw n;console.error(n)}var Ae,Me=!1,ze=[],Le=!1;function De(){Le=!1;var n=ze.slice(0);ze.length=0;for(var e=0;e<n.length;e++)n[e]()}if("undefined"!=typeof Promise&&cn(Promise)){var Re=Promise.resolve();Ae=function(){Re.then(De),nn&&setTimeout(L)},Me=!0}else if(Y||"undefined"==typeof MutationObserver||!cn(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Ae="undefined"!=typeof setImmediate&&cn(setImmediate)?function(){setImmediate(De)}:function(){setTimeout(De,0)};else{var Be=1,Oe=new MutationObserver(De),Pe=document.createTextNode(String(Be));Oe.observe(Pe,{characterData:!0}),Ae=function(){Be=(Be+1)%2,Pe.data=String(Be)},Me=!0}function Ne(n,e){var t;if(ze.push((function(){if(n)try{n.call(e)}catch(n){Te(n,e,"nextTick")}else t&&t(e)})),Le||(Le=!0,Ae()),!n&&"undefined"!=typeof Promise)return new Promise((function(n){t=n}))}function Ue(n){return function(e,t){if(void 0===t&&(t=pn),t)return function(n,e,t){var a=n.$options;a[e]=Tt(a[e],t)}(t,n,e)}}Ue("beforeMount"),Ue("mounted"),Ue("beforeUpdate"),Ue("updated"),Ue("beforeDestroy"),Ue("destroyed"),Ue("activated"),Ue("deactivated"),Ue("serverPrefetch"),Ue("renderTracked"),Ue("renderTriggered"),Ue("errorCaptured");var Je=new dn;function Qe(n){return function n(e,t){var a,r,s=i(e);if(!s&&!d(e)||e.__v_skip||Object.isFrozen(e)||e instanceof hn)return;if(e.__ob__){var o=e.__ob__.dep.id;if(t.has(o))return;t.add(o)}if(s)for(a=e.length;a--;)n(e[a],t);else if(Nn(e))n(e.value,t);else for(r=Object.keys(e),a=r.length;a--;)n(e[r[a]],t)}(n,Je),Je.clear(),n}var He,Fe=0,Ve=function(){function n(n,e,t,a,i){var r,s;r=this,void 0===(s=Jn&&!Jn._vm?Jn:n?n._scope:void 0)&&(s=Jn),s&&s.active&&s.effects.push(r),(this.vm=n)&&i&&(n._watcher=this),a?(this.deep=!!a.deep,this.user=!!a.user,this.lazy=!!a.lazy,this.sync=!!a.sync,this.before=a.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=t,this.id=++Fe,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new dn,this.newDepIds=new dn,this.expression="",c(e)?this.getter=e:(this.getter=function(n){if(!G.test(n)){var e=n.split(".");return function(n){for(var t=0;t<e.length;t++){if(!n)return;n=n[e[t]]}return n}}}(e),this.getter||(this.getter=L)),this.value=this.lazy?void 0:this.get()}return n.prototype.get=function(){var n;wn(this);var e=this.vm;try{n=this.getter.call(e,e)}catch(n){if(!this.user)throw n;Te(n,e,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&Qe(n),_n(),this.cleanupDeps()}return n},n.prototype.addDep=function(n){var e=n.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(n),this.depIds.has(e)||n.addSub(this))},n.prototype.cleanupDeps=function(){for(var n=this.deps.length;n--;){var e=this.deps[n];this.newDepIds.has(e.id)||e.removeSub(this)}var t=this.depIds;this.depIds=this.newDepIds,this.newDepIds=t,this.newDepIds.clear(),t=this.deps,this.deps=this.newDeps,this.newDeps=t,this.newDeps.length=0},n.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():mt(this)},n.prototype.run=function(){if(this.active){var n=this.get();if(n!==this.value||d(n)||this.deep){var e=this.value;if(this.value=n,this.user){var t='callback for watcher "'.concat(this.expression,'"');Ce(this.cb,this.vm,[n,e],this.vm,t)}else this.cb.call(this.vm,n,e)}}},n.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},n.prototype.depend=function(){for(var n=this.deps.length;n--;)this.deps[n].depend()},n.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&x(this.vm._scope.effects,this),this.active){for(var n=this.deps.length;n--;)this.deps[n].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},n}();function Ge(n,e){He.$on(n,e)}function $e(n,e){He.$off(n,e)}function We(n,e){var t=He;return function a(){var i=e.apply(null,arguments);null!==i&&t.$off(n,a)}}function Ke(n,e,t){He=n,Gn(e,t||{},Ge,$e,We,n),He=void 0}var Ye=null;function Xe(n){var e=Ye;return Ye=n,function(){Ye=e}}function Ze(n){for(;n&&(n=n.$parent);)if(n._inactive)return!0;return!1}function nt(n,e){if(e){if(n._directInactive=!1,Ze(n))return}else if(n._directInactive)return;if(n._inactive||null===n._inactive){n._inactive=!1;for(var t=0;t<n.$children.length;t++)nt(n.$children[t]);et(n,"activated")}}function et(n,e,t,a){void 0===a&&(a=!0),wn();var i=pn,r=Jn;a&&mn(n);var s=n.$options[e],o="".concat(e," hook");if(s)for(var l=0,c=s.length;l<c;l++)Ce(s[l],n,t||null,n,o);n._hasHookEvent&&n.$emit("hook:"+e),a&&(mn(i),r&&r.on()),_n()}var tt=[],at=[],it={},rt=!1,st=!1,ot=0;var lt=0,ct=Date.now;if(W&&!Y){var dt=window.performance;dt&&"function"==typeof dt.now&&ct()>document.createEvent("Event").timeStamp&&(ct=function(){return dt.now()})}var ut=function(n,e){if(n.post){if(!e.post)return 1}else if(e.post)return-1;return n.id-e.id};function pt(){var n,e;for(lt=ct(),st=!0,tt.sort(ut),ot=0;ot<tt.length;ot++)(n=tt[ot]).before&&n.before(),e=n.id,it[e]=null,n.run();var t=at.slice(),a=tt.slice();ot=tt.length=at.length=0,it={},rt=st=!1,function(n){for(var e=0;e<n.length;e++)n[e]._inactive=!0,nt(n[e],!0)}(t),function(n){var e=n.length;for(;e--;){var t=n[e],a=t.vm;a&&a._watcher===t&&a._isMounted&&!a._isDestroyed&&et(a,"updated")}}(a),function(){for(var n=0;n<vn.length;n++){var e=vn[n];e.subs=e.subs.filter((function(n){return n})),e._pending=!1}vn.length=0}(),ln&&Q.devtools&&ln.emit("flush")}function mt(n){var e=n.id;if(null==it[e]&&(n!==kn.target||!n.noRecurse)){if(it[e]=!0,st){for(var t=tt.length-1;t>ot&&tt[t].id>n.id;)t--;tt.splice(t+1,0,n)}else tt.push(n);rt||(rt=!0,Ne(pt))}}function ht(n,e){if(n){for(var t=Object.create(null),a=un?Reflect.ownKeys(n):Object.keys(n),i=0;i<a.length;i++){var r=a[i];if("__ob__"!==r){var s=n[r].from;if(s in e._provided)t[r]=e._provided[s];else if("default"in n[r]){var o=n[r].default;t[r]=c(o)?o.call(e):o}else 0}}return t}}function gt(n,e,t,r,s){var l,c=this,d=s.options;_(r,"_uid")?(l=Object.create(r))._original=r:(l=r,r=r._original);var u=o(d._compiled),p=!u;this.data=n,this.props=e,this.children=t,this.parent=r,this.listeners=n.on||a,this.injections=ht(d.inject,r),this.slots=function(){return c.$slots||be(r,n.scopedSlots,c.$slots=me(t,r)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return be(r,n.scopedSlots,this.slots())}}),u&&(this.$options=d,this.$slots=this.slots(),this.$scopedSlots=be(r,n.scopedSlots,this.$slots)),d._scopeId?this._c=function(n,e,t,a){var s=Ee(l,n,e,t,a,p);return s&&!i(s)&&(s.fnScopeId=d._scopeId,s.fnContext=r),s}:this._c=function(n,e,t,a){return Ee(l,n,e,t,a,p)}}function bt(n,e,t,a,i){var r=fn(n);return r.fnContext=t,r.fnOptions=a,e.slot&&((r.data||(r.data={})).slot=e.slot),r}function ft(n,e){for(var t in e)n[E(t)]=e[t]}function yt(n){return n.name||n.__name||n._componentTag}pe(gt.prototype);var vt={init:function(n,e){if(n.componentInstance&&!n.componentInstance._isDestroyed&&n.data.keepAlive){var t=n;vt.prepatch(t,t)}else{(n.componentInstance=function(n,e){var t={_isComponent:!0,_parentVnode:n,parent:e},a=n.data.inlineTemplate;s(a)&&(t.render=a.render,t.staticRenderFns=a.staticRenderFns);return new n.componentOptions.Ctor(t)}(n,Ye)).$mount(e?n.elm:void 0,e)}},prepatch:function(n,e){var t=e.componentOptions;!function(n,e,t,i,r){var s=i.data.scopedSlots,o=n.$scopedSlots,l=!!(s&&!s.$stable||o!==a&&!o.$stable||s&&n.$scopedSlots.$key!==s.$key||!s&&n.$scopedSlots.$key),c=!!(r||n.$options._renderChildren||l),d=n.$vnode;n.$options._parentVnode=i,n.$vnode=i,n._vnode&&(n._vnode.parent=i),n.$options._renderChildren=r;var u=i.data.attrs||a;n._attrsProxy&&ke(n._attrsProxy,u,d.data&&d.data.attrs||a,n,"$attrs")&&(c=!0),n.$attrs=u,t=t||a;var p=n.$options._parentListeners;if(n._listenersProxy&&ke(n._listenersProxy,t,p||a,n,"$listeners"),n.$listeners=n.$options._parentListeners=t,Ke(n,t,p),e&&n.$options.props){qn(!1);for(var m=n._props,h=n.$options._propKeys||[],g=0;g<h.length;g++){var b=h[g],f=n.$options.props;m[b]=Mt(b,f,e,n)}qn(!0),n.$options.propsData=e}c&&(n.$slots=me(r,i.context),n.$forceUpdate())}(e.componentInstance=n.componentInstance,t.propsData,t.listeners,e,t.children)},insert:function(n){var e,t=n.context,a=n.componentInstance;a._isMounted||(a._isMounted=!0,et(a,"mounted")),n.data.keepAlive&&(t._isMounted?((e=a)._inactive=!1,at.push(e)):nt(a,!0))},destroy:function(n){var e=n.componentInstance;e._isDestroyed||(n.data.keepAlive?function n(e,t){if(!(t&&(e._directInactive=!0,Ze(e))||e._inactive)){e._inactive=!0;for(var a=0;a<e.$children.length;a++)n(e.$children[a]);et(e,"deactivated")}}(e,!0):e.$destroy())}},kt=Object.keys(vt);function xt(n,e,t,l,c){if(!r(n)){var u=t.$options._base;if(d(n)&&(n=u.extend(n)),"function"==typeof n){var p;if(r(n.cid)&&void 0===(n=function(n,e){if(o(n.error)&&s(n.errorComp))return n.errorComp;if(s(n.resolved))return n.resolved;var t=_e;if(t&&s(n.owners)&&-1===n.owners.indexOf(t)&&n.owners.push(t),o(n.loading)&&s(n.loadingComp))return n.loadingComp;if(t&&!s(n.owners)){var a=n.owners=[t],i=!0,l=null,c=null;t.$on("hook:destroyed",(function(){return x(a,t)}));var u=function(n){for(var e=0,t=a.length;e<t;e++)a[e].$forceUpdate();n&&(a.length=0,null!==l&&(clearTimeout(l),l=null),null!==c&&(clearTimeout(c),c=null))},p=P((function(t){n.resolved=Se(t,e),i?a.length=0:u(!0)})),m=P((function(e){s(n.errorComp)&&(n.error=!0,u(!0))})),h=n(p,m);return d(h)&&(g(h)?r(n.resolved)&&h.then(p,m):g(h.component)&&(h.component.then(p,m),s(h.error)&&(n.errorComp=Se(h.error,e)),s(h.loading)&&(n.loadingComp=Se(h.loading,e),0===h.delay?n.loading=!0:l=setTimeout((function(){l=null,r(n.resolved)&&r(n.error)&&(n.loading=!0,u(!1))}),h.delay||200)),s(h.timeout)&&(c=setTimeout((function(){c=null,r(n.resolved)&&m(null)}),h.timeout)))),i=!1,n.loading?n.loadingComp:n.resolved}}(p=n,u)))return function(n,e,t,a,i){var r=gn();return r.asyncFactory=n,r.asyncMeta={data:e,context:t,children:a,tag:i},r}(p,e,t,l,c);e=e||{},Vt(n),s(e.model)&&function(n,e){var t=n.model&&n.model.prop||"value",a=n.model&&n.model.event||"input";(e.attrs||(e.attrs={}))[t]=e.model.value;var r=e.on||(e.on={}),o=r[a],l=e.model.callback;s(o)?(i(o)?-1===o.indexOf(l):o!==l)&&(r[a]=[l].concat(o)):r[a]=l}(n.options,e);var m=function(n,e,t){var a=e.options.props;if(!r(a)){var i={},o=n.attrs,l=n.props;if(s(o)||s(l))for(var c in a){var d=q(c);Wn(i,l,c,d,!0)||Wn(i,o,c,d,!1)}return i}}(e,n);if(o(n.options.functional))return function(n,e,t,r,o){var l=n.options,c={},d=l.props;if(s(d))for(var u in d)c[u]=Mt(u,d,e||a);else s(t.attrs)&&ft(c,t.attrs),s(t.props)&&ft(c,t.props);var p=new gt(t,c,o,r,n),m=l.render.call(null,p._c,p);if(m instanceof hn)return bt(m,t,p.parent,l,p);if(i(m)){for(var h=Kn(m)||[],g=new Array(h.length),b=0;b<h.length;b++)g[b]=bt(h[b],t,p.parent,l,p);return g}}(n,m,e,t,l);var h=e.on;if(e.on=e.nativeOn,o(n.options.abstract)){var b=e.slot;e={},b&&(e.slot=b)}!function(n){for(var e=n.hook||(n.hook={}),t=0;t<kt.length;t++){var a=kt[t],i=e[a],r=vt[a];i===r||i&&i._merged||(e[a]=i?wt(r,i):r)}}(e);var f=yt(n.options)||c;return new hn("vue-component-".concat(n.cid).concat(f?"-".concat(f):""),e,void 0,void 0,void 0,t,{Ctor:n,propsData:m,listeners:h,tag:c,children:l},p)}}}function wt(n,e){var t=function(t,a){n(t,a),e(t,a)};return t._merged=!0,t}var _t=L,St=Q.optionMergeStrategies;function jt(n,e,t){if(void 0===t&&(t=!0),!e)return n;for(var a,i,r,s=un?Reflect.ownKeys(e):Object.keys(e),o=0;o<s.length;o++)"__ob__"!==(a=s[o])&&(i=n[a],r=e[a],t&&_(n,a)?i!==r&&p(i)&&p(r)&&jt(i,r):Ln(n,a,r));return n}function Et(n,e,t){return t?function(){var a=c(e)?e.call(t,t):e,i=c(n)?n.call(t,t):n;return a?jt(a,i):i}:e?n?function(){return jt(c(e)?e.call(this,this):e,c(n)?n.call(this,this):n)}:e:n}function Tt(n,e){var t=e?n?n.concat(e):i(e)?e:[e]:n;return t?function(n){for(var e=[],t=0;t<n.length;t++)-1===e.indexOf(n[t])&&e.push(n[t]);return e}(t):t}function Ct(n,e,t,a){var i=Object.create(n||null);return e?M(i,e):i}St.data=function(n,e,t){return t?Et(n,e,t):e&&"function"!=typeof e?n:Et(n,e)},J.forEach((function(n){St[n]=Tt})),U.forEach((function(n){St[n+"s"]=Ct})),St.watch=function(n,e,t,a){if(n===an&&(n=void 0),e===an&&(e=void 0),!e)return Object.create(n||null);if(!n)return e;var r={};for(var s in M(r,n),e){var o=r[s],l=e[s];o&&!i(o)&&(o=[o]),r[s]=o?o.concat(l):i(l)?l:[l]}return r},St.props=St.methods=St.inject=St.computed=function(n,e,t,a){if(!n)return e;var i=Object.create(null);return M(i,n),e&&M(i,e),i},St.provide=function(n,e){return n?function(){var t=Object.create(null);return jt(t,c(n)?n.call(this):n),e&&jt(t,c(e)?e.call(this):e,!1),t}:e};var qt=function(n,e){return void 0===e?n:e};function It(n,e,t){if(c(e)&&(e=e.options),function(n,e){var t=n.props;if(t){var a,r,s={};if(i(t))for(a=t.length;a--;)"string"==typeof(r=t[a])&&(s[E(r)]={type:null});else if(p(t))for(var o in t)r=t[o],s[E(o)]=p(r)?r:{type:r};else 0;n.props=s}}(e),function(n,e){var t=n.inject;if(t){var a=n.inject={};if(i(t))for(var r=0;r<t.length;r++)a[t[r]]={from:t[r]};else if(p(t))for(var s in t){var o=t[s];a[s]=p(o)?M({from:s},o):{from:o}}else 0}}(e),function(n){var e=n.directives;if(e)for(var t in e){var a=e[t];c(a)&&(e[t]={bind:a,update:a})}}(e),!e._base&&(e.extends&&(n=It(n,e.extends,t)),e.mixins))for(var a=0,r=e.mixins.length;a<r;a++)n=It(n,e.mixins[a],t);var s,o={};for(s in n)l(s);for(s in e)_(n,s)||l(s);function l(a){var i=St[a]||qt;o[a]=i(n[a],e[a],t,a)}return o}function At(n,e,t,a){if("string"==typeof t){var i=n[e];if(_(i,t))return i[t];var r=E(t);if(_(i,r))return i[r];var s=T(r);return _(i,s)?i[s]:i[t]||i[r]||i[s]}}function Mt(n,e,t,a){var i=e[n],r=!_(t,n),s=t[n],o=Rt(Boolean,i.type);if(o>-1)if(r&&!_(i,"default"))s=!1;else if(""===s||s===q(n)){var l=Rt(String,i.type);(l<0||o<l)&&(s=!0)}if(void 0===s){s=function(n,e,t){if(!_(e,"default"))return;var a=e.default;0;if(n&&n.$options.propsData&&void 0===n.$options.propsData[t]&&void 0!==n._props[t])return n._props[t];return c(a)&&"Function"!==Lt(e.type)?a.call(n):a}(a,i,n);var d=Cn;qn(!0),Mn(s),qn(d)}return s}var zt=/^\s*function (\w+)/;function Lt(n){var e=n&&n.toString().match(zt);return e?e[1]:""}function Dt(n,e){return Lt(n)===Lt(e)}function Rt(n,e){if(!i(e))return Dt(e,n)?0:-1;for(var t=0,a=e.length;t<a;t++)if(Dt(e[t],n))return t;return-1}var Bt={enumerable:!0,configurable:!0,get:L,set:L};function Ot(n,e,t){Bt.get=function(){return this[e][t]},Bt.set=function(n){this[e][t]=n},Object.defineProperty(n,t,Bt)}function Pt(n){var e=n.$options;if(e.props&&function(n,e){var t=n.$options.propsData||{},a=n._props=Bn({}),i=n.$options._propKeys=[];n.$parent&&qn(!1);var r=function(r){i.push(r);var s=Mt(r,e,t,n);zn(a,r,s,void 0,!0),r in n||Ot(n,"_props",r)};for(var s in e)r(s);qn(!0)}(n,e.props),function(n){var e=n.$options,t=e.setup;if(t){var a=n._setupContext=ve(n);mn(n),wn();var i=Ce(t,null,[n._props||Bn({}),a],n,"setup");if(_n(),mn(),c(i))e.render=i;else if(d(i))if(n._setupState=i,i.__sfc){var r=n._setupProxy={};for(var s in i)"__sfc"!==s&&Un(r,i,s)}else for(var s in i)F(s)||Un(n,i,s);else 0}}(n),e.methods&&function(n,e){n.$options.props;for(var t in e)n[t]="function"!=typeof e[t]?L:I(e[t],n)}(n,e.methods),e.data)!function(n){var e=n.$options.data;p(e=n._data=c(e)?function(n,e){wn();try{return n.call(e,e)}catch(n){return Te(n,e,"data()"),{}}finally{_n()}}(e,n):e||{})||(e={});var t=Object.keys(e),a=n.$options.props,i=(n.$options.methods,t.length);for(;i--;){var r=t[i];0,a&&_(a,r)||F(r)||Ot(n,"_data",r)}var s=Mn(e);s&&s.vmCount++}(n);else{var t=Mn(n._data={});t&&t.vmCount++}e.computed&&function(n,e){var t=n._computedWatchers=Object.create(null),a=on();for(var i in e){var r=e[i],s=c(r)?r:r.get;0,a||(t[i]=new Ve(n,s||L,L,Nt)),i in n||Ut(n,i,r)}}(n,e.computed),e.watch&&e.watch!==an&&function(n,e){for(var t in e){var a=e[t];if(i(a))for(var r=0;r<a.length;r++)Ht(n,t,a[r]);else Ht(n,t,a)}}(n,e.watch)}var Nt={lazy:!0};function Ut(n,e,t){var a=!on();c(t)?(Bt.get=a?Jt(e):Qt(t),Bt.set=L):(Bt.get=t.get?a&&!1!==t.cache?Jt(e):Qt(t.get):L,Bt.set=t.set||L),Object.defineProperty(n,e,Bt)}function Jt(n){return function(){var e=this._computedWatchers&&this._computedWatchers[n];if(e)return e.dirty&&e.evaluate(),kn.target&&e.depend(),e.value}}function Qt(n){return function(){return n.call(this,this)}}function Ht(n,e,t,a){return p(t)&&(a=t,t=t.handler),"string"==typeof t&&(t=n[t]),n.$watch(e,t,a)}var Ft=0;function Vt(n){var e=n.options;if(n.super){var t=Vt(n.super);if(t!==n.superOptions){n.superOptions=t;var a=function(n){var e,t=n.options,a=n.sealedOptions;for(var i in t)t[i]!==a[i]&&(e||(e={}),e[i]=t[i]);return e}(n);a&&M(n.extendOptions,a),(e=n.options=It(t,n.extendOptions)).name&&(e.components[e.name]=n)}}return e}function Gt(n){this._init(n)}function $t(n){n.cid=0;var e=1;n.extend=function(n){n=n||{};var t=this,a=t.cid,i=n._Ctor||(n._Ctor={});if(i[a])return i[a];var r=yt(n)||yt(t.options);var s=function(n){this._init(n)};return(s.prototype=Object.create(t.prototype)).constructor=s,s.cid=e++,s.options=It(t.options,n),s.super=t,s.options.props&&function(n){var e=n.options.props;for(var t in e)Ot(n.prototype,"_props",t)}(s),s.options.computed&&function(n){var e=n.options.computed;for(var t in e)Ut(n.prototype,t,e[t])}(s),s.extend=t.extend,s.mixin=t.mixin,s.use=t.use,U.forEach((function(n){s[n]=t[n]})),r&&(s.options.components[r]=s),s.superOptions=t.options,s.extendOptions=n,s.sealedOptions=M({},s.options),i[a]=s,s}}function Wt(n){return n&&(yt(n.Ctor.options)||n.tag)}function Kt(n,e){return i(n)?n.indexOf(e)>-1:"string"==typeof n?n.split(",").indexOf(e)>-1:!!m(n)&&n.test(e)}function Yt(n,e){var t=n.cache,a=n.keys,i=n._vnode,r=n.$vnode;for(var s in t){var o=t[s];if(o){var l=o.name;l&&!e(l)&&Xt(t,s,a,i)}}r.componentOptions.children=void 0}function Xt(n,e,t,a){var i=n[e];!i||a&&i.tag===a.tag||i.componentInstance.$destroy(),n[e]=null,x(t,e)}!function(n){n.prototype._init=function(n){var e=this;e._uid=Ft++,e._isVue=!0,e.__v_skip=!0,e._scope=new Qn(!0),e._scope.parent=void 0,e._scope._vm=!0,n&&n._isComponent?function(n,e){var t=n.$options=Object.create(n.constructor.options),a=e._parentVnode;t.parent=e.parent,t._parentVnode=a;var i=a.componentOptions;t.propsData=i.propsData,t._parentListeners=i.listeners,t._renderChildren=i.children,t._componentTag=i.tag,e.render&&(t.render=e.render,t.staticRenderFns=e.staticRenderFns)}(e,n):e.$options=It(Vt(e.constructor),n||{},e),e._renderProxy=e,e._self=e,function(n){var e=n.$options,t=e.parent;if(t&&!e.abstract){for(;t.$options.abstract&&t.$parent;)t=t.$parent;t.$children.push(n)}n.$parent=t,n.$root=t?t.$root:n,n.$children=[],n.$refs={},n._provided=t?t._provided:Object.create(null),n._watcher=null,n._inactive=null,n._directInactive=!1,n._isMounted=!1,n._isDestroyed=!1,n._isBeingDestroyed=!1}(e),function(n){n._events=Object.create(null),n._hasHookEvent=!1;var e=n.$options._parentListeners;e&&Ke(n,e)}(e),function(n){n._vnode=null,n._staticTrees=null;var e=n.$options,t=n.$vnode=e._parentVnode,i=t&&t.context;n.$slots=me(e._renderChildren,i),n.$scopedSlots=t?be(n.$parent,t.data.scopedSlots,n.$slots):a,n._c=function(e,t,a,i){return Ee(n,e,t,a,i,!1)},n.$createElement=function(e,t,a,i){return Ee(n,e,t,a,i,!0)};var r=t&&t.data;zn(n,"$attrs",r&&r.attrs||a,null,!0),zn(n,"$listeners",e._parentListeners||a,null,!0)}(e),et(e,"beforeCreate",void 0,!1),function(n){var e=ht(n.$options.inject,n);e&&(qn(!1),Object.keys(e).forEach((function(t){zn(n,t,e[t])})),qn(!0))}(e),Pt(e),function(n){var e=n.$options.provide;if(e){var t=c(e)?e.call(n):e;if(!d(t))return;for(var a=Hn(n),i=un?Reflect.ownKeys(t):Object.keys(t),r=0;r<i.length;r++){var s=i[r];Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(t,s))}}}(e),et(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(Gt),function(n){var e={get:function(){return this._data}},t={get:function(){return this._props}};Object.defineProperty(n.prototype,"$data",e),Object.defineProperty(n.prototype,"$props",t),n.prototype.$set=Ln,n.prototype.$delete=Dn,n.prototype.$watch=function(n,e,t){if(p(e))return Ht(this,n,e,t);(t=t||{}).user=!0;var a=new Ve(this,n,e,t);if(t.immediate){var i='callback for immediate watcher "'.concat(a.expression,'"');wn(),Ce(e,this,[a.value],this,i),_n()}return function(){a.teardown()}}}(Gt),function(n){var e=/^hook:/;n.prototype.$on=function(n,t){var a=this;if(i(n))for(var r=0,s=n.length;r<s;r++)a.$on(n[r],t);else(a._events[n]||(a._events[n]=[])).push(t),e.test(n)&&(a._hasHookEvent=!0);return a},n.prototype.$once=function(n,e){var t=this;function a(){t.$off(n,a),e.apply(t,arguments)}return a.fn=e,t.$on(n,a),t},n.prototype.$off=function(n,e){var t=this;if(!arguments.length)return t._events=Object.create(null),t;if(i(n)){for(var a=0,r=n.length;a<r;a++)t.$off(n[a],e);return t}var s,o=t._events[n];if(!o)return t;if(!e)return t._events[n]=null,t;for(var l=o.length;l--;)if((s=o[l])===e||s.fn===e){o.splice(l,1);break}return t},n.prototype.$emit=function(n){var e=this,t=e._events[n];if(t){t=t.length>1?A(t):t;for(var a=A(arguments,1),i='event handler for "'.concat(n,'"'),r=0,s=t.length;r<s;r++)Ce(t[r],e,a,e,i)}return e}}(Gt),function(n){n.prototype._update=function(n,e){var t=this,a=t.$el,i=t._vnode,r=Xe(t);t._vnode=n,t.$el=i?t.__patch__(i,n):t.__patch__(t.$el,n,e,!1),r(),a&&(a.__vue__=null),t.$el&&(t.$el.__vue__=t);for(var s=t;s&&s.$vnode&&s.$parent&&s.$vnode===s.$parent._vnode;)s.$parent.$el=s.$el,s=s.$parent},n.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},n.prototype.$destroy=function(){var n=this;if(!n._isBeingDestroyed){et(n,"beforeDestroy"),n._isBeingDestroyed=!0;var e=n.$parent;!e||e._isBeingDestroyed||n.$options.abstract||x(e.$children,n),n._scope.stop(),n._data.__ob__&&n._data.__ob__.vmCount--,n._isDestroyed=!0,n.__patch__(n._vnode,null),et(n,"destroyed"),n.$off(),n.$el&&(n.$el.__vue__=null),n.$vnode&&(n.$vnode.parent=null)}}}(Gt),function(n){pe(n.prototype),n.prototype.$nextTick=function(n){return Ne(n,this)},n.prototype._render=function(){var n=this,e=n.$options,t=e.render,a=e._parentVnode;a&&n._isMounted&&(n.$scopedSlots=be(n.$parent,a.data.scopedSlots,n.$slots,n.$scopedSlots),n._slotsProxy&&we(n._slotsProxy,n.$scopedSlots)),n.$vnode=a;var r,s=pn,o=_e;try{mn(n),_e=n,r=t.call(n._renderProxy,n.$createElement)}catch(e){Te(e,n,"render"),r=n._vnode}finally{_e=o,mn(s)}return i(r)&&1===r.length&&(r=r[0]),r instanceof hn||(r=gn()),r.parent=a,r}}(Gt);var Zt=[String,RegExp,Array],na={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Zt,exclude:Zt,max:[String,Number]},methods:{cacheVNode:function(){var n=this.cache,e=this.keys,t=this.vnodeToCache,a=this.keyToCache;if(t){var i=t.tag,r=t.componentInstance,s=t.componentOptions;n[a]={name:Wt(s),tag:i,componentInstance:r},e.push(a),this.max&&e.length>parseInt(this.max)&&Xt(n,e[0],e,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var n in this.cache)Xt(this.cache,n,this.keys)},mounted:function(){var n=this;this.cacheVNode(),this.$watch("include",(function(e){Yt(n,(function(n){return Kt(e,n)}))})),this.$watch("exclude",(function(e){Yt(n,(function(n){return!Kt(e,n)}))}))},updated:function(){this.cacheVNode()},render:function(){var n=this.$slots.default,e=je(n),t=e&&e.componentOptions;if(t){var a=Wt(t),i=this.include,r=this.exclude;if(i&&(!a||!Kt(i,a))||r&&a&&Kt(r,a))return e;var s=this.cache,o=this.keys,l=null==e.key?t.Ctor.cid+(t.tag?"::".concat(t.tag):""):e.key;s[l]?(e.componentInstance=s[l].componentInstance,x(o,l),o.push(l)):(this.vnodeToCache=e,this.keyToCache=l),e.data.keepAlive=!0}return e||n&&n[0]}}};!function(n){var e={get:function(){return Q}};Object.defineProperty(n,"config",e),n.util={warn:_t,extend:M,mergeOptions:It,defineReactive:zn},n.set=Ln,n.delete=Dn,n.nextTick=Ne,n.observable=function(n){return Mn(n),n},n.options=Object.create(null),U.forEach((function(e){n.options[e+"s"]=Object.create(null)})),n.options._base=n,M(n.options.components,na),function(n){n.use=function(n){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(n)>-1)return this;var t=A(arguments,1);return t.unshift(this),c(n.install)?n.install.apply(n,t):c(n)&&n.apply(null,t),e.push(n),this}}(n),function(n){n.mixin=function(n){return this.options=It(this.options,n),this}}(n),$t(n),function(n){U.forEach((function(e){n[e]=function(n,t){return t?("component"===e&&p(t)&&(t.name=t.name||n,t=this.options._base.extend(t)),"directive"===e&&c(t)&&(t={bind:t,update:t}),this.options[e+"s"][n]=t,t):this.options[e+"s"][n]}}))}(n)}(Gt),Object.defineProperty(Gt.prototype,"$isServer",{get:on}),Object.defineProperty(Gt.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Gt,"FunctionalRenderContext",{value:gt}),Gt.version="2.7.16";var ea=v("style,class"),ta=v("input,textarea,option,select,progress"),aa=v("contenteditable,draggable,spellcheck"),ia=v("events,caret,typing,plaintext-only"),ra=v("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),sa="http://www.w3.org/1999/xlink",oa=function(n){return":"===n.charAt(5)&&"xlink"===n.slice(0,5)},la=function(n){return oa(n)?n.slice(6,n.length):""},ca=function(n){return null==n||!1===n};function da(n){for(var e=n.data,t=n,a=n;s(a.componentInstance);)(a=a.componentInstance._vnode)&&a.data&&(e=ua(a.data,e));for(;s(t=t.parent);)t&&t.data&&(e=ua(e,t.data));return function(n,e){if(s(n)||s(e))return pa(n,ma(e));return""}(e.staticClass,e.class)}function ua(n,e){return{staticClass:pa(n.staticClass,e.staticClass),class:s(n.class)?[n.class,e.class]:e.class}}function pa(n,e){return n?e?n+" "+e:n:e||""}function ma(n){return Array.isArray(n)?function(n){for(var e,t="",a=0,i=n.length;a<i;a++)s(e=ma(n[a]))&&""!==e&&(t&&(t+=" "),t+=e);return t}(n):d(n)?function(n){var e="";for(var t in n)n[t]&&(e&&(e+=" "),e+=t);return e}(n):"string"==typeof n?n:""}var ha={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},ga=v("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),ba=v("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),fa=function(n){return ga(n)||ba(n)};var ya=Object.create(null);var va=v("text,number,password,search,email,tel,url");var ka=Object.freeze({__proto__:null,createElement:function(n,e){var t=document.createElement(n);return"select"!==n||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&t.setAttribute("multiple","multiple"),t},createElementNS:function(n,e){return document.createElementNS(ha[n],e)},createTextNode:function(n){return document.createTextNode(n)},createComment:function(n){return document.createComment(n)},insertBefore:function(n,e,t){n.insertBefore(e,t)},removeChild:function(n,e){n.removeChild(e)},appendChild:function(n,e){n.appendChild(e)},parentNode:function(n){return n.parentNode},nextSibling:function(n){return n.nextSibling},tagName:function(n){return n.tagName},setTextContent:function(n,e){n.textContent=e},setStyleScope:function(n,e){n.setAttribute(e,"")}}),xa={create:function(n,e){wa(e)},update:function(n,e){n.data.ref!==e.data.ref&&(wa(n,!0),wa(e))},destroy:function(n){wa(n,!0)}};function wa(n,e){var t=n.data.ref;if(s(t)){var a=n.context,r=n.componentInstance||n.elm,o=e?null:r,l=e?void 0:r;if(c(t))Ce(t,a,[o],a,"template ref function");else{var d=n.data.refInFor,u="string"==typeof t||"number"==typeof t,p=Nn(t),m=a.$refs;if(u||p)if(d){var h=u?m[t]:t.value;e?i(h)&&x(h,r):i(h)?h.includes(r)||h.push(r):u?(m[t]=[r],_a(a,t,m[t])):t.value=[r]}else if(u){if(e&&m[t]!==r)return;m[t]=l,_a(a,t,o)}else if(p){if(e&&t.value!==r)return;t.value=o}else 0}}}function _a(n,e,t){var a=n._setupState;a&&_(a,e)&&(Nn(a[e])?a[e].value=t:a[e]=t)}var Sa=new hn("",{},[]),ja=["create","activate","update","remove","destroy"];function Ea(n,e){return n.key===e.key&&n.asyncFactory===e.asyncFactory&&(n.tag===e.tag&&n.isComment===e.isComment&&s(n.data)===s(e.data)&&function(n,e){if("input"!==n.tag)return!0;var t,a=s(t=n.data)&&s(t=t.attrs)&&t.type,i=s(t=e.data)&&s(t=t.attrs)&&t.type;return a===i||va(a)&&va(i)}(n,e)||o(n.isAsyncPlaceholder)&&r(e.asyncFactory.error))}function Ta(n,e,t){var a,i,r={};for(a=e;a<=t;++a)s(i=n[a].key)&&(r[i]=a);return r}var Ca={create:qa,update:qa,destroy:function(n){qa(n,Sa)}};function qa(n,e){(n.data.directives||e.data.directives)&&function(n,e){var t,a,i,r=n===Sa,s=e===Sa,o=Aa(n.data.directives,n.context),l=Aa(e.data.directives,e.context),c=[],d=[];for(t in l)a=o[t],i=l[t],a?(i.oldValue=a.value,i.oldArg=a.arg,za(i,"update",e,n),i.def&&i.def.componentUpdated&&d.push(i)):(za(i,"bind",e,n),i.def&&i.def.inserted&&c.push(i));if(c.length){var u=function(){for(var t=0;t<c.length;t++)za(c[t],"inserted",e,n)};r?$n(e,"insert",u):u()}d.length&&$n(e,"postpatch",(function(){for(var t=0;t<d.length;t++)za(d[t],"componentUpdated",e,n)}));if(!r)for(t in o)l[t]||za(o[t],"unbind",n,n,s)}(n,e)}var Ia=Object.create(null);function Aa(n,e){var t,a,i=Object.create(null);if(!n)return i;for(t=0;t<n.length;t++){if((a=n[t]).modifiers||(a.modifiers=Ia),i[Ma(a)]=a,e._setupState&&e._setupState.__sfc){var r=a.def||At(e,"_setupState","v-"+a.name);a.def="function"==typeof r?{bind:r,update:r}:r}a.def=a.def||At(e.$options,"directives",a.name)}return i}function Ma(n){return n.rawName||"".concat(n.name,".").concat(Object.keys(n.modifiers||{}).join("."))}function za(n,e,t,a,i){var r=n.def&&n.def[e];if(r)try{r(t.elm,n,t,a,i)}catch(a){Te(a,t.context,"directive ".concat(n.name," ").concat(e," hook"))}}var La=[xa,Ca];function Da(n,e){var t=e.componentOptions;if(!(s(t)&&!1===t.Ctor.options.inheritAttrs||r(n.data.attrs)&&r(e.data.attrs))){var a,i,l=e.elm,c=n.data.attrs||{},d=e.data.attrs||{};for(a in(s(d.__ob__)||o(d._v_attr_proxy))&&(d=e.data.attrs=M({},d)),d)i=d[a],c[a]!==i&&Ra(l,a,i,e.data.pre);for(a in(Y||Z)&&d.value!==c.value&&Ra(l,"value",d.value),c)r(d[a])&&(oa(a)?l.removeAttributeNS(sa,la(a)):aa(a)||l.removeAttribute(a))}}function Ra(n,e,t,a){a||n.tagName.indexOf("-")>-1?Ba(n,e,t):ra(e)?ca(t)?n.removeAttribute(e):(t="allowfullscreen"===e&&"EMBED"===n.tagName?"true":e,n.setAttribute(e,t)):aa(e)?n.setAttribute(e,function(n,e){return ca(e)||"false"===e?"false":"contenteditable"===n&&ia(e)?e:"true"}(e,t)):oa(e)?ca(t)?n.removeAttributeNS(sa,la(e)):n.setAttributeNS(sa,e,t):Ba(n,e,t)}function Ba(n,e,t){if(ca(t))n.removeAttribute(e);else{if(Y&&!X&&"TEXTAREA"===n.tagName&&"placeholder"===e&&""!==t&&!n.__ieph){var a=function(e){e.stopImmediatePropagation(),n.removeEventListener("input",a)};n.addEventListener("input",a),n.__ieph=!0}n.setAttribute(e,t)}}var Oa={create:Da,update:Da};function Pa(n,e){var t=e.elm,a=e.data,i=n.data;if(!(r(a.staticClass)&&r(a.class)&&(r(i)||r(i.staticClass)&&r(i.class)))){var o=da(e),l=t._transitionClasses;s(l)&&(o=pa(o,ma(l))),o!==t._prevClass&&(t.setAttribute("class",o),t._prevClass=o)}}var Na,Ua={create:Pa,update:Pa};function Ja(n,e,t){var a=Na;return function i(){var r=e.apply(null,arguments);null!==r&&Fa(n,i,t,a)}}var Qa=Me&&!(tn&&Number(tn[1])<=53);function Ha(n,e,t,a){if(Qa){var i=lt,r=e;e=r._wrapper=function(n){if(n.target===n.currentTarget||n.timeStamp>=i||n.timeStamp<=0||n.target.ownerDocument!==document)return r.apply(this,arguments)}}Na.addEventListener(n,e,rn?{capture:t,passive:a}:t)}function Fa(n,e,t,a){(a||Na).removeEventListener(n,e._wrapper||e,t)}function Va(n,e){if(!r(n.data.on)||!r(e.data.on)){var t=e.data.on||{},a=n.data.on||{};Na=e.elm||n.elm,function(n){if(s(n.__r)){var e=Y?"change":"input";n[e]=[].concat(n.__r,n[e]||[]),delete n.__r}s(n.__c)&&(n.change=[].concat(n.__c,n.change||[]),delete n.__c)}(t),Gn(t,a,Ha,Fa,Ja,e.context),Na=void 0}}var Ga,$a={create:Va,update:Va,destroy:function(n){return Va(n,Sa)}};function Wa(n,e){if(!r(n.data.domProps)||!r(e.data.domProps)){var t,a,i=e.elm,l=n.data.domProps||{},c=e.data.domProps||{};for(t in(s(c.__ob__)||o(c._v_attr_proxy))&&(c=e.data.domProps=M({},c)),l)t in c||(i[t]="");for(t in c){if(a=c[t],"textContent"===t||"innerHTML"===t){if(e.children&&(e.children.length=0),a===l[t])continue;1===i.childNodes.length&&i.removeChild(i.childNodes[0])}if("value"===t&&"PROGRESS"!==i.tagName){i._value=a;var d=r(a)?"":String(a);Ka(i,d)&&(i.value=d)}else if("innerHTML"===t&&ba(i.tagName)&&r(i.innerHTML)){(Ga=Ga||document.createElement("div")).innerHTML="<svg>".concat(a,"</svg>");for(var u=Ga.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;u.firstChild;)i.appendChild(u.firstChild)}else if(a!==l[t])try{i[t]=a}catch(n){}}}}function Ka(n,e){return!n.composing&&("OPTION"===n.tagName||function(n,e){var t=!0;try{t=document.activeElement!==n}catch(n){}return t&&n.value!==e}(n,e)||function(n,e){var t=n.value,a=n._vModifiers;if(s(a)){if(a.number)return y(t)!==y(e);if(a.trim)return t.trim()!==e.trim()}return t!==e}(n,e))}var Ya={create:Wa,update:Wa},Xa=S((function(n){var e={},t=/:(.+)/;return n.split(/;(?![^(]*\))/g).forEach((function(n){if(n){var a=n.split(t);a.length>1&&(e[a[0].trim()]=a[1].trim())}})),e}));function Za(n){var e=ni(n.style);return n.staticStyle?M(n.staticStyle,e):e}function ni(n){return Array.isArray(n)?z(n):"string"==typeof n?Xa(n):n}var ei,ti=/^--/,ai=/\s*!important$/,ii=function(n,e,t){if(ti.test(e))n.style.setProperty(e,t);else if(ai.test(t))n.style.setProperty(q(e),t.replace(ai,""),"important");else{var a=si(e);if(Array.isArray(t))for(var i=0,r=t.length;i<r;i++)n.style[a]=t[i];else n.style[a]=t}},ri=["Webkit","Moz","ms"],si=S((function(n){if(ei=ei||document.createElement("div").style,"filter"!==(n=E(n))&&n in ei)return n;for(var e=n.charAt(0).toUpperCase()+n.slice(1),t=0;t<ri.length;t++){var a=ri[t]+e;if(a in ei)return a}}));function oi(n,e){var t=e.data,a=n.data;if(!(r(t.staticStyle)&&r(t.style)&&r(a.staticStyle)&&r(a.style))){var i,o,l=e.elm,c=a.staticStyle,d=a.normalizedStyle||a.style||{},u=c||d,p=ni(e.data.style)||{};e.data.normalizedStyle=s(p.__ob__)?M({},p):p;var m=function(n,e){var t,a={};if(e)for(var i=n;i.componentInstance;)(i=i.componentInstance._vnode)&&i.data&&(t=Za(i.data))&&M(a,t);(t=Za(n.data))&&M(a,t);for(var r=n;r=r.parent;)r.data&&(t=Za(r.data))&&M(a,t);return a}(e,!0);for(o in u)r(m[o])&&ii(l,o,"");for(o in m)i=m[o],ii(l,o,null==i?"":i)}}var li={create:oi,update:oi},ci=/\s+/;function di(n,e){if(e&&(e=e.trim()))if(n.classList)e.indexOf(" ")>-1?e.split(ci).forEach((function(e){return n.classList.add(e)})):n.classList.add(e);else{var t=" ".concat(n.getAttribute("class")||""," ");t.indexOf(" "+e+" ")<0&&n.setAttribute("class",(t+e).trim())}}function ui(n,e){if(e&&(e=e.trim()))if(n.classList)e.indexOf(" ")>-1?e.split(ci).forEach((function(e){return n.classList.remove(e)})):n.classList.remove(e),n.classList.length||n.removeAttribute("class");else{for(var t=" ".concat(n.getAttribute("class")||""," "),a=" "+e+" ";t.indexOf(a)>=0;)t=t.replace(a," ");(t=t.trim())?n.setAttribute("class",t):n.removeAttribute("class")}}function pi(n){if(n){if("object"==typeof n){var e={};return!1!==n.css&&M(e,mi(n.name||"v")),M(e,n),e}return"string"==typeof n?mi(n):void 0}}var mi=S((function(n){return{enterClass:"".concat(n,"-enter"),enterToClass:"".concat(n,"-enter-to"),enterActiveClass:"".concat(n,"-enter-active"),leaveClass:"".concat(n,"-leave"),leaveToClass:"".concat(n,"-leave-to"),leaveActiveClass:"".concat(n,"-leave-active")}})),hi=W&&!X,gi="transition",bi="transitionend",fi="animation",yi="animationend";hi&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(gi="WebkitTransition",bi="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(fi="WebkitAnimation",yi="webkitAnimationEnd"));var vi=W?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(n){return n()};function ki(n){vi((function(){vi(n)}))}function xi(n,e){var t=n._transitionClasses||(n._transitionClasses=[]);t.indexOf(e)<0&&(t.push(e),di(n,e))}function wi(n,e){n._transitionClasses&&x(n._transitionClasses,e),ui(n,e)}function _i(n,e,t){var a=ji(n,e),i=a.type,r=a.timeout,s=a.propCount;if(!i)return t();var o="transition"===i?bi:yi,l=0,c=function(){n.removeEventListener(o,d),t()},d=function(e){e.target===n&&++l>=s&&c()};setTimeout((function(){l<s&&c()}),r+1),n.addEventListener(o,d)}var Si=/\b(transform|all)(,|$)/;function ji(n,e){var t,a=window.getComputedStyle(n),i=(a[gi+"Delay"]||"").split(", "),r=(a[gi+"Duration"]||"").split(", "),s=Ei(i,r),o=(a[fi+"Delay"]||"").split(", "),l=(a[fi+"Duration"]||"").split(", "),c=Ei(o,l),d=0,u=0;return"transition"===e?s>0&&(t="transition",d=s,u=r.length):"animation"===e?c>0&&(t="animation",d=c,u=l.length):u=(t=(d=Math.max(s,c))>0?s>c?"transition":"animation":null)?"transition"===t?r.length:l.length:0,{type:t,timeout:d,propCount:u,hasTransform:"transition"===t&&Si.test(a[gi+"Property"])}}function Ei(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max.apply(null,e.map((function(e,t){return Ti(e)+Ti(n[t])})))}function Ti(n){return 1e3*Number(n.slice(0,-1).replace(",","."))}function Ci(n,e){var t=n.elm;s(t._leaveCb)&&(t._leaveCb.cancelled=!0,t._leaveCb());var a=pi(n.data.transition);if(!r(a)&&!s(t._enterCb)&&1===t.nodeType){for(var i=a.css,o=a.type,l=a.enterClass,u=a.enterToClass,p=a.enterActiveClass,m=a.appearClass,h=a.appearToClass,g=a.appearActiveClass,b=a.beforeEnter,f=a.enter,v=a.afterEnter,k=a.enterCancelled,x=a.beforeAppear,w=a.appear,_=a.afterAppear,S=a.appearCancelled,j=a.duration,E=Ye,T=Ye.$vnode;T&&T.parent;)E=T.context,T=T.parent;var C=!E._isMounted||!n.isRootInsert;if(!C||w||""===w){var q=C&&m?m:l,I=C&&g?g:p,A=C&&h?h:u,M=C&&x||b,z=C&&c(w)?w:f,L=C&&_||v,D=C&&S||k,R=y(d(j)?j.enter:j);0;var B=!1!==i&&!X,O=Ai(z),N=t._enterCb=P((function(){B&&(wi(t,A),wi(t,I)),N.cancelled?(B&&wi(t,q),D&&D(t)):L&&L(t),t._enterCb=null}));n.data.show||$n(n,"insert",(function(){var e=t.parentNode,a=e&&e._pending&&e._pending[n.key];a&&a.tag===n.tag&&a.elm._leaveCb&&a.elm._leaveCb(),z&&z(t,N)})),M&&M(t),B&&(xi(t,q),xi(t,I),ki((function(){wi(t,q),N.cancelled||(xi(t,A),O||(Ii(R)?setTimeout(N,R):_i(t,o,N)))}))),n.data.show&&(e&&e(),z&&z(t,N)),B||O||N()}}}function qi(n,e){var t=n.elm;s(t._enterCb)&&(t._enterCb.cancelled=!0,t._enterCb());var a=pi(n.data.transition);if(r(a)||1!==t.nodeType)return e();if(!s(t._leaveCb)){var i=a.css,o=a.type,l=a.leaveClass,c=a.leaveToClass,u=a.leaveActiveClass,p=a.beforeLeave,m=a.leave,h=a.afterLeave,g=a.leaveCancelled,b=a.delayLeave,f=a.duration,v=!1!==i&&!X,k=Ai(m),x=y(d(f)?f.leave:f);0;var w=t._leaveCb=P((function(){t.parentNode&&t.parentNode._pending&&(t.parentNode._pending[n.key]=null),v&&(wi(t,c),wi(t,u)),w.cancelled?(v&&wi(t,l),g&&g(t)):(e(),h&&h(t)),t._leaveCb=null}));b?b(_):_()}function _(){w.cancelled||(!n.data.show&&t.parentNode&&((t.parentNode._pending||(t.parentNode._pending={}))[n.key]=n),p&&p(t),v&&(xi(t,l),xi(t,u),ki((function(){wi(t,l),w.cancelled||(xi(t,c),k||(Ii(x)?setTimeout(w,x):_i(t,o,w)))}))),m&&m(t,w),v||k||w())}}function Ii(n){return"number"==typeof n&&!isNaN(n)}function Ai(n){if(r(n))return!1;var e=n.fns;return s(e)?Ai(Array.isArray(e)?e[0]:e):(n._length||n.length)>1}function Mi(n,e){!0!==e.data.show&&Ci(e)}var zi=function(n){var e,t,a={},c=n.modules,d=n.nodeOps;for(e=0;e<ja.length;++e)for(a[ja[e]]=[],t=0;t<c.length;++t)s(c[t][ja[e]])&&a[ja[e]].push(c[t][ja[e]]);function u(n){var e=d.parentNode(n);s(e)&&d.removeChild(e,n)}function p(n,e,t,i,r,l,c){if(s(n.elm)&&s(l)&&(n=l[c]=fn(n)),n.isRootInsert=!r,!function(n,e,t,i){var r=n.data;if(s(r)){var l=s(n.componentInstance)&&r.keepAlive;if(s(r=r.hook)&&s(r=r.init)&&r(n,!1),s(n.componentInstance))return m(n,e),h(t,n.elm,i),o(l)&&function(n,e,t,i){var r,o=n;for(;o.componentInstance;)if(o=o.componentInstance._vnode,s(r=o.data)&&s(r=r.transition)){for(r=0;r<a.activate.length;++r)a.activate[r](Sa,o);e.push(o);break}h(t,n.elm,i)}(n,e,t,i),!0}}(n,e,t,i)){var u=n.data,p=n.children,b=n.tag;s(b)?(n.elm=n.ns?d.createElementNS(n.ns,b):d.createElement(b,n),y(n),g(n,p,e),s(u)&&f(n,e),h(t,n.elm,i)):o(n.isComment)?(n.elm=d.createComment(n.text),h(t,n.elm,i)):(n.elm=d.createTextNode(n.text),h(t,n.elm,i))}}function m(n,e){s(n.data.pendingInsert)&&(e.push.apply(e,n.data.pendingInsert),n.data.pendingInsert=null),n.elm=n.componentInstance.$el,b(n)?(f(n,e),y(n)):(wa(n),e.push(n))}function h(n,e,t){s(n)&&(s(t)?d.parentNode(t)===n&&d.insertBefore(n,e,t):d.appendChild(n,e))}function g(n,e,t){if(i(e)){0;for(var a=0;a<e.length;++a)p(e[a],t,n.elm,null,!0,e,a)}else l(n.text)&&d.appendChild(n.elm,d.createTextNode(String(n.text)))}function b(n){for(;n.componentInstance;)n=n.componentInstance._vnode;return s(n.tag)}function f(n,t){for(var i=0;i<a.create.length;++i)a.create[i](Sa,n);s(e=n.data.hook)&&(s(e.create)&&e.create(Sa,n),s(e.insert)&&t.push(n))}function y(n){var e;if(s(e=n.fnScopeId))d.setStyleScope(n.elm,e);else for(var t=n;t;)s(e=t.context)&&s(e=e.$options._scopeId)&&d.setStyleScope(n.elm,e),t=t.parent;s(e=Ye)&&e!==n.context&&e!==n.fnContext&&s(e=e.$options._scopeId)&&d.setStyleScope(n.elm,e)}function k(n,e,t,a,i,r){for(;a<=i;++a)p(t[a],r,n,e,!1,t,a)}function x(n){var e,t,i=n.data;if(s(i))for(s(e=i.hook)&&s(e=e.destroy)&&e(n),e=0;e<a.destroy.length;++e)a.destroy[e](n);if(s(e=n.children))for(t=0;t<n.children.length;++t)x(n.children[t])}function w(n,e,t){for(;e<=t;++e){var a=n[e];s(a)&&(s(a.tag)?(_(a),x(a)):u(a.elm))}}function _(n,e){if(s(e)||s(n.data)){var t,i=a.remove.length+1;for(s(e)?e.listeners+=i:e=function(n,e){function t(){0==--t.listeners&&u(n)}return t.listeners=e,t}(n.elm,i),s(t=n.componentInstance)&&s(t=t._vnode)&&s(t.data)&&_(t,e),t=0;t<a.remove.length;++t)a.remove[t](n,e);s(t=n.data.hook)&&s(t=t.remove)?t(n,e):e()}else u(n.elm)}function S(n,e,t,a){for(var i=t;i<a;i++){var r=e[i];if(s(r)&&Ea(n,r))return i}}function j(n,e,t,i,l,c){if(n!==e){s(e.elm)&&s(i)&&(e=i[l]=fn(e));var u=e.elm=n.elm;if(o(n.isAsyncPlaceholder))s(e.asyncFactory.resolved)?C(n.elm,e,t):e.isAsyncPlaceholder=!0;else if(o(e.isStatic)&&o(n.isStatic)&&e.key===n.key&&(o(e.isCloned)||o(e.isOnce)))e.componentInstance=n.componentInstance;else{var m,h=e.data;s(h)&&s(m=h.hook)&&s(m=m.prepatch)&&m(n,e);var g=n.children,f=e.children;if(s(h)&&b(e)){for(m=0;m<a.update.length;++m)a.update[m](n,e);s(m=h.hook)&&s(m=m.update)&&m(n,e)}r(e.text)?s(g)&&s(f)?g!==f&&function(n,e,t,a,i){var o,l,c,u=0,m=0,h=e.length-1,g=e[0],b=e[h],f=t.length-1,y=t[0],v=t[f],x=!i;for(0;u<=h&&m<=f;)r(g)?g=e[++u]:r(b)?b=e[--h]:Ea(g,y)?(j(g,y,a,t,m),g=e[++u],y=t[++m]):Ea(b,v)?(j(b,v,a,t,f),b=e[--h],v=t[--f]):Ea(g,v)?(j(g,v,a,t,f),x&&d.insertBefore(n,g.elm,d.nextSibling(b.elm)),g=e[++u],v=t[--f]):Ea(b,y)?(j(b,y,a,t,m),x&&d.insertBefore(n,b.elm,g.elm),b=e[--h],y=t[++m]):(r(o)&&(o=Ta(e,u,h)),r(l=s(y.key)?o[y.key]:S(y,e,u,h))?p(y,a,n,g.elm,!1,t,m):Ea(c=e[l],y)?(j(c,y,a,t,m),e[l]=void 0,x&&d.insertBefore(n,c.elm,g.elm)):p(y,a,n,g.elm,!1,t,m),y=t[++m]);u>h?k(n,r(t[f+1])?null:t[f+1].elm,t,m,f,a):m>f&&w(e,u,h)}(u,g,f,t,c):s(f)?(s(n.text)&&d.setTextContent(u,""),k(u,null,f,0,f.length-1,t)):s(g)?w(g,0,g.length-1):s(n.text)&&d.setTextContent(u,""):n.text!==e.text&&d.setTextContent(u,e.text),s(h)&&s(m=h.hook)&&s(m=m.postpatch)&&m(n,e)}}}function E(n,e,t){if(o(t)&&s(n.parent))n.parent.data.pendingInsert=e;else for(var a=0;a<e.length;++a)e[a].data.hook.insert(e[a])}var T=v("attrs,class,staticClass,staticStyle,key");function C(n,e,t,a){var i,r=e.tag,l=e.data,c=e.children;if(a=a||l&&l.pre,e.elm=n,o(e.isComment)&&s(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(s(l)&&(s(i=l.hook)&&s(i=i.init)&&i(e,!0),s(i=e.componentInstance)))return m(e,t),!0;if(s(r)){if(s(c))if(n.hasChildNodes())if(s(i=l)&&s(i=i.domProps)&&s(i=i.innerHTML)){if(i!==n.innerHTML)return!1}else{for(var d=!0,u=n.firstChild,p=0;p<c.length;p++){if(!u||!C(u,c[p],t,a)){d=!1;break}u=u.nextSibling}if(!d||u)return!1}else g(e,c,t);if(s(l)){var h=!1;for(var b in l)if(!T(b)){h=!0,f(e,t);break}!h&&l.class&&Qe(l.class)}}else n.data!==e.text&&(n.data=e.text);return!0}return function(n,e,t,i){if(!r(e)){var l,c=!1,u=[];if(r(n))c=!0,p(e,u);else{var m=s(n.nodeType);if(!m&&Ea(n,e))j(n,e,u,null,null,i);else{if(m){if(1===n.nodeType&&n.hasAttribute("data-server-rendered")&&(n.removeAttribute("data-server-rendered"),t=!0),o(t)&&C(n,e,u))return E(e,u,!0),n;l=n,n=new hn(d.tagName(l).toLowerCase(),{},[],void 0,l)}var h=n.elm,g=d.parentNode(h);if(p(e,u,h._leaveCb?null:g,d.nextSibling(h)),s(e.parent))for(var f=e.parent,y=b(e);f;){for(var v=0;v<a.destroy.length;++v)a.destroy[v](f);if(f.elm=e.elm,y){for(var k=0;k<a.create.length;++k)a.create[k](Sa,f);var _=f.data.hook.insert;if(_.merged)for(var S=_.fns.slice(1),T=0;T<S.length;T++)S[T]()}else wa(f);f=f.parent}s(g)?w([n],0,0):s(n.tag)&&x(n)}}return E(e,u,c),e.elm}s(n)&&x(n)}}({nodeOps:ka,modules:[Oa,Ua,$a,Ya,li,W?{create:Mi,activate:Mi,remove:function(n,e){!0!==n.data.show?qi(n,e):e()}}:{}].concat(La)});X&&document.addEventListener("selectionchange",(function(){var n=document.activeElement;n&&n.vmodel&&Ui(n,"input")}));var Li={inserted:function(n,e,t,a){"select"===t.tag?(a.elm&&!a.elm._vOptions?$n(t,"postpatch",(function(){Li.componentUpdated(n,e,t)})):Di(n,e,t.context),n._vOptions=[].map.call(n.options,Oi)):("textarea"===t.tag||va(n.type))&&(n._vModifiers=e.modifiers,e.modifiers.lazy||(n.addEventListener("compositionstart",Pi),n.addEventListener("compositionend",Ni),n.addEventListener("change",Ni),X&&(n.vmodel=!0)))},componentUpdated:function(n,e,t){if("select"===t.tag){Di(n,e,t.context);var a=n._vOptions,i=n._vOptions=[].map.call(n.options,Oi);if(i.some((function(n,e){return!B(n,a[e])})))(n.multiple?e.value.some((function(n){return Bi(n,i)})):e.value!==e.oldValue&&Bi(e.value,i))&&Ui(n,"change")}}};function Di(n,e,t){Ri(n,e,t),(Y||Z)&&setTimeout((function(){Ri(n,e,t)}),0)}function Ri(n,e,t){var a=e.value,i=n.multiple;if(!i||Array.isArray(a)){for(var r,s,o=0,l=n.options.length;o<l;o++)if(s=n.options[o],i)r=O(a,Oi(s))>-1,s.selected!==r&&(s.selected=r);else if(B(Oi(s),a))return void(n.selectedIndex!==o&&(n.selectedIndex=o));i||(n.selectedIndex=-1)}}function Bi(n,e){return e.every((function(e){return!B(e,n)}))}function Oi(n){return"_value"in n?n._value:n.value}function Pi(n){n.target.composing=!0}function Ni(n){n.target.composing&&(n.target.composing=!1,Ui(n.target,"input"))}function Ui(n,e){var t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!0),n.dispatchEvent(t)}function Ji(n){return!n.componentInstance||n.data&&n.data.transition?n:Ji(n.componentInstance._vnode)}var Qi={model:Li,show:{bind:function(n,e,t){var a=e.value,i=(t=Ji(t)).data&&t.data.transition,r=n.__vOriginalDisplay="none"===n.style.display?"":n.style.display;a&&i?(t.data.show=!0,Ci(t,(function(){n.style.display=r}))):n.style.display=a?r:"none"},update:function(n,e,t){var a=e.value;!a!=!e.oldValue&&((t=Ji(t)).data&&t.data.transition?(t.data.show=!0,a?Ci(t,(function(){n.style.display=n.__vOriginalDisplay})):qi(t,(function(){n.style.display="none"}))):n.style.display=a?n.__vOriginalDisplay:"none")},unbind:function(n,e,t,a,i){i||(n.style.display=n.__vOriginalDisplay)}}},Hi={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Fi(n){var e=n&&n.componentOptions;return e&&e.Ctor.options.abstract?Fi(je(e.children)):n}function Vi(n){var e={},t=n.$options;for(var a in t.propsData)e[a]=n[a];var i=t._parentListeners;for(var a in i)e[E(a)]=i[a];return e}function Gi(n,e){if(/\d-keep-alive$/.test(e.tag))return n("keep-alive",{props:e.componentOptions.propsData})}var $i=function(n){return n.tag||ge(n)},Wi=function(n){return"show"===n.name},Ki={name:"transition",props:Hi,abstract:!0,render:function(n){var e=this,t=this.$slots.default;if(t&&(t=t.filter($i)).length){0;var a=this.mode;0;var i=t[0];if(function(n){for(;n=n.parent;)if(n.data.transition)return!0}(this.$vnode))return i;var r=Fi(i);if(!r)return i;if(this._leaving)return Gi(n,i);var s="__transition-".concat(this._uid,"-");r.key=null==r.key?r.isComment?s+"comment":s+r.tag:l(r.key)?0===String(r.key).indexOf(s)?r.key:s+r.key:r.key;var o=(r.data||(r.data={})).transition=Vi(this),c=this._vnode,d=Fi(c);if(r.data.directives&&r.data.directives.some(Wi)&&(r.data.show=!0),d&&d.data&&!function(n,e){return e.key===n.key&&e.tag===n.tag}(r,d)&&!ge(d)&&(!d.componentInstance||!d.componentInstance._vnode.isComment)){var u=d.data.transition=M({},o);if("out-in"===a)return this._leaving=!0,$n(u,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),Gi(n,i);if("in-out"===a){if(ge(r))return c;var p,m=function(){p()};$n(o,"afterEnter",m),$n(o,"enterCancelled",m),$n(u,"delayLeave",(function(n){p=n}))}}return i}}},Yi=M({tag:String,moveClass:String},Hi);function Xi(n){n.elm._moveCb&&n.elm._moveCb(),n.elm._enterCb&&n.elm._enterCb()}function Zi(n){n.data.newPos=n.elm.getBoundingClientRect()}function nr(n){var e=n.data.pos,t=n.data.newPos,a=e.left-t.left,i=e.top-t.top;if(a||i){n.data.moved=!0;var r=n.elm.style;r.transform=r.WebkitTransform="translate(".concat(a,"px,").concat(i,"px)"),r.transitionDuration="0s"}}delete Yi.mode;var er={Transition:Ki,TransitionGroup:{props:Yi,beforeMount:function(){var n=this,e=this._update;this._update=function(t,a){var i=Xe(n);n.__patch__(n._vnode,n.kept,!1,!0),n._vnode=n.kept,i(),e.call(n,t,a)}},render:function(n){for(var e=this.tag||this.$vnode.data.tag||"span",t=Object.create(null),a=this.prevChildren=this.children,i=this.$slots.default||[],r=this.children=[],s=Vi(this),o=0;o<i.length;o++){if((d=i[o]).tag)if(null!=d.key&&0!==String(d.key).indexOf("__vlist"))r.push(d),t[d.key]=d,(d.data||(d.data={})).transition=s;else;}if(a){var l=[],c=[];for(o=0;o<a.length;o++){var d;(d=a[o]).data.transition=s,d.data.pos=d.elm.getBoundingClientRect(),t[d.key]?l.push(d):c.push(d)}this.kept=n(e,null,l),this.removed=c}return n(e,null,r)},updated:function(){var n=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";n.length&&this.hasMove(n[0].elm,e)&&(n.forEach(Xi),n.forEach(Zi),n.forEach(nr),this._reflow=document.body.offsetHeight,n.forEach((function(n){if(n.data.moved){var t=n.elm,a=t.style;xi(t,e),a.transform=a.WebkitTransform=a.transitionDuration="",t.addEventListener(bi,t._moveCb=function n(a){a&&a.target!==t||a&&!/transform$/.test(a.propertyName)||(t.removeEventListener(bi,n),t._moveCb=null,wi(t,e))})}})))},methods:{hasMove:function(n,e){if(!hi)return!1;if(this._hasMove)return this._hasMove;var t=n.cloneNode();n._transitionClasses&&n._transitionClasses.forEach((function(n){ui(t,n)})),di(t,e),t.style.display="none",this.$el.appendChild(t);var a=ji(t);return this.$el.removeChild(t),this._hasMove=a.hasTransform}}}};function tr(n,e){for(var t in e)n[t]=e[t];return n}Gt.config.mustUseProp=function(n,e,t){return"value"===t&&ta(n)&&"button"!==e||"selected"===t&&"option"===n||"checked"===t&&"input"===n||"muted"===t&&"video"===n},Gt.config.isReservedTag=fa,Gt.config.isReservedAttr=ea,Gt.config.getTagNamespace=function(n){return ba(n)?"svg":"math"===n?"math":void 0},Gt.config.isUnknownElement=function(n){if(!W)return!0;if(fa(n))return!1;if(n=n.toLowerCase(),null!=ya[n])return ya[n];var e=document.createElement(n);return n.indexOf("-")>-1?ya[n]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:ya[n]=/HTMLUnknownElement/.test(e.toString())},M(Gt.options.directives,Qi),M(Gt.options.components,er),Gt.prototype.__patch__=W?zi:L,Gt.prototype.$mount=function(n,e){return function(n,e,t){var a;n.$el=e,n.$options.render||(n.$options.render=gn),et(n,"beforeMount"),a=function(){n._update(n._render(),t)},new Ve(n,a,L,{before:function(){n._isMounted&&!n._isDestroyed&&et(n,"beforeUpdate")}},!0),t=!1;var i=n._preWatchers;if(i)for(var r=0;r<i.length;r++)i[r].run();return null==n.$vnode&&(n._isMounted=!0,et(n,"mounted")),n}(this,n=n&&W?function(n){if("string"==typeof n){var e=document.querySelector(n);return e||document.createElement("div")}return n}(n):void 0,e)},W&&setTimeout((function(){Q.devtools&&ln&&ln.emit("init",Gt)}),0);var ar=/[!'()*]/g,ir=function(n){return"%"+n.charCodeAt(0).toString(16)},rr=/%2C/g,sr=function(n){return encodeURIComponent(n).replace(ar,ir).replace(rr,",")};function or(n){try{return decodeURIComponent(n)}catch(n){0}return n}var lr=function(n){return null==n||"object"==typeof n?n:String(n)};function cr(n){var e={};return(n=n.trim().replace(/^(\?|#|&)/,""))?(n.split("&").forEach((function(n){var t=n.replace(/\+/g," ").split("="),a=or(t.shift()),i=t.length>0?or(t.join("=")):null;void 0===e[a]?e[a]=i:Array.isArray(e[a])?e[a].push(i):e[a]=[e[a],i]})),e):e}function dr(n){var e=n?Object.keys(n).map((function(e){var t=n[e];if(void 0===t)return"";if(null===t)return sr(e);if(Array.isArray(t)){var a=[];return t.forEach((function(n){void 0!==n&&(null===n?a.push(sr(e)):a.push(sr(e)+"="+sr(n)))})),a.join("&")}return sr(e)+"="+sr(t)})).filter((function(n){return n.length>0})).join("&"):null;return e?"?"+e:""}var ur=/\/?$/;function pr(n,e,t,a){var i=a&&a.options.stringifyQuery,r=e.query||{};try{r=mr(r)}catch(n){}var s={name:e.name||n&&n.name,meta:n&&n.meta||{},path:e.path||"/",hash:e.hash||"",query:r,params:e.params||{},fullPath:br(e,i),matched:n?gr(n):[]};return t&&(s.redirectedFrom=br(t,i)),Object.freeze(s)}function mr(n){if(Array.isArray(n))return n.map(mr);if(n&&"object"==typeof n){var e={};for(var t in n)e[t]=mr(n[t]);return e}return n}var hr=pr(null,{path:"/"});function gr(n){for(var e=[];n;)e.unshift(n),n=n.parent;return e}function br(n,e){var t=n.path,a=n.query;void 0===a&&(a={});var i=n.hash;return void 0===i&&(i=""),(t||"/")+(e||dr)(a)+i}function fr(n,e,t){return e===hr?n===e:!!e&&(n.path&&e.path?n.path.replace(ur,"")===e.path.replace(ur,"")&&(t||n.hash===e.hash&&yr(n.query,e.query)):!(!n.name||!e.name)&&(n.name===e.name&&(t||n.hash===e.hash&&yr(n.query,e.query)&&yr(n.params,e.params))))}function yr(n,e){if(void 0===n&&(n={}),void 0===e&&(e={}),!n||!e)return n===e;var t=Object.keys(n).sort(),a=Object.keys(e).sort();return t.length===a.length&&t.every((function(t,i){var r=n[t];if(a[i]!==t)return!1;var s=e[t];return null==r||null==s?r===s:"object"==typeof r&&"object"==typeof s?yr(r,s):String(r)===String(s)}))}function vr(n){for(var e=0;e<n.matched.length;e++){var t=n.matched[e];for(var a in t.instances){var i=t.instances[a],r=t.enteredCbs[a];if(i&&r){delete t.enteredCbs[a];for(var s=0;s<r.length;s++)i._isBeingDestroyed||r[s](i)}}}}var kr={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(n,e){var t=e.props,a=e.children,i=e.parent,r=e.data;r.routerView=!0;for(var s=i.$createElement,o=t.name,l=i.$route,c=i._routerViewCache||(i._routerViewCache={}),d=0,u=!1;i&&i._routerRoot!==i;){var p=i.$vnode?i.$vnode.data:{};p.routerView&&d++,p.keepAlive&&i._directInactive&&i._inactive&&(u=!0),i=i.$parent}if(r.routerViewDepth=d,u){var m=c[o],h=m&&m.component;return h?(m.configProps&&xr(h,r,m.route,m.configProps),s(h,r,a)):s()}var g=l.matched[d],b=g&&g.components[o];if(!g||!b)return c[o]=null,s();c[o]={component:b},r.registerRouteInstance=function(n,e){var t=g.instances[o];(e&&t!==n||!e&&t===n)&&(g.instances[o]=e)},(r.hook||(r.hook={})).prepatch=function(n,e){g.instances[o]=e.componentInstance},r.hook.init=function(n){n.data.keepAlive&&n.componentInstance&&n.componentInstance!==g.instances[o]&&(g.instances[o]=n.componentInstance),vr(l)};var f=g.props&&g.props[o];return f&&(tr(c[o],{route:l,configProps:f}),xr(b,r,l,f)),s(b,r,a)}};function xr(n,e,t,a){var i=e.props=function(n,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(n);case"boolean":return e?n.params:void 0;default:0}}(t,a);if(i){i=e.props=tr({},i);var r=e.attrs=e.attrs||{};for(var s in i)n.props&&s in n.props||(r[s]=i[s],delete i[s])}}function wr(n,e,t){var a=n.charAt(0);if("/"===a)return n;if("?"===a||"#"===a)return e+n;var i=e.split("/");t&&i[i.length-1]||i.pop();for(var r=n.replace(/^\//,"").split("/"),s=0;s<r.length;s++){var o=r[s];".."===o?i.pop():"."!==o&&i.push(o)}return""!==i[0]&&i.unshift(""),i.join("/")}function _r(n){return n.replace(/\/(?:\s*\/)+/g,"/")}var Sr=Array.isArray||function(n){return"[object Array]"==Object.prototype.toString.call(n)},jr=Pr,Er=Ar,Tr=function(n,e){return zr(Ar(n,e),e)},Cr=zr,qr=Or,Ir=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function Ar(n,e){for(var t,a=[],i=0,r=0,s="",o=e&&e.delimiter||"/";null!=(t=Ir.exec(n));){var l=t[0],c=t[1],d=t.index;if(s+=n.slice(r,d),r=d+l.length,c)s+=c[1];else{var u=n[r],p=t[2],m=t[3],h=t[4],g=t[5],b=t[6],f=t[7];s&&(a.push(s),s="");var y=null!=p&&null!=u&&u!==p,v="+"===b||"*"===b,k="?"===b||"*"===b,x=t[2]||o,w=h||g;a.push({name:m||i++,prefix:p||"",delimiter:x,optional:k,repeat:v,partial:y,asterisk:!!f,pattern:w?Dr(w):f?".*":"[^"+Lr(x)+"]+?"})}}return r<n.length&&(s+=n.substr(r)),s&&a.push(s),a}function Mr(n){return encodeURI(n).replace(/[\/?#]/g,(function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()}))}function zr(n,e){for(var t=new Array(n.length),a=0;a<n.length;a++)"object"==typeof n[a]&&(t[a]=new RegExp("^(?:"+n[a].pattern+")$",Br(e)));return function(e,a){for(var i="",r=e||{},s=(a||{}).pretty?Mr:encodeURIComponent,o=0;o<n.length;o++){var l=n[o];if("string"!=typeof l){var c,d=r[l.name];if(null==d){if(l.optional){l.partial&&(i+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(Sr(d)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var u=0;u<d.length;u++){if(c=s(d[u]),!t[o].test(c))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(c)+"`");i+=(0===u?l.prefix:l.delimiter)+c}}else{if(c=l.asterisk?encodeURI(d).replace(/[?#]/g,(function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()})):s(d),!t[o].test(c))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+c+'"');i+=l.prefix+c}}else i+=l}return i}}function Lr(n){return n.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function Dr(n){return n.replace(/([=!:$\/()])/g,"\\$1")}function Rr(n,e){return n.keys=e,n}function Br(n){return n&&n.sensitive?"":"i"}function Or(n,e,t){Sr(e)||(t=e||t,e=[]);for(var a=(t=t||{}).strict,i=!1!==t.end,r="",s=0;s<n.length;s++){var o=n[s];if("string"==typeof o)r+=Lr(o);else{var l=Lr(o.prefix),c="(?:"+o.pattern+")";e.push(o),o.repeat&&(c+="(?:"+l+c+")*"),r+=c=o.optional?o.partial?l+"("+c+")?":"(?:"+l+"("+c+"))?":l+"("+c+")"}}var d=Lr(t.delimiter||"/"),u=r.slice(-d.length)===d;return a||(r=(u?r.slice(0,-d.length):r)+"(?:"+d+"(?=$))?"),r+=i?"$":a&&u?"":"(?="+d+"|$)",Rr(new RegExp("^"+r,Br(t)),e)}function Pr(n,e,t){return Sr(e)||(t=e||t,e=[]),t=t||{},n instanceof RegExp?function(n,e){var t=n.source.match(/\((?!\?)/g);if(t)for(var a=0;a<t.length;a++)e.push({name:a,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Rr(n,e)}(n,e):Sr(n)?function(n,e,t){for(var a=[],i=0;i<n.length;i++)a.push(Pr(n[i],e,t).source);return Rr(new RegExp("(?:"+a.join("|")+")",Br(t)),e)}(n,e,t):function(n,e,t){return Or(Ar(n,t),e,t)}(n,e,t)}jr.parse=Er,jr.compile=Tr,jr.tokensToFunction=Cr,jr.tokensToRegExp=qr;var Nr=Object.create(null);function Ur(n,e,t){e=e||{};try{var a=Nr[n]||(Nr[n]=jr.compile(n));return"string"==typeof e.pathMatch&&(e[0]=e.pathMatch),a(e,{pretty:!0})}catch(n){return""}finally{delete e[0]}}function Jr(n,e,t,a){var i="string"==typeof n?{path:n}:n;if(i._normalized)return i;if(i.name){var r=(i=tr({},n)).params;return r&&"object"==typeof r&&(i.params=tr({},r)),i}if(!i.path&&i.params&&e){(i=tr({},i))._normalized=!0;var s=tr(tr({},e.params),i.params);if(e.name)i.name=e.name,i.params=s;else if(e.matched.length){var o=e.matched[e.matched.length-1].path;i.path=Ur(o,s,e.path)}else 0;return i}var l=function(n){var e="",t="",a=n.indexOf("#");a>=0&&(e=n.slice(a),n=n.slice(0,a));var i=n.indexOf("?");return i>=0&&(t=n.slice(i+1),n=n.slice(0,i)),{path:n,query:t,hash:e}}(i.path||""),c=e&&e.path||"/",d=l.path?wr(l.path,c,t||i.append):c,u=function(n,e,t){void 0===e&&(e={});var a,i=t||cr;try{a=i(n||"")}catch(n){a={}}for(var r in e){var s=e[r];a[r]=Array.isArray(s)?s.map(lr):lr(s)}return a}(l.query,i.query,a&&a.options.parseQuery),p=i.hash||l.hash;return p&&"#"!==p.charAt(0)&&(p="#"+p),{_normalized:!0,path:d,query:u,hash:p}}var Qr,Hr=function(){},Fr={name:"RouterLink",props:{to:{type:[String,Object],required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:[String,Array],default:"click"}},render:function(n){var e=this,t=this.$router,a=this.$route,i=t.resolve(this.to,a,this.append),r=i.location,s=i.route,o=i.href,l={},c=t.options.linkActiveClass,d=t.options.linkExactActiveClass,u=null==c?"router-link-active":c,p=null==d?"router-link-exact-active":d,m=null==this.activeClass?u:this.activeClass,h=null==this.exactActiveClass?p:this.exactActiveClass,g=s.redirectedFrom?pr(null,Jr(s.redirectedFrom),null,t):s;l[h]=fr(a,g,this.exactPath),l[m]=this.exact||this.exactPath?l[h]:function(n,e){return 0===n.path.replace(ur,"/").indexOf(e.path.replace(ur,"/"))&&(!e.hash||n.hash===e.hash)&&function(n,e){for(var t in e)if(!(t in n))return!1;return!0}(n.query,e.query)}(a,g);var b=l[h]?this.ariaCurrentValue:null,f=function(n){Vr(n)&&(e.replace?t.replace(r,Hr):t.push(r,Hr))},y={click:Vr};Array.isArray(this.event)?this.event.forEach((function(n){y[n]=f})):y[this.event]=f;var v={class:l},k=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:o,route:s,navigate:f,isActive:l[m],isExactActive:l[h]});if(k){if(1===k.length)return k[0];if(k.length>1||!k.length)return 0===k.length?n():n("span",{},k)}if("a"===this.tag)v.on=y,v.attrs={href:o,"aria-current":b};else{var x=function n(e){var t;if(e)for(var a=0;a<e.length;a++){if("a"===(t=e[a]).tag)return t;if(t.children&&(t=n(t.children)))return t}}(this.$slots.default);if(x){x.isStatic=!1;var w=x.data=tr({},x.data);for(var _ in w.on=w.on||{},w.on){var S=w.on[_];_ in y&&(w.on[_]=Array.isArray(S)?S:[S])}for(var j in y)j in w.on?w.on[j].push(y[j]):w.on[j]=f;var E=x.data.attrs=tr({},x.data.attrs);E.href=o,E["aria-current"]=b}else v.on=y}return n(this.tag,v,this.$slots.default)}};function Vr(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey||n.defaultPrevented||void 0!==n.button&&0!==n.button)){if(n.currentTarget&&n.currentTarget.getAttribute){var e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}var Gr="undefined"!=typeof window;function $r(n,e,t,a,i){var r=e||[],s=t||Object.create(null),o=a||Object.create(null);n.forEach((function(n){!function n(e,t,a,i,r,s){var o=i.path,l=i.name;0;var c=i.pathToRegexpOptions||{},d=function(n,e,t){t||(n=n.replace(/\/$/,""));if("/"===n[0])return n;if(null==e)return n;return _r(e.path+"/"+n)}(o,r,c.strict);"boolean"==typeof i.caseSensitive&&(c.sensitive=i.caseSensitive);var u={path:d,regex:Wr(d,c),components:i.components||{default:i.component},alias:i.alias?"string"==typeof i.alias?[i.alias]:i.alias:[],instances:{},enteredCbs:{},name:l,parent:r,matchAs:s,redirect:i.redirect,beforeEnter:i.beforeEnter,meta:i.meta||{},props:null==i.props?{}:i.components?i.props:{default:i.props}};i.children&&i.children.forEach((function(i){var r=s?_r(s+"/"+i.path):void 0;n(e,t,a,i,u,r)}));t[u.path]||(e.push(u.path),t[u.path]=u);if(void 0!==i.alias)for(var p=Array.isArray(i.alias)?i.alias:[i.alias],m=0;m<p.length;++m){0;var h={path:p[m],children:i.children};n(e,t,a,h,r,u.path||"/")}l&&(a[l]||(a[l]=u))}(r,s,o,n,i)}));for(var l=0,c=r.length;l<c;l++)"*"===r[l]&&(r.push(r.splice(l,1)[0]),c--,l--);return{pathList:r,pathMap:s,nameMap:o}}function Wr(n,e){return jr(n,[],e)}function Kr(n,e){var t=$r(n),a=t.pathList,i=t.pathMap,r=t.nameMap;function s(n,t,s){var o=Jr(n,t,!1,e),c=o.name;if(c){var d=r[c];if(!d)return l(null,o);var u=d.regex.keys.filter((function(n){return!n.optional})).map((function(n){return n.name}));if("object"!=typeof o.params&&(o.params={}),t&&"object"==typeof t.params)for(var p in t.params)!(p in o.params)&&u.indexOf(p)>-1&&(o.params[p]=t.params[p]);return o.path=Ur(d.path,o.params),l(d,o,s)}if(o.path){o.params={};for(var m=0;m<a.length;m++){var h=a[m],g=i[h];if(Yr(g.regex,o.path,o.params))return l(g,o,s)}}return l(null,o)}function o(n,t){var a=n.redirect,i="function"==typeof a?a(pr(n,t,null,e)):a;if("string"==typeof i&&(i={path:i}),!i||"object"!=typeof i)return l(null,t);var o=i,c=o.name,d=o.path,u=t.query,p=t.hash,m=t.params;if(u=o.hasOwnProperty("query")?o.query:u,p=o.hasOwnProperty("hash")?o.hash:p,m=o.hasOwnProperty("params")?o.params:m,c){r[c];return s({_normalized:!0,name:c,query:u,hash:p,params:m},void 0,t)}if(d){var h=function(n,e){return wr(n,e.parent?e.parent.path:"/",!0)}(d,n);return s({_normalized:!0,path:Ur(h,m),query:u,hash:p},void 0,t)}return l(null,t)}function l(n,t,a){return n&&n.redirect?o(n,a||t):n&&n.matchAs?function(n,e,t){var a=s({_normalized:!0,path:Ur(t,e.params)});if(a){var i=a.matched,r=i[i.length-1];return e.params=a.params,l(r,e)}return l(null,e)}(0,t,n.matchAs):pr(n,t,a,e)}return{match:s,addRoute:function(n,e){var t="object"!=typeof n?r[n]:void 0;$r([e||n],a,i,r,t),t&&t.alias.length&&$r(t.alias.map((function(n){return{path:n,children:[e]}})),a,i,r,t)},getRoutes:function(){return a.map((function(n){return i[n]}))},addRoutes:function(n){$r(n,a,i,r)}}}function Yr(n,e,t){var a=e.match(n);if(!a)return!1;if(!t)return!0;for(var i=1,r=a.length;i<r;++i){var s=n.keys[i-1];s&&(t[s.name||"pathMatch"]="string"==typeof a[i]?or(a[i]):a[i])}return!0}var Xr=Gr&&window.performance&&window.performance.now?window.performance:Date;function Zr(){return Xr.now().toFixed(3)}var ns=Zr();function es(){return ns}function ts(n){return ns=n}var as=Object.create(null);function is(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var n=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(n,""),t=tr({},window.history.state);return t.key=es(),window.history.replaceState(t,"",e),window.addEventListener("popstate",os),function(){window.removeEventListener("popstate",os)}}function rs(n,e,t,a){if(n.app){var i=n.options.scrollBehavior;i&&n.app.$nextTick((function(){var r=function(){var n=es();if(n)return as[n]}(),s=i.call(n,e,t,a?r:null);s&&("function"==typeof s.then?s.then((function(n){ps(n,r)})).catch((function(n){0})):ps(s,r))}))}}function ss(){var n=es();n&&(as[n]={x:window.pageXOffset,y:window.pageYOffset})}function os(n){ss(),n.state&&n.state.key&&ts(n.state.key)}function ls(n){return ds(n.x)||ds(n.y)}function cs(n){return{x:ds(n.x)?n.x:window.pageXOffset,y:ds(n.y)?n.y:window.pageYOffset}}function ds(n){return"number"==typeof n}var us=/^#\d/;function ps(n,e){var t,a="object"==typeof n;if(a&&"string"==typeof n.selector){var i=us.test(n.selector)?document.getElementById(n.selector.slice(1)):document.querySelector(n.selector);if(i){var r=n.offset&&"object"==typeof n.offset?n.offset:{};e=function(n,e){var t=document.documentElement.getBoundingClientRect(),a=n.getBoundingClientRect();return{x:a.left-t.left-e.x,y:a.top-t.top-e.y}}(i,r={x:ds((t=r).x)?t.x:0,y:ds(t.y)?t.y:0})}else ls(n)&&(e=cs(n))}else a&&ls(n)&&(e=cs(n));e&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:e.x,top:e.y,behavior:n.behavior}):window.scrollTo(e.x,e.y))}var ms,hs=Gr&&((-1===(ms=window.navigator.userAgent).indexOf("Android 2.")&&-1===ms.indexOf("Android 4.0")||-1===ms.indexOf("Mobile Safari")||-1!==ms.indexOf("Chrome")||-1!==ms.indexOf("Windows Phone"))&&window.history&&"function"==typeof window.history.pushState);function gs(n,e){ss();var t=window.history;try{if(e){var a=tr({},t.state);a.key=es(),t.replaceState(a,"",n)}else t.pushState({key:ts(Zr())},"",n)}catch(t){window.location[e?"replace":"assign"](n)}}function bs(n){gs(n,!0)}var fs={redirected:2,aborted:4,cancelled:8,duplicated:16};function ys(n,e){return ks(n,e,fs.redirected,'Redirected when going from "'+n.fullPath+'" to "'+function(n){if("string"==typeof n)return n;if("path"in n)return n.path;var e={};return xs.forEach((function(t){t in n&&(e[t]=n[t])})),JSON.stringify(e,null,2)}(e)+'" via a navigation guard.')}function vs(n,e){return ks(n,e,fs.cancelled,'Navigation cancelled from "'+n.fullPath+'" to "'+e.fullPath+'" with a new navigation.')}function ks(n,e,t,a){var i=new Error(a);return i._isRouter=!0,i.from=n,i.to=e,i.type=t,i}var xs=["params","query","hash"];function ws(n){return Object.prototype.toString.call(n).indexOf("Error")>-1}function _s(n,e){return ws(n)&&n._isRouter&&(null==e||n.type===e)}function Ss(n,e,t){var a=function(i){i>=n.length?t():n[i]?e(n[i],(function(){a(i+1)})):a(i+1)};a(0)}function js(n){return function(e,t,a){var i=!1,r=0,s=null;Es(n,(function(n,e,t,o){if("function"==typeof n&&void 0===n.cid){i=!0,r++;var l,c=qs((function(e){var i;((i=e).__esModule||Cs&&"Module"===i[Symbol.toStringTag])&&(e=e.default),n.resolved="function"==typeof e?e:Qr.extend(e),t.components[o]=e,--r<=0&&a()})),d=qs((function(n){var e="Failed to resolve async component "+o+": "+n;s||(s=ws(n)?n:new Error(e),a(s))}));try{l=n(c,d)}catch(n){d(n)}if(l)if("function"==typeof l.then)l.then(c,d);else{var u=l.component;u&&"function"==typeof u.then&&u.then(c,d)}}})),i||a()}}function Es(n,e){return Ts(n.map((function(n){return Object.keys(n.components).map((function(t){return e(n.components[t],n.instances[t],n,t)}))})))}function Ts(n){return Array.prototype.concat.apply([],n)}var Cs="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function qs(n){var e=!1;return function(){for(var t=[],a=arguments.length;a--;)t[a]=arguments[a];if(!e)return e=!0,n.apply(this,t)}}var Is=function(n,e){this.router=n,this.base=function(n){if(!n)if(Gr){var e=document.querySelector("base");n=(n=e&&e.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else n="/";"/"!==n.charAt(0)&&(n="/"+n);return n.replace(/\/$/,"")}(e),this.current=hr,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function As(n,e,t,a){var i=Es(n,(function(n,a,i,r){var s=function(n,e){"function"!=typeof n&&(n=Qr.extend(n));return n.options[e]}(n,e);if(s)return Array.isArray(s)?s.map((function(n){return t(n,a,i,r)})):t(s,a,i,r)}));return Ts(a?i.reverse():i)}function Ms(n,e){if(e)return function(){return n.apply(e,arguments)}}Is.prototype.listen=function(n){this.cb=n},Is.prototype.onReady=function(n,e){this.ready?n():(this.readyCbs.push(n),e&&this.readyErrorCbs.push(e))},Is.prototype.onError=function(n){this.errorCbs.push(n)},Is.prototype.transitionTo=function(n,e,t){var a,i=this;try{a=this.router.match(n,this.current)}catch(n){throw this.errorCbs.forEach((function(e){e(n)})),n}var r=this.current;this.confirmTransition(a,(function(){i.updateRoute(a),e&&e(a),i.ensureURL(),i.router.afterHooks.forEach((function(n){n&&n(a,r)})),i.ready||(i.ready=!0,i.readyCbs.forEach((function(n){n(a)})))}),(function(n){t&&t(n),n&&!i.ready&&(_s(n,fs.redirected)&&r===hr||(i.ready=!0,i.readyErrorCbs.forEach((function(e){e(n)}))))}))},Is.prototype.confirmTransition=function(n,e,t){var a=this,i=this.current;this.pending=n;var r,s,o=function(n){!_s(n)&&ws(n)&&(a.errorCbs.length?a.errorCbs.forEach((function(e){e(n)})):console.error(n)),t&&t(n)},l=n.matched.length-1,c=i.matched.length-1;if(fr(n,i)&&l===c&&n.matched[l]===i.matched[c])return this.ensureURL(),n.hash&&rs(this.router,i,n,!1),o(((s=ks(r=i,n,fs.duplicated,'Avoided redundant navigation to current location: "'+r.fullPath+'".')).name="NavigationDuplicated",s));var d=function(n,e){var t,a=Math.max(n.length,e.length);for(t=0;t<a&&n[t]===e[t];t++);return{updated:e.slice(0,t),activated:e.slice(t),deactivated:n.slice(t)}}(this.current.matched,n.matched),u=d.updated,p=d.deactivated,m=d.activated,h=[].concat(function(n){return As(n,"beforeRouteLeave",Ms,!0)}(p),this.router.beforeHooks,function(n){return As(n,"beforeRouteUpdate",Ms)}(u),m.map((function(n){return n.beforeEnter})),js(m)),g=function(e,t){if(a.pending!==n)return o(vs(i,n));try{e(n,i,(function(e){!1===e?(a.ensureURL(!0),o(function(n,e){return ks(n,e,fs.aborted,'Navigation aborted from "'+n.fullPath+'" to "'+e.fullPath+'" via a navigation guard.')}(i,n))):ws(e)?(a.ensureURL(!0),o(e)):"string"==typeof e||"object"==typeof e&&("string"==typeof e.path||"string"==typeof e.name)?(o(ys(i,n)),"object"==typeof e&&e.replace?a.replace(e):a.push(e)):t(e)}))}catch(n){o(n)}};Ss(h,g,(function(){Ss(function(n){return As(n,"beforeRouteEnter",(function(n,e,t,a){return function(n,e,t){return function(a,i,r){return n(a,i,(function(n){"function"==typeof n&&(e.enteredCbs[t]||(e.enteredCbs[t]=[]),e.enteredCbs[t].push(n)),r(n)}))}}(n,t,a)}))}(m).concat(a.router.resolveHooks),g,(function(){if(a.pending!==n)return o(vs(i,n));a.pending=null,e(n),a.router.app&&a.router.app.$nextTick((function(){vr(n)}))}))}))},Is.prototype.updateRoute=function(n){this.current=n,this.cb&&this.cb(n)},Is.prototype.setupListeners=function(){},Is.prototype.teardown=function(){this.listeners.forEach((function(n){n()})),this.listeners=[],this.current=hr,this.pending=null};var zs=function(n){function e(e,t){n.call(this,e,t),this._startLocation=Ls(this.base)}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var e=this.router,t=e.options.scrollBehavior,a=hs&&t;a&&this.listeners.push(is());var i=function(){var t=n.current,i=Ls(n.base);n.current===hr&&i===n._startLocation||n.transitionTo(i,(function(n){a&&rs(e,n,t,!0)}))};window.addEventListener("popstate",i),this.listeners.push((function(){window.removeEventListener("popstate",i)}))}},e.prototype.go=function(n){window.history.go(n)},e.prototype.push=function(n,e,t){var a=this,i=this.current;this.transitionTo(n,(function(n){gs(_r(a.base+n.fullPath)),rs(a.router,n,i,!1),e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var a=this,i=this.current;this.transitionTo(n,(function(n){bs(_r(a.base+n.fullPath)),rs(a.router,n,i,!1),e&&e(n)}),t)},e.prototype.ensureURL=function(n){if(Ls(this.base)!==this.current.fullPath){var e=_r(this.base+this.current.fullPath);n?gs(e):bs(e)}},e.prototype.getCurrentLocation=function(){return Ls(this.base)},e}(Is);function Ls(n){var e=window.location.pathname,t=e.toLowerCase(),a=n.toLowerCase();return!n||t!==a&&0!==t.indexOf(_r(a+"/"))||(e=e.slice(n.length)),(e||"/")+window.location.search+window.location.hash}var Ds=function(n){function e(e,t,a){n.call(this,e,t),a&&function(n){var e=Ls(n);if(!/^\/#/.test(e))return window.location.replace(_r(n+"/#"+e)),!0}(this.base)||Rs()}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var e=this.router.options.scrollBehavior,t=hs&&e;t&&this.listeners.push(is());var a=function(){var e=n.current;Rs()&&n.transitionTo(Bs(),(function(a){t&&rs(n.router,a,e,!0),hs||Ns(a.fullPath)}))},i=hs?"popstate":"hashchange";window.addEventListener(i,a),this.listeners.push((function(){window.removeEventListener(i,a)}))}},e.prototype.push=function(n,e,t){var a=this,i=this.current;this.transitionTo(n,(function(n){Ps(n.fullPath),rs(a.router,n,i,!1),e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var a=this,i=this.current;this.transitionTo(n,(function(n){Ns(n.fullPath),rs(a.router,n,i,!1),e&&e(n)}),t)},e.prototype.go=function(n){window.history.go(n)},e.prototype.ensureURL=function(n){var e=this.current.fullPath;Bs()!==e&&(n?Ps(e):Ns(e))},e.prototype.getCurrentLocation=function(){return Bs()},e}(Is);function Rs(){var n=Bs();return"/"===n.charAt(0)||(Ns("/"+n),!1)}function Bs(){var n=window.location.href,e=n.indexOf("#");return e<0?"":n=n.slice(e+1)}function Os(n){var e=window.location.href,t=e.indexOf("#");return(t>=0?e.slice(0,t):e)+"#"+n}function Ps(n){hs?gs(Os(n)):window.location.hash=n}function Ns(n){hs?bs(Os(n)):window.location.replace(Os(n))}var Us=function(n){function e(e,t){n.call(this,e,t),this.stack=[],this.index=-1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.push=function(n,e,t){var a=this;this.transitionTo(n,(function(n){a.stack=a.stack.slice(0,a.index+1).concat(n),a.index++,e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var a=this;this.transitionTo(n,(function(n){a.stack=a.stack.slice(0,a.index).concat(n),e&&e(n)}),t)},e.prototype.go=function(n){var e=this,t=this.index+n;if(!(t<0||t>=this.stack.length)){var a=this.stack[t];this.confirmTransition(a,(function(){var n=e.current;e.index=t,e.updateRoute(a),e.router.afterHooks.forEach((function(e){e&&e(a,n)}))}),(function(n){_s(n,fs.duplicated)&&(e.index=t)}))}},e.prototype.getCurrentLocation=function(){var n=this.stack[this.stack.length-1];return n?n.fullPath:"/"},e.prototype.ensureURL=function(){},e}(Is),Js=function(n){void 0===n&&(n={}),this.app=null,this.apps=[],this.options=n,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=Kr(n.routes||[],this);var e=n.mode||"hash";switch(this.fallback="history"===e&&!hs&&!1!==n.fallback,this.fallback&&(e="hash"),Gr||(e="abstract"),this.mode=e,e){case"history":this.history=new zs(this,n.base);break;case"hash":this.history=new Ds(this,n.base,this.fallback);break;case"abstract":this.history=new Us(this,n.base);break;default:0}},Qs={currentRoute:{configurable:!0}};Js.prototype.match=function(n,e,t){return this.matcher.match(n,e,t)},Qs.currentRoute.get=function(){return this.history&&this.history.current},Js.prototype.init=function(n){var e=this;if(this.apps.push(n),n.$once("hook:destroyed",(function(){var t=e.apps.indexOf(n);t>-1&&e.apps.splice(t,1),e.app===n&&(e.app=e.apps[0]||null),e.app||e.history.teardown()})),!this.app){this.app=n;var t=this.history;if(t instanceof zs||t instanceof Ds){var a=function(n){t.setupListeners(),function(n){var a=t.current,i=e.options.scrollBehavior;hs&&i&&"fullPath"in n&&rs(e,n,a,!1)}(n)};t.transitionTo(t.getCurrentLocation(),a,a)}t.listen((function(n){e.apps.forEach((function(e){e._route=n}))}))}},Js.prototype.beforeEach=function(n){return Fs(this.beforeHooks,n)},Js.prototype.beforeResolve=function(n){return Fs(this.resolveHooks,n)},Js.prototype.afterEach=function(n){return Fs(this.afterHooks,n)},Js.prototype.onReady=function(n,e){this.history.onReady(n,e)},Js.prototype.onError=function(n){this.history.onError(n)},Js.prototype.push=function(n,e,t){var a=this;if(!e&&!t&&"undefined"!=typeof Promise)return new Promise((function(e,t){a.history.push(n,e,t)}));this.history.push(n,e,t)},Js.prototype.replace=function(n,e,t){var a=this;if(!e&&!t&&"undefined"!=typeof Promise)return new Promise((function(e,t){a.history.replace(n,e,t)}));this.history.replace(n,e,t)},Js.prototype.go=function(n){this.history.go(n)},Js.prototype.back=function(){this.go(-1)},Js.prototype.forward=function(){this.go(1)},Js.prototype.getMatchedComponents=function(n){var e=n?n.matched?n:this.resolve(n).route:this.currentRoute;return e?[].concat.apply([],e.matched.map((function(n){return Object.keys(n.components).map((function(e){return n.components[e]}))}))):[]},Js.prototype.resolve=function(n,e,t){var a=Jr(n,e=e||this.history.current,t,this),i=this.match(a,e),r=i.redirectedFrom||i.fullPath;return{location:a,route:i,href:function(n,e,t){var a="hash"===t?"#"+e:e;return n?_r(n+"/"+a):a}(this.history.base,r,this.mode),normalizedTo:a,resolved:i}},Js.prototype.getRoutes=function(){return this.matcher.getRoutes()},Js.prototype.addRoute=function(n,e){this.matcher.addRoute(n,e),this.history.current!==hr&&this.history.transitionTo(this.history.getCurrentLocation())},Js.prototype.addRoutes=function(n){this.matcher.addRoutes(n),this.history.current!==hr&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(Js.prototype,Qs);var Hs=Js;function Fs(n,e){return n.push(e),function(){var t=n.indexOf(e);t>-1&&n.splice(t,1)}}Js.install=function n(e){if(!n.installed||Qr!==e){n.installed=!0,Qr=e;var t=function(n){return void 0!==n},a=function(n,e){var a=n.$options._parentVnode;t(a)&&t(a=a.data)&&t(a=a.registerRouteInstance)&&a(n,e)};e.mixin({beforeCreate:function(){t(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,a(this,this)},destroyed:function(){a(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",kr),e.component("RouterLink",Fr);var i=e.config.optionMergeStrategies;i.beforeRouteEnter=i.beforeRouteLeave=i.beforeRouteUpdate=i.created}},Js.version="3.6.5",Js.isNavigationFailure=_s,Js.NavigationFailureType=fs,Js.START_LOCATION=hr,Gr&&window.Vue&&window.Vue.use(Js);t(153),t(17),t(162);t(163),t(31);var Vs={"components/AlgoliaSearchBox":()=>Promise.all([t.e(0),t.e(14)]).then(t.bind(null,394)),"components/ArchivesPage":()=>Promise.all([t.e(0),t.e(17)]).then(t.bind(null,361)),"components/ArticleInfo":()=>Promise.all([t.e(0),t.e(20)]).then(t.bind(null,362)),"components/BloggerBar":()=>Promise.all([t.e(0),t.e(21)]).then(t.bind(null,363)),"components/BodyBgImg":()=>Promise.all([t.e(0),t.e(22)]).then(t.bind(null,364)),"components/Buttons":()=>Promise.all([t.e(0),t.e(18)]).then(t.bind(null,365)),"components/Catalogue":()=>Promise.all([t.e(0),t.e(23)]).then(t.bind(null,366)),"components/CategoriesBar":()=>Promise.all([t.e(0),t.e(24)]).then(t.bind(null,327)),"components/CategoriesPage":()=>Promise.all([t.e(0),t.e(11)]).then(t.bind(null,367)),"components/DropdownLink":()=>Promise.all([t.e(0),t.e(15)]).then(t.bind(null,305)),"components/DropdownTransition":()=>Promise.all([t.e(0),t.e(25)]).then(t.bind(null,283)),"components/Footer":()=>Promise.all([t.e(0),t.e(26)]).then(t.bind(null,368)),"components/Home":()=>Promise.all([t.e(0),t.e(2),t.e(36)]).then(t.bind(null,390)),"components/MainLayout":()=>Promise.all([t.e(0),t.e(27)]).then(t.bind(null,297)),"components/NavLink":()=>t.e(37).then(t.bind(null,282)),"components/NavLinks":()=>Promise.all([t.e(0),t.e(13)]).then(t.bind(null,329)),"components/Navbar":()=>Promise.all([t.e(0),t.e(1)]).then(t.bind(null,389)),"components/Page":()=>Promise.all([t.e(0),t.e(3),t.e(34)]).then(t.bind(null,391)),"components/PageEdit":()=>Promise.all([t.e(0),t.e(19)]).then(t.bind(null,369)),"components/PageNav":()=>Promise.all([t.e(0),t.e(16)]).then(t.bind(null,370)),"components/Pagination":()=>Promise.all([t.e(0),t.e(28)]).then(t.bind(null,296)),"components/PostList":()=>Promise.all([t.e(0),t.e(29)]).then(t.bind(null,295)),"components/RightMenu":()=>Promise.all([t.e(0),t.e(30)]).then(t.bind(null,371)),"components/Sidebar":()=>Promise.all([t.e(0),t.e(10)]).then(t.bind(null,372)),"components/SidebarButton":()=>Promise.all([t.e(0),t.e(31)]).then(t.bind(null,374)),"components/SidebarGroup":()=>Promise.all([t.e(0),t.e(5)]).then(t.bind(null,330)),"components/SidebarLink":()=>Promise.all([t.e(0),t.e(32)]).then(t.bind(null,306)),"components/SidebarLinks":()=>Promise.all([t.e(0),t.e(5)]).then(t.bind(null,303)),"components/TagsBar":()=>Promise.all([t.e(0),t.e(33)]).then(t.bind(null,328)),"components/TagsPage":()=>Promise.all([t.e(0),t.e(12)]).then(t.bind(null,373)),"components/UpdateArticle":()=>Promise.all([t.e(0),t.e(35)]).then(t.bind(null,333)),"global-components/Badge":()=>Promise.all([t.e(0),t.e(6)]).then(t.bind(null,397)),"global-components/CodeBlock":()=>Promise.resolve().then(t.bind(null,123)),"global-components/CodeGroup":()=>Promise.resolve().then(t.bind(null,124)),"layouts/404":()=>Promise.all([t.e(0),t.e(7)]).then(t.bind(null,395)),"layouts/Layout":()=>Promise.all([t.e(0),t.e(1),t.e(2),t.e(3),t.e(4)]).then(t.bind(null,396)),NotFound:()=>Promise.all([t.e(0),t.e(7)]).then(t.bind(null,395)),Layout:()=>Promise.all([t.e(0),t.e(1),t.e(2),t.e(3),t.e(4)]).then(t.bind(null,396))},Gs={"v-551fbd5b":()=>t.e(40).then(t.bind(null,398)),"v-e7e40508":()=>t.e(38).then(t.bind(null,399)),"v-48424b17":()=>t.e(42).then(t.bind(null,400)),"v-a8a3be30":()=>t.e(41).then(t.bind(null,401)),"v-61ff5e21":()=>t.e(43).then(t.bind(null,402)),"v-17fd5c60":()=>t.e(44).then(t.bind(null,403)),"v-4a7ed15c":()=>t.e(46).then(t.bind(null,404)),"v-560c45dc":()=>t.e(47).then(t.bind(null,405)),"v-9c3ab8f0":()=>t.e(39).then(t.bind(null,406)),"v-1156e8e2":()=>t.e(45).then(t.bind(null,407)),"v-4f888be4":()=>t.e(49).then(t.bind(null,408)),"v-33e78c7a":()=>t.e(48).then(t.bind(null,409)),"v-76db6908":()=>t.e(50).then(t.bind(null,410)),"v-08095c97":()=>t.e(52).then(t.bind(null,411)),"v-1c2c99c8":()=>t.e(53).then(t.bind(null,412)),"v-990ee8ec":()=>t.e(54).then(t.bind(null,413)),"v-576d295a":()=>t.e(51).then(t.bind(null,414)),"v-1fb534ce":()=>t.e(56).then(t.bind(null,415)),"v-6d754144":()=>t.e(57).then(t.bind(null,416)),"v-0bc483d1":()=>t.e(55).then(t.bind(null,417)),"v-26212a8a":()=>t.e(58).then(t.bind(null,418)),"v-0d0a72db":()=>t.e(59).then(t.bind(null,419)),"v-458cddd9":()=>t.e(60).then(t.bind(null,420)),"v-79afdc49":()=>t.e(61).then(t.bind(null,421)),"v-2831c459":()=>t.e(62).then(t.bind(null,422)),"v-053d84f2":()=>t.e(63).then(t.bind(null,423)),"v-b2628b0c":()=>t.e(64).then(t.bind(null,424)),"v-ba15898e":()=>t.e(66).then(t.bind(null,425)),"v-797fe2d2":()=>t.e(65).then(t.bind(null,426)),"v-0210a959":()=>t.e(67).then(t.bind(null,427)),"v-2d5f5839":()=>t.e(68).then(t.bind(null,428)),"v-417db3ae":()=>t.e(70).then(t.bind(null,429)),"v-43d92dd9":()=>t.e(69).then(t.bind(null,430)),"v-28e9210c":()=>t.e(71).then(t.bind(null,431)),"v-5dded6fa":()=>t.e(72).then(t.bind(null,432)),"v-90469700":()=>t.e(73).then(t.bind(null,433)),"v-6079c7fa":()=>t.e(74).then(t.bind(null,434)),"v-4bb79bd0":()=>t.e(76).then(t.bind(null,435)),"v-e2d344f2":()=>t.e(77).then(t.bind(null,436)),"v-5e22edfe":()=>t.e(78).then(t.bind(null,437)),"v-b785b0fe":()=>t.e(75).then(t.bind(null,438)),"v-e9d086fe":()=>t.e(80).then(t.bind(null,439)),"v-fa5b3454":()=>t.e(81).then(t.bind(null,440)),"v-049ddce1":()=>t.e(79).then(t.bind(null,441)),"v-38a9c856":()=>t.e(82).then(t.bind(null,442)),"v-6989e0ac":()=>t.e(83).then(t.bind(null,443)),"v-e50b8c2e":()=>t.e(85).then(t.bind(null,444)),"v-2a221380":()=>t.e(84).then(t.bind(null,445)),"v-7e2b9df0":()=>t.e(87).then(t.bind(null,446)),"v-4fa6c7e5":()=>t.e(88).then(t.bind(null,447)),"v-0734792a":()=>t.e(89).then(t.bind(null,448)),"v-5909a860":()=>t.e(90).then(t.bind(null,449)),"v-bcb1749a":()=>t.e(86).then(t.bind(null,450)),"v-101289a5":()=>t.e(91).then(t.bind(null,451)),"v-38a63570":()=>t.e(93).then(t.bind(null,452)),"v-5a6a2f10":()=>t.e(92).then(t.bind(null,453)),"v-2a0bf03b":()=>t.e(94).then(t.bind(null,454)),"v-0deb7e9f":()=>t.e(95).then(t.bind(null,455)),"v-615e5fce":()=>t.e(96).then(t.bind(null,456)),"v-4c80214c":()=>t.e(97).then(t.bind(null,457)),"v-2fc63d9e":()=>t.e(99).then(t.bind(null,458)),"v-cfeb30e6":()=>t.e(98).then(t.bind(null,459)),"v-7a1e2428":()=>t.e(100).then(t.bind(null,460)),"v-6971b032":()=>t.e(101).then(t.bind(null,461)),"v-597ac620":()=>t.e(102).then(t.bind(null,462)),"v-7f6d5ac0":()=>t.e(103).then(t.bind(null,463)),"v-56b0312c":()=>t.e(104).then(t.bind(null,464)),"v-78e814f8":()=>t.e(105).then(t.bind(null,465)),"v-b013a97e":()=>t.e(106).then(t.bind(null,466)),"v-23662401":()=>t.e(107).then(t.bind(null,467)),"v-d48a660e":()=>t.e(108).then(t.bind(null,468)),"v-792e46c1":()=>t.e(110).then(t.bind(null,469)),"v-7a59e988":()=>t.e(112).then(t.bind(null,470)),"v-37e966eb":()=>t.e(109).then(t.bind(null,471)),"v-66cd1cb0":()=>t.e(113).then(t.bind(null,472)),"v-ece34b10":()=>t.e(114).then(t.bind(null,473)),"v-740e8b5b":()=>t.e(111).then(t.bind(null,474)),"v-30cb5d4c":()=>t.e(116).then(t.bind(null,475)),"v-6a747794":()=>t.e(115).then(t.bind(null,476)),"v-4fac6ad4":()=>t.e(117).then(t.bind(null,477)),"v-220a90d1":()=>t.e(118).then(t.bind(null,478)),"v-fb43fc32":()=>t.e(119).then(t.bind(null,479)),"v-1be5385e":()=>t.e(120).then(t.bind(null,480)),"v-ea04530c":()=>t.e(122).then(t.bind(null,481)),"v-32fb0c7e":()=>t.e(123).then(t.bind(null,482)),"v-1bb853fa":()=>t.e(124).then(t.bind(null,483)),"v-4eea68e0":()=>t.e(121).then(t.bind(null,484)),"v-aa511c30":()=>t.e(125).then(t.bind(null,485)),"v-ec96f538":()=>t.e(126).then(t.bind(null,486)),"v-c629ccf6":()=>t.e(127).then(t.bind(null,487)),"v-2c3587d8":()=>t.e(128).then(t.bind(null,488)),"v-44326a4c":()=>t.e(129).then(t.bind(null,489)),"v-4e08f385":()=>t.e(130).then(t.bind(null,490)),"v-7eff31ac":()=>t.e(131).then(t.bind(null,491)),"v-b7c7369a":()=>t.e(132).then(t.bind(null,492)),"v-636ce848":()=>t.e(133).then(t.bind(null,493)),"v-36da3e34":()=>t.e(135).then(t.bind(null,494)),"v-6461f3c1":()=>t.e(137).then(t.bind(null,495)),"v-87e4ba86":()=>t.e(136).then(t.bind(null,496)),"v-76ebdf26":()=>t.e(138).then(t.bind(null,497)),"v-586d11fa":()=>t.e(134).then(t.bind(null,498)),"v-2fed92e6":()=>t.e(139).then(t.bind(null,499)),"v-c7c7b8ea":()=>t.e(140).then(t.bind(null,500)),"v-635d5f8d":()=>t.e(143).then(t.bind(null,501)),"v-36ee805b":()=>t.e(141).then(t.bind(null,502)),"v-2967a998":()=>t.e(142).then(t.bind(null,503)),"v-360040da":()=>t.e(144).then(t.bind(null,504)),"v-21390089":()=>t.e(145).then(t.bind(null,505)),"v-5233b41b":()=>t.e(146).then(t.bind(null,506)),"v-e25da80e":()=>t.e(148).then(t.bind(null,507)),"v-6f12cff7":()=>t.e(147).then(t.bind(null,508)),"v-8e9c4c14":()=>t.e(149).then(t.bind(null,509)),"v-54f3eee1":()=>t.e(150).then(t.bind(null,510)),"v-0436aabe":()=>t.e(151).then(t.bind(null,511)),"v-5944f74c":()=>t.e(153).then(t.bind(null,512)),"v-7a41b909":()=>t.e(154).then(t.bind(null,513)),"v-23d64f0e":()=>t.e(155).then(t.bind(null,514)),"v-bbc08472":()=>t.e(152).then(t.bind(null,515)),"v-536574fe":()=>t.e(158).then(t.bind(null,516)),"v-fc806cac":()=>t.e(156).then(t.bind(null,517)),"v-3a8672e0":()=>t.e(157).then(t.bind(null,518)),"v-bf924ecc":()=>t.e(159).then(t.bind(null,519))};function $s(n){const e=Object.create(null);return function(t){return e[t]||(e[t]=n(t))}}const Ws=/-(\w)/g,Ks=$s(n=>n.replace(Ws,(n,e)=>e?e.toUpperCase():"")),Ys=/\B([A-Z])/g,Xs=$s(n=>n.replace(Ys,"-$1").toLowerCase()),Zs=$s(n=>n.charAt(0).toUpperCase()+n.slice(1));function no(n,e){if(!e)return;if(n(e))return n(e);return e.includes("-")?n(Zs(Ks(e))):n(Zs(e))||n(Xs(e))}const eo=Object.assign({},Vs,Gs),to=n=>eo[n],ao=n=>Gs[n],io=n=>Vs[n],ro=n=>Gt.component(n);function so(n){return no(ao,n)}function oo(n){return no(io,n)}function lo(n){return no(to,n)}function co(n){return no(ro,n)}function uo(...n){return Promise.all(n.filter(n=>n).map(async n=>{if(!co(n)&&lo(n)){const e=await lo(n)();Gt.component(n,e.default)}}))}function po(n,e){"undefined"!=typeof window&&window.__VUEPRESS__&&(window.__VUEPRESS__[n]=e)}var mo=t(121),ho=t.n(mo),go=t(122),bo=t.n(go),fo={created(){if(this.siteMeta=this.$site.headTags.filter(([n])=>"meta"===n).map(([n,e])=>e),this.$ssrContext){const e=this.getMergedMetaTags();this.$ssrContext.title=this.$title,this.$ssrContext.lang=this.$lang,this.$ssrContext.pageMeta=(n=e)?n.map(n=>{let e="<meta";return Object.keys(n).forEach(t=>{e+=` ${t}="${bo()(n[t])}"`}),e+">"}).join("\n    "):"",this.$ssrContext.canonicalLink=vo(this.$canonicalUrl)}var n},mounted(){this.currentMetaTags=[...document.querySelectorAll("meta")],this.updateMeta(),this.updateCanonicalLink()},methods:{updateMeta(){document.title=this.$title,document.documentElement.lang=this.$lang;const n=this.getMergedMetaTags();this.currentMetaTags=ko(n,this.currentMetaTags)},getMergedMetaTags(){const n=this.$page.frontmatter.meta||[];return ho()([{name:"description",content:this.$description}],n,this.siteMeta,xo)},updateCanonicalLink(){yo(),this.$canonicalUrl&&document.head.insertAdjacentHTML("beforeend",vo(this.$canonicalUrl))}},watch:{$page(){this.updateMeta(),this.updateCanonicalLink()}},beforeDestroy(){ko(null,this.currentMetaTags),yo()}};function yo(){const n=document.querySelector("link[rel='canonical']");n&&n.remove()}function vo(n=""){return n?`<link href="${n}" rel="canonical" />`:""}function ko(n,e){if(e&&[...e].filter(n=>n.parentNode===document.head).forEach(n=>document.head.removeChild(n)),n)return n.map(n=>{const e=document.createElement("meta");return Object.keys(n).forEach(t=>{e.setAttribute(t,n[t])}),document.head.appendChild(e),e})}function xo(n){for(const e of["name","property","itemprop"])if(n.hasOwnProperty(e))return n[e]+e;return JSON.stringify(n)}t(65);var wo=t(66),_o={mounted(){window.addEventListener("scroll",this.onScroll)},methods:{onScroll:t.n(wo)()((function(){this.setActiveHash()}),300),setActiveHash(){const n=[].slice.call(document.querySelectorAll(".sidebar-link")),e=[].slice.call(document.querySelectorAll(".header-anchor")).filter(e=>n.some(n=>n.hash===e.hash)),t=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop),a=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),i=window.innerHeight+t;for(let n=0;n<e.length;n++){const r=e[n],s=e[n+1],o=0===n&&0===t||t>=r.parentElement.offsetTop+10&&(!s||t<s.parentElement.offsetTop-10),l=decodeURIComponent(this.$route.hash);if(o&&l!==decodeURIComponent(r.hash)){const t=r;if(i===a)for(let t=n+1;t<e.length;t++)if(l===decodeURIComponent(e[t].hash))return;return this.$vuepress.$set("disableScrollBehavior",!0),void this.$router.replace(decodeURIComponent(t.hash),()=>{this.$nextTick(()=>{this.$vuepress.$set("disableScrollBehavior",!1)})})}}}},beforeDestroy(){window.removeEventListener("scroll",this.onScroll)}},So=t(45),jo=t.n(So),Eo={mounted(){jo.a.configure({showSpinner:!1}),this.$router.beforeEach((n,e,t)=>{n.path===e.path||Gt.component(n.name)||jo.a.start(),t()}),this.$router.afterEach(()=>{jo.a.done(),this.isSidebarOpen=!1})}};t(272),t(273);class To{constructor(){this.containerEl=document.getElementById("message-container"),this.containerEl||(this.containerEl=document.createElement("div"),this.containerEl.id="message-container",document.body.appendChild(this.containerEl))}show({text:n="",duration:e=3e3}){let t=document.createElement("div");t.className="message move-in",t.innerHTML=`\n      <i style="fill: #06a35a;font-size: 14px;display:inline-flex;align-items: center;">\n        <svg style="fill: #06a35a;font-size: 14px;" t="1572421810237" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2323" width="16" height="16"><path d="M822.811993 824.617989c-83.075838 81.99224-188.546032 124.613757-316.049383 127.86455-122.085362-3.250794-223.943563-45.87231-305.935802-127.86455s-124.613757-184.21164-127.86455-305.935802c3.250794-127.503351 45.87231-232.973545 127.86455-316.049383 81.99224-83.075838 184.21164-126.058554 305.935802-129.309347 127.503351 3.250794 232.973545 46.23351 316.049383 129.309347 83.075838 83.075838 126.058554 188.546032 129.309347 316.049383C949.231746 640.406349 905.887831 742.62575 822.811993 824.617989zM432.716755 684.111464c3.973192 3.973192 8.307584 5.779189 13.364374 6.140388 5.05679 0.361199 9.752381-1.444797 13.364374-5.417989l292.571429-287.514638c3.973192-3.973192 5.779189-8.307584 5.779189-13.364374 0-5.05679-1.805996-9.752381-5.779189-13.364374l1.805996 1.805996c-3.973192-3.973192-8.668783-5.779189-14.086772-6.140388-5.417989-0.361199-10.47478 1.444797-14.809171 5.417989l-264.397884 220.33157c-3.973192 3.250794-8.668783 4.695591-14.447972 4.695591-5.779189 0-10.835979-1.444797-15.53157-3.973192l-94.273016-72.962257c-4.334392-3.250794-9.391182-4.334392-14.447972-3.973192s-9.391182 3.250794-12.641975 7.585185l-2.889594 3.973192c-3.250794 4.334392-4.334392 9.391182-3.973192 14.809171 0.722399 5.417989 2.528395 10.11358 5.779189 14.086772L432.716755 684.111464z" p-id="2324"></path></svg>\n      </i>\n      <div class="text">${n}</div>\n    `,this.containerEl.appendChild(t),e>0&&setTimeout(()=>{this.close(t)},e)}close(n){n.className=n.className.replace("move-in",""),n.className+="move-out",n.addEventListener("animationend",()=>{n.remove()})}}var Co={mounted(){!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.updateCopy()},updated(){!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.updateCopy()},methods:{updateCopy(){setTimeout(()=>{(['div[class*="language-"] pre','div[class*="aside-code"] aside']instanceof Array||Array.isArray(['div[class*="language-"] pre','div[class*="aside-code"] aside']))&&['div[class*="language-"] pre','div[class*="aside-code"] aside'].forEach(n=>{document.querySelectorAll(n).forEach(this.generateCopyButton)})},1e3)},generateCopyButton(n){if(n.classList.contains("codecopy-enabled"))return;const e=document.createElement("i");e.className="code-copy",e.innerHTML='<svg  style="color:#aaa;font-size:14px" t="1572422231464" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3201" width="14" height="14"><path d="M866.461538 39.384615H354.461538c-43.323077 0-78.769231 35.446154-78.76923 78.769231v39.384616h472.615384c43.323077 0 78.769231 35.446154 78.769231 78.76923v551.384616h39.384615c43.323077 0 78.769231-35.446154 78.769231-78.769231V118.153846c0-43.323077-35.446154-78.769231-78.769231-78.769231z m-118.153846 275.692308c0-43.323077-35.446154-78.769231-78.76923-78.769231H157.538462c-43.323077 0-78.769231 35.446154-78.769231 78.769231v590.769231c0 43.323077 35.446154 78.769231 78.769231 78.769231h512c43.323077 0 78.769231-35.446154 78.76923-78.769231V315.076923z m-354.461538 137.846154c0 11.815385-7.876923 19.692308-19.692308 19.692308h-157.538461c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h157.538461c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z m157.538461 315.076923c0 11.815385-7.876923 19.692308-19.692307 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h315.076923c11.815385 0 19.692308 7.876923 19.692307 19.692308v39.384615z m78.769231-157.538462c0 11.815385-7.876923 19.692308-19.692308 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h393.846153c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z" p-id="3202"></path></svg>',e.title="Copy to clipboard",e.addEventListener("click",()=>{this.copyToClipboard(n.innerText)}),n.appendChild(e),n.classList.add("codecopy-enabled")},copyToClipboard(n){const e=document.createElement("textarea");e.value=n,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e);const t=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);e.select(),document.execCommand("copy");(new To).show({text:"å¤å¶æå",duration:1e3}),document.body.removeChild(e),t&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(t))}}};!function(n,e){void 0===e&&(e={});var t=e.insertAt;if(n&&"undefined"!=typeof document){var a=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===t&&a.firstChild?a.insertBefore(i,a.firstChild):a.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}}("@media (max-width: 1000px) {\n  .vuepress-plugin-demo-block__h_code {\n    display: none;\n  }\n  .vuepress-plugin-demo-block__app {\n    margin-left: auto !important;\n    margin-right: auto !important;\n  }\n}\n.vuepress-plugin-demo-block__wrapper {\n  margin-top: 10px;\n  border: 1px solid #ebebeb;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display {\n  height: 400px;\n  display: flex;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__app {\n  width: 300px;\n  border: 1px solid #ebebeb;\n  box-shadow: 1px 1px 3px #ebebeb;\n  margin-right: 5px;\n  overflow: auto;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__h_code {\n  flex: 1;\n  overflow: auto;\n  height: 100%;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__h_code > pre {\n  overflow: visible;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__display {\n  max-height: 400px;\n  overflow: auto;\n}\n.vuepress-plugin-demo-block__wrapper div {\n  box-sizing: border-box;\n}\n.vuepress-plugin-demo-block__wrapper:hover {\n  box-shadow: 0 0 11px rgba(33, 33, 33, 0.2);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__code {\n  overflow: hidden;\n  height: 0;\n  padding: 0 !important;\n  background-color: #282c34;\n  border-radius: 0 !important;\n  transition: height 0.5s;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__code pre {\n  margin: 0 !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__display {\n  padding: 20px;\n  border-bottom: 1px solid #ebebeb;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer {\n  position: relative;\n  text-align: center;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__codepen {\n  opacity: 1;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__expand::before {\n  border-top: none;\n  border-right: 6px solid transparent;\n  border-bottom: 6px solid #ccc;\n  border-left: 6px solid transparent;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__codepen,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand span,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand {\n  opacity: 1;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand::before {\n  border-top-color: #3eaf7c !important;\n  border-bottom-color: #3eaf7c !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover svg {\n  fill: #3eaf7c !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand-text {\n  transition: all 0.5s;\n  opacity: 0;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer form:nth-last-child(2) {\n  right: 50px;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer form:last-child {\n  right: 10px;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button {\n  border-color: transparent;\n  background-color: transparent;\n  font-size: 14px;\n  color: #3eaf7c;\n  cursor: pointer;\n  outline: none;\n  margin: 0;\n  width: 46px;\n  position: relative;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button:hover::before {\n  content: attr(data-tip);\n  white-space: nowrap;\n  position: absolute;\n  top: -30px;\n  left: 50%;\n  color: #eee;\n  line-height: 1;\n  z-index: 1000;\n  border-radius: 4px;\n  padding: 6px;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n  background-color: rgba(0, 0, 0, 0.8);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button:hover::after {\n  content: '' !important;\n  display: block;\n  position: absolute;\n  left: 50%;\n  top: -5px;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n  border: 5px solid transparent;\n  border-top-color: rgba(0, 0, 0, 0.8);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button svg {\n  width: 34px;\n  height: 20px;\n  fill: #ccc;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__codepen {\n  position: absolute;\n  top: 10px;\n  transition: all 0.5s;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand {\n  position: relative;\n  width: 100px;\n  height: 40px;\n  margin: 0;\n  color: #3eaf7c;\n  font-size: 14px;\n  background-color: transparent;\n  border-color: transparent;\n  outline: none;\n  transition: all 0.5s;\n  cursor: pointer;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand::before {\n  content: \"\";\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 0;\n  height: 0;\n  border-top: 6px solid #ccc;\n  border-right: 6px solid transparent;\n  border-left: 6px solid transparent;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n}\n");var qo={jsLib:[],cssLib:[],jsfiddle:!0,codepen:!0,codepenLayout:"left",codepenJsProcessor:"babel",codepenEditors:"101",horizontal:!1,vue:"https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js",react:"https://cdn.jsdelivr.net/npm/react/umd/react.production.min.js",reactDOM:"https://cdn.jsdelivr.net/npm/react-dom/umd/react-dom.production.min.js"},Io={},Ao=function(n){return'<div id="app">\n'.concat(n,"\n</div>")},Mo=function(n){return window.$VUEPRESS_DEMO_BLOCK&&void 0!==window.$VUEPRESS_DEMO_BLOCK[n]?window.$VUEPRESS_DEMO_BLOCK[n]:qo[n]},zo=function n(e,t,a){var i=document.createElement(e);return t&&Object.keys(t).forEach((function(n){if(n.indexOf("data"))i[n]=t[n];else{var e=n.replace("data","");i.dataset[e]=t[n]}})),a&&a.forEach((function(e){var t=e.tag,a=e.attrs,r=e.children;i.appendChild(n(t,a,r))})),i},Lo=function(n,e,t){var a,i=(a=n.querySelectorAll(".".concat(e)),Array.prototype.slice.call(a));return 1!==i.length||t?i:i[0]},Do=function(n,e){var t,a,i=n.match(/<style>([\s\S]+)<\/style>/),r=n.match(/<template>([\s\S]+)<\/template>/),s=n.match(/<script>([\s\S]+)<\/script>/),o={css:i&&i[1].replace(/^\n|\n$/g,""),html:r&&r[1].replace(/^\n|\n$/g,""),js:s&&s[1].replace(/^\n|\n$/g,""),jsLib:e.jsLib||[],cssLib:e.cssLib||[]};o.htmlTpl=Ao(o.html),o.jsTpl=(t=o.js,a=t.replace(/export\s+default\s*?\{\n*/,"").replace(/\n*\}\s*$/,"").trim(),"new Vue({\n  el: '#app',\n  ".concat(a,"\n})")),o.script=function(n,e){var t=n.split(/export\s+default/),a="(function() {".concat(t[0]," ; return ").concat(t[1],"})()"),i=window.Babel?window.Babel.transform(a,{presets:["es2015"]}).code:a,r=[eval][0](i);return r.template=e,r}(o.js,o.html);var l=Mo("vue");return o.jsLib.unshift(l),o},Ro=function(n,e){var t,a=n.match(/<style>([\s\S]+)<\/style>/),i=n.match(/<html>([\s\S]+)<\/html>/),r=n.match(/<script>([\s\S]+)<\/script>/),s={css:a&&a[1].replace(/^\n|\n$/g,""),html:i&&i[1].replace(/^\n|\n$/g,""),js:r&&r[1].replace(/^\n|\n$/g,""),jsLib:e.jsLib||[],cssLib:e.cssLib||[]};return s.htmlTpl=s.html,s.jsTpl=s.js,s.script=(t=s.js,window.Babel?window.Babel.transform(t,{presets:["es2015"]}).code:t),s},Bo=function(n){return n=n.replace("export default ","").replace(/App\.__style__(\s*)=(\s*)`([\s\S]*)?`/,""),n+='ReactDOM.render(React.createElement(App), document.getElementById("app"))'};function Oo(){var n=Lo(document,"vuepress-plugin-demo-block__wrapper",!0);n.length?n.forEach((function(n){if("true"!==n.dataset.created){n.style.display="block";var e=Lo(n,"vuepress-plugin-demo-block__code"),t=Lo(n,"vuepress-plugin-demo-block__display"),a=Lo(n,"vuepress-plugin-demo-block__footer"),i=Lo(t,"vuepress-plugin-demo-block__app"),r=decodeURIComponent(n.dataset.code),s=decodeURIComponent(n.dataset.config),o=decodeURIComponent(n.dataset.type);s=s?JSON.parse(s):{};var l=e.querySelector("div").clientHeight,c="react"===o?function(n,e){var t=(0,window.Babel.transform)(n,{presets:["es2015","react"]}).code,a="(function(exports){var module={};module.exports=exports;".concat(t,";return module.exports.__esModule?module.exports.default:module.exports;})({})"),i=new Function("return ".concat(a))(),r={js:i,css:i.__style__||"",jsLib:e.jsLib||[],cssLib:e.cssLib||[],jsTpl:Bo(n),htmlTpl:Ao("")},s=Mo("react"),o=Mo("reactDOM");return r.jsLib.unshift(s,o),r}(r,s):"vanilla"===o?Ro(r,s):Do(r,s),d=zo("button",{className:"".concat("vuepress-plugin-demo-block__expand")});if(a.appendChild(d),d.addEventListener("click",Po.bind(null,d,l,e,a)),Mo("jsfiddle")&&a.appendChild(function(n){var e=n.css,t=n.htmlTpl,a=n.jsTpl,i=n.jsLib,r=n.cssLib,s=i.concat(r).concat(Mo("cssLib")).concat(Mo("jsLib")).join(",");return zo("form",{className:"vuepress-plugin-demo-block__jsfiddle",target:"_blank",action:"https://jsfiddle.net/api/post/library/pure/",method:"post"},[{tag:"input",attrs:{type:"hidden",name:"css",value:e}},{tag:"input",attrs:{type:"hidden",name:"html",value:t}},{tag:"input",attrs:{type:"hidden",name:"js",value:a}},{tag:"input",attrs:{type:"hidden",name:"panel_js",value:3}},{tag:"input",attrs:{type:"hidden",name:"wrap",value:1}},{tag:"input",attrs:{type:"hidden",name:"resources",value:s}},{tag:"button",attrs:{type:"submit",className:"vuepress-plugin-demo-block__button",innerHTML:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1547088289967" class="icon" style="" viewBox="0 0 1170 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1952" xmlns:xlink="http://www.w3.org/1999/xlink" width="228.515625" height="200"><defs><style type="text/css"></style></defs><path d="M1028.571429 441.142857q63.428571 26.285714 102.571428 83.142857T1170.285714 650.857143q0 93.714286-67.428571 160.285714T940 877.714286q-2.285714 0-6.571429-0.285715t-6-0.285714H232q-97.142857-5.714286-164.571429-71.714286T0 645.142857q0-62.857143 31.428571-116t84-84q-6.857143-22.285714-6.857142-46.857143 0-65.714286 46.857142-112t113.714286-46.285714q54.285714 0 98.285714 33.142857 42.857143-88 127.142858-141.714286t186.571428-53.714285q94.857143 0 174.857143 46T982.571429 248.571429t46.571428 172q0 3.428571-0.285714 10.285714t-0.285714 10.285714zM267.428571 593.142857q0 69.714286 48 110.285714t118.857143 40.571429q78.285714 0 137.142857-56.571429-9.142857-11.428571-27.142857-32.285714T519.428571 626.285714q-38.285714 37.142857-82.285714 37.142857-31.428571 0-53.428571-19.142857T361.714286 594.285714q0-30.285714 22-49.714285t52.285714-19.428572q25.142857 0 48.285714 12t41.714286 31.428572 37.142857 42.857142 39.428572 46.857143 44 42.857143 55.428571 31.428572 69.428571 12q69.142857 0 116.857143-40.857143T936 594.857143q0-69.142857-48-109.714286t-118.285714-40.571428q-81.714286 0-137.714286 55.428571l53.142857 61.714286q37.714286-36.571429 81.142857-36.571429 29.714286 0 52.571429 18.857143t22.857143 48q0 32.571429-21.142857 52.285714t-53.714286 19.714286q-24.571429 0-47.142857-12t-41.142857-31.428571-37.428572-42.857143-39.714286-46.857143-44.285714-42.857143-55.142857-31.428571T434.285714 444.571429q-69.714286 0-118.285714 40.285714T267.428571 593.142857z" p-id="1953"></path></svg>',datatip:"JSFiddle"}}])}(c)),Mo("codepen")&&a.appendChild(function(n){var e=n.css,t=n.htmlTpl,a=n.jsTpl,i=n.jsLib,r=n.cssLib,s=JSON.stringify({css:e,html:t,js:a,js_external:i.concat(Mo("jsLib")).join(";"),css_external:r.concat(Mo("cssLib")).join(";"),layout:Mo("codepenLayout"),js_pre_processor:Mo("codepenJsProcessor"),editors:Mo("codepenEditors")});return zo("form",{className:"vuepress-plugin-demo-block__codepen",target:"_blank",action:"https://codepen.io/pen/define",method:"post"},[{tag:"input",attrs:{type:"hidden",name:"data",value:s}},{tag:"button",attrs:{type:"submit",innerHTML:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1547088271207" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1737" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style type="text/css"></style></defs><path d="M123.428571 668l344.571429 229.714286v-205.142857L277.142857 565.142857z m-35.428571-82.285714l110.285714-73.714286-110.285714-73.714286v147.428572z m468 312l344.571429-229.714286-153.714286-102.857143-190.857143 127.428572v205.142857z m-44-281.714286l155.428571-104-155.428571-104-155.428571 104zM277.142857 458.857143l190.857143-127.428572V126.285714L123.428571 356z m548.571429 53.142857l110.285714 73.714286V438.285714z m-78.857143-53.142857l153.714286-102.857143-344.571429-229.714286v205.142857z m277.142857-102.857143v312q0 23.428571-19.428571 36.571429l-468 312q-12 7.428571-24.571429 7.428571t-24.571429-7.428571L19.428571 704.571429q-19.428571-13.142857-19.428571-36.571429V356q0-23.428571 19.428571-36.571429L487.428571 7.428571q12-7.428571 24.571429-7.428571t24.571429 7.428571l468 312q19.428571 13.142857 19.428571 36.571429z" p-id="1738"></path></svg>',className:"vuepress-plugin-demo-block__button",datatip:"Codepen"}}])}(c)),void 0!==s.horizontal?s.horizontal:Mo("horizontal")){n.classList.add("vuepress-plugin-demo-block__horizontal");var u=e.firstChild.cloneNode(!0);u.classList.add("vuepress-plugin-demo-block__h_code"),t.appendChild(u)}if(c.css&&function(n){if(!Io[n]){var e=zo("style",{innerHTML:n});document.body.appendChild(e),Io[n]=!0}}(c.css),"react"===o)ReactDOM.render(React.createElement(c.js),i);else if("vue"===o){var p=(new(Vue.extend(c.script))).$mount();i.appendChild(p.$el)}else"vanilla"===o&&(i.innerHTML=c.html,new Function("return (function(){".concat(c.script,"})()"))());n.dataset.created="true"}})):setTimeout((function(n){Oo()}),300)}function Po(n,e,t,a){var i="1"!==n.dataset.isExpand;t.style.height=i?"".concat(e,"px"):0,i?a.classList.add("vuepress-plugin-demo-block__show-link"):a.classList.remove("vuepress-plugin-demo-block__show-link"),n.dataset.isExpand=i?"1":"0"}var No={mounted:function(){window.$VUEPRESS_DEMO_BLOCK={jsfiddle:!1,codepen:!0,horizontal:!1},Oo()},updated:function(){Oo()}},Uo="auto",Jo="zoom-in",Qo="zoom-out",Ho="grab",Fo="move";function Vo(n,e,t){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i={passive:!1};a?n.addEventListener(e,t,i):n.removeEventListener(e,t,i)}function Go(n,e){if(n){var t=new Image;t.onload=function(){e&&e(t)},t.src=n}}function $o(n){return n.dataset.original?n.dataset.original:"A"===n.parentNode.tagName?n.parentNode.getAttribute("href"):null}function Wo(n,e,t){!function(n){var e=Ko,t=Yo;if(n.transition){var a=n.transition;delete n.transition,n[e]=a}if(n.transform){var i=n.transform;delete n.transform,n[t]=i}}(e);var a=n.style,i={};for(var r in e)t&&(i[r]=a[r]||""),a[r]=e[r];return i}var Ko="transition",Yo="transform",Xo="transform",Zo="transitionend";var nl=function(){},el={enableGrab:!0,preloadImage:!1,closeOnWindowResize:!0,transitionDuration:.4,transitionTimingFunction:"cubic-bezier(0.4, 0, 0, 1)",bgColor:"rgb(255, 255, 255)",bgOpacity:1,scaleBase:1,scaleExtra:.5,scrollThreshold:40,zIndex:998,customSize:null,onOpen:nl,onClose:nl,onGrab:nl,onMove:nl,onRelease:nl,onBeforeOpen:nl,onBeforeClose:nl,onBeforeGrab:nl,onBeforeRelease:nl,onImageLoading:nl,onImageLoaded:nl},tl={init:function(n){var e,t;e=this,t=n,Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(n){e[n]=e[n].bind(t)}))},click:function(n){if(n.preventDefault(),il(n))return window.open(this.target.srcOriginal||n.currentTarget.src,"_blank");this.shown?this.released?this.close():this.release():this.open(n.currentTarget)},scroll:function(){var n=document.documentElement||document.body.parentNode||document.body,e=window.pageXOffset||n.scrollLeft,t=window.pageYOffset||n.scrollTop;null===this.lastScrollPosition&&(this.lastScrollPosition={x:e,y:t});var a=this.lastScrollPosition.x-e,i=this.lastScrollPosition.y-t,r=this.options.scrollThreshold;(Math.abs(i)>=r||Math.abs(a)>=r)&&(this.lastScrollPosition=null,this.close())},keydown:function(n){(function(n){return"Escape"===(n.key||n.code)||27===n.keyCode})(n)&&(this.released?this.close():this.release(this.close))},mousedown:function(n){if(al(n)&&!il(n)){n.preventDefault();var e=n.clientX,t=n.clientY;this.pressTimer=setTimeout(function(){this.grab(e,t)}.bind(this),200)}},mousemove:function(n){this.released||this.move(n.clientX,n.clientY)},mouseup:function(n){al(n)&&!il(n)&&(clearTimeout(this.pressTimer),this.released?this.close():this.release())},touchstart:function(n){n.preventDefault();var e=n.touches[0],t=e.clientX,a=e.clientY;this.pressTimer=setTimeout(function(){this.grab(t,a)}.bind(this),200)},touchmove:function(n){if(!this.released){var e=n.touches[0],t=e.clientX,a=e.clientY;this.move(t,a)}},touchend:function(n){(function(n){n.targetTouches.length})(n)||(clearTimeout(this.pressTimer),this.released?this.close():this.release())},clickOverlay:function(){this.close()},resizeWindow:function(){this.close()}};function al(n){return 0===n.button}function il(n){return n.metaKey||n.ctrlKey}var rl={init:function(n){this.el=document.createElement("div"),this.instance=n,this.parent=document.body,Wo(this.el,{position:"fixed",top:0,left:0,right:0,bottom:0,opacity:0}),this.updateStyle(n.options),Vo(this.el,"click",n.handler.clickOverlay.bind(n))},updateStyle:function(n){Wo(this.el,{zIndex:n.zIndex,backgroundColor:n.bgColor,transition:"opacity\n        "+n.transitionDuration+"s\n        "+n.transitionTimingFunction})},insert:function(){this.parent.appendChild(this.el)},remove:function(){this.parent.removeChild(this.el)},fadeIn:function(){this.el.offsetWidth,this.el.style.opacity=this.instance.options.bgOpacity},fadeOut:function(){this.el.style.opacity=0}},sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ol=function(){function n(n,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}return function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}}(),ll=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},cl={init:function(n,e){this.el=n,this.instance=e,this.srcThumbnail=this.el.getAttribute("src"),this.srcset=this.el.getAttribute("srcset"),this.srcOriginal=$o(this.el),this.rect=this.el.getBoundingClientRect(),this.translate=null,this.scale=null,this.styleOpen=null,this.styleClose=null},zoomIn:function(){var n=this.instance.options,e=n.zIndex,t=n.enableGrab,a=n.transitionDuration,i=n.transitionTimingFunction;this.translate=this.calculateTranslate(),this.scale=this.calculateScale(),this.styleOpen={position:"relative",zIndex:e+1,cursor:t?Ho:Qo,transition:Xo+"\n        "+a+"s\n        "+i,transform:"translate3d("+this.translate.x+"px, "+this.translate.y+"px, 0px)\n        scale("+this.scale.x+","+this.scale.y+")",height:this.rect.height+"px",width:this.rect.width+"px"},this.el.offsetWidth,this.styleClose=Wo(this.el,this.styleOpen,!0)},zoomOut:function(){this.el.offsetWidth,Wo(this.el,{transform:"none"})},grab:function(n,e,t){var a=dl(),i=a.x-n,r=a.y-e;Wo(this.el,{cursor:Fo,transform:"translate3d(\n        "+(this.translate.x+i)+"px, "+(this.translate.y+r)+"px, 0px)\n        scale("+(this.scale.x+t)+","+(this.scale.y+t)+")"})},move:function(n,e,t){var a=dl(),i=a.x-n,r=a.y-e;Wo(this.el,{transition:Xo,transform:"translate3d(\n        "+(this.translate.x+i)+"px, "+(this.translate.y+r)+"px, 0px)\n        scale("+(this.scale.x+t)+","+(this.scale.y+t)+")"})},restoreCloseStyle:function(){Wo(this.el,this.styleClose)},restoreOpenStyle:function(){Wo(this.el,this.styleOpen)},upgradeSource:function(){if(this.srcOriginal){var n=this.el.parentNode;this.srcset&&this.el.removeAttribute("srcset");var e=this.el.cloneNode(!1);e.setAttribute("src",this.srcOriginal),e.style.position="fixed",e.style.visibility="hidden",n.appendChild(e),setTimeout(function(){this.el.setAttribute("src",this.srcOriginal),n.removeChild(e)}.bind(this),50)}},downgradeSource:function(){this.srcOriginal&&(this.srcset&&this.el.setAttribute("srcset",this.srcset),this.el.setAttribute("src",this.srcThumbnail))},calculateTranslate:function(){var n=dl(),e=this.rect.left+this.rect.width/2,t=this.rect.top+this.rect.height/2;return{x:n.x-e,y:n.y-t}},calculateScale:function(){var n=this.el.dataset,e=n.zoomingHeight,t=n.zoomingWidth,a=this.instance.options,i=a.customSize,r=a.scaleBase;if(!i&&e&&t)return{x:t/this.rect.width,y:e/this.rect.height};if(i&&"object"===(void 0===i?"undefined":sl(i)))return{x:i.width/this.rect.width,y:i.height/this.rect.height};var s=this.rect.width/2,o=this.rect.height/2,l=dl(),c={x:l.x-s,y:l.y-o},d=c.x/s,u=c.y/o,p=r+Math.min(d,u);if(i&&"string"==typeof i){var m=t||this.el.naturalWidth,h=e||this.el.naturalHeight,g=parseFloat(i)*m/(100*this.rect.width),b=parseFloat(i)*h/(100*this.rect.height);if(p>g||p>b)return{x:g,y:b}}return{x:p,y:p}}};function dl(){var n=document.documentElement;return{x:Math.min(n.clientWidth,window.innerWidth)/2,y:Math.min(n.clientHeight,window.innerHeight)/2}}function ul(n,e,t){["mousedown","mousemove","mouseup","touchstart","touchmove","touchend"].forEach((function(a){Vo(n,a,e[a],t)}))}var pl=function(){function n(e){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.target=Object.create(cl),this.overlay=Object.create(rl),this.handler=Object.create(tl),this.body=document.body,this.shown=!1,this.lock=!1,this.released=!0,this.lastScrollPosition=null,this.pressTimer=null,this.options=ll({},el,e),this.overlay.init(this),this.handler.init(this)}return ol(n,[{key:"listen",value:function(n){if("string"==typeof n)for(var e=document.querySelectorAll(n),t=e.length;t--;)this.listen(e[t]);else"IMG"===n.tagName&&(n.style.cursor=Jo,Vo(n,"click",this.handler.click),this.options.preloadImage&&Go($o(n)));return this}},{key:"config",value:function(n){return n?(ll(this.options,n),this.overlay.updateStyle(this.options),this):this.options}},{key:"open",value:function(n){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.onOpen;if(!this.shown&&!this.lock){var a="string"==typeof n?document.querySelector(n):n;if("IMG"===a.tagName){if(this.options.onBeforeOpen(a),this.target.init(a,this),!this.options.preloadImage){var i=this.target.srcOriginal;null!=i&&(this.options.onImageLoading(a),Go(i,this.options.onImageLoaded))}this.shown=!0,this.lock=!0,this.target.zoomIn(),this.overlay.insert(),this.overlay.fadeIn(),Vo(document,"scroll",this.handler.scroll),Vo(document,"keydown",this.handler.keydown),this.options.closeOnWindowResize&&Vo(window,"resize",this.handler.resizeWindow);var r=function n(){Vo(a,Zo,n,!1),e.lock=!1,e.target.upgradeSource(),e.options.enableGrab&&ul(document,e.handler,!0),t(a)};return Vo(a,Zo,r),this}}}},{key:"close",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onClose;if(this.shown&&!this.lock){var t=this.target.el;this.options.onBeforeClose(t),this.lock=!0,this.body.style.cursor=Uo,this.overlay.fadeOut(),this.target.zoomOut(),Vo(document,"scroll",this.handler.scroll,!1),Vo(document,"keydown",this.handler.keydown,!1),this.options.closeOnWindowResize&&Vo(window,"resize",this.handler.resizeWindow,!1);var a=function a(){Vo(t,Zo,a,!1),n.shown=!1,n.lock=!1,n.target.downgradeSource(),n.options.enableGrab&&ul(document,n.handler,!1),n.target.restoreCloseStyle(),n.overlay.remove(),e(t)};return Vo(t,Zo,a),this}}},{key:"grab",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onGrab;if(this.shown&&!this.lock){var i=this.target.el;this.options.onBeforeGrab(i),this.released=!1,this.target.grab(n,e,t);var r=function n(){Vo(i,Zo,n,!1),a(i)};return Vo(i,Zo,r),this}}},{key:"move",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onMove;if(this.shown&&!this.lock){this.released=!1,this.body.style.cursor=Fo,this.target.move(n,e,t);var i=this.target.el,r=function n(){Vo(i,Zo,n,!1),a(i)};return Vo(i,Zo,r),this}}},{key:"release",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onRelease;if(this.shown&&!this.lock){var t=this.target.el;this.options.onBeforeRelease(t),this.lock=!0,this.body.style.cursor=Uo,this.target.restoreOpenStyle();var a=function a(){Vo(t,Zo,a,!1),n.lock=!1,n.released=!0,e(t)};return Vo(t,Zo,a),this}}}]),n}();const ml=JSON.parse('{"bgColor":"rgba(0,0,0,0.6)"}'),hl=Number("500");class gl{constructor(){this.instance=new pl(ml)}update(n=".theme-vdoing-content img:not(.no-zoom)"){"undefined"!=typeof window&&this.instance.listen(n)}updateDelay(n=".theme-vdoing-content img:not(.no-zoom)",e=hl){setTimeout(()=>this.update(n),e)}}var bl=[fo,_o,Eo,Co,No,{watch:{"$page.path"(){void 0!==this.$vuepress.zooming&&this.$vuepress.zooming.updateDelay()}},mounted(){this.$vuepress.zooming=new gl,this.$vuepress.zooming.updateDelay()}}],fl={name:"GlobalLayout",computed:{layout(){const n=this.getLayout();return po("layout",n),Gt.component(n)}},methods:{getLayout(){if(this.$page.path){const n=this.$page.frontmatter.layout;return n&&(this.$vuepress.getLayoutAsyncComponent(n)||this.$vuepress.getVueComponent(n))?n:"Layout"}return"NotFound"}}},yl=t(15),vl=Object(yl.a)(fl,(function(){return(0,this._self._c)(this.layout,{tag:"component"})}),[],!1,null,null,null).exports;!function(n,e,t){switch(e){case"components":n[e]||(n[e]={}),Object.assign(n[e],t);break;case"mixins":n[e]||(n[e]=[]),n[e].push(...t);break;default:throw new Error("Unknown option name.")}}(vl,"mixins",bl);const kl=[{name:"v-551fbd5b",path:"/spider/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-551fbd5b").then(t)}},{path:"/spider/index.html",redirect:"/spider/"},{path:"/00.ç®å½é¡µ/20.ç¬è«.html",redirect:"/spider/"},{name:"v-e7e40508",path:"/java/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-e7e40508").then(t)}},{path:"/java/index.html",redirect:"/java/"},{path:"/00.ç®å½é¡µ/01.java.html",redirect:"/java/"},{name:"v-48424b17",path:"/java/se/initial-java/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-48424b17").then(t)}},{path:"/java/se/initial-java/index.html",redirect:"/java/se/initial-java/"},{path:"/01.Java/02.java-åºç¡/01.åè¯java.html",redirect:"/java/se/initial-java/"},{name:"v-a8a3be30",path:"/ai/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-a8a3be30").then(t)}},{path:"/ai/index.html",redirect:"/ai/"},{path:"/00.ç®å½é¡µ/30.AI.html",redirect:"/ai/"},{name:"v-61ff5e21",path:"/java/se/basic-grammar/annotation/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-61ff5e21").then(t)}},{path:"/java/se/basic-grammar/annotation/index.html",redirect:"/java/se/basic-grammar/annotation/"},{path:"/01.Java/02.java-åºç¡/02.åºç¡è¯­æ³/01.æ³¨é.html",redirect:"/java/se/basic-grammar/annotation/"},{name:"v-17fd5c60",path:"/java/se/basic-grammar/identifier/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-17fd5c60").then(t)}},{path:"/java/se/basic-grammar/identifier/index.html",redirect:"/java/se/basic-grammar/identifier/"},{path:"/01.Java/02.java-åºç¡/02.åºç¡è¯­æ³/02.æ è¯ç¬¦.html",redirect:"/java/se/basic-grammar/identifier/"},{name:"v-4a7ed15c",path:"/java/se/basic-grammar/type-conversion/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-4a7ed15c").then(t)}},{path:"/java/se/basic-grammar/type-conversion/index.html",redirect:"/java/se/basic-grammar/type-conversion/"},{path:"/01.Java/02.java-åºç¡/02.åºç¡è¯­æ³/04.ç±»åè½¬æ¢.html",redirect:"/java/se/basic-grammar/type-conversion/"},{name:"v-560c45dc",path:"/java/se/basic-grammar/variate-constant/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-560c45dc").then(t)}},{path:"/java/se/basic-grammar/variate-constant/index.html",redirect:"/java/se/basic-grammar/variate-constant/"},{path:"/01.Java/02.java-åºç¡/02.åºç¡è¯­æ³/05.åéåå¸¸é.html",redirect:"/java/se/basic-grammar/variate-constant/"},{name:"v-9c3ab8f0",path:"/about/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-9c3ab8f0").then(t)}},{path:"/about/index.html",redirect:"/about/"},{path:"/00.ç®å½é¡µ/10.å³äº.html",redirect:"/about/"},{name:"v-1156e8e2",path:"/java/se/basic-grammar/data-type/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-1156e8e2").then(t)}},{path:"/java/se/basic-grammar/data-type/index.html",redirect:"/java/se/basic-grammar/data-type/"},{path:"/01.Java/02.java-åºç¡/02.åºç¡è¯­æ³/03.æ°æ®ç±»å.html",redirect:"/java/se/basic-grammar/data-type/"},{name:"v-4f888be4",path:"/java/se/basic-grammar/packet/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-4f888be4").then(t)}},{path:"/java/se/basic-grammar/packet/index.html",redirect:"/java/se/basic-grammar/packet/"},{path:"/01.Java/02.java-åºç¡/02.åºç¡è¯­æ³/07.åæºå¶.html",redirect:"/java/se/basic-grammar/packet/"},{name:"v-33e78c7a",path:"/java/se/basic-grammar/operator/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-33e78c7a").then(t)}},{path:"/java/se/basic-grammar/operator/index.html",redirect:"/java/se/basic-grammar/operator/"},{path:"/01.Java/02.java-åºç¡/02.åºç¡è¯­æ³/06.è¿ç®ç¬¦.html",redirect:"/java/se/basic-grammar/operator/"},{name:"v-76db6908",path:"/java/se/basic-grammar/javadoc/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-76db6908").then(t)}},{path:"/java/se/basic-grammar/javadoc/index.html",redirect:"/java/se/basic-grammar/javadoc/"},{path:"/01.Java/02.java-åºç¡/02.åºç¡è¯­æ³/08.JavaDoc.html",redirect:"/java/se/basic-grammar/javadoc/"},{name:"v-08095c97",path:"/java/se/process-control/sequential-structure/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-08095c97").then(t)}},{path:"/java/se/process-control/sequential-structure/index.html",redirect:"/java/se/process-control/sequential-structure/"},{path:"/01.Java/02.java-åºç¡/03.æµç¨æ§å¶/02.é¡ºåºç»æ.html",redirect:"/java/se/process-control/sequential-structure/"},{name:"v-1c2c99c8",path:"/java/se/process-control/case-structure/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-1c2c99c8").then(t)}},{path:"/java/se/process-control/case-structure/index.html",redirect:"/java/se/process-control/case-structure/"},{path:"/01.Java/02.java-åºç¡/03.æµç¨æ§å¶/03.éæ©ç»æ.html",redirect:"/java/se/process-control/case-structure/"},{name:"v-990ee8ec",path:"/java/se/process-control/loop-structure/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-990ee8ec").then(t)}},{path:"/java/se/process-control/loop-structure/index.html",redirect:"/java/se/process-control/loop-structure/"},{path:"/01.Java/02.java-åºç¡/03.æµç¨æ§å¶/04.å¾ªç¯ç»æ.html",redirect:"/java/se/process-control/loop-structure/"},{name:"v-576d295a",path:"/java/se/process-control/scanner/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-576d295a").then(t)}},{path:"/java/se/process-control/scanner/index.html",redirect:"/java/se/process-control/scanner/"},{path:"/01.Java/02.java-åºç¡/03.æµç¨æ§å¶/01.ç¨æ·äº¤äºScanner.html",redirect:"/java/se/process-control/scanner/"},{name:"v-1fb534ce",path:"/java/se/method/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-1fb534ce").then(t)}},{path:"/java/se/method/index.html",redirect:"/java/se/method/"},{path:"/01.Java/02.java-åºç¡/04.æ¹æ³.html",redirect:"/java/se/method/"},{name:"v-6d754144",path:"/java/se/array/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-6d754144").then(t)}},{path:"/java/se/array/index.html",redirect:"/java/se/array/"},{path:"/01.Java/02.java-åºç¡/05.æ°ç».html",redirect:"/java/se/array/"},{name:"v-0bc483d1",path:"/java/se/process-control/break-continue/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-0bc483d1").then(t)}},{path:"/java/se/process-control/break-continue/index.html",redirect:"/java/se/process-control/break-continue/"},{path:"/01.Java/02.java-åºç¡/03.æµç¨æ§å¶/05.breakåcontinue.html",redirect:"/java/se/process-control/break-continue/"},{name:"v-26212a8a",path:"/java/se/exception/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-26212a8a").then(t)}},{path:"/java/se/exception/index.html",redirect:"/java/se/exception/"},{path:"/01.Java/02.java-åºç¡/07.å¼å¸¸æºå¶.html",redirect:"/java/se/exception/"},{name:"v-0d0a72db",path:"/java/se/object/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-0d0a72db").then(t)}},{path:"/java/se/object/index.html",redirect:"/java/se/object/"},{path:"/01.Java/03.java-é¢åå¯¹è±¡/06.é¢åå¯¹è±¡.html",redirect:"/java/se/object/"},{name:"v-458cddd9",path:"/java/se/commonly-used-class/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-458cddd9").then(t)}},{path:"/java/se/commonly-used-class/index.html",redirect:"/java/se/commonly-used-class/"},{path:"/01.Java/04.Java-å¸¸ç¨ç±»/08.å¸¸ç¨ç±».html",redirect:"/java/se/commonly-used-class/"},{name:"v-79afdc49",path:"/java/se/collection/synopsis/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-79afdc49").then(t)}},{path:"/java/se/collection/synopsis/index.html",redirect:"/java/se/collection/synopsis/"},{path:"/01.Java/05.Java-éåæ¡æ¶/01.éåæ¦åº.html",redirect:"/java/se/collection/synopsis/"},{name:"v-2831c459",path:"/java/se/collection/ArrayList/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-2831c459").then(t)}},{path:"/java/se/collection/ArrayList/index.html",redirect:"/java/se/collection/ArrayList/"},{path:"/01.Java/05.Java-éåæ¡æ¶/02.ArrayList.html",redirect:"/java/se/collection/ArrayList/"},{name:"v-053d84f2",path:"/java/se/collection/LinkedList/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-053d84f2").then(t)}},{path:"/java/se/collection/LinkedList/index.html",redirect:"/java/se/collection/LinkedList/"},{path:"/01.Java/05.Java-éåæ¡æ¶/03.LinkedList.html",redirect:"/java/se/collection/LinkedList/"},{name:"v-b2628b0c",path:"/java/se/collection/Vevtor-Stack/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-b2628b0c").then(t)}},{path:"/java/se/collection/Vevtor-Stack/index.html",redirect:"/java/se/collection/Vevtor-Stack/"},{path:"/01.Java/05.Java-éåæ¡æ¶/04.VevtoråStack.html",redirect:"/java/se/collection/Vevtor-Stack/"},{name:"v-ba15898e",path:"/java/se/collection/HashMap/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-ba15898e").then(t)}},{path:"/java/se/collection/HashMap/index.html",redirect:"/java/se/collection/HashMap/"},{path:"/01.Java/05.Java-éåæ¡æ¶/06.HashMap.html",redirect:"/java/se/collection/HashMap/"},{name:"v-797fe2d2",path:"/java/se/collection/List-summary/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-797fe2d2").then(t)}},{path:"/java/se/collection/List-summary/index.html",redirect:"/java/se/collection/List-summary/"},{path:"/01.Java/05.Java-éåæ¡æ¶/05.Listæ»ç».html",redirect:"/java/se/collection/List-summary/"},{name:"v-0210a959",path:"/java/se/collection/set/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-0210a959").then(t)}},{path:"/java/se/collection/set/index.html",redirect:"/java/se/collection/set/"},{path:"/01.Java/05.Java-éåæ¡æ¶/07.Set.html",redirect:"/java/se/collection/set/"},{name:"v-2d5f5839",path:"/java/se/collection/HashSet/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-2d5f5839").then(t)}},{path:"/java/se/collection/HashSet/index.html",redirect:"/java/se/collection/HashSet/"},{path:"/01.Java/05.Java-éåæ¡æ¶/08.HashSet.html",redirect:"/java/se/collection/HashSet/"},{name:"v-417db3ae",path:"/java/se/collection/iterator/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-417db3ae").then(t)}},{path:"/java/se/collection/iterator/index.html",redirect:"/java/se/collection/iterator/"},{path:"/01.Java/05.Java-éåæ¡æ¶/10.è¿­ä»£å¨.html",redirect:"/java/se/collection/iterator/"},{name:"v-43d92dd9",path:"/java/se/collection/TreeSet/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-43d92dd9").then(t)}},{path:"/java/se/collection/TreeSet/index.html",redirect:"/java/se/collection/TreeSet/"},{path:"/01.Java/05.Java-éåæ¡æ¶/09.TreeSet.html",redirect:"/java/se/collection/TreeSet/"},{name:"v-28e9210c",path:"/java/se/collection/generic-paradigm/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-28e9210c").then(t)}},{path:"/java/se/collection/generic-paradigm/index.html",redirect:"/java/se/collection/generic-paradigm/"},{path:"/01.Java/05.Java-éåæ¡æ¶/11.æ³å.html",redirect:"/java/se/collection/generic-paradigm/"},{name:"v-5dded6fa",path:"/java/se/collection/collections/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-5dded6fa").then(t)}},{path:"/java/se/collection/collections/index.html",redirect:"/java/se/collection/collections/"},{path:"/01.Java/05.Java-éåæ¡æ¶/12.Collectionså·¥å·ç±».html",redirect:"/java/se/collection/collections/"},{name:"v-90469700",path:"/java/se/thread/1/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-90469700").then(t)}},{path:"/java/se/thread/1/index.html",redirect:"/java/se/thread/1/"},{path:"/01.Java/07.Java-å¤çº¿ç¨/02.JUCå­¦ä¹ ç¬è®°.html",redirect:"/java/se/thread/1/"},{name:"v-6079c7fa",path:"/java/se/thread/2/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-6079c7fa").then(t)}},{path:"/java/se/thread/2/index.html",redirect:"/java/se/thread/2/"},{path:"/01.Java/07.Java-å¤çº¿ç¨/05.JUCå­¦ä¹ ç¬è®°.html",redirect:"/java/se/thread/2/"},{name:"v-4bb79bd0",path:"/pages/5916e7/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-4bb79bd0").then(t)}},{path:"/pages/5916e7/index.html",redirect:"/pages/5916e7/"},{path:"/01.Java/20.JavaWeb/01.åºæ¬æ¦å¿µ.html",redirect:"/pages/5916e7/"},{name:"v-e2d344f2",path:"/pages/1ccdff/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-e2d344f2").then(t)}},{path:"/pages/1ccdff/index.html",redirect:"/pages/1ccdff/"},{path:"/01.Java/20.JavaWeb/02.Tomcat.html",redirect:"/pages/1ccdff/"},{name:"v-5e22edfe",path:"/pages/7187be/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-5e22edfe").then(t)}},{path:"/pages/7187be/index.html",redirect:"/pages/7187be/"},{path:"/01.Java/20.JavaWeb/03.Http.html",redirect:"/pages/7187be/"},{name:"v-b785b0fe",path:"/javaweb/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-b785b0fe").then(t)}},{path:"/javaweb/index.html",redirect:"/javaweb/"},{path:"/01.Java/20.JavaWeb/00.javaweb.html",redirect:"/javaweb/"},{name:"v-e9d086fe",path:"/pages/e986b8/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-e9d086fe").then(t)}},{path:"/pages/e986b8/index.html",redirect:"/pages/e986b8/"},{path:"/01.Java/20.JavaWeb/05.servlet.html",redirect:"/pages/e986b8/"},{name:"v-fa5b3454",path:"/pages/d20044/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-fa5b3454").then(t)}},{path:"/pages/d20044/index.html",redirect:"/pages/d20044/"},{path:"/01.Java/20.JavaWeb/06.cookieåsession.html",redirect:"/pages/d20044/"},{name:"v-049ddce1",path:"/pages/cb259f/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-049ddce1").then(t)}},{path:"/pages/cb259f/index.html",redirect:"/pages/cb259f/"},{path:"/01.Java/20.JavaWeb/04.Maven.html",redirect:"/pages/cb259f/"},{name:"v-38a9c856",path:"/pages/e8021e/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-38a9c856").then(t)}},{path:"/pages/e8021e/index.html",redirect:"/pages/e8021e/"},{path:"/01.Java/20.JavaWeb/20.æ»è§.html",redirect:"/pages/e8021e/"},{name:"v-6989e0ac",path:"/mysql/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-6989e0ac").then(t)}},{path:"/mysql/index.html",redirect:"/mysql/"},{path:"/03.æ°æ®åº/05.MySQL/02.MySQL.html",redirect:"/mysql/"},{name:"v-e50b8c2e",path:"/mysql/index/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-e50b8c2e").then(t)}},{path:"/mysql/index/index.html",redirect:"/mysql/index/"},{path:"/03.æ°æ®åº/05.MySQL/06.MySQL - ç´¢å¼.html",redirect:"/mysql/index/"},{name:"v-2a221380",path:"/mysql/logic/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-2a221380").then(t)}},{path:"/mysql/logic/index.html",redirect:"/mysql/logic/"},{path:"/03.æ°æ®åº/05.MySQL/04.MySQL - é»è¾æ¶æ.html",redirect:"/mysql/logic/"},{name:"v-7e2b9df0",path:"/mysql/index-use/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-7e2b9df0").then(t)}},{path:"/mysql/index-use/index.html",redirect:"/mysql/index-use/"},{path:"/03.æ°æ®åº/05.MySQL/12.MySQL - ç´¢å¼çä½¿ç¨.html",redirect:"/mysql/index-use/"},{name:"v-4fa6c7e5",path:"/mysql/sql-optimize/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-4fa6c7e5").then(t)}},{path:"/mysql/sql-optimize/index.html",redirect:"/mysql/sql-optimize/"},{path:"/03.æ°æ®åº/05.MySQL/14.MySQL - SQLä¼å.html",redirect:"/mysql/sql-optimize/"},{name:"v-0734792a",path:"/mysql/cache-query/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-0734792a").then(t)}},{path:"/mysql/cache-query/index.html",redirect:"/mysql/cache-query/"},{path:"/03.æ°æ®åº/05.MySQL/16.MySQL - ç¼å­æ¥è¯¢.html",redirect:"/mysql/cache-query/"},{name:"v-5909a860",path:"/mysql/memory-management/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-5909a860").then(t)}},{path:"/mysql/memory-management/index.html",redirect:"/mysql/memory-management/"},{path:"/03.æ°æ®åº/05.MySQL/18.MySQL - åå­ç®¡ç.html",redirect:"/mysql/memory-management/"},{name:"v-bcb1749a",path:"/mysql/optimize-sql-check/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-bcb1749a").then(t)}},{path:"/mysql/optimize-sql-check/index.html",redirect:"/mysql/optimize-sql-check/"},{path:"/03.æ°æ®åº/05.MySQL/10.MySQL - ä¼åSQLæ£æµæ­¥éª¤.html",redirect:"/mysql/optimize-sql-check/"},{name:"v-101289a5",path:"/mysql/concurrent-parameter/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-101289a5").then(t)}},{path:"/mysql/concurrent-parameter/index.html",redirect:"/mysql/concurrent-parameter/"},{path:"/03.æ°æ®åº/05.MySQL/20.MySQL - å¹¶ååæ°.html",redirect:"/mysql/concurrent-parameter/"},{name:"v-38a63570",path:"/mysql/common-use-sql-skill/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-38a63570").then(t)}},{path:"/mysql/common-use-sql-skill/index.html",redirect:"/mysql/common-use-sql-skill/"},{path:"/03.æ°æ®åº/05.MySQL/24.MySQL - å¸¸ç¨sqlæå·§.html",redirect:"/mysql/common-use-sql-skill/"},{name:"v-5a6a2f10",path:"/mysql/lock-question/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-5a6a2f10").then(t)}},{path:"/mysql/lock-question/index.html",redirect:"/mysql/lock-question/"},{path:"/03.æ°æ®åº/05.MySQL/22.MySQL - éé®é¢.html",redirect:"/mysql/lock-question/"},{name:"v-2a0bf03b",path:"/mysql/common-tools/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-2a0bf03b").then(t)}},{path:"/mysql/common-tools/index.html",redirect:"/mysql/common-tools/"},{path:"/03.æ°æ®åº/05.MySQL/26.MySQL - å¸¸ç¨å·¥å·.html",redirect:"/mysql/common-tools/"},{name:"v-0deb7e9f",path:"/mysql/log/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-0deb7e9f").then(t)}},{path:"/mysql/log/index.html",redirect:"/mysql/log/"},{path:"/03.æ°æ®åº/05.MySQL/28.MySQL - æ¥å¿.html",redirect:"/mysql/log/"},{name:"v-615e5fce",path:"/mysql/copy/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-615e5fce").then(t)}},{path:"/mysql/copy/index.html",redirect:"/mysql/copy/"},{path:"/03.æ°æ®åº/05.MySQL/30.MySQL - ä¸»ä»å¤å¶.html",redirect:"/mysql/copy/"},{name:"v-4c80214c",path:"/redis/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-4c80214c").then(t)}},{path:"/redis/index.html",redirect:"/redis/"},{path:"/03.æ°æ®åº/10.Redis/00.Redisç¥è¯ä½ç³».html",redirect:"/redis/"},{name:"v-2fc63d9e",path:"/pages/6ea36e/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-2fc63d9e").then(t)}},{path:"/pages/6ea36e/index.html",redirect:"/pages/6ea36e/"},{path:"/03.æ°æ®åº/10.Redis/02.äºå¤§æ°æ®ç±»å.html",redirect:"/pages/6ea36e/"},{name:"v-cfeb30e6",path:"/pages/28aa50/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-cfeb30e6").then(t)}},{path:"/pages/28aa50/index.html",redirect:"/pages/28aa50/"},{path:"/03.æ°æ®åº/10.Redis/01.Redis - å¥é¨.html",redirect:"/pages/28aa50/"},{name:"v-7a1e2428",path:"/pages/5898ab/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-7a1e2428").then(t)}},{path:"/pages/5898ab/index.html",redirect:"/pages/5898ab/"},{path:"/03.æ°æ®åº/10.Redis/03.ä¸ç§ç¹æ®æ°æ®ç±»å.html",redirect:"/pages/5898ab/"},{name:"v-6971b032",path:"/pages/41f31b/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-6971b032").then(t)}},{path:"/pages/41f31b/index.html",redirect:"/pages/41f31b/"},{path:"/03.æ°æ®åº/10.Redis/04.Redisäºå¡.html",redirect:"/pages/41f31b/"},{name:"v-597ac620",path:"/pages/216cfe/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-597ac620").then(t)}},{path:"/pages/216cfe/index.html",redirect:"/pages/216cfe/"},{path:"/03.æ°æ®åº/10.Redis/05.Redis - Java.html",redirect:"/pages/216cfe/"},{name:"v-7f6d5ac0",path:"/pages/feab74/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-7f6d5ac0").then(t)}},{path:"/pages/feab74/index.html",redirect:"/pages/feab74/"},{path:"/03.æ°æ®åº/10.Redis/10.Rediså­¦ä¹ ç¬è®°-æ»è§.html",redirect:"/pages/feab74/"},{name:"v-56b0312c",path:"/es/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-56b0312c").then(t)}},{path:"/es/index.html",redirect:"/es/"},{path:"/03.æ°æ®åº/15.ElasticSearch/01.ElasticSearch.html",redirect:"/es/"},{name:"v-78e814f8",path:"/es/introduce/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-78e814f8").then(t)}},{path:"/es/introduce/index.html",redirect:"/es/introduce/"},{path:"/03.æ°æ®åº/15.ElasticSearch/02.ES - åºç¡æ¦å¿µ.html",redirect:"/es/introduce/"},{name:"v-b013a97e",path:"/es/install/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-b013a97e").then(t)}},{path:"/es/install/index.html",redirect:"/es/install/"},{path:"/03.æ°æ®åº/15.ElasticSearch/04.ES - å®è£.html",redirect:"/es/install/"},{name:"v-23662401",path:"/es/index-doc/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-23662401").then(t)}},{path:"/es/index-doc/index.html",redirect:"/es/index-doc/"},{path:"/03.æ°æ®åº/15.ElasticSearch/06.ES - ç´¢å¼åææ¡£çåºæ¬æä½.html",redirect:"/es/index-doc/"},{name:"v-d48a660e",path:"/es/query/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-d48a660e").then(t)}},{path:"/es/query/index.html",redirect:"/es/query/"},{path:"/03.æ°æ®åº/15.ElasticSearch/08.ES - é«çº§æ¥è¯¢æä½.html",redirect:"/es/query/"},{name:"v-792e46c1",path:"/pages/87178e/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-792e46c1").then(t)}},{path:"/pages/87178e/index.html",redirect:"/pages/87178e/"},{path:"/03.æ°æ®åº/15.ElasticSearch/12.ES - åè¯.html",redirect:"/pages/87178e/"},{name:"v-7a59e988",path:"/pages/34c4ae/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-7a59e988").then(t)}},{path:"/pages/34c4ae/index.html",redirect:"/pages/34c4ae/"},{path:"/03.æ°æ®åº/20.MongoDB/05.Mongo - åºç¡æ¦å¿µ.html",redirect:"/pages/34c4ae/"},{name:"v-37e966eb",path:"/pages/8b85ee/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-37e966eb").then(t)}},{path:"/pages/8b85ee/index.html",redirect:"/pages/8b85ee/"},{path:"/03.æ°æ®åº/15.ElasticSearch/10.ES - ç´¢å¼ç®¡ç.html",redirect:"/pages/8b85ee/"},{name:"v-66cd1cb0",path:"/pages/f04bc7/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-66cd1cb0").then(t)}},{path:"/pages/f04bc7/index.html",redirect:"/pages/f04bc7/"},{path:"/03.æ°æ®åº/20.MongoDB/10.Mongo - å®è£åCRUD.html",redirect:"/pages/f04bc7/"},{name:"v-ece34b10",path:"/mybatis/study-note/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-ece34b10").then(t)}},{path:"/mybatis/study-note/index.html",redirect:"/mybatis/study-note/"},{path:"/04.æ¡æ¶/01.mybatis/01.å­¦ä¹ ç¬è®°.html",redirect:"/mybatis/study-note/"},{name:"v-740e8b5b",path:"/mongodb/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-740e8b5b").then(t)}},{path:"/mongodb/index.html",redirect:"/mongodb/"},{path:"/03.æ°æ®åº/20.MongoDB/00.Mongo - ç®å½é¡µ.html",redirect:"/mongodb/"},{name:"v-30cb5d4c",path:"/spring/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-30cb5d4c").then(t)}},{path:"/spring/index.html",redirect:"/spring/"},{path:"/04.æ¡æ¶/03.Spring/01.spring - ç®å½é¡µ.html",redirect:"/spring/"},{name:"v-6a747794",path:"/mybatis-plus/study-note/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-6a747794").then(t)}},{path:"/mybatis-plus/study-note/index.html",redirect:"/mybatis-plus/study-note/"},{path:"/04.æ¡æ¶/02.mybatis-plus/01.å­¦ä¹ ç¬è®°.html",redirect:"/mybatis-plus/study-note/"},{name:"v-4fac6ad4",path:"/rabbitmq/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-4fac6ad4").then(t)}},{path:"/rabbitmq/index.html",redirect:"/rabbitmq/"},{path:"/04.æ¡æ¶/20.RabbitMQ/01.RabbitMQç¥è¯ä½ç³» .html",redirect:"/rabbitmq/"},{name:"v-220a90d1",path:"/pages/e38dcb/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-220a90d1").then(t)}},{path:"/pages/e38dcb/index.html",redirect:"/pages/e38dcb/"},{path:"/04.æ¡æ¶/20.RabbitMQ/02.ä¸­é´ä»¶ä»ç».html",redirect:"/pages/e38dcb/"},{name:"v-fb43fc32",path:"/pages/2c91a1/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-fb43fc32").then(t)}},{path:"/pages/2c91a1/index.html",redirect:"/pages/2c91a1/"},{path:"/04.æ¡æ¶/20.RabbitMQ/04.æ¶æ¯éåä»ç».html",redirect:"/pages/2c91a1/"},{name:"v-1be5385e",path:"/pages/f015b1/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-1be5385e").then(t)}},{path:"/pages/f015b1/index.html",redirect:"/pages/f015b1/"},{path:"/04.æ¡æ¶/20.RabbitMQ/06.RabbitMQ - å®è£.html",redirect:"/pages/f015b1/"},{name:"v-ea04530c",path:"/pages/ef9b33/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-ea04530c").then(t)}},{path:"/pages/ef9b33/index.html",redirect:"/pages/ef9b33/"},{path:"/04.æ¡æ¶/20.RabbitMQ/10.RabbitMQ - åå¸ç¡®è®¤.html",redirect:"/pages/ef9b33/"},{name:"v-32fb0c7e",path:"/pages/c9c254/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-32fb0c7e").then(t)}},{path:"/pages/c9c254/index.html",redirect:"/pages/c9c254/"},{path:"/04.æ¡æ¶/20.RabbitMQ/12.RabbitMQ - äº¤æ¢æº.html",redirect:"/pages/c9c254/"},{name:"v-1bb853fa",path:"/pages/1477b8/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-1bb853fa").then(t)}},{path:"/pages/1477b8/index.html",redirect:"/pages/1477b8/"},{path:"/04.æ¡æ¶/20.RabbitMQ/14.RabbitMQ - æ­»ä¿¡éå.html",redirect:"/pages/1477b8/"},{name:"v-4eea68e0",path:"/pages/95ce73/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-4eea68e0").then(t)}},{path:"/pages/95ce73/index.html",redirect:"/pages/95ce73/"},{path:"/04.æ¡æ¶/20.RabbitMQ/08.RabbitMQ - ç®åæ¡ä¾.html",redirect:"/pages/95ce73/"},{name:"v-aa511c30",path:"/pages/0a0086/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-aa511c30").then(t)}},{path:"/pages/0a0086/index.html",redirect:"/pages/0a0086/"},{path:"/04.æ¡æ¶/20.RabbitMQ/16.RabbitMQ - å»¶è¿éå.html",redirect:"/pages/0a0086/"},{name:"v-ec96f538",path:"/pages/c94906/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-ec96f538").then(t)}},{path:"/pages/c94906/index.html",redirect:"/pages/c94906/"},{path:"/04.æ¡æ¶/20.RabbitMQ/18.RabbitMQ - åå¸ç¡®è®¤é«çº§.html",redirect:"/pages/c94906/"},{name:"v-c629ccf6",path:"/pages/ee71b9/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-c629ccf6").then(t)}},{path:"/pages/ee71b9/index.html",redirect:"/pages/ee71b9/"},{path:"/04.æ¡æ¶/20.RabbitMQ/20.RabbitMQ - å¹ç­æ§ãä¼åçº§ãæ°æ§.html",redirect:"/pages/ee71b9/"},{name:"v-2c3587d8",path:"/git/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-2c3587d8").then(t)}},{path:"/git/index.html",redirect:"/git/"},{path:"/05.å·¥å·é¨ç½²/01.Git/00.Git.html",redirect:"/git/"},{name:"v-44326a4c",path:"/pages/7d2d32/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-44326a4c").then(t)}},{path:"/pages/7d2d32/index.html",redirect:"/pages/7d2d32/"},{path:"/05.å·¥å·é¨ç½²/01.Git/01.Gitç®åæäº¤.html",redirect:"/pages/7d2d32/"},{name:"v-4e08f385",path:"/pages/5747a6/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-4e08f385").then(t)}},{path:"/pages/5747a6/index.html",redirect:"/pages/5747a6/"},{path:"/05.å·¥å·é¨ç½²/01.Git/02.SSHåå¯ç»å½.html",redirect:"/pages/5747a6/"},{name:"v-7eff31ac",path:"/pages/fe0004/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-7eff31ac").then(t)}},{path:"/pages/fe0004/index.html",redirect:"/pages/fe0004/"},{path:"/05.å·¥å·é¨ç½²/01.Git/04.Git - Commitå¸¸ç¨è¡¨æ.html",redirect:"/pages/fe0004/"},{name:"v-b7c7369a",path:"/pages/81663b/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-b7c7369a").then(t)}},{path:"/pages/81663b/index.html",redirect:"/pages/81663b/"},{path:"/05.å·¥å·é¨ç½²/01.Git/05.Gitå é¤æäº¤è®°å½.html",redirect:"/pages/81663b/"},{name:"v-636ce848",path:"/pages/0fc313/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-636ce848").then(t)}},{path:"/pages/0fc313/index.html",redirect:"/pages/0fc313/"},{path:"/05.å·¥å·é¨ç½²/01.Git/06.DS_Store.html",redirect:"/pages/0fc313/"},{name:"v-36da3e34",path:"/docker/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-36da3e34").then(t)}},{path:"/docker/index.html",redirect:"/docker/"},{path:"/05.å·¥å·é¨ç½²/10.Docker/01.Docker.html",redirect:"/docker/"},{name:"v-6461f3c1",path:"/pages/fc0548/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-6461f3c1").then(t)}},{path:"/pages/fc0548/index.html",redirect:"/pages/fc0548/"},{path:"/05.å·¥å·é¨ç½²/10.Docker/04.Docker - å®è£.html",redirect:"/pages/fc0548/"},{name:"v-87e4ba86",path:"/pages/09f2eb/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-87e4ba86").then(t)}},{path:"/pages/09f2eb/index.html",redirect:"/pages/09f2eb/"},{path:"/05.å·¥å·é¨ç½²/10.Docker/02.Docker - æ¦è¿°.html",redirect:"/pages/09f2eb/"},{name:"v-76ebdf26",path:"/pages/a25911/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-76ebdf26").then(t)}},{path:"/pages/a25911/index.html",redirect:"/pages/a25911/"},{path:"/05.å·¥å·é¨ç½²/10.Docker/06.Docker - å¸¸ç¨å½ä»¤.html",redirect:"/pages/a25911/"},{name:"v-586d11fa",path:"/pages/90bb76/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-586d11fa").then(t)}},{path:"/pages/90bb76/index.html",redirect:"/pages/90bb76/"},{path:"/05.å·¥å·é¨ç½²/01.Git/11.GitHubæé.html",redirect:"/pages/90bb76/"},{name:"v-2fed92e6",path:"/pages/4e8ad2/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-2fed92e6").then(t)}},{path:"/pages/4e8ad2/index.html",redirect:"/pages/4e8ad2/"},{path:"/05.å·¥å·é¨ç½²/10.Docker/08.Docker - å¯è§å.html",redirect:"/pages/4e8ad2/"},{name:"v-c7c7b8ea",path:"/pages/982fe2/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-c7c7b8ea").then(t)}},{path:"/pages/982fe2/index.html",redirect:"/pages/982fe2/"},{path:"/05.å·¥å·é¨ç½²/10.Docker/10.Docker - éååä»åº.html",redirect:"/pages/982fe2/"},{name:"v-635d5f8d",path:"/pages/3b9d4b/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-635d5f8d").then(t)}},{path:"/pages/3b9d4b/index.html",redirect:"/pages/3b9d4b/"},{path:"/05.å·¥å·é¨ç½²/10.Docker/16.Docker - ç½ç».html",redirect:"/pages/3b9d4b/"},{name:"v-36ee805b",path:"/pages/d7cc4c/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-36ee805b").then(t)}},{path:"/pages/d7cc4c/index.html",redirect:"/pages/d7cc4c/"},{path:"/05.å·¥å·é¨ç½²/10.Docker/12.Docker - æ°æ®å·.html",redirect:"/pages/d7cc4c/"},{name:"v-2967a998",path:"/pages/786a41/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-2967a998").then(t)}},{path:"/pages/786a41/index.html",redirect:"/pages/786a41/"},{path:"/05.å·¥å·é¨ç½²/10.Docker/14.Docker - DockerFile.html",redirect:"/pages/786a41/"},{name:"v-360040da",path:"/pages/a38e01/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-360040da").then(t)}},{path:"/pages/a38e01/index.html",redirect:"/pages/a38e01/"},{path:"/05.å·¥å·é¨ç½²/10.Docker/18.Docker - Compose.html",redirect:"/pages/a38e01/"},{name:"v-21390089",path:"/jenkins/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-21390089").then(t)}},{path:"/jenkins/index.html",redirect:"/jenkins/"},{path:"/05.å·¥å·é¨ç½²/30.Jenkins/01.Jenkins - ç®å½é¡µ.html",redirect:"/jenkins/"},{name:"v-5233b41b",path:"/pages/3dedc8/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-5233b41b").then(t)}},{path:"/pages/3dedc8/index.html",redirect:"/pages/3dedc8/"},{path:"/05.å·¥å·é¨ç½²/30.Jenkins/02.Jenkins - ä»ç».html",redirect:"/pages/3dedc8/"},{name:"v-e25da80e",path:"/pages/038c37/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-e25da80e").then(t)}},{path:"/pages/038c37/index.html",redirect:"/pages/038c37/"},{path:"/10.å³äº/01.å³äº - æ/01.å³äº - æ.html",redirect:"/pages/038c37/"},{name:"v-6f12cff7",path:"/pages/ec9790/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-6f12cff7").then(t)}},{path:"/pages/ec9790/index.html",redirect:"/pages/ec9790/"},{path:"/05.å·¥å·é¨ç½²/30.Jenkins/04.ä»é¶å¼å§ç¨Jenkinsèªå¨æå»ºé¨ç½²SpringBooté¡¹ç®.html",redirect:"/pages/ec9790/"},{name:"v-8e9c4c14",path:"/pages/c6c456/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-8e9c4c14").then(t)}},{path:"/pages/c6c456/index.html",redirect:"/pages/c6c456/"},{path:"/10.å³äº/02.å³äº - æ¬ç«/02.ææ¡£ -  å¿«éä¸æ.html",redirect:"/pages/c6c456/"},{name:"v-54f3eee1",path:"/pages/2a3030/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-54f3eee1").then(t)}},{path:"/pages/2a3030/index.html",redirect:"/pages/2a3030/"},{path:"/10.å³äº/02.å³äº - æ¬ç«/03.ææ¡£ - mdæä»¶åä½.html",redirect:"/pages/2a3030/"},{name:"v-0436aabe",path:"/pages/39f283/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-0436aabe").then(t)}},{path:"/pages/39f283/index.html",redirect:"/pages/39f283/"},{path:"/10.å³äº/02.å³äº - æ¬ç«/05.ææ¡£ - é¨ç½².html",redirect:"/pages/39f283/"},{name:"v-5944f74c",path:"/pages/8bac8d/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-5944f74c").then(t)}},{path:"/pages/8bac8d/index.html",redirect:"/pages/8bac8d/"},{path:"/10.å³äº/02.å³äº - æ¬ç«/12.æ é¢ - éç¹æ¯è¾.html",redirect:"/pages/8bac8d/"},{name:"v-7a41b909",path:"/pages/007827/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-7a41b909").then(t)}},{path:"/pages/007827/index.html",redirect:"/pages/007827/"},{path:"/20.ç¬è«/02.æåº¦ç¿»è¯.html",redirect:"/pages/007827/"},{name:"v-23d64f0e",path:"/pages/7de988/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-23d64f0e").then(t)}},{path:"/pages/7de988/index.html",redirect:"/pages/7de988/"},{path:"/20.ç¬è«/04.ææ¡£å¯ç ç ´è§£.html",redirect:"/pages/7de988/"},{name:"v-bbc08472",path:"/pages/2bde62/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-bbc08472").then(t)}},{path:"/pages/2bde62/index.html",redirect:"/pages/2bde62/"},{path:"/10.å³äº/02.å³äº - æ¬ç«/11.æ é¢ - ç®å½çæ.html",redirect:"/pages/2bde62/"},{name:"v-536574fe",path:"/archives/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-536574fe").then(t)}},{path:"/archives/index.html",redirect:"/archives/"},{path:"/@pages/archivesPage.html",redirect:"/archives/"},{name:"v-fc806cac",path:"/pages/86599a/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-fc806cac").then(t)}},{path:"/pages/86599a/index.html",redirect:"/pages/86599a/"},{path:"/30.AI/01.AI è§£è¯»é¡¹ç®.html",redirect:"/pages/86599a/"},{name:"v-3a8672e0",path:"/pages/ec7818/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-3a8672e0").then(t)}},{path:"/pages/ec7818/index.html",redirect:"/pages/ec7818/"},{path:"/30.AI/05.Claude Codeæç¨.html",redirect:"/pages/ec7818/"},{name:"v-bf924ecc",path:"/",component:vl,beforeEnter:(n,e,t)=>{uo("Layout","v-bf924ecc").then(t)}},{path:"/index.html",redirect:"/"},{path:"*",component:vl}],xl={title:"OddFar's Notes",description:"æä»¬å¨é»æä¸­å¹¶è©åè¡ï¼èµ°å¨åèªçæå£è·¯ä¸!",base:"/notes/",headTags:[["link",{rel:"icon",href:"/notes/img/favicon.ico"}],["meta",{name:"keywords",content:"oddfar,zhiyuan"}],["meta",{name:"theme-color",content:"#11a8cd"}]],pages:[{title:"ç¬è«",frontmatter:{pageComponent:{name:"Catalogue",data:{key:"20.ç¬è«",imgUrl:"/img/web.png",description:"ç¬è«ä¸æ ï¼å³äºç¬è«ãéåç­"}},title:"ç¬è«",permalink:"/spider",sidebar:!1,article:!1,comment:!1,editLink:!1,date:"2022-07-08T18:26:57.000Z"},regularPath:"/00.%E7%9B%AE%E5%BD%95%E9%A1%B5/20.%E7%88%AC%E8%99%AB.html",relativePath:"00.ç®å½é¡µ/20.ç¬è«.md",key:"v-551fbd5b",path:"/spider/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2025/09/06, 15:09:00",lastUpdatedTimestamp:1757171752e3},{title:"java",frontmatter:{pageComponent:{name:"Catalogue",data:{key:"01.Java",imgUrl:"/img/web.png",description:"javaç®å½é¡µï¼æä¸é¢æjavaå­¦ä¹ è·¯çº¿"}},title:"java",date:"2021å¹´4æ14æ¥14:39:06",permalink:"/java",sidebar:!1,article:!1,comment:!1,editLink:!1},regularPath:"/00.%E7%9B%AE%E5%BD%95%E9%A1%B5/01.java.html",relativePath:"00.ç®å½é¡µ/01.java.md",key:"v-e7e40508",path:"/java/",headers:[{level:3,title:"ä¸ºä½ä¸ç¨åå®¢",slug:"ä¸ºä½ä¸ç¨åå®¢",normalizedTitle:"ä¸ºä½ä¸ç¨åå®¢",charIndex:210}],headersStr:"ä¸ºä½ä¸ç¨åå®¢",content:" * å°ç¡è°·çjavaå­¦ä¹ è·¯çº¿ï¼https://www.bilibili.com/read/cv5216534\n\n * çç¥çjavaè§é¢å°åï¼https://www.bilibili.com/read/cv5702420\n\n> å³äºç¥è¯ä½ç³»å¦ä½æ­å»ºï¼\n\nGitHubï¼https://github.com/oddfar/notes\n\nGiteeï¼ https://gitee.com/oddfar/notes\n\n\n# ä¸ºä½ä¸ç¨åå®¢\n\næ¬äººåå®¢ï¼https://oddfar.com\n\næ­å»ºåå®¢éè¦æå¡å¨+ååï¼å¨é¿éäºè´­ä¹°å­¦çæºå³å¯\n\nååå®¢ä¸ªäººæ¨èä½¿ç¨typechoï¼å¥½ççä¸»é¢æhandsomeï¼æ¶è´¹88ï¼ãjoeï¼åè´¹ï¼\n\næå¼å§ææ¯ç¨çåå®¢åç¬è®°ï¼è½ç¶æå¾å¤åè½ï¼åæ¥åå®¢é¡µé¢ç¾åçè¶æ¥è¶âè±éè¡å¨âï¼ä¸éåè¿è¡å¤§æç« çéè¯»ï¼ä»¥åä¸è½æ´å¿«æ´å¥½çæ¥çç¥è¯ï¼åæ¥åç°äºvuepressï¼ç¹å«éååææ¡£æç¥è¯ä½ç³»ï¼äºæ¯å°±éæ©äºå®ã",normalizedContent:" * å°ç¡è°·çjavaå­¦ä¹ è·¯çº¿ï¼https://www.bilibili.com/read/cv5216534\n\n * çç¥çjavaè§é¢å°åï¼https://www.bilibili.com/read/cv5702420\n\n> å³äºç¥è¯ä½ç³»å¦ä½æ­å»ºï¼\n\ngithubï¼https://github.com/oddfar/notes\n\ngiteeï¼ https://gitee.com/oddfar/notes\n\n\n# ä¸ºä½ä¸ç¨åå®¢\n\næ¬äººåå®¢ï¼https://oddfar.com\n\næ­å»ºåå®¢éè¦æå¡å¨+ååï¼å¨é¿éäºè´­ä¹°å­¦çæºå³å¯\n\nååå®¢ä¸ªäººæ¨èä½¿ç¨typechoï¼å¥½ççä¸»é¢æhandsomeï¼æ¶è´¹88ï¼ãjoeï¼åè´¹ï¼\n\næå¼å§ææ¯ç¨çåå®¢åç¬è®°ï¼è½ç¶æå¾å¤åè½ï¼åæ¥åå®¢é¡µé¢ç¾åçè¶æ¥è¶âè±éè¡å¨âï¼ä¸éåè¿è¡å¤§æç« çéè¯»ï¼ä»¥åä¸è½æ´å¿«æ´å¥½çæ¥çç¥è¯ï¼åæ¥åç°äºvuepressï¼ç¹å«éååææ¡£æç¥è¯ä½ç³»ï¼äºæ¯å°±éæ©äºå®ã",charsets:{cjk:!0},lastUpdated:"2021/08/03, 15:08:00",lastUpdatedTimestamp:1628003018e3},{title:"åè¯java",frontmatter:{title:"åè¯java",date:"2021-04-15T22:39:56.000Z",permalink:"/java/se/initial-java/",categories:["java","java-se"]},regularPath:"/01.Java/02.java-%E5%9F%BA%E7%A1%80/01.%E5%88%9D%E8%AF%86java.html",relativePath:"01.Java/02.java-åºç¡/01.åè¯java.md",key:"v-48424b17",path:"/java/se/initial-java/",headers:[{level:2,title:"Java : ä¸ä¸ªå¸å½çè¯ç",slug:"java-ä¸ä¸ªå¸å½çè¯ç",normalizedTitle:"java : ä¸ä¸ªå¸å½çè¯ç",charIndex:13},{level:3,title:"1ãCè¯­è¨å¸å½çç»æ²»",slug:"_1ãcè¯­è¨å¸å½çç»æ²»",normalizedTitle:"1ãcè¯­è¨å¸å½çç»æ²»",charIndex:32},{level:3,title:"2ãåæ",slug:"_2ãåæ",normalizedTitle:"2ãåæ",charIndex:747},{level:3,title:"3ãä¸é¸£æäºº",slug:"_3ãä¸é¸£æäºº",normalizedTitle:"3ãä¸é¸£æäºº",charIndex:1198},{level:3,title:"4ãå¼æçå",slug:"_4ãå¼æçå",normalizedTitle:"4ãå¼æçå",charIndex:1785},{level:3,title:"5ãå¸å½çè¯ç",slug:"_5ãå¸å½çè¯ç",normalizedTitle:"5ãå¸å½çè¯ç",charIndex:2668},{level:2,title:"Javaçç¹æ§åä¼å¿",slug:"javaçç¹æ§åä¼å¿",normalizedTitle:"javaçç¹æ§åä¼å¿",charIndex:3824},{level:3,title:"å«å¤§ç¹æ§",slug:"å«å¤§ç¹æ§",normalizedTitle:"å«å¤§ç¹æ§",charIndex:3839},{level:3,title:"æ ¸å¿ä¼å¿",slug:"æ ¸å¿ä¼å¿",normalizedTitle:"æ ¸å¿ä¼å¿",charIndex:3864},{level:2,title:"Javaä¸å¤§çæ¬",slug:"javaä¸å¤§çæ¬",normalizedTitle:"javaä¸å¤§çæ¬",charIndex:5185},{level:2,title:"JDK å JRE",slug:"jdk-å-jre",normalizedTitle:"jdk å jre",charIndex:5852},{level:2,title:"åè¯JVM",slug:"åè¯jvm",normalizedTitle:"åè¯jvm",charIndex:6300},{level:2,title:"JAVAç¨åºè¿è¡æºå¶",slug:"javaç¨åºè¿è¡æºå¶",normalizedTitle:"javaç¨åºè¿è¡æºå¶",charIndex:6931},{level:3,title:"ç¼è¯åè¯­è¨",slug:"ç¼è¯åè¯­è¨",normalizedTitle:"ç¼è¯åè¯­è¨",charIndex:6964},{level:3,title:"è§£éåè¯­è¨",slug:"è§£éåè¯­è¨",normalizedTitle:"è§£éåè¯­è¨",charIndex:6973},{level:3,title:"äºèçåºå«",slug:"äºèçåºå«",normalizedTitle:"äºèçåºå«",charIndex:7161},{level:3,title:"Javaçè¿è¡æºå¶",slug:"javaçè¿è¡æºå¶",normalizedTitle:"javaçè¿è¡æºå¶",charIndex:6945},{level:2,title:"Hello World",slug:"hello-world",normalizedTitle:"hello world",charIndex:7670}],headersStr:"Java : ä¸ä¸ªå¸å½çè¯ç 1ãCè¯­è¨å¸å½çç»æ²» 2ãåæ 3ãä¸é¸£æäºº 4ãå¼æçå 5ãå¸å½çè¯ç Javaçç¹æ§åä¼å¿ å«å¤§ç¹æ§ æ ¸å¿ä¼å¿ Javaä¸å¤§çæ¬ JDK å JRE åè¯JVM JAVAç¨åºè¿è¡æºå¶ ç¼è¯åè¯­è¨ è§£éåè¯­è¨ äºèçåºå« Javaçè¿è¡æºå¶ Hello World",content:'# åå§java\n\n\n# Java : ä¸ä¸ªå¸å½çè¯ç\n\n\n# 1ãCè¯­è¨å¸å½çç»æ²»\n\nç°å¨æ¯å¬å1995å¹´ï¼ Cè¯­è¨å¸å½å·²ç»ç»æ²»äºæä»¬20å¤å¹´ï¼ å®å¨æ¯å¤ªä¹äºã\n\n1972å¹´ï¼ éçCè¯­è¨çè¯çåUnixçé®ä¸ï¼ å¸å½è¿éå»ºç«ç»æ²»ï¼ ä»åç¾å°æ¬§æ´²ï¼ ä»æ¬§æ´²å°äºæ´²ï¼ æ æ°ç¨åºåè£æå¨ä»çèä¸ã\n\nå¸å½ç»æä»¬æä¾äºæå¥½çç¦å©ï¼è´´è¿ç¡¬ä»¶ï¼ è¿è¡æå¿«ï¼ æçæé«ã\n\nä½¿ç¨è¿äºç¦å©ï¼ ç¨åºåä»¬ç¨C å¼åäºå¾å¤ç³»ç»çº§è½¯ä»¶ï¼æä½ç³»ç»ï¼ ç¼è¯å¨ï¼ æ°æ®åºï¼ç½ç»ç³»ç».....\n\nä½æ¯å¸å½ä¹ç»æä»¬å®ä¸äºä¸¤ä¸ªæ²éçæ·éï¼ æéååå­ç®¡ç\n\nè½ç¶æéæ æ¯å¼ºå¤§ï¼ è½ç´æ¥æä½åå­ï¼ ä½æ¯å¸å½å´æ²¡æç»æä»¬å·¥å·å»åè¶ççæ£æ¥ï¼ å¯¼è´å¾å¤æ°æç¨åºåè½»æç¯éã\n\nè³äºåå­ç®¡çï¼ å¸å½æ´å®å¨æ¯æ¾ä»»çæåº¦ï¼ ä½ èªå·±åéçç©ºé´ï¼ èªå·±å»éæ¾ ï¼\n\næ´è¦å½çæ¯è¿äºé®é¢å¨ç¼è¯æåç°ä¸äºï¼ å¨è¿è¡æ¶æä¼çªç¶æ´é²ï¼ å¸¸å¸¸è®©æä»¬æå¿èä¹±ï¼ æå¤©é»å°å»è°è¯ã\n\næä»¬çå¤§éæ¶é´åå®è´µçç²¾åé½è¢«æµªè´¹å¨å°å¿ç¿¼ç¿¼çå¤çæéååå­åéä¸ã\n\næ¯ä¸ªç¨åºåé½è¢«è¿ä¸¤ä¸ªä¸è¥¿æçç¦å¤´çé¢ï¼\n\nå¸å½å®£ç§°çå¯ç§»æ¤æ§éªäºæä»¬ï¼ä»å®£ç§°æä»¬å¨ä¸ä¸ªæºå¨ä¸åçç¨åºï¼ åªè¦å¨å¦å¤ä¸ä¸ªæºå¨ä¸ç¼è¯å°±å¯ä»¥äºï¼ å®éä¸ä¸æ¯è¿æ ·ã ä»è¦æ±æä»¬å°½éç¨æ åçCå½æ°åºãå¶æ¬¡ï¼å¦æéå°äºä¸äºéå¯¹ç¹å®å¹³å°çè°ç¨ï¼ éè¦å¯¹æ¯ä¸ªå¹³å°é½å¾åä¸ä»½ ï¼ æä¸ç¹ç¹å°éè¯¯ï¼é½ä¼å¯¼è´ç¼è¯å¤±è´¥ã\n\n1982å¹´ï¼å¸å½åæ¨åºäºä¸é¨æ°çè¯­è¨C++, æ·»å äºé¢åå¯¹è±¡çåè½ï¼å¼å®¹C, æéæç±»åæ£æ¥ï¼ æ§è½ä¹å¾å¥½ã\n\nä½æ¯è¿é¨æ°çè¯­è¨å®å¨æ¯å¤ªå¤æäºï¼ å¤æå°æ¯æèªæçå¤çäººé½æ²¡æåæ³å®å¨ææ¡è¿é¨è¯­è¨ï¼å®çå¾å¤ç¹æ§å¤æçè®©äººåæã\n\nC++å¨å¾å½¢é¢ååæ¸¸æä¸åå¾äºä¸äºæåï¼ ä½æ¯æä¸ç´å­¦ä¸å¥½å®ã\n\n\n# 2ãåæ\n\næå³å®åæè¿ä¸ªåºå¤§çå¸å½ï¼ æå·å·çå¸¦é¢çä¸å¸®å¿åéåçåå¼ç¦»å¼äºï¼æä»¬è¦æ°å»ºä¸åæ¸æ°èªç±çé¢å°ã\n\nä¸ºäºå¸å¼æ´å¤çç¨åºåå å¥æä»¬ï¼ æä»¬è¦å»ºç«ä¸ä¸ªæ°çè¯­è¨ï¼è¿ä¸ªè¯­è¨åºè¯¥æè¿æ ·çç¹æ§ï¼\n\nè¯­æ³æç¹åC ï¼ è¿æ ·å¤§å®¶å®¹ææ¥å\n\næ²¡æCè¯­è¨é£æ ·çæé\n\nåä¹ä¸è¦èèåå­ç®¡çäºï¼ å®å¨åä¸äºäº\n\nçæ­£çå¯ç§»æ¤æ§ï¼ ç¼åä¸æ¬¡ï¼ å°å¤è¿è¡\n\né¢åå¯¹è±¡\n\nç±»åå®å¨\n\nè¿æï¼æä»¬è¦æä¾ä¸å¥é«è´¨éçç±»åºï¼ éè¯­è¨åè¡ã\n\nææ³æè¿ä¸ªè¯­è¨å½åä¸ºC++-- , å³C++ååï¼ å ä¸ºææ³å¨C++çåºç¡ä¸æ¹è¿ï¼æå®ç®åã\n\nåæ¥åç°ä¸è¡ï¼ è®¾è®¡çå¿µå·®å«å¤ªå¤§ã\n\nå¹²èéå¯çç¶ã\n\næçå°é¨å£çä¸æ£µæ©¡æ ï¼ å°±æè¿ä¸ªè¯­è¨å«åOakã\n\nä½æ¯åæ¥åå¸çæ¶åï¼ åç°Oakå·²ç»è¢«å«äººç¨äºï¼ æä»¬è®¨è®ºå¾ä¹ï¼ æç»å³å®æè¿é¨æ°çè¯­è¨å«å Javaã\n\nä¸ºäºå®ç°è·¨å¹³å°ï¼ æä»¬å¨æä½ç³»ç»ååºç¨ç¨åºä¹é´å¢å äºä¸ä¸ªæ½è±¡å±ï¼ Java èææº\n\nç¨Javaåçç¨åºé½è·å¨èææºä¸ï¼ é¤éä¸ªå«æåµï¼ é½ä¸ç¨çå°æä½ç³»ç»ã\n\n\n# 3ãä¸é¸£æäºº\n\nä¸ºäºå¸å¼æ´å¤çäººå å¥æä»¬çæ°é¢å°ï¼ æä»¬å³å®æä¸ä¸ªæ¼ç¤ºï¼ åå¤§å®¶å±ç¤ºJava çè½åã\n\nåºä¸æªä¹çJavaå¶å®è¿è¿ä¸å®åã æç¹ä»ä¹å¥½å¢ï¼\n\næä»¬æç¼åç¯ä¸äºååå´èµ·çäºèç½ï¼ 1995å¹´çç½é¡µç®åèç²ç³ï¼ ç¼ºä¹äºå¨æ§ã äºæ¯æä»¬å¨æµè§å¨ä¸å¼äºä¸ªå°æä»¶ï¼ æjava è¿è¡ç¯å¢æ¾äºä¸å»ã\n\nç¶åå¨ä¸é¢å¼åäºä¸ä¸ªå¾å½¢çé¢çç¨åº(Applet)ï¼ è®©å®çèµ·æ¥ç¾è½®ç¾å¥ï¼ éæ¼äººå¿ã\n\næ¯ä¸ä¸ªçå°ä»çç¨åºåé½ä¼ååºâWowâçæå¹ ï¼ä¸ºä¹å¾åã\n\nJava æ´»äºï¼\n\néè¿Applet , æ æ°çç¨åºåçå°äºJavaè¿é¨è¯­è¨ï¼äºè§£äºè¿é¨è¯­è¨ç¹æ§ä»¥åï¼ å¾å¤æ æ³å¿åCå¸å½æ´æ¿çç¨åºåï¼ å¾å¿«å å¥äºæä»¬ï¼ æä»¬çé¢å°å¼å§è¿éæ©å¤§ã\n\nè¿Cè¯­è¨å¸å½éçä¸äºåä¸å·¨å¤´ä¹çº·çº·æ¥åæä»¬åä½ï¼ å¶ä¸­å°±åæ¬Oracle , å¾®è½¯è¿æ ·çå·¨å¤´ ï¼ å¾®è½¯çå¤´é¢Bill Gatesè¿è¯´ ï¼è¿æ¯è¿ä»ä¸ºæ­¢è®¾è®¡çæå¥½çè¯­è¨ï¼\n\nä½æ¯Bill Gateséå¸¸çä¸å°éï¼ ä¹°äºæä»¬çJava è®¸å¯ä»¥åï¼è½ç¶å¨èªå®¶çæµè§å¨ä¸ä¹æ¯æApplet, ä½æ¯ä»ä»¬å´å·å·çè¯å¾ä¿®æ¹Java , æ³æJavaç»æ­»å¨èªå®¶çæä½ç³»ç»ä¸èµé±ï¼ Javaä¼åçä¸å¯ç§»æ¤ã\n\nè¿æ¯æä»¬é¾äºå¿åçï¼ æä»¬åå¾®è½¯åèµ·äºä¸åºæ·æ¥æä¹çæ¸¸å»æäºï¼ é¼çå¾®è½¯éåºäºJavaé¢åï¼ å¼åäºèªå·±ç.NET , è¿æ¯åè¯ã\n\n\n# 4ãå¼æçå\n\nä»1995å¹´å°1997å¹´ï¼æä»¬ä¾é  Java ä¸æ­çæ»åç¥å°ï¼ å¼æçåï¼æä»¬çå½çå­æ°ä¸æ­å¢å ï¼ è¾¾å°äºå åä¸ä¹ä¼ï¼ å·²ç»æ¯ä¸ä¸ªä¸å¯å¿½è§çåéäºã\n\nä½æ¯å¤§å®¶åç°ï¼ Javaé¤äºApplet, ä»¥åä¸äºå°ç¨åºä¹å¤ï¼ ä¼¼ä¹å¹²ä¸äºå«çäºæã\n\nCå¸å½çäººè¿ä¸æ­çå²ç¬æä»¬æ¢ï¼ åä¸ªç©å·ã\n\nå°äº1998å¹´ï¼ ç»è¿å¯è°ï¼ æä»¬Java çå½å³å®æ´¾åºä¸åªåéåå¤æ©å±ï¼\n\nJava 2 æ åç(J2SE)ï¼ å»å é¢æ¡é¢\n\nJava 2 ç§»å¨ç(J2ME)ï¼ å»å é¢ææº\n\nJava 2 ä¼ä¸ç(J2EE)ï¼ å»å é¢æå¡å¨\n\nå¶ä¸­çä¸¤åªå¤§åå¾å¿«è´¥ä¸éµæ¥ã\n\nJ2SE çé¦é¢åç°ï¼ å¼åæ¡é¢åºç¨çç¨åºåæ ¹æ¬æ¥åä¸äºJavaï¼ è½ç¶æä»¬æåçå¾ä¼éçSwing å¯ä»¥å¼åçé¢ï¼ ä½æ¯å¼ååºççé¢éå¸¸é¾çï¼ ååççæ¡é¢å·®è·å¾å¤§ã å°¤å¶æ¯ä¸ºäºè¿è¡ç¨åºè¿å¾å®è£ä¸ä¸ªèææºï¼ å¤§å®¶é½åä¸äºã\n\nJ2MEä¹æ¯ï¼ ä¸ç´ä¸åå¾è§ï¼ å½ç¶æ´éè¦çåå æ¯ä¹å¸æ¯è¿æ²¡æéæ°åæææºï¼ ç§»å¨äºèç½è¿æ²¡æå¯å¨ã\n\nå¤±ä¹ä¸éï¼æ¶ä¹æ¡æ¦ï¼ J2EEèµ¶ä¸äºå¥½æ¶åï¼ äºèç½å¤§åå±ï¼ å¤§å®¶å¿½ç¶åç°ï¼ Javaç®ç´æ¯ä¸ºåæå¡å¨ç«¯ç¨åºæåæçï¼\n\nå¼ºå¤§ï¼ å¥å£®ï¼ å®å¨ï¼ ç®åï¼ è·¨å¹³å° ï¼\n\nå¨J2EEè§èçæå¯¼ä¸ï¼ ç¹å«éåå¢éå¼åå¤æçå¤§åé¡¹ç®ã\n\næä»¬ææBEAå¬å¸ç¬¬ä¸ä¸ªä½¿ç¨J2EEè®¸å¯è¯ï¼ æ¨åºäºWeblogic, å­åå¶éç¾¤åè½ï¼ ç¬¬ä¸æ¬¡å±ç¤ºäºå¤æåºç¨çå¯æ©å±æ§åé«å¯ç¨æ§ã\n\nè¿ä¸ªåæ¥è¢«ç§°ä¸ºä¸­é´ä»¶çä¸è¥¿æç¨åºåä»äºå¡ç®¡çï¼å®å¨ç®¡çï¼æéç®¡çç­æ¹é¢è§£æ¾åºæ¥ï¼ è®©ä»ä»¬ä¸æ³¨äºä¸å¡å¼åã è¿ç«å»æè·äºå¤§éç¨åºåçå¿ã\n\nå¾å¿«Java çå½çå­æ°å°±è¾¾å°æ°ç¾ä¸ä¹ä¼ã\n\næ¦æ ·çåéæ¯æ ç©·çï¼ å¾å¿«å¶ä»åä¸å·¨å¤´ä¹çº·çº·å¥åºï¼ å°¤å¶æ¯IBMï¼å¨Java ä¸ç¯çæå¥ï¼ä¸ä»å¼åäºèªå·±çåºç¨æå¡å¨ Websphere, è¿æ¨åºäºEclipseè¿ä¸ªæå·é­åçå¼æºå¼åå¹³å°ã\n\nå½ç¶IBMå©ç¨java è·å¾äºéå¸¸å¯è§çæçï¼ è½¯ä»¶+ç¡¬ä»¶+æå¡ ä¸é©¾é©¬è½¦æ»æ»ååï¼ æIBMæ¨åäºä¸ä¸ªæ°çé«å³°ã\n\n\n# 5ãå¸å½çè¯ç\n\nå¤§å®¶ä¹æ²¡ææ³å°ï¼é¤äºåä¸å·¨å¤´ä»¥å¤ï¼ ç¨åºåä»¬ä¹ä¼å¯¹Javaçå½ è¿ä¹ç­ç±ï¼ ä»ä»¬åºäºJava å¼åäºå·¨å¤çå¹³å°ï¼ç³»ç»ï¼å·¥å·ï¼ä¾å¦ï¼\n\næå»ºå·¥å·: Antï¼Maven, Jekins\n\nåºç¨æå¡å¨ï¼ Tomcatï¼Jetty, Jboss, Websphere, weblogic\n\nWebå¼åï¼ Struts,Spring,Hibernate, myBatis\n\nå¼åå·¥å·ï¼ Eclipse, Netbean,intellij idea, Jbuilder\n\nããããç­ç­ç­ç­ãããã\n\nå¹¶ä¸ç»å¤§é¨åé½æ¯å¼æºç ï¼\n\nå¾®è½¯ç¼çççççæå¡å¨ç«¯çå¸åºè¢«Java çå½å æ®ï¼ å²è½åç½¢çä¼ï¼ ä»ä»¬èµ¶ç´§æ¨åº.NETæ¥å¯¹æï¼ ä½æä»¬å·²ç»ä¸å¨ä¹äºï¼ å ä¸ºä»çç³»ç»æ¯å°é­çï¼ææçè½¯ä»¶é½æ¯èªå®¶çï¼\n\nå¼åå·¥å·æ¯Visual Studio, åºç¨æå¡å¨æ¯IIS, æ°æ®åºæ¯SQL Serverï¼åªè¦ä½ ç¨.NETï¼åºæ¬ä¸å°±ä¼ç»å®å¾®è½¯ã\n\nå¦å¤ä»ä»¬çç³»ç»åªè½è¿è¡å¨Windowsæå¡å¨ä¸ï¼ è¿ä¸ªæå¡å¨å¨é«ç«¯å¸åºçå æçå®å¨æ¯å¤ªä½äºã\n\n2005å¹´åºï¼ ä¸ä¸ªæ°ççå½çªç¶å´èµ·ï¼ ä»ä»¬å·ç§°å¼åæçæ¯java å¿«5-10åï¼ ç±æ­¤å¸å¼äºå¤§æ¹ç¨åºååå¾å çã\n\nè¿ä¸ªæ°ççå½å«åRuby on Rails, å®ç»åäºPHPä½ç³»çä¼ç¹ï¼å¿«éå¼åï¼åJavaä½ç³»çä¼ç¹ï¼ç¨åºè§æ´ï¼ï¼ ç¹å«éåå¿«éçå¼åç®åçWebç½ç«ã\n\nè½ç¶åå±å¾å¿«ï¼ ä½æ²¡æå¯¹Java çå½äº§çå®è´¨æ§çå¨èï¼ ä½¿ç¨Ruby on Railsæ­å»ºå¤§ååä¸ç³»ç»çè¿å¾å°ã\n\né¤äºRuby on Rails ï¼è¿æPHPï¼ Python ï¼ é½éåå¿«éå¼åä¸å¤ªå¤æçWebç³»ç»ã ä½æ¯å³é®çï¼å¤æçåä¸ç³»ç»å¼åè¿æ¯Java çå½çç»æ²»ä¹ä¸ã æä»¥æä»¬åä»ä»¬ç¸å®æ äºã\n\n2006å¹´ï¼ ä¸åªå«Hadoopçåéè®©Javaçå½å¥ä¾µäºå¤§æ°æ®é¢åï¼ ç±äºä½¿ç¨Java è¯­è¨ï¼ ç»å¤§å¤æ°ç¨åºåå¨çè§£äºMap/Reduce , åå¸å¼æä»¶ç³»ç»å¨Hadoopä¸­çå®ç°ä»¥åï¼ å¾å¿«å°±è½ç¼åå¤çå¤çæµ·éæ°æ®çç¨åºï¼ Java çå½çé¢å°å¾å°äºæå¤§çæ©å±ã\n\n2008å¹´ï¼ ä¸ä¸ªåå«Android çç³»ç»æ¨ªç©ºåºä¸ï¼ å¹¶ä¸éçç§»å¨äºèç½ççåè¿éæ®åï¼ è¿è¡å¨Androidä¹ä¸çæ­£æ¯Java ï¼\n\nJava çå½å¨Googleçæ¯æä¸ï¼ ä»¥ä¸ç§ææ³ä¸å°çæ¹å¼å é¢äºææºç«¯ï¼ å®æäºå½å¹´J2ME å£®å¿æªé¬çäºä¸ ï¼\n\nå°ä»å¹´ä¸ºæ­¢ï¼ å¨ä¸çä¼°è®¡æ1000ä¸ç¨åºåå å¥äºJavaçå½ï¼å®é¢åä¹å¹¿æ³ï¼ å®åä¹å¼ºå¤§ï¼ æ¯å¶ä»è¯­è¨æ æ³æ¯æçã\n\nJava å æ®äºå¤§é¨åçæå¡å¨ç«¯å¼åï¼å°¤å¶æ¯å³é®çå¤æçç³»ç»ï¼ ç»å¤§å¤æ°çææºç«¯ï¼ ä»¥åå¤§é¨åçå¤§æ°æ®é¢åã\n\nä¸ä¸ªä¼å¤§çå¸å½è¯çäºã\n\n\n# Javaçç¹æ§åä¼å¿\n\n\n# å«å¤§ç¹æ§\n\n1ãè·¨å¹³å°/å¯ç§»æ¤æ§\n\nè¿æ¯Javaçæ ¸å¿ä¼å¿ãJavaå¨è®¾è®¡æ¶å°±å¾æ³¨éç§»æ¤åè·¨å¹³å°æ§ãæ¯å¦ï¼Javaçintæ°¸è¿é½æ¯32ä½ãä¸åC++å¯è½æ¯16ï¼32ï¼å¯è½æ¯æ ¹æ®ç¼è¯å¨ååè§å®çååãè¿æ ·çè¯ç¨åºçç§»æ¤å°±ä¼éå¸¸éº»ç¦ã\n\n2ãå®å¨æ§\n\nJavaéåäºç½ç»/åå¸å¼ç¯å¢ï¼ä¸ºäºè¾¾å°è¿ä¸ªç®æ ï¼å¨å®å¨æ§æ¹é¢æå¥äºå¾å¤§çç²¾åï¼ä½¿Javaå¯ä»¥å¾å®¹ææå»ºé²çæ¯ï¼é²ç¯¡æ¹çç³»ç»ã\n\n3ãé¢åå¯¹è±¡\n\né¢åå¯¹è±¡æ¯ä¸ç§ç¨åºè®¾è®¡ææ¯ï¼éå¸¸éåå¤§åè½¯ä»¶çè®¾è®¡åå¼åãç±äºC++ä¸ºäºç§é¡¾å¤§éCè¯­è¨ä½¿ç¨èèå¼å®¹äºCï¼ä½¿å¾èªèº«ä»ä»æä¸ºäºå¸¦ç±»çCè¯­è¨ï¼å¤å°å½±åäºå¶é¢åå¯¹è±¡çå½»åºæ§ï¼\n\nJavaåæ¯å®å¨çé¢åå¯¹è±¡è¯­è¨ã\n\n4ãç®åæ§\n\nJavaå°±æ¯C++è¯­æ³çç®åçï¼æä»¬ä¹å¯ä»¥å°Javaç§°ä¹ä¸ºâC++-âãè·æå¿µâCå å åâï¼æçå°±æ¯å°C++çä¸äºåå®¹å»æï¼æ¯å¦ï¼å¤´æä»¶ï¼æéè¿ç®ï¼ç»æï¼èåï¼æä½ç¬¦éè½½ï¼èåºç±»ç­ç­ã\n\nåæ¶ï¼ç±äºè¯­æ³åºäºCè¯­è¨ï¼å æ­¤å­¦ä¹ èµ·æ¥å®å¨ä¸è´¹åã\n\n5ãé«æ§è½\n\nJavaæååå±é¶æ®µï¼æ»æ¯è¢«äººè¯çâæ§è½ä½âï¼å®¢è§ä¸ï¼é«çº§è¯­è¨è¿è¡æçæ»æ¯ä½äºä½çº§è¯­è¨çï¼è¿ä¸ªæ æ³é¿åãJavaè¯­è¨æ¬èº«åå±ä¸­éè¿èææºçä¼åæåäºå ååè¿è¡æçã\n\næ¯å¦ï¼éè¿JIT(JUST IN TIME)å³æ¶ç¼è¯ææ¯æé«è¿è¡æçã å°ä¸äºâç­ç¹âå­èç ç¼è¯ææ¬å°æºå¨ç ï¼å¹¶å°ç»æç¼å­èµ·æ¥ï¼å¨éè¦çæ¶åéæ°è°ç¨ãè¿æ ·çè¯ï¼ä½¿Javaç¨åºçæ§è¡æçå¤§å¤§æé«ï¼\n\næäºä»£ç çè³æ¥å¾C++çæçãå æ­¤ï¼Javaä½æ§è½çç­è¿ï¼å·²ç»è¢«å®å¨è§£å³äºãä¸çåå±ä¸ï¼æä»¬ä¹çå°å¾å¤C++åºç¨è½¬å°Javaå¼åï¼å¾å¤C++ç¨åºåè½¬åä¸ºJavaç¨åºåã\n\n6ãåå¸å¼\n\nJavaæ¯ä¸ºInternetçåå¸å¼ç¯å¢è®¾è®¡çï¼å ä¸ºå®è½å¤å¤çTCP/IPåè®®ãäºå®ä¸ï¼éè¿URLè®¿é®ä¸ä¸ªç½ç»èµæºåè®¿é®æ¬å°æä»¶æ¯ä¸æ ·ç®åçãJavaè¿æ¯æè¿ç¨æ¹æ³è°ç¨(RMI,Remote Method Invocation)ï¼\n\nä½¿ç¨åºè½å¤éè¿ç½ç»è°ç¨æ¹æ³ã\n\n7ãå¤çº¿ç¨\n\nå¤çº¿ç¨çä½¿ç¨å¯ä»¥å¸¦æ¥æ´å¥½çäº¤äºååºåå®æ¶è¡ä¸ºã Javaå¤çº¿ç¨çç®åæ§æ¯Javaæä¸ºä¸»æµæå¡å¨ç«¯å¼åè¯­è¨çä¸»è¦åå ä¹ä¸ã\n\n8ãå¥å£®æ§\n\nJavaæ¯ä¸ç§å¥å£®çè¯­è¨ï¼å¸æ¶äºC/C++ è¯­è¨çä¼ç¹ï¼ä½å»æäºå¶å½±åç¨åºå¥å£®æ§çé¨åï¼å¦ï¼æéãåå­çç³è¯·ä¸éæ¾ç­ï¼ãJavaç¨åºä¸å¯è½é æè®¡ç®æºå´©æºãå³ä½¿Javaç¨åºä¹å¯è½æéè¯¯ã\n\nå¦æåºç°æç§åºä¹ææä¹äºï¼ç¨åºä¹ä¸ä¼å´©æºï¼èæ¯æè¯¥å¼å¸¸æåºï¼åéè¿å¼å¸¸å¤çæºå¶å ä»¥å¤çã\n\n\n# æ ¸å¿ä¼å¿\n\n\n\nè·¨å¹³å°æ¯Javaè¯­è¨çæ ¸å¿ä¼å¿ï¼èµ¶ä¸æåäºèç½çåå±ï¼å¹¶éçäºèç½çåå±èåå±ï¼å»ºç«äºå¼ºå¤§ççæä½ç³»ï¼ç®åå·²ç»è¦çITåè¡ä¸çâç¬¬ä¸å¤§è¯­è¨âï¼æ¯è®¡ç®æºççâè±è¯­âã\n\nè½ç¶ï¼ç®åä¹æå¾å¤è·¨å¹³å°çè¯­è¨ï¼ä½æ¯å·²ç»å¤±å»åæºï¼æ æ³åJavaå¼ºå¤§ççæä½ç³»æè¡¡ãJavaä»å°å¨æªæ¥å åå¹´æä¸ºç¼ç¨è¯­è¨çä¸»æµè¯­è¨ã\n\nJAVAèææºæ¯JAVAå®ç°è·¨å¹³å°çæ ¸å¿ãäºå®ä¸ï¼åºäºJAVAèææº(JVM)çç¼ç¨è¯­è¨è¿æå¾å¤ç§ï¼\n\n\n\nåºäºJAVAçæå»ºç«çäº§åå°ä¼è¶æ¥è¶å¤ï¼åºäºJAVAèææºçç¼ç¨è¯­è¨ä¹å°ä¼è¶æ¥è¶å¤ï¼çæç³»ç»çå¼ºå¤§ï¼æ¯JAVAè½é¿çä¸è¡°çæ ¹æ¬ã\n\n\n# Javaä¸å¤§çæ¬\n\nJAVAæå¤§çç¹ç¹ï¼\n\nJavaçä¸»è¦ä¼å¿å¨äºå¶ååºçWORAï¼å³ä¸æ¬¡ç¼åï¼Write Onceï¼ãéå¤è¿è¡ï¼Run Anywhereï¼ãç®åæ¥è®²ï¼è¿æå³çå¼åå¢éè½å¤å©ç¨Javaç¼åä¸æ¬¾åºç¨ç¨åºï¼å¹¶å°å¶ç¼è¯ä¸ºå¯æ§è¡å½¢å¼ï¼èåå°å¶è¿è¡ å¨ä»»ä½æ¯æJavaçå¹³å°ä¹ä¸ãè¿æ¾ç¶è½å¤æå¤§æé«ç¼ç¨å·¥ä½çå®éæçï¼è¿ç§ä¼å¿æ¥æºäºJava Virtual Machine(JAVAèææºçç¼©å)ï¼JVMæ¯ä¸ç§ç¨äºè®¡ç®è®¾å¤çè§èï¼å®æ¯ä¸ä¸ªèæåºæ¥çè®¡ç®æºï¼æ¯éè¿å¨ å®éçè®¡ç®æºä¸ä»¿çæ¨¡æåç§è®¡ç®æºåè½æ¥å®ç°çãJAVAè¯­è¨çä¸ä¸ªéå¸¸éè¦çç¹ç¹å°±æ¯ä¸å¹³å°çæ å³ æ§ï¼èä½¿ç¨Javaèææºæ¯å®ç°è¿ä¸ç¹ç¹çå³é®ã\n\nJAVAä¸å¤§çæ¬ï¼\n\n 1. JAVA SEï¼å®æ¯JAVAçæ åçï¼æ¯æ´ä¸ªJAVAçåºç¡åæ ¸å¿ï¼è¿æ¯æä»¬ä¸»è¦å­¦ä¹ çä¸ä¸ªé¨åï¼ä¹æ¯ JAVAEEåJAVAMEææ¯çåºç¡ï¼ä¸»è¦ç¨äºå¼åæ¡é¢åºç¨ç¨åºãå­¦ä¼åå¯ä»¥åä¸äºç®åçæ¡é¢åºç¨ å¦ï¼æ«é·ï¼è¿è¿çç­ã\n 2. JAVA MEï¼å®æ¯JAVAçå¾®ç¼©çï¼ä¸»è¦åºç¨äºåµå¥å¼å¼åï¼æ¯å¦ææºç¨åºçå¼åãç®åæ¥è¯´å°±ä¸èå´ä¸æ¯å¾å¹¿ï¼å¨ä¸äºåå¸å¯è½ç¸å¯¹çä¸å¥½æ¾å·¥ä½ã\n 3. JAVA EEï¼ä¹å«JAVAçä¼ä¸çï¼å®æä¾äºä¼ä¸çº§åºç¨å¼åçå®æ´è§£å³æ¹æ¡ï¼æ¯å¦å¼åç½ç«ï¼è¿æä¼ä¸çä¸äºåºç¨ç³»ç»ï¼æ¯JAVAææ¯åºç¨æå¹¿æ³çé¢åãä¸»è¦è¿æ¯ååäºWEBçå¼åï¼èJAVA EEçåºç¡å°±æ¯JAVA SEï¼æä»¥æä»¬å¨å­¦ä¹ JAVA SEçæ¶åï¼åºç¡ä¸å®è¦æå¥½ï¼å ä¸ºè¿æ¯æåºæ¬çï¼ä¹æ¯ææ ¸ å¿çã\n\n\n# JDK å JRE\n\nJDK\n\nJava 2 SDK (Development Kit)åå«ï¼JREçè¶éï¼åå«ç¼è¯å¨åè°è¯å¨ç­ç¨äºç¨åºå¼åçæä»¶\n\nJRE\n\nJava Runtime Environment (JRE) åå«ï¼Javaèææºãåºå½æ°ãè¿è¡Javaåºç¨ç¨åºåAppletæå¿é¡»æä»¶\n\nJavaè¿è¡ç¯å¢çä¸é¡¹ä¸»è¦åè½ï¼\n\n * å è½½ä»£ç ï¼ç±class loader å®æï¼\n * æ ¡éªä»£ç ï¼ç±bytecode verifier å®æï¼\n * æ§è¡ä»£ç ï¼ç± runtime interpreterå®æã\n\nåºå«åèç³»ï¼\n\nsdkï¼ä¹å°±æ¯jdkï¼æ¯jreçè¶éï¼æ¯å¨jreçåºç¡ä¸å¢å äºç¼è¯å¨åå¶ä»ä¸äºå¼åå·¥å·ã\n\njreå°±æ¯javaè¿è¡æ¶ç¯å¢ï¼åæ¬äºjvmåå¶å®ä¸äºjavaæ ¸å¿api,ä»»ä½ä¸å°çµèï¼åªæå®è£äºjreæå¯ä»¥è¡ javaç¨åº.\n\nå¦æåªæ¯è¦è¿è¡JAVAç¨åºï¼ä¹éè¦JREå°±å¯ä»¥ã JREéå¸¸éå¸¸å°ï¼ä¹åå«äºJVM.\n\nå¦æè¦å¼åJAVAç¨åºï¼å°±éè¦å®è£JDKã\n\n\n# åè¯JVM\n\nJVMï¼JAVA Virtual Machineï¼\n\nJVMæ¯ä¸ç§è§èï¼å¯ä»¥ä½¿ç¨è½¯ä»¶æ¥å®ç°ï¼ä¹å¯ä»¥ä½¿ç¨ç¡¬ä»¶æ¥å®ç°ï¼å°±æ¯ä¸ä¸ªèæçç¨äºæ§byte-codes å­èç çè®¡ç®æºãä»ä¹å®ä¹äºæä»¤éãå¯å­å¨éãç»ææ ãåå¾æ¶éå ãåå­åºåã\n\nJVMè´è´£å°javaå­èç è§£éè¿è¡ï¼è¾¹è§£éè¾¹è¿è¡ï¼è¿æ ·ï¼éåº¦å°±ä¼åå°ä¸å®çå½±åãJAVAæä¾äºå¦ä¸ç§ è§£éè¿è¡çæ¹æ³JITï¼just in timeï¼ï¼å¯ä»¥ä¸æ¬¡è§£éå®ï¼åè¿è¡ç¹å®å¹³å°ä¸çæºå¨ç ï¼é«çº§çJITå¯ä»¥åªè½ åæç­ç¹ä»£ç ï¼å¹¶å°è¿äºä»£ç è½¬ææ¬å°æºå¨ç ï¼å¹¶å°ç»æç¼å­èµ·æ¥ï¼ä¸æ¬¡ç´æ¥ä»åå­ä¸­è°ç¨ï¼è¿æ ·å°±å¤§ å¤§æé«äºæ§è¡JAVAä»£ç çæçãè¿æ ·å°±å®ç°äºè·¨å¹³å°ãå¯ç§»æ¤çåè½ã\n\n 1. JVMæ¯æå¨ä¸å°è®¡ç®æºä¸ç±è½¯ä»¶æç¡¬ä»¶æ¨¡æçè®¡ç®æºï¼å®ç±»ä¼¼ä¸ä¸ªå°å·§èé«æçCPUã\n\n 2. byte-codeä»£ç æ¯ä¸å¹³å°æ å³çæ¯èææºçæºå¨æä»¤ã\n\n 3. javaå­èä»£ç è¿è¡çä¸¤ç§æ¹å¼:\n    \n    * interpreter(è§£é)\n      \n      è¿è¡æè§£éå­èç å¹¶æ§è¡\n    \n    * Just-in-time(å³æ¶ç¼è¯)\n      \n      ç±ä»£ç çæå¨å°å­èä»£ç è½¬æ¢ææ¬æºçæºå¨ä»£ç ,ç¶åå¯ä»¥ä»¥è¾é«éåº¦æ§è¡ã\n\nJAVAçè·¨å¹³å°å®ç°çæ ¸å¿æ¯ä¸åå¹³å°ä½¿ç¨ä¸åçèææº\n\nä¸åçæä½ç³»ç»æä¸åçèææºãJava èææºæºå¶å±è½äºåºå±è¿è¡å¹³å°çå·®å«ï¼å®ç°äºâä¸æ¬¡ç¼è¯ï¼éå¤è¿è¡âã\n\n\n# JAVAç¨åºè¿è¡æºå¶\n\nè¯´å°Javaçè¿è¡æºå¶ï¼ä¸å¾ä¸æä¸ä¸ä»ä¹æ¯ç¼è¯åè¯­è¨ï¼ä»ä¹æ¯è§£éåè¯­è¨ã\n\n\n# ç¼è¯åè¯­è¨\n\nç¼è¯åè¯­è¨æ¯åå°æºä»£ç ç¼è¯ææºå¨è¯­è¨ï¼æºå¨å¯ä»¥è¯»æçè¯­è¨ï¼ï¼åç±æºå¨è¿è¡æºå¨ç ï¼è¿æ ·æ§è¡ç¨åºçæçæ¯è¾é«ãåCåC++å°±æ¯å¸åçç¼è¯åè¯­è¨ã\n\n\n# è§£éåè¯­è¨\n\nå¶å®è§£éåè¯­è¨æ¯ç¸å¯¹ç¼è¯åè¯­è¨å­å¨çï¼è§£éåè¯­è¨æ¯å¨è¿è¡çæ¶åæè¿è¡ç¼è¯ï¼æ¯æ¬¡è¿è¡é½éè¦ç¼è¯ï¼è¿æ ·æçæ¯è¾ä½ãåJavaScriptï¼Pythonå°±æ¯å¸åçè§£éåè¯­è¨\n\n\n# äºèçåºå«\n\nç®åçä¸¾ä¸ªä¾å­ï¼åæ ·ä¸æ¬è±æä¹¦ï¼æ¾äººç¿»è¯æä¸­æççä¹¦ç¶åæ¿ç»ä½ çå°±æ¯ç¼è¯ï¼æ¾ä¸ä¸ªç¿»è¯åå¨ä½ æè¾¹ç»ä½ è§£è¯»ä¹¦çå«ä¹å°±æ¯è§£éãä¸¤èåæå©å¼ï¼ç¼è¯åè¯­è¨æ§è¡æçé«ï¼ç¿»è¯ä¸æ¬¡å¯ä»¥å¤æ¬¡è¿è¡ãè§£éæ§è¯­è¨æ§è¡æçä½ï¼æ¯æ¬¡è¿è¡é½éè¦éæ°ç¿»è¯ãä½æ¯è§£éåçè·¨å¹³å°æ§ç¸å¯¹è¦å¥½ï¼æ¯å¦è§£éç»ä¸ä¸ªæä¸­æåè§£éç»ä¸ä¸ªææ¥æçäººå°±å«åå¼å®¹æ§ã\n\n\n# Javaçè¿è¡æºå¶\n\nJavaå±äºä¸¤èé½æï¼æ¢æç¼è¯è¿ç¨ï¼åæ¯è§£éåè¯­è¨\n\nJavaè¯­è¨è½ç¶æ¯è¾æ¥è¿è§£éåè¯­è¨çç¹å¾ï¼ä½å¨æ§è¡ä¹åå·²ç»é¢åè¿è¡ä¸æ¬¡é¢ç¼è¯ï¼çæçä»£ç æ¯ä» äºæºå¨ç åJavaæºä»£ç ä¹é´çä¸­ä»ä»£ç ï¼è¿è¡çæ¶ååç±JVMï¼Javaçèææºå¹³å°ï¼å¯è§ä¸ºè§£éå¨ï¼è§£ éæ§è¡ãå®æ¢ä¿çäºæºä»£ç çé«æ½è±¡ãå¯ç§»æ¤çç¹ç¹ï¼åå·²ç»å®æäºå¯¹æºä»£ç çå¤§é¨åé¢ç¼è¯å·¥ä½ï¼æä»¥ æ§è¡èµ·æ¥æ¯âçº¯è§£éåâç¨åºè¦å¿«è®¸å¤ã\n\næ»ä¹ï¼éçè®¾è®¡ææ¯ä¸ç¡¬ä»¶çä¸æ­åå±ï¼ç¼è¯åä¸è§£éåä¸¤ç§æ¹å¼ççéæ­£å¨ä¸æ­åå¾æ¨¡ç³ã\n\nç¬¬ä¸æ­¥ï¼ç¼è¯\n\nå©ç¨ç¼è¯å¨ï¼javacï¼å°æºç¨åºç¼è¯æå­èç Ã  å­èç æä»¶åï¼æºæä»¶å.class\n\nç¬¬äºé¨ï¼è¿è¡\n\nå©ç¨èææºï¼è§£éå¨ï¼javaï¼è§£éæ§è¡classå­èç æä»¶ã\n\n\n\n\n# Hello World\n\néè¦åéç½®å¥½å¼åç¯å¢\n\nåèé¾æ¥ï¼https://www.runoob.com/java/java-environment-setup.html\n\næµè¯ä»£ç ä¸å®è¦åHelloWorldï¼ä»£è¡¨ä½ åè¿ä¸ªä¸ççååï¼ä»ªå¼æå¾éè¦ï¼å°±åä½ çæ´» ä¸­åå®¶äººï¼æåï¼å¦»å­å¨èæ¥ä¸­æèçºªå¿µæ¥ä¸å®è¦åä¸äºäºæï¼è¿å°±æ¯ä»ªå¼æã\n\n 1. æ°å»ºæä»¶ Hello.java\n\n 2. ç¼åæä»¬çHelloWorldç¨åºï¼\n    \n    public class Hello{\n        public static void main(String[] args){\n            System.out.println("Hello,World!");\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 3. ä¿å­æä»¶ï¼cmdæå¼å½ä»¤è¡ï¼å©ç¨javacç¼è¯ï¼\n    \n    javac Hello.java\n    # å¦ææ²¡ææ¥éï¼æ¥çæä»¶å¤¹ä¸æ¯å¦ææ°çä¸ä¸ªæä»¶\n    # Hello.class\n    # å¦ææ²¡æåºç°ï¼æ­åï¼è¯´æä½ éå°äºä½ å¨å­¦Javaå½ä¸­çç¬¬ä¸ä¸ªBug\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 4. java æ§è¡ï¼\n    \n    java Hello\n    # æåè¾åºHelloï¼Worldï¼\n    \n    \n    1\n    2\n    \n\nå¦æåºç°éè¯¯ï¼æ£æ¥å­æ¯å¤§å°åæ¯å¦æéè¯¯ï¼æèæ¯å¦æ ç¹ç¬¦å·éè¯¯ï¼æä»¶åéè¯¯ç­ç­ï¼ä¸å®è¦ç¡®ä¿æåè¾åº\n\nç¼å Java ç¨åºæ¶ï¼åºæ³¨æä»¥ä¸å ç¹ï¼\n\n * å¤§å°åææ\n   \n   Java æ¯å¤§å°åææçï¼è¿å°±æå³çæ è¯ç¬¦ Hello ä¸ hello æ¯ä¸åçã\n\n * ç±»å\n   \n   å¯¹äºææçç±»æ¥è¯´ï¼ç±»åçé¦å­æ¯åºè¯¥å¤§åãå¦æç±»åç±è¥å¹²åè¯ç»æï¼é£ä¹æ¯ä¸ªåè¯çé¦å­æ¯åºè¯¥å¤§åï¼ä¾å¦ MyFirstJavaClass ã\n\n * æ¹æ³å\n   \n   ææçæ¹æ³åé½åºè¯¥ä»¥å°åå­æ¯å¼å¤´ãå¦ææ¹æ³åå«æè¥å¹²åè¯ï¼ååé¢çæ¯ä¸ªåè¯é¦å­ æ¯å¤§åã\n\n * æºæä»¶å\n   \n   æºæä»¶åå¿é¡»åç±»åç¸åãå½ä¿å­æä»¶çæ¶åï¼ä½ åºè¯¥ä½¿ç¨ç±»åä½ä¸ºæä»¶åä¿å­ï¼åè®° Java æ¯å¤§å°åææçï¼ï¼æä»¶åçåç¼ä¸º .javaãï¼å¦ææä»¶ååç±»åä¸ç¸ååä¼å¯¼è´ç¼è¯éè¯¯ï¼ã\n\n * ä¸»æ¹æ³å¥å£\n   \n   ææç Java ç¨åºç± public static void main(String []args) æ¹æ³å¼å§æ§è¡ã',normalizedContent:'# åå§java\n\n\n# java : ä¸ä¸ªå¸å½çè¯ç\n\n\n# 1ãcè¯­è¨å¸å½çç»æ²»\n\nç°å¨æ¯å¬å1995å¹´ï¼ cè¯­è¨å¸å½å·²ç»ç»æ²»äºæä»¬20å¤å¹´ï¼ å®å¨æ¯å¤ªä¹äºã\n\n1972å¹´ï¼ éçcè¯­è¨çè¯çåunixçé®ä¸ï¼ å¸å½è¿éå»ºç«ç»æ²»ï¼ ä»åç¾å°æ¬§æ´²ï¼ ä»æ¬§æ´²å°äºæ´²ï¼ æ æ°ç¨åºåè£æå¨ä»çèä¸ã\n\nå¸å½ç»æä»¬æä¾äºæå¥½çç¦å©ï¼è´´è¿ç¡¬ä»¶ï¼ è¿è¡æå¿«ï¼ æçæé«ã\n\nä½¿ç¨è¿äºç¦å©ï¼ ç¨åºåä»¬ç¨c å¼åäºå¾å¤ç³»ç»çº§è½¯ä»¶ï¼æä½ç³»ç»ï¼ ç¼è¯å¨ï¼ æ°æ®åºï¼ç½ç»ç³»ç».....\n\nä½æ¯å¸å½ä¹ç»æä»¬å®ä¸äºä¸¤ä¸ªæ²éçæ·éï¼ æéååå­ç®¡ç\n\nè½ç¶æéæ æ¯å¼ºå¤§ï¼ è½ç´æ¥æä½åå­ï¼ ä½æ¯å¸å½å´æ²¡æç»æä»¬å·¥å·å»åè¶ççæ£æ¥ï¼ å¯¼è´å¾å¤æ°æç¨åºåè½»æç¯éã\n\nè³äºåå­ç®¡çï¼ å¸å½æ´å®å¨æ¯æ¾ä»»çæåº¦ï¼ ä½ èªå·±åéçç©ºé´ï¼ èªå·±å»éæ¾ ï¼\n\næ´è¦å½çæ¯è¿äºé®é¢å¨ç¼è¯æåç°ä¸äºï¼ å¨è¿è¡æ¶æä¼çªç¶æ´é²ï¼ å¸¸å¸¸è®©æä»¬æå¿èä¹±ï¼ æå¤©é»å°å»è°è¯ã\n\næä»¬çå¤§éæ¶é´åå®è´µçç²¾åé½è¢«æµªè´¹å¨å°å¿ç¿¼ç¿¼çå¤çæéååå­åéä¸ã\n\næ¯ä¸ªç¨åºåé½è¢«è¿ä¸¤ä¸ªä¸è¥¿æçç¦å¤´çé¢ï¼\n\nå¸å½å®£ç§°çå¯ç§»æ¤æ§éªäºæä»¬ï¼ä»å®£ç§°æä»¬å¨ä¸ä¸ªæºå¨ä¸åçç¨åºï¼ åªè¦å¨å¦å¤ä¸ä¸ªæºå¨ä¸ç¼è¯å°±å¯ä»¥äºï¼ å®éä¸ä¸æ¯è¿æ ·ã ä»è¦æ±æä»¬å°½éç¨æ åçcå½æ°åºãå¶æ¬¡ï¼å¦æéå°äºä¸äºéå¯¹ç¹å®å¹³å°çè°ç¨ï¼ éè¦å¯¹æ¯ä¸ªå¹³å°é½å¾åä¸ä»½ ï¼ æä¸ç¹ç¹å°éè¯¯ï¼é½ä¼å¯¼è´ç¼è¯å¤±è´¥ã\n\n1982å¹´ï¼å¸å½åæ¨åºäºä¸é¨æ°çè¯­è¨c++, æ·»å äºé¢åå¯¹è±¡çåè½ï¼å¼å®¹c, æéæç±»åæ£æ¥ï¼ æ§è½ä¹å¾å¥½ã\n\nä½æ¯è¿é¨æ°çè¯­è¨å®å¨æ¯å¤ªå¤æäºï¼ å¤æå°æ¯æèªæçå¤çäººé½æ²¡æåæ³å®å¨ææ¡è¿é¨è¯­è¨ï¼å®çå¾å¤ç¹æ§å¤æçè®©äººåæã\n\nc++å¨å¾å½¢é¢ååæ¸¸æä¸åå¾äºä¸äºæåï¼ ä½æ¯æä¸ç´å­¦ä¸å¥½å®ã\n\n\n# 2ãåæ\n\næå³å®åæè¿ä¸ªåºå¤§çå¸å½ï¼ æå·å·çå¸¦é¢çä¸å¸®å¿åéåçåå¼ç¦»å¼äºï¼æä»¬è¦æ°å»ºä¸åæ¸æ°èªç±çé¢å°ã\n\nä¸ºäºå¸å¼æ´å¤çç¨åºåå å¥æä»¬ï¼ æä»¬è¦å»ºç«ä¸ä¸ªæ°çè¯­è¨ï¼è¿ä¸ªè¯­è¨åºè¯¥æè¿æ ·çç¹æ§ï¼\n\nè¯­æ³æç¹åc ï¼ è¿æ ·å¤§å®¶å®¹ææ¥å\n\næ²¡æcè¯­è¨é£æ ·çæé\n\nåä¹ä¸è¦èèåå­ç®¡çäºï¼ å®å¨åä¸äºäº\n\nçæ­£çå¯ç§»æ¤æ§ï¼ ç¼åä¸æ¬¡ï¼ å°å¤è¿è¡\n\né¢åå¯¹è±¡\n\nç±»åå®å¨\n\nè¿æï¼æä»¬è¦æä¾ä¸å¥é«è´¨éçç±»åºï¼ éè¯­è¨åè¡ã\n\nææ³æè¿ä¸ªè¯­è¨å½åä¸ºc++-- , å³c++ååï¼ å ä¸ºææ³å¨c++çåºç¡ä¸æ¹è¿ï¼æå®ç®åã\n\nåæ¥åç°ä¸è¡ï¼ è®¾è®¡çå¿µå·®å«å¤ªå¤§ã\n\nå¹²èéå¯çç¶ã\n\næçå°é¨å£çä¸æ£µæ©¡æ ï¼ å°±æè¿ä¸ªè¯­è¨å«åoakã\n\nä½æ¯åæ¥åå¸çæ¶åï¼ åç°oakå·²ç»è¢«å«äººç¨äºï¼ æä»¬è®¨è®ºå¾ä¹ï¼ æç»å³å®æè¿é¨æ°çè¯­è¨å«å javaã\n\nä¸ºäºå®ç°è·¨å¹³å°ï¼ æä»¬å¨æä½ç³»ç»ååºç¨ç¨åºä¹é´å¢å äºä¸ä¸ªæ½è±¡å±ï¼ java èææº\n\nç¨javaåçç¨åºé½è·å¨èææºä¸ï¼ é¤éä¸ªå«æåµï¼ é½ä¸ç¨çå°æä½ç³»ç»ã\n\n\n# 3ãä¸é¸£æäºº\n\nä¸ºäºå¸å¼æ´å¤çäººå å¥æä»¬çæ°é¢å°ï¼ æä»¬å³å®æä¸ä¸ªæ¼ç¤ºï¼ åå¤§å®¶å±ç¤ºjava çè½åã\n\nåºä¸æªä¹çjavaå¶å®è¿è¿ä¸å®åã æç¹ä»ä¹å¥½å¢ï¼\n\næä»¬æç¼åç¯ä¸äºååå´èµ·çäºèç½ï¼ 1995å¹´çç½é¡µç®åèç²ç³ï¼ ç¼ºä¹äºå¨æ§ã äºæ¯æä»¬å¨æµè§å¨ä¸å¼äºä¸ªå°æä»¶ï¼ æjava è¿è¡ç¯å¢æ¾äºä¸å»ã\n\nç¶åå¨ä¸é¢å¼åäºä¸ä¸ªå¾å½¢çé¢çç¨åº(applet)ï¼ è®©å®çèµ·æ¥ç¾è½®ç¾å¥ï¼ éæ¼äººå¿ã\n\næ¯ä¸ä¸ªçå°ä»çç¨åºåé½ä¼ååºâwowâçæå¹ ï¼ä¸ºä¹å¾åã\n\njava æ´»äºï¼\n\néè¿applet , æ æ°çç¨åºåçå°äºjavaè¿é¨è¯­è¨ï¼äºè§£äºè¿é¨è¯­è¨ç¹æ§ä»¥åï¼ å¾å¤æ æ³å¿åcå¸å½æ´æ¿çç¨åºåï¼ å¾å¿«å å¥äºæä»¬ï¼ æä»¬çé¢å°å¼å§è¿éæ©å¤§ã\n\nè¿cè¯­è¨å¸å½éçä¸äºåä¸å·¨å¤´ä¹çº·çº·æ¥åæä»¬åä½ï¼ å¶ä¸­å°±åæ¬oracle , å¾®è½¯è¿æ ·çå·¨å¤´ ï¼ å¾®è½¯çå¤´é¢bill gatesè¿è¯´ ï¼è¿æ¯è¿ä»ä¸ºæ­¢è®¾è®¡çæå¥½çè¯­è¨ï¼\n\nä½æ¯bill gateséå¸¸çä¸å°éï¼ ä¹°äºæä»¬çjava è®¸å¯ä»¥åï¼è½ç¶å¨èªå®¶çæµè§å¨ä¸ä¹æ¯æapplet, ä½æ¯ä»ä»¬å´å·å·çè¯å¾ä¿®æ¹java , æ³æjavaç»æ­»å¨èªå®¶çæä½ç³»ç»ä¸èµé±ï¼ javaä¼åçä¸å¯ç§»æ¤ã\n\nè¿æ¯æä»¬é¾äºå¿åçï¼ æä»¬åå¾®è½¯åèµ·äºä¸åºæ·æ¥æä¹çæ¸¸å»æäºï¼ é¼çå¾®è½¯éåºäºjavaé¢åï¼ å¼åäºèªå·±ç.net , è¿æ¯åè¯ã\n\n\n# 4ãå¼æçå\n\nä»1995å¹´å°1997å¹´ï¼æä»¬ä¾é  java ä¸æ­çæ»åç¥å°ï¼ å¼æçåï¼æä»¬çå½çå­æ°ä¸æ­å¢å ï¼ è¾¾å°äºå åä¸ä¹ä¼ï¼ å·²ç»æ¯ä¸ä¸ªä¸å¯å¿½è§çåéäºã\n\nä½æ¯å¤§å®¶åç°ï¼ javaé¤äºapplet, ä»¥åä¸äºå°ç¨åºä¹å¤ï¼ ä¼¼ä¹å¹²ä¸äºå«çäºæã\n\ncå¸å½çäººè¿ä¸æ­çå²ç¬æä»¬æ¢ï¼ åä¸ªç©å·ã\n\nå°äº1998å¹´ï¼ ç»è¿å¯è°ï¼ æä»¬java çå½å³å®æ´¾åºä¸åªåéåå¤æ©å±ï¼\n\njava 2 æ åç(j2se)ï¼ å»å é¢æ¡é¢\n\njava 2 ç§»å¨ç(j2me)ï¼ å»å é¢ææº\n\njava 2 ä¼ä¸ç(j2ee)ï¼ å»å é¢æå¡å¨\n\nå¶ä¸­çä¸¤åªå¤§åå¾å¿«è´¥ä¸éµæ¥ã\n\nj2se çé¦é¢åç°ï¼ å¼åæ¡é¢åºç¨çç¨åºåæ ¹æ¬æ¥åä¸äºjavaï¼ è½ç¶æä»¬æåçå¾ä¼éçswing å¯ä»¥å¼åçé¢ï¼ ä½æ¯å¼ååºççé¢éå¸¸é¾çï¼ ååççæ¡é¢å·®è·å¾å¤§ã å°¤å¶æ¯ä¸ºäºè¿è¡ç¨åºè¿å¾å®è£ä¸ä¸ªèææºï¼ å¤§å®¶é½åä¸äºã\n\nj2meä¹æ¯ï¼ ä¸ç´ä¸åå¾è§ï¼ å½ç¶æ´éè¦çåå æ¯ä¹å¸æ¯è¿æ²¡æéæ°åæææºï¼ ç§»å¨äºèç½è¿æ²¡æå¯å¨ã\n\nå¤±ä¹ä¸éï¼æ¶ä¹æ¡æ¦ï¼ j2eeèµ¶ä¸äºå¥½æ¶åï¼ äºèç½å¤§åå±ï¼ å¤§å®¶å¿½ç¶åç°ï¼ javaç®ç´æ¯ä¸ºåæå¡å¨ç«¯ç¨åºæåæçï¼\n\nå¼ºå¤§ï¼ å¥å£®ï¼ å®å¨ï¼ ç®åï¼ è·¨å¹³å° ï¼\n\nå¨j2eeè§èçæå¯¼ä¸ï¼ ç¹å«éåå¢éå¼åå¤æçå¤§åé¡¹ç®ã\n\næä»¬ææbeaå¬å¸ç¬¬ä¸ä¸ªä½¿ç¨j2eeè®¸å¯è¯ï¼ æ¨åºäºweblogic, å­åå¶éç¾¤åè½ï¼ ç¬¬ä¸æ¬¡å±ç¤ºäºå¤æåºç¨çå¯æ©å±æ§åé«å¯ç¨æ§ã\n\nè¿ä¸ªåæ¥è¢«ç§°ä¸ºä¸­é´ä»¶çä¸è¥¿æç¨åºåä»äºå¡ç®¡çï¼å®å¨ç®¡çï¼æéç®¡çç­æ¹é¢è§£æ¾åºæ¥ï¼ è®©ä»ä»¬ä¸æ³¨äºä¸å¡å¼åã è¿ç«å»æè·äºå¤§éç¨åºåçå¿ã\n\nå¾å¿«java çå½çå­æ°å°±è¾¾å°æ°ç¾ä¸ä¹ä¼ã\n\næ¦æ ·çåéæ¯æ ç©·çï¼ å¾å¿«å¶ä»åä¸å·¨å¤´ä¹çº·çº·å¥åºï¼ å°¤å¶æ¯ibmï¼å¨java ä¸ç¯çæå¥ï¼ä¸ä»å¼åäºèªå·±çåºç¨æå¡å¨ websphere, è¿æ¨åºäºeclipseè¿ä¸ªæå·é­åçå¼æºå¼åå¹³å°ã\n\nå½ç¶ibmå©ç¨java è·å¾äºéå¸¸å¯è§çæçï¼ è½¯ä»¶+ç¡¬ä»¶+æå¡ ä¸é©¾é©¬è½¦æ»æ»ååï¼ æibmæ¨åäºä¸ä¸ªæ°çé«å³°ã\n\n\n# 5ãå¸å½çè¯ç\n\nå¤§å®¶ä¹æ²¡ææ³å°ï¼é¤äºåä¸å·¨å¤´ä»¥å¤ï¼ ç¨åºåä»¬ä¹ä¼å¯¹javaçå½ è¿ä¹ç­ç±ï¼ ä»ä»¬åºäºjava å¼åäºå·¨å¤çå¹³å°ï¼ç³»ç»ï¼å·¥å·ï¼ä¾å¦ï¼\n\næå»ºå·¥å·: antï¼maven, jekins\n\nåºç¨æå¡å¨ï¼ tomcatï¼jetty, jboss, websphere, weblogic\n\nwebå¼åï¼ struts,spring,hibernate, mybatis\n\nå¼åå·¥å·ï¼ eclipse, netbean,intellij idea, jbuilder\n\nããããç­ç­ç­ç­ãããã\n\nå¹¶ä¸ç»å¤§é¨åé½æ¯å¼æºç ï¼\n\nå¾®è½¯ç¼çççççæå¡å¨ç«¯çå¸åºè¢«java çå½å æ®ï¼ å²è½åç½¢çä¼ï¼ ä»ä»¬èµ¶ç´§æ¨åº.netæ¥å¯¹æï¼ ä½æä»¬å·²ç»ä¸å¨ä¹äºï¼ å ä¸ºä»çç³»ç»æ¯å°é­çï¼ææçè½¯ä»¶é½æ¯èªå®¶çï¼\n\nå¼åå·¥å·æ¯visual studio, åºç¨æå¡å¨æ¯iis, æ°æ®åºæ¯sql serverï¼åªè¦ä½ ç¨.netï¼åºæ¬ä¸å°±ä¼ç»å®å¾®è½¯ã\n\nå¦å¤ä»ä»¬çç³»ç»åªè½è¿è¡å¨windowsæå¡å¨ä¸ï¼ è¿ä¸ªæå¡å¨å¨é«ç«¯å¸åºçå æçå®å¨æ¯å¤ªä½äºã\n\n2005å¹´åºï¼ ä¸ä¸ªæ°ççå½çªç¶å´èµ·ï¼ ä»ä»¬å·ç§°å¼åæçæ¯java å¿«5-10åï¼ ç±æ­¤å¸å¼äºå¤§æ¹ç¨åºååå¾å çã\n\nè¿ä¸ªæ°ççå½å«åruby on rails, å®ç»åäºphpä½ç³»çä¼ç¹ï¼å¿«éå¼åï¼åjavaä½ç³»çä¼ç¹ï¼ç¨åºè§æ´ï¼ï¼ ç¹å«éåå¿«éçå¼åç®åçwebç½ç«ã\n\nè½ç¶åå±å¾å¿«ï¼ ä½æ²¡æå¯¹java çå½äº§çå®è´¨æ§çå¨èï¼ ä½¿ç¨ruby on railsæ­å»ºå¤§ååä¸ç³»ç»çè¿å¾å°ã\n\né¤äºruby on rails ï¼è¿æphpï¼ python ï¼ é½éåå¿«éå¼åä¸å¤ªå¤æçwebç³»ç»ã ä½æ¯å³é®çï¼å¤æçåä¸ç³»ç»å¼åè¿æ¯java çå½çç»æ²»ä¹ä¸ã æä»¥æä»¬åä»ä»¬ç¸å®æ äºã\n\n2006å¹´ï¼ ä¸åªå«hadoopçåéè®©javaçå½å¥ä¾µäºå¤§æ°æ®é¢åï¼ ç±äºä½¿ç¨java è¯­è¨ï¼ ç»å¤§å¤æ°ç¨åºåå¨çè§£äºmap/reduce , åå¸å¼æä»¶ç³»ç»å¨hadoopä¸­çå®ç°ä»¥åï¼ å¾å¿«å°±è½ç¼åå¤çå¤çæµ·éæ°æ®çç¨åºï¼ java çå½çé¢å°å¾å°äºæå¤§çæ©å±ã\n\n2008å¹´ï¼ ä¸ä¸ªåå«android çç³»ç»æ¨ªç©ºåºä¸ï¼ å¹¶ä¸éçç§»å¨äºèç½ççåè¿éæ®åï¼ è¿è¡å¨androidä¹ä¸çæ­£æ¯java ï¼\n\njava çå½å¨googleçæ¯æä¸ï¼ ä»¥ä¸ç§ææ³ä¸å°çæ¹å¼å é¢äºææºç«¯ï¼ å®æäºå½å¹´j2me å£®å¿æªé¬çäºä¸ ï¼\n\nå°ä»å¹´ä¸ºæ­¢ï¼ å¨ä¸çä¼°è®¡æ1000ä¸ç¨åºåå å¥äºjavaçå½ï¼å®é¢åä¹å¹¿æ³ï¼ å®åä¹å¼ºå¤§ï¼ æ¯å¶ä»è¯­è¨æ æ³æ¯æçã\n\njava å æ®äºå¤§é¨åçæå¡å¨ç«¯å¼åï¼å°¤å¶æ¯å³é®çå¤æçç³»ç»ï¼ ç»å¤§å¤æ°çææºç«¯ï¼ ä»¥åå¤§é¨åçå¤§æ°æ®é¢åã\n\nä¸ä¸ªä¼å¤§çå¸å½è¯çäºã\n\n\n# javaçç¹æ§åä¼å¿\n\n\n# å«å¤§ç¹æ§\n\n1ãè·¨å¹³å°/å¯ç§»æ¤æ§\n\nè¿æ¯javaçæ ¸å¿ä¼å¿ãjavaå¨è®¾è®¡æ¶å°±å¾æ³¨éç§»æ¤åè·¨å¹³å°æ§ãæ¯å¦ï¼javaçintæ°¸è¿é½æ¯32ä½ãä¸åc++å¯è½æ¯16ï¼32ï¼å¯è½æ¯æ ¹æ®ç¼è¯å¨ååè§å®çååãè¿æ ·çè¯ç¨åºçç§»æ¤å°±ä¼éå¸¸éº»ç¦ã\n\n2ãå®å¨æ§\n\njavaéåäºç½ç»/åå¸å¼ç¯å¢ï¼ä¸ºäºè¾¾å°è¿ä¸ªç®æ ï¼å¨å®å¨æ§æ¹é¢æå¥äºå¾å¤§çç²¾åï¼ä½¿javaå¯ä»¥å¾å®¹ææå»ºé²çæ¯ï¼é²ç¯¡æ¹çç³»ç»ã\n\n3ãé¢åå¯¹è±¡\n\né¢åå¯¹è±¡æ¯ä¸ç§ç¨åºè®¾è®¡ææ¯ï¼éå¸¸éåå¤§åè½¯ä»¶çè®¾è®¡åå¼åãç±äºc++ä¸ºäºç§é¡¾å¤§écè¯­è¨ä½¿ç¨èèå¼å®¹äºcï¼ä½¿å¾èªèº«ä»ä»æä¸ºäºå¸¦ç±»çcè¯­è¨ï¼å¤å°å½±åäºå¶é¢åå¯¹è±¡çå½»åºæ§ï¼\n\njavaåæ¯å®å¨çé¢åå¯¹è±¡è¯­è¨ã\n\n4ãç®åæ§\n\njavaå°±æ¯c++è¯­æ³çç®åçï¼æä»¬ä¹å¯ä»¥å°javaç§°ä¹ä¸ºâc++-âãè·æå¿µâcå å åâï¼æçå°±æ¯å°c++çä¸äºåå®¹å»æï¼æ¯å¦ï¼å¤´æä»¶ï¼æéè¿ç®ï¼ç»æï¼èåï¼æä½ç¬¦éè½½ï¼èåºç±»ç­ç­ã\n\nåæ¶ï¼ç±äºè¯­æ³åºäºcè¯­è¨ï¼å æ­¤å­¦ä¹ èµ·æ¥å®å¨ä¸è´¹åã\n\n5ãé«æ§è½\n\njavaæååå±é¶æ®µï¼æ»æ¯è¢«äººè¯çâæ§è½ä½âï¼å®¢è§ä¸ï¼é«çº§è¯­è¨è¿è¡æçæ»æ¯ä½äºä½çº§è¯­è¨çï¼è¿ä¸ªæ æ³é¿åãjavaè¯­è¨æ¬èº«åå±ä¸­éè¿èææºçä¼åæåäºå ååè¿è¡æçã\n\næ¯å¦ï¼éè¿jit(just in time)å³æ¶ç¼è¯ææ¯æé«è¿è¡æçã å°ä¸äºâç­ç¹âå­èç ç¼è¯ææ¬å°æºå¨ç ï¼å¹¶å°ç»æç¼å­èµ·æ¥ï¼å¨éè¦çæ¶åéæ°è°ç¨ãè¿æ ·çè¯ï¼ä½¿javaç¨åºçæ§è¡æçå¤§å¤§æé«ï¼\n\næäºä»£ç çè³æ¥å¾c++çæçãå æ­¤ï¼javaä½æ§è½çç­è¿ï¼å·²ç»è¢«å®å¨è§£å³äºãä¸çåå±ä¸ï¼æä»¬ä¹çå°å¾å¤c++åºç¨è½¬å°javaå¼åï¼å¾å¤c++ç¨åºåè½¬åä¸ºjavaç¨åºåã\n\n6ãåå¸å¼\n\njavaæ¯ä¸ºinternetçåå¸å¼ç¯å¢è®¾è®¡çï¼å ä¸ºå®è½å¤å¤çtcp/ipåè®®ãäºå®ä¸ï¼éè¿urlè®¿é®ä¸ä¸ªç½ç»èµæºåè®¿é®æ¬å°æä»¶æ¯ä¸æ ·ç®åçãjavaè¿æ¯æè¿ç¨æ¹æ³è°ç¨(rmi,remote method invocation)ï¼\n\nä½¿ç¨åºè½å¤éè¿ç½ç»è°ç¨æ¹æ³ã\n\n7ãå¤çº¿ç¨\n\nå¤çº¿ç¨çä½¿ç¨å¯ä»¥å¸¦æ¥æ´å¥½çäº¤äºååºåå®æ¶è¡ä¸ºã javaå¤çº¿ç¨çç®åæ§æ¯javaæä¸ºä¸»æµæå¡å¨ç«¯å¼åè¯­è¨çä¸»è¦åå ä¹ä¸ã\n\n8ãå¥å£®æ§\n\njavaæ¯ä¸ç§å¥å£®çè¯­è¨ï¼å¸æ¶äºc/c++ è¯­è¨çä¼ç¹ï¼ä½å»æäºå¶å½±åç¨åºå¥å£®æ§çé¨åï¼å¦ï¼æéãåå­çç³è¯·ä¸éæ¾ç­ï¼ãjavaç¨åºä¸å¯è½é æè®¡ç®æºå´©æºãå³ä½¿javaç¨åºä¹å¯è½æéè¯¯ã\n\nå¦æåºç°æç§åºä¹ææä¹äºï¼ç¨åºä¹ä¸ä¼å´©æºï¼èæ¯æè¯¥å¼å¸¸æåºï¼åéè¿å¼å¸¸å¤çæºå¶å ä»¥å¤çã\n\n\n# æ ¸å¿ä¼å¿\n\n\n\nè·¨å¹³å°æ¯javaè¯­è¨çæ ¸å¿ä¼å¿ï¼èµ¶ä¸æåäºèç½çåå±ï¼å¹¶éçäºèç½çåå±èåå±ï¼å»ºç«äºå¼ºå¤§ççæä½ç³»ï¼ç®åå·²ç»è¦çitåè¡ä¸çâç¬¬ä¸å¤§è¯­è¨âï¼æ¯è®¡ç®æºççâè±è¯­âã\n\nè½ç¶ï¼ç®åä¹æå¾å¤è·¨å¹³å°çè¯­è¨ï¼ä½æ¯å·²ç»å¤±å»åæºï¼æ æ³åjavaå¼ºå¤§ççæä½ç³»æè¡¡ãjavaä»å°å¨æªæ¥å åå¹´æä¸ºç¼ç¨è¯­è¨çä¸»æµè¯­è¨ã\n\njavaèææºæ¯javaå®ç°è·¨å¹³å°çæ ¸å¿ãäºå®ä¸ï¼åºäºjavaèææº(jvm)çç¼ç¨è¯­è¨è¿æå¾å¤ç§ï¼\n\n\n\nåºäºjavaçæå»ºç«çäº§åå°ä¼è¶æ¥è¶å¤ï¼åºäºjavaèææºçç¼ç¨è¯­è¨ä¹å°ä¼è¶æ¥è¶å¤ï¼çæç³»ç»çå¼ºå¤§ï¼æ¯javaè½é¿çä¸è¡°çæ ¹æ¬ã\n\n\n# javaä¸å¤§çæ¬\n\njavaæå¤§çç¹ç¹ï¼\n\njavaçä¸»è¦ä¼å¿å¨äºå¶ååºçworaï¼å³ä¸æ¬¡ç¼åï¼write onceï¼ãéå¤è¿è¡ï¼run anywhereï¼ãç®åæ¥è®²ï¼è¿æå³çå¼åå¢éè½å¤å©ç¨javaç¼åä¸æ¬¾åºç¨ç¨åºï¼å¹¶å°å¶ç¼è¯ä¸ºå¯æ§è¡å½¢å¼ï¼èåå°å¶è¿è¡ å¨ä»»ä½æ¯æjavaçå¹³å°ä¹ä¸ãè¿æ¾ç¶è½å¤æå¤§æé«ç¼ç¨å·¥ä½çå®éæçï¼è¿ç§ä¼å¿æ¥æºäºjava virtual machine(javaèææºçç¼©å)ï¼jvmæ¯ä¸ç§ç¨äºè®¡ç®è®¾å¤çè§èï¼å®æ¯ä¸ä¸ªèæåºæ¥çè®¡ç®æºï¼æ¯éè¿å¨ å®éçè®¡ç®æºä¸ä»¿çæ¨¡æåç§è®¡ç®æºåè½æ¥å®ç°çãjavaè¯­è¨çä¸ä¸ªéå¸¸éè¦çç¹ç¹å°±æ¯ä¸å¹³å°çæ å³ æ§ï¼èä½¿ç¨javaèææºæ¯å®ç°è¿ä¸ç¹ç¹çå³é®ã\n\njavaä¸å¤§çæ¬ï¼\n\n 1. java seï¼å®æ¯javaçæ åçï¼æ¯æ´ä¸ªjavaçåºç¡åæ ¸å¿ï¼è¿æ¯æä»¬ä¸»è¦å­¦ä¹ çä¸ä¸ªé¨åï¼ä¹æ¯ javaeeåjavameææ¯çåºç¡ï¼ä¸»è¦ç¨äºå¼åæ¡é¢åºç¨ç¨åºãå­¦ä¼åå¯ä»¥åä¸äºç®åçæ¡é¢åºç¨ å¦ï¼æ«é·ï¼è¿è¿çç­ã\n 2. java meï¼å®æ¯javaçå¾®ç¼©çï¼ä¸»è¦åºç¨äºåµå¥å¼å¼åï¼æ¯å¦ææºç¨åºçå¼åãç®åæ¥è¯´å°±ä¸èå´ä¸æ¯å¾å¹¿ï¼å¨ä¸äºåå¸å¯è½ç¸å¯¹çä¸å¥½æ¾å·¥ä½ã\n 3. java eeï¼ä¹å«javaçä¼ä¸çï¼å®æä¾äºä¼ä¸çº§åºç¨å¼åçå®æ´è§£å³æ¹æ¡ï¼æ¯å¦å¼åç½ç«ï¼è¿æä¼ä¸çä¸äºåºç¨ç³»ç»ï¼æ¯javaææ¯åºç¨æå¹¿æ³çé¢åãä¸»è¦è¿æ¯ååäºwebçå¼åï¼èjava eeçåºç¡å°±æ¯java seï¼æä»¥æä»¬å¨å­¦ä¹ java seçæ¶åï¼åºç¡ä¸å®è¦æå¥½ï¼å ä¸ºè¿æ¯æåºæ¬çï¼ä¹æ¯ææ ¸ å¿çã\n\n\n# jdk å jre\n\njdk\n\njava 2 sdk (development kit)åå«ï¼jreçè¶éï¼åå«ç¼è¯å¨åè°è¯å¨ç­ç¨äºç¨åºå¼åçæä»¶\n\njre\n\njava runtime environment (jre) åå«ï¼javaèææºãåºå½æ°ãè¿è¡javaåºç¨ç¨åºåappletæå¿é¡»æä»¶\n\njavaè¿è¡ç¯å¢çä¸é¡¹ä¸»è¦åè½ï¼\n\n * å è½½ä»£ç ï¼ç±class loader å®æï¼\n * æ ¡éªä»£ç ï¼ç±bytecode verifier å®æï¼\n * æ§è¡ä»£ç ï¼ç± runtime interpreterå®æã\n\nåºå«åèç³»ï¼\n\nsdkï¼ä¹å°±æ¯jdkï¼æ¯jreçè¶éï¼æ¯å¨jreçåºç¡ä¸å¢å äºç¼è¯å¨åå¶ä»ä¸äºå¼åå·¥å·ã\n\njreå°±æ¯javaè¿è¡æ¶ç¯å¢ï¼åæ¬äºjvmåå¶å®ä¸äºjavaæ ¸å¿api,ä»»ä½ä¸å°çµèï¼åªæå®è£äºjreæå¯ä»¥è¡ javaç¨åº.\n\nå¦æåªæ¯è¦è¿è¡javaç¨åºï¼ä¹éè¦jreå°±å¯ä»¥ã jreéå¸¸éå¸¸å°ï¼ä¹åå«äºjvm.\n\nå¦æè¦å¼åjavaç¨åºï¼å°±éè¦å®è£jdkã\n\n\n# åè¯jvm\n\njvmï¼java virtual machineï¼\n\njvmæ¯ä¸ç§è§èï¼å¯ä»¥ä½¿ç¨è½¯ä»¶æ¥å®ç°ï¼ä¹å¯ä»¥ä½¿ç¨ç¡¬ä»¶æ¥å®ç°ï¼å°±æ¯ä¸ä¸ªèæçç¨äºæ§byte-codes å­èç çè®¡ç®æºãä»ä¹å®ä¹äºæä»¤éãå¯å­å¨éãç»ææ ãåå¾æ¶éå ãåå­åºåã\n\njvmè´è´£å°javaå­èç è§£éè¿è¡ï¼è¾¹è§£éè¾¹è¿è¡ï¼è¿æ ·ï¼éåº¦å°±ä¼åå°ä¸å®çå½±åãjavaæä¾äºå¦ä¸ç§ è§£éè¿è¡çæ¹æ³jitï¼just in timeï¼ï¼å¯ä»¥ä¸æ¬¡è§£éå®ï¼åè¿è¡ç¹å®å¹³å°ä¸çæºå¨ç ï¼é«çº§çjitå¯ä»¥åªè½ åæç­ç¹ä»£ç ï¼å¹¶å°è¿äºä»£ç è½¬ææ¬å°æºå¨ç ï¼å¹¶å°ç»æç¼å­èµ·æ¥ï¼ä¸æ¬¡ç´æ¥ä»åå­ä¸­è°ç¨ï¼è¿æ ·å°±å¤§ å¤§æé«äºæ§è¡javaä»£ç çæçãè¿æ ·å°±å®ç°äºè·¨å¹³å°ãå¯ç§»æ¤çåè½ã\n\n 1. jvmæ¯æå¨ä¸å°è®¡ç®æºä¸ç±è½¯ä»¶æç¡¬ä»¶æ¨¡æçè®¡ç®æºï¼å®ç±»ä¼¼ä¸ä¸ªå°å·§èé«æçcpuã\n\n 2. byte-codeä»£ç æ¯ä¸å¹³å°æ å³çæ¯èææºçæºå¨æä»¤ã\n\n 3. javaå­èä»£ç è¿è¡çä¸¤ç§æ¹å¼:\n    \n    * interpreter(è§£é)\n      \n      è¿è¡æè§£éå­èç å¹¶æ§è¡\n    \n    * just-in-time(å³æ¶ç¼è¯)\n      \n      ç±ä»£ç çæå¨å°å­èä»£ç è½¬æ¢ææ¬æºçæºå¨ä»£ç ,ç¶åå¯ä»¥ä»¥è¾é«éåº¦æ§è¡ã\n\njavaçè·¨å¹³å°å®ç°çæ ¸å¿æ¯ä¸åå¹³å°ä½¿ç¨ä¸åçèææº\n\nä¸åçæä½ç³»ç»æä¸åçèææºãjava èææºæºå¶å±è½äºåºå±è¿è¡å¹³å°çå·®å«ï¼å®ç°äºâä¸æ¬¡ç¼è¯ï¼éå¤è¿è¡âã\n\n\n# javaç¨åºè¿è¡æºå¶\n\nè¯´å°javaçè¿è¡æºå¶ï¼ä¸å¾ä¸æä¸ä¸ä»ä¹æ¯ç¼è¯åè¯­è¨ï¼ä»ä¹æ¯è§£éåè¯­è¨ã\n\n\n# ç¼è¯åè¯­è¨\n\nç¼è¯åè¯­è¨æ¯åå°æºä»£ç ç¼è¯ææºå¨è¯­è¨ï¼æºå¨å¯ä»¥è¯»æçè¯­è¨ï¼ï¼åç±æºå¨è¿è¡æºå¨ç ï¼è¿æ ·æ§è¡ç¨åºçæçæ¯è¾é«ãåcåc++å°±æ¯å¸åçç¼è¯åè¯­è¨ã\n\n\n# è§£éåè¯­è¨\n\nå¶å®è§£éåè¯­è¨æ¯ç¸å¯¹ç¼è¯åè¯­è¨å­å¨çï¼è§£éåè¯­è¨æ¯å¨è¿è¡çæ¶åæè¿è¡ç¼è¯ï¼æ¯æ¬¡è¿è¡é½éè¦ç¼è¯ï¼è¿æ ·æçæ¯è¾ä½ãåjavascriptï¼pythonå°±æ¯å¸åçè§£éåè¯­è¨\n\n\n# äºèçåºå«\n\nç®åçä¸¾ä¸ªä¾å­ï¼åæ ·ä¸æ¬è±æä¹¦ï¼æ¾äººç¿»è¯æä¸­æççä¹¦ç¶åæ¿ç»ä½ çå°±æ¯ç¼è¯ï¼æ¾ä¸ä¸ªç¿»è¯åå¨ä½ æè¾¹ç»ä½ è§£è¯»ä¹¦çå«ä¹å°±æ¯è§£éãä¸¤èåæå©å¼ï¼ç¼è¯åè¯­è¨æ§è¡æçé«ï¼ç¿»è¯ä¸æ¬¡å¯ä»¥å¤æ¬¡è¿è¡ãè§£éæ§è¯­è¨æ§è¡æçä½ï¼æ¯æ¬¡è¿è¡é½éè¦éæ°ç¿»è¯ãä½æ¯è§£éåçè·¨å¹³å°æ§ç¸å¯¹è¦å¥½ï¼æ¯å¦è§£éç»ä¸ä¸ªæä¸­æåè§£éç»ä¸ä¸ªææ¥æçäººå°±å«åå¼å®¹æ§ã\n\n\n# javaçè¿è¡æºå¶\n\njavaå±äºä¸¤èé½æï¼æ¢æç¼è¯è¿ç¨ï¼åæ¯è§£éåè¯­è¨\n\njavaè¯­è¨è½ç¶æ¯è¾æ¥è¿è§£éåè¯­è¨çç¹å¾ï¼ä½å¨æ§è¡ä¹åå·²ç»é¢åè¿è¡ä¸æ¬¡é¢ç¼è¯ï¼çæçä»£ç æ¯ä» äºæºå¨ç åjavaæºä»£ç ä¹é´çä¸­ä»ä»£ç ï¼è¿è¡çæ¶ååç±jvmï¼javaçèææºå¹³å°ï¼å¯è§ä¸ºè§£éå¨ï¼è§£ éæ§è¡ãå®æ¢ä¿çäºæºä»£ç çé«æ½è±¡ãå¯ç§»æ¤çç¹ç¹ï¼åå·²ç»å®æäºå¯¹æºä»£ç çå¤§é¨åé¢ç¼è¯å·¥ä½ï¼æä»¥ æ§è¡èµ·æ¥æ¯âçº¯è§£éåâç¨åºè¦å¿«è®¸å¤ã\n\næ»ä¹ï¼éçè®¾è®¡ææ¯ä¸ç¡¬ä»¶çä¸æ­åå±ï¼ç¼è¯åä¸è§£éåä¸¤ç§æ¹å¼ççéæ­£å¨ä¸æ­åå¾æ¨¡ç³ã\n\nç¬¬ä¸æ­¥ï¼ç¼è¯\n\nå©ç¨ç¼è¯å¨ï¼javacï¼å°æºç¨åºç¼è¯æå­èç a å­èç æä»¶åï¼æºæä»¶å.class\n\nç¬¬äºé¨ï¼è¿è¡\n\nå©ç¨èææºï¼è§£éå¨ï¼javaï¼è§£éæ§è¡classå­èç æä»¶ã\n\n\n\n\n# hello world\n\néè¦åéç½®å¥½å¼åç¯å¢\n\nåèé¾æ¥ï¼https://www.runoob.com/java/java-environment-setup.html\n\næµè¯ä»£ç ä¸å®è¦åhelloworldï¼ä»£è¡¨ä½ åè¿ä¸ªä¸ççååï¼ä»ªå¼æå¾éè¦ï¼å°±åä½ çæ´» ä¸­åå®¶äººï¼æåï¼å¦»å­å¨èæ¥ä¸­æèçºªå¿µæ¥ä¸å®è¦åä¸äºäºæï¼è¿å°±æ¯ä»ªå¼æã\n\n 1. æ°å»ºæä»¶ hello.java\n\n 2. ç¼åæä»¬çhelloworldç¨åºï¼\n    \n    public class hello{\n        public static void main(string[] args){\n            system.out.println("hello,world!");\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 3. ä¿å­æä»¶ï¼cmdæå¼å½ä»¤è¡ï¼å©ç¨javacç¼è¯ï¼\n    \n    javac hello.java\n    # å¦ææ²¡ææ¥éï¼æ¥çæä»¶å¤¹ä¸æ¯å¦ææ°çä¸ä¸ªæä»¶\n    # hello.class\n    # å¦ææ²¡æåºç°ï¼æ­åï¼è¯´æä½ éå°äºä½ å¨å­¦javaå½ä¸­çç¬¬ä¸ä¸ªbug\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 4. java æ§è¡ï¼\n    \n    java hello\n    # æåè¾åºhelloï¼worldï¼\n    \n    \n    1\n    2\n    \n\nå¦æåºç°éè¯¯ï¼æ£æ¥å­æ¯å¤§å°åæ¯å¦æéè¯¯ï¼æèæ¯å¦æ ç¹ç¬¦å·éè¯¯ï¼æä»¶åéè¯¯ç­ç­ï¼ä¸å®è¦ç¡®ä¿æåè¾åº\n\nç¼å java ç¨åºæ¶ï¼åºæ³¨æä»¥ä¸å ç¹ï¼\n\n * å¤§å°åææ\n   \n   java æ¯å¤§å°åææçï¼è¿å°±æå³çæ è¯ç¬¦ hello ä¸ hello æ¯ä¸åçã\n\n * ç±»å\n   \n   å¯¹äºææçç±»æ¥è¯´ï¼ç±»åçé¦å­æ¯åºè¯¥å¤§åãå¦æç±»åç±è¥å¹²åè¯ç»æï¼é£ä¹æ¯ä¸ªåè¯çé¦å­æ¯åºè¯¥å¤§åï¼ä¾å¦ myfirstjavaclass ã\n\n * æ¹æ³å\n   \n   ææçæ¹æ³åé½åºè¯¥ä»¥å°åå­æ¯å¼å¤´ãå¦ææ¹æ³åå«æè¥å¹²åè¯ï¼ååé¢çæ¯ä¸ªåè¯é¦å­ æ¯å¤§åã\n\n * æºæä»¶å\n   \n   æºæä»¶åå¿é¡»åç±»åç¸åãå½ä¿å­æä»¶çæ¶åï¼ä½ åºè¯¥ä½¿ç¨ç±»åä½ä¸ºæä»¶åä¿å­ï¼åè®° java æ¯å¤§å°åææçï¼ï¼æä»¶åçåç¼ä¸º .javaãï¼å¦ææä»¶ååç±»åä¸ç¸ååä¼å¯¼è´ç¼è¯éè¯¯ï¼ã\n\n * ä¸»æ¹æ³å¥å£\n   \n   ææç java ç¨åºç± public static void main(string []args) æ¹æ³å¼å§æ§è¡ã',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"AIä¸æ ",frontmatter:{pageComponent:{name:"Catalogue",data:{key:"30.AI",imgUrl:"/img/web.png",description:"å³äºAIçä¸äºç¥è¯"}},title:"AIä¸æ ",permalink:"/ai",sidebar:!1,article:!1,comment:!1,editLink:!1,date:"2025-09-06T23:07:31.000Z"},regularPath:"/00.%E7%9B%AE%E5%BD%95%E9%A1%B5/30.AI.html",relativePath:"00.ç®å½é¡µ/30.AI.md",key:"v-a8a3be30",path:"/ai/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2025/09/06, 15:09:00",lastUpdatedTimestamp:1757171752e3},{title:"æ³¨é",frontmatter:{title:"æ³¨é",date:"2021-04-15T22:28:45.000Z",permalink:"/java/se/basic-grammar/annotation",categories:["java","java-se"]},regularPath:"/01.Java/02.java-%E5%9F%BA%E7%A1%80/02.%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/01.%E6%B3%A8%E9%87%8A.html",relativePath:"01.Java/02.java-åºç¡/02.åºç¡è¯­æ³/01.æ³¨é.md",key:"v-61ff5e21",path:"/java/se/basic-grammar/annotation/",headers:[{level:2,title:"æ³¨é",slug:"æ³¨é",normalizedTitle:"æ³¨é",charIndex:18}],headersStr:"æ³¨é",content:'# JavaSE-åºç¡è¯­æ³\n\n\n# æ³¨é\n\nå¹³æ¶æä»¬ç¼åä»£ç ï¼å¨ä»£ç éæ¯è¾å°çæ¶åï¼æä»¬è¿å¯ä»¥çæèªå·±åçï¼ä½æ¯å½é¡¹ç®ç»æä¸æ¦å¤æèµ·æ¥ï¼æä»¬å°±éè¦ç¨å°ä¸ä¸ªæ³¨éäºï¼æ³¨éå°±ç±»ä¼¼äºæä»¬ä¸å­¦æ¶ååçç¬è®°ï¼æä»¬ççç¬è®°å°±ç¥éèªå·±åç ä»ä¹ä¸è¥¿äºï¼å¨ç¨åºä¸­ä¹æ¯å¦æ­¤ãæä»¬æ¥çä¸ä¸Javaä¸­çæ³¨éæä¹åï¼çä»¥ä¸ä»£ç ï¼\n\n/*\n* @Description HelloWorldç±»\n* @Author Diamond çç¥\n**/\npublic class HelloWorld {\n    /*\n    è¿æ¯æä»¬Javaç¨åºçä¸»å¥å£ï¼\n    mainæ¹æ³ä¹æ¯ç¨åºçä¸»çº¿ç¨ã\n    */\n    public static void main(String[] args) {\n        //è¾åºHelloWorldï¼\n        System.out.println("Hello,World!");\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\næ³¨éå¹¶ä¸ä¼è¢«æ§è¡ï¼æ¯ç»æä»¬åä»£ç çäººççï¼ä¹¦åæ³¨éæ¯ä¸ä¸ªéå¸¸å¥½çä¹ æ¯ã\n\nJavaä¸­çæ³¨éæä¸ç§ï¼\n\nåè¡æ³¨éï¼åªè½æ³¨éå½åè¡ï¼ä»¥//å¼å§ï¼ç´å°è¡ç»æ\n\n//è¾åºHelloWorldï¼\n\n\n1\n\n\nå¤è¡æ³¨éï¼æ³¨éä¸æ®µæå­ï¼ä»¥/*å¼å§ï¼ */ç»æï¼\n\n/*\n    è¿æ¯æä»¬Javaç¨åºçä¸»å¥å£ï¼\n    mainæ¹æ³ä¹æ¯ç¨åºçä¸»çº¿ç¨ã\n*/\n\n\n1\n2\n3\n4\n\n\nææ¡£æ³¨éï¼ç¨äºçäº§APIææ¡£ï¼éåJavaDocã\n\n/*\n* @Description HelloWorldç±»\n* @Author Diamond çç¥\n**/\n\n\n1\n2\n3\n4\n',normalizedContent:'# javase-åºç¡è¯­æ³\n\n\n# æ³¨é\n\nå¹³æ¶æä»¬ç¼åä»£ç ï¼å¨ä»£ç éæ¯è¾å°çæ¶åï¼æä»¬è¿å¯ä»¥çæèªå·±åçï¼ä½æ¯å½é¡¹ç®ç»æä¸æ¦å¤æèµ·æ¥ï¼æä»¬å°±éè¦ç¨å°ä¸ä¸ªæ³¨éäºï¼æ³¨éå°±ç±»ä¼¼äºæä»¬ä¸å­¦æ¶ååçç¬è®°ï¼æä»¬ççç¬è®°å°±ç¥éèªå·±åç ä»ä¹ä¸è¥¿äºï¼å¨ç¨åºä¸­ä¹æ¯å¦æ­¤ãæä»¬æ¥çä¸ä¸javaä¸­çæ³¨éæä¹åï¼çä»¥ä¸ä»£ç ï¼\n\n/*\n* @description helloworldç±»\n* @author diamond çç¥\n**/\npublic class helloworld {\n    /*\n    è¿æ¯æä»¬javaç¨åºçä¸»å¥å£ï¼\n    mainæ¹æ³ä¹æ¯ç¨åºçä¸»çº¿ç¨ã\n    */\n    public static void main(string[] args) {\n        //è¾åºhelloworldï¼\n        system.out.println("hello,world!");\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\næ³¨éå¹¶ä¸ä¼è¢«æ§è¡ï¼æ¯ç»æä»¬åä»£ç çäººççï¼ä¹¦åæ³¨éæ¯ä¸ä¸ªéå¸¸å¥½çä¹ æ¯ã\n\njavaä¸­çæ³¨éæä¸ç§ï¼\n\nåè¡æ³¨éï¼åªè½æ³¨éå½åè¡ï¼ä»¥//å¼å§ï¼ç´å°è¡ç»æ\n\n//è¾åºhelloworldï¼\n\n\n1\n\n\nå¤è¡æ³¨éï¼æ³¨éä¸æ®µæå­ï¼ä»¥/*å¼å§ï¼ */ç»æï¼\n\n/*\n    è¿æ¯æä»¬javaç¨åºçä¸»å¥å£ï¼\n    mainæ¹æ³ä¹æ¯ç¨åºçä¸»çº¿ç¨ã\n*/\n\n\n1\n2\n3\n4\n\n\nææ¡£æ³¨éï¼ç¨äºçäº§apiææ¡£ï¼éåjavadocã\n\n/*\n* @description helloworldç±»\n* @author diamond çç¥\n**/\n\n\n1\n2\n3\n4\n',charsets:{cjk:!0},lastUpdated:"2021/05/26, 10:05:00",lastUpdatedTimestamp:1622024154e3},{title:"æ è¯ç¬¦",frontmatter:{title:"æ è¯ç¬¦",date:"2021-04-15T22:28:45.000Z",permalink:"/java/se/basic-grammar/identifier/",categories:["java","java-se"]},regularPath:"/01.Java/02.java-%E5%9F%BA%E7%A1%80/02.%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/02.%E6%A0%87%E8%AF%86%E7%AC%A6.html",relativePath:"01.Java/02.java-åºç¡/02.åºç¡è¯­æ³/02.æ è¯ç¬¦.md",key:"v-17fd5c60",path:"/java/se/basic-grammar/identifier/",headers:[{level:2,title:"æ è¯ç¬¦",slug:"æ è¯ç¬¦",normalizedTitle:"æ è¯ç¬¦",charIndex:2}],headersStr:"æ è¯ç¬¦",content:"# æ è¯ç¬¦\n\næ¯ä¸ªäººä»åºçå¼å§å°±æä¸ä¸ªåå­ï¼åä»¬çæ´»ä¸­çææäºç©ä¹é½æåå­ï¼è¿åå­æ¯è°è§å®å¢ï¼åç­æ¯ï¼é ç©ä¸»ï¼è°çäº§åºæ¥çè°è§å®åå­ï¼å¨æä»¬çç¨åºä¸­ä¹ä¸ä¾å¤ã\n\næä»¬ä½ä¸ºé ç©ä¸»ï¼éè¦ç»ææçä¸è¥¿ç»ä¸ä¸ä¸ªåå­ï¼æ¯å¦æä»¬çHelloWorldç¨åºï¼\n\nHelloWorldæ¯ç±»åï¼ä¹æ¯æä»¬çæä»¶åãå®åé¢ç public classæ¯å³é®å­ï¼ä¸è¿æ¯æJavaé£ç¾¤äººå·²ç»å® ä¹å¥½çæç¹æ®ä½ç¨çï¼ä¸é¢çæ¯ä¸ä¸ªä»£ç é½æèªå·±çææååå­å¯¹å§ï¼å°±æ¯ç¨æ¥ä½åºåï¼åæä»¬çåå­ ä¸æ ·ï¼æ¿æ¥è¢«å«æèç§°å¼çï¼ç¨åºä¸åé½æºèªäºçæ´»ï¼ä¸å®è¦æå­¦ç¨åºåçæ´»ä¸­çä¸åèç³»èµ·æ¥ï¼ä½ ä¼åç°è¿ä¸åé½æ¯æ¯æ¯ç¸å³çã\n\n\n\næä»¬æ¥ççæåªäºæ¯Javaèªå·±å®ä¹å¥½çå³é®å­å¢ï¼\n\n\n\næä»¬èªå·±èµ·åå­æåªäºè¦æ±å¢ï¼\n\nè¡¨ç¤ºç±»åçæ è¯ç¬¦ç¨å¤§åå­æ¯å¼å§ã\n\n> å¦ï¼Man, GoodMan\n\nè¡¨ç¤ºæ¹æ³ååéçæ è¯ç¬¦ç¨å°åå­æ¯å¼å§ï¼åé¢çæè¿°æ§è¯ä»¥å¤§åå¼å§ã\n\n> å¦ï¼eat(),eatFood()\n\nå·ä½å¯åèãé¿éå·´å·´Javaå¼åæåã\n\nå³äº Java æ è¯ç¬¦ï¼æä»¥ä¸å ç¹éè¦æ³¨æï¼\n\n * ææçæ è¯ç¬¦é½åºè¯¥ä»¥å­æ¯ï¼A-Z æè a-zï¼ç¾åç¬¦ï¼$ï¼æèä¸åçº¿ï¼_ï¼å¼å§\n * é¦å­ç¬¦ä¹åå¯ä»¥æ¯å­æ¯ï¼A-Z æè a-zï¼ç¾åç¬¦ï¼$ï¼ä¸åçº¿ï¼_ï¼ææ°å­çä»»ä½å­ç¬¦ç»å\n * ä¸è½ä½¿ç¨å³é®å­ä½ä¸ºåéåææ¹æ³åã\n * æ è¯ç¬¦æ¯å¤§å°åææç\n * åæ³æ è¯ç¬¦ä¸¾ä¾ï¼ageã$salaryã_valueã__1_value\n * éæ³æ è¯ç¬¦ä¸¾ä¾ï¼123abcã-salaryã#abc\n\nJAVAä¸éç¨éå¸¸è¯­è¨ä½¿ç¨çASCIIå­ç¬¦éï¼èæ¯éç¨unicodeè¿æ ·çæ åçå½éå­ç¬¦éãå æ­¤ï¼è¿éç å­æ¯çå«ä¹ï¼å¯ä»¥è¡¨ç¤ºè±æãæ±å­ç­ç­ã\n\nå¯ä»¥ä½¿ç¨ä¸­æå½åï¼ä½æ¯ä¸è¬ä¸å»ºè®®è¿æ ·å»ä½¿ç¨ï¼ä¹ä¸å»ºè®®ä½¿ç¨æ¼é³ï¼å¾Low",normalizedContent:"# æ è¯ç¬¦\n\næ¯ä¸ªäººä»åºçå¼å§å°±æä¸ä¸ªåå­ï¼åä»¬çæ´»ä¸­çææäºç©ä¹é½æåå­ï¼è¿åå­æ¯è°è§å®å¢ï¼åç­æ¯ï¼é ç©ä¸»ï¼è°çäº§åºæ¥çè°è§å®åå­ï¼å¨æä»¬çç¨åºä¸­ä¹ä¸ä¾å¤ã\n\næä»¬ä½ä¸ºé ç©ä¸»ï¼éè¦ç»ææçä¸è¥¿ç»ä¸ä¸ä¸ªåå­ï¼æ¯å¦æä»¬çhelloworldç¨åºï¼\n\nhelloworldæ¯ç±»åï¼ä¹æ¯æä»¬çæä»¶åãå®åé¢ç public classæ¯å³é®å­ï¼ä¸è¿æ¯æjavaé£ç¾¤äººå·²ç»å® ä¹å¥½çæç¹æ®ä½ç¨çï¼ä¸é¢çæ¯ä¸ä¸ªä»£ç é½æèªå·±çææååå­å¯¹å§ï¼å°±æ¯ç¨æ¥ä½åºåï¼åæä»¬çåå­ ä¸æ ·ï¼æ¿æ¥è¢«å«æèç§°å¼çï¼ç¨åºä¸åé½æºèªäºçæ´»ï¼ä¸å®è¦æå­¦ç¨åºåçæ´»ä¸­çä¸åèç³»èµ·æ¥ï¼ä½ ä¼åç°è¿ä¸åé½æ¯æ¯æ¯ç¸å³çã\n\n\n\næä»¬æ¥ççæåªäºæ¯javaèªå·±å®ä¹å¥½çå³é®å­å¢ï¼\n\n\n\næä»¬èªå·±èµ·åå­æåªäºè¦æ±å¢ï¼\n\nè¡¨ç¤ºç±»åçæ è¯ç¬¦ç¨å¤§åå­æ¯å¼å§ã\n\n> å¦ï¼man, goodman\n\nè¡¨ç¤ºæ¹æ³ååéçæ è¯ç¬¦ç¨å°åå­æ¯å¼å§ï¼åé¢çæè¿°æ§è¯ä»¥å¤§åå¼å§ã\n\n> å¦ï¼eat(),eatfood()\n\nå·ä½å¯åèãé¿éå·´å·´javaå¼åæåã\n\nå³äº java æ è¯ç¬¦ï¼æä»¥ä¸å ç¹éè¦æ³¨æï¼\n\n * ææçæ è¯ç¬¦é½åºè¯¥ä»¥å­æ¯ï¼a-z æè a-zï¼ç¾åç¬¦ï¼$ï¼æèä¸åçº¿ï¼_ï¼å¼å§\n * é¦å­ç¬¦ä¹åå¯ä»¥æ¯å­æ¯ï¼a-z æè a-zï¼ç¾åç¬¦ï¼$ï¼ä¸åçº¿ï¼_ï¼ææ°å­çä»»ä½å­ç¬¦ç»å\n * ä¸è½ä½¿ç¨å³é®å­ä½ä¸ºåéåææ¹æ³åã\n * æ è¯ç¬¦æ¯å¤§å°åææç\n * åæ³æ è¯ç¬¦ä¸¾ä¾ï¼ageã$salaryã_valueã__1_value\n * éæ³æ è¯ç¬¦ä¸¾ä¾ï¼123abcã-salaryã#abc\n\njavaä¸éç¨éå¸¸è¯­è¨ä½¿ç¨çasciiå­ç¬¦éï¼èæ¯éç¨unicodeè¿æ ·çæ åçå½éå­ç¬¦éãå æ­¤ï¼è¿éç å­æ¯çå«ä¹ï¼å¯ä»¥è¡¨ç¤ºè±æãæ±å­ç­ç­ã\n\nå¯ä»¥ä½¿ç¨ä¸­æå½åï¼ä½æ¯ä¸è¬ä¸å»ºè®®è¿æ ·å»ä½¿ç¨ï¼ä¹ä¸å»ºè®®ä½¿ç¨æ¼é³ï¼å¾low",charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"ç±»åè½¬æ¢",frontmatter:{title:"ç±»åè½¬æ¢",date:"2021-04-15T22:28:45.000Z",permalink:"/java/se/basic-grammar/type-conversion/",categories:["java","java-se"]},regularPath:"/01.Java/02.java-%E5%9F%BA%E7%A1%80/02.%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/04.%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2.html",relativePath:"01.Java/02.java-åºç¡/02.åºç¡è¯­æ³/04.ç±»åè½¬æ¢.md",key:"v-4a7ed15c",path:"/java/se/basic-grammar/type-conversion/",headers:[{level:2,title:"ç±»åè½¬æ¢",slug:"ç±»åè½¬æ¢",normalizedTitle:"ç±»åè½¬æ¢",charIndex:2},{level:3,title:"1ãèªå¨ç±»åè½¬æ¢",slug:"_1ãèªå¨ç±»åè½¬æ¢",normalizedTitle:"1ãèªå¨ç±»åè½¬æ¢",charIndex:586},{level:3,title:"2ãå¼ºå¶ç±»åè½¬æ¢",slug:"_2ãå¼ºå¶ç±»åè½¬æ¢",normalizedTitle:"2ãå¼ºå¶ç±»åè½¬æ¢",charIndex:1091},{level:3,title:"3ãå¸¸è§éè¯¯åé®é¢",slug:"_3ãå¸¸è§éè¯¯åé®é¢",normalizedTitle:"3ãå¸¸è§éè¯¯åé®é¢",charIndex:1662},{level:3,title:"4ãJDK7æ©å±",slug:"_4ãjdk7æ©å±",normalizedTitle:"4ãjdk7æ©å±",charIndex:2546},{level:2,title:"",slug:"",normalizedTitle:"",charIndex:0}],headersStr:"ç±»åè½¬æ¢ 1ãèªå¨ç±»åè½¬æ¢ 2ãå¼ºå¶ç±»åè½¬æ¢ 3ãå¸¸è§éè¯¯åé®é¢ 4ãJDK7æ©å± ",content:"# ç±»åè½¬æ¢\n\nç±äºJavaæ¯å¼ºç±»åè¯­è¨ï¼æä»¥è¦è¿è¡æäºè¿ç®çæ¶åçï¼éè¦ç¨å°ç±»åè½¬æ¢ã\n\næ´åãå®åï¼å¸¸éï¼ãå­ç¬¦åæ°æ®å¯ä»¥æ··åè¿ç®ã\n\nè¿ç®ä¸­ï¼ä¸åç±»åçæ°æ®åè½¬åä¸ºåä¸ç±»åï¼ç¶åè¿è¡è¿ç®ã\n\nè½¬æ¢ä»ä½çº§å°é«çº§ï¼æ ¹æ®å®¹éæ¥çï¼ã\n\n> ä½ ------------------------------------\x3e é«\n> \n> byte,short,charâ> int â> longâ> float â> double\n\næ°æ®ç±»åè½¬æ¢å¿é¡»æ»¡è¶³å¦ä¸è§åï¼\n\n * ä¸è½å¯¹booleanç±»åè¿è¡ç±»åè½¬æ¢ã\n\n * ä¸è½æå¯¹è±¡ç±»åè½¬æ¢æä¸ç¸å³ç±»çå¯¹è±¡ã\n\n * å¨æå®¹éå¤§çç±»åè½¬æ¢ä¸ºå®¹éå°çç±»åæ¶å¿é¡»ä½¿ç¨å¼ºå¶ç±»åè½¬æ¢ã\n\n * è½¬æ¢è¿ç¨ä¸­å¯è½å¯¼è´æº¢åºææå¤±ç²¾åº¦ï¼ä¾å¦ï¼\n   \n   int i = 128;\n   byte b = (byte)i;\n   \n   \n   1\n   2\n   \n   \n   å ä¸º byte ç±»åæ¯ 8 ä½ï¼æå¤§å¼ä¸º127ï¼æä»¥å½ int å¼ºå¶è½¬æ¢ä¸º byte ç±»åæ¶ï¼å¼ 128 æ¶åå°±ä¼å¯¼è´æº¢åºã\n   \n   æ¨èæç« ï¼ç»è°ä¸ºä»ä¹åå­èçæ´æ°èå´æ¯[-128 ~ 127]\n\næµ®ç¹æ°å°æ´æ°çè½¬æ¢æ¯éè¿èå¼å°æ°å¾å°ï¼èä¸æ¯åèäºå¥ï¼ä¾å¦ï¼\n\n> (int)23.7 == 23; (int)-45.89f == -45\n\n\n# 1ãèªå¨ç±»åè½¬æ¢\n\nèªå¨ç±»åè½¬æ¢ï¼å®¹éå°çæ°æ®ç±»åå¯ä»¥èªå¨è½¬æ¢ä¸ºå®¹éå¤§çæ°æ®ç±»åã\n\nä¾å¦: shortæ°æ®ç±»åçä½æ°ä¸º16ä½ï¼å°±å¯ä»¥èªå¨è½¬æ¢ä½æ°ä¸º32çintç±»åï¼åæ ·floatæ°æ®ç±»åçä½æ°ä¸º 32ï¼å¯ä»¥èªå¨è½¬æ¢ä¸º64ä½çdoubleç±»åã\n\npublic static void main(String[] args) {\n    char c1 = 'a';//å®ä¹ä¸ä¸ªcharç±»å\n    int i1 = c1;//charèªå¨ç±»åè½¬æ¢ä¸ºint\n    System.out.println(\"charèªå¨ç±»åè½¬æ¢ä¸ºintåçå¼ç­äº\" + i1);\n    char c2 = 'A';//å®ä¹ä¸ä¸ªcharç±»å\n    int i2 = c2 + 1;//char ç±»åå int ç±»åè®¡ç®\n    System.out.println(\"charç±»ååintè®¡ç®åçå¼ç­äº\" + i2);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nè§£æï¼c1 çå¼ä¸ºå­ç¬¦ a ,æ¥ ASCII ç è¡¨å¯ç¥å¯¹åºç int ç±»åå¼ä¸º 97ï¼æä»¥i1=97ã A å¯¹åºå¼ä¸º 65ï¼æä»¥ i2=65+1=66ã\n\n\n# 2ãå¼ºå¶ç±»åè½¬æ¢\n\nå¼ºå¶ç±»åè½¬æ¢ï¼åè¢«ç§°ä¸ºé åï¼ç¨äºæ¾å¼çè½¬æ¢ä¸ä¸ªæ°å¼çç±»åã\n\nå¨æå¯è½ä¸¢å¤±ä¿¡æ¯çæåµä¸è¿è¡çè½¬æ¢æ¯éè¿é åæ¥å®æçï¼ä½å¯è½é æç²¾åº¦éä½ææº¢åºã\n\nå¼ºå¶ç±»åè½¬æ¢çè¯­æ³æ ¼å¼ï¼(type)var ï¼è¿ç®ç¬¦ â()â ä¸­ç type è¡¨ç¤ºå°å¼varæ³è¦è½¬æ¢æçç®æ æ°æ®ç±»åã æ¡ä»¶æ¯è½¬æ¢çæ°æ®ç±»åå¿é¡»æ¯å¼å®¹çã\n\npublic static void main(String[] args) {\n    double x = 3.14;\n    int nx = (int) x; //å¼ä¸º3\n    char c = 'a';\n    int d = c + 1;\n    System.out.println(d); //98\n    System.out.println((char) d); //b\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nå½å°ä¸ç§ç±»åå¼ºå¶è½¬æ¢æå¦ä¸ç§ç±»åï¼èåè¶åºäºç®æ ç±»åçè¡¨ç¤ºèå´ï¼å°±ä¼è¢«æªæ­æä¸ºä¸ä¸ªå®å¨ä¸å çå¼ï¼æº¢åºã\n\npublic static void main(String[] args) {\n    int x = 300;\n    byte bx = (byte)x; //å¼ä¸º44\n    System.out.println(bx);\n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# 3ãå¸¸è§éè¯¯åé®é¢\n\n * æä½æ¯è¾å¤§çæ°æ¶ï¼è¦çææ¯å¦æº¢åºï¼å°¤å¶æ¯æ´æ°æä½æ¶ï¼\n   \n   public static void main(String[] args) {\n       int money = 1000000000; //10äº¿\n       int years = 20;\n       int total = money * years; //è¿åçæ¯è´æ°\n       long total1 = money * years; //è¿åçä»ç¶æ¯è´æ°ãé»è®¤æ¯intï¼å æ­¤ç»æä¼è½¬æintå¼ï¼åè½¬ælongãä½æ¯å·²ç»åçäºæ°æ®ä¸¢å¤±\n       long total2 = money * ((long) years); //åå°ä¸ä¸ªå å­åælongï¼æ´ä¸ªè¡¨è¾¾å¼åçæåãå¨é¨ç¨longæ¥è®¡ç®ã\n       System.out.println(total); //-1474836480\n       System.out.println(total1); //-1474836480\n       System.out.println(total2); //20000000000\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   \n\n * Lål çé®é¢ï¼\n   \n   * ä¸è¦å½ååå­ä¸ºlçåé\n   \n   * longç±»åä½¿ç¨å¤§åLä¸è¦ç¨å°åã\n     \n     public static void main(String[] args) {\n         int l = 2;\n         long a = 23451l;\n         System.out.println(l + 1); //3\n         System.out.println(a); //23451\n     }\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     \n\n\n# 4ãJDK7æ©å±\n\nJDK7æ°ç¹æ§: äºè¿å¶æ´æ°\n\nç±äºæä»¬å¨å¼åä¸­ä¹ç»å¸¸ä½¿ç¨äºè¿å¶æ´æ°ï¼å æ­¤JDK7ä¸ºæä»¬ç´æ¥æä¾äºäºè¿å¶æ´æ°çç±»åã\n\næä»¬åªè¦ä»¥ï¼0bå¼å¤´å³å¯ã\n\nint a = 0b0101;\n\n\n1\n\n\nJDK7æ°ç¹æ§ï¼ä¸åçº¿åéç¬¦\n\nå¨å®éå¼ååå­¦ä¹ ä¸­ï¼å¦æéå°ç¹å«é¿çæ°å­ï¼è¯»æå®ä»¤äººå¤´ç¼ï¼JDK7ä¸ºæä»¬æä¾äºä¸åçº¿åéç¬¦ï¼å¯ ä»¥æç§èªå·±çä¹ æ¯è¿è¡åå²ã\n\nint b = 1_2234_5678;\n\n\n1\n\n\næä»¬å¾å®¹æå°±ç¥éè¿æ¯1äº¿2234ä¸5678å¦ï¼ éå¸¸ç¬¦åå½äººçä¹ æ¯ï¼\n\npublic static void main(String[] args) {\n    int a = 0b0101;\n    int b = 1_2345_7893;\n    System.out.println(a); //5\n    System.out.println(b); //123457893\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n#",normalizedContent:"# ç±»åè½¬æ¢\n\nç±äºjavaæ¯å¼ºç±»åè¯­è¨ï¼æä»¥è¦è¿è¡æäºè¿ç®çæ¶åçï¼éè¦ç¨å°ç±»åè½¬æ¢ã\n\næ´åãå®åï¼å¸¸éï¼ãå­ç¬¦åæ°æ®å¯ä»¥æ··åè¿ç®ã\n\nè¿ç®ä¸­ï¼ä¸åç±»åçæ°æ®åè½¬åä¸ºåä¸ç±»åï¼ç¶åè¿è¡è¿ç®ã\n\nè½¬æ¢ä»ä½çº§å°é«çº§ï¼æ ¹æ®å®¹éæ¥çï¼ã\n\n> ä½ ------------------------------------\x3e é«\n> \n> byte,short,charâ> int â> longâ> float â> double\n\næ°æ®ç±»åè½¬æ¢å¿é¡»æ»¡è¶³å¦ä¸è§åï¼\n\n * ä¸è½å¯¹booleanç±»åè¿è¡ç±»åè½¬æ¢ã\n\n * ä¸è½æå¯¹è±¡ç±»åè½¬æ¢æä¸ç¸å³ç±»çå¯¹è±¡ã\n\n * å¨æå®¹éå¤§çç±»åè½¬æ¢ä¸ºå®¹éå°çç±»åæ¶å¿é¡»ä½¿ç¨å¼ºå¶ç±»åè½¬æ¢ã\n\n * è½¬æ¢è¿ç¨ä¸­å¯è½å¯¼è´æº¢åºææå¤±ç²¾åº¦ï¼ä¾å¦ï¼\n   \n   int i = 128;\n   byte b = (byte)i;\n   \n   \n   1\n   2\n   \n   \n   å ä¸º byte ç±»åæ¯ 8 ä½ï¼æå¤§å¼ä¸º127ï¼æä»¥å½ int å¼ºå¶è½¬æ¢ä¸º byte ç±»åæ¶ï¼å¼ 128 æ¶åå°±ä¼å¯¼è´æº¢åºã\n   \n   æ¨èæç« ï¼ç»è°ä¸ºä»ä¹åå­èçæ´æ°èå´æ¯[-128 ~ 127]\n\næµ®ç¹æ°å°æ´æ°çè½¬æ¢æ¯éè¿èå¼å°æ°å¾å°ï¼èä¸æ¯åèäºå¥ï¼ä¾å¦ï¼\n\n> (int)23.7 == 23; (int)-45.89f == -45\n\n\n# 1ãèªå¨ç±»åè½¬æ¢\n\nèªå¨ç±»åè½¬æ¢ï¼å®¹éå°çæ°æ®ç±»åå¯ä»¥èªå¨è½¬æ¢ä¸ºå®¹éå¤§çæ°æ®ç±»åã\n\nä¾å¦: shortæ°æ®ç±»åçä½æ°ä¸º16ä½ï¼å°±å¯ä»¥èªå¨è½¬æ¢ä½æ°ä¸º32çintç±»åï¼åæ ·floatæ°æ®ç±»åçä½æ°ä¸º 32ï¼å¯ä»¥èªå¨è½¬æ¢ä¸º64ä½çdoubleç±»åã\n\npublic static void main(string[] args) {\n    char c1 = 'a';//å®ä¹ä¸ä¸ªcharç±»å\n    int i1 = c1;//charèªå¨ç±»åè½¬æ¢ä¸ºint\n    system.out.println(\"charèªå¨ç±»åè½¬æ¢ä¸ºintåçå¼ç­äº\" + i1);\n    char c2 = 'a';//å®ä¹ä¸ä¸ªcharç±»å\n    int i2 = c2 + 1;//char ç±»åå int ç±»åè®¡ç®\n    system.out.println(\"charç±»ååintè®¡ç®åçå¼ç­äº\" + i2);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nè§£æï¼c1 çå¼ä¸ºå­ç¬¦ a ,æ¥ ascii ç è¡¨å¯ç¥å¯¹åºç int ç±»åå¼ä¸º 97ï¼æä»¥i1=97ã a å¯¹åºå¼ä¸º 65ï¼æä»¥ i2=65+1=66ã\n\n\n# 2ãå¼ºå¶ç±»åè½¬æ¢\n\nå¼ºå¶ç±»åè½¬æ¢ï¼åè¢«ç§°ä¸ºé åï¼ç¨äºæ¾å¼çè½¬æ¢ä¸ä¸ªæ°å¼çç±»åã\n\nå¨æå¯è½ä¸¢å¤±ä¿¡æ¯çæåµä¸è¿è¡çè½¬æ¢æ¯éè¿é åæ¥å®æçï¼ä½å¯è½é æç²¾åº¦éä½ææº¢åºã\n\nå¼ºå¶ç±»åè½¬æ¢çè¯­æ³æ ¼å¼ï¼(type)var ï¼è¿ç®ç¬¦ â()â ä¸­ç type è¡¨ç¤ºå°å¼varæ³è¦è½¬æ¢æçç®æ æ°æ®ç±»åã æ¡ä»¶æ¯è½¬æ¢çæ°æ®ç±»åå¿é¡»æ¯å¼å®¹çã\n\npublic static void main(string[] args) {\n    double x = 3.14;\n    int nx = (int) x; //å¼ä¸º3\n    char c = 'a';\n    int d = c + 1;\n    system.out.println(d); //98\n    system.out.println((char) d); //b\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nå½å°ä¸ç§ç±»åå¼ºå¶è½¬æ¢æå¦ä¸ç§ç±»åï¼èåè¶åºäºç®æ ç±»åçè¡¨ç¤ºèå´ï¼å°±ä¼è¢«æªæ­æä¸ºä¸ä¸ªå®å¨ä¸å çå¼ï¼æº¢åºã\n\npublic static void main(string[] args) {\n    int x = 300;\n    byte bx = (byte)x; //å¼ä¸º44\n    system.out.println(bx);\n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# 3ãå¸¸è§éè¯¯åé®é¢\n\n * æä½æ¯è¾å¤§çæ°æ¶ï¼è¦çææ¯å¦æº¢åºï¼å°¤å¶æ¯æ´æ°æä½æ¶ï¼\n   \n   public static void main(string[] args) {\n       int money = 1000000000; //10äº¿\n       int years = 20;\n       int total = money * years; //è¿åçæ¯è´æ°\n       long total1 = money * years; //è¿åçä»ç¶æ¯è´æ°ãé»è®¤æ¯intï¼å æ­¤ç»æä¼è½¬æintå¼ï¼åè½¬ælongãä½æ¯å·²ç»åçäºæ°æ®ä¸¢å¤±\n       long total2 = money * ((long) years); //åå°ä¸ä¸ªå å­åælongï¼æ´ä¸ªè¡¨è¾¾å¼åçæåãå¨é¨ç¨longæ¥è®¡ç®ã\n       system.out.println(total); //-1474836480\n       system.out.println(total1); //-1474836480\n       system.out.println(total2); //20000000000\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   \n\n * lål çé®é¢ï¼\n   \n   * ä¸è¦å½ååå­ä¸ºlçåé\n   \n   * longç±»åä½¿ç¨å¤§ålä¸è¦ç¨å°åã\n     \n     public static void main(string[] args) {\n         int l = 2;\n         long a = 23451l;\n         system.out.println(l + 1); //3\n         system.out.println(a); //23451\n     }\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     \n\n\n# 4ãjdk7æ©å±\n\njdk7æ°ç¹æ§: äºè¿å¶æ´æ°\n\nç±äºæä»¬å¨å¼åä¸­ä¹ç»å¸¸ä½¿ç¨äºè¿å¶æ´æ°ï¼å æ­¤jdk7ä¸ºæä»¬ç´æ¥æä¾äºäºè¿å¶æ´æ°çç±»åã\n\næä»¬åªè¦ä»¥ï¼0bå¼å¤´å³å¯ã\n\nint a = 0b0101;\n\n\n1\n\n\njdk7æ°ç¹æ§ï¼ä¸åçº¿åéç¬¦\n\nå¨å®éå¼ååå­¦ä¹ ä¸­ï¼å¦æéå°ç¹å«é¿çæ°å­ï¼è¯»æå®ä»¤äººå¤´ç¼ï¼jdk7ä¸ºæä»¬æä¾äºä¸åçº¿åéç¬¦ï¼å¯ ä»¥æç§èªå·±çä¹ æ¯è¿è¡åå²ã\n\nint b = 1_2234_5678;\n\n\n1\n\n\næä»¬å¾å®¹æå°±ç¥éè¿æ¯1äº¿2234ä¸5678å¦ï¼ éå¸¸ç¬¦åå½äººçä¹ æ¯ï¼\n\npublic static void main(string[] args) {\n    int a = 0b0101;\n    int b = 1_2345_7893;\n    system.out.println(a); //5\n    system.out.println(b); //123457893\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n#",charsets:{cjk:!0},lastUpdated:"2021/05/26, 10:05:00",lastUpdatedTimestamp:1622024154e3},{title:"åéåå¸¸é",frontmatter:{title:"åéåå¸¸é",date:"2021-04-15T22:28:45.000Z",permalink:"/java/se/basic-grammar/variate-constant/",categories:["java","java-se"]},regularPath:"/01.Java/02.java-%E5%9F%BA%E7%A1%80/02.%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/05.%E5%8F%98%E9%87%8F%E5%92%8C%E5%B8%B8%E9%87%8F.html",relativePath:"01.Java/02.java-åºç¡/02.åºç¡è¯­æ³/05.åéåå¸¸é.md",key:"v-560c45dc",path:"/java/se/basic-grammar/variate-constant/",headers:[{level:2,title:"åéï¼å¸¸é",slug:"åé-å¸¸é",normalizedTitle:"åéï¼å¸¸é",charIndex:2},{level:3,title:"1ãåéï¼variableï¼",slug:"_1ãåé-variable",normalizedTitle:"1ãåéï¼variableï¼",charIndex:12},{level:3,title:"2ãåéä½ç¨å",slug:"_2ãåéä½ç¨å",normalizedTitle:"2ãåéä½ç¨å",charIndex:783},{level:4,title:"å±é¨åé",slug:"å±é¨åé",normalizedTitle:"å±é¨åé",charIndex:922},{level:4,title:"å®ä¾åé",slug:"å®ä¾åé",normalizedTitle:"å®ä¾åé",charIndex:865},{level:4,title:"éæåé",slug:"éæåé",normalizedTitle:"éæåé",charIndex:815},{level:3,title:"3ãå¸¸é",slug:"_3ãå¸¸é",normalizedTitle:"3ãå¸¸é",charIndex:2405},{level:3,title:"4ãåéçå½åè§è",slug:"_4ãåéçå½åè§è",normalizedTitle:"4ãåéçå½åè§è",charIndex:2700}],headersStr:"åéï¼å¸¸é 1ãåéï¼variableï¼ 2ãåéä½ç¨å å±é¨åé å®ä¾åé éæåé 3ãå¸¸é 4ãåéçå½åè§è",content:'# åéï¼å¸¸é\n\n\n# 1ãåéï¼variableï¼\n\nåéæ¯ä»ä¹ï¼å°±æ¯å¯ä»¥ååçéï¼\n\næä»¬éè¿åéæ¥æçºµå­å¨ç©ºé´ä¸­çæ°æ®ï¼åéå°±æ¯æä»£è¿ä¸ªå­å¨ç©ºé´ï¼ç©ºé´ä½ç½®æ¯ç¡®å®çï¼ä½æ¯éé¢æ¾ ç½®ä»ä¹å¼ä¸ç¡®å®ï¼ æä¸ªæ¯æ¹ï¼\n\nè¿å°±å¥½åæä»¬å®¶éæä¸ä¸ªå¤§è¡£æï¼éé¢æååå¤çå°æ ¼å­ï¼æä»¬ç»æ ¼å­ä¸è´´ä¸æ ç­¾ï¼æ¾è¡£æï¼æ¾éå­ï¼ æ¾æè¡¨ç­ç­ï¼æ­¤æ¶æä»¬ç¥éäºåªéè¯¥æ¾ä»ä¹ï¼ä½æ¯ï¼æä»¬å¹¶ä¸ç¥ééé¢å°åºæ¾çæ¯ä»ä¹çå­çéå­ï¼æ¯ è¡£æè¿æ¯è£¤å­ãé£ä¸ªæ ç­¾å°±ç¸å½äºæä»¬çåéï¼æä»¬ç»ä»èµ·äºä¸ªåå­ï¼ä½æ¯éé¢è¦æ¾ä»ä¹éè¦æä»¬èªå·± å»æ¾ã\n\nJavaæ¯ä¸ç§å¼ºç±»åè¯­è¨ï¼æ¯ä¸ªåéé½å¿é¡»å£°æå¶ç±»åã\n\nJavaåéæ¯ç¨åºä¸­æåºæ¬çå­å¨ååï¼å¶è¦ç´ åæ¬åéåï¼åéç±»ååä½ç¨åã\n\nåéå¨ä½¿ç¨åå¿é¡»å¯¹å¶å£°æ, åªæå¨åéå£°æä»¥åï¼æè½ä¸ºå¶åéç¸åºé¿åº¦çå­å¨ååï¼å£°ææ ¼å¼ä¸ºï¼\n\n> æ°æ®ç±»å åéå = å¼ï¼\n> \n> å¯ä»¥ä½¿ç¨éå·éå¼æ¥å£°æå¤ä¸ªåç±»ååéã\n\næ³¨æäºé¡¹ï¼\n\n * æ¯ä¸ªåéé½æç±»åï¼ç±»åå¯ä»¥æ¯åºæ¬ç±»åï¼ä¹å¯ä»¥æ¯å¼ç¨ç±»åã\n * åéåå¿é¡»æ¯åæ³çæ è¯ç¬¦ã\n * åéå£°ææ¯ä¸æ¡å®æ´çè¯­å¥ï¼å æ­¤æ¯ä¸ä¸ªå£°æé½å¿é¡»ä»¥åå·ç»æ\n\nãæ¼ç¤ºã\n\nint a, b, c; // å£°æä¸ä¸ªintåæ´æ°ï¼aã bãc\nint d = 3, e = 4, f = 5; // å£°æä¸ä¸ªæ´æ°å¹¶èµäºåå¼\nbyte z = 22; // å£°æå¹¶åå§å z\nString s = "runoob"; // å£°æå¹¶åå§åå­ç¬¦ä¸² s\ndouble pi = 3.14159; // å£°æäºåç²¾åº¦æµ®ç¹ååé pi\nchar x = \'x\'; // å£°æåé x çå¼æ¯å­ç¬¦ \'x\'ã\n\n\n1\n2\n3\n4\n5\n6\n\n\nãç¼ç è§èã\n\nè½ç¶å¯ä»¥å¨ä¸è¡å£°æå¤ä¸ªåéï¼ä½æ¯ä¸æå¡è¿ä¸ªé£æ ¼ï¼éä¸å£°ææ¯ä¸ä¸ªåéå¯ä»¥æé«ç¨åºå¯è¯»æ§ã\n\n\n# 2ãåéä½ç¨å\n\nåéæ ¹æ®ä½ç¨åå¯ååä¸ºä¸ç§ï¼\n\n * ç±»åéï¼éæåéï¼ static variableï¼ï¼ç¬ç«äºæ¹æ³ä¹å¤çåéï¼ç¨ static ä¿®é¥°ã\n * å®ä¾åéï¼æååéï¼member variableï¼ï¼ç¬ç«äºæ¹æ³ä¹å¤çåéï¼ä¸è¿æ²¡æ static ä¿®é¥°ã\n * å±é¨åéï¼lacal variableï¼ï¼ç±»çæ¹æ³ä¸­çåéã\n\npublic class Variable{\n    static int allClicks = 0; // ç±»åé\n    String str = "hello world"; // å®ä¾åé\n    \n    public void method(){\n        int i =0; // å±é¨åé\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# å±é¨åé\n\næ¹æ³æè¯­å¥ååé¨å®ä¹çåéãçå½å¨ææ¯ä»å£°æä½ç½®å¼å§å° â}â ä¸ºæ­¢\n\nå¨ä½¿ç¨åå¿é¡»åå£°æååå§å(èµåå¼)ã\n\nå±é¨åéæ²¡æé»è®¤å¼ï¼æä»¥å±é¨åéè¢«å£°æåï¼å¿é¡»ç»è¿åå§åï¼æå¯ä»¥ä½¿ç¨ã\n\npublic static void main(String[] args) {\n    int i;\n    int j = i + 5; // ç¼è¯åºéï¼åéiè¿æªè¢«åå§å\n    System.out.println(j);\n}\n\n\n1\n2\n3\n4\n5\n\n\nä¿®æ¹ä¸ºï¼\n\npublic static void main(String[] args) {\n    int i=10;\n    int j = i+5 ;\n    System.out.println(j);\n}\n\n\n1\n2\n3\n4\n5\n\n\n# å®ä¾åé\n\næ¹æ³å¤é¨ãç±»çåé¨å®ä¹çåéã\n\nä»å±äºå¯¹è±¡ï¼çå½å¨æä¼´éå¯¹è±¡å§ç»ã\n\nå¦æä¸èªè¡åå§åï¼ä»ä¼èªå¨åå§åæè¯¥ç±»åçé»è®¤åå§å¼\n\nï¼æ°å¼ååéåå§åæ0æ0.0ï¼å­ç¬¦ååéçåå§åå¼æ¯16ä½ç0ï¼å¸å°åé»è®¤æ¯falseï¼\n\npublic class Test {\n    // è¿ä¸ªå®ä¾åéå¯¹å­ç±»å¯è§\n    public String name;\n    // ç§æåéï¼ä»å¨è¯¥ç±»å¯è§\n    private double salary;\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n# éæåé\n\nä½¿ç¨staticå®ä¹ã\n\nä»å±äºç±»ï¼çå½å¨æä¼´éç±»å§ç»ï¼ä»ç±»å è½½å°å¸è½½ã\n\n(æ³¨ï¼è®²å®åå­åæåæä»¬åæ·±å¥ï¼åæ¾ä¸æ¾è¿ä¸ªæ¦å¿µï¼)\n\n> ä¸åçç±»ä¹é´éè¦å¯¹åä¸ä¸ªåéè¿è¡æä½ï¼æ¯å¦ä¸ä¸ªæ°´æ± ï¼åæ¶æå¼å¥æ°´å£ååºæ°´å£ï¼è¿æ°´ååºæ°´è¿ä¸¤ä¸ªå¨ä½ä¼åæ¶å½±åå°æ± ä¸­çæ°´éï¼æ­¤æ¶æ± ä¸­çæ°´éå°±å¯ä»¥è®¤ä¸ºæ¯ä¸ä¸ªå±äº«çåéãè¯¥åéå°±æ¯éæåé\n> \n> éæç®åçè¯´æ¯ è¢«ç±»çææå¯¹è±¡å±äº«ï¼æ¯å¦æä¸ä¸ªç±»ï¼æå­¦æ ¡ï¼å§åï¼å¹´é¾ä¸ä¸ªåæ°ï¼è°ç¨å°±éè¦ç»è¿ä¸ä¸ªèµä¸å¼ï¼åå¦è¿äºäººé½æ¯ä¸ä¸ªå­¦æ ¡çï¼æ¯æ¬¡è°ç¨é½éè¦èµå¼å°±å¤ªéå¤ï¼å ä¸éæçè¯ï¼ä¸ä¸ªèµå¼äºï¼æ¯æ¬¡è°ç¨åé½æ¯é£ä¸ªå¼\n\nå¦æä¸èªè¡åå§åï¼ä»ä¼èªå¨åå§åæè¯¥ç±»åçé»è®¤åå§å¼\n\nï¼æ°å¼ååéåå§åæ0æ0.0ï¼å­ç¬¦ååéçåå§åå¼æ¯16ä½ç0ï¼å¸å°åé»è®¤æ¯falseï¼\n\npublic class Employee {\n    //salaryæ¯éæçç§æåé\n    private static double salary;\n    // DEPARTMENTæ¯ä¸ä¸ªå¸¸é\n    public static final String DEPARTMENT = "å¼åäººå";\n    public static void main(String[] args){\n        salary = 10000;\n        System.out.println(DEPARTMENT+"å¹³åå·¥èµ:"+salary);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# 3ãå¸¸é\n\nå¸¸é(Constant)ï¼åå§å(initialize)åä¸è½åæ¹åå¼ï¼ä¸ä¼åå¨çå¼ã\n\næè°å¸¸éå¯ä»¥çè§£æä¸ç§ç¹æ®çåéï¼å®çå¼è¢«è®¾å®åï¼å¨ç¨åºè¿è¡è¿ç¨ä¸­ä¸åè®¸è¢«æ¹åã\n\nfinal å¸¸éå=å¼;\nfinal double PI=3.14;\nfinal String LOVE="hello";\n\n\n1\n2\n3\n\n\nå¸¸éåä¸è¬ä½¿ç¨å¤§åå­ç¬¦ã\n\nç¨åºä¸­ä½¿ç¨å¸¸éå¯ä»¥æé«ä»£ç çå¯ç»´æ¤æ§ãä¾å¦ï¼å¨é¡¹ç®å¼åæ¶ï¼æä»¬éè¦æå®ç¨æ·çæ§å«ï¼æ­¤æ¶å¯ä»¥ å®ä¹ä¸ä¸ªå¸¸é SEXï¼èµå¼ä¸º "ç·"ï¼å¨éè¦æå®ç¨æ·æ§å«çå°æ¹ç´æ¥è°ç¨æ­¤å¸¸éå³å¯ï¼é¿åäºç±äºç¨æ·ç ä¸è§èèµå¼å¯¼è´ç¨åºåºéçæåµã\n\n\n# 4ãåéçå½åè§è\n\n 1. ææåéãæ¹æ³ãç±»åï¼è§åç¥æ\n 2. ç±»æååéï¼é¦å­æ¯å°ååé©¼å³°åå : monthSalary\n 3. å±é¨åéï¼é¦å­æ¯å°ååé©¼å³°åå\n 4. å¸¸éï¼å¤§åå­æ¯åä¸åçº¿ï¼MAX_VALUE\n 5. ç±»åï¼é¦å­æ¯å¤§ååé©¼å³°åå: Man, GoodMan\n 6. æ¹æ³åï¼é¦å­æ¯å°ååé©¼å³°åå: run(), runRun()\n\nå·ä½å¯åèãé¿éå·´å·´Javaå¼åæåã',normalizedContent:'# åéï¼å¸¸é\n\n\n# 1ãåéï¼variableï¼\n\nåéæ¯ä»ä¹ï¼å°±æ¯å¯ä»¥ååçéï¼\n\næä»¬éè¿åéæ¥æçºµå­å¨ç©ºé´ä¸­çæ°æ®ï¼åéå°±æ¯æä»£è¿ä¸ªå­å¨ç©ºé´ï¼ç©ºé´ä½ç½®æ¯ç¡®å®çï¼ä½æ¯éé¢æ¾ ç½®ä»ä¹å¼ä¸ç¡®å®ï¼ æä¸ªæ¯æ¹ï¼\n\nè¿å°±å¥½åæä»¬å®¶éæä¸ä¸ªå¤§è¡£æï¼éé¢æååå¤çå°æ ¼å­ï¼æä»¬ç»æ ¼å­ä¸è´´ä¸æ ç­¾ï¼æ¾è¡£æï¼æ¾éå­ï¼ æ¾æè¡¨ç­ç­ï¼æ­¤æ¶æä»¬ç¥éäºåªéè¯¥æ¾ä»ä¹ï¼ä½æ¯ï¼æä»¬å¹¶ä¸ç¥ééé¢å°åºæ¾çæ¯ä»ä¹çå­çéå­ï¼æ¯ è¡£æè¿æ¯è£¤å­ãé£ä¸ªæ ç­¾å°±ç¸å½äºæä»¬çåéï¼æä»¬ç»ä»èµ·äºä¸ªåå­ï¼ä½æ¯éé¢è¦æ¾ä»ä¹éè¦æä»¬èªå·± å»æ¾ã\n\njavaæ¯ä¸ç§å¼ºç±»åè¯­è¨ï¼æ¯ä¸ªåéé½å¿é¡»å£°æå¶ç±»åã\n\njavaåéæ¯ç¨åºä¸­æåºæ¬çå­å¨ååï¼å¶è¦ç´ åæ¬åéåï¼åéç±»ååä½ç¨åã\n\nåéå¨ä½¿ç¨åå¿é¡»å¯¹å¶å£°æ, åªæå¨åéå£°æä»¥åï¼æè½ä¸ºå¶åéç¸åºé¿åº¦çå­å¨ååï¼å£°ææ ¼å¼ä¸ºï¼\n\n> æ°æ®ç±»å åéå = å¼ï¼\n> \n> å¯ä»¥ä½¿ç¨éå·éå¼æ¥å£°æå¤ä¸ªåç±»ååéã\n\næ³¨æäºé¡¹ï¼\n\n * æ¯ä¸ªåéé½æç±»åï¼ç±»åå¯ä»¥æ¯åºæ¬ç±»åï¼ä¹å¯ä»¥æ¯å¼ç¨ç±»åã\n * åéåå¿é¡»æ¯åæ³çæ è¯ç¬¦ã\n * åéå£°ææ¯ä¸æ¡å®æ´çè¯­å¥ï¼å æ­¤æ¯ä¸ä¸ªå£°æé½å¿é¡»ä»¥åå·ç»æ\n\nãæ¼ç¤ºã\n\nint a, b, c; // å£°æä¸ä¸ªintåæ´æ°ï¼aã bãc\nint d = 3, e = 4, f = 5; // å£°æä¸ä¸ªæ´æ°å¹¶èµäºåå¼\nbyte z = 22; // å£°æå¹¶åå§å z\nstring s = "runoob"; // å£°æå¹¶åå§åå­ç¬¦ä¸² s\ndouble pi = 3.14159; // å£°æäºåç²¾åº¦æµ®ç¹ååé pi\nchar x = \'x\'; // å£°æåé x çå¼æ¯å­ç¬¦ \'x\'ã\n\n\n1\n2\n3\n4\n5\n6\n\n\nãç¼ç è§èã\n\nè½ç¶å¯ä»¥å¨ä¸è¡å£°æå¤ä¸ªåéï¼ä½æ¯ä¸æå¡è¿ä¸ªé£æ ¼ï¼éä¸å£°ææ¯ä¸ä¸ªåéå¯ä»¥æé«ç¨åºå¯è¯»æ§ã\n\n\n# 2ãåéä½ç¨å\n\nåéæ ¹æ®ä½ç¨åå¯ååä¸ºä¸ç§ï¼\n\n * ç±»åéï¼éæåéï¼ static variableï¼ï¼ç¬ç«äºæ¹æ³ä¹å¤çåéï¼ç¨ static ä¿®é¥°ã\n * å®ä¾åéï¼æååéï¼member variableï¼ï¼ç¬ç«äºæ¹æ³ä¹å¤çåéï¼ä¸è¿æ²¡æ static ä¿®é¥°ã\n * å±é¨åéï¼lacal variableï¼ï¼ç±»çæ¹æ³ä¸­çåéã\n\npublic class variable{\n    static int allclicks = 0; // ç±»åé\n    string str = "hello world"; // å®ä¾åé\n    \n    public void method(){\n        int i =0; // å±é¨åé\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# å±é¨åé\n\næ¹æ³æè¯­å¥ååé¨å®ä¹çåéãçå½å¨ææ¯ä»å£°æä½ç½®å¼å§å° â}â ä¸ºæ­¢\n\nå¨ä½¿ç¨åå¿é¡»åå£°æååå§å(èµåå¼)ã\n\nå±é¨åéæ²¡æé»è®¤å¼ï¼æä»¥å±é¨åéè¢«å£°æåï¼å¿é¡»ç»è¿åå§åï¼æå¯ä»¥ä½¿ç¨ã\n\npublic static void main(string[] args) {\n    int i;\n    int j = i + 5; // ç¼è¯åºéï¼åéiè¿æªè¢«åå§å\n    system.out.println(j);\n}\n\n\n1\n2\n3\n4\n5\n\n\nä¿®æ¹ä¸ºï¼\n\npublic static void main(string[] args) {\n    int i=10;\n    int j = i+5 ;\n    system.out.println(j);\n}\n\n\n1\n2\n3\n4\n5\n\n\n# å®ä¾åé\n\næ¹æ³å¤é¨ãç±»çåé¨å®ä¹çåéã\n\nä»å±äºå¯¹è±¡ï¼çå½å¨æä¼´éå¯¹è±¡å§ç»ã\n\nå¦æä¸èªè¡åå§åï¼ä»ä¼èªå¨åå§åæè¯¥ç±»åçé»è®¤åå§å¼\n\nï¼æ°å¼ååéåå§åæ0æ0.0ï¼å­ç¬¦ååéçåå§åå¼æ¯16ä½ç0ï¼å¸å°åé»è®¤æ¯falseï¼\n\npublic class test {\n    // è¿ä¸ªå®ä¾åéå¯¹å­ç±»å¯è§\n    public string name;\n    // ç§æåéï¼ä»å¨è¯¥ç±»å¯è§\n    private double salary;\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n# éæåé\n\nä½¿ç¨staticå®ä¹ã\n\nä»å±äºç±»ï¼çå½å¨æä¼´éç±»å§ç»ï¼ä»ç±»å è½½å°å¸è½½ã\n\n(æ³¨ï¼è®²å®åå­åæåæä»¬åæ·±å¥ï¼åæ¾ä¸æ¾è¿ä¸ªæ¦å¿µï¼)\n\n> ä¸åçç±»ä¹é´éè¦å¯¹åä¸ä¸ªåéè¿è¡æä½ï¼æ¯å¦ä¸ä¸ªæ°´æ± ï¼åæ¶æå¼å¥æ°´å£ååºæ°´å£ï¼è¿æ°´ååºæ°´è¿ä¸¤ä¸ªå¨ä½ä¼åæ¶å½±åå°æ± ä¸­çæ°´éï¼æ­¤æ¶æ± ä¸­çæ°´éå°±å¯ä»¥è®¤ä¸ºæ¯ä¸ä¸ªå±äº«çåéãè¯¥åéå°±æ¯éæåé\n> \n> éæç®åçè¯´æ¯ è¢«ç±»çææå¯¹è±¡å±äº«ï¼æ¯å¦æä¸ä¸ªç±»ï¼æå­¦æ ¡ï¼å§åï¼å¹´é¾ä¸ä¸ªåæ°ï¼è°ç¨å°±éè¦ç»è¿ä¸ä¸ªèµä¸å¼ï¼åå¦è¿äºäººé½æ¯ä¸ä¸ªå­¦æ ¡çï¼æ¯æ¬¡è°ç¨é½éè¦èµå¼å°±å¤ªéå¤ï¼å ä¸éæçè¯ï¼ä¸ä¸ªèµå¼äºï¼æ¯æ¬¡è°ç¨åé½æ¯é£ä¸ªå¼\n\nå¦æä¸èªè¡åå§åï¼ä»ä¼èªå¨åå§åæè¯¥ç±»åçé»è®¤åå§å¼\n\nï¼æ°å¼ååéåå§åæ0æ0.0ï¼å­ç¬¦ååéçåå§åå¼æ¯16ä½ç0ï¼å¸å°åé»è®¤æ¯falseï¼\n\npublic class employee {\n    //salaryæ¯éæçç§æåé\n    private static double salary;\n    // departmentæ¯ä¸ä¸ªå¸¸é\n    public static final string department = "å¼åäººå";\n    public static void main(string[] args){\n        salary = 10000;\n        system.out.println(department+"å¹³åå·¥èµ:"+salary);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# 3ãå¸¸é\n\nå¸¸é(constant)ï¼åå§å(initialize)åä¸è½åæ¹åå¼ï¼ä¸ä¼åå¨çå¼ã\n\næè°å¸¸éå¯ä»¥çè§£æä¸ç§ç¹æ®çåéï¼å®çå¼è¢«è®¾å®åï¼å¨ç¨åºè¿è¡è¿ç¨ä¸­ä¸åè®¸è¢«æ¹åã\n\nfinal å¸¸éå=å¼;\nfinal double pi=3.14;\nfinal string love="hello";\n\n\n1\n2\n3\n\n\nå¸¸éåä¸è¬ä½¿ç¨å¤§åå­ç¬¦ã\n\nç¨åºä¸­ä½¿ç¨å¸¸éå¯ä»¥æé«ä»£ç çå¯ç»´æ¤æ§ãä¾å¦ï¼å¨é¡¹ç®å¼åæ¶ï¼æä»¬éè¦æå®ç¨æ·çæ§å«ï¼æ­¤æ¶å¯ä»¥ å®ä¹ä¸ä¸ªå¸¸é sexï¼èµå¼ä¸º "ç·"ï¼å¨éè¦æå®ç¨æ·æ§å«çå°æ¹ç´æ¥è°ç¨æ­¤å¸¸éå³å¯ï¼é¿åäºç±äºç¨æ·ç ä¸è§èèµå¼å¯¼è´ç¨åºåºéçæåµã\n\n\n# 4ãåéçå½åè§è\n\n 1. ææåéãæ¹æ³ãç±»åï¼è§åç¥æ\n 2. ç±»æååéï¼é¦å­æ¯å°ååé©¼å³°åå : monthsalary\n 3. å±é¨åéï¼é¦å­æ¯å°ååé©¼å³°åå\n 4. å¸¸éï¼å¤§åå­æ¯åä¸åçº¿ï¼max_value\n 5. ç±»åï¼é¦å­æ¯å¤§ååé©¼å³°åå: man, goodman\n 6. æ¹æ³åï¼é¦å­æ¯å°ååé©¼å³°åå: run(), runrun()\n\nå·ä½å¯åèãé¿éå·´å·´javaå¼åæåã',charsets:{cjk:!0},lastUpdated:"2021/05/26, 10:05:00",lastUpdatedTimestamp:1622024154e3},{title:"å³äº",frontmatter:{pageComponent:{name:"Catalogue",data:{key:"10.å³äº",imgUrl:"/img/web.png",description:"å³äº"}},title:"å³äº",permalink:"/about",sidebar:!1,article:!1,comment:!1,editLink:!1,date:"2021-05-16T22:59:58.000Z"},regularPath:"/00.%E7%9B%AE%E5%BD%95%E9%A1%B5/10.%E5%85%B3%E4%BA%8E.html",relativePath:"00.ç®å½é¡µ/10.å³äº.md",key:"v-9c3ab8f0",path:"/about/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2021/05/26, 10:05:00",lastUpdatedTimestamp:1622024154e3},{title:"æ°æ®ç±»å",frontmatter:{title:"æ°æ®ç±»å",date:"2021-04-15T22:28:45.000Z",permalink:"/java/se/basic-grammar/data-type/",categories:["java","java-se"]},regularPath:"/01.Java/02.java-%E5%9F%BA%E7%A1%80/02.%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/03.%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html",relativePath:"01.Java/02.java-åºç¡/02.åºç¡è¯­æ³/03.æ°æ®ç±»å.md",key:"v-1156e8e2",path:"/java/se/basic-grammar/data-type/",headers:[{level:2,title:"æ°æ®ç±»å",slug:"æ°æ®ç±»å",normalizedTitle:"æ°æ®ç±»å",charIndex:2},{level:3,title:"1ãå¼ºå¼±ç±»åè¯­è¨",slug:"_1ãå¼ºå¼±ç±»åè¯­è¨",normalizedTitle:"1ãå¼ºå¼±ç±»åè¯­è¨",charIndex:99},{level:3,title:"2ãæ°æ®ç±»å",slug:"_2ãæ°æ®ç±»å",normalizedTitle:"2ãæ°æ®ç±»å",charIndex:560},{level:3,title:"3ãæ´åæå±",slug:"_3ãæ´åæå±",normalizedTitle:"3ãæ´åæå±",charIndex:4332},{level:3,title:"4ãæµ®ç¹åæå±",slug:"_4ãæµ®ç¹åæå±",normalizedTitle:"4ãæµ®ç¹åæå±",charIndex:4622},{level:3,title:"5ãå­ç¬¦åæå±",slug:"_5ãå­ç¬¦åæå±",normalizedTitle:"5ãå­ç¬¦åæå±",charIndex:5438},{level:3,title:"6ãå¸å°åæå±",slug:"_6ãå¸å°åæå±",normalizedTitle:"6ãå¸å°åæå±",charIndex:6392}],headersStr:"æ°æ®ç±»å 1ãå¼ºå¼±ç±»åè¯­è¨ 2ãæ°æ®ç±»å 3ãæ´åæå± 4ãæµ®ç¹åæå± 5ãå­ç¬¦åæå± 6ãå¸å°åæå±",content:'# æ°æ®ç±»å\n\nJavaæ¯ä¸ç§å¼ºç±»åè¯­è¨ï¼æ¯ä¸ªåéé½å¿é¡»å£°æå¶ç±»åã\n\næ©å±ï¼åç§å­ç¬¦éåç¼ç è¯¦è§£(https://www.cnblogs.com/cmt/p/14553189.html)\n\n\n# 1ãå¼ºå¼±ç±»åè¯­è¨\n\n * å¼ºç±»åè¯­è¨\n   \n   å¼ºç±»åè¯­è¨æ¯ä¸ç§å¼ºå¶ç±»åå®ä¹çè¯­è¨ï¼ä¸æ¦æä¸ä¸ªåéè¢«å®ä¹ç±»åï¼å¦æä¸ç»è¿å¼ºå¶è½¬æ¢ï¼åå®æ°¸è¿å°±æ¯è¯¥æ°æ®ç±»åäºï¼å¼ºç±»åè¯­è¨åæ¬Javaã.net ãPythonãC++ç­è¯­è¨ã\n   \n   ä¸¾ä¸ªä¾å­ï¼å®ä¹äºä¸ä¸ªæ´æ°ï¼å¦æä¸è¿è¡å¼ºå¶çç±»åè½¬æ¢ï¼åä¸å¯ä»¥å°è¯¥æ´æ°è½¬åä¸ºå­ç¬¦ä¸²ã\n\n * å¼±ç±»åè¯­è¨\n   \n   å¼±ç±»åè¯­è¨æ¯ä¸ç§å¼±ç±»åå®ä¹çè¯­è¨ï¼æä¸ä¸ªåéè¢«å®ä¹ç±»åï¼è¯¥åéå¯ä»¥æ ¹æ®ç¯å¢ååèªå¨è¿è¡è½¬æ¢ï¼ä¸éè¦ç»è¿æ¾æ§å¼ºå¶è½¬æ¢ãå¼±ç±»åè¯­è¨åæ¬vb ãPHPãjavascriptç­è¯­è¨ã\n   \n   å¨VB Scriptä¸­ï¼å¯ä»¥å°å­ç¬¦ä¸²â12âåæ´æ°3è¿è¡è¿æ¥å¾å°å­ç¬¦ä¸²â123âï¼ä¹å¯ä»¥æå®çææ´æ°123ï¼èä¸é è¦æ¾ç¤ºè½¬æ¢ãæ¯ä¸æ¯ååçéä¾¿ï¼æä»¬Javaå°±ä¸æ¯è¿æ ·çã\n\n * åºå«\n   \n   æ è®ºæ¯å¼ºç±»åè¯­è¨è¿æ¯å¼±ç±»åè¯­è¨ï¼å¤å«çæ ¹æ¬æ¯æ¯å¦ä¼éæ§çè¿è¡è¯­è¨ç±»åè½¬åãå¼ºç±»åè¯­è¨å¨éåº¦ä¸ç¥éäºå¼±ç±»åè¯­è¨ï¼ä½æ¯å¼ºç±»åå®ä¹è¯­è¨å¸¦æ¥çä¸¥è°¨æ§åè½é¿åä¸å¿è¦çéè¯¯ã\n\n\n# 2ãæ°æ®ç±»å\n\nJavaçæ°æ®ç±»ååä¸ºä¸¤å¤§ç±»ï¼åºæ¬ç±»åï¼primitive typeï¼åå¼ç¨ç±»å ï¼reference typeï¼\n\n\n\nãæ³¨ï¼å¼ç¨æ°æ®ç±»åçå¤§å°ç»ä¸ä¸º4ä¸ªå­èï¼è®°å½çæ¯å¶å¼ç¨å¯¹è±¡çå°åï¼ã\n\n\n\nå¦æä½ çå°è¿ä¸å å¤´ç¼çè¯ï¼æ²¡å³ç³»ï¼ä¸ç¨è®°ï¼JDKä¸­ç±»åå¯¹åºçåè£ç±»é½å¸®å¿åå¥½äºï¼æä»¬éè¦æ¶åå¯ ä»¥ç´æ¥çå°ï¼å¯ä»¥æä»¥ä¸ä»£ç æ·è´è¿è¡æ¥çç»æï¼\n\npublic static void main(String[] args) {\n    // byte\n    System.out.println("åºæ¬ç±»åï¼byte äºè¿å¶ä½æ°ï¼" + Byte.SIZE);\n    System.out.println("åè£ç±»ï¼java.lang.Byte");\n    System.out.println("æå°å¼ï¼Byte.MIN_VALUE=" + Byte.MIN_VALUE);\n    System.out.println("æå¤§å¼ï¼Byte.MAX_VALUE=" + Byte.MAX_VALUE);\n    System.out.println();\n    // short\n    System.out.println("åºæ¬ç±»åï¼short äºè¿å¶ä½æ°ï¼" + Short.SIZE);\n    System.out.println("åè£ç±»ï¼java.lang.Short");\n    System.out.println("æå°å¼ï¼Short.MIN_VALUE=" + Short.MIN_VALUE);\n    System.out.println("æå¤§å¼ï¼Short.MAX_VALUE=" + Short.MAX_VALUE);\n    System.out.println();\n    // int\n    System.out.println("åºæ¬ç±»åï¼int äºè¿å¶ä½æ°ï¼" + Integer.SIZE);\n    System.out.println("åè£ç±»ï¼java.lang.Integer");\n    System.out.println("æå°å¼ï¼Integer.MIN_VALUE=" + Integer.MIN_VALUE);\n    System.out.println("æå¤§å¼ï¼Integer.MAX_VALUE=" + Integer.MAX_VALUE);\n    System.out.println();\n    // long\n    System.out.println("åºæ¬ç±»åï¼long äºè¿å¶ä½æ°ï¼" + Long.SIZE);\n    System.out.println("åè£ç±»ï¼java.lang.Long");\n    System.out.println("æå°å¼ï¼Long.MIN_VALUE=" + Long.MIN_VALUE);\n    System.out.println("æå¤§å¼ï¼Long.MAX_VALUE=" + Long.MAX_VALUE);\n    System.out.println();\n    // float\n    System.out.println("åºæ¬ç±»åï¼float äºè¿å¶ä½æ°ï¼" + Float.SIZE);\n    System.out.println("åè£ç±»ï¼java.lang.Float");\n    System.out.println("æå°å¼ï¼Float.MIN_VALUE=" + Float.MIN_VALUE);\n    System.out.println("æå¤§å¼ï¼Float.MAX_VALUE=" + Float.MAX_VALUE);\n    System.out.println();\n    // double\n    System.out.println("åºæ¬ç±»åï¼double äºè¿å¶ä½æ°ï¼" + Double.SIZE);\n    System.out.println("åè£ç±»ï¼java.lang.Double");\n    System.out.println("æå°å¼ï¼Double.MIN_VALUE=" + Double.MIN_VALUE);\n    System.out.println("æå¤§å¼ï¼Double.MAX_VALUE=" + Double.MAX_VALUE);\n    System.out.println();\n    // char\n    System.out.println("åºæ¬ç±»åï¼char äºè¿å¶ä½æ°ï¼" + Character.SIZE);\n    System.out.println("åè£ç±»ï¼java.lang.Character");\n    // ä»¥æ°å¼å½¢å¼èä¸æ¯å­ç¬¦å½¢å¼å°Character.MIN_VALUEè¾åºå°æ§å¶å°\n    System.out.println("æå°å¼ï¼Character.MIN_VALUE="+ (int) Character.MIN_VALUE);\n    // ä»¥æ°å¼å½¢å¼èä¸æ¯å­ç¬¦å½¢å¼å°Character.MAX_VALUEè¾åºå°æ§å¶å°\n    System.out.println("æå¤§å¼ï¼Character.MAX_VALUE="+ (int) Character.MAX_VALUE);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n\n\nå­èç¸å³ç¥è¯ï¼\n\n> ä½ï¼bitï¼ï¼æ¯è®¡ç®æº åé¨æ°æ® å¨å­çæå°åä½ï¼11001100æ¯ä¸ä¸ªå«ä½äºè¿å¶æ°ã\n> \n> å­èï¼byteï¼ï¼æ¯è®¡ç®æºä¸­ æ°æ®å¤ç çåºæ¬åä½ï¼ä¹ æ¯ä¸ç¨å¤§å B æ¥è¡¨ç¤ºã\n> \n> 1Bï¼byte,å­èï¼= 8bitï¼ä½ï¼\n> \n> å­ç¬¦ï¼æ¯æè®¡ç®æºä¸­ä½¿ç¨çå­æ¯ãæ°å­ãå­åç¬¦å·\n\nASCIISç ï¼\n\nåå®¹              å ç¨å¤§å°\n1ä¸ªè±æå­ç¬¦ï¼ä¸åå¤§å°åï¼   1ä¸ªå­è\n1ä¸ªä¸­ææ±å­          2ä¸ªå­è\n1ä¸ªASCIIç         1ä¸ªå­è\n\nUTF-8ç¼ç ï¼\n\nåå®¹         å ç¨å¤§å°\n1ä¸ªè±æå­ç¬¦     1ä¸ªå­è\nè±ææ ç¹       1ä¸ªå­è\n1ä¸ªä¸­æï¼å«ç¹ä½   3ä¸ªå­è\nä¸­ææ ç¹       3ä¸ªå­è\n\nUnicodeç¼ç ï¼\n\nåå®¹         å ç¨å¤§å°\n1ä¸ªè±æå­ç¬¦     2ä¸ªå­è\nè±ææ ç¹       2ä¸ªå­è\n1ä¸ªä¸­æï¼å«ç¹ä½   2ä¸ªå­è\nä¸­ææ ç¹       2ä¸ªå­è\n\n1bitè¡¨ç¤º1ä½ 1Byteè¡¨ç¤ºä¸ä¸ªå­è\n\n1B=8b 1024B=1KB 1024KB=1M 1024M=1G\n\n----------------------------------------\n\né£æäººä¼é®ï¼çµèç32ä½å64ä½çåºå«æ¯ä»ä¹å¢ï¼\n\n * 32ä½æä½ç³»ç»åªå¯ä»¥ä½¿ç¨32ä½çcpuï¼è64ä½çCPUæ¢å¯ä»¥å®è£32ä½æä½ç³»ç»ä¹å¯ä»¥å®è£64ä½æä½ ç³»ç»ã\n\n * å¯»åè½åç®åç¹è¯´å°±æ¯æ¯æçåå­å¤§å°è½åï¼64ä½ç³»ç»æå¤å¯ä»¥æ¯è¾¾128 GBçåå­ï¼è32ä½ç³»ç»æ å¤åªå¯ä»¥æ¯æ4Gåå­ã\n\n * 32ä½æä½ç³»ç»åªå¯ä»¥å®è£ä½¿ç¨32ä½æ¶æè®¾è®¡çè½¯ä»¶ï¼è64ä½çCPUæ¢å¯ä»¥å®è£ä½¿ç¨32ä½è½¯ä»¶ä¹å¯ä»¥ å®è£ä½¿ç¨64ä½è½¯ä»¶ã\n\n * ç°å¨ççµèé½æ¯64ä½äºï¼\n\nåå°æ­£é¢ï¼æä»¬äºè§£äºè¿äºç¥è¯åï¼æä»¬èªå·±å®ä¹ä¸äºåéæ¥çï¼\n\npublic static void main(String[] args) {\n    //æ´å\n    int i1=100;\n    //é¿æ´å\n    long i2=998877665544332211L;\n    //ç­æ´å\n    short i3=235;\n    //æµ®ç¹å\n    double d1=3.5; //åç²¾åº¦\n    double d2=3;\n    float f1=(float)3.5; //åç²¾åº¦\n    float f2=3.5f; //åç²¾åº¦\n    //å¸å°ç±»å boolean trueç/falseå\n    boolean isPass=true;\n    boolean isOk=false;\n    boolean isBig=5>8;\n    if(isPass){\n    System.out.println("éè¿äº");\n    }else{\n    System.out.println("æªéè¿");\n    }\n    //åå­ç¬¦\n    char f=\'å¥³\';\n    char m=\'ç·\';\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\nJavaè¯­è¨çæ´åå¸¸æ°é»è®¤ä¸ºintåï¼æµ®ç¹æ°é»è®¤æ¯Double\n\n\n# 3ãæ´åæå±\n\nå¨æä»¬è®¡ç®æºä¸­å­å¨å¾å¤è¿å¶é®é¢ï¼åè¿å¶ï¼å«è¿å¶ï¼åå­è¿å¶ç­ç­çé®é¢ï¼ä»ä»¬æä¹è¡¨ç¤ºå¢ï¼\n\n * åè¿å¶æ´æ°ï¼å¦ï¼99, -500, 0ã\n\n * å«è¿å¶æ´æ°ï¼è¦æ±ä»¥ 0 å¼å¤´ï¼å¦ï¼015ã\n\n * åå­è¿å¶æ°ï¼è¦æ± 0x æ 0X å¼å¤´ï¼å¦ï¼0x15 ã\n\næ¼ç¤ºï¼\n\n//æ´å\nint i= 10;\nint i2= 010;\nint i3= 0x10;\nSystem.out.println(i); //10\nSystem.out.println(i2); //8\nSystem.out.println(i3); //16\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 4ãæµ®ç¹åæå±\n\nãéèé¢è¯é®ï¼é¶è¡éèä¸å¡ç¨ä»ä¹ç±»åè¡¨ç¤ºï¼ã\n\næµ®ç¹ç±»åfloat, doubleçæ°æ®ä¸éåå¨ä¸å®¹è®¸èå¥è¯¯å·®çéèè®¡ç®é¢åã\n\nå¦æéè¦è¿è¡ä¸äº§çèå¥è¯¯å·®çç²¾ç¡®æ°å­è®¡ç®ï¼éè¦ä½¿ç¨BigDecimalç±»ã\n\npublic static void main(String[] args) {\n    float f = 0.1f;\n    double d = 1.0/10;\n    System.out.println(f==d); //false\n    \n    float d1 = 2131231231f;\n    float d2 = d1+1;\n    if(d1==d2){\n        System.out.println("d1==d2");\n    }else{\n        System.out.println("d1!=d2");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\næåè¿è¡ç»æï¼\n\n> false d1==d2\n\nä¸»è¦çç±ï¼\n\nç±äºå­é¿æéï¼æµ®ç¹æ°è½å¤ç²¾ç¡®è¡¨ç¤ºçæ°æ¯æéçï¼å èä¹æ¯ç¦»æ£çãæµ®ç¹æ°ä¸è¬é½å­å¨èå¥è¯¯å·®ï¼å¾ å¤æ°å­æ æ³ç²¾ç¡®è¡¨ç¤ºï¼å¶ç»æåªè½æ¯æ¥è¿ï¼ä½ä¸ç­äºï¼äºè¿å¶æµ®ç¹æ°ä¸è½ç²¾ç¡®çè¡¨ç¤º0.1,0.01,0.001è¿æ ·10çè´æ¬¡å¹ãå¹¶ä¸æ¯ææçå°æ°é½è½å¯ä»¥ç²¾ç¡®çç¨äºè¿å¶æµ®ç¹æ°è¡¨ç¤ºã\n\nå¤§æ°å¼ï¼Java.mathä¸é¢çä¸¤ä¸ªæç¨çç±»ï¼BigIntegeråBigDecimalï¼è¿ä¸¤ä¸ªç±»å¯ä»¥å¤çä»»æé¿åº¦çæ° å¼ãBigIntegerå®ç°äºä»»æç²¾åº¦çæ´æ°è¿ç®ãBigDecimalå®ç°äºä»»æç²¾åº¦çæµ®ç¹è¿ç®ã\n\næµ®ç¹æ°ä½¿ç¨æ»ç»ï¼\n\n 1. é»è®¤æ¯double\n 2. æµ®ç¹æ°å­å¨èå¥è¯¯å·®ï¼å¾å¤æ°å­ä¸è½ç²¾ç¡®è¡¨ç¤ºãå¦æéè¦è¿è¡ä¸äº§çèå¥è¯¯å·®çç²¾ç¡®æ°å­è®¡ç®ï¼é è¦ä½¿ç¨BigDecimalç±»ã\n 3. é¿åæ¯è¾ä¸­ä½¿ç¨æµ®ç¹æ°\n\n\n# 5ãå­ç¬¦åæå±\n\nåå¼å·ç¨æ¥è¡¨ç¤ºå­ç¬¦å¸¸éãä¾å¦âAâæ¯ä¸ä¸ªå­ç¬¦ï¼å®ä¸âAâæ¯ä¸åçï¼âAâè¡¨ç¤ºä¸ä¸ªå­ç¬¦ä¸²ã\n\nchar ç±»åç¨æ¥è¡¨ç¤ºå¨Unicodeç¼ç è¡¨ä¸­çå­ç¬¦ã\n\nUnicodeç¼ç è¢«è®¾è®¡ç¨æ¥å¤çåç§è¯­è¨çæææå­ï¼å®å 2ä¸ªå­èï¼å¯åè®¸æ65536ä¸ªå­ç¬¦ï¼\n\nç§æ®ï¼2å­è=16ä½ï¼2ç16æ¬¡æ¹=65536ï¼æä»¬ç¨çExcelåæ¥å°±åªæè¿ä¹å¤è¡ï¼å¹¶ä¸æ¯æ éç\n\nãä»£ç æ¼ç¤ºï¼å­ç¬¦è½¬intçç»æã\n\npublic static void main(String[] args) {\n    char c1 = \'a\';\n    char c2 = \'ä¸­\';\n    System.out.println(c1);\n    System.out.println((int) c1); //97\n    System.out.println(c2);\n    System.out.println((int) c2); //20013\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nUnicodeå·æä»0å°65535ä¹é´çç¼ç ï¼ä»ä»¬éå¸¸ç¨ä»âu0000âå°âuFFFFâä¹é´çåå­è¿å¶å¼æ¥è¡¨ç¤ºï¼åç¼ä¸º uè¡¨ç¤ºUnicodeï¼\n\nchar c3 = \'\\u0061\';\nSystem.out.println(c3); //a\n\n\n1\n2\n\n\nJava è¯­è¨ä¸­è¿åè®¸ä½¿ç¨è½¬ä¹å­ç¬¦ ââ æ¥å°å¶åçå­ç¬¦è½¬åä¸ºå¶å®çå«ä¹ï¼æå¦ä¸å¸¸ç¨è½¬ä¹å­ç¬¦ï¼\n\n\n\nãä»¥åæä»¬å­¦çStringç±»ï¼å¶å®æ¯å­ç¬¦åºå(char sequence)ãå¨è¿éç»å¤§å®¶ä¸ä¸ªæèé¢ã\n\n//ä»£ç 1\nString sa=new String("Hello world");\nString sb=new String("Hello world");\nSystem.out.println(sa==sb); // false\n//ä»£ç 2\nString sc="Hello world";\nString sd="Hello world";\nSystem.out.println(sc==sd); // true\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nå¤§å®¶å¯ä»¥åæèä¸ä¸ºä»ä¹ï¼ä¹åæä»¬å­¦å°å¯¹è±¡çæ¶åï¼ä¼ç»å¤§å®¶è¿è¡åå­çº§å«çåæï¼é£æ¶åä½ ä¼æç¶ å¤§æï¼\n\n\n# 6ãå¸å°åæå±\n\nbooleanç±»åï¼ä¸ä½ï¼ä¸æ¯ä¸ä¸ªå­èï¼ï¼å°±æ¯0|1\n\nbooleanç±»åæä¸¤ä¸ªå¼ï¼trueåfalse,ä¸å¯ä»¥ 0 æé 0 çæ´æ°æ¿ä»£ true å false ï¼è¿ç¹åCè¯­è¨ä¸åã\n\nboolean ç±»åç¨æ¥å¤æ­é»è¾æ¡ä»¶ï¼ä¸è¬ç¨äºç¨åºæµç¨æ§å¶ã\n\nboolean flag = false;\nif(flag){\n    // trueåæ¯\n}else{\n    // falseåæ¯\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nãç¼ç è§èï¼å¾å¤æ°æç¨åºååæ¬¢è¿æ ·åã\n\nif (is == true && un == false ) {...}\n\n\n1\n\n\nåªææ°ææé£ä¹åãå¯¹äºä¸ä¸ªçç»çäººæ¥è¯´ï¼åºè¯¥ç¨å¦ä¸æ¹å¼æ¥è¡¨ç¤ºï¼\n\nif ( is && !un ) {....}\n\n\n1\n\n\nåé¢å ä¸ª ! è¡¨ç¤ºå¦å®\n\nè¿ç¹é½ä¸é¾çè§£å§ãæä»¥è¦ä¹ æ¯å»æææç==fasle å ==trueãLess is Moreï¼ï¼ ä»£ç è¦ç²¾ç®æè¯»ï¼',normalizedContent:'# æ°æ®ç±»å\n\njavaæ¯ä¸ç§å¼ºç±»åè¯­è¨ï¼æ¯ä¸ªåéé½å¿é¡»å£°æå¶ç±»åã\n\næ©å±ï¼åç§å­ç¬¦éåç¼ç è¯¦è§£(https://www.cnblogs.com/cmt/p/14553189.html)\n\n\n# 1ãå¼ºå¼±ç±»åè¯­è¨\n\n * å¼ºç±»åè¯­è¨\n   \n   å¼ºç±»åè¯­è¨æ¯ä¸ç§å¼ºå¶ç±»åå®ä¹çè¯­è¨ï¼ä¸æ¦æä¸ä¸ªåéè¢«å®ä¹ç±»åï¼å¦æä¸ç»è¿å¼ºå¶è½¬æ¢ï¼åå®æ°¸è¿å°±æ¯è¯¥æ°æ®ç±»åäºï¼å¼ºç±»åè¯­è¨åæ¬javaã.net ãpythonãc++ç­è¯­è¨ã\n   \n   ä¸¾ä¸ªä¾å­ï¼å®ä¹äºä¸ä¸ªæ´æ°ï¼å¦æä¸è¿è¡å¼ºå¶çç±»åè½¬æ¢ï¼åä¸å¯ä»¥å°è¯¥æ´æ°è½¬åä¸ºå­ç¬¦ä¸²ã\n\n * å¼±ç±»åè¯­è¨\n   \n   å¼±ç±»åè¯­è¨æ¯ä¸ç§å¼±ç±»åå®ä¹çè¯­è¨ï¼æä¸ä¸ªåéè¢«å®ä¹ç±»åï¼è¯¥åéå¯ä»¥æ ¹æ®ç¯å¢ååèªå¨è¿è¡è½¬æ¢ï¼ä¸éè¦ç»è¿æ¾æ§å¼ºå¶è½¬æ¢ãå¼±ç±»åè¯­è¨åæ¬vb ãphpãjavascriptç­è¯­è¨ã\n   \n   å¨vb scriptä¸­ï¼å¯ä»¥å°å­ç¬¦ä¸²â12âåæ´æ°3è¿è¡è¿æ¥å¾å°å­ç¬¦ä¸²â123âï¼ä¹å¯ä»¥æå®çææ´æ°123ï¼èä¸é è¦æ¾ç¤ºè½¬æ¢ãæ¯ä¸æ¯ååçéä¾¿ï¼æä»¬javaå°±ä¸æ¯è¿æ ·çã\n\n * åºå«\n   \n   æ è®ºæ¯å¼ºç±»åè¯­è¨è¿æ¯å¼±ç±»åè¯­è¨ï¼å¤å«çæ ¹æ¬æ¯æ¯å¦ä¼éæ§çè¿è¡è¯­è¨ç±»åè½¬åãå¼ºç±»åè¯­è¨å¨éåº¦ä¸ç¥éäºå¼±ç±»åè¯­è¨ï¼ä½æ¯å¼ºç±»åå®ä¹è¯­è¨å¸¦æ¥çä¸¥è°¨æ§åè½é¿åä¸å¿è¦çéè¯¯ã\n\n\n# 2ãæ°æ®ç±»å\n\njavaçæ°æ®ç±»ååä¸ºä¸¤å¤§ç±»ï¼åºæ¬ç±»åï¼primitive typeï¼åå¼ç¨ç±»å ï¼reference typeï¼\n\n\n\nãæ³¨ï¼å¼ç¨æ°æ®ç±»åçå¤§å°ç»ä¸ä¸º4ä¸ªå­èï¼è®°å½çæ¯å¶å¼ç¨å¯¹è±¡çå°åï¼ã\n\n\n\nå¦æä½ çå°è¿ä¸å å¤´ç¼çè¯ï¼æ²¡å³ç³»ï¼ä¸ç¨è®°ï¼jdkä¸­ç±»åå¯¹åºçåè£ç±»é½å¸®å¿åå¥½äºï¼æä»¬éè¦æ¶åå¯ ä»¥ç´æ¥çå°ï¼å¯ä»¥æä»¥ä¸ä»£ç æ·è´è¿è¡æ¥çç»æï¼\n\npublic static void main(string[] args) {\n    // byte\n    system.out.println("åºæ¬ç±»åï¼byte äºè¿å¶ä½æ°ï¼" + byte.size);\n    system.out.println("åè£ç±»ï¼java.lang.byte");\n    system.out.println("æå°å¼ï¼byte.min_value=" + byte.min_value);\n    system.out.println("æå¤§å¼ï¼byte.max_value=" + byte.max_value);\n    system.out.println();\n    // short\n    system.out.println("åºæ¬ç±»åï¼short äºè¿å¶ä½æ°ï¼" + short.size);\n    system.out.println("åè£ç±»ï¼java.lang.short");\n    system.out.println("æå°å¼ï¼short.min_value=" + short.min_value);\n    system.out.println("æå¤§å¼ï¼short.max_value=" + short.max_value);\n    system.out.println();\n    // int\n    system.out.println("åºæ¬ç±»åï¼int äºè¿å¶ä½æ°ï¼" + integer.size);\n    system.out.println("åè£ç±»ï¼java.lang.integer");\n    system.out.println("æå°å¼ï¼integer.min_value=" + integer.min_value);\n    system.out.println("æå¤§å¼ï¼integer.max_value=" + integer.max_value);\n    system.out.println();\n    // long\n    system.out.println("åºæ¬ç±»åï¼long äºè¿å¶ä½æ°ï¼" + long.size);\n    system.out.println("åè£ç±»ï¼java.lang.long");\n    system.out.println("æå°å¼ï¼long.min_value=" + long.min_value);\n    system.out.println("æå¤§å¼ï¼long.max_value=" + long.max_value);\n    system.out.println();\n    // float\n    system.out.println("åºæ¬ç±»åï¼float äºè¿å¶ä½æ°ï¼" + float.size);\n    system.out.println("åè£ç±»ï¼java.lang.float");\n    system.out.println("æå°å¼ï¼float.min_value=" + float.min_value);\n    system.out.println("æå¤§å¼ï¼float.max_value=" + float.max_value);\n    system.out.println();\n    // double\n    system.out.println("åºæ¬ç±»åï¼double äºè¿å¶ä½æ°ï¼" + double.size);\n    system.out.println("åè£ç±»ï¼java.lang.double");\n    system.out.println("æå°å¼ï¼double.min_value=" + double.min_value);\n    system.out.println("æå¤§å¼ï¼double.max_value=" + double.max_value);\n    system.out.println();\n    // char\n    system.out.println("åºæ¬ç±»åï¼char äºè¿å¶ä½æ°ï¼" + character.size);\n    system.out.println("åè£ç±»ï¼java.lang.character");\n    // ä»¥æ°å¼å½¢å¼èä¸æ¯å­ç¬¦å½¢å¼å°character.min_valueè¾åºå°æ§å¶å°\n    system.out.println("æå°å¼ï¼character.min_value="+ (int) character.min_value);\n    // ä»¥æ°å¼å½¢å¼èä¸æ¯å­ç¬¦å½¢å¼å°character.max_valueè¾åºå°æ§å¶å°\n    system.out.println("æå¤§å¼ï¼character.max_value="+ (int) character.max_value);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n\n\nå­èç¸å³ç¥è¯ï¼\n\n> ä½ï¼bitï¼ï¼æ¯è®¡ç®æº åé¨æ°æ® å¨å­çæå°åä½ï¼11001100æ¯ä¸ä¸ªå«ä½äºè¿å¶æ°ã\n> \n> å­èï¼byteï¼ï¼æ¯è®¡ç®æºä¸­ æ°æ®å¤ç çåºæ¬åä½ï¼ä¹ æ¯ä¸ç¨å¤§å b æ¥è¡¨ç¤ºã\n> \n> 1bï¼byte,å­èï¼= 8bitï¼ä½ï¼\n> \n> å­ç¬¦ï¼æ¯æè®¡ç®æºä¸­ä½¿ç¨çå­æ¯ãæ°å­ãå­åç¬¦å·\n\nasciisç ï¼\n\nåå®¹              å ç¨å¤§å°\n1ä¸ªè±æå­ç¬¦ï¼ä¸åå¤§å°åï¼   1ä¸ªå­è\n1ä¸ªä¸­ææ±å­          2ä¸ªå­è\n1ä¸ªasciiç         1ä¸ªå­è\n\nutf-8ç¼ç ï¼\n\nåå®¹         å ç¨å¤§å°\n1ä¸ªè±æå­ç¬¦     1ä¸ªå­è\nè±ææ ç¹       1ä¸ªå­è\n1ä¸ªä¸­æï¼å«ç¹ä½   3ä¸ªå­è\nä¸­ææ ç¹       3ä¸ªå­è\n\nunicodeç¼ç ï¼\n\nåå®¹         å ç¨å¤§å°\n1ä¸ªè±æå­ç¬¦     2ä¸ªå­è\nè±ææ ç¹       2ä¸ªå­è\n1ä¸ªä¸­æï¼å«ç¹ä½   2ä¸ªå­è\nä¸­ææ ç¹       2ä¸ªå­è\n\n1bitè¡¨ç¤º1ä½ 1byteè¡¨ç¤ºä¸ä¸ªå­è\n\n1b=8b 1024b=1kb 1024kb=1m 1024m=1g\n\n----------------------------------------\n\né£æäººä¼é®ï¼çµèç32ä½å64ä½çåºå«æ¯ä»ä¹å¢ï¼\n\n * 32ä½æä½ç³»ç»åªå¯ä»¥ä½¿ç¨32ä½çcpuï¼è64ä½çcpuæ¢å¯ä»¥å®è£32ä½æä½ç³»ç»ä¹å¯ä»¥å®è£64ä½æä½ ç³»ç»ã\n\n * å¯»åè½åç®åç¹è¯´å°±æ¯æ¯æçåå­å¤§å°è½åï¼64ä½ç³»ç»æå¤å¯ä»¥æ¯è¾¾128 gbçåå­ï¼è32ä½ç³»ç»æ å¤åªå¯ä»¥æ¯æ4gåå­ã\n\n * 32ä½æä½ç³»ç»åªå¯ä»¥å®è£ä½¿ç¨32ä½æ¶æè®¾è®¡çè½¯ä»¶ï¼è64ä½çcpuæ¢å¯ä»¥å®è£ä½¿ç¨32ä½è½¯ä»¶ä¹å¯ä»¥ å®è£ä½¿ç¨64ä½è½¯ä»¶ã\n\n * ç°å¨ççµèé½æ¯64ä½äºï¼\n\nåå°æ­£é¢ï¼æä»¬äºè§£äºè¿äºç¥è¯åï¼æä»¬èªå·±å®ä¹ä¸äºåéæ¥çï¼\n\npublic static void main(string[] args) {\n    //æ´å\n    int i1=100;\n    //é¿æ´å\n    long i2=998877665544332211l;\n    //ç­æ´å\n    short i3=235;\n    //æµ®ç¹å\n    double d1=3.5; //åç²¾åº¦\n    double d2=3;\n    float f1=(float)3.5; //åç²¾åº¦\n    float f2=3.5f; //åç²¾åº¦\n    //å¸å°ç±»å boolean trueç/falseå\n    boolean ispass=true;\n    boolean isok=false;\n    boolean isbig=5>8;\n    if(ispass){\n    system.out.println("éè¿äº");\n    }else{\n    system.out.println("æªéè¿");\n    }\n    //åå­ç¬¦\n    char f=\'å¥³\';\n    char m=\'ç·\';\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\njavaè¯­è¨çæ´åå¸¸æ°é»è®¤ä¸ºintåï¼æµ®ç¹æ°é»è®¤æ¯double\n\n\n# 3ãæ´åæå±\n\nå¨æä»¬è®¡ç®æºä¸­å­å¨å¾å¤è¿å¶é®é¢ï¼åè¿å¶ï¼å«è¿å¶ï¼åå­è¿å¶ç­ç­çé®é¢ï¼ä»ä»¬æä¹è¡¨ç¤ºå¢ï¼\n\n * åè¿å¶æ´æ°ï¼å¦ï¼99, -500, 0ã\n\n * å«è¿å¶æ´æ°ï¼è¦æ±ä»¥ 0 å¼å¤´ï¼å¦ï¼015ã\n\n * åå­è¿å¶æ°ï¼è¦æ± 0x æ 0x å¼å¤´ï¼å¦ï¼0x15 ã\n\næ¼ç¤ºï¼\n\n//æ´å\nint i= 10;\nint i2= 010;\nint i3= 0x10;\nsystem.out.println(i); //10\nsystem.out.println(i2); //8\nsystem.out.println(i3); //16\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 4ãæµ®ç¹åæå±\n\nãéèé¢è¯é®ï¼é¶è¡éèä¸å¡ç¨ä»ä¹ç±»åè¡¨ç¤ºï¼ã\n\næµ®ç¹ç±»åfloat, doubleçæ°æ®ä¸éåå¨ä¸å®¹è®¸èå¥è¯¯å·®çéèè®¡ç®é¢åã\n\nå¦æéè¦è¿è¡ä¸äº§çèå¥è¯¯å·®çç²¾ç¡®æ°å­è®¡ç®ï¼éè¦ä½¿ç¨bigdecimalç±»ã\n\npublic static void main(string[] args) {\n    float f = 0.1f;\n    double d = 1.0/10;\n    system.out.println(f==d); //false\n    \n    float d1 = 2131231231f;\n    float d2 = d1+1;\n    if(d1==d2){\n        system.out.println("d1==d2");\n    }else{\n        system.out.println("d1!=d2");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\næåè¿è¡ç»æï¼\n\n> false d1==d2\n\nä¸»è¦çç±ï¼\n\nç±äºå­é¿æéï¼æµ®ç¹æ°è½å¤ç²¾ç¡®è¡¨ç¤ºçæ°æ¯æéçï¼å èä¹æ¯ç¦»æ£çãæµ®ç¹æ°ä¸è¬é½å­å¨èå¥è¯¯å·®ï¼å¾ å¤æ°å­æ æ³ç²¾ç¡®è¡¨ç¤ºï¼å¶ç»æåªè½æ¯æ¥è¿ï¼ä½ä¸ç­äºï¼äºè¿å¶æµ®ç¹æ°ä¸è½ç²¾ç¡®çè¡¨ç¤º0.1,0.01,0.001è¿æ ·10çè´æ¬¡å¹ãå¹¶ä¸æ¯ææçå°æ°é½è½å¯ä»¥ç²¾ç¡®çç¨äºè¿å¶æµ®ç¹æ°è¡¨ç¤ºã\n\nå¤§æ°å¼ï¼java.mathä¸é¢çä¸¤ä¸ªæç¨çç±»ï¼bigintegeråbigdecimalï¼è¿ä¸¤ä¸ªç±»å¯ä»¥å¤çä»»æé¿åº¦çæ° å¼ãbigintegerå®ç°äºä»»æç²¾åº¦çæ´æ°è¿ç®ãbigdecimalå®ç°äºä»»æç²¾åº¦çæµ®ç¹è¿ç®ã\n\næµ®ç¹æ°ä½¿ç¨æ»ç»ï¼\n\n 1. é»è®¤æ¯double\n 2. æµ®ç¹æ°å­å¨èå¥è¯¯å·®ï¼å¾å¤æ°å­ä¸è½ç²¾ç¡®è¡¨ç¤ºãå¦æéè¦è¿è¡ä¸äº§çèå¥è¯¯å·®çç²¾ç¡®æ°å­è®¡ç®ï¼é è¦ä½¿ç¨bigdecimalç±»ã\n 3. é¿åæ¯è¾ä¸­ä½¿ç¨æµ®ç¹æ°\n\n\n# 5ãå­ç¬¦åæå±\n\nåå¼å·ç¨æ¥è¡¨ç¤ºå­ç¬¦å¸¸éãä¾å¦âaâæ¯ä¸ä¸ªå­ç¬¦ï¼å®ä¸âaâæ¯ä¸åçï¼âaâè¡¨ç¤ºä¸ä¸ªå­ç¬¦ä¸²ã\n\nchar ç±»åç¨æ¥è¡¨ç¤ºå¨unicodeç¼ç è¡¨ä¸­çå­ç¬¦ã\n\nunicodeç¼ç è¢«è®¾è®¡ç¨æ¥å¤çåç§è¯­è¨çæææå­ï¼å®å 2ä¸ªå­èï¼å¯åè®¸æ65536ä¸ªå­ç¬¦ï¼\n\nç§æ®ï¼2å­è=16ä½ï¼2ç16æ¬¡æ¹=65536ï¼æä»¬ç¨çexcelåæ¥å°±åªæè¿ä¹å¤è¡ï¼å¹¶ä¸æ¯æ éç\n\nãä»£ç æ¼ç¤ºï¼å­ç¬¦è½¬intçç»æã\n\npublic static void main(string[] args) {\n    char c1 = \'a\';\n    char c2 = \'ä¸­\';\n    system.out.println(c1);\n    system.out.println((int) c1); //97\n    system.out.println(c2);\n    system.out.println((int) c2); //20013\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nunicodeå·æä»0å°65535ä¹é´çç¼ç ï¼ä»ä»¬éå¸¸ç¨ä»âu0000âå°âuffffâä¹é´çåå­è¿å¶å¼æ¥è¡¨ç¤ºï¼åç¼ä¸º uè¡¨ç¤ºunicodeï¼\n\nchar c3 = \'\\u0061\';\nsystem.out.println(c3); //a\n\n\n1\n2\n\n\njava è¯­è¨ä¸­è¿åè®¸ä½¿ç¨è½¬ä¹å­ç¬¦ ââ æ¥å°å¶åçå­ç¬¦è½¬åä¸ºå¶å®çå«ä¹ï¼æå¦ä¸å¸¸ç¨è½¬ä¹å­ç¬¦ï¼\n\n\n\nãä»¥åæä»¬å­¦çstringç±»ï¼å¶å®æ¯å­ç¬¦åºå(char sequence)ãå¨è¿éç»å¤§å®¶ä¸ä¸ªæèé¢ã\n\n//ä»£ç 1\nstring sa=new string("hello world");\nstring sb=new string("hello world");\nsystem.out.println(sa==sb); // false\n//ä»£ç 2\nstring sc="hello world";\nstring sd="hello world";\nsystem.out.println(sc==sd); // true\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nå¤§å®¶å¯ä»¥åæèä¸ä¸ºä»ä¹ï¼ä¹åæä»¬å­¦å°å¯¹è±¡çæ¶åï¼ä¼ç»å¤§å®¶è¿è¡åå­çº§å«çåæï¼é£æ¶åä½ ä¼æç¶ å¤§æï¼\n\n\n# 6ãå¸å°åæå±\n\nbooleanç±»åï¼ä¸ä½ï¼ä¸æ¯ä¸ä¸ªå­èï¼ï¼å°±æ¯0|1\n\nbooleanç±»åæä¸¤ä¸ªå¼ï¼trueåfalse,ä¸å¯ä»¥ 0 æé 0 çæ´æ°æ¿ä»£ true å false ï¼è¿ç¹åcè¯­è¨ä¸åã\n\nboolean ç±»åç¨æ¥å¤æ­é»è¾æ¡ä»¶ï¼ä¸è¬ç¨äºç¨åºæµç¨æ§å¶ã\n\nboolean flag = false;\nif(flag){\n    // trueåæ¯\n}else{\n    // falseåæ¯\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nãç¼ç è§èï¼å¾å¤æ°æç¨åºååæ¬¢è¿æ ·åã\n\nif (is == true && un == false ) {...}\n\n\n1\n\n\nåªææ°ææé£ä¹åãå¯¹äºä¸ä¸ªçç»çäººæ¥è¯´ï¼åºè¯¥ç¨å¦ä¸æ¹å¼æ¥è¡¨ç¤ºï¼\n\nif ( is && !un ) {....}\n\n\n1\n\n\nåé¢å ä¸ª ! è¡¨ç¤ºå¦å®\n\nè¿ç¹é½ä¸é¾çè§£å§ãæä»¥è¦ä¹ æ¯å»æææç==fasle å ==trueãless is moreï¼ï¼ ä»£ç è¦ç²¾ç®æè¯»ï¼',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"åæºå¶",frontmatter:{title:"åæºå¶",date:"2021-04-15T22:28:45.000Z",permalink:"/java/se/basic-grammar/packet/",categories:["java","java-se"]},regularPath:"/01.Java/02.java-%E5%9F%BA%E7%A1%80/02.%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/07.%E5%8C%85%E6%9C%BA%E5%88%B6.html",relativePath:"01.Java/02.java-åºç¡/02.åºç¡è¯­æ³/07.åæºå¶.md",key:"v-4f888be4",path:"/java/se/basic-grammar/packet/",headers:[{level:2,title:"1ãé®é¢åç°",slug:"_1ãé®é¢åç°",normalizedTitle:"1ãé®é¢åç°",charIndex:10},{level:2,title:"2ãåçä½ç¨",slug:"_2ãåçä½ç¨",normalizedTitle:"2ãåçä½ç¨",charIndex:419},{level:2,title:"3ãåå»ºå",slug:"_3ãåå»ºå",normalizedTitle:"3ãåå»ºå",charIndex:1278},{level:2,title:"4ãimport å³é®å­",slug:"_4ãimport-å³é®å­",normalizedTitle:"4ãimport å³é®å­",charIndex:1613}],headersStr:"1ãé®é¢åç° 2ãåçä½ç¨ 3ãåå»ºå 4ãimport å³é®å­",content:'# åæºå¶\n\n\n# 1ãé®é¢åç°\n\nå­å¨è¿æ ·ä¸ä¸ªé®é¢ï¼å½å®ä¹äºå¤ä¸ªç±»çæ¶åï¼å¯è½ä¼åçç±»åçéå¤é®é¢ã\n\nè§£å³æ¹å¼ï¼å¨javaä¸­éç¨åæºå¶å¤çå¼åèå®ä¹çç±»åå²çªé®é¢ã\n\nå°±å¥½æ¯æä»¬å¹³æ¶çç¨çµèï¼ä¸ä¸ªæä»¶å¤¹ä¸ä¸è½å­å¨ååçæä»¶ï¼æä»¬è¦æ¯æè¿æ ·çéæ±ï¼ä½æ¯åä¸æ³æ¢ åå­ï¼æä»¬å°±å¯ä»¥èèä½¿ç¨æ°å»ºä¸ä¸ªæä»¶å¤¹æ¥å­æ¾ï¼å¨æä»¬çJavaä¸­ä¹æ¯è¿æ ·çã\n\næä»¬å¨ideaä¸­åå»ºåï¼è¾å¥ä»£ç åï¼ç¬¬ä¸è¡ideaé»è®¤ä¼æï¼package ååè·¯å¾ï¼ä¾å¦\n\n\n\n\n\nå°±è¦æ±æ­¤ä»½javaæä»¶å¿é¡»ä¿å­å¨è¿æ ·ä¸ä¸ªç®å½ä¸ï¼è¿æ ·Javaè§£éå¨æè½æ¾å°å®ã å¨IDEAä¸­è½æ­£ç¡®è¿è¡ï¼ ä½ å¯ä»¥å»Windowsä¸çå·¥ç¨ä¸­æ¥çï¼HelloWorldè¿ä¸ªæä»¶å¿æ¯å¨è¿æ ·çç®å½ç»æä¸çã\n\n3-6è¡æ¯ææ¡£æ³¨éï¼ä¾¿äºæjavaæä»¶æåæææ¡£èªå¨çææä»¶ä¿¡æ¯ï¼ä»¥åä¼éå°ï¼å¨é¿éå·´å·´å¼åæåä¸­ï¼è¦æ±æ·»å @authorçæ³¨éä¿¡æ¯ ï¼å¯ä»¥ä¸è½½ä¸ªé¿éå·´å·´å¼åæåæä»¶éç½®å¨ideé\n\n\n# 2ãåçä½ç¨\n\nä¸ºäºæ´å¥½å°ç»ç»ç±»ï¼Java æä¾äºåæºå¶ï¼ç¨äºåºå«ç±»åçå½åç©ºé´ã\n\nåçä½ç¨ï¼\n\n1ãæåè½ç¸ä¼¼æç¸å³çç±»ææ¥å£ç»ç»å¨åä¸ä¸ªåä¸­ï¼æ¹ä¾¿ç±»çæ¥æ¾åä½¿ç¨ã\n\n2ãå¦åæä»¶å¤¹ä¸æ ·ï¼åä¹éç¨äºæ å½¢ç®å½çå­å¨æ¹å¼ãåä¸ä¸ªåä¸­çç±»åå­æ¯ä¸åçï¼ä¸åçåä¸­çç±»çåå­æ¯å¯ä»¥ç¸åçï¼å½åæ¶è°ç¨ä¸¤ä¸ªä¸ååä¸­ç¸åç±»åçç±»æ¶ï¼åºè¯¥å ä¸ååå ä»¥åºå«ãå æ­¤ï¼åå¯ä»¥é¿ååå­å²çªã\n\n3ãåä¹éå®äºè®¿é®æéï¼æ¥æåè®¿é®æéçç±»æè½è®¿é®æä¸ªåä¸­çç±»ã\n\nJava ä½¿ç¨åï¼packageï¼è¿ç§æºå¶æ¯ä¸ºäºé²æ­¢å½åå²çªï¼è®¿é®æ§å¶ï¼æä¾æç´¢åå®ä½ç±»ï¼classï¼ãæ¥å£ãæä¸¾ï¼enumerationsï¼åæ³¨éï¼annotationï¼ç­ã\n\nåè¯­å¥çè¯­æ³æ ¼å¼ä¸ºï¼\n\npackage pkg1[ï¼pkg2[ï¼pkg3â¦]];\n\n\n1\n\n\nä¾å¦,ä¸ä¸ªSomething.java æä»¶å®çåå®¹:\n\npackage net.java.util;\npublic class Something{\n...\n}\n\n\n1\n2\n3\n4\n\n\né£ä¹å®çè·¯å¾åºè¯¥æ¯ net/java/util/Something.java è¿æ ·ä¿å­çã\n\npackage(å) çä½ç¨æ¯æä¸åç java ç¨åºåç±»ä¿å­ï¼æ´æ¹ä¾¿çè¢«å¶ä» java ç¨åºè°ç¨ã\n\nä¸ä¸ªåï¼packageï¼å¯ä»¥å®ä¹ä¸ºä¸ç»ç¸äºèç³»çç±»åï¼ç±»ãæ¥å£ãæä¸¾åæ³¨éï¼ï¼ä¸ºè¿äºç±»åæä¾è®¿é® ä¿æ¤åå½åç©ºé´ç®¡ççåè½ã\n\nä»¥ä¸æ¯ä¸äº Java ä¸­çåï¼\n\n * java.lang-æååºç¡çç±»\n * java.io-åå«è¾å¥è¾åºåè½çå½æ°\n\nå¼åèå¯ä»¥èªå·±æä¸ç»ç±»åæ¥å£ç­æåï¼å¹¶å®ä¹èªå·±çåãèä¸å¨å®éå¼åä¸­è¿æ ·åæ¯å¼å¾æå¡çï¼å½ä½ èªå·±å®æç±»çå®ç°ä¹åï¼å°ç¸å³çç±»åç»ï¼å¯ä»¥è®©å¶ä»çç¼ç¨èæ´å®¹æå°ç¡®å®åªäºç±»ãæ¥å£ãæä¸¾å æ³¨éç­æ¯ç¸å³çã\n\nç±äºååå»ºäºæ°çå½åç©ºé´ï¼namespaceï¼ï¼æä»¥ä¸ä¼è·å¶ä»åä¸­çä»»ä½åå­äº§çå½åå²çªãä½¿ç¨åè¿ ç§æºå¶ï¼æ´å®¹æå®ç°è®¿é®æ§å¶ï¼å¹¶ä¸è®©å®ä½ç¸å³ç±»æ´å ç®åã\n\n\n# 3ãåå»ºå\n\nåå»ºåçæ¶åï¼ä½ éè¦ä¸ºè¿ä¸ªååä¸ä¸ªåéçåå­ãä¹åï¼å¦æå¶ä»çä¸ä¸ªæºæä»¶åå«äºè¿ä¸ªåæä¾çç±»ãæ¥å£ãæä¸¾æèæ³¨éç±»åçæ¶åï¼é½å¿é¡»å°è¿ä¸ªåçå£°ææ¾å¨è¿ä¸ªæºæä»¶çå¼å¤´ã\n\nåå£°æåºè¯¥å¨æºæä»¶çç¬¬ä¸è¡ï¼æ¯ä¸ªæºæä»¶åªè½æä¸ä¸ªåå£°æï¼è¿ä¸ªæä»¶ä¸­çæ¯ä¸ªç±»åé½åºç¨äºå®ã\n\nå¦æä¸ä¸ªæºæä»¶ä¸­æ²¡æä½¿ç¨åå£°æï¼é£ä¹å¶ä¸­çç±»ï¼å½æ°ï¼æä¸¾ï¼æ³¨éç­å°è¢«æ¾å¨ä¸ä¸ªæ åçå ï¼unnamed packageï¼ä¸­ã\n\nä¸è¬å©ç¨å¬å¸åååç½®ä½ä¸ºæ¥åï¼\n\nä¾å­ï¼\n\nwww.baidu.com ååï¼com.baidu.www\n\nbbs.baidu.com ååï¼com.baidu.bbs\n\næä»¬å¹³æ¶ä¹å¯ä»¥æç§èªå·±çå¬å¸ååå»åï¼æ¯å¦ï¼com.kuangstudy.utils\n\n\n# 4ãimport å³é®å­\n\nä¸ºäºè½å¤ä½¿ç¨æä¸ä¸ªåçæåï¼æä»¬éè¦å¨ Java ç¨åºä¸­æç¡®å¯¼å¥è¯¥åãä½¿ç¨ "import" è¯­å¥å¯å®ææ­¤åè½ã\n\nå¨ java æºæä»¶ä¸­ import è¯­å¥åºä½äº package è¯­å¥ä¹åï¼ææç±»çå®ä¹ä¹åï¼å¯ä»¥æ²¡æï¼ä¹å¯ä»¥æå¤æ¡ï¼å¶è¯­æ³æ ¼å¼ä¸ºï¼\n\nimport package1[.package2â¦].(classname|*);\n\n\n1\n\n\nå¦æå¨ä¸ä¸ªåä¸­ï¼ä¸ä¸ªç±»æ³è¦ä½¿ç¨æ¬åä¸­çå¦ä¸ä¸ªç±»ï¼é£ä¹è¯¥ååå¯ä»¥çç¥ã\n\nè¦æ¯è¦ç¨å°å¶ä»åä¸çç±»ï¼å°±å¿é¡»è¦åå¯¼åï¼\n\nå¦æä¸¤ä¸ªç±»éåï¼éè¦å¯¼å¥å¯¹åºçåï¼å¦åå°±éè¦ååºå®æ´å°åï¼\n\ncom.kuang.dao.Hello hello = new com.kuang.dao.Hello()\n\n\n1\n\n\nç¨ import å³é®å­å¼å¥ï¼ä½¿ç¨ééç¬¦ "*" , å¯¼å¥ioåä¸çææç±»ï¼\n\nimport java.io.*;\n\n\n1\n\n\nãä¸å»ºè®®è¿æ ·ä½¿ç¨ï¼å ä¸ºä¼å¨å±æ«æï¼å½±åéåº¦ï¼ã\n\nä½¿ç¨ import å³é®å­å¼å¥æå®ç±»:\n\nimport com.kuang.Hello;\n\n\n1\n\n\nãæ³¨æãç±»æä»¶ä¸­å¯ä»¥åå«ä»»ææ°éç import å£°æãimport å£°æå¿é¡»å¨åå£°æä¹åï¼ç±»å£°æä¹åã\n\nãç¼ç è§èï¼æ¨èåèé¿éå·´å·´å¼åæåç¼ç¨è§èã',normalizedContent:'# åæºå¶\n\n\n# 1ãé®é¢åç°\n\nå­å¨è¿æ ·ä¸ä¸ªé®é¢ï¼å½å®ä¹äºå¤ä¸ªç±»çæ¶åï¼å¯è½ä¼åçç±»åçéå¤é®é¢ã\n\nè§£å³æ¹å¼ï¼å¨javaä¸­éç¨åæºå¶å¤çå¼åèå®ä¹çç±»åå²çªé®é¢ã\n\nå°±å¥½æ¯æä»¬å¹³æ¶çç¨çµèï¼ä¸ä¸ªæä»¶å¤¹ä¸ä¸è½å­å¨ååçæä»¶ï¼æä»¬è¦æ¯æè¿æ ·çéæ±ï¼ä½æ¯åä¸æ³æ¢ åå­ï¼æä»¬å°±å¯ä»¥èèä½¿ç¨æ°å»ºä¸ä¸ªæä»¶å¤¹æ¥å­æ¾ï¼å¨æä»¬çjavaä¸­ä¹æ¯è¿æ ·çã\n\næä»¬å¨ideaä¸­åå»ºåï¼è¾å¥ä»£ç åï¼ç¬¬ä¸è¡ideaé»è®¤ä¼æï¼package ååè·¯å¾ï¼ä¾å¦\n\n\n\n\n\nå°±è¦æ±æ­¤ä»½javaæä»¶å¿é¡»ä¿å­å¨è¿æ ·ä¸ä¸ªç®å½ä¸ï¼è¿æ ·javaè§£éå¨æè½æ¾å°å®ã å¨ideaä¸­è½æ­£ç¡®è¿è¡ï¼ ä½ å¯ä»¥å»windowsä¸çå·¥ç¨ä¸­æ¥çï¼helloworldè¿ä¸ªæä»¶å¿æ¯å¨è¿æ ·çç®å½ç»æä¸çã\n\n3-6è¡æ¯ææ¡£æ³¨éï¼ä¾¿äºæjavaæä»¶æåæææ¡£èªå¨çææä»¶ä¿¡æ¯ï¼ä»¥åä¼éå°ï¼å¨é¿éå·´å·´å¼åæåä¸­ï¼è¦æ±æ·»å @authorçæ³¨éä¿¡æ¯ ï¼å¯ä»¥ä¸è½½ä¸ªé¿éå·´å·´å¼åæåæä»¶éç½®å¨ideé\n\n\n# 2ãåçä½ç¨\n\nä¸ºäºæ´å¥½å°ç»ç»ç±»ï¼java æä¾äºåæºå¶ï¼ç¨äºåºå«ç±»åçå½åç©ºé´ã\n\nåçä½ç¨ï¼\n\n1ãæåè½ç¸ä¼¼æç¸å³çç±»ææ¥å£ç»ç»å¨åä¸ä¸ªåä¸­ï¼æ¹ä¾¿ç±»çæ¥æ¾åä½¿ç¨ã\n\n2ãå¦åæä»¶å¤¹ä¸æ ·ï¼åä¹éç¨äºæ å½¢ç®å½çå­å¨æ¹å¼ãåä¸ä¸ªåä¸­çç±»åå­æ¯ä¸åçï¼ä¸åçåä¸­çç±»çåå­æ¯å¯ä»¥ç¸åçï¼å½åæ¶è°ç¨ä¸¤ä¸ªä¸ååä¸­ç¸åç±»åçç±»æ¶ï¼åºè¯¥å ä¸ååå ä»¥åºå«ãå æ­¤ï¼åå¯ä»¥é¿ååå­å²çªã\n\n3ãåä¹éå®äºè®¿é®æéï¼æ¥æåè®¿é®æéçç±»æè½è®¿é®æä¸ªåä¸­çç±»ã\n\njava ä½¿ç¨åï¼packageï¼è¿ç§æºå¶æ¯ä¸ºäºé²æ­¢å½åå²çªï¼è®¿é®æ§å¶ï¼æä¾æç´¢åå®ä½ç±»ï¼classï¼ãæ¥å£ãæä¸¾ï¼enumerationsï¼åæ³¨éï¼annotationï¼ç­ã\n\nåè¯­å¥çè¯­æ³æ ¼å¼ä¸ºï¼\n\npackage pkg1[ï¼pkg2[ï¼pkg3â¦]];\n\n\n1\n\n\nä¾å¦,ä¸ä¸ªsomething.java æä»¶å®çåå®¹:\n\npackage net.java.util;\npublic class something{\n...\n}\n\n\n1\n2\n3\n4\n\n\né£ä¹å®çè·¯å¾åºè¯¥æ¯ net/java/util/something.java è¿æ ·ä¿å­çã\n\npackage(å) çä½ç¨æ¯æä¸åç java ç¨åºåç±»ä¿å­ï¼æ´æ¹ä¾¿çè¢«å¶ä» java ç¨åºè°ç¨ã\n\nä¸ä¸ªåï¼packageï¼å¯ä»¥å®ä¹ä¸ºä¸ç»ç¸äºèç³»çç±»åï¼ç±»ãæ¥å£ãæä¸¾åæ³¨éï¼ï¼ä¸ºè¿äºç±»åæä¾è®¿é® ä¿æ¤åå½åç©ºé´ç®¡ççåè½ã\n\nä»¥ä¸æ¯ä¸äº java ä¸­çåï¼\n\n * java.lang-æååºç¡çç±»\n * java.io-åå«è¾å¥è¾åºåè½çå½æ°\n\nå¼åèå¯ä»¥èªå·±æä¸ç»ç±»åæ¥å£ç­æåï¼å¹¶å®ä¹èªå·±çåãèä¸å¨å®éå¼åä¸­è¿æ ·åæ¯å¼å¾æå¡çï¼å½ä½ èªå·±å®æç±»çå®ç°ä¹åï¼å°ç¸å³çç±»åç»ï¼å¯ä»¥è®©å¶ä»çç¼ç¨èæ´å®¹æå°ç¡®å®åªäºç±»ãæ¥å£ãæä¸¾å æ³¨éç­æ¯ç¸å³çã\n\nç±äºååå»ºäºæ°çå½åç©ºé´ï¼namespaceï¼ï¼æä»¥ä¸ä¼è·å¶ä»åä¸­çä»»ä½åå­äº§çå½åå²çªãä½¿ç¨åè¿ ç§æºå¶ï¼æ´å®¹æå®ç°è®¿é®æ§å¶ï¼å¹¶ä¸è®©å®ä½ç¸å³ç±»æ´å ç®åã\n\n\n# 3ãåå»ºå\n\nåå»ºåçæ¶åï¼ä½ éè¦ä¸ºè¿ä¸ªååä¸ä¸ªåéçåå­ãä¹åï¼å¦æå¶ä»çä¸ä¸ªæºæä»¶åå«äºè¿ä¸ªåæä¾çç±»ãæ¥å£ãæä¸¾æèæ³¨éç±»åçæ¶åï¼é½å¿é¡»å°è¿ä¸ªåçå£°ææ¾å¨è¿ä¸ªæºæä»¶çå¼å¤´ã\n\nåå£°æåºè¯¥å¨æºæä»¶çç¬¬ä¸è¡ï¼æ¯ä¸ªæºæä»¶åªè½æä¸ä¸ªåå£°æï¼è¿ä¸ªæä»¶ä¸­çæ¯ä¸ªç±»åé½åºç¨äºå®ã\n\nå¦æä¸ä¸ªæºæä»¶ä¸­æ²¡æä½¿ç¨åå£°æï¼é£ä¹å¶ä¸­çç±»ï¼å½æ°ï¼æä¸¾ï¼æ³¨éç­å°è¢«æ¾å¨ä¸ä¸ªæ åçå ï¼unnamed packageï¼ä¸­ã\n\nä¸è¬å©ç¨å¬å¸åååç½®ä½ä¸ºæ¥åï¼\n\nä¾å­ï¼\n\nwww.baidu.com ååï¼com.baidu.www\n\nbbs.baidu.com ååï¼com.baidu.bbs\n\næä»¬å¹³æ¶ä¹å¯ä»¥æç§èªå·±çå¬å¸ååå»åï¼æ¯å¦ï¼com.kuangstudy.utils\n\n\n# 4ãimport å³é®å­\n\nä¸ºäºè½å¤ä½¿ç¨æä¸ä¸ªåçæåï¼æä»¬éè¦å¨ java ç¨åºä¸­æç¡®å¯¼å¥è¯¥åãä½¿ç¨ "import" è¯­å¥å¯å®ææ­¤åè½ã\n\nå¨ java æºæä»¶ä¸­ import è¯­å¥åºä½äº package è¯­å¥ä¹åï¼ææç±»çå®ä¹ä¹åï¼å¯ä»¥æ²¡æï¼ä¹å¯ä»¥æå¤æ¡ï¼å¶è¯­æ³æ ¼å¼ä¸ºï¼\n\nimport package1[.package2â¦].(classname|*);\n\n\n1\n\n\nå¦æå¨ä¸ä¸ªåä¸­ï¼ä¸ä¸ªç±»æ³è¦ä½¿ç¨æ¬åä¸­çå¦ä¸ä¸ªç±»ï¼é£ä¹è¯¥ååå¯ä»¥çç¥ã\n\nè¦æ¯è¦ç¨å°å¶ä»åä¸çç±»ï¼å°±å¿é¡»è¦åå¯¼åï¼\n\nå¦æä¸¤ä¸ªç±»éåï¼éè¦å¯¼å¥å¯¹åºçåï¼å¦åå°±éè¦ååºå®æ´å°åï¼\n\ncom.kuang.dao.hello hello = new com.kuang.dao.hello()\n\n\n1\n\n\nç¨ import å³é®å­å¼å¥ï¼ä½¿ç¨ééç¬¦ "*" , å¯¼å¥ioåä¸çææç±»ï¼\n\nimport java.io.*;\n\n\n1\n\n\nãä¸å»ºè®®è¿æ ·ä½¿ç¨ï¼å ä¸ºä¼å¨å±æ«æï¼å½±åéåº¦ï¼ã\n\nä½¿ç¨ import å³é®å­å¼å¥æå®ç±»:\n\nimport com.kuang.hello;\n\n\n1\n\n\nãæ³¨æãç±»æä»¶ä¸­å¯ä»¥åå«ä»»ææ°éç import å£°æãimport å£°æå¿é¡»å¨åå£°æä¹åï¼ç±»å£°æä¹åã\n\nãç¼ç è§èï¼æ¨èåèé¿éå·´å·´å¼åæåç¼ç¨è§èã',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"è¿ç®ç¬¦",frontmatter:{title:"è¿ç®ç¬¦",date:"2021-04-15T22:28:45.000Z",permalink:"/java/se/basic-grammar/operator/",categories:["java","java-se"]},regularPath:"/01.Java/02.java-%E5%9F%BA%E7%A1%80/02.%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/06.%E8%BF%90%E7%AE%97%E7%AC%A6.html",relativePath:"01.Java/02.java-åºç¡/02.åºç¡è¯­æ³/06.è¿ç®ç¬¦.md",key:"v-33e78c7a",path:"/java/se/basic-grammar/operator/",headers:[{level:2,title:"è¿ç®ç¬¦",slug:"è¿ç®ç¬¦",normalizedTitle:"è¿ç®ç¬¦",charIndex:2},{level:3,title:"1ãäºåè¿ç®ç¬¦",slug:"_1ãäºåè¿ç®ç¬¦",normalizedTitle:"1ãäºåè¿ç®ç¬¦",charIndex:201},{level:3,title:"2ãåæ¨¡è¿ç®",slug:"_2ãåæ¨¡è¿ç®",normalizedTitle:"2ãåæ¨¡è¿ç®",charIndex:1264},{level:3,title:"3ãä¸åè¿ç®ç¬¦",slug:"_3ãä¸åè¿ç®ç¬¦",normalizedTitle:"3ãä¸åè¿ç®ç¬¦",charIndex:1607},{level:3,title:"4ãé»è¾è¿ç®ç¬¦",slug:"_4ãé»è¾è¿ç®ç¬¦",normalizedTitle:"4ãé»è¾è¿ç®ç¬¦",charIndex:2026},{level:3,title:"5ãä½è¿ç®ç¬¦",slug:"_5ãä½è¿ç®ç¬¦",normalizedTitle:"5ãä½è¿ç®ç¬¦",charIndex:2781},{level:3,title:"6ãæ©å±è¿ç®ç¬¦",slug:"_6ãæ©å±è¿ç®ç¬¦",normalizedTitle:"6ãæ©å±è¿ç®ç¬¦",charIndex:3515},{level:3,title:"7ãå­ç¬¦ä¸²è¿æ¥ç¬¦",slug:"_7ãå­ç¬¦ä¸²è¿æ¥ç¬¦",normalizedTitle:"7ãå­ç¬¦ä¸²è¿æ¥ç¬¦",charIndex:3686},{level:3,title:"8ãä¸ç®æ¡ä»¶è¿ç®ç¬¦",slug:"_8ãä¸ç®æ¡ä»¶è¿ç®ç¬¦",normalizedTitle:"8ãä¸ç®æ¡ä»¶è¿ç®ç¬¦",charIndex:3883},{level:3,title:"9ãè¿ç®ç¬¦ä¼åçº§",slug:"_9ãè¿ç®ç¬¦ä¼åçº§",normalizedTitle:"9ãè¿ç®ç¬¦ä¼åçº§",charIndex:4225},{level:2,title:"",slug:"",normalizedTitle:"",charIndex:0}],headersStr:"è¿ç®ç¬¦ 1ãäºåè¿ç®ç¬¦ 2ãåæ¨¡è¿ç® 3ãä¸åè¿ç®ç¬¦ 4ãé»è¾è¿ç®ç¬¦ 5ãä½è¿ç®ç¬¦ 6ãæ©å±è¿ç®ç¬¦ 7ãå­ç¬¦ä¸²è¿æ¥ç¬¦ 8ãä¸ç®æ¡ä»¶è¿ç®ç¬¦ 9ãè¿ç®ç¬¦ä¼åçº§ ",content:'# è¿ç®ç¬¦\n\nè¿ç®ç¬¦operator\n\nJava è¯­è¨æ¯æå¦ä¸è¿ç®ç¬¦ï¼\n\n * ç®æ¯è¿ç®ç¬¦ +ï¼-ï¼*ï¼/ï¼%ï¼++ï¼--\n * èµå¼è¿ç®ç¬¦ =\n * å³ç³»è¿ç®ç¬¦ >ï¼<ï¼>=ï¼<=ï¼==ï¼!= instanceof\n * é»è¾è¿ç®ç¬¦ &&ï¼||ï¼!\n * ä½è¿ç®ç¬¦ &ï¼|ï¼^ï¼~ ï¼ >>ï¼<<ï¼>>> (äºè§£ï¼ï¼ï¼)\n * æ¡ä»¶è¿ç®ç¬¦ ï¼ï¼\n * æ©å±èµå¼è¿ç®ç¬¦ +=ï¼-=ï¼*=ï¼/=\n\n\n# 1ãäºåè¿ç®ç¬¦\n\nä¸¤ä¸ªæä½æ°ï¼æ¥ççæä»¬å°æ¶åçæ°å­¦è¿ç®ï¼\n\npublic static void main(String[] args) {\n    int a = 10;\n    int b = 20;\n    int c = 25;\n    int d = 25;\n    System.out.println("a + b = " + (a + b) );\n    System.out.println("a - b = " + (a - b) );\n    System.out.println("a * b = " + (a * b) );\n    System.out.println("b / a = " + (b / a) );\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\næ´æ°è¿ç®\n\nå¦æä¸¤ä¸ªæä½æ°æä¸ä¸ªä¸ºLong, åç»æä¹ä¸ºlong\n\næ²¡ælongæ¶ï¼ç»æä¸ºintãå³ä½¿æä½æ°å¨ä¸ºshot,byteï¼ç»æä¹æ¯int.\n\npublic static void main(String[] args) {\n    long a = 1231321311231231L;\n    int b = 1213;\n    short c = 10;\n    byte d = 8;\n\n    System.out.println(a + b + c + d); //Longç±»å\n    System.out.println(b + c + d);//Intç±»å\n    System.out.println(c + d);//Intç±»å\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\næµ®ç¹è¿ç®\n\nå¦æä¸¤ä¸ªæä½æ°æä¸ä¸ªä¸ºdouble, åç»æä¸ºdouble\n\nåªæä¸¤ä¸ªæä½æ°é½æ¯float, åç»ææä¸ºfloat\n\npublic static void main(String[] args) {\n    float a = 3.14565F;\n    double b = 3.194546464;\n    float c = 1.3123123F;\n    System.out.println(a+b); //doubleç±»å\n    System.out.println(b+c); //doubleç±»å\n    System.out.println(a+c); //floatç±»å\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nå³ç³»è¿ç®ç¬¦\n\nè¿åå¸å°å¼ï¼\n\n\n\nå¯åè èé¸æç¨\n\n\n# 2ãåæ¨¡è¿ç®\n\nå°±æ¯æä»¬å°å­¦çåä½ï¼\n\n> 5%3 ä½ 2\n\nå¶æä½æ°å¯ä»¥ä¸ºæµ®ç¹æ°,ä¸è¬ä½¿ç¨æ´æ°ãå¦ï¼5.9%3.9=2.000000004\n\nè¦ç¹ï¼\n\nè´æ°%è´æ°ï¼è´æ°ï¼\n\nè´æ°%æ­£æ°ï¼è´æ°ï¼\n\næ­£æ°%è´æ°ï¼æ­£æ°ï¼\n\npublic static void main(String[] args) {\n    System.out.println(9 % 4); //1\n    System.out.println(-9 % -4); //-1\n    System.out.println(-10 % 4); //-2\n    System.out.println(9 % -4); //1\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nãæ³¨ï¼ä¸è¬é½æ¯æ­£æ´æ°è¿ç®ï¼è¿è¡ç»æçå¤æ­ï¼ã\n\n\n# 3ãä¸åè¿ç®ç¬¦\n\nèªå¢ï¼++ï¼èªåï¼--ï¼è¿ç®ç¬¦æ¯ä¸ç§ç¹æ®çç®æ¯è¿ç®ç¬¦ï¼å¨ç®æ¯è¿ç®ç¬¦ä¸­éè¦ä¸¤ä¸ªæä½æ°æ¥è¿è¡è¿ç®ï¼ èèªå¢èªåè¿ç®ç¬¦æ¯ä¸ä¸ªæä½æ°ï¼åä¸ºåç¼ååç¼ä¸¤ç§ã\n\npublic static void main(String[] args) {\n    int a = 3;\n    int b = a++; //æ§è¡å®å,b=3ãåç»bèµå¼ï¼åèªå¢ã\n    int c = ++a; //æ§è¡å®å,c=5ãåèªå¢,åç»bèµå¼\n}\n\n\n1\n2\n3\n4\n5\n\n\næ³¨æï¼javaä¸­çä¹å¹å¤ç\n\npublic static void main(String[] args) {\n    int a = 3^2; //javaä¸­ä¸è½è¿ä¹å¤çï¼ ^æ¯å¼æç¬¦å·ã\n    double b = Math.pow(3, 2);\n}\n\n\n1\n2\n3\n4\n\n\nMathç±»æä¾äºå¾å¤ç§å­¦åå·¥ç¨è®¡ç®éè¦çæ¹æ³åå¸¸æ°ãç¹æ®çè¿ç®é½éè¦è¿ç¨å°æ¹æ³!\n\n\n# 4ãé»è¾è¿ç®ç¬¦\n\né»è¾ä¸ï¼&&å& é»è¾æï¼||å| é»è¾éï¼ï¼\n\n\n\nãæ¼ç¤ºã\n\npublic static void main(String[] args) {\n    boolean a = true;\n    boolean b = false;\n    System.out.println("a && b = " + (a&&b));\n    System.out.println("a || b = " + (a||b) );\n    System.out.println("!(a && b) = " + !(a && b));\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\né»è¾ä¸ å é»è¾æ éç¨ç­è·¯çæ¹å¼ãä»å·¦å°å³è®¡ç®ï¼å¦æç¡®å®å¼åä¸ä¼åè®¡ç®ä¸å»ãå¨ä¸¤ä¸ªæä½æ°é½ä¸º trueæ¶ï¼ç»ææä¸ºtrueï¼ä½æ¯å½å¾å°ç¬¬ä¸ä¸ªæä½ä¸ºfalseæ¶ï¼å¶ç»æå°±å¿å®æ¯falseï¼è¿æ¶åå°±ä¸ä¼åå¤æ­ ç¬¬äºä¸ªæä½äºã\n\né»è¾ä¸åªè¦æä¸ä¸ªä¸ºfalse, åç´æ¥è¿åfalse.\n\né»è¾æåªè¦æä¸ä¸ªä¸ºtrue, åç´æ¥è¿åtrue;\n\npublic static void main(String[] args){\n    int a = 5;//å®ä¹ä¸ä¸ªåéï¼\n    boolean b = (a<4)&&(a++<10);\n    System.out.println("ä½¿ç¨ç­è·¯é»è¾è¿ç®ç¬¦çç»æä¸º"+b);\n    System.out.println("açç»æä¸º"+a);\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nè§£æï¼ è¯¥ç¨åºä½¿ç¨å°äºç­è·¯é»è¾è¿ç®ç¬¦(&&)ï¼é¦åå¤æ­ a<4 çç»æä¸º falseï¼å b çç»æå¿å®æ¯ falseï¼ æä»¥ä¸åæ§è¡ç¬¬äºä¸ªæä½ a++<10 çå¤æ­ï¼æä»¥ a çå¼ä¸º 5ã\n\n\n# 5ãä½è¿ç®ç¬¦\n\nJavaå®ä¹äºä½è¿ç®ç¬¦ï¼åºç¨äºæ´æ°ç±»å(int)ï¼é¿æ´å(long)ï¼ç­æ´å(short)ï¼å­ç¬¦å(char)ï¼åå­èå (byte)ç­ç±»åãä½è¿ç®ç¬¦ä½ç¨å¨ææçä½ä¸ï¼å¹¶ä¸æä½è¿ç®ã\n\nåè®¾a = 60ï¼b = 13;å®ä»¬çäºè¿å¶æ ¼å¼è¡¨ç¤ºå°å¦ä¸ï¼\n\nA = 0011 1100\nB = 0000 1101\n-----------------\nA&B = 0000 1100\nA | B = 0011 1101\nA ^ B = 0011 0001\n~A= 1100 0011\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n\nå³ç§»ä¸ä½ç¸å½äºé¤2ååã\n\nå·¦ç§»ä¸ä½ç¸å½äºä¹2ã\n\nãå¸¸è§é¢è¯é¢ï¼int a=2*8ææ ·è¿ç®æçæå¿«ï¼ã\n\npublic static void main(String[] args) {\n    System.out.println(2 << 3);\n}\n\n\n1\n2\n3\n\n\nç¨ç§»ä½è¿ç® int a=2<<3; aå°±æ¯2ä¹ä»¥8 æåç»ææ¯16 è¿æ¯æçåå­ æææççæ¹æ³\n\nè¿ä¸ªæ¹æ³ç¡®å®é«æççãææ¥è§£éä¸ä¸ï¼ 2çäºè¿å¶æ¯10 å¨32ä½å­å¨å¨éé¢æ¯0000 0000 0000 0010 å·¦ç§»ä¸ä½ååæ 0000 0000 0001 0000 ä¹å°±æ¯16\n\nè§£éä¸ä¸ï¼å¨ç³»ç»ä¸­è¿ç®æ¯ä»¥äºè¿å¶çå½¢å¼è¿è¡çãç¸æ¯æ¥è¯´ä¿©ä¸ªäºè¿å¶æ°ç¸ä¹è¿ç®æ¯ç§»ä½è¿ç®æ¢ä¸ äºã\n\nä½æä½æ¯ç¨åºè®¾è®¡ä¸­å¯¹ä½æ¨¡å¼æä½æäºè¿å¶æ°çä¸ååäºåæä½ã å¨è®¸å¤å¤èçå¾®å¤çå¨ä¸ï¼ ä½è¿ç®æ¯å åè¿ç®ç¥å¿«ï¼ éå¸¸ä½è¿ç®æ¯ä¹é¤æ³è¿ç®è¦å¿«å¾å¤ã å¨ç°ä»£æ¶æä¸­ï¼ æåµå¹¶éå¦æ­¤ï¼ä½è¿ç®çè¿ç®éåº¦ éå¸¸ä¸å æ³è¿ç®ç¸å(ä»ç¶å¿«äºä¹æ³è¿ç®). è¯¦ç»çéè¦äºè§£è®¡ç®æºçç»æåçï¼\n\n\n# 6ãæ©å±è¿ç®ç¬¦\n\n\n\npublic static void main(String[] args) {\n    int a=10;\n    int b=20;\n    \n    a+=b; // a = a + b\n    \n    System.out.println(a+":"+b);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 7ãå­ç¬¦ä¸²è¿æ¥ç¬¦\n\nâ+â è¿ç®ç¬¦ä¸¤ä¾§çæä½æ°ä¸­åªè¦æä¸ä¸ªæ¯å­ç¬¦ä¸²(String)ç±»åï¼ç³»ç»ä¼èªå¨å°å¦ä¸ä¸ªæä½æ°è½¬æ¢ä¸ºå­ç¬¦ä¸² ç¶ååè¿è¡è¿æ¥ã\n\n//å­ç¬¦ä¸²\nString s1="Hello ä¸­æ!";\nString s2=1+""; //è½¬æ¢æString\n//int\nint c = 12;\nSystem.out.println("c=" + c);\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 8ãä¸ç®æ¡ä»¶è¿ç®ç¬¦\n\nä¸ç®æ¡ä»¶è¿ç®ç¬¦ï¼è¯­æ³æ ¼å¼ï¼\n\n> x ? y : z\n\nå¶ä¸­xä¸ºbooleanç±»åè¡¨è¾¾å¼ï¼åè®¡ç®xçå¼ï¼è¥ä¸ºtrueï¼åæ´ä¸ªä¸ç®è¿ç®çç»æä¸ºè¡¨è¾¾å¼yçå¼ï¼å¦åæ´ä¸ªè¿ç®ç»æä¸ºè¡¨è¾¾å¼zçå¼ã\n\nãæ¼ç¤ºã\n\npublic static void main(String[] args) {\n    int score = 80;\n    String type = score < 60 ? "ä¸åæ ¼" : "åæ ¼";\n    System.out.println("type= " + type);\n}\n\n\n1\n2\n3\n4\n5\n\n\nä¸åè¿ç®ç¬¦å¨çå®å¼åä¸­ååçå¸¸è§ï¼å¤§å®¶å¯ä»¥å¤ç»ä¹ ä½¿ç¨ï¼ä¹åæä»¬ä¼è®²è§£åæ¯è¯­å¥ï¼å¯ä»¥å©ç¨ä¸åè¿ç®ç¬¦åå°æ´å ç²¾ç®ä»£ç ï¼ä¾¿äºçè§£ï¼\n\n\n# 9ãè¿ç®ç¬¦ä¼åçº§\n\næä»¬å°å­¦é½å­¦è¿ï¼åå åï¼åä¹é¤ï¼æä»¥ä¼åçº§æä»¬å¹¶ä¸éçã\n\nå½å¤ä¸ªè¿ç®ç¬¦åºç°å¨ä¸ä¸ªè¡¨è¾¾å¼ä¸­ï¼è°åè°åå¢ï¼è¿å°±æ¶åå°è¿ç®ç¬¦çä¼åçº§å«çé®é¢ãå¨ä¸ä¸ªå¤è¿ç®ç¬¦çè¡¨è¾¾å¼ä¸­ï¼è¿ç®ç¬¦ä¼åçº§ä¸åä¼å¯¼è´æåå¾åºçç»æå·®å«çå¤§ã\n\nä¸è¡¨ä¸­å·ææé«ä¼åçº§çè¿ç®ç¬¦å¨çè¡¨çæä¸é¢ï¼æä½ä¼åçº§çå¨è¡¨çåºé¨ã\n\nç±»å«     æä½ç¬¦                                       å³èæ§\nåç¼     () [] . (ç¹æä½ç¬¦)                            å·¦å°å³\nä¸å     expr++ expr--                             ä»å·¦å°å³\nä¸å     ++expr --expr + - ï½ ï¼                     ä»å³å°å·¦\nä¹æ§     * /ï¼                                      å·¦å°å³\nå æ§     + -                                       å·¦å°å³\nç§»ä½     >> >>> <<                                 å·¦å°å³\nå³ç³»     > >= < <=                                 å·¦å°å³\nç¸ç­     == !=                                     å·¦å°å³\næä½ä¸    ï¼                                         å·¦å°å³\næä½å¼æ   ^                                         å·¦å°å³\næä½æ    |                                         å·¦å°å³\né»è¾ä¸    &&                                        å·¦å°å³\né»è¾æ    | |                                       å·¦å°å³\næ¡ä»¶     ï¼ï¼                                        ä»å³å°å·¦\nèµå¼     = + = - = * = / =ï¼= >> = << =ï¼= ^ = | =   ä»å³å°å·¦\néå·     ï¼                                         å·¦å°å³\n\nå¤§å®¶ä¸éè¦å»å»æçè®°ä½ï¼è¡¨è¾¾å¼éé¢ä¼åä½¿ç¨å°æ¬å·æ¥ç»ç»ï¼ï¼æ¹ä¾¿çè§£åä½¿ç¨ï¼ä¸å»ºè®®åéå¸¸åä½ çä»£ç è¿ç®ï¼\n\npublic static void main(String[] args) {\n    boolean flag = 1<4*5&&122>3||\'q\'+3<5;\n    System.out.println(flag);\n}\n\n\n1\n2\n3\n4\n\n\n\n#',normalizedContent:'# è¿ç®ç¬¦\n\nè¿ç®ç¬¦operator\n\njava è¯­è¨æ¯æå¦ä¸è¿ç®ç¬¦ï¼\n\n * ç®æ¯è¿ç®ç¬¦ +ï¼-ï¼*ï¼/ï¼%ï¼++ï¼--\n * èµå¼è¿ç®ç¬¦ =\n * å³ç³»è¿ç®ç¬¦ >ï¼<ï¼>=ï¼<=ï¼==ï¼!= instanceof\n * é»è¾è¿ç®ç¬¦ &&ï¼||ï¼!\n * ä½è¿ç®ç¬¦ &ï¼|ï¼^ï¼~ ï¼ >>ï¼<<ï¼>>> (äºè§£ï¼ï¼ï¼)\n * æ¡ä»¶è¿ç®ç¬¦ ï¼ï¼\n * æ©å±èµå¼è¿ç®ç¬¦ +=ï¼-=ï¼*=ï¼/=\n\n\n# 1ãäºåè¿ç®ç¬¦\n\nä¸¤ä¸ªæä½æ°ï¼æ¥ççæä»¬å°æ¶åçæ°å­¦è¿ç®ï¼\n\npublic static void main(string[] args) {\n    int a = 10;\n    int b = 20;\n    int c = 25;\n    int d = 25;\n    system.out.println("a + b = " + (a + b) );\n    system.out.println("a - b = " + (a - b) );\n    system.out.println("a * b = " + (a * b) );\n    system.out.println("b / a = " + (b / a) );\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\næ´æ°è¿ç®\n\nå¦æä¸¤ä¸ªæä½æ°æä¸ä¸ªä¸ºlong, åç»æä¹ä¸ºlong\n\næ²¡ælongæ¶ï¼ç»æä¸ºintãå³ä½¿æä½æ°å¨ä¸ºshot,byteï¼ç»æä¹æ¯int.\n\npublic static void main(string[] args) {\n    long a = 1231321311231231l;\n    int b = 1213;\n    short c = 10;\n    byte d = 8;\n\n    system.out.println(a + b + c + d); //longç±»å\n    system.out.println(b + c + d);//intç±»å\n    system.out.println(c + d);//intç±»å\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\næµ®ç¹è¿ç®\n\nå¦æä¸¤ä¸ªæä½æ°æä¸ä¸ªä¸ºdouble, åç»æä¸ºdouble\n\nåªæä¸¤ä¸ªæä½æ°é½æ¯float, åç»ææä¸ºfloat\n\npublic static void main(string[] args) {\n    float a = 3.14565f;\n    double b = 3.194546464;\n    float c = 1.3123123f;\n    system.out.println(a+b); //doubleç±»å\n    system.out.println(b+c); //doubleç±»å\n    system.out.println(a+c); //floatç±»å\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nå³ç³»è¿ç®ç¬¦\n\nè¿åå¸å°å¼ï¼\n\n\n\nå¯åè èé¸æç¨\n\n\n# 2ãåæ¨¡è¿ç®\n\nå°±æ¯æä»¬å°å­¦çåä½ï¼\n\n> 5%3 ä½ 2\n\nå¶æä½æ°å¯ä»¥ä¸ºæµ®ç¹æ°,ä¸è¬ä½¿ç¨æ´æ°ãå¦ï¼5.9%3.9=2.000000004\n\nè¦ç¹ï¼\n\nè´æ°%è´æ°ï¼è´æ°ï¼\n\nè´æ°%æ­£æ°ï¼è´æ°ï¼\n\næ­£æ°%è´æ°ï¼æ­£æ°ï¼\n\npublic static void main(string[] args) {\n    system.out.println(9 % 4); //1\n    system.out.println(-9 % -4); //-1\n    system.out.println(-10 % 4); //-2\n    system.out.println(9 % -4); //1\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nãæ³¨ï¼ä¸è¬é½æ¯æ­£æ´æ°è¿ç®ï¼è¿è¡ç»æçå¤æ­ï¼ã\n\n\n# 3ãä¸åè¿ç®ç¬¦\n\nèªå¢ï¼++ï¼èªåï¼--ï¼è¿ç®ç¬¦æ¯ä¸ç§ç¹æ®çç®æ¯è¿ç®ç¬¦ï¼å¨ç®æ¯è¿ç®ç¬¦ä¸­éè¦ä¸¤ä¸ªæä½æ°æ¥è¿è¡è¿ç®ï¼ èèªå¢èªåè¿ç®ç¬¦æ¯ä¸ä¸ªæä½æ°ï¼åä¸ºåç¼ååç¼ä¸¤ç§ã\n\npublic static void main(string[] args) {\n    int a = 3;\n    int b = a++; //æ§è¡å®å,b=3ãåç»bèµå¼ï¼åèªå¢ã\n    int c = ++a; //æ§è¡å®å,c=5ãåèªå¢,åç»bèµå¼\n}\n\n\n1\n2\n3\n4\n5\n\n\næ³¨æï¼javaä¸­çä¹å¹å¤ç\n\npublic static void main(string[] args) {\n    int a = 3^2; //javaä¸­ä¸è½è¿ä¹å¤çï¼ ^æ¯å¼æç¬¦å·ã\n    double b = math.pow(3, 2);\n}\n\n\n1\n2\n3\n4\n\n\nmathç±»æä¾äºå¾å¤ç§å­¦åå·¥ç¨è®¡ç®éè¦çæ¹æ³åå¸¸æ°ãç¹æ®çè¿ç®é½éè¦è¿ç¨å°æ¹æ³!\n\n\n# 4ãé»è¾è¿ç®ç¬¦\n\né»è¾ä¸ï¼&&å& é»è¾æï¼||å| é»è¾éï¼ï¼\n\n\n\nãæ¼ç¤ºã\n\npublic static void main(string[] args) {\n    boolean a = true;\n    boolean b = false;\n    system.out.println("a && b = " + (a&&b));\n    system.out.println("a || b = " + (a||b) );\n    system.out.println("!(a && b) = " + !(a && b));\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\né»è¾ä¸ å é»è¾æ éç¨ç­è·¯çæ¹å¼ãä»å·¦å°å³è®¡ç®ï¼å¦æç¡®å®å¼åä¸ä¼åè®¡ç®ä¸å»ãå¨ä¸¤ä¸ªæä½æ°é½ä¸º trueæ¶ï¼ç»ææä¸ºtrueï¼ä½æ¯å½å¾å°ç¬¬ä¸ä¸ªæä½ä¸ºfalseæ¶ï¼å¶ç»æå°±å¿å®æ¯falseï¼è¿æ¶åå°±ä¸ä¼åå¤æ­ ç¬¬äºä¸ªæä½äºã\n\né»è¾ä¸åªè¦æä¸ä¸ªä¸ºfalse, åç´æ¥è¿åfalse.\n\né»è¾æåªè¦æä¸ä¸ªä¸ºtrue, åç´æ¥è¿åtrue;\n\npublic static void main(string[] args){\n    int a = 5;//å®ä¹ä¸ä¸ªåéï¼\n    boolean b = (a<4)&&(a++<10);\n    system.out.println("ä½¿ç¨ç­è·¯é»è¾è¿ç®ç¬¦çç»æä¸º"+b);\n    system.out.println("açç»æä¸º"+a);\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nè§£æï¼ è¯¥ç¨åºä½¿ç¨å°äºç­è·¯é»è¾è¿ç®ç¬¦(&&)ï¼é¦åå¤æ­ a<4 çç»æä¸º falseï¼å b çç»æå¿å®æ¯ falseï¼ æä»¥ä¸åæ§è¡ç¬¬äºä¸ªæä½ a++<10 çå¤æ­ï¼æä»¥ a çå¼ä¸º 5ã\n\n\n# 5ãä½è¿ç®ç¬¦\n\njavaå®ä¹äºä½è¿ç®ç¬¦ï¼åºç¨äºæ´æ°ç±»å(int)ï¼é¿æ´å(long)ï¼ç­æ´å(short)ï¼å­ç¬¦å(char)ï¼åå­èå (byte)ç­ç±»åãä½è¿ç®ç¬¦ä½ç¨å¨ææçä½ä¸ï¼å¹¶ä¸æä½è¿ç®ã\n\nåè®¾a = 60ï¼b = 13;å®ä»¬çäºè¿å¶æ ¼å¼è¡¨ç¤ºå°å¦ä¸ï¼\n\na = 0011 1100\nb = 0000 1101\n-----------------\na&b = 0000 1100\na | b = 0011 1101\na ^ b = 0011 0001\n~a= 1100 0011\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n\nå³ç§»ä¸ä½ç¸å½äºé¤2ååã\n\nå·¦ç§»ä¸ä½ç¸å½äºä¹2ã\n\nãå¸¸è§é¢è¯é¢ï¼int a=2*8ææ ·è¿ç®æçæå¿«ï¼ã\n\npublic static void main(string[] args) {\n    system.out.println(2 << 3);\n}\n\n\n1\n2\n3\n\n\nç¨ç§»ä½è¿ç® int a=2<<3; aå°±æ¯2ä¹ä»¥8 æåç»ææ¯16 è¿æ¯æçåå­ æææççæ¹æ³\n\nè¿ä¸ªæ¹æ³ç¡®å®é«æççãææ¥è§£éä¸ä¸ï¼ 2çäºè¿å¶æ¯10 å¨32ä½å­å¨å¨éé¢æ¯0000 0000 0000 0010 å·¦ç§»ä¸ä½ååæ 0000 0000 0001 0000 ä¹å°±æ¯16\n\nè§£éä¸ä¸ï¼å¨ç³»ç»ä¸­è¿ç®æ¯ä»¥äºè¿å¶çå½¢å¼è¿è¡çãç¸æ¯æ¥è¯´ä¿©ä¸ªäºè¿å¶æ°ç¸ä¹è¿ç®æ¯ç§»ä½è¿ç®æ¢ä¸ äºã\n\nä½æä½æ¯ç¨åºè®¾è®¡ä¸­å¯¹ä½æ¨¡å¼æä½æäºè¿å¶æ°çä¸ååäºåæä½ã å¨è®¸å¤å¤èçå¾®å¤çå¨ä¸ï¼ ä½è¿ç®æ¯å åè¿ç®ç¥å¿«ï¼ éå¸¸ä½è¿ç®æ¯ä¹é¤æ³è¿ç®è¦å¿«å¾å¤ã å¨ç°ä»£æ¶æä¸­ï¼ æåµå¹¶éå¦æ­¤ï¼ä½è¿ç®çè¿ç®éåº¦ éå¸¸ä¸å æ³è¿ç®ç¸å(ä»ç¶å¿«äºä¹æ³è¿ç®). è¯¦ç»çéè¦äºè§£è®¡ç®æºçç»æåçï¼\n\n\n# 6ãæ©å±è¿ç®ç¬¦\n\n\n\npublic static void main(string[] args) {\n    int a=10;\n    int b=20;\n    \n    a+=b; // a = a + b\n    \n    system.out.println(a+":"+b);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 7ãå­ç¬¦ä¸²è¿æ¥ç¬¦\n\nâ+â è¿ç®ç¬¦ä¸¤ä¾§çæä½æ°ä¸­åªè¦æä¸ä¸ªæ¯å­ç¬¦ä¸²(string)ç±»åï¼ç³»ç»ä¼èªå¨å°å¦ä¸ä¸ªæä½æ°è½¬æ¢ä¸ºå­ç¬¦ä¸² ç¶ååè¿è¡è¿æ¥ã\n\n//å­ç¬¦ä¸²\nstring s1="hello ä¸­æ!";\nstring s2=1+""; //è½¬æ¢æstring\n//int\nint c = 12;\nsystem.out.println("c=" + c);\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 8ãä¸ç®æ¡ä»¶è¿ç®ç¬¦\n\nä¸ç®æ¡ä»¶è¿ç®ç¬¦ï¼è¯­æ³æ ¼å¼ï¼\n\n> x ? y : z\n\nå¶ä¸­xä¸ºbooleanç±»åè¡¨è¾¾å¼ï¼åè®¡ç®xçå¼ï¼è¥ä¸ºtrueï¼åæ´ä¸ªä¸ç®è¿ç®çç»æä¸ºè¡¨è¾¾å¼yçå¼ï¼å¦åæ´ä¸ªè¿ç®ç»æä¸ºè¡¨è¾¾å¼zçå¼ã\n\nãæ¼ç¤ºã\n\npublic static void main(string[] args) {\n    int score = 80;\n    string type = score < 60 ? "ä¸åæ ¼" : "åæ ¼";\n    system.out.println("type= " + type);\n}\n\n\n1\n2\n3\n4\n5\n\n\nä¸åè¿ç®ç¬¦å¨çå®å¼åä¸­ååçå¸¸è§ï¼å¤§å®¶å¯ä»¥å¤ç»ä¹ ä½¿ç¨ï¼ä¹åæä»¬ä¼è®²è§£åæ¯è¯­å¥ï¼å¯ä»¥å©ç¨ä¸åè¿ç®ç¬¦åå°æ´å ç²¾ç®ä»£ç ï¼ä¾¿äºçè§£ï¼\n\n\n# 9ãè¿ç®ç¬¦ä¼åçº§\n\næä»¬å°å­¦é½å­¦è¿ï¼åå åï¼åä¹é¤ï¼æä»¥ä¼åçº§æä»¬å¹¶ä¸éçã\n\nå½å¤ä¸ªè¿ç®ç¬¦åºç°å¨ä¸ä¸ªè¡¨è¾¾å¼ä¸­ï¼è°åè°åå¢ï¼è¿å°±æ¶åå°è¿ç®ç¬¦çä¼åçº§å«çé®é¢ãå¨ä¸ä¸ªå¤è¿ç®ç¬¦çè¡¨è¾¾å¼ä¸­ï¼è¿ç®ç¬¦ä¼åçº§ä¸åä¼å¯¼è´æåå¾åºçç»æå·®å«çå¤§ã\n\nä¸è¡¨ä¸­å·ææé«ä¼åçº§çè¿ç®ç¬¦å¨çè¡¨çæä¸é¢ï¼æä½ä¼åçº§çå¨è¡¨çåºé¨ã\n\nç±»å«     æä½ç¬¦                                       å³èæ§\nåç¼     () [] . (ç¹æä½ç¬¦)                            å·¦å°å³\nä¸å     expr++ expr--                             ä»å·¦å°å³\nä¸å     ++expr --expr + - ï½ ï¼                     ä»å³å°å·¦\nä¹æ§     * /ï¼                                      å·¦å°å³\nå æ§     + -                                       å·¦å°å³\nç§»ä½     >> >>> <<                                 å·¦å°å³\nå³ç³»     > >= < <=                                 å·¦å°å³\nç¸ç­     == !=                                     å·¦å°å³\næä½ä¸    ï¼                                         å·¦å°å³\næä½å¼æ   ^                                         å·¦å°å³\næä½æ    |                                         å·¦å°å³\né»è¾ä¸    &&                                        å·¦å°å³\né»è¾æ    | |                                       å·¦å°å³\næ¡ä»¶     ï¼ï¼                                        ä»å³å°å·¦\nèµå¼     = + = - = * = / =ï¼= >> = << =ï¼= ^ = | =   ä»å³å°å·¦\néå·     ï¼                                         å·¦å°å³\n\nå¤§å®¶ä¸éè¦å»å»æçè®°ä½ï¼è¡¨è¾¾å¼éé¢ä¼åä½¿ç¨å°æ¬å·æ¥ç»ç»ï¼ï¼æ¹ä¾¿çè§£åä½¿ç¨ï¼ä¸å»ºè®®åéå¸¸åä½ çä»£ç è¿ç®ï¼\n\npublic static void main(string[] args) {\n    boolean flag = 1<4*5&&122>3||\'q\'+3<5;\n    system.out.println(flag);\n}\n\n\n1\n2\n3\n4\n\n\n\n#',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"JavaDoc",frontmatter:{title:"JavaDoc",date:"2021-04-15T22:28:45.000Z",permalink:"/java/se/basic-grammar/javadoc/",categories:["java","java-se"]},regularPath:"/01.Java/02.java-%E5%9F%BA%E7%A1%80/02.%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/08.JavaDoc.html",relativePath:"01.Java/02.java-åºç¡/02.åºç¡è¯­æ³/08.JavaDoc.md",key:"v-76db6908",path:"/java/se/basic-grammar/javadoc/",headers:[{level:2,title:"JavaDoc",slug:"javadoc",normalizedTitle:"javadoc",charIndex:2},{level:3,title:"1ãç®ä»",slug:"_1ãç®ä»",normalizedTitle:"1ãç®ä»",charIndex:14},{level:3,title:"2ãå½ä»¤è¡çæDoc",slug:"_2ãå½ä»¤è¡çædoc",normalizedTitle:"2ãå½ä»¤è¡çædoc",charIndex:811}],headersStr:"JavaDoc 1ãç®ä» 2ãå½ä»¤è¡çæDoc",content:"# JavaDoc\n\n\n# 1ãç®ä»\n\nJavaDocæ¯ä¸ç§å°æ³¨éçæHTMLææ¡£çææ¯ï¼çæçHTMLææ¡£ç±»ä¼¼äºJavaçAPIï¼æè¯»ä¸æ¸æ°æäºã å¨ç®ç¥ä»ç»JavaDocåæ³ä¹åï¼åçä¸ä¸å¨Intellij Idea ä¸­å¦ä½å°ä»£ç ä¸­çæ³¨éçæHTMLææ¡£ã\n\njavadocæ¯Sunå¬å¸æä¾çä¸ä¸ªææ¯ï¼å®ä»ç¨åºæºä»£ç ä¸­æ½åç±»ãæ¹æ³ãæåç­æ³¨éå½¢æä¸ä¸ªåæºä»£ç é å¥çAPIå¸®å©ææ¡£ãä¹å°±æ¯è¯´ï¼åªè¦å¨ç¼åç¨åºæ¶ä»¥ä¸å¥ç¹å®çæ ç­¾ä½æ³¨éï¼å¨ç¨åºç¼åå®æåï¼éè¿ Javadocå°±å¯ä»¥åæ¶å½¢æç¨åºçå¼åææ¡£äºãjavadocå½ä»¤æ¯ç¨æ¥çæèªå·±APIææ¡£çï¼ä½¿ç¨æ¹å¼ï¼ä½¿ç¨ å½ä»¤è¡å¨ç®æ æä»¶æå¨ç®å½è¾å¥javadoc +æä»¶å.javaã\n\nåçä¸æ®µæ ·ä¾ä»£ç ï¼\n\n/**\n * è¿æ¯ä¸ä¸ªJavadocæµè¯ç¨åº\n *\n * @author Kuangshen\n * @version 1.0\n * @since 1.5\n */\npublic class HelloWorld {\n    public String name;\n\n    /**\n     * @param name å§å\n     * @return è¿ånameå§å\n     * @throws Exception æ å¼å¸¸æåº\n     */\n    public String function(String name) throws Exception {\n        return name;\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\nè§£éä¸ä¸ï¼ ä»¥ /* å¼å§ï¼ä»¥ / ç»æã @author ä½èå @version çæ¬å· @since ææéè¦ææ©ä½¿ç¨çjdkçæ¬ @param åæ°å @return è¿åå¼æåµ @throws å¼å¸¸æåºæåµ\n\n\n# 2ãå½ä»¤è¡çæDoc\n\næå¼cmd\n\nåæ¢å°æä»¶å½åç®å½ cd /d E:\\java\\study\\package\\test\n\nè¾å¥æä»¤ï¼ javadoc HelloWorld.java\n\nä¸è¬ä¼å ä¸-encoding UTF-8 -charset UTF-8 è§£å³GBKä¹±ç é®é¢ï¼å¨ä¸­é´æ·»å ç¼ç è®¾ç½®\n\njavadoc -encoding UTF-8 -charset UTF-8 HelloWorld.java\n\n\n1\n\n\n\n\nä¹åä¼å¤åºä¸å æä»¶ï¼æå¼index.htmlæ¥ç",normalizedContent:"# javadoc\n\n\n# 1ãç®ä»\n\njavadocæ¯ä¸ç§å°æ³¨éçæhtmlææ¡£çææ¯ï¼çæçhtmlææ¡£ç±»ä¼¼äºjavaçapiï¼æè¯»ä¸æ¸æ°æäºã å¨ç®ç¥ä»ç»javadocåæ³ä¹åï¼åçä¸ä¸å¨intellij idea ä¸­å¦ä½å°ä»£ç ä¸­çæ³¨éçæhtmlææ¡£ã\n\njavadocæ¯sunå¬å¸æä¾çä¸ä¸ªææ¯ï¼å®ä»ç¨åºæºä»£ç ä¸­æ½åç±»ãæ¹æ³ãæåç­æ³¨éå½¢æä¸ä¸ªåæºä»£ç é å¥çapiå¸®å©ææ¡£ãä¹å°±æ¯è¯´ï¼åªè¦å¨ç¼åç¨åºæ¶ä»¥ä¸å¥ç¹å®çæ ç­¾ä½æ³¨éï¼å¨ç¨åºç¼åå®æåï¼éè¿ javadocå°±å¯ä»¥åæ¶å½¢æç¨åºçå¼åææ¡£äºãjavadocå½ä»¤æ¯ç¨æ¥çæèªå·±apiææ¡£çï¼ä½¿ç¨æ¹å¼ï¼ä½¿ç¨ å½ä»¤è¡å¨ç®æ æä»¶æå¨ç®å½è¾å¥javadoc +æä»¶å.javaã\n\nåçä¸æ®µæ ·ä¾ä»£ç ï¼\n\n/**\n * è¿æ¯ä¸ä¸ªjavadocæµè¯ç¨åº\n *\n * @author kuangshen\n * @version 1.0\n * @since 1.5\n */\npublic class helloworld {\n    public string name;\n\n    /**\n     * @param name å§å\n     * @return è¿ånameå§å\n     * @throws exception æ å¼å¸¸æåº\n     */\n    public string function(string name) throws exception {\n        return name;\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\nè§£éä¸ä¸ï¼ ä»¥ /* å¼å§ï¼ä»¥ / ç»æã @author ä½èå @version çæ¬å· @since ææéè¦ææ©ä½¿ç¨çjdkçæ¬ @param åæ°å @return è¿åå¼æåµ @throws å¼å¸¸æåºæåµ\n\n\n# 2ãå½ä»¤è¡çædoc\n\næå¼cmd\n\nåæ¢å°æä»¶å½åç®å½ cd /d e:\\java\\study\\package\\test\n\nè¾å¥æä»¤ï¼ javadoc helloworld.java\n\nä¸è¬ä¼å ä¸-encoding utf-8 -charset utf-8 è§£å³gbkä¹±ç é®é¢ï¼å¨ä¸­é´æ·»å ç¼ç è®¾ç½®\n\njavadoc -encoding utf-8 -charset utf-8 helloworld.java\n\n\n1\n\n\n\n\nä¹åä¼å¤åºä¸å æä»¶ï¼æå¼index.htmlæ¥ç",charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"é¡ºåºç»æ",frontmatter:{title:"é¡ºåºç»æ",date:"2021-04-16T14:11:20.000Z",permalink:"/java/se/process-control/sequential-structure/",categories:["java","java-se","æµç¨æ§å¶"]},regularPath:"/01.Java/02.java-%E5%9F%BA%E7%A1%80/03.%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/02.%E9%A1%BA%E5%BA%8F%E7%BB%93%E6%9E%84.html",relativePath:"01.Java/02.java-åºç¡/03.æµç¨æ§å¶/02.é¡ºåºç»æ.md",key:"v-08095c97",path:"/java/se/process-control/sequential-structure/",headers:[{level:2,title:"é¡ºåºç»æ",slug:"é¡ºåºç»æ",normalizedTitle:"é¡ºåºç»æ",charIndex:18}],headersStr:"é¡ºåºç»æ",content:'# JavaSE-æµç¨æ§å¶\n\n\n# é¡ºåºç»æ\n\nJAVAçåºæ¬ç»æå°±æ¯é¡ºåºç»æï¼é¤éç¹å«ææï¼å¦åå°±æç§é¡ºåºä¸å¥ä¸å¥æ§è¡ã\n\né¡ºåºç»ææ¯æç®åçç®æ³ç»æã\n\n\n\nè¯­å¥ä¸è¯­å¥ä¹é´ï¼æ¡ä¸æ¡ä¹é´æ¯æä»ä¸å°ä¸çé¡ºåºè¿è¡çï¼å®æ¯ç±è¥å¹²ä¸ªä¾æ¬¡æ§è¡çå¤çæ­¥éª¤ç»æçï¼ å®æ¯ä»»ä½ä¸ä¸ªç®æ³é½ç¦»ä¸å¼çä¸ç§åºæ¬ç®æ³ç»æã\n\né¡ºåºç»æå¨ç¨åºæµç¨å¾ä¸­çä½ç°å°±æ¯ç¨æµç¨çº¿å°ç¨åºæ¡èªä¸èå°è¿æ¥èµ·æ¥ï¼æé¡ºåºæ§è¡ç®æ³æ­¥éª¤ã\n\npublic static void main(String[] args) {\n    System.out.println("Hello1");\n    System.out.println("Hello2");\n    System.out.println("Hello3");\n    System.out.println("Hello4");\n    System.out.println("Hello5");\n}\n//æç§èªä¸èä¸çé¡ºåºæ§è¡ï¼ä¾æ¬¡è¾åºã\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n',normalizedContent:'# javase-æµç¨æ§å¶\n\n\n# é¡ºåºç»æ\n\njavaçåºæ¬ç»æå°±æ¯é¡ºåºç»æï¼é¤éç¹å«ææï¼å¦åå°±æç§é¡ºåºä¸å¥ä¸å¥æ§è¡ã\n\né¡ºåºç»ææ¯æç®åçç®æ³ç»æã\n\n\n\nè¯­å¥ä¸è¯­å¥ä¹é´ï¼æ¡ä¸æ¡ä¹é´æ¯æä»ä¸å°ä¸çé¡ºåºè¿è¡çï¼å®æ¯ç±è¥å¹²ä¸ªä¾æ¬¡æ§è¡çå¤çæ­¥éª¤ç»æçï¼ å®æ¯ä»»ä½ä¸ä¸ªç®æ³é½ç¦»ä¸å¼çä¸ç§åºæ¬ç®æ³ç»æã\n\né¡ºåºç»æå¨ç¨åºæµç¨å¾ä¸­çä½ç°å°±æ¯ç¨æµç¨çº¿å°ç¨åºæ¡èªä¸èå°è¿æ¥èµ·æ¥ï¼æé¡ºåºæ§è¡ç®æ³æ­¥éª¤ã\n\npublic static void main(string[] args) {\n    system.out.println("hello1");\n    system.out.println("hello2");\n    system.out.println("hello3");\n    system.out.println("hello4");\n    system.out.println("hello5");\n}\n//æç§èªä¸èä¸çé¡ºåºæ§è¡ï¼ä¾æ¬¡è¾åºã\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"éæ©ç»æ",frontmatter:{title:"éæ©ç»æ",date:"2021-04-15T22:45:56.000Z",permalink:"/java/se/process-control/case-structure/",categories:["java","java-se"]},regularPath:"/01.Java/02.java-%E5%9F%BA%E7%A1%80/03.%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/03.%E9%80%89%E6%8B%A9%E7%BB%93%E6%9E%84.html",relativePath:"01.Java/02.java-åºç¡/03.æµç¨æ§å¶/03.éæ©ç»æ.md",key:"v-1c2c99c8",path:"/java/se/process-control/case-structure/",headers:[{level:2,title:"éæ©ç»æ",slug:"éæ©ç»æ",normalizedTitle:"éæ©ç»æ",charIndex:18},{level:3,title:"1ãifåéæ©ç»æ",slug:"_1ãifåéæ©ç»æ",normalizedTitle:"1ãifåéæ©ç»æ",charIndex:27},{level:3,title:"2ãifåéæ©ç»æ",slug:"_2ãifåéæ©ç»æ",normalizedTitle:"2ãifåéæ©ç»æ",charIndex:627},{level:3,title:"3ãifå¤éæ©ç»æ",slug:"_3ãifå¤éæ©ç»æ",normalizedTitle:"3ãifå¤éæ©ç»æ",charIndex:1236},{level:3,title:"4ãåµå¥çifç»æ",slug:"_4ãåµå¥çifç»æ",normalizedTitle:"4ãåµå¥çifç»æ",charIndex:2657},{level:3,title:"5ãswitchå¤éæ©ç»æ",slug:"_5ãswitchå¤éæ©ç»æ",normalizedTitle:"5ãswitchå¤éæ©ç»æ",charIndex:3207}],headersStr:"éæ©ç»æ 1ãifåéæ©ç»æ 2ãifåéæ©ç»æ 3ãifå¤éæ©ç»æ 4ãåµå¥çifç»æ 5ãswitchå¤éæ©ç»æ",content:'# JavaSE-æµç¨æ§å¶\n\n\n# éæ©ç»æ\n\n\n# 1ãifåéæ©ç»æ\n\næä»¬å¾å¤æ¶åéè¦å»å¤æ­ä¸ä¸ªä¸è¥¿æ¯å¦å¯è¡ï¼ç¶åæä»¬æå»æ§è¡ï¼è¿æ ·ä¸ä¸ªè¿ç¨å¨ç¨åºä¸­ç¨ifè¯­å¥æ¥è¡¨ ç¤ºï¼\n\n\n\nif(å¸å°è¡¨è¾¾å¼){\n    //å¦æå¸å°è¡¨è¾¾å¼ä¸ºtrueå°æ§è¡çè¯­å¥\n}\n\n\n1\n2\n3\n\n\næä¹ï¼ifè¯­å¥å¯¹æ¡ä»¶è¡¨è¾¾å¼è¿è¡ä¸æ¬¡æµè¯ï¼è¥æµè¯ä¸ºçï¼åæ§è¡ä¸é¢çè¯­å¥ï¼å¦åè·³è¿è¯¥è¯­å¥ã\n\nãæ¼ç¤ºãæ¯å¦æä»¬æ¥æ¥æ¶ä¸ä¸ªç¨æ·è¾å¥ï¼å¤æ­è¾å¥çæ¯å¦ä¸ºHelloå­ç¬¦ä¸²ï¼\n\npublic static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    //æ¥æ¶ç¨æ·è¾å¥\n    System.out.print("è¯·è¾å¥åå®¹ï¼");\n    String s = scanner.nextLine();\n    \n    if (s.equals("Hello")){\n        System.out.println("è¾å¥çæ¯ï¼"+s);\n    }\n    \n    System.out.println("End");\n    scanner.close();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nequalsæ¹æ³æ¯ç¨æ¥è¿è¡å­ç¬¦ä¸²çæ¯è¾çï¼ä¹åä¼è¯¦è§£ï¼è¿éå¤§å®¶åªéè¦ç¥éä»æ¯ç¨æ¥æ¯è¾å­ç¬¦ä¸²æ¯å¦ ä¸è´çå³å¯ï¼å==æ¯æåºå«çã\n\n\n# 2ãifåéæ©ç»æ\n\né£ç°å¨æä¸ªéæ±ï¼å¬å¸è¦æ¶è´­ä¸ä¸ªè½¯ä»¶ï¼æåäºï¼ç»äººæ¯ä»100ä¸åï¼å¤±è´¥äºï¼èªå·±æ¾äººå¼åãè¿æ ·ç éæ±ç¨ä¸ä¸ªifå°±æä¸å®äºï¼æä»¬éè¦æä¸¤ä¸ªå¤æ­ï¼éè¦ä¸ä¸ªåéæ©ç»æï¼æä»¥å°±æäºif-elseç»æã\n\n\n\nif(å¸å°è¡¨è¾¾å¼){\n    //å¦æå¸å°è¡¨è¾¾å¼çå¼ä¸ºtrue\n    }else{\n    //å¦æå¸å°è¡¨è¾¾å¼çå¼ä¸ºfalse\n}\n\n\n1\n2\n3\n4\n5\n\n\næä¹ï¼å½æ¡ä»¶è¡¨è¾¾å¼ä¸ºçæ¶ï¼æ§è¡è¯­å¥å1ï¼å¦åï¼æ§è¡è¯­å¥å2ãä¹å°±æ¯elseé¨åã\n\nãæ¼ç¤ºãæä»¬æ¥åä¸ä¸ªç¤ºä¾ï¼èè¯åæ°å¤§äº60å°±æ¯åæ ¼ï¼å°äº60åå°±ä¸åæ ¼ã\n\npublic static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    \n    System.out.print("è¯·è¾å¥æç»©ï¼");\n    int score = scanner.nextInt();\n    \n    if (score>60){\n        System.out.println("åæ ¼");\n    }else {\n        System.out.println("ä¸åæ ¼");\n    }\n    \n    scanner.close();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 3ãifå¤éæ©ç»æ\n\næä»¬åç°ä¸é¢çç¤ºä¾ä¸ç¬¦åå®éæåµï¼çå®çæåµè¿å¯è½å­å¨ABCDï¼å­å¨åºé´å¤çº§å¤æ­ãæ¯å¦90-100 å°±æ¯Aï¼80-90 å°±æ¯B.....ï¼å¨çæ´»ä¸­æä»¬å¾å¤æ¶åçéæ©ä¹ä¸ä»ä»åªæä¸¤ä¸ªï¼æä»¥æä»¬éè¦ä¸ä¸ªå¤é æ©ç»ææ¥å¤çè¿ç±»é®é¢ï¼\n\n\n\nif(å¸å°è¡¨è¾¾å¼ 1){\n    //å¦æå¸å°è¡¨è¾¾å¼ 1çå¼ä¸ºtrueæ§è¡ä»£ç \n}else if(å¸å°è¡¨è¾¾å¼ 2){\n    //å¦æå¸å°è¡¨è¾¾å¼ 2çå¼ä¸ºtrueæ§è¡ä»£ç \n}else if(å¸å°è¡¨è¾¾å¼ 3){\n    //å¦æå¸å°è¡¨è¾¾å¼ 3çå¼ä¸ºtrueæ§è¡ä»£ç \n}else {\n    //å¦æä»¥ä¸å¸å°è¡¨è¾¾å¼é½ä¸ä¸ºtrueæ§è¡ä»£ç \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nif è¯­å¥åé¢å¯ä»¥è· else ifâ¦else è¯­å¥ï¼è¿ç§è¯­å¥å¯ä»¥æ£æµå°å¤ç§å¯è½çæåµã\n\nä½¿ç¨ ifï¼else ifï¼else è¯­å¥çæ¶åï¼éè¦æ³¨æä¸é¢å ç¹ï¼\n\n * if è¯­å¥è³å¤æ 1 ä¸ª else è¯­å¥ï¼else è¯­å¥å¨ææç else if è¯­å¥ä¹åã\n * if è¯­å¥å¯ä»¥æè¥å¹²ä¸ª else if è¯­å¥ï¼å®ä»¬å¿é¡»å¨ else è¯­å¥ä¹åã\n * ä¸æ¦å¶ä¸­ä¸ä¸ª else if è¯­å¥æ£æµä¸º trueï¼å¶ä»ç else if ä»¥å else è¯­å¥é½å°è·³è¿æ§è¡ã\n\nãæ¼ç¤ºãæä»¬æ¥æ¹é ä¸ä¸ä¸é¢çæç»©æ¡ä¾ï¼å­¦æ ¡æ ¹æ®åæ°åºé´åä¸ºABCDåä¸ªç­çº§ï¼\n\npublic static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    \n    System.out.print("è¯·è¾å¥æç»©ï¼");\n    int score = scanner.nextInt();\n    \n    if (score==100){\n        System.out.println("æ­åæ»¡å");\n    }else if (score<100 && score >=90){\n        System.out.println("Açº§");\n    }else if (score<90 && score >=80){\n        System.out.println("Bçº§");\n    }else if (score<80 && score >=70){\n        System.out.println("Cçº§");\n    }else if (score<70 && score >=60){\n        System.out.println("Dçº§");\n    }else if (score<60 && score >=0){\n        System.out.println("ä¸åæ ¼ï¼");\n    }else {\n        System.out.println("æç»©è¾å¥ä¸åæ³ï¼");\n    }\n    scanner.close();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\næä»¬å¹³æ¶åç¨åºä¸å®è¦ä¸¥è°¨ï¼ä¸ç¶ä¹åä¿®è¡¥Bugæ¯ä¸ä»¶ååå¤´ç¼çäºæï¼è¦å¨ç¼åä»£ç çæ¶åå°±æææçé®é¢é½æèæ¸é¤ï¼åå»ä¸ä¸ªä¸ªè§£å³ï¼è¿ææ¯ä¸ä¸ªä¼ç§çç¨åºååºè¯¥åçäºæï¼å¤æèï¼å°ç¯éï¼\n\n\n# 4ãåµå¥çifç»æ\n\nä½¿ç¨åµå¥ç ifâ¦else è¯­å¥æ¯åæ³çãä¹å°±æ¯è¯´ä½ å¯ä»¥å¨å¦ä¸ä¸ª if æè else if è¯­å¥ä¸­ä½¿ç¨ if æè else if è¯­ å¥ãä½ å¯ä»¥å if è¯­å¥ä¸æ ·åµå¥ else if...elseã\n\nif(å¸å°è¡¨è¾¾å¼ 1){\n    ////å¦æå¸å°è¡¨è¾¾å¼ 1çå¼ä¸ºtrueæ§è¡ä»£ç \n    if(å¸å°è¡¨è¾¾å¼ 2){\n        ////å¦æå¸å°è¡¨è¾¾å¼ 2çå¼ä¸ºtrueæ§è¡ä»£ç \n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nææ¶åæä»¬å¨è§£å³æäºé®é¢çæ¶åï¼éè¦ç¼©å°æ¥æ¾èå´ï¼éè¦æå±çº§æ¡ä»¶å¤æ­ï¼æé«æçãæ¯å¦ï¼æä»¬éè¦å¯»æ¾ä¸ä¸ªæ°ï¼å¨1-100ä¹é´ï¼æä»¬ä¸ç¥éè¿ä¸ªæ°æ¯å¤å°çæåµä¸ï¼æä»¬æç¬¨çæ¹å¼å°±æ¯ä¸ä¸ªä¸ªå»å¯¹æ¯ï¼çä»å°åºæ¯å¤å°ï¼è¿ä¼è±æä½ å¤§éçæ¶é´ï¼å¦æå¯ä»¥å©ç¨ifåµå¥æ¯è¾ï¼æä»¬å¯ä»¥èçå¤§éçææ¬ï¼å¦æä½ æè¿ä¸ªææ³ï¼ä½ å·²ç»å¾ä¼ç§äºï¼å ä¸ºå¾å¤å¤§éçå·¥ç¨å¸å°±å¨å¯»æ¾è½å¤å¿«éæé«ï¼æ¥æ¾åæç´¢æççæ¹å¼ãä¸ºæ­¤æåºäºä¸ç³»åçæ¦å¿µï¼æä»¬çæ´»å¨å¤§æ°æ®æ¶ä»£ï¼æä»¬éè¦ä¸æ­çå»æèå¦ä½æé«æçï¼æè®¸åªä¸å¤©ï¼ä½ ä»¬æ³åºä¸ä¸ªç®æ³ï¼è½å¤å°åææ°æ®æçæé«ï¼æè®¸ä½ å°±å¯ä»¥å¨åå²çé¿æ²³ä¸­çä¸ä¸äºçè¿¹äºï¼å½ç¶è¿æ¯åè¯ã\n\nãè®°ä½ä¸ç¹å°±å¥½ï¼ææçæµç¨æ§å¶è¯­å¥é½å¯ä»¥äºç¸åµå¥ï¼äºä¸å½±åï¼ã\n\n\n# 5ãswitchå¤éæ©ç»æ\n\nå¤éæ©ç»æè¿æä¸ä¸ªå®ç°æ¹å¼å°±æ¯switch case è¯­å¥ã\n\nswitch case è¯­å¥å¤æ­ä¸ä¸ªåéä¸ä¸ç³»åå¼ä¸­æä¸ªå¼æ¯å¦ç¸ç­ï¼æ¯ä¸ªå¼ç§°ä¸ºä¸ä¸ªåæ¯ã\n\nswitch(expression){\n    case value :\n        //è¯­å¥\n        break; //å¯é\n    case value :\n        //è¯­å¥\n        break; //å¯é\n    //ä½ å¯ä»¥æä»»ææ°éçcaseè¯­å¥\n    default : //å¯é\n        //è¯­å¥\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nswitch case è¯­å¥æå¦ä¸è§åï¼\n\n * switch è¯­å¥ä¸­çåéç±»åå¯ä»¥æ¯ï¼ byteãshortãint æè charãä» Java SE 7 å¼å§ï¼switch æ¯æå­ç¬¦ä¸² String ç±»åäºï¼åæ¶ case æ ç­¾å¿é¡»ä¸ºå­ç¬¦ä¸²å¸¸éæå­é¢éã\n * switch è¯­å¥å¯ä»¥æ¥æå¤ä¸ª case è¯­å¥ãæ¯ä¸ª case åé¢è·ä¸ä¸ªè¦æ¯è¾çå¼ååå·ã\n * case è¯­å¥ä¸­çå¼çæ°æ®ç±»åå¿é¡»ä¸åéçæ°æ®ç±»åç¸åï¼èä¸åªè½æ¯å¸¸éæèå­é¢å¸¸éã\n * å½åéçå¼ä¸ case è¯­å¥çå¼ç¸ç­æ¶ï¼é£ä¹ case è¯­å¥ä¹åçè¯­å¥å¼å§æ§è¡ï¼ç´å° break è¯­å¥åºç°æä¼è·³åº switch è¯­å¥ã\n * å½éå° break è¯­å¥æ¶ï¼switch è¯­å¥ç»æ­¢ãç¨åºè·³è½¬å° switch è¯­å¥åé¢çè¯­å¥æ§è¡ãcase è¯­å¥ä¸å¿é¡»è¦åå« break è¯­å¥ãå¦ææ²¡æ break è¯­å¥åºç°ï¼ç¨åºä¼ç»§ç»­æ§è¡ä¸ä¸æ¡ case è¯­å¥ï¼ç´å°åºç° break è¯­å¥ã\n * switch è¯­å¥å¯ä»¥åå«ä¸ä¸ª default åæ¯ï¼è¯¥åæ¯ä¸è¬æ¯ switch è¯­å¥çæåä¸ä¸ªåæ¯ï¼å¯ä»¥å¨ä»»ä½ä½ç½®ï¼ä½å»ºè®®å¨æåä¸ä¸ªï¼ãdefault å¨æ²¡æ case è¯­å¥çå¼ååéå¼ç¸ç­çæ¶åæ§è¡ãdefault åæ¯ä¸éè¦ break è¯­å¥ã\n\nswitch case æ§è¡æ¶ï¼ä¸å®ä¼åè¿è¡å¹éï¼å¹éæåè¿åå½å case çå¼ï¼åæ ¹æ®æ¯å¦æ breakï¼å¤æ­æ¯å¦ç»§ç»­è¾åºï¼ææ¯è·³åºå¤æ­ã\n\npublic static void main(String[] args) {\n    char grade = \'C\';\n    switch (grade) {\n        case \'A\':\n            System.out.println("ä¼ç§");\n            break;\n        case \'B\':\n            System.out.println("ç§");\n            break;\n        case \'C\':\n            System.out.println("è¯å¥½");\n            break;\n        case \'D\':\n            System.out.println("åæ ¼");\n            break;\n        case \'F\':\n            System.out.println("ä½ éè¦ååªååªå");\n            break;\n        default:\n            System.out.println("æªç¥ç­çº§");\n    }\n    System.out.println("ä½ çç­çº§æ¯ " + grade);\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\nå¦æ case è¯­å¥åä¸­æ²¡æ break è¯­å¥æ¶ï¼å¹éæååï¼ä»å½å case å¼å§ï¼åç»­ææ case çå¼é½ä¼è¾ åºãå¦æåç»­ç case è¯­å¥åæ break è¯­å¥åä¼è·³åºå¤æ­ã\n\npublic static void main(String[] args) {\n    int i = 1;\n    switch (i) {\n        case 0:\n            System.out.println("0");\n        case 1:\n            System.out.println("1");\n        case 2:\n            System.out.println("2");\n        case 3:\n            System.out.println("3");\n            break;\n        default:\n            System.out.println("default");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nè¾åºï¼1ï¼2ï¼3ã\n\nãJDK7å¢å äºå­ç¬¦ä¸²è¡¨è¾¾å¼ã\n\ncase åè¾¹çå¯ä»¥æ¯å­ç¬¦ä¸²çè¡¨è¾¾å½¢å¼\n\npublic static void main(String[] args) {\n    String name = "ä½ å¥½";\n\n    switch (name) {\n        //JDK7çæ°ç¹æ§ï¼è¡¨è¾¾å¼ç»æå¯ä»¥æ¯å­ç¬¦ä¸²ï¼ï¼ï¼\n        case "ä½ å¥½":\n            System.out.println("ä½ å¥½");\n            break;\n        case "æå¥½":\n            System.out.println("æå¥½");\n            break;\n        default:\n            System.out.println("å¥é½ä¸å¥½");\n            break;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n',normalizedContent:'# javase-æµç¨æ§å¶\n\n\n# éæ©ç»æ\n\n\n# 1ãifåéæ©ç»æ\n\næä»¬å¾å¤æ¶åéè¦å»å¤æ­ä¸ä¸ªä¸è¥¿æ¯å¦å¯è¡ï¼ç¶åæä»¬æå»æ§è¡ï¼è¿æ ·ä¸ä¸ªè¿ç¨å¨ç¨åºä¸­ç¨ifè¯­å¥æ¥è¡¨ ç¤ºï¼\n\n\n\nif(å¸å°è¡¨è¾¾å¼){\n    //å¦æå¸å°è¡¨è¾¾å¼ä¸ºtrueå°æ§è¡çè¯­å¥\n}\n\n\n1\n2\n3\n\n\næä¹ï¼ifè¯­å¥å¯¹æ¡ä»¶è¡¨è¾¾å¼è¿è¡ä¸æ¬¡æµè¯ï¼è¥æµè¯ä¸ºçï¼åæ§è¡ä¸é¢çè¯­å¥ï¼å¦åè·³è¿è¯¥è¯­å¥ã\n\nãæ¼ç¤ºãæ¯å¦æä»¬æ¥æ¥æ¶ä¸ä¸ªç¨æ·è¾å¥ï¼å¤æ­è¾å¥çæ¯å¦ä¸ºhelloå­ç¬¦ä¸²ï¼\n\npublic static void main(string[] args) {\n    scanner scanner = new scanner(system.in);\n    //æ¥æ¶ç¨æ·è¾å¥\n    system.out.print("è¯·è¾å¥åå®¹ï¼");\n    string s = scanner.nextline();\n    \n    if (s.equals("hello")){\n        system.out.println("è¾å¥çæ¯ï¼"+s);\n    }\n    \n    system.out.println("end");\n    scanner.close();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nequalsæ¹æ³æ¯ç¨æ¥è¿è¡å­ç¬¦ä¸²çæ¯è¾çï¼ä¹åä¼è¯¦è§£ï¼è¿éå¤§å®¶åªéè¦ç¥éä»æ¯ç¨æ¥æ¯è¾å­ç¬¦ä¸²æ¯å¦ ä¸è´çå³å¯ï¼å==æ¯æåºå«çã\n\n\n# 2ãifåéæ©ç»æ\n\né£ç°å¨æä¸ªéæ±ï¼å¬å¸è¦æ¶è´­ä¸ä¸ªè½¯ä»¶ï¼æåäºï¼ç»äººæ¯ä»100ä¸åï¼å¤±è´¥äºï¼èªå·±æ¾äººå¼åãè¿æ ·ç éæ±ç¨ä¸ä¸ªifå°±æä¸å®äºï¼æä»¬éè¦æä¸¤ä¸ªå¤æ­ï¼éè¦ä¸ä¸ªåéæ©ç»æï¼æä»¥å°±æäºif-elseç»æã\n\n\n\nif(å¸å°è¡¨è¾¾å¼){\n    //å¦æå¸å°è¡¨è¾¾å¼çå¼ä¸ºtrue\n    }else{\n    //å¦æå¸å°è¡¨è¾¾å¼çå¼ä¸ºfalse\n}\n\n\n1\n2\n3\n4\n5\n\n\næä¹ï¼å½æ¡ä»¶è¡¨è¾¾å¼ä¸ºçæ¶ï¼æ§è¡è¯­å¥å1ï¼å¦åï¼æ§è¡è¯­å¥å2ãä¹å°±æ¯elseé¨åã\n\nãæ¼ç¤ºãæä»¬æ¥åä¸ä¸ªç¤ºä¾ï¼èè¯åæ°å¤§äº60å°±æ¯åæ ¼ï¼å°äº60åå°±ä¸åæ ¼ã\n\npublic static void main(string[] args) {\n    scanner scanner = new scanner(system.in);\n    \n    system.out.print("è¯·è¾å¥æç»©ï¼");\n    int score = scanner.nextint();\n    \n    if (score>60){\n        system.out.println("åæ ¼");\n    }else {\n        system.out.println("ä¸åæ ¼");\n    }\n    \n    scanner.close();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 3ãifå¤éæ©ç»æ\n\næä»¬åç°ä¸é¢çç¤ºä¾ä¸ç¬¦åå®éæåµï¼çå®çæåµè¿å¯è½å­å¨abcdï¼å­å¨åºé´å¤çº§å¤æ­ãæ¯å¦90-100 å°±æ¯aï¼80-90 å°±æ¯b.....ï¼å¨çæ´»ä¸­æä»¬å¾å¤æ¶åçéæ©ä¹ä¸ä»ä»åªæä¸¤ä¸ªï¼æä»¥æä»¬éè¦ä¸ä¸ªå¤é æ©ç»ææ¥å¤çè¿ç±»é®é¢ï¼\n\n\n\nif(å¸å°è¡¨è¾¾å¼ 1){\n    //å¦æå¸å°è¡¨è¾¾å¼ 1çå¼ä¸ºtrueæ§è¡ä»£ç \n}else if(å¸å°è¡¨è¾¾å¼ 2){\n    //å¦æå¸å°è¡¨è¾¾å¼ 2çå¼ä¸ºtrueæ§è¡ä»£ç \n}else if(å¸å°è¡¨è¾¾å¼ 3){\n    //å¦æå¸å°è¡¨è¾¾å¼ 3çå¼ä¸ºtrueæ§è¡ä»£ç \n}else {\n    //å¦æä»¥ä¸å¸å°è¡¨è¾¾å¼é½ä¸ä¸ºtrueæ§è¡ä»£ç \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nif è¯­å¥åé¢å¯ä»¥è· else ifâ¦else è¯­å¥ï¼è¿ç§è¯­å¥å¯ä»¥æ£æµå°å¤ç§å¯è½çæåµã\n\nä½¿ç¨ ifï¼else ifï¼else è¯­å¥çæ¶åï¼éè¦æ³¨æä¸é¢å ç¹ï¼\n\n * if è¯­å¥è³å¤æ 1 ä¸ª else è¯­å¥ï¼else è¯­å¥å¨ææç else if è¯­å¥ä¹åã\n * if è¯­å¥å¯ä»¥æè¥å¹²ä¸ª else if è¯­å¥ï¼å®ä»¬å¿é¡»å¨ else è¯­å¥ä¹åã\n * ä¸æ¦å¶ä¸­ä¸ä¸ª else if è¯­å¥æ£æµä¸º trueï¼å¶ä»ç else if ä»¥å else è¯­å¥é½å°è·³è¿æ§è¡ã\n\nãæ¼ç¤ºãæä»¬æ¥æ¹é ä¸ä¸ä¸é¢çæç»©æ¡ä¾ï¼å­¦æ ¡æ ¹æ®åæ°åºé´åä¸ºabcdåä¸ªç­çº§ï¼\n\npublic static void main(string[] args) {\n    scanner scanner = new scanner(system.in);\n    \n    system.out.print("è¯·è¾å¥æç»©ï¼");\n    int score = scanner.nextint();\n    \n    if (score==100){\n        system.out.println("æ­åæ»¡å");\n    }else if (score<100 && score >=90){\n        system.out.println("açº§");\n    }else if (score<90 && score >=80){\n        system.out.println("bçº§");\n    }else if (score<80 && score >=70){\n        system.out.println("cçº§");\n    }else if (score<70 && score >=60){\n        system.out.println("dçº§");\n    }else if (score<60 && score >=0){\n        system.out.println("ä¸åæ ¼ï¼");\n    }else {\n        system.out.println("æç»©è¾å¥ä¸åæ³ï¼");\n    }\n    scanner.close();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\næä»¬å¹³æ¶åç¨åºä¸å®è¦ä¸¥è°¨ï¼ä¸ç¶ä¹åä¿®è¡¥bugæ¯ä¸ä»¶ååå¤´ç¼çäºæï¼è¦å¨ç¼åä»£ç çæ¶åå°±æææçé®é¢é½æèæ¸é¤ï¼åå»ä¸ä¸ªä¸ªè§£å³ï¼è¿ææ¯ä¸ä¸ªä¼ç§çç¨åºååºè¯¥åçäºæï¼å¤æèï¼å°ç¯éï¼\n\n\n# 4ãåµå¥çifç»æ\n\nä½¿ç¨åµå¥ç ifâ¦else è¯­å¥æ¯åæ³çãä¹å°±æ¯è¯´ä½ å¯ä»¥å¨å¦ä¸ä¸ª if æè else if è¯­å¥ä¸­ä½¿ç¨ if æè else if è¯­ å¥ãä½ å¯ä»¥å if è¯­å¥ä¸æ ·åµå¥ else if...elseã\n\nif(å¸å°è¡¨è¾¾å¼ 1){\n    ////å¦æå¸å°è¡¨è¾¾å¼ 1çå¼ä¸ºtrueæ§è¡ä»£ç \n    if(å¸å°è¡¨è¾¾å¼ 2){\n        ////å¦æå¸å°è¡¨è¾¾å¼ 2çå¼ä¸ºtrueæ§è¡ä»£ç \n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nææ¶åæä»¬å¨è§£å³æäºé®é¢çæ¶åï¼éè¦ç¼©å°æ¥æ¾èå´ï¼éè¦æå±çº§æ¡ä»¶å¤æ­ï¼æé«æçãæ¯å¦ï¼æä»¬éè¦å¯»æ¾ä¸ä¸ªæ°ï¼å¨1-100ä¹é´ï¼æä»¬ä¸ç¥éè¿ä¸ªæ°æ¯å¤å°çæåµä¸ï¼æä»¬æç¬¨çæ¹å¼å°±æ¯ä¸ä¸ªä¸ªå»å¯¹æ¯ï¼çä»å°åºæ¯å¤å°ï¼è¿ä¼è±æä½ å¤§éçæ¶é´ï¼å¦æå¯ä»¥å©ç¨ifåµå¥æ¯è¾ï¼æä»¬å¯ä»¥èçå¤§éçææ¬ï¼å¦æä½ æè¿ä¸ªææ³ï¼ä½ å·²ç»å¾ä¼ç§äºï¼å ä¸ºå¾å¤å¤§éçå·¥ç¨å¸å°±å¨å¯»æ¾è½å¤å¿«éæé«ï¼æ¥æ¾åæç´¢æççæ¹å¼ãä¸ºæ­¤æåºäºä¸ç³»åçæ¦å¿µï¼æä»¬çæ´»å¨å¤§æ°æ®æ¶ä»£ï¼æä»¬éè¦ä¸æ­çå»æèå¦ä½æé«æçï¼æè®¸åªä¸å¤©ï¼ä½ ä»¬æ³åºä¸ä¸ªç®æ³ï¼è½å¤å°åææ°æ®æçæé«ï¼æè®¸ä½ å°±å¯ä»¥å¨åå²çé¿æ²³ä¸­çä¸ä¸äºçè¿¹äºï¼å½ç¶è¿æ¯åè¯ã\n\nãè®°ä½ä¸ç¹å°±å¥½ï¼ææçæµç¨æ§å¶è¯­å¥é½å¯ä»¥äºç¸åµå¥ï¼äºä¸å½±åï¼ã\n\n\n# 5ãswitchå¤éæ©ç»æ\n\nå¤éæ©ç»æè¿æä¸ä¸ªå®ç°æ¹å¼å°±æ¯switch case è¯­å¥ã\n\nswitch case è¯­å¥å¤æ­ä¸ä¸ªåéä¸ä¸ç³»åå¼ä¸­æä¸ªå¼æ¯å¦ç¸ç­ï¼æ¯ä¸ªå¼ç§°ä¸ºä¸ä¸ªåæ¯ã\n\nswitch(expression){\n    case value :\n        //è¯­å¥\n        break; //å¯é\n    case value :\n        //è¯­å¥\n        break; //å¯é\n    //ä½ å¯ä»¥æä»»ææ°éçcaseè¯­å¥\n    default : //å¯é\n        //è¯­å¥\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nswitch case è¯­å¥æå¦ä¸è§åï¼\n\n * switch è¯­å¥ä¸­çåéç±»åå¯ä»¥æ¯ï¼ byteãshortãint æè charãä» java se 7 å¼å§ï¼switch æ¯æå­ç¬¦ä¸² string ç±»åäºï¼åæ¶ case æ ç­¾å¿é¡»ä¸ºå­ç¬¦ä¸²å¸¸éæå­é¢éã\n * switch è¯­å¥å¯ä»¥æ¥æå¤ä¸ª case è¯­å¥ãæ¯ä¸ª case åé¢è·ä¸ä¸ªè¦æ¯è¾çå¼ååå·ã\n * case è¯­å¥ä¸­çå¼çæ°æ®ç±»åå¿é¡»ä¸åéçæ°æ®ç±»åç¸åï¼èä¸åªè½æ¯å¸¸éæèå­é¢å¸¸éã\n * å½åéçå¼ä¸ case è¯­å¥çå¼ç¸ç­æ¶ï¼é£ä¹ case è¯­å¥ä¹åçè¯­å¥å¼å§æ§è¡ï¼ç´å° break è¯­å¥åºç°æä¼è·³åº switch è¯­å¥ã\n * å½éå° break è¯­å¥æ¶ï¼switch è¯­å¥ç»æ­¢ãç¨åºè·³è½¬å° switch è¯­å¥åé¢çè¯­å¥æ§è¡ãcase è¯­å¥ä¸å¿é¡»è¦åå« break è¯­å¥ãå¦ææ²¡æ break è¯­å¥åºç°ï¼ç¨åºä¼ç»§ç»­æ§è¡ä¸ä¸æ¡ case è¯­å¥ï¼ç´å°åºç° break è¯­å¥ã\n * switch è¯­å¥å¯ä»¥åå«ä¸ä¸ª default åæ¯ï¼è¯¥åæ¯ä¸è¬æ¯ switch è¯­å¥çæåä¸ä¸ªåæ¯ï¼å¯ä»¥å¨ä»»ä½ä½ç½®ï¼ä½å»ºè®®å¨æåä¸ä¸ªï¼ãdefault å¨æ²¡æ case è¯­å¥çå¼ååéå¼ç¸ç­çæ¶åæ§è¡ãdefault åæ¯ä¸éè¦ break è¯­å¥ã\n\nswitch case æ§è¡æ¶ï¼ä¸å®ä¼åè¿è¡å¹éï¼å¹éæåè¿åå½å case çå¼ï¼åæ ¹æ®æ¯å¦æ breakï¼å¤æ­æ¯å¦ç»§ç»­è¾åºï¼ææ¯è·³åºå¤æ­ã\n\npublic static void main(string[] args) {\n    char grade = \'c\';\n    switch (grade) {\n        case \'a\':\n            system.out.println("ä¼ç§");\n            break;\n        case \'b\':\n            system.out.println("ç§");\n            break;\n        case \'c\':\n            system.out.println("è¯å¥½");\n            break;\n        case \'d\':\n            system.out.println("åæ ¼");\n            break;\n        case \'f\':\n            system.out.println("ä½ éè¦ååªååªå");\n            break;\n        default:\n            system.out.println("æªç¥ç­çº§");\n    }\n    system.out.println("ä½ çç­çº§æ¯ " + grade);\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\nå¦æ case è¯­å¥åä¸­æ²¡æ break è¯­å¥æ¶ï¼å¹éæååï¼ä»å½å case å¼å§ï¼åç»­ææ case çå¼é½ä¼è¾ åºãå¦æåç»­ç case è¯­å¥åæ break è¯­å¥åä¼è·³åºå¤æ­ã\n\npublic static void main(string[] args) {\n    int i = 1;\n    switch (i) {\n        case 0:\n            system.out.println("0");\n        case 1:\n            system.out.println("1");\n        case 2:\n            system.out.println("2");\n        case 3:\n            system.out.println("3");\n            break;\n        default:\n            system.out.println("default");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nè¾åºï¼1ï¼2ï¼3ã\n\nãjdk7å¢å äºå­ç¬¦ä¸²è¡¨è¾¾å¼ã\n\ncase åè¾¹çå¯ä»¥æ¯å­ç¬¦ä¸²çè¡¨è¾¾å½¢å¼\n\npublic static void main(string[] args) {\n    string name = "ä½ å¥½";\n\n    switch (name) {\n        //jdk7çæ°ç¹æ§ï¼è¡¨è¾¾å¼ç»æå¯ä»¥æ¯å­ç¬¦ä¸²ï¼ï¼ï¼\n        case "ä½ å¥½":\n            system.out.println("ä½ å¥½");\n            break;\n        case "æå¥½":\n            system.out.println("æå¥½");\n            break;\n        default:\n            system.out.println("å¥é½ä¸å¥½");\n            break;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"å¾ªç¯ç»æ",frontmatter:{title:"å¾ªç¯ç»æ",date:"2021-04-15T22:45:56.000Z",permalink:"/java/se/process-control/loop-structure",categories:["java","java-se"]},regularPath:"/01.Java/02.java-%E5%9F%BA%E7%A1%80/03.%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/04.%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84.html",relativePath:"01.Java/02.java-åºç¡/03.æµç¨æ§å¶/04.å¾ªç¯ç»æ.md",key:"v-990ee8ec",path:"/java/se/process-control/loop-structure/",headers:[{level:2,title:"å¾ªç¯ç»æ",slug:"å¾ªç¯ç»æ",normalizedTitle:"å¾ªç¯ç»æ",charIndex:18},{level:3,title:"1ãwhile å¾ªç¯",slug:"_1ãwhile-å¾ªç¯",normalizedTitle:"1ãwhile å¾ªç¯",charIndex:272},{level:3,title:"2ãdoâ¦while å¾ªç¯",slug:"_2ãdo-while-å¾ªç¯",normalizedTitle:"2ãdoâ¦while å¾ªç¯",charIndex:1618},{level:3,title:"3ãForå¾ªç¯",slug:"_3ãforå¾ªç¯",normalizedTitle:"3ãforå¾ªç¯",charIndex:2454},{level:3,title:"4ãç»ä¹ ",slug:"_4ãç»ä¹ ",normalizedTitle:"4ãç»ä¹ ",charIndex:3285},{level:3,title:"5ãå¢å¼ºforå¾ªç¯",slug:"_5ãå¢å¼ºforå¾ªç¯",normalizedTitle:"5ãå¢å¼ºforå¾ªç¯",charIndex:5180}],headersStr:"å¾ªç¯ç»æ 1ãwhile å¾ªç¯ 2ãdoâ¦while å¾ªç¯ 3ãForå¾ªç¯ 4ãç»ä¹  5ãå¢å¼ºforå¾ªç¯",content:'# JavaSE-æµç¨æ§å¶\n\n\n# å¾ªç¯ç»æ\n\nä¸é¢éæ©ç»æä¸­ï¼æä»¬å§ç»æ æ³è®©ç¨åºä¸ç´è·çï¼æä»¬æ¯æ¬¡è¿è¡å°±åæ­¢äºãæä»¬éè¦è§å®ä¸ä¸ªç¨åºè¿è¡å¤å°æ¬¡ï¼è¿è¡å¤ä¹ï¼ç­ç­ãæä»¥æç§æä»¬ç¼ç¨æ¯ä¸ºäºè§£å³äººçé®é¢çææ³ï¼æä»¬æ¯ä¸æ¯å¾éè¦æä¸ä¸ªç»ææ¥æå®è¿ä¸ªäºæï¼äºæ¯å¾ªç¯ç»æèªç¶çè¯çäºï¼\n\né¡ºåºç»æçç¨åºè¯­å¥åªè½è¢«æ§è¡ä¸æ¬¡ãå¦ææ¨æ³è¦åæ ·çæä½æ§è¡å¤æ¬¡,ï¼å°±éè¦ä½¿ç¨å¾ªç¯ç»æã\n\nJavaä¸­æä¸ç§ä¸»è¦çå¾ªç¯ç»æï¼\n\n * while å¾ªç¯\n * doâ¦while å¾ªç¯\n * for å¾ªç¯\n\nå¨Java5ä¸­å¼å¥äºä¸ç§ä¸»è¦ç¨äºæ°ç»çå¢å¼ºåforå¾ªç¯ã\n\n\n# 1ãwhile å¾ªç¯\n\nwhileæ¯æåºæ¬çå¾ªç¯ï¼å®çç»æä¸ºï¼\n\nwhile( å¸å°è¡¨è¾¾å¼ ) {\n    //å¾ªç¯åå®¹\n}\n\n\n1\n2\n3\n\n\n\n\nãå¾è§£ãå¨å¾ªç¯åå¼å§æ¶ï¼ä¼è®¡ç®ä¸æ¬¡âå¸å°è¡¨è¾¾å¼âçå¼ï¼è¥æ¡ä»¶ä¸ºçï¼æ§è¡å¾ªç¯ä½ãèå¯¹äºåæ¥æ¯ä¸ æ¬¡é¢å¤çå¾ªç¯ï¼é½ä¼å¨å¼å§åéæ°è®¡ç®ä¸æ¬¡å¤æ­æ¯å¦ä¸ºçãç´å°æ¡ä»¶ä¸æç«ï¼åå¾ªç¯ç»æã\n\næä»¬å¤§å¤æ°æåµæ¯ä¼è®©å¾ªç¯åæ­¢ä¸æ¥çï¼æä»¬éè¦ä¸ä¸ªè®©è¡¨è¾¾å¼å¤±æçæ¹å¼æ¥ç»æå¾ªç¯ã\n\næ¹å¼æï¼å¾ªç¯åé¨æ§å¶ï¼å¤é¨è®¾ç«æ å¿ä½ï¼ç­\n\npublic static void main(String[] args) {\n    int i = 0;\n    //iå°äº100å°±ä¼ä¸ç´å¾ªç¯\n    while (i<100){\n        i++;\n        System.out.println(i);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nå°é¨åæåµéè¦å¾ªç¯ä¸ç´æ§è¡ï¼æ¯å¦æå¡å¨çè¯·æ±ååºçå¬ç­ã\n\npublic static void main(String[] args) {\n    while (true){\n        //ç­å¾å®¢æ·ç«¯è¿æ¥\n        //å®æ¶æ£æ¥\n        //......\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nå¾ªç¯æ¡ä»¶ä¸ç´ä¸ºtrueå°±ä¼é ææ éå¾ªç¯ãæ­»å¾ªç¯ãï¼æä»¬æ­£å¸¸çä¸å¡ç¼ç¨ä¸­åºè¯¥å°½éé¿åæ­»å¾ªç¯ãä¼å½± åç¨åºæ§è½æèé æç¨åºå¡æ­»å¥æºï¼\n\nãæ¡ä¾ï¼è®¡ç®1+2+3+â¦+100=?ã\n\npublic static void main(String[] args) {\n    int i = 0;\n    int sum = 0;\n    while (i <= 100) {\n        sum = sum+i;\n        i++;\n    }\n    System.out.println("Sum= " + sum);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nãé«æ¯çæäºã\n\nå¾·å½å¤§æ°å­¦å®¶é«æ¯ï¼Gaussï¼ï¼é«æ¯æ¯ä¸å¯¹æ®éå¤«å¦çå¿å­ãä»çæ¯äº²æ¯ä¸ä¸ªè´«ç©·ç³å çå¥³å¿ï¼è½ç¶ååèªæï¼ä½å´æ²¡ææ¥åè¿æè²ï¼è¿ä¼¼äºæç²ãå¨å¥¹æä¸ºé«æ¯ç¶äº²çç¬¬äºä¸ªå¦»å­ä¹åï¼å¥¹ä»äºå¥³ä½£å·¥ä½ãä»çç¶äº²æ¾åè¿å­ä¸ï¼å·¥å¤´ï¼åäººçå©æåä¸ä¸ªå°ä¿é©å¬å¸çè¯ä¼°å¸ãå½é«æ¯ä¸å²æ¶ä¾¿è½å¤çº æ­£ä»ç¶äº²çååºè´¦ç®çäºæï¼ å·²ç»æä¸ºä¸ä¸ªè½¶äºæµä¼ è³ä»ãä»æ¾è¯´ï¼ä»å¨éº¦ä»ç¿å ä¸å­¦ä¼è®¡ç®ãè½å¤å¨å¤´èä¸­è¿è¡å¤æçè®¡ç®ï¼æ¯ä¸å¸èµäºä»ä¸ççå¤©èµã\n\né«æ¯ç¨å¾ç­çæ¶é´è®¡ç®åºäºå°å­¦èå¸å¸ç½®çä»»å¡ï¼å¯¹èªç¶æ°ä»1å°100çæ±å.ä»æä½¿ç¨çæ¹æ³æ¯ï¼å¯¹50 å¯¹æé æå101çæ°åæ±åï¼1ï¼100,2ï¼99,3ï¼98â¦â¦ï¼,åæ¶å¾å°ç»æï¼5050.è¿ä¸å¹´,é«æ¯9å².\n\nè¿ä¸ªæäºæä»¬å¨é«ä¸­æ°å­¦ä¸­çâç­å·®æ°åæ±åâå¬è¿ï¼å½æ¶æä»¬ç¨çå¬å¼æ±è§£ã\n\n\n\nç¼ç¨é¾çä¸æ¯è¯­è¨ï¼æ¯ç®æ³ãæ°å­¦è½è®©ä½ åçç¨åºè¿ç®æ¬¡æ°æ´å°ï¼æçæ´é«ã\n\nå¦ææ±1+2+3.....+100ä¸å¢ï¼è½ç¶100ä¸æ¬¡çè¿ç®å æ³ï¼å¯¹äºè®¡ç®æºä¸ç®ä»ä¹ï¼ä½æä»¬ä¸ºäºæçå¯ä»¥ç¨æ°å­¦å¬å¼è¿è¡æ±è§£ã\n\næè½åçåå­¦å¯ä»¥çä¸ç¼ç¨ç¨åºæ¯èµï¼èéªç®æ³è½åçï¼ä¾å¦ï¼âä¼ æºæ¯âï¼âèæ¡¥æ¯â\n\n\n# 2ãdoâ¦while å¾ªç¯\n\nå¯¹äº while è¯­å¥èè¨ï¼å¦æä¸æ»¡è¶³æ¡ä»¶ï¼åä¸è½è¿å¥å¾ªç¯ãä½ææ¶åæä»¬éè¦å³ä½¿ä¸æ»¡è¶³æ¡ä»¶ï¼ä¹è³å° æ§è¡ä¸æ¬¡ã\n\ndoâ¦while å¾ªç¯å while å¾ªç¯ç¸ä¼¼ï¼ä¸åçæ¯ï¼doâ¦while å¾ªç¯è³å°ä¼æ§è¡ä¸æ¬¡ã\n\ndo {\n    //ä»£ç è¯­å¥\n}while(å¸å°è¡¨è¾¾å¼);\n\n\n1\n2\n3\n\n\n\n\næ³¨æï¼å¸å°è¡¨è¾¾å¼å¨å¾ªç¯ä½çåé¢ï¼æä»¥è¯­å¥åå¨æ£æµå¸å°è¡¨è¾¾å¼ä¹åå·²ç»æ§è¡äºã å¦æå¸å°è¡¨è¾¾å¼çå¼ä¸º trueï¼åè¯­å¥åä¸ç´æ§è¡ï¼ç´å°å¸å°è¡¨è¾¾å¼çå¼ä¸º falseã\n\næä»¬ç¨do...whileæ¹é ä¸ä¸ä¸é¢çæ¡ä¾ï¼\n\npublic static void main(String[] args) {\n    int i = 0;\n    int sum = 0;\n    do {\n        sum = sum+i;\n        i++;\n    }while (i <= 100);\n    System.out.println("Sum= " + sum);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\næ§è¡ç»æå½ç¶æ¯ä¸æ ·çï¼\n\nWhileådo-Whileçåºå«ï¼\n\nwhileåå¤æ­åæ§è¡ãdowhileæ¯åæ§è¡åå¤æ­ï¼\n\nDo...whileæ»æ¯ä¿è¯å¾ªç¯ä½ä¼è¢«è³å°æ§è¡ä¸æ¬¡ï¼è¿æ¯ä»ä»¬çä¸»è¦å·®å«ã\n\npublic static void main(String[] args) {\n    int a = 0;\n    while(a<0){\n        System.out.println(a);\n        a++;\n    }\n    System.out.println("-----");\n    do{\n        System.out.println(a);\n        a++;\n    } while (a<0);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 3ãForå¾ªç¯\n\nè½ç¶ææå¾ªç¯ç»æé½å¯ä»¥ç¨ while æè do...whileè¡¨ç¤ºï¼ä½ Java æä¾äºå¦ä¸ç§è¯­å¥ ââ for å¾ªç¯ï¼ä½¿ä¸äºå¾ªç¯ç»æåå¾æ´å ç®åã\n\nforå¾ªç¯è¯­å¥æ¯æ¯æè¿­ä»£çä¸ç§éç¨ç»æï¼æ¯æææãæçµæ´»çå¾ªç¯ç»æã\n\nforå¾ªç¯æ§è¡çæ¬¡æ°æ¯å¨æ§è¡åå°±ç¡®å®çãè¯­æ³æ ¼å¼å¦ä¸ï¼\n\nfor(åå§å; å¸å°è¡¨è¾¾å¼; æ´æ°) {\n    //ä»£ç è¯­å¥\n}\n\n\n1\n2\n3\n\n\n\n\nå³äº for å¾ªç¯æä»¥ä¸å ç¹è¯´æï¼\n\n * æåæ§è¡åå§åæ­¥éª¤ãå¯ä»¥å£°æä¸ç§ç±»åï¼ä½å¯åå§åä¸ä¸ªæå¤ä¸ªå¾ªç¯æ§å¶åéï¼ä¹å¯ä»¥æ¯ç©ºè¯­å¥ã\n * ç¶åï¼æ£æµå¸å°è¡¨è¾¾å¼çå¼ãå¦æä¸º trueï¼å¾ªç¯ä½è¢«æ§è¡ãå¦æä¸ºfalseï¼å¾ªç¯ç»æ­¢ï¼å¼å§æ§è¡å¾ªç¯ä½åé¢çè¯­å¥ã\n * æ§è¡ä¸æ¬¡å¾ªç¯åï¼æ´æ°å¾ªç¯æ§å¶åé(è¿­ä»£å å­æ§å¶å¾ªç¯åéçå¢åã\n * åæ¬¡æ£æµå¸å°è¡¨è¾¾å¼ãå¾ªç¯æ§è¡ä¸é¢çè¿ç¨ã\n\nãæ¼ç¤ºï¼whileåforè¾åºã\n\npublic static void main(String[] args) {\n    int a = 1; //åå§å\n    \n    while(a<=100){ //æ¡ä»¶å¤æ­\n        System.out.println(a); //å¾ªç¯ä½\n        a+=2; //è¿­ä»£\n    }\n    System.out.println("whileå¾ªç¯ç»æï¼");\n    \n    for(int i = 1;i<=100;i++){ //åå§å//æ¡ä»¶å¤æ­ //è¿­ä»£\n        System.out.println(i); //å¾ªç¯ä½\n    }\n    System.out.println("whileå¾ªç¯ç»æï¼");\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\næä»¬åç°ï¼forå¾ªç¯å¨ç¥éå¾ªç¯æ¬¡æ°çæåµä¸ï¼ç®åäºä»£ç ï¼æé«äºå¯è¯»æ§ãæä»¬å¹³æ¶ç¨å°çæå¤çä¹æ¯ æä»¬çforå¾ªç¯ï¼\n\n\n# 4ãç»ä¹ \n\nãç»ä¹ 1ï¼è®¡ç®0å°100ä¹é´çå¥æ°åå¶æ°çåã\n\npublic static void main(String[] args) {\n    int oddSum = 0; //ç¨æ¥ä¿å­å¥æ°çå\n    int evenSum = 0; //ç¨æ¥å­æ¾å¶æ°çå\n    for (int i = 0; i <= 100; i++) {\n        if (i % 2 != 0) {\n            oddSum += i;\n        } else {\n            evenSum += i;\n        }\n    }\n    System.out.println("å¥æ°çåï¼" + oddSum);\n    System.out.println("å¶æ°çåï¼" + evenSum);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nãç»ä¹ 2ï¼ç¨whileæforå¾ªç¯è¾åº1-1000ä¹é´è½è¢«5æ´é¤çæ°ï¼å¹¶ä¸æ¯è¡è¾åº3ä¸ªã\n\npublic static void main(String[] args) {\n    for (int j = 1; j <= 1000; j++) {\n        if (j % 5 == 0) {\n            System.out.print(j + "\\t");\n        }\n        if (j % (5 * 3) == 0) {\n            System.out.println();\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nãç»ä¹ 3ï¼æå°ä¹ä¹ä¹æ³è¡¨ã\n\n1*1=1\n1*2=2 2*2=4\n1*3=3 2*3=6 3*3=9\n1*4=4 2*4=8 3*4=12 4*4=16\n1*5=5 2*5=10 3*5=15 4*5=20 5*5=25\n1*6=6 2*6=12 3*6=18 4*6=24 5*6=30 6*6=36\n1*7=7 2*7=14 3*7=21 4*7=28 5*7=35 6*7=42 7*7=49\n1*8=8 2*8=16 3*8=24 4*8=32 5*8=40 6*8=48 7*8=56 8*8=64\n1*9=9 2*9=18 3*9=27 4*9=36 5*9=45 6*9=54 7*9=63 8*9=72 9*9=81\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nå½ç¶ï¼æåçè·¯ä¸æ­¢ä¸æ¡ï¼ä½æ¯æä»¬è¦è¿½æ±æå®ç¾çä¸æ¡ï¼å¦æä½ åä¸å°ï¼ä¸å¦¨è¯è¯ç¬¨åæ³ï¼ä¾æ§å¯ä»¥ å®æä»»å¡ï¼æ¯å¦ä¸è¡è¡è¾åºï¼ä¹æ¯å¯ä»¥æå®çãä¸å®è¦å¤åæï¼\n\næä»¬ä½¿ç¨åµå¥forå¾ªç¯å°±å¯ä»¥å¾è½»æ¾è§£å³è¿ä¸ªé®é¢äºï¼\n\nç¬¬ä¸æ­¥ï¼æä»¬åæå°ç¬¬ä¸åï¼è¿ä¸ªå¤§å®¶åºè¯¥é½ä¼\n\nfor (int i = 1; i <= 9; i++) {\n\tSystem.out.println(1 + "*" + i + "=" + (1 * i));\n}\n\n\n1\n2\n3\n\n\nç¬¬äºæ­¥ï¼æä»¬æåºå®ç1åç¨ä¸ä¸ªå¾ªç¯åèµ·æ¥\n\nfor (int i = 1; i <= 9 ; i++) {\n    for (int j = 1; j <= 9; j++) {\n        System.out.println(i + "*" + j + "=" + (i * j));\n    }\n}\n\n\n1\n2\n3\n4\n5\n\n\nç¬¬ä¸æ­¥ï¼å»æéå¤é¡¹ï¼j<=i\n\nfor (int i = 1; i <= 9 ; i++) {\n    for (int j = 1; j <= i; j++) {\n        System.out.println(j + "*" + i + "=" + (i * j));\n    }\n}\n\n\n1\n2\n3\n4\n5\n\n\nç¬¬åæ­¥ï¼è°æ´æ ·å¼\n\nfor (int i = 1; i <= 9 ; i++) {\n    for (int j = 1; j <= i; j++) {\n        System.out.print(j + "*" + i + "=" + (i * j)+ "\\t");\n    }\n    System.out.println();\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\néè¿æ¬ç»ä¹ ï¼å¤§å®¶è¦ä½ä¼å¦ä½åæé®é¢ãå¦ä½åå¥é®é¢ï¼å¨æä»¬ä»¥ååä»£ç çè¿ç¨ä¸­ï¼ä¸å®è¦å­¦ä¼å°ä¸ ä¸ªå¤§é®é¢åè§£æè¥å¹²å°é®é¢ï¼ç¶åï¼ç±æå°é¾ï¼åä¸ªå»ç ´ï¼è¿ä¹æ¯æä»¬ä»¥åå¼åé¡¹ç®æ¶çåºæ¬æç»´è¿ç¨ãå¸æå¤§å®¶å¥½å¥½ä½ä¼ï¼\n\n\n# 5ãå¢å¼ºforå¾ªç¯\n\nJava5 å¼å¥äºä¸ç§ä¸»è¦ç¨äºæ°ç»æéåçå¢å¼ºå for å¾ªç¯ã\n\nJava å¢å¼º for å¾ªç¯è¯­æ³æ ¼å¼å¦ä¸:\n\nfor(å£°æè¯­å¥ : è¡¨è¾¾å¼)\n{\n    //ä»£ç å¥å­\n}\n\n\n1\n2\n3\n4\n\n\nå£°æè¯­å¥ï¼å£°ææ°çå±é¨åéï¼è¯¥åéçç±»åå¿é¡»åæ°ç»åç´ çç±»åå¹éãå¶ä½ç¨åéå®å¨å¾ªç¯è¯­å¥ åï¼å¶å¼ä¸æ­¤æ¶æ°ç»åç´ çå¼ç¸ç­ã\n\nè¡¨è¾¾å¼ï¼è¡¨è¾¾å¼æ¯è¦è®¿é®çæ°ç»åï¼æèæ¯è¿åå¼ä¸ºæ°ç»çæ¹æ³ã\n\nãæ¼ç¤ºï¼å¢å¼ºforå¾ªç¯éåè¾åºæ°ç»åç´ ã\n\npublic static void main(String[] args) {\n    \n    int [] numbers = {10, 20, 30, 40, 50};\n    for(int x : numbers ){\n        System.out.print( x );\n        System.out.print(",");\n    }\n    System.out.print("\\n");\n    \n    String [] names ={"James", "Larry", "Tom", "Lacy"};\n    for( String name : names ) {\n        System.out.print( name );\n        System.out.print(",");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\næä»¬ç°å¨æä¸æè¿ä¸ªæ²¡å³ç³»ï¼å°±æ¯æåºæ¥åå¤§å®¶è§ä¸é¢ï¼ä¸ç« å°±è®²è§£æ°ç»äºï¼',normalizedContent:'# javase-æµç¨æ§å¶\n\n\n# å¾ªç¯ç»æ\n\nä¸é¢éæ©ç»æä¸­ï¼æä»¬å§ç»æ æ³è®©ç¨åºä¸ç´è·çï¼æä»¬æ¯æ¬¡è¿è¡å°±åæ­¢äºãæä»¬éè¦è§å®ä¸ä¸ªç¨åºè¿è¡å¤å°æ¬¡ï¼è¿è¡å¤ä¹ï¼ç­ç­ãæä»¥æç§æä»¬ç¼ç¨æ¯ä¸ºäºè§£å³äººçé®é¢çææ³ï¼æä»¬æ¯ä¸æ¯å¾éè¦æä¸ä¸ªç»ææ¥æå®è¿ä¸ªäºæï¼äºæ¯å¾ªç¯ç»æèªç¶çè¯çäºï¼\n\né¡ºåºç»æçç¨åºè¯­å¥åªè½è¢«æ§è¡ä¸æ¬¡ãå¦ææ¨æ³è¦åæ ·çæä½æ§è¡å¤æ¬¡,ï¼å°±éè¦ä½¿ç¨å¾ªç¯ç»æã\n\njavaä¸­æä¸ç§ä¸»è¦çå¾ªç¯ç»æï¼\n\n * while å¾ªç¯\n * doâ¦while å¾ªç¯\n * for å¾ªç¯\n\nå¨java5ä¸­å¼å¥äºä¸ç§ä¸»è¦ç¨äºæ°ç»çå¢å¼ºåforå¾ªç¯ã\n\n\n# 1ãwhile å¾ªç¯\n\nwhileæ¯æåºæ¬çå¾ªç¯ï¼å®çç»æä¸ºï¼\n\nwhile( å¸å°è¡¨è¾¾å¼ ) {\n    //å¾ªç¯åå®¹\n}\n\n\n1\n2\n3\n\n\n\n\nãå¾è§£ãå¨å¾ªç¯åå¼å§æ¶ï¼ä¼è®¡ç®ä¸æ¬¡âå¸å°è¡¨è¾¾å¼âçå¼ï¼è¥æ¡ä»¶ä¸ºçï¼æ§è¡å¾ªç¯ä½ãèå¯¹äºåæ¥æ¯ä¸ æ¬¡é¢å¤çå¾ªç¯ï¼é½ä¼å¨å¼å§åéæ°è®¡ç®ä¸æ¬¡å¤æ­æ¯å¦ä¸ºçãç´å°æ¡ä»¶ä¸æç«ï¼åå¾ªç¯ç»æã\n\næä»¬å¤§å¤æ°æåµæ¯ä¼è®©å¾ªç¯åæ­¢ä¸æ¥çï¼æä»¬éè¦ä¸ä¸ªè®©è¡¨è¾¾å¼å¤±æçæ¹å¼æ¥ç»æå¾ªç¯ã\n\næ¹å¼æï¼å¾ªç¯åé¨æ§å¶ï¼å¤é¨è®¾ç«æ å¿ä½ï¼ç­\n\npublic static void main(string[] args) {\n    int i = 0;\n    //iå°äº100å°±ä¼ä¸ç´å¾ªç¯\n    while (i<100){\n        i++;\n        system.out.println(i);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nå°é¨åæåµéè¦å¾ªç¯ä¸ç´æ§è¡ï¼æ¯å¦æå¡å¨çè¯·æ±ååºçå¬ç­ã\n\npublic static void main(string[] args) {\n    while (true){\n        //ç­å¾å®¢æ·ç«¯è¿æ¥\n        //å®æ¶æ£æ¥\n        //......\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nå¾ªç¯æ¡ä»¶ä¸ç´ä¸ºtrueå°±ä¼é ææ éå¾ªç¯ãæ­»å¾ªç¯ãï¼æä»¬æ­£å¸¸çä¸å¡ç¼ç¨ä¸­åºè¯¥å°½éé¿åæ­»å¾ªç¯ãä¼å½± åç¨åºæ§è½æèé æç¨åºå¡æ­»å¥æºï¼\n\nãæ¡ä¾ï¼è®¡ç®1+2+3+â¦+100=?ã\n\npublic static void main(string[] args) {\n    int i = 0;\n    int sum = 0;\n    while (i <= 100) {\n        sum = sum+i;\n        i++;\n    }\n    system.out.println("sum= " + sum);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nãé«æ¯çæäºã\n\nå¾·å½å¤§æ°å­¦å®¶é«æ¯ï¼gaussï¼ï¼é«æ¯æ¯ä¸å¯¹æ®éå¤«å¦çå¿å­ãä»çæ¯äº²æ¯ä¸ä¸ªè´«ç©·ç³å çå¥³å¿ï¼è½ç¶ååèªæï¼ä½å´æ²¡ææ¥åè¿æè²ï¼è¿ä¼¼äºæç²ãå¨å¥¹æä¸ºé«æ¯ç¶äº²çç¬¬äºä¸ªå¦»å­ä¹åï¼å¥¹ä»äºå¥³ä½£å·¥ä½ãä»çç¶äº²æ¾åè¿å­ä¸ï¼å·¥å¤´ï¼åäººçå©æåä¸ä¸ªå°ä¿é©å¬å¸çè¯ä¼°å¸ãå½é«æ¯ä¸å²æ¶ä¾¿è½å¤çº æ­£ä»ç¶äº²çååºè´¦ç®çäºæï¼ å·²ç»æä¸ºä¸ä¸ªè½¶äºæµä¼ è³ä»ãä»æ¾è¯´ï¼ä»å¨éº¦ä»ç¿å ä¸å­¦ä¼è®¡ç®ãè½å¤å¨å¤´èä¸­è¿è¡å¤æçè®¡ç®ï¼æ¯ä¸å¸èµäºä»ä¸ççå¤©èµã\n\né«æ¯ç¨å¾ç­çæ¶é´è®¡ç®åºäºå°å­¦èå¸å¸ç½®çä»»å¡ï¼å¯¹èªç¶æ°ä»1å°100çæ±å.ä»æä½¿ç¨çæ¹æ³æ¯ï¼å¯¹50 å¯¹æé æå101çæ°åæ±åï¼1ï¼100,2ï¼99,3ï¼98â¦â¦ï¼,åæ¶å¾å°ç»æï¼5050.è¿ä¸å¹´,é«æ¯9å².\n\nè¿ä¸ªæäºæä»¬å¨é«ä¸­æ°å­¦ä¸­çâç­å·®æ°åæ±åâå¬è¿ï¼å½æ¶æä»¬ç¨çå¬å¼æ±è§£ã\n\n\n\nç¼ç¨é¾çä¸æ¯è¯­è¨ï¼æ¯ç®æ³ãæ°å­¦è½è®©ä½ åçç¨åºè¿ç®æ¬¡æ°æ´å°ï¼æçæ´é«ã\n\nå¦ææ±1+2+3.....+100ä¸å¢ï¼è½ç¶100ä¸æ¬¡çè¿ç®å æ³ï¼å¯¹äºè®¡ç®æºä¸ç®ä»ä¹ï¼ä½æä»¬ä¸ºäºæçå¯ä»¥ç¨æ°å­¦å¬å¼è¿è¡æ±è§£ã\n\næè½åçåå­¦å¯ä»¥çä¸ç¼ç¨ç¨åºæ¯èµï¼èéªç®æ³è½åçï¼ä¾å¦ï¼âä¼ æºæ¯âï¼âèæ¡¥æ¯â\n\n\n# 2ãdoâ¦while å¾ªç¯\n\nå¯¹äº while è¯­å¥èè¨ï¼å¦æä¸æ»¡è¶³æ¡ä»¶ï¼åä¸è½è¿å¥å¾ªç¯ãä½ææ¶åæä»¬éè¦å³ä½¿ä¸æ»¡è¶³æ¡ä»¶ï¼ä¹è³å° æ§è¡ä¸æ¬¡ã\n\ndoâ¦while å¾ªç¯å while å¾ªç¯ç¸ä¼¼ï¼ä¸åçæ¯ï¼doâ¦while å¾ªç¯è³å°ä¼æ§è¡ä¸æ¬¡ã\n\ndo {\n    //ä»£ç è¯­å¥\n}while(å¸å°è¡¨è¾¾å¼);\n\n\n1\n2\n3\n\n\n\n\næ³¨æï¼å¸å°è¡¨è¾¾å¼å¨å¾ªç¯ä½çåé¢ï¼æä»¥è¯­å¥åå¨æ£æµå¸å°è¡¨è¾¾å¼ä¹åå·²ç»æ§è¡äºã å¦æå¸å°è¡¨è¾¾å¼çå¼ä¸º trueï¼åè¯­å¥åä¸ç´æ§è¡ï¼ç´å°å¸å°è¡¨è¾¾å¼çå¼ä¸º falseã\n\næä»¬ç¨do...whileæ¹é ä¸ä¸ä¸é¢çæ¡ä¾ï¼\n\npublic static void main(string[] args) {\n    int i = 0;\n    int sum = 0;\n    do {\n        sum = sum+i;\n        i++;\n    }while (i <= 100);\n    system.out.println("sum= " + sum);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\næ§è¡ç»æå½ç¶æ¯ä¸æ ·çï¼\n\nwhileådo-whileçåºå«ï¼\n\nwhileåå¤æ­åæ§è¡ãdowhileæ¯åæ§è¡åå¤æ­ï¼\n\ndo...whileæ»æ¯ä¿è¯å¾ªç¯ä½ä¼è¢«è³å°æ§è¡ä¸æ¬¡ï¼è¿æ¯ä»ä»¬çä¸»è¦å·®å«ã\n\npublic static void main(string[] args) {\n    int a = 0;\n    while(a<0){\n        system.out.println(a);\n        a++;\n    }\n    system.out.println("-----");\n    do{\n        system.out.println(a);\n        a++;\n    } while (a<0);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 3ãforå¾ªç¯\n\nè½ç¶ææå¾ªç¯ç»æé½å¯ä»¥ç¨ while æè do...whileè¡¨ç¤ºï¼ä½ java æä¾äºå¦ä¸ç§è¯­å¥ ââ for å¾ªç¯ï¼ä½¿ä¸äºå¾ªç¯ç»æåå¾æ´å ç®åã\n\nforå¾ªç¯è¯­å¥æ¯æ¯æè¿­ä»£çä¸ç§éç¨ç»æï¼æ¯æææãæçµæ´»çå¾ªç¯ç»æã\n\nforå¾ªç¯æ§è¡çæ¬¡æ°æ¯å¨æ§è¡åå°±ç¡®å®çãè¯­æ³æ ¼å¼å¦ä¸ï¼\n\nfor(åå§å; å¸å°è¡¨è¾¾å¼; æ´æ°) {\n    //ä»£ç è¯­å¥\n}\n\n\n1\n2\n3\n\n\n\n\nå³äº for å¾ªç¯æä»¥ä¸å ç¹è¯´æï¼\n\n * æåæ§è¡åå§åæ­¥éª¤ãå¯ä»¥å£°æä¸ç§ç±»åï¼ä½å¯åå§åä¸ä¸ªæå¤ä¸ªå¾ªç¯æ§å¶åéï¼ä¹å¯ä»¥æ¯ç©ºè¯­å¥ã\n * ç¶åï¼æ£æµå¸å°è¡¨è¾¾å¼çå¼ãå¦æä¸º trueï¼å¾ªç¯ä½è¢«æ§è¡ãå¦æä¸ºfalseï¼å¾ªç¯ç»æ­¢ï¼å¼å§æ§è¡å¾ªç¯ä½åé¢çè¯­å¥ã\n * æ§è¡ä¸æ¬¡å¾ªç¯åï¼æ´æ°å¾ªç¯æ§å¶åé(è¿­ä»£å å­æ§å¶å¾ªç¯åéçå¢åã\n * åæ¬¡æ£æµå¸å°è¡¨è¾¾å¼ãå¾ªç¯æ§è¡ä¸é¢çè¿ç¨ã\n\nãæ¼ç¤ºï¼whileåforè¾åºã\n\npublic static void main(string[] args) {\n    int a = 1; //åå§å\n    \n    while(a<=100){ //æ¡ä»¶å¤æ­\n        system.out.println(a); //å¾ªç¯ä½\n        a+=2; //è¿­ä»£\n    }\n    system.out.println("whileå¾ªç¯ç»æï¼");\n    \n    for(int i = 1;i<=100;i++){ //åå§å//æ¡ä»¶å¤æ­ //è¿­ä»£\n        system.out.println(i); //å¾ªç¯ä½\n    }\n    system.out.println("whileå¾ªç¯ç»æï¼");\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\næä»¬åç°ï¼forå¾ªç¯å¨ç¥éå¾ªç¯æ¬¡æ°çæåµä¸ï¼ç®åäºä»£ç ï¼æé«äºå¯è¯»æ§ãæä»¬å¹³æ¶ç¨å°çæå¤çä¹æ¯ æä»¬çforå¾ªç¯ï¼\n\n\n# 4ãç»ä¹ \n\nãç»ä¹ 1ï¼è®¡ç®0å°100ä¹é´çå¥æ°åå¶æ°çåã\n\npublic static void main(string[] args) {\n    int oddsum = 0; //ç¨æ¥ä¿å­å¥æ°çå\n    int evensum = 0; //ç¨æ¥å­æ¾å¶æ°çå\n    for (int i = 0; i <= 100; i++) {\n        if (i % 2 != 0) {\n            oddsum += i;\n        } else {\n            evensum += i;\n        }\n    }\n    system.out.println("å¥æ°çåï¼" + oddsum);\n    system.out.println("å¶æ°çåï¼" + evensum);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nãç»ä¹ 2ï¼ç¨whileæforå¾ªç¯è¾åº1-1000ä¹é´è½è¢«5æ´é¤çæ°ï¼å¹¶ä¸æ¯è¡è¾åº3ä¸ªã\n\npublic static void main(string[] args) {\n    for (int j = 1; j <= 1000; j++) {\n        if (j % 5 == 0) {\n            system.out.print(j + "\\t");\n        }\n        if (j % (5 * 3) == 0) {\n            system.out.println();\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nãç»ä¹ 3ï¼æå°ä¹ä¹ä¹æ³è¡¨ã\n\n1*1=1\n1*2=2 2*2=4\n1*3=3 2*3=6 3*3=9\n1*4=4 2*4=8 3*4=12 4*4=16\n1*5=5 2*5=10 3*5=15 4*5=20 5*5=25\n1*6=6 2*6=12 3*6=18 4*6=24 5*6=30 6*6=36\n1*7=7 2*7=14 3*7=21 4*7=28 5*7=35 6*7=42 7*7=49\n1*8=8 2*8=16 3*8=24 4*8=32 5*8=40 6*8=48 7*8=56 8*8=64\n1*9=9 2*9=18 3*9=27 4*9=36 5*9=45 6*9=54 7*9=63 8*9=72 9*9=81\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nå½ç¶ï¼æåçè·¯ä¸æ­¢ä¸æ¡ï¼ä½æ¯æä»¬è¦è¿½æ±æå®ç¾çä¸æ¡ï¼å¦æä½ åä¸å°ï¼ä¸å¦¨è¯è¯ç¬¨åæ³ï¼ä¾æ§å¯ä»¥ å®æä»»å¡ï¼æ¯å¦ä¸è¡è¡è¾åºï¼ä¹æ¯å¯ä»¥æå®çãä¸å®è¦å¤åæï¼\n\næä»¬ä½¿ç¨åµå¥forå¾ªç¯å°±å¯ä»¥å¾è½»æ¾è§£å³è¿ä¸ªé®é¢äºï¼\n\nç¬¬ä¸æ­¥ï¼æä»¬åæå°ç¬¬ä¸åï¼è¿ä¸ªå¤§å®¶åºè¯¥é½ä¼\n\nfor (int i = 1; i <= 9; i++) {\n\tsystem.out.println(1 + "*" + i + "=" + (1 * i));\n}\n\n\n1\n2\n3\n\n\nç¬¬äºæ­¥ï¼æä»¬æåºå®ç1åç¨ä¸ä¸ªå¾ªç¯åèµ·æ¥\n\nfor (int i = 1; i <= 9 ; i++) {\n    for (int j = 1; j <= 9; j++) {\n        system.out.println(i + "*" + j + "=" + (i * j));\n    }\n}\n\n\n1\n2\n3\n4\n5\n\n\nç¬¬ä¸æ­¥ï¼å»æéå¤é¡¹ï¼j<=i\n\nfor (int i = 1; i <= 9 ; i++) {\n    for (int j = 1; j <= i; j++) {\n        system.out.println(j + "*" + i + "=" + (i * j));\n    }\n}\n\n\n1\n2\n3\n4\n5\n\n\nç¬¬åæ­¥ï¼è°æ´æ ·å¼\n\nfor (int i = 1; i <= 9 ; i++) {\n    for (int j = 1; j <= i; j++) {\n        system.out.print(j + "*" + i + "=" + (i * j)+ "\\t");\n    }\n    system.out.println();\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\néè¿æ¬ç»ä¹ ï¼å¤§å®¶è¦ä½ä¼å¦ä½åæé®é¢ãå¦ä½åå¥é®é¢ï¼å¨æä»¬ä»¥ååä»£ç çè¿ç¨ä¸­ï¼ä¸å®è¦å­¦ä¼å°ä¸ ä¸ªå¤§é®é¢åè§£æè¥å¹²å°é®é¢ï¼ç¶åï¼ç±æå°é¾ï¼åä¸ªå»ç ´ï¼è¿ä¹æ¯æä»¬ä»¥åå¼åé¡¹ç®æ¶çåºæ¬æç»´è¿ç¨ãå¸æå¤§å®¶å¥½å¥½ä½ä¼ï¼\n\n\n# 5ãå¢å¼ºforå¾ªç¯\n\njava5 å¼å¥äºä¸ç§ä¸»è¦ç¨äºæ°ç»æéåçå¢å¼ºå for å¾ªç¯ã\n\njava å¢å¼º for å¾ªç¯è¯­æ³æ ¼å¼å¦ä¸:\n\nfor(å£°æè¯­å¥ : è¡¨è¾¾å¼)\n{\n    //ä»£ç å¥å­\n}\n\n\n1\n2\n3\n4\n\n\nå£°æè¯­å¥ï¼å£°ææ°çå±é¨åéï¼è¯¥åéçç±»åå¿é¡»åæ°ç»åç´ çç±»åå¹éãå¶ä½ç¨åéå®å¨å¾ªç¯è¯­å¥ åï¼å¶å¼ä¸æ­¤æ¶æ°ç»åç´ çå¼ç¸ç­ã\n\nè¡¨è¾¾å¼ï¼è¡¨è¾¾å¼æ¯è¦è®¿é®çæ°ç»åï¼æèæ¯è¿åå¼ä¸ºæ°ç»çæ¹æ³ã\n\nãæ¼ç¤ºï¼å¢å¼ºforå¾ªç¯éåè¾åºæ°ç»åç´ ã\n\npublic static void main(string[] args) {\n    \n    int [] numbers = {10, 20, 30, 40, 50};\n    for(int x : numbers ){\n        system.out.print( x );\n        system.out.print(",");\n    }\n    system.out.print("\\n");\n    \n    string [] names ={"james", "larry", "tom", "lacy"};\n    for( string name : names ) {\n        system.out.print( name );\n        system.out.print(",");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\næä»¬ç°å¨æä¸æè¿ä¸ªæ²¡å³ç³»ï¼å°±æ¯æåºæ¥åå¤§å®¶è§ä¸é¢ï¼ä¸ç« å°±è®²è§£æ°ç»äºï¼',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"Scanner",frontmatter:{title:"Scanner",date:"2021-04-15T22:45:56.000Z",permalink:"/java/se/process-control/scanner/",categories:["java","java-se"]},regularPath:"/01.Java/02.java-%E5%9F%BA%E7%A1%80/03.%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/01.%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92Scanner.html",relativePath:"01.Java/02.java-åºç¡/03.æµç¨æ§å¶/01.ç¨æ·äº¤äºScanner.md",key:"v-576d295a",path:"/java/se/process-control/scanner/",headers:[{level:2,title:"ç¨æ·äº¤äºScanner",slug:"ç¨æ·äº¤äºscanner",normalizedTitle:"ç¨æ·äº¤äºscanner",charIndex:18},{level:3,title:"1ãScannerå¯¹è±¡",slug:"_1ãscannerå¯¹è±¡",normalizedTitle:"1ãscannerå¯¹è±¡",charIndex:34},{level:3,title:"2ãnext & nextLine",slug:"_2ãnext-nextline",normalizedTitle:"2ãnext &amp; nextline",charIndex:null},{level:3,title:"3ãå¶ä»æ¹æ³",slug:"_3ãå¶ä»æ¹æ³",normalizedTitle:"3ãå¶ä»æ¹æ³",charIndex:1498}],headersStr:"ç¨æ·äº¤äºScanner 1ãScannerå¯¹è±¡ 2ãnext & nextLine 3ãå¶ä»æ¹æ³",content:'# JavaSE-æµç¨æ§å¶\n\n\n# ç¨æ·äº¤äºScanner\n\n\n# 1ãScannerå¯¹è±¡\n\nä¹åæä»¬å­¦çåºæ¬è¯­æ³ä¸­æä»¬å¹¶æ²¡æå®ç°ç¨åºåäººçäº¤äºï¼ä½æ¯Javaç»æä»¬æä¾äºè¿æ ·ä¸ä¸ªå·¥å·ç±»ï¼æ ä»¬å¯ä»¥è·åç¨æ·çè¾å¥ãjava.util.Scanner æ¯ Java5 çæ°ç¹å¾ï¼æä»¬å¯ä»¥éè¿ Scanner ç±»æ¥è·åç¨æ·çè¾å¥ã\n\nä¸é¢æ¯åå»º Scanner å¯¹è±¡çåºæ¬è¯­æ³ï¼\n\nScanner s = new Scanner(System.in);\n\n\n1\n\n\næ¥ä¸æ¥æä»¬æ¼ç¤ºä¸ä¸ªæç®åçæ°æ®è¾å¥ï¼å¹¶éè¿ Scanner ç±»ç next() ä¸ nextLine() æ¹æ³è·åè¾å¥çå­ç¬¦ä¸²ï¼å¨è¯»ååæä»¬ä¸è¬éè¦ ä½¿ç¨ hasNext() ä¸ hasNextLine() å¤æ­æ¯å¦è¿æè¾å¥çæ°æ®ã\n\n\n# 2ãnext & nextLine\n\npublic static void main(String[] args) {\n    //åå»ºä¸ä¸ªæ«æå¨å¯¹è±¡ï¼ç¨äºæ¥æ¶é®çæ°æ®\n    Scanner scanner = new Scanner(System.in);\n    //nextæ¹å¼æ¥æ¶å­ç¬¦ä¸²\n    System.out.println("Nextæ¹å¼æ¥æ¶:");\n    //å¤æ­ç¨æ·è¿ææ²¡æè¾å¥å­ç¬¦\n    if (scanner.hasNext()) {\n        String str = scanner.next();\n        System.out.println("è¾å¥åå®¹ï¼" + str);\n    }\n    //å¡æ¯å±äºIOæµçç±»å¦æä¸å³é­ä¼ä¸ç´å ç¨èµæº.è¦å»æå¥½ä¹ æ¯ç¨å®å°±å³æ.å°±å¥½åä½ æ¥æ°´å®äºè¦å³æ°´é¾å¤´ä¸æ ·.å¾å¤ä¸è½½è½¯ä»¶æèè§é¢è½¯ä»¶å¦æä½ ä¸å½»åºå³, é½ä¼èªå·±ä¸ä¼ ä¸è½½ä»èå ç¨èµæº, ä½ å°±ä¼è§å¾å¡, è¿ä¸ä¸ªéç.\n    scanner.close();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\næµè¯æ°æ®ï¼Hello Worldï¼\n\nç»æï¼åªè¾åºäºHelloã\n\næ¥ä¸æ¥æä»¬ä½¿ç¨å¦ä¸ä¸ªæ¹æ³æ¥æ¥æ¶æ°æ®ï¼nextLine()\n\npublic static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n    // ä»é®çæ¥æ¶æ°æ®\n    // nextLineæ¹å¼æ¥æ¶å­ç¬¦ä¸²\n    System.out.println("nextLineæ¹å¼æ¥æ¶ï¼");\n    // å¤æ­æ¯å¦è¿æè¾å¥\n    if (scan.hasNextLine()) {\n        String str2 = scan.nextLine();\n        System.out.println("è¾å¥åå®¹ï¼" + str2);\n    }\n    scan.close();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\næµè¯æ°æ®ï¼Hello Worldï¼\n\nç»æï¼è¾åºäºHello Worldï¼\n\nä¸¤èåºå«ï¼\n\nnext():\n\n * ä¸å®è¦è¯»åå°ææå­ç¬¦åæå¯ä»¥ç»æè¾å¥ã\n * å¯¹è¾å¥ææå­ç¬¦ä¹åéå°çç©ºç½ï¼next() æ¹æ³ä¼èªå¨å°å¶å»æã\n * åªæè¾å¥ææå­ç¬¦åæå°å¶åé¢è¾å¥çç©ºç½ä½ä¸ºåéç¬¦æèç»æç¬¦ã\n * next() ä¸è½å¾å°å¸¦æç©ºæ ¼çå­ç¬¦ä¸²ã\n\nnextLine()ï¼\n\n * ä»¥Enterä¸ºç»æç¬¦,ä¹å°±æ¯è¯´ nextLine()æ¹æ³è¿åçæ¯è¾å¥åè½¦ä¹åçææå­ç¬¦ã\n * å¯ä»¥è·å¾ç©ºç½ã\n\n\n# 3ãå¶ä»æ¹æ³\n\nå¦æè¦è¾å¥ int æ float ç±»åçæ°æ®ï¼å¨ Scanner ç±»ä¸­ä¹ææ¯æï¼ä½æ¯å¨è¾å¥ä¹åæå¥½åä½¿ç¨ hasNextXxx() æ¹æ³è¿è¡éªè¯ï¼åä½¿ç¨ nextXxx() æ¥è¯»åï¼\n\npublic static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n    // ä»é®çæ¥æ¶æ°æ®\n    int i = 0;\n    float f = 0.0f;\n    System.out.print("è¾å¥æ´æ°ï¼");\n    if (scan.hasNextInt()) {\n        // å¤æ­è¾å¥çæ¯å¦æ¯æ´æ°\n        i = scan.nextInt();\n        // æ¥æ¶æ´æ°\n        System.out.println("æ´æ°æ°æ®ï¼" + i);\n    } else {\n        // è¾å¥éè¯¯çä¿¡æ¯\n        System.out.println("è¾å¥çä¸æ¯æ´æ°ï¼");\n    }\n    System.out.print("è¾å¥å°æ°ï¼");\n    if (scan.hasNextFloat()) {\n        // å¤æ­è¾å¥çæ¯å¦æ¯å°æ°\n        f = scan.nextFloat();\n        // æ¥æ¶å°æ°\n        System.out.println("å°æ°æ°æ®ï¼" + f);\n    } else {\n        // è¾å¥éè¯¯çä¿¡æ¯\n        System.out.println("è¾å¥çä¸æ¯å°æ°ï¼");\n    }\n    scan.close();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\nå·ä½Scannerç±»é½æä»ä¹æ¹æ³ï¼å¯æ¥çå¶ä¸­çæºç ï¼ctrl+é¼ æ å·¦é® ç¹ä¸­ideaä¸­çScanner\n\nä»¥ä¸å®ä¾æä»¬å¯ä»¥è¾å¥å¤ä¸ªæ°å­ï¼å¹¶æ±å¶æ»åä¸å¹³åæ°ï¼æ¯è¾å¥ä¸ä¸ªæ°å­ç¨åè½¦ç¡®è®¤ï¼éè¿è¾å¥éæ°å­æ¥ç»æè¾å¥ï¼å¹¶è¾åºæ§è¡ç»æï¼\n\npublic static void main(String[] args) {\n    //æ«æå¨æ¥æ¶é®çæ°æ®\n    Scanner scan = new Scanner(System.in);\n    double sum = 0; //å\n    int m = 0; //è¾å¥äºå¤å°ä¸ªæ°å­\n    //éè¿å¾ªç¯å¤æ­æ¯å¦è¿æè¾å¥ï¼å¹¶å¨éé¢å¯¹æ¯ä¸æ¬¡è¿è¡æ±ååç»è®¡\n    while (scan.hasNextDouble()) {\n        double x = scan.nextDouble();\n        m = m + 1;\n        sum = sum + x;\n    }\n    System.out.println(m + "ä¸ªæ°çåä¸º" + sum);\n    System.out.println(m + "ä¸ªæ°çå¹³åå¼æ¯" + (sum / m));\n    scan.close();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nå¯è½å¾å¤å°ä¼ä¼´å°è¿éå°±çä¸æåçä»ä¹ä¸è¥¿äºï¼è¿éæä»¬ä½¿ç¨äºæä»¬ä¸ä¼è¦å­¦çæµç¨æ§å¶è¯­å¥ï¼æä»¬ æ¥ä¸æ¥å°±å»å­¦ä¹ è¿äºè¯­å¥çå·ä½ä½ç¨ï¼\n\nJavaä¸­çæµç¨æ§å¶è¯­å¥å¯ä»¥è¿æ ·åç±»ï¼é¡ºåºç»æï¼éæ©ç»æï¼å¾ªç¯ç»æï¼è¿ä¸ç§ç»æå°±è¶³å¤è§£å³ææç é®é¢äºï¼',normalizedContent:'# javase-æµç¨æ§å¶\n\n\n# ç¨æ·äº¤äºscanner\n\n\n# 1ãscannerå¯¹è±¡\n\nä¹åæä»¬å­¦çåºæ¬è¯­æ³ä¸­æä»¬å¹¶æ²¡æå®ç°ç¨åºåäººçäº¤äºï¼ä½æ¯javaç»æä»¬æä¾äºè¿æ ·ä¸ä¸ªå·¥å·ç±»ï¼æ ä»¬å¯ä»¥è·åç¨æ·çè¾å¥ãjava.util.scanner æ¯ java5 çæ°ç¹å¾ï¼æä»¬å¯ä»¥éè¿ scanner ç±»æ¥è·åç¨æ·çè¾å¥ã\n\nä¸é¢æ¯åå»º scanner å¯¹è±¡çåºæ¬è¯­æ³ï¼\n\nscanner s = new scanner(system.in);\n\n\n1\n\n\næ¥ä¸æ¥æä»¬æ¼ç¤ºä¸ä¸ªæç®åçæ°æ®è¾å¥ï¼å¹¶éè¿ scanner ç±»ç next() ä¸ nextline() æ¹æ³è·åè¾å¥çå­ç¬¦ä¸²ï¼å¨è¯»ååæä»¬ä¸è¬éè¦ ä½¿ç¨ hasnext() ä¸ hasnextline() å¤æ­æ¯å¦è¿æè¾å¥çæ°æ®ã\n\n\n# 2ãnext & nextline\n\npublic static void main(string[] args) {\n    //åå»ºä¸ä¸ªæ«æå¨å¯¹è±¡ï¼ç¨äºæ¥æ¶é®çæ°æ®\n    scanner scanner = new scanner(system.in);\n    //nextæ¹å¼æ¥æ¶å­ç¬¦ä¸²\n    system.out.println("nextæ¹å¼æ¥æ¶:");\n    //å¤æ­ç¨æ·è¿ææ²¡æè¾å¥å­ç¬¦\n    if (scanner.hasnext()) {\n        string str = scanner.next();\n        system.out.println("è¾å¥åå®¹ï¼" + str);\n    }\n    //å¡æ¯å±äºioæµçç±»å¦æä¸å³é­ä¼ä¸ç´å ç¨èµæº.è¦å»æå¥½ä¹ æ¯ç¨å®å°±å³æ.å°±å¥½åä½ æ¥æ°´å®äºè¦å³æ°´é¾å¤´ä¸æ ·.å¾å¤ä¸è½½è½¯ä»¶æèè§é¢è½¯ä»¶å¦æä½ ä¸å½»åºå³, é½ä¼èªå·±ä¸ä¼ ä¸è½½ä»èå ç¨èµæº, ä½ å°±ä¼è§å¾å¡, è¿ä¸ä¸ªéç.\n    scanner.close();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\næµè¯æ°æ®ï¼hello worldï¼\n\nç»æï¼åªè¾åºäºhelloã\n\næ¥ä¸æ¥æä»¬ä½¿ç¨å¦ä¸ä¸ªæ¹æ³æ¥æ¥æ¶æ°æ®ï¼nextline()\n\npublic static void main(string[] args) {\n    scanner scan = new scanner(system.in);\n    // ä»é®çæ¥æ¶æ°æ®\n    // nextlineæ¹å¼æ¥æ¶å­ç¬¦ä¸²\n    system.out.println("nextlineæ¹å¼æ¥æ¶ï¼");\n    // å¤æ­æ¯å¦è¿æè¾å¥\n    if (scan.hasnextline()) {\n        string str2 = scan.nextline();\n        system.out.println("è¾å¥åå®¹ï¼" + str2);\n    }\n    scan.close();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\næµè¯æ°æ®ï¼hello worldï¼\n\nç»æï¼è¾åºäºhello worldï¼\n\nä¸¤èåºå«ï¼\n\nnext():\n\n * ä¸å®è¦è¯»åå°ææå­ç¬¦åæå¯ä»¥ç»æè¾å¥ã\n * å¯¹è¾å¥ææå­ç¬¦ä¹åéå°çç©ºç½ï¼next() æ¹æ³ä¼èªå¨å°å¶å»æã\n * åªæè¾å¥ææå­ç¬¦åæå°å¶åé¢è¾å¥çç©ºç½ä½ä¸ºåéç¬¦æèç»æç¬¦ã\n * next() ä¸è½å¾å°å¸¦æç©ºæ ¼çå­ç¬¦ä¸²ã\n\nnextline()ï¼\n\n * ä»¥enterä¸ºç»æç¬¦,ä¹å°±æ¯è¯´ nextline()æ¹æ³è¿åçæ¯è¾å¥åè½¦ä¹åçææå­ç¬¦ã\n * å¯ä»¥è·å¾ç©ºç½ã\n\n\n# 3ãå¶ä»æ¹æ³\n\nå¦æè¦è¾å¥ int æ float ç±»åçæ°æ®ï¼å¨ scanner ç±»ä¸­ä¹ææ¯æï¼ä½æ¯å¨è¾å¥ä¹åæå¥½åä½¿ç¨ hasnextxxx() æ¹æ³è¿è¡éªè¯ï¼åä½¿ç¨ nextxxx() æ¥è¯»åï¼\n\npublic static void main(string[] args) {\n    scanner scan = new scanner(system.in);\n    // ä»é®çæ¥æ¶æ°æ®\n    int i = 0;\n    float f = 0.0f;\n    system.out.print("è¾å¥æ´æ°ï¼");\n    if (scan.hasnextint()) {\n        // å¤æ­è¾å¥çæ¯å¦æ¯æ´æ°\n        i = scan.nextint();\n        // æ¥æ¶æ´æ°\n        system.out.println("æ´æ°æ°æ®ï¼" + i);\n    } else {\n        // è¾å¥éè¯¯çä¿¡æ¯\n        system.out.println("è¾å¥çä¸æ¯æ´æ°ï¼");\n    }\n    system.out.print("è¾å¥å°æ°ï¼");\n    if (scan.hasnextfloat()) {\n        // å¤æ­è¾å¥çæ¯å¦æ¯å°æ°\n        f = scan.nextfloat();\n        // æ¥æ¶å°æ°\n        system.out.println("å°æ°æ°æ®ï¼" + f);\n    } else {\n        // è¾å¥éè¯¯çä¿¡æ¯\n        system.out.println("è¾å¥çä¸æ¯å°æ°ï¼");\n    }\n    scan.close();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\nå·ä½scannerç±»é½æä»ä¹æ¹æ³ï¼å¯æ¥çå¶ä¸­çæºç ï¼ctrl+é¼ æ å·¦é® ç¹ä¸­ideaä¸­çscanner\n\nä»¥ä¸å®ä¾æä»¬å¯ä»¥è¾å¥å¤ä¸ªæ°å­ï¼å¹¶æ±å¶æ»åä¸å¹³åæ°ï¼æ¯è¾å¥ä¸ä¸ªæ°å­ç¨åè½¦ç¡®è®¤ï¼éè¿è¾å¥éæ°å­æ¥ç»æè¾å¥ï¼å¹¶è¾åºæ§è¡ç»æï¼\n\npublic static void main(string[] args) {\n    //æ«æå¨æ¥æ¶é®çæ°æ®\n    scanner scan = new scanner(system.in);\n    double sum = 0; //å\n    int m = 0; //è¾å¥äºå¤å°ä¸ªæ°å­\n    //éè¿å¾ªç¯å¤æ­æ¯å¦è¿æè¾å¥ï¼å¹¶å¨éé¢å¯¹æ¯ä¸æ¬¡è¿è¡æ±ååç»è®¡\n    while (scan.hasnextdouble()) {\n        double x = scan.nextdouble();\n        m = m + 1;\n        sum = sum + x;\n    }\n    system.out.println(m + "ä¸ªæ°çåä¸º" + sum);\n    system.out.println(m + "ä¸ªæ°çå¹³åå¼æ¯" + (sum / m));\n    scan.close();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nå¯è½å¾å¤å°ä¼ä¼´å°è¿éå°±çä¸æåçä»ä¹ä¸è¥¿äºï¼è¿éæä»¬ä½¿ç¨äºæä»¬ä¸ä¼è¦å­¦çæµç¨æ§å¶è¯­å¥ï¼æä»¬ æ¥ä¸æ¥å°±å»å­¦ä¹ è¿äºè¯­å¥çå·ä½ä½ç¨ï¼\n\njavaä¸­çæµç¨æ§å¶è¯­å¥å¯ä»¥è¿æ ·åç±»ï¼é¡ºåºç»æï¼éæ©ç»æï¼å¾ªç¯ç»æï¼è¿ä¸ç§ç»æå°±è¶³å¤è§£å³ææç é®é¢äºï¼',charsets:{cjk:!0},lastUpdated:"2021/05/26, 10:05:00",lastUpdatedTimestamp:1622024154e3},{title:"æ¹æ³",frontmatter:{title:"æ¹æ³",date:"2021-04-15T22:46:09.000Z",permalink:"/java/se/method/",categories:["java","java-se"]},regularPath:"/01.Java/02.java-%E5%9F%BA%E7%A1%80/04.%E6%96%B9%E6%B3%95.html",relativePath:"01.Java/02.java-åºç¡/04.æ¹æ³.md",key:"v-1fb534ce",path:"/java/se/method/",headers:[{level:2,title:"1ãä½è°æ¹æ³ï¼",slug:"_1ãä½è°æ¹æ³",normalizedTitle:"1ãä½è°æ¹æ³ï¼",charIndex:16},{level:2,title:"2ãæ¹æ³çå®ä¹",slug:"_2ãæ¹æ³çå®ä¹",normalizedTitle:"2ãæ¹æ³çå®ä¹",charIndex:437},{level:2,title:"3ãæ¹æ³è°ç¨",slug:"_3ãæ¹æ³è°ç¨",normalizedTitle:"3ãæ¹æ³è°ç¨",charIndex:1391},{level:2,title:"4ãæ¹æ³çéè½½",slug:"_4ãæ¹æ³çéè½½",normalizedTitle:"4ãæ¹æ³çéè½½",charIndex:2293},{level:2,title:"5ãæå±å½ä»¤è¡ä¼ å",slug:"_5ãæå±å½ä»¤è¡ä¼ å",normalizedTitle:"5ãæå±å½ä»¤è¡ä¼ å",charIndex:2925},{level:2,title:"6ãå¯ååæ°",slug:"_6ãå¯ååæ°",normalizedTitle:"6ãå¯ååæ°",charIndex:3402},{level:2,title:"7ãéå½",slug:"_7ãéå½",normalizedTitle:"7ãéå½",charIndex:4137}],headersStr:"1ãä½è°æ¹æ³ï¼ 2ãæ¹æ³çå®ä¹ 3ãæ¹æ³è°ç¨ 4ãæ¹æ³çéè½½ 5ãæå±å½ä»¤è¡ä¼ å 6ãå¯ååæ° 7ãéå½",content:'# JavaSE-æ¹æ³\n\n\n# 1ãä½è°æ¹æ³ï¼\n\nå¨åé¢å ä¸ªç« èä¸­æä»¬ç»å¸¸ä½¿ç¨å° System.out.println()ï¼é£ä¹å®æ¯ä»ä¹å¢ï¼\n\n * println() æ¯ä¸ä¸ªæ¹æ³ã\n * System æ¯ç³»ç»ç±»ã\n * out æ¯æ åè¾åºå¯¹è±¡ã\n\nè¿å¥è¯çç¨æ³æ¯è°ç¨ç³»ç»ç±» System ä¸­çæ åè¾åºå¯¹è±¡ out ä¸­çæ¹æ³ println()ã\n\né£ä¹ä»ä¹æ¯æ¹æ³å¢ï¼\n\nJavaæ¹æ³æ¯è¯­å¥çéåï¼å®ä»¬å¨ä¸èµ·æ§è¡ä¸ä¸ªåè½ã\n\n * æ¹æ³æ¯è§£å³ä¸ç±»é®é¢çæ­¥éª¤çæåºç»å\n * æ¹æ³åå«äºç±»æå¯¹è±¡ä¸­\n * æ¹æ³å¨ç¨åºä¸­è¢«åå»ºï¼å¨å¶ä»å°æ¹è¢«å¼ç¨\n\nè®¾è®¡æ¹æ³çååï¼æ¹æ³çæ¬ææ¯åè½åï¼å°±æ¯å®ç°æä¸ªåè½çè¯­å¥åçéåãæä»¬è®¾è®¡æ¹æ³çæ¶åï¼æ å¥½ä¿ææ¹æ³çåå­æ§ï¼å°±æ¯ä¸ä¸ªæ¹æ³åªå®æ1ä¸ªåè½ï¼è¿æ ·å©äºæä»¬åæçæ©å±ã\n\næ¹æ³çä¼ç¹\n\n * ä½¿ç¨åºåå¾æ´ç®ç­èæ¸æ°ã\n * æå©äºç¨åºç»´æ¤ã\n * å¯ä»¥æé«ç¨åºå¼åçæçã\n * æé«äºä»£ç çéç¨æ§ã\n\nåé¡¾ï¼æ¹æ³çå½åè§åï¼\n\n\n# 2ãæ¹æ³çå®ä¹\n\nJavaçæ¹æ³ç±»ä¼¼äºå¶å®è¯­è¨çå½æ°ï¼æ¯ä¸æ®µç¨æ¥å®æç¹å®åè½çä»£ç çæ®µï¼ä¸è¬æåµä¸ï¼å®ä¹ä¸ä¸ªæ¹æ³ åå«ä»¥ä¸è¯­æ³ï¼\n\nä¿®é¥°ç¬¦ è¿åå¼ç±»å æ¹æ³å(åæ°ç±»å åæ°å){\n    ...\n    æ¹æ³ä½\n    ...\n    return è¿åå¼;\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\næ¹æ³åå«ä¸ä¸ªæ¹æ³å¤´åä¸ä¸ªæ¹æ³ä½ãä¸é¢æ¯ä¸ä¸ªæ¹æ³çææé¨åï¼\n\n * ä¿®é¥°ç¬¦\n   \n   ä¿®é¥°ç¬¦ï¼è¿æ¯å¯éçï¼åè¯ç¼è¯å¨å¦ä½è°ç¨è¯¥æ¹æ³ãå®ä¹äºè¯¥æ¹æ³çè®¿é®ç±»åã\n\n * è¿åå¼ç±»å\n   \n   æ¹æ³å¯è½ä¼è¿åå¼ãreturnValueType æ¯æ¹æ³è¿åå¼çæ°æ®ç±»åãæäºæ¹æ³æ§è¡æé çæä½ï¼ä½æ²¡æè¿åå¼ãå¨è¿ç§æåµä¸ï¼returnValueType æ¯å³é®å­voidã\n\n * æ¹æ³å\n   \n   æ¯æ¹æ³çå®éåç§°ãæ¹æ³åååæ°è¡¨å±åæææ¹æ³ç­¾åã\n\n * åæ°ç±»å\n   \n   åæ°åæ¯ä¸ä¸ªå ä½ç¬¦ãå½æ¹æ³è¢«è°ç¨æ¶ï¼ä¼ éå¼ç»åæ°ãè¿ä¸ªå¼è¢«ç§°ä¸ºå®åæåéãåæ°åè¡¨æ¯ææ¹æ³çåæ°ç±»åãé¡ºåºååæ°çä¸ªæ°ãåæ°æ¯å¯éçï¼æ¹æ³å¯ä»¥ä¸åå«ä»»ä½åæ°ã\n   \n   * å½¢å¼åæ°ï¼å¨æ¹æ³è¢«è°ç¨æ¶ç¨äºæ¥æ¶å¤çè¾å¥çæ°æ®ã\n   * å®åï¼è°ç¨æ¹æ³æ¶å®éä¼ ç»æ¹æ³çæ°æ®ã\n   \n   \n\n * æ¹æ³ä½\n   \n   æ¹æ³ä½åå«å·ä½çè¯­å¥ï¼å®ä¹è¯¥æ¹æ³çåè½ã\n\næ¯å¦æä»¬åä¸ä¸ªæ¯å¤§å°çæ¹æ³ï¼\n\nãæ¼ç¤ºãä¸é¢çæ¹æ³åå« 2 ä¸ªåæ° num1 å num2ï¼å®è¿åè¿ä¸¤ä¸ªåæ°çæå¤§å¼ã\n\n/** è¿åä¸¤ä¸ªæ´ååéæ°æ®çè¾å¤§å¼ */\npublic static int max(int num1, int num2) {\n    int result;\n    if (num1 > num2){\n        result = num1;\n    }\n    else{\n        result = num2;\n    }\n        \n    return result;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nãæ¼ç¤ºï¼å æ³ã\n\npublic int add(int num1, int num2) {\n    return num1+num2;\n}\n\n\n1\n2\n3\n\n\n\n# 3ãæ¹æ³è°ç¨\n\nJava æ¯æä¸¤ç§è°ç¨æ¹æ³çæ¹å¼ï¼æ ¹æ®æ¹æ³æ¯å¦è¿åå¼æ¥éæ©ã\n\nå½ç¨åºè°ç¨ä¸ä¸ªæ¹æ³æ¶ï¼ç¨åºçæ§å¶æäº¤ç»äºè¢«è°ç¨çæ¹æ³ãå½è¢«è°ç¨æ¹æ³çè¿åè¯­å¥æ§è¡æèå°è¾¾æ¹æ³ä½é­æ¬å·æ¶åäº¤è¿æ§å¶æç»ç¨åºã\n\nå½æ¹æ³è¿åä¸ä¸ªå¼çæ¶åï¼æ¹æ³è°ç¨éå¸¸è¢«å½åä¸ä¸ªå¼ãä¾å¦ï¼\n\nint larger = max(30, 40);\n\n\n1\n\n\nJavaè¯­è¨ä¸­ä½¿ç¨ä¸è¿°å½¢å¼è°ç¨æ¹æ³ï¼å¯¹è±¡å.æ¹æ³å(å®ååè¡¨)\n\nå¦ææ¹æ³è¿åå¼æ¯voidï¼æ¹æ³è°ç¨ä¸å®æ¯ä¸æ¡è¯­å¥ãä¾å¦ï¼æ¹æ³printlnè¿åvoidãä¸é¢çè°ç¨æ¯ä¸ªè¯­å¥ï¼\n\nSystem.out.println("Hello,kuangshen!");\n\n\n1\n\n\nãæ¼ç¤ºï¼å®ä¹æ¹æ³å¹¶ä¸è°ç¨å®ã\n\npublic static void main(String[] args) {\n    int i = 5;\n    int j = 2;\n    int k = max(i, j);\n    System.out.println( i + " å " + j + " æ¯è¾ï¼æå¤§å¼æ¯ï¼" + k);\n}\n\n/** è¿åä¸¤ä¸ªæ´æ°åéè¾å¤§çå¼ */\npublic static int max(int num1, int num2) {\n    int result;\n    if (num1 > num2){\n        result = num1;\n    }  \n    else{\n        result = num2;\n    }\n    return result;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nè¿ä¸ªç¨åºåå« main æ¹æ³å max æ¹æ³ãmain æ¹æ³æ¯è¢« JVM è°ç¨çï¼é¤æ­¤ä¹å¤ï¼main æ¹æ³åå¶å®æ¹æ³ æ²¡ä»ä¹åºå«ãJAVAä¸­åªæå¼ä¼ éï¼\n\nmain æ¹æ³çå¤´é¨æ¯ä¸åçï¼å¦ä¾å­æç¤ºï¼å¸¦ä¿®é¥°ç¬¦ public å static,è¿å void ç±»åå¼ï¼æ¹æ³åå­æ¯ main,æ­¤å¤å¸¦ä¸ªä¸ä¸ª String[] ç±»ååæ°ãString[] è¡¨æåæ°æ¯å­ç¬¦ä¸²æ°ç»ã\n\n\n# 4ãæ¹æ³çéè½½\n\nä¸é¢ä½¿ç¨çmaxæ¹æ³ä»ä»éç¨äºintåæ°æ®ãä½å¦æä½ æ³å¾å°ä¸¤ä¸ªæµ®ç¹ç±»åæ°æ®çæå¤§å¼å¢ï¼\n\nè§£å³æ¹æ³æ¯åå»ºå¦ä¸ä¸ªæç¸ååå­ä½åæ°ä¸åçæ¹æ³ï¼å¦ä¸é¢ä»£ç æç¤ºï¼\n\npublic static double max(double num1, double num2) {\n    if (num1 > num2)\n    return num1;\n    else\n    return num2;\n}\n\npublic static int max(int num1, int num2) {\n    int result;\n    if (num1 > num2)\n    result = num1;\n    else\n    result = num2;\n    return result;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nå¦æä½ è°ç¨maxæ¹æ³æ¶ä¼ éçæ¯intååæ°ï¼å intååæ°çmaxæ¹æ³å°±ä¼è¢«è°ç¨ï¼\n\nå¦æä¼ éçæ¯doubleååæ°ï¼ådoubleç±»åçmaxæ¹æ³ä½ä¼è¢«è°ç¨ï¼è¿å«åæ¹æ³éè½½ï¼\n\nå°±æ¯è¯´ä¸ä¸ªç±»çä¸¤ä¸ªæ¹æ³æ¥æç¸åçåå­ï¼ä½æ¯æä¸åçåæ°åè¡¨ã\n\nJavaç¼è¯å¨æ ¹æ®æ¹æ³ç­¾åå¤æ­åªä¸ªæ¹æ³åºè¯¥è¢«è°ç¨ã\n\næ¹æ³éè½½å¯ä»¥è®©ç¨åºæ´æ¸æ°æè¯»ãæ§è¡å¯åç¸å³ä»»å¡çæ¹æ³åºè¯¥ä½¿ç¨ç¸åçåå­ã\n\néè½½çæ¹æ³å¿é¡»æ¥æä¸åçåæ°åè¡¨ãä½ ä¸è½ä»ä»ä¾æ®ä¿®é¥°ç¬¦æèè¿åç±»åçä¸åæ¥éè½½æ¹æ³ã\n\n\n# 5ãæå±å½ä»¤è¡ä¼ å\n\nææ¶åä½ å¸æè¿è¡ä¸ä¸ªç¨åºæ¶ååä¼ éç»å®æ¶æ¯ãè¿è¦é ä¼ éå½ä»¤è¡åæ°ç»main()å½æ°å®ç°ã\n\nå½ä»¤è¡åæ°æ¯å¨æ§è¡ç¨åºæ¶åç´§è·å¨ç¨åºåå­åé¢çä¿¡æ¯ã\n\nãä¸é¢çç¨åºæå°ææçå½ä»¤è¡åæ°ã\n\npublic class CommandLine {\n\tpublic static void main(String args[]){\n\t\tfor(int i=0; i<args.length; i++){\n\t\t\tSystem.out.println("args[" + i + "]: " + args[i]);\n\t\t}\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nãå½ä»¤è¡ã\n\njavac CommandLine.java\njava CommandLine this is a command line 200 -100\n\n\n1\n2\n\n\n> args[0]: this args[1]: is args[2]: a args[3]: command args[4]: line args[5]: 200 args[6]: -100\n\n\n# 6ãå¯ååæ°\n\nJDK 1.5 å¼å§ï¼Javaæ¯æä¼ éåç±»åçå¯ååæ°ç»ä¸ä¸ªæ¹æ³ã\n\næ¹æ³çå¯ååæ°çå£°æå¦ä¸æç¤ºï¼\n\n> typeName... parameterName\n\nå¨æ¹æ³å£°æä¸­ï¼å¨æå®åæ°ç±»ååå ä¸ä¸ªçç¥å·(...)\n\nä¸ä¸ªæ¹æ³ä¸­åªè½æå®ä¸ä¸ªå¯ååæ°ï¼å®å¿é¡»æ¯æ¹æ³çæåä¸ä¸ªåæ°ãä»»ä½æ®éçåæ°å¿é¡»å¨å®ä¹åå£°æã\n\npublic static void main(String[] args) {\n    // è°ç¨å¯ååæ°çæ¹æ³\n    printMax(34, 3, 3, 2, 56.5);\n    printMax(new double[]{1, 2, 3});\n}\n\npublic static void printMax(double... numbers) {\n    if (numbers.length == 0) {\n        System.out.println("No argument passed");\n        return;\n    }\n    double result = numbers[0];\n    //æåºï¼\n    for (int i = 1; i < numbers.length; i++) {\n        if (numbers[i] > result) {\n            result = numbers[i];\n        }\n    }\n    System.out.println("The max value is " + result);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# 7ãéå½\n\nAæ¹æ³è°ç¨Bæ¹æ³ï¼æä»¬å¾å®¹æçè§£ï¼\n\néå½å°±æ¯ï¼Aæ¹æ³è°ç¨Aæ¹æ³ï¼å°±æ¯èªå·±è°ç¨èªå·±ï¼å æ­¤æä»¬å¨è®¾è®¡éå½ç®æ³æ¶ï¼ä¸å®è¦ææä»ä¹æ¶åèªå·±ä¸è°ç¨èªå·±ãå¦åï¼å°±æ¯ä¸ªæ­»å¾ªç¯ï¼\n\néå½ç®æ³éç¹ï¼\n\néå½æ¯ä¸ç§å¸¸è§çè§£å³é®é¢çæ¹æ³ï¼å³æé®é¢éæ¸ç®ååãéå½çåºæ¬ææ³å°±æ¯âèªå·±è°ç¨èªå·±âï¼ä¸ä¸ªä½¿ç¨éå½ææ¯çæ¹æ³å°ä¼ç´æ¥æèé´æ¥çè°ç¨èªå·±ã\n\nå©ç¨éå½å¯ä»¥ç¨ç®åçç¨åºæ¥è§£å³ä¸äºå¤æçé®é¢ãå®éå¸¸æä¸ä¸ªå¤§åå¤æçé®é¢å±å±è½¬åä¸ºä¸ä¸ªä¸å é®é¢ç¸ä¼¼çè§æ¨¡è¾å°çé®é¢æ¥æ±è§£ï¼éå½ç­ç¥åªéå°éçç¨åºå°±å¯æè¿°åºè§£é¢è¿ç¨æéè¦çå¤æ¬¡éå¤è®¡ ç®ï¼å¤§å¤§å°åå°äºç¨åºçä»£ç éãéå½çè½åå¨äºç¨æéçè¯­å¥æ¥å®ä¹å¯¹è±¡çæ ééåã\n\néå½ç»æåæ¬ä¸¤ä¸ªé¨åï¼\n\n * éå½å¤´\n   \n   ä»ä¹æ¶åä¸è°ç¨èªèº«æ¹æ³ãå¦ææ²¡æå¤´ï¼å°é·å¥æ­»å¾ªç¯ã\n\n * éå½ä½\n\nä»ä¹æ¶åéè¦è°ç¨èªèº«æ¹æ³ã\n\nãæ¼ç¤ºï¼å©ç¨ä»£ç è®¡ç®5çä¹é¶ï¼ã\n\n//5*4*3*2*1\npublic static void main(String[] args) {\n    System.out.println(f(5));\n}\npublic static int f(int n) {\n    if (1 == n)\n    \treturn 1;\n    else\n    \treturn n*f(n-1);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n\næ­¤é¢ä¸­ï¼æç§éå½çä¸ä¸ªæ¡ä»¶æ¥åæï¼\n\n(1)è¾¹çæ¡ä»¶ï¼é¶ä¹ï¼ä¹å°æåä¸ä¸ªæ°ï¼å³1çæ¶åï¼è¿å1ï¼ç¨åºæ§è¡å°åºï¼ (2)éå½åè¿æ®µï¼å½åçåæ°ä¸ç­äº1çæ¶åï¼ç»§ç»­è°ç¨èªèº«ï¼ (3)éå½è¿åæ®µï¼ä»æå¤§çæ°å¼å§ä¹ï¼å¦æå½ååæ°æ¯5ï¼é£ä¹å°±æ¯5* 4ï¼å³5 (5-1)ï¼å³n * (n-1)\n\néå½å¶å®æ¯æ¹ä¾¿äºç¨åºåé¾ä¸ºäºæºå¨ï¼éå½å¯ä»¥éè¿æ°å­¦å¬å¼å¾æ¹ä¾¿çè½¬æ¢ä¸ºç¨åºãå¶ä¼ç¹å°±æ¯æç è§£ï¼å®¹æç¼ç¨ãä½éå½æ¯ç¨æ æºå¶å®ç°çï¼æ¯æ·±å¥ä¸å±ï¼é½è¦å å»ä¸åæ æ°æ®åºåï¼å¯¹åµå¥å±æ°æ·±çä¸ äºç®æ³ï¼éå½ä¼åä¸ä»å¿ï¼ç©ºé´ä¸ä¼ä»¥åå­å´©æºèåç»ï¼èä¸éå½ä¹å¸¦æ¥äºå¤§éçå½æ°è°ç¨ï¼è¿ä¹æè®¸ å¤é¢å¤çæ¶é´å¼éãæä»¥å¨æ·±åº¦å¤§æ¶ï¼å®çæ¶ç©ºæ§å°±ä¸å¥½äºãï¼ä¼å ç¨å¤§éçåå­ç©ºé´ï¼\n\nèè¿­ä»£è½ç¶æçé«ï¼è¿è¡æ¶é´åªå å¾ªç¯æ¬¡æ°å¢å èå¢å ï¼æ²¡ä»ä¹é¢å¤å¼éï¼ç©ºé´ä¸ä¹æ²¡æä»ä¹å¢å ï¼ä½ ç¼ºç¹å°±æ¯ä¸å®¹æçè§£ï¼ç¼åå¤æé®é¢æ¶å°é¾ã\n\nè½ä¸ç¨éå½å°±ä¸ç¨éå½ï¼éå½é½å¯ä»¥ç¨è¿­ä»£æ¥ä»£æ¿',normalizedContent:'# javase-æ¹æ³\n\n\n# 1ãä½è°æ¹æ³ï¼\n\nå¨åé¢å ä¸ªç« èä¸­æä»¬ç»å¸¸ä½¿ç¨å° system.out.println()ï¼é£ä¹å®æ¯ä»ä¹å¢ï¼\n\n * println() æ¯ä¸ä¸ªæ¹æ³ã\n * system æ¯ç³»ç»ç±»ã\n * out æ¯æ åè¾åºå¯¹è±¡ã\n\nè¿å¥è¯çç¨æ³æ¯è°ç¨ç³»ç»ç±» system ä¸­çæ åè¾åºå¯¹è±¡ out ä¸­çæ¹æ³ println()ã\n\né£ä¹ä»ä¹æ¯æ¹æ³å¢ï¼\n\njavaæ¹æ³æ¯è¯­å¥çéåï¼å®ä»¬å¨ä¸èµ·æ§è¡ä¸ä¸ªåè½ã\n\n * æ¹æ³æ¯è§£å³ä¸ç±»é®é¢çæ­¥éª¤çæåºç»å\n * æ¹æ³åå«äºç±»æå¯¹è±¡ä¸­\n * æ¹æ³å¨ç¨åºä¸­è¢«åå»ºï¼å¨å¶ä»å°æ¹è¢«å¼ç¨\n\nè®¾è®¡æ¹æ³çååï¼æ¹æ³çæ¬ææ¯åè½åï¼å°±æ¯å®ç°æä¸ªåè½çè¯­å¥åçéåãæä»¬è®¾è®¡æ¹æ³çæ¶åï¼æ å¥½ä¿ææ¹æ³çåå­æ§ï¼å°±æ¯ä¸ä¸ªæ¹æ³åªå®æ1ä¸ªåè½ï¼è¿æ ·å©äºæä»¬åæçæ©å±ã\n\næ¹æ³çä¼ç¹\n\n * ä½¿ç¨åºåå¾æ´ç®ç­èæ¸æ°ã\n * æå©äºç¨åºç»´æ¤ã\n * å¯ä»¥æé«ç¨åºå¼åçæçã\n * æé«äºä»£ç çéç¨æ§ã\n\nåé¡¾ï¼æ¹æ³çå½åè§åï¼\n\n\n# 2ãæ¹æ³çå®ä¹\n\njavaçæ¹æ³ç±»ä¼¼äºå¶å®è¯­è¨çå½æ°ï¼æ¯ä¸æ®µç¨æ¥å®æç¹å®åè½çä»£ç çæ®µï¼ä¸è¬æåµä¸ï¼å®ä¹ä¸ä¸ªæ¹æ³ åå«ä»¥ä¸è¯­æ³ï¼\n\nä¿®é¥°ç¬¦ è¿åå¼ç±»å æ¹æ³å(åæ°ç±»å åæ°å){\n    ...\n    æ¹æ³ä½\n    ...\n    return è¿åå¼;\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\næ¹æ³åå«ä¸ä¸ªæ¹æ³å¤´åä¸ä¸ªæ¹æ³ä½ãä¸é¢æ¯ä¸ä¸ªæ¹æ³çææé¨åï¼\n\n * ä¿®é¥°ç¬¦\n   \n   ä¿®é¥°ç¬¦ï¼è¿æ¯å¯éçï¼åè¯ç¼è¯å¨å¦ä½è°ç¨è¯¥æ¹æ³ãå®ä¹äºè¯¥æ¹æ³çè®¿é®ç±»åã\n\n * è¿åå¼ç±»å\n   \n   æ¹æ³å¯è½ä¼è¿åå¼ãreturnvaluetype æ¯æ¹æ³è¿åå¼çæ°æ®ç±»åãæäºæ¹æ³æ§è¡æé çæä½ï¼ä½æ²¡æè¿åå¼ãå¨è¿ç§æåµä¸ï¼returnvaluetype æ¯å³é®å­voidã\n\n * æ¹æ³å\n   \n   æ¯æ¹æ³çå®éåç§°ãæ¹æ³åååæ°è¡¨å±åæææ¹æ³ç­¾åã\n\n * åæ°ç±»å\n   \n   åæ°åæ¯ä¸ä¸ªå ä½ç¬¦ãå½æ¹æ³è¢«è°ç¨æ¶ï¼ä¼ éå¼ç»åæ°ãè¿ä¸ªå¼è¢«ç§°ä¸ºå®åæåéãåæ°åè¡¨æ¯ææ¹æ³çåæ°ç±»åãé¡ºåºååæ°çä¸ªæ°ãåæ°æ¯å¯éçï¼æ¹æ³å¯ä»¥ä¸åå«ä»»ä½åæ°ã\n   \n   * å½¢å¼åæ°ï¼å¨æ¹æ³è¢«è°ç¨æ¶ç¨äºæ¥æ¶å¤çè¾å¥çæ°æ®ã\n   * å®åï¼è°ç¨æ¹æ³æ¶å®éä¼ ç»æ¹æ³çæ°æ®ã\n   \n   \n\n * æ¹æ³ä½\n   \n   æ¹æ³ä½åå«å·ä½çè¯­å¥ï¼å®ä¹è¯¥æ¹æ³çåè½ã\n\næ¯å¦æä»¬åä¸ä¸ªæ¯å¤§å°çæ¹æ³ï¼\n\nãæ¼ç¤ºãä¸é¢çæ¹æ³åå« 2 ä¸ªåæ° num1 å num2ï¼å®è¿åè¿ä¸¤ä¸ªåæ°çæå¤§å¼ã\n\n/** è¿åä¸¤ä¸ªæ´ååéæ°æ®çè¾å¤§å¼ */\npublic static int max(int num1, int num2) {\n    int result;\n    if (num1 > num2){\n        result = num1;\n    }\n    else{\n        result = num2;\n    }\n        \n    return result;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nãæ¼ç¤ºï¼å æ³ã\n\npublic int add(int num1, int num2) {\n    return num1+num2;\n}\n\n\n1\n2\n3\n\n\n\n# 3ãæ¹æ³è°ç¨\n\njava æ¯æä¸¤ç§è°ç¨æ¹æ³çæ¹å¼ï¼æ ¹æ®æ¹æ³æ¯å¦è¿åå¼æ¥éæ©ã\n\nå½ç¨åºè°ç¨ä¸ä¸ªæ¹æ³æ¶ï¼ç¨åºçæ§å¶æäº¤ç»äºè¢«è°ç¨çæ¹æ³ãå½è¢«è°ç¨æ¹æ³çè¿åè¯­å¥æ§è¡æèå°è¾¾æ¹æ³ä½é­æ¬å·æ¶åäº¤è¿æ§å¶æç»ç¨åºã\n\nå½æ¹æ³è¿åä¸ä¸ªå¼çæ¶åï¼æ¹æ³è°ç¨éå¸¸è¢«å½åä¸ä¸ªå¼ãä¾å¦ï¼\n\nint larger = max(30, 40);\n\n\n1\n\n\njavaè¯­è¨ä¸­ä½¿ç¨ä¸è¿°å½¢å¼è°ç¨æ¹æ³ï¼å¯¹è±¡å.æ¹æ³å(å®ååè¡¨)\n\nå¦ææ¹æ³è¿åå¼æ¯voidï¼æ¹æ³è°ç¨ä¸å®æ¯ä¸æ¡è¯­å¥ãä¾å¦ï¼æ¹æ³printlnè¿åvoidãä¸é¢çè°ç¨æ¯ä¸ªè¯­å¥ï¼\n\nsystem.out.println("hello,kuangshen!");\n\n\n1\n\n\nãæ¼ç¤ºï¼å®ä¹æ¹æ³å¹¶ä¸è°ç¨å®ã\n\npublic static void main(string[] args) {\n    int i = 5;\n    int j = 2;\n    int k = max(i, j);\n    system.out.println( i + " å " + j + " æ¯è¾ï¼æå¤§å¼æ¯ï¼" + k);\n}\n\n/** è¿åä¸¤ä¸ªæ´æ°åéè¾å¤§çå¼ */\npublic static int max(int num1, int num2) {\n    int result;\n    if (num1 > num2){\n        result = num1;\n    }  \n    else{\n        result = num2;\n    }\n    return result;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nè¿ä¸ªç¨åºåå« main æ¹æ³å max æ¹æ³ãmain æ¹æ³æ¯è¢« jvm è°ç¨çï¼é¤æ­¤ä¹å¤ï¼main æ¹æ³åå¶å®æ¹æ³ æ²¡ä»ä¹åºå«ãjavaä¸­åªæå¼ä¼ éï¼\n\nmain æ¹æ³çå¤´é¨æ¯ä¸åçï¼å¦ä¾å­æç¤ºï¼å¸¦ä¿®é¥°ç¬¦ public å static,è¿å void ç±»åå¼ï¼æ¹æ³åå­æ¯ main,æ­¤å¤å¸¦ä¸ªä¸ä¸ª string[] ç±»ååæ°ãstring[] è¡¨æåæ°æ¯å­ç¬¦ä¸²æ°ç»ã\n\n\n# 4ãæ¹æ³çéè½½\n\nä¸é¢ä½¿ç¨çmaxæ¹æ³ä»ä»éç¨äºintåæ°æ®ãä½å¦æä½ æ³å¾å°ä¸¤ä¸ªæµ®ç¹ç±»åæ°æ®çæå¤§å¼å¢ï¼\n\nè§£å³æ¹æ³æ¯åå»ºå¦ä¸ä¸ªæç¸ååå­ä½åæ°ä¸åçæ¹æ³ï¼å¦ä¸é¢ä»£ç æç¤ºï¼\n\npublic static double max(double num1, double num2) {\n    if (num1 > num2)\n    return num1;\n    else\n    return num2;\n}\n\npublic static int max(int num1, int num2) {\n    int result;\n    if (num1 > num2)\n    result = num1;\n    else\n    result = num2;\n    return result;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nå¦æä½ è°ç¨maxæ¹æ³æ¶ä¼ éçæ¯intååæ°ï¼å intååæ°çmaxæ¹æ³å°±ä¼è¢«è°ç¨ï¼\n\nå¦æä¼ éçæ¯doubleååæ°ï¼ådoubleç±»åçmaxæ¹æ³ä½ä¼è¢«è°ç¨ï¼è¿å«åæ¹æ³éè½½ï¼\n\nå°±æ¯è¯´ä¸ä¸ªç±»çä¸¤ä¸ªæ¹æ³æ¥æç¸åçåå­ï¼ä½æ¯æä¸åçåæ°åè¡¨ã\n\njavaç¼è¯å¨æ ¹æ®æ¹æ³ç­¾åå¤æ­åªä¸ªæ¹æ³åºè¯¥è¢«è°ç¨ã\n\næ¹æ³éè½½å¯ä»¥è®©ç¨åºæ´æ¸æ°æè¯»ãæ§è¡å¯åç¸å³ä»»å¡çæ¹æ³åºè¯¥ä½¿ç¨ç¸åçåå­ã\n\néè½½çæ¹æ³å¿é¡»æ¥æä¸åçåæ°åè¡¨ãä½ ä¸è½ä»ä»ä¾æ®ä¿®é¥°ç¬¦æèè¿åç±»åçä¸åæ¥éè½½æ¹æ³ã\n\n\n# 5ãæå±å½ä»¤è¡ä¼ å\n\nææ¶åä½ å¸æè¿è¡ä¸ä¸ªç¨åºæ¶ååä¼ éç»å®æ¶æ¯ãè¿è¦é ä¼ éå½ä»¤è¡åæ°ç»main()å½æ°å®ç°ã\n\nå½ä»¤è¡åæ°æ¯å¨æ§è¡ç¨åºæ¶åç´§è·å¨ç¨åºåå­åé¢çä¿¡æ¯ã\n\nãä¸é¢çç¨åºæå°ææçå½ä»¤è¡åæ°ã\n\npublic class commandline {\n\tpublic static void main(string args[]){\n\t\tfor(int i=0; i<args.length; i++){\n\t\t\tsystem.out.println("args[" + i + "]: " + args[i]);\n\t\t}\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nãå½ä»¤è¡ã\n\njavac commandline.java\njava commandline this is a command line 200 -100\n\n\n1\n2\n\n\n> args[0]: this args[1]: is args[2]: a args[3]: command args[4]: line args[5]: 200 args[6]: -100\n\n\n# 6ãå¯ååæ°\n\njdk 1.5 å¼å§ï¼javaæ¯æä¼ éåç±»åçå¯ååæ°ç»ä¸ä¸ªæ¹æ³ã\n\næ¹æ³çå¯ååæ°çå£°æå¦ä¸æç¤ºï¼\n\n> typename... parametername\n\nå¨æ¹æ³å£°æä¸­ï¼å¨æå®åæ°ç±»ååå ä¸ä¸ªçç¥å·(...)\n\nä¸ä¸ªæ¹æ³ä¸­åªè½æå®ä¸ä¸ªå¯ååæ°ï¼å®å¿é¡»æ¯æ¹æ³çæåä¸ä¸ªåæ°ãä»»ä½æ®éçåæ°å¿é¡»å¨å®ä¹åå£°æã\n\npublic static void main(string[] args) {\n    // è°ç¨å¯ååæ°çæ¹æ³\n    printmax(34, 3, 3, 2, 56.5);\n    printmax(new double[]{1, 2, 3});\n}\n\npublic static void printmax(double... numbers) {\n    if (numbers.length == 0) {\n        system.out.println("no argument passed");\n        return;\n    }\n    double result = numbers[0];\n    //æåºï¼\n    for (int i = 1; i < numbers.length; i++) {\n        if (numbers[i] > result) {\n            result = numbers[i];\n        }\n    }\n    system.out.println("the max value is " + result);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# 7ãéå½\n\naæ¹æ³è°ç¨bæ¹æ³ï¼æä»¬å¾å®¹æçè§£ï¼\n\néå½å°±æ¯ï¼aæ¹æ³è°ç¨aæ¹æ³ï¼å°±æ¯èªå·±è°ç¨èªå·±ï¼å æ­¤æä»¬å¨è®¾è®¡éå½ç®æ³æ¶ï¼ä¸å®è¦ææä»ä¹æ¶åèªå·±ä¸è°ç¨èªå·±ãå¦åï¼å°±æ¯ä¸ªæ­»å¾ªç¯ï¼\n\néå½ç®æ³éç¹ï¼\n\néå½æ¯ä¸ç§å¸¸è§çè§£å³é®é¢çæ¹æ³ï¼å³æé®é¢éæ¸ç®ååãéå½çåºæ¬ææ³å°±æ¯âèªå·±è°ç¨èªå·±âï¼ä¸ä¸ªä½¿ç¨éå½ææ¯çæ¹æ³å°ä¼ç´æ¥æèé´æ¥çè°ç¨èªå·±ã\n\nå©ç¨éå½å¯ä»¥ç¨ç®åçç¨åºæ¥è§£å³ä¸äºå¤æçé®é¢ãå®éå¸¸æä¸ä¸ªå¤§åå¤æçé®é¢å±å±è½¬åä¸ºä¸ä¸ªä¸å é®é¢ç¸ä¼¼çè§æ¨¡è¾å°çé®é¢æ¥æ±è§£ï¼éå½ç­ç¥åªéå°éçç¨åºå°±å¯æè¿°åºè§£é¢è¿ç¨æéè¦çå¤æ¬¡éå¤è®¡ ç®ï¼å¤§å¤§å°åå°äºç¨åºçä»£ç éãéå½çè½åå¨äºç¨æéçè¯­å¥æ¥å®ä¹å¯¹è±¡çæ ééåã\n\néå½ç»æåæ¬ä¸¤ä¸ªé¨åï¼\n\n * éå½å¤´\n   \n   ä»ä¹æ¶åä¸è°ç¨èªèº«æ¹æ³ãå¦ææ²¡æå¤´ï¼å°é·å¥æ­»å¾ªç¯ã\n\n * éå½ä½\n\nä»ä¹æ¶åéè¦è°ç¨èªèº«æ¹æ³ã\n\nãæ¼ç¤ºï¼å©ç¨ä»£ç è®¡ç®5çä¹é¶ï¼ã\n\n//5*4*3*2*1\npublic static void main(string[] args) {\n    system.out.println(f(5));\n}\npublic static int f(int n) {\n    if (1 == n)\n    \treturn 1;\n    else\n    \treturn n*f(n-1);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n\næ­¤é¢ä¸­ï¼æç§éå½çä¸ä¸ªæ¡ä»¶æ¥åæï¼\n\n(1)è¾¹çæ¡ä»¶ï¼é¶ä¹ï¼ä¹å°æåä¸ä¸ªæ°ï¼å³1çæ¶åï¼è¿å1ï¼ç¨åºæ§è¡å°åºï¼ (2)éå½åè¿æ®µï¼å½åçåæ°ä¸ç­äº1çæ¶åï¼ç»§ç»­è°ç¨èªèº«ï¼ (3)éå½è¿åæ®µï¼ä»æå¤§çæ°å¼å§ä¹ï¼å¦æå½ååæ°æ¯5ï¼é£ä¹å°±æ¯5* 4ï¼å³5 (5-1)ï¼å³n * (n-1)\n\néå½å¶å®æ¯æ¹ä¾¿äºç¨åºåé¾ä¸ºäºæºå¨ï¼éå½å¯ä»¥éè¿æ°å­¦å¬å¼å¾æ¹ä¾¿çè½¬æ¢ä¸ºç¨åºãå¶ä¼ç¹å°±æ¯æç è§£ï¼å®¹æç¼ç¨ãä½éå½æ¯ç¨æ æºå¶å®ç°çï¼æ¯æ·±å¥ä¸å±ï¼é½è¦å å»ä¸åæ æ°æ®åºåï¼å¯¹åµå¥å±æ°æ·±çä¸ äºç®æ³ï¼éå½ä¼åä¸ä»å¿ï¼ç©ºé´ä¸ä¼ä»¥åå­å´©æºèåç»ï¼èä¸éå½ä¹å¸¦æ¥äºå¤§éçå½æ°è°ç¨ï¼è¿ä¹æè®¸ å¤é¢å¤çæ¶é´å¼éãæä»¥å¨æ·±åº¦å¤§æ¶ï¼å®çæ¶ç©ºæ§å°±ä¸å¥½äºãï¼ä¼å ç¨å¤§éçåå­ç©ºé´ï¼\n\nèè¿­ä»£è½ç¶æçé«ï¼è¿è¡æ¶é´åªå å¾ªç¯æ¬¡æ°å¢å èå¢å ï¼æ²¡ä»ä¹é¢å¤å¼éï¼ç©ºé´ä¸ä¹æ²¡æä»ä¹å¢å ï¼ä½ ç¼ºç¹å°±æ¯ä¸å®¹æçè§£ï¼ç¼åå¤æé®é¢æ¶å°é¾ã\n\nè½ä¸ç¨éå½å°±ä¸ç¨éå½ï¼éå½é½å¯ä»¥ç¨è¿­ä»£æ¥ä»£æ¿',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"JavaSE-æ°ç»",frontmatter:{title:null,date:"2021-04-15T22:46:20.000Z",permalink:"/java/se/array/",categories:["java","java-se"]},regularPath:"/01.Java/02.java-%E5%9F%BA%E7%A1%80/05.%E6%95%B0%E7%BB%84.html",relativePath:"01.Java/02.java-åºç¡/05.æ°ç».md",key:"v-6d754144",path:"/java/se/array/",headers:[{level:2,title:"æ°ç»æ¦è¿°",slug:"æ°ç»æ¦è¿°",normalizedTitle:"æ°ç»æ¦è¿°",charIndex:16},{level:2,title:"æ°ç»å£°æåå»º",slug:"æ°ç»å£°æåå»º",normalizedTitle:"æ°ç»å£°æåå»º",charIndex:703},{level:3,title:"1ãå£°ææ°ç»",slug:"_1ãå£°ææ°ç»",normalizedTitle:"1ãå£°ææ°ç»",charIndex:714},{level:3,title:"2ãåå»ºæ°ç»",slug:"_2ãåå»ºæ°ç»",normalizedTitle:"2ãåå»ºæ°ç»",charIndex:1030},{level:3,title:"3ãåå­åæ",slug:"_3ãåå­åæ",normalizedTitle:"3ãåå­åæ",charIndex:1999},{level:3,title:"4ãä¸ç§åå§å",slug:"_4ãä¸ç§åå§å",normalizedTitle:"4ãä¸ç§åå§å",charIndex:2452},{level:3,title:"5ãæ°ç»è¾¹ç",slug:"_5ãæ°ç»è¾¹ç",normalizedTitle:"5ãæ°ç»è¾¹ç",charIndex:3050},{level:3,title:"6ãå°ç»",slug:"_6ãå°ç»",normalizedTitle:"6ãå°ç»",charIndex:3321},{level:2,title:"æ°ç»ä½¿ç¨",slug:"æ°ç»ä½¿ç¨",normalizedTitle:"æ°ç»ä½¿ç¨",charIndex:3436},{level:3,title:"1ãFor-Each å¾ªç¯",slug:"_1ãfor-each-å¾ªç¯",normalizedTitle:"1ãfor-each å¾ªç¯",charIndex:4159},{level:3,title:"2ãæ°ç»ä½æ¹æ³å¥å",slug:"_2ãæ°ç»ä½æ¹æ³å¥å",normalizedTitle:"2ãæ°ç»ä½æ¹æ³å¥å",charIndex:4522},{level:3,title:"3ãæ°ç»ä½è¿åå¼",slug:"_3ãæ°ç»ä½è¿åå¼",normalizedTitle:"3ãæ°ç»ä½è¿åå¼",charIndex:4737},{level:2,title:"å¤ç»´æ°ç»",slug:"å¤ç»´æ°ç»",normalizedTitle:"å¤ç»´æ°ç»",charIndex:5012},{level:2,title:"Arrays ç±»",slug:"arrays-ç±»",normalizedTitle:"arrays ç±»",charIndex:5580},{level:3,title:"1ãæå°æ°ç»",slug:"_1ãæå°æ°ç»",normalizedTitle:"1ãæå°æ°ç»",charIndex:6661},{level:3,title:"2ãæ°ç»æåº",slug:"_2ãæ°ç»æåº",normalizedTitle:"2ãæ°ç»æåº",charIndex:6844},{level:3,title:"3ãäºåæ³æ¥æ¾",slug:"_3ãäºåæ³æ¥æ¾",normalizedTitle:"3ãäºåæ³æ¥æ¾",charIndex:7083},{level:3,title:"4ãåç´ å¡«å",slug:"_4ãåç´ å¡«å",normalizedTitle:"4ãåç´ å¡«å",charIndex:7422},{level:3,title:"5ãæ°ç»è½¬æ¢ä¸ºListéå",slug:"_5ãæ°ç»è½¬æ¢ä¸ºlistéå",normalizedTitle:"5ãæ°ç»è½¬æ¢ä¸ºlistéå",charIndex:7696},{level:2,title:"å¸¸è§æåºç®æ³",slug:"å¸¸è§æåºç®æ³",normalizedTitle:"å¸¸è§æåºç®æ³",charIndex:7952},{level:3,title:"1ãåæ³¡æåº",slug:"_1ãåæ³¡æåº",normalizedTitle:"1ãåæ³¡æåº",charIndex:7963},{level:3,title:"2ãéæ©æåº",slug:"_2ãéæ©æåº",normalizedTitle:"2ãéæ©æåº",charIndex:9416},{level:3,title:"3ãç´æ¥æå¥æåº",slug:"_3ãç´æ¥æå¥æåº",normalizedTitle:"3ãç´æ¥æå¥æåº",charIndex:10565},{level:3,title:"4ãå¸å°æåº",slug:"_4ãå¸å°æåº",normalizedTitle:"4ãå¸å°æåº",charIndex:11155},{level:3,title:"5ãå¿«éæåº",slug:"_5ãå¿«éæåº",normalizedTitle:"5ãå¿«éæåº",charIndex:11166},{level:3,title:"6ãå½å¹¶æåº",slug:"_6ãå½å¹¶æåº",normalizedTitle:"6ãå½å¹¶æåº",charIndex:11177},{level:3,title:"7ãåºæ°æåº",slug:"_7ãåºæ°æåº",normalizedTitle:"7ãåºæ°æåº",charIndex:11188},{level:3,title:"8ãå æåº",slug:"_8ãå æåº",normalizedTitle:"8ãå æåº",charIndex:11199},{level:2,title:"ç¨çæ°ç»",slug:"ç¨çæ°ç»",normalizedTitle:"ç¨çæ°ç»",charIndex:11209}],headersStr:"æ°ç»æ¦è¿° æ°ç»å£°æåå»º 1ãå£°ææ°ç» 2ãåå»ºæ°ç» 3ãåå­åæ 4ãä¸ç§åå§å 5ãæ°ç»è¾¹ç 6ãå°ç» æ°ç»ä½¿ç¨ 1ãFor-Each å¾ªç¯ 2ãæ°ç»ä½æ¹æ³å¥å 3ãæ°ç»ä½è¿åå¼ å¤ç»´æ°ç» Arrays ç±» 1ãæå°æ°ç» 2ãæ°ç»æåº 3ãäºåæ³æ¥æ¾ 4ãåç´ å¡«å 5ãæ°ç»è½¬æ¢ä¸ºListéå å¸¸è§æåºç®æ³ 1ãåæ³¡æåº 2ãéæ©æåº 3ãç´æ¥æå¥æåº 4ãå¸å°æåº 5ãå¿«éæåº 6ãå½å¹¶æåº 7ãåºæ°æåº 8ãå æåº ç¨çæ°ç»",content:'# JavaSE-æ°ç»\n\n\n# æ°ç»æ¦è¿°\n\nå³äºæ°ç»æä»¬å¯ä»¥æå®çä½æ¯ä¸ä¸ªç±»åçæææ°æ®çä¸ä¸ªéåï¼å¹¶ç¨ä¸ä¸ªæ°ç»ä¸æ æ¥åºåææå®æ¯ä¸ä¸ªæ°ï¼ä¾å¦ä¸ä¸ªè¶³çééå¸¸ä¼æå åä¸ªäººï¼ä½æ¯æä»¬æ¥è®¤è¯ä»ä»¬çæ¶åé¦åä¼æä»ä»¬çä½æ¯ææå¯¹çæåï¼ç¶ååå©ç¨ä»ä»¬çå·ç æ¥åºåæ¯ä¸ä¸ªéåï¼è¿æ¶åï¼çéå°±æ¯ä¸ä¸ªæ°ç»ï¼èå·ç å°±æ¯æ°ç»çä¸æ ï¼ å½æä»¬æææ¯å å·éåçæ¶åå°±æ¾å°äºè¿ä¸ªéåã åæ ·å¨ç¼ç¨ä¸­ï¼å¦ææä»¬æä¸ç»ç¸åæ°æ®ç±»åçæ°æ®ï¼ä¾å¦æ10ä¸ªæ°å­ï¼è¿æ¶åå¦ææä»¬è¦ç¨åéæ¥å­æ¾å®ä»¬çè¯ï¼å°±è¦åå«ä½¿ç¨10ä¸ªåéï¼èä¸è¦è®°ä½è¿10ä¸ªåéçåå­ï¼è¿ä¼ååçéº»ç¦ï¼è¿æ¶åæä»¬å°±å¯ä»¥ç¨ä¸ä¸ªæ°ç»åéæ¥å­æ¾ä»ä»¬ï¼ä¾å¦å¨VBä¸­æä»¬ å°±å¯ä»¥ä½¿ç¨dim a(9) as integerï¼æ³¨æï¼æ°ç»çä¸æ æ¯ä»0å¼å§çï¼æä»¥ç¬¬10ä¸ªæ°çè¯ï¼ä¸æ å°±æ¯ 9ï¼a(0)=1ï¼ã ä½¿ç¨æ°ç»ä¼è®©ç¨åºåçç®åï¼èä¸é¿åäºå®ä¹å¤ä¸ªåéçéº»ç¦ã\n\næ°ç»çå®ä¹ï¼\n\n * æ°ç»æ¯ç¸åç±»åæ°æ®çæåºéå\n * æ°ç»æè¿°çæ¯ç¸åç±»åçè¥å¹²ä¸ªæ°æ®,æç§ä¸å®çååæ¬¡åºæåç»åèæ\n * å¶ä¸­,æ¯ä¸ä¸ªæ°æ®ç§°ä½ä¸ä¸ªæ°ç»åç´ ,æ¯ä¸ªæ°ç»åç´ å¯ä»¥éè¿ä¸ä¸ªä¸æ æ¥è®¿é®å®ä»¬.\n\næ°ç»çåä¸ªåºæ¬ç¹ç¹ï¼\n\n * å¶é¿åº¦æ¯ç¡®å®çãæ°ç»ä¸æ¦è¢«åå»ºï¼å®çå¤§å°å°±æ¯ä¸å¯ä»¥æ¹åçã\n * å¶åç´ å¿é¡»æ¯ç¸åç±»åï¼ä¸åè®¸åºç°æ··åç±»åã\n * æ°ç»ä¸­çåç´ å¯ä»¥æ¯ä»»ä½æ°æ®ç±»åï¼åæ¬åºæ¬ç±»ååå¼ç¨ç±»åã\n * æ°ç»åéå±å¼ç¨ç±»åï¼æ°ç»ä¹å¯ä»¥çææ¯å¯¹è±¡ï¼æ°ç»ä¸­çæ¯ä¸ªåç´ ç¸å½äºè¯¥å¯¹è±¡çæååéãæ°ç»æ¬èº«å°±æ¯å¯¹è±¡ï¼Javaä¸­å¯¹è±¡æ¯å¨å ä¸­çï¼å æ­¤æ°ç»æ è®ºä¿å­åå§ç±»åè¿æ¯å¶ä»å¯¹è±¡ç±»åï¼æ°ç»å¯¹è±¡æ¬èº«æ¯å¨å ä¸­çã\n\n\n# æ°ç»å£°æåå»º\n\n\n# 1ãå£°ææ°ç»\n\né¦åå¿é¡»å£°ææ°ç»åéï¼æè½å¨ç¨åºä¸­ä½¿ç¨æ°ç»ãä¸é¢æ¯å£°ææ°ç»åéçè¯­æ³ï¼\n\ndataType[] arrayRefVar; // é¦éçæ¹æ³\n\ndataType arrayRefVar[]; // ææç¸åï¼ä½ä¸æ¯é¦éæ¹æ³\n\n\n1\n2\n3\n\n\nå»ºè®®ä½¿ç¨ dataType[] arrayRefVar çå£°æé£æ ¼å£°ææ°ç»åéã dataType arrayRefVar[] é£æ ¼æ¯æ¥èª C/C++ è¯­è¨ ï¼å¨Javaä¸­éç¨æ¯ä¸ºäºè®© C/C++ ç¨åºåè½å¤å¿«éçè§£javaè¯­è¨ã\n\ndouble[] myList; // é¦éçæ¹æ³\ndouble myList[]; // ææç¸åï¼ä½ä¸æ¯é¦éæ¹æ³\n\n\n1\n2\n\n\n\n# 2ãåå»ºæ°ç»\n\nJavaè¯­è¨ä½¿ç¨newæä½ç¬¦æ¥åå»ºæ°ç»ï¼è¯­æ³å¦ä¸ï¼\n\narrayRefVar = new dataType[arraySize];\n\n\n1\n\n\nä¸é¢çè¯­æ³è¯­å¥åäºä¸¤ä»¶äºï¼\n\n * ä½¿ç¨ dataType[arraySize] åå»ºäºä¸ä¸ªæ°ç»ã\n * ææ°åå»ºçæ°ç»çå¼ç¨èµå¼ç»åé arrayRefVarã\n\næ°ç»åéçå£°æï¼ååå»ºæ°ç»å¯ä»¥ç¨ä¸æ¡è¯­å¥å®æï¼å¦ä¸æç¤ºï¼\n\ndataType[] arrayRefVar = new dataType[arraySize];\n//ä¾å¦ï¼åå»ºä¸ä¸ªç±»åiniï¼å¤§å°ä¸º10çæ°ç»\nint[] myList =  new int[10];\n\n\n1\n2\n3\n\n\nè·åæ°ç»é¿åº¦ï¼arrayRefVar.length\n\næ°ç»çåç´ æ¯éè¿ç´¢å¼è®¿é®çãæ°ç»ç´¢å¼ä» 0 å¼å§ï¼æä»¥ç´¢å¼å¼ä» 0 å° arrayRefVar.length-1\n\nãæ¼ç¤ºåå»ºä¸ä¸ªæ°ç»ï¼å¹¶èµå¼ï¼è¿è¡è®¿é®ã\n\npublic static void main(String[] args) {\n    //1.å£°æä¸ä¸ªæ°ç»\n    int[] myList = null;\n    //2.åå»ºä¸ä¸ªæ°ç»\n    myList = new int[10];\n    //3.åæ°ç»ä¸­å­å¼\n    myList[0] = 1;\n    myList[1] = 2;\n    myList[2] = 3;\n    myList[3] = 4;\n    myList[4] = 5;\n    myList[5] = 6;\n    myList[6] = 7;\n    myList[7] = 8;\n    myList[8] = 9;\n    myList[9] = 10;\n    // è®¡ç®ææåç´ çæ»å\n    double total = 0;\n    for (int i = 0; i < myList.length; i++) {\n        total += myList[i];\n    }\n    System.out.println("æ»åä¸ºï¼ " + total);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# 3ãåå­åæ\n\nJavaåå­åæ ï¼\n\n\n\n 1. å£°æçæ¶åå¹¶æ²¡æå®ä¾åä»»ä½å¯¹è±¡ï¼åªæå¨å®ä¾åæ°ç»å¯¹è±¡æ¶ï¼JVMæåéç©ºé´ï¼è¿æ¶æä¸é¿åº¦æå³ãå æ­¤ï¼å£°ææ°ç»æ¶ä¸è½æå®å¶é¿åº¦(æ°ç»ä¸­åç´ çä¸ªæ°)\n    \n    ä¾å¦ï¼ int a[5]; //éæ³\n\n 2. å£°æä¸ä¸ªæ°ç»çæ¶åå¹¶æ²¡ææ°ç»è¢«çæ­£çåå»ºã\n\n 3. æé ä¸ä¸ªæ°ç»ï¼å¿é¡»æå®é¿åº¦\n\n//1.å£°æä¸ä¸ªæ°ç»\nint[] myList = null;\n\n\n1\n2\n\n\n\n\n//2.åå»ºä¸ä¸ªæ°ç»\nmyList = new int[10];\n\n\n1\n2\n\n\n\n\n//3.åæ°ç»ä¸­å­å¼\nmyList[0] = 1;\nmyList[1] = 2;\nmyList[2] = 3;\nmyList[3] = 4;\nmyList[4] = 5;\nmyList[5] = 6;\nmyList[6] = 7;\nmyList[7] = 8;\nmyList[8] = 9;\nmyList[9] = 10;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n\n\n# 4ãä¸ç§åå§å\n\n1ãéæåå§å\n\né¤äºç¨newå³é®å­æ¥äº§çæ°ç»ä»¥å¤,è¿å¯ä»¥ç´æ¥å¨å®ä¹æ°ç»çåæ¶å°±ä¸ºæ°ç»åç´ åéç©ºé´å¹¶èµå¼ã\n\nint[] a = {1,2,3};\nMan[] mans = {new Man(1,1),new Man(2,2)};\n\n\n1\n2\n\n\n2ãå¨æåå§å\n\næ°ç»å®ä¹ãä¸ºæ°ç»åç´ åéç©ºé´ãèµå¼çæä½ãåå¼è¿è¡ã\n\nint[] a = new int[2];\na[0]=1;\na[1]=2;\n\n\n1\n2\n3\n\n\n3ãæ°ç»çé»è®¤åå§å\n\næ°ç»æ¯å¼ç¨ç±»åï¼å®çåç´ ç¸å½äºç±»çå®ä¾åéï¼å æ­¤æ°ç»ä¸ç»åéç©ºé´ï¼å¶ä¸­çæ¯ä¸ªåç´ ä¹è¢«æç§å®ä¾åéåæ ·çæ¹å¼è¢«éå¼åå§åã\n\npublic static void main(String[] args) {\n    int[] a=new int[2];\n    boolean[] b = new boolean[2];\n    String[] s = new String[2];\n    System.out.println(a[0]+":"+a[1]); //0,0\n    System.out.println(b[0]+":"+b[1]); //false,false\n    System.out.println(s[0]+":"+s[1]); //null, null\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 5ãæ°ç»è¾¹ç\n\nä¸æ çåæ³åºé´ï¼[0, length-1]ï¼å¦æè¶çå°±ä¼æ¥éï¼\n\npublic static void main(String[] args) {\n    int[] a=new int[2];\n    System.out.println(a[2]);\n}\n\n\n1\n2\n3\n4\n\n\n> Exception in thread "main" java.lang.ArrayIndexOutOfBoundsException: 2\n\nArrayIndexOutOfBoundsException : æ°ç»ä¸æ è¶çå¼å¸¸ï¼\n\n\n# 6ãå°ç»\n\næ°ç»æ¯ç¸åæ°æ®ç±»å(æ°æ®ç±»åå¯ä»¥ä¸ºä»»æç±»å)çæåºéå\n\næ°ç»ä¹æ¯å¯¹è±¡ãæ°ç»åç´ ç¸å½äºå¯¹è±¡çæååé(è¯¦æè¯·è§åå­å¾)\n\næ°ç»é¿åº¦çç¡®å®çï¼ä¸å¯åçãå¦æè¶çï¼åæ¥ï¼ArrayIndexOutofBounds\n\n\n# æ°ç»ä½¿ç¨\n\næ°ç»çåç´ ç±»ååæ°ç»çå¤§å°é½æ¯ç¡®å®çï¼æä»¥å½å¤çæ°ç»åç´ æ¶åï¼æä»¬éå¸¸ä½¿ç¨åºæ¬å¾ªç¯æè ForEach å¾ªç¯ã\n\nãè¯¥å®ä¾å®æ´å°å±ç¤ºäºå¦ä½åå»ºãåå§ååæçºµæ°ç»ã\n\npublic static void main(String[] args) {\n    double[] myList = {1.9, 2.9, 3.4, 3.5};\n    // æå°æææ°ç»åç´ \n    for (int i = 0; i < myList.length; i++) {\n        System.out.println(myList[i] + " ");\n    }\n    // è®¡ç®ææåç´ çæ»å\n    double total = 0;\n    for (int i = 0; i < myList.length; i++) {\n        total += myList[i];\n    }\n    System.out.println("Total is " + total);\n    // æ¥æ¾æå¤§åç´ \n    double max = myList[0];\n    for (int i = 1; i < myList.length; i++) {\n        if (myList[i] > max) {\n            max = myList[i];\n        }\n    }\n    System.out.println("Max is " + max);\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# 1ãFor-Each å¾ªç¯\n\nJDK 1.5 å¼è¿äºä¸ç§æ°çå¾ªç¯ç±»åï¼è¢«ç§°ä¸º For-Each å¾ªç¯æèå å¼ºåå¾ªç¯ï¼å®è½å¨ä¸ä½¿ç¨ä¸æ çæåµä¸éåæ°ç»ã\n\nfor(type element: array){\n    System.out.println(element);\n}\n\n\n1\n2\n3\n\n\nãç¤ºä¾ã\n\npublic static void main(String[] args) {\n    double[] myList = {1.9, 2.9, 3.4, 3.5};\n    \n    // æå°æææ°ç»åç´ \n    for (double element: myList) {\n        System.out.println(element);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 2ãæ°ç»ä½æ¹æ³å¥å\n\næ°ç»å¯ä»¥ä½ä¸ºåæ°ä¼ éç»æ¹æ³ã\n\nä¾å¦ï¼ä¸é¢çä¾å­å°±æ¯ä¸ä¸ªæå° int æ°ç»ä¸­åç´ çæ¹æ³ :\n\npublic static void printArray(int[] array) {\n    for (int i = 0; i < array.length; i++) {\n        System.out.print(array[i] + " ");\n    }\n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# 3ãæ°ç»ä½è¿åå¼\n\npublic static int[] reverse(int[] list) {\n    int[] result = new int[list.length];\n    \n    for (int i = 0, j = result.length - 1; i < list.length; i++, j--) {\n        result[j] = list[i];\n    }\n    return result;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nä»¥ä¸å®ä¾ä¸­ result æ°ç»ä½ä¸ºå½æ°çè¿åå¼ã\n\n\n# å¤ç»´æ°ç»\n\nå¤ç»´æ°ç»å¯ä»¥çææ¯æ°ç»çæ°ç»ï¼æ¯å¦äºç»´æ°ç»å°±æ¯ä¸ä¸ªç¹æ®çä¸ç»´æ°ç»ï¼å¶æ¯ä¸ä¸ªåç´ é½æ¯ä¸ä¸ªä¸ç»´æ°ç»ã\n\n1ãå¤ç»´æ°ç»çå¨æåå§åï¼ï¼ä»¥äºç»´æ°ç»ä¸ºä¾ï¼\n\nç´æ¥ä¸ºæ¯ä¸ç»´åéç©ºé´ï¼æ ¼å¼å¦ä¸ï¼\n\ntype[][] typeName = new type[typeLength1][typeLength2];\n\n\n1\n\n\ntype å¯ä»¥ä¸ºåºæ¬æ°æ®ç±»ååå¤åæ°æ®ç±»åï¼arraylenght1 å arraylenght2 å¿é¡»ä¸ºæ­£æ´æ°ï¼ arraylenght1 ä¸ºè¡æ°ï¼arraylenght2 ä¸ºåæ°ã\n\næ¯å¦å®ä¹ä¸ä¸ªäºç»´æ°ç»ï¼\n\nint a[][] = new int[2][5];\n\n\n1\n\n\nè§£æï¼äºç»´æ°ç» a å¯ä»¥çæä¸ä¸ªä¸¤è¡ä¸åçæ°ç»ã\n\n2ãå¤ç»´æ°ç»çå¼ç¨ï¼ä»¥äºç»´æ°ç»ä¸ºä¾ï¼\n\nå¯¹äºç»´æ°ç»ä¸­çæ¯ä¸ªåç´ ï¼å¼ç¨æ¹å¼ä¸º arrayName[index1] [index2]ï¼ä¾å¦ï¼\n\n> num[1] [0];\n\nå¶å®äºç»´çè³å¤ç»´æ°ç»ååå¥½çè§£ï¼æä»¬æä¸¤ä¸ªæèå¤ä¸ªå¼å½åå®ä½å°±å¥½ã\n\nåæ¥çæ°ç»å°±æ¯ä¸æ¡çº¿ï¼æä»¬ç¥éä¸ä¸ªä½ç½®å°±å¥½\n\näºç»´å°±æ¯ä¸ä¸ªé¢ï¼ä¸¤ç¹ç¡®å®ä¸ä¸ªä½ç½®\n\nä¸ç»´å¢ï¼å°±éè¦ä¸ä¸ªç¹æ¥ç¡®å®\n\n3ãè·åæ°ç»é¿åº¦ï¼\n\na.lengthè·åçäºç»´æ°ç»ç¬¬ä¸ç»´æ°ç»çé¿åº¦ï¼a[0].lengthææ¯è·åç¬¬äºç»´ç¬¬ä¸ä¸ªæ°ç»é¿åº¦ã\n\n\n# Arrays ç±»\n\næ°ç»çå·¥å·ç±»java.util.Arrays\n\nç±äºæ°ç»å¯¹è±¡æ¬èº«å¹¶æ²¡æä»ä¹æ¹æ³å¯ä»¥ä¾æä»¬è°ç¨,ä½APIä¸­æä¾äºä¸ä¸ªå·¥å·ç±»Arraysä¾æä»¬ä½¿ç¨,ä» èå¯ä»¥å¯¹æ°æ®å¯¹è±¡è¿è¡ä¸äºåºæ¬çæä½ã\n\nææ¡£ç®ä»ï¼\n\n\n\nè¿ä¸ªææ¡£ï¼ç¾åº¦å³å¯ä¸è½½ï¼jdk1.8ä¸­æææ¡£\n\nArraysç±»ä¸­çæ¹æ³é½æ¯staticä¿®é¥°çéææ¹æ³,å¨ä½¿ç¨çæ¶åå¯ä»¥ç´æ¥ä½¿ç¨ç±»åè¿è¡è°ç¨ï¼è"ä¸ç¨"ä½¿ç¨å¯¹è±¡æ¥è°ç¨(æ³¨æï¼æ¯"ä¸ç¨" èä¸æ¯ "ä¸è½")\n\njava.util.Arrays ç±»è½æ¹ä¾¿å°æä½æ°ç». ä½¿ç¨ä¹åéè¦å¯¼åï¼\n\nå·æä»¥ä¸å¸¸ç¨åè½ï¼\n\n * ç»æ°ç»èµå¼ï¼éè¿ fill æ¹æ³ã\n * å¯¹æ°ç»æåºï¼éè¿ sort æ¹æ³,æååºã\n * æ¯è¾æ°ç»ï¼éè¿ equals æ¹æ³æ¯è¾æ°ç»ä¸­åç´ å¼æ¯å¦ç¸ç­ã\n * æ¥æ¾æ°ç»åç´ ï¼éè¿ binarySearch æ¹æ³è½å¯¹æåºå¥½çæ°ç»è¿è¡äºåæ¥æ¾æ³æä½ã\n\nå·ä½è¯´æè¯·æ¥çä¸è¡¨ï¼\n\nåºå·   æ¹æ³åè¯´æ\n1    public static int binarySearch(Object[] a, Object key)\n     ç¨äºåæ¥æ¾ç®æ³å¨ç»å®æ°ç»ä¸­æç´¢ç»å®å¼çå¯¹è±¡(Byte,Int,doubleç­)ãæ°ç»å¨è°ç¨åå¿é¡»æåºå¥½çãå¦ææ¥æ¾å¼åå«å¨æ°ç»ä¸­ï¼åè¿åæç´¢é®çç´¢å¼ï¼å¦åè¿å\n     (-(æå¥ç¹) - 1)ã\n2    public static boolean equals(long[] a, long[] a2) å¦æä¸¤ä¸ªæå®ç\n     long åæ°ç»å½¼æ­¤ç¸ç­ï¼åè¿å\n     trueãå¦æä¸¤ä¸ªæ°ç»åå«ç¸åæ°éçåç´ ï¼å¹¶ä¸ä¸¤ä¸ªæ°ç»ä¸­çææç¸åºåç´ å¯¹é½æ¯ç¸ç­çï¼åè®¤ä¸ºè¿ä¸¤ä¸ªæ°ç»æ¯ç¸ç­çãæ¢å¥è¯è¯´ï¼å¦æä¸¤ä¸ªæ°ç»ä»¥ç¸åé¡ºåºåå«ç¸åçåç´ ï¼åä¸¤ä¸ªæ°ç»æ¯ç¸ç­çãåæ ·çæ¹æ³éç¨äºææçå¶ä»åºæ¬æ°æ®ç±»åï¼Byteï¼shortï¼Intç­ï¼ã\n3    public static void fill(int[] a, int val) å°æå®ç int å¼åéç»æå®\n     int åæ°ç»æå®èå´ä¸­çæ¯ä¸ªåç´ ãåæ ·çæ¹æ³éç¨äºææçå¶ä»åºæ¬æ°æ®ç±»åï¼Byteï¼shortï¼Intç­ï¼ã\n4    public static void sort(Object[] a)\n     å¯¹æå®å¯¹è±¡æ°ç»æ ¹æ®å¶åç´ çèªç¶é¡ºåºè¿è¡ååºæåãåæ ·çæ¹æ³éç¨äºææçå¶ä»åºæ¬æ°æ®ç±»åï¼Byteï¼shortï¼Intç­ï¼ã\n\næ¥æºèé¸æç¨ï¼ä¸ä¸ªç¼ç¨çåºç¡ææ¯æç¨ç½ç«ï¼éååå­¦èæ¥çèµæï¼æPHPåºç¡å°±æ¯å¨è¿éå­¦çã\n\n\n# 1ãæå°æ°ç»\n\npublic static void main(String[] args) {\n    int[] a = {1,2};\n    System.out.println(a); //[I@1b6d3586\n    System.out.println(Arrays.toString(a)); //[1, 2]\n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# 2ãæ°ç»æåº\n\nå¯¹æå®ç int åæ°ç»ææ°å­ååºè¿è¡æåº\n\npublic static void main(String[] args) {\n    int[] a = {1,2,323,23,543,12,59};\n    System.out.println(Arrays.toString(a));\n    Arrays.sort(a);\n    System.out.println(Arrays.toString(a));\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 3ãäºåæ³æ¥æ¾\n\nå¨æ°ç»ä¸­æ¥æ¾æå®åç´ å¹¶è¿åå¶ä¸æ \n\næ³¨æï¼ä½¿ç¨äºåæç´¢æ³æ¥æç´¢æå®çæ°ç»ï¼ä»¥è·å¾æå®çå¼ãå¿é¡»å¨è¿è¡æ­¤è°ç¨ä¹åå¯¹æ°ç»è¿è¡æåº(éè¿sortæ¹æ³ç­)ãå¦ææ²¡æå¯¹æ°ç»è¿è¡æåºï¼åç»ææ¯ä¸ç¡®å®çã\n\nå¦ææ°ç»åå«å¤ä¸ªå¸¦ææå®å¼çåç´ ï¼åæ æ³ä¿è¯æ¾å°çæ¯åªä¸ä¸ªã\n\npublic static void main(String[] args) {\n    int[] a = {1,2,323,23,543,12,59};\n    Arrays.sort(a); //ä½¿ç¨äºåæ³æ¥æ¾ï¼å¿é¡»åå¯¹æ°ç»è¿è¡æåº\n    System.out.println("è¯¥åç´ çç´¢å¼ï¼"+Arrays.binarySearch(a, 12));\n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# 4ãåç´ å¡«å\n\npublic static void main(String[] args) {\n    int[] a = {1,2,323,23,543,12,59};\n    Arrays.sort(a); //ä½¿ç¨äºåæ³æ¥æ¾ï¼å¿é¡»åå¯¹æ°ç»è¿è¡æåº\n    Arrays.fill(a, 2, 4, 100); //å°2å°4ç´¢å¼çåç´ æ¿æ¢ä¸º100\n    System.out.println(Arrays.toString(a));//[1, 2, 100, 100, 59, 323, 543]\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 5ãæ°ç»è½¬æ¢ä¸ºListéå\n\nint[] a = {3,5,1,9,7};\nList<int[]> list = Arrays.asList(a);\n\n\n1\n2\n\n\næä»¬åä»£ç çæ¶åï¼å¯ä»¥ä¸ç¨å»æå»è®°ä½List<int[]> å¨ideaä¸­ï¼è¾å¥Arrays.asList(a); æä¸alt + åè½¦é®ï¼ä¼èªå¨è¡¥å¨å¨é¢çä¿¡æ¯ï¼éå¸¸æ¹ä¾¿ã\n\nå­¦æ ¡ä¸­æå­¦ä¸è¬ç¨çæ¯eclipseï¼å«é®ä¸ºå¥ï¼é®å°±æ¯è¿ä¸ªåè´¹ï¼ideaè¦é±ãæ³ç¨çå°ä¼ä¼´èªè¡ç¾åº¦è§£å³ðªï¼å­¦è®¡ç®æºçäººï¼pojieççèµæºæ¾ä¸å°å°±è¯´ä¸è¿å»äºãð\n\n\n# å¸¸è§æåºç®æ³\n\n\n# 1ãåæ³¡æåº\n\nåæ³¡æåºï¼Bubble Sortï¼ï¼æ¯ä¸ç§è®¡ç®æºç§å­¦é¢åçè¾ç®åçæåºç®æ³ã\n\nå®éå¤å°èµ°è®¿è¿è¦æåºçåç´ åï¼ä¾æ¬¡æ¯è¾ä¸¤ä¸ªç¸é»çåç´ ï¼å¦æé¡ºåºï¼å¦ä»å¤§å°å°ãé¦å­æ¯ä»Zå°Aï¼éè¯¯å°±æä»ä»¬äº¤æ¢è¿æ¥ãèµ°è®¿åç´ çå·¥ä½æ¯éå¤å°è¿è¡ç´å°æ²¡æç¸é»åç´ éè¦äº¤æ¢ï¼ä¹å°±æ¯è¯´è¯¥åç´ åå·²ç»æåºå®æã\n\nè¿ä¸ªç®æ³çåå­ç±æ¥æ¯å ä¸ºè¶å°çåç´ ä¼ç»ç±äº¤æ¢æ¢æ¢âæµ®âå°æ°åçé¡¶ç«¯ï¼ååºæéåºæåï¼ï¼å°±å¦åç¢³é¸é¥®æä¸­äºæ°§åç¢³çæ°æ³¡æç»ä¼ä¸æµ®å°é¡¶ç«¯ä¸æ ·ï¼æåâåæ³¡æåºâã\n\nåæ³¡æåºç®æ³çåçå¦ä¸ï¼\n\n * æ¯è¾ç¸é»çåç´ ãå¦æç¬¬ä¸ä¸ªæ¯ç¬¬äºä¸ªå¤§ï¼å°±äº¤æ¢ä»ä»¬ä¸¤ä¸ªã\n * å¯¹æ¯ä¸å¯¹ç¸é»åç´ ååæ ·çå·¥ä½ï¼ä»å¼å§ç¬¬ä¸å¯¹å°ç»å°¾çæåä¸å¯¹ãå¨è¿ä¸ç¹ï¼æåçåç´ åºè¯¥ä¼æ¯æå¤§çæ°\n * éå¯¹ææçåç´ éå¤ä»¥ä¸çæ­¥éª¤ï¼é¤äºæåä¸ä¸ªã\n * æç»­æ¯æ¬¡å¯¹è¶æ¥è¶å°çåç´ éå¤ä¸é¢çæ­¥éª¤ï¼ç´å°æ²¡æä»»ä½ä¸å¯¹æ°å­éè¦æ¯è¾ã\n\nåæ³¡æåºââãå¾è§£ç®æ³ã\n\nclass Bubble {\n    public int[] sort(int[] array) {\n        int temp = 0;\n        // å¤å±å¾ªç¯ï¼å®å³å®ä¸å±èµ°å è¶ //-1ä¸ºäºé²æ­¢æº¢åº\n        for (int i = 0; i < array.length - 1; i++) {\n            int flag = 0; //éè¿ç¬¦å·ä½å¯ä»¥åå°æ è°çæ¯è¾ï¼å¦æå·²ç»æåºäºï¼å°±éåºå¾ªç¯\n            //åå±å¾ªç¯ï¼å®å³å®æ¯è¶èµ°ä¸æ¬¡\n            for (int j = 0; j < array.length - i - 1; j++) {\n                //å¦æåä¸ä¸ªå¤§äºåä¸ä¸ª,åæ¢ä½\n                if (array[j + 1] > array[j]) {\n                    temp = array[j];\n                    array[j] = array[j + 1];\n                    array[j + 1] = temp;\n                    flag = 1;\n                }\n            }\n            if (flag == 0) {\n                break;\n            }\n        }\n        return array;\n    }\n\n    public static void main(String[] args) {\n        Bubble bubble = new Bubble();\n        int[] array = {2, 5, 1, 6, 4, 9, 8, 5, 3, 1, 2, 0};\n        int[] sort = bubble.sort(array);\n        for (int num : sort) {\n            System.out.print(num + "\\t");\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n\n# 2ãéæ©æåº\n\néæ©æåºï¼Selection sortï¼æ¯ä¸ç§ç®åç´è§çæåºç®æ³ãå®çå·¥ä½åçæ¯æ¯ä¸æ¬¡ä»å¾æåºçæ°æ®åç´ ä¸­ éåºæå°ï¼ææå¤§ï¼çä¸ä¸ªåç´ ï¼å­æ¾å¨åºåçèµ·å§ä½ç½®ï¼ç¶åï¼åä»å©ä½æªæåºåç´ ä¸­ç»§ç»­å¯»æ¾æå° ï¼å¤§ï¼åç´ ï¼ç¶åæ¾å°æåºåºåçæ«å°¾ãä»¥æ­¤ç±»æ¨ï¼ç´å°å¨é¨å¾æåºçæ°æ®åç´ æå®ã éæ©æåºæ¯ä¸ç¨³ å®çæåºæ¹æ³ã\n\nclass SelectSort {\n    public int[] sort(int arr[]) {\n        int temp = 0;\n        for (int i = 0; i < arr.length - 1; i++) {\n            // è®¤ä¸ºç®åçæ°å°±æ¯æå°ç, è®°å½æå°æ°çä¸æ \n            int minIndex = i;\n            for (int j = i + 1; j < arr.length; j++) {\n                if (arr[minIndex] > arr[j]) {// ä¿®æ¹æå°å¼çä¸æ \n                    minIndex = j;\n                }\n            }// å½éåºforå°±æ¾å°è¿æ¬¡çæå°å¼,å°±éè¦äº¤æ¢ä½ç½®äº\n            if (i != minIndex) {//äº¤æ¢å½åå¼åæ¾å°çæå°å¼çä½ç½®\n                temp = arr[i];\n                arr[i] = arr[minIndex];\n                arr[minIndex] = temp;\n            }\n        }\n        return arr;\n    }\n\n    public static void main(String[] args) {\n        SelectSort selectSort = new SelectSort();\n        int[] array = {2, 5, 1, 6, 4, 9, 8, 5, 3, 1, 2, 0};\n        int[] sort = selectSort.sort(array);\n        for (int num : sort) {\n            System.out.print(num + "\\t");\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n# 3ãç´æ¥æå¥æåº\n\næåºåçï¼åºæ¬æä½æ¯å°ä¸æ¡è®°å½æå¥å°å·²æå¥½çæåºè¡¨ä¸­ï¼ä»èå¾å°ä¸ä¸ªæ°çãè®°å½æ°éå¢1çæåºè¡¨ã\n\nä¾å¦ï¼\n\nåå§æ°æ®ï¼ 49,38,65,97,76,13,27\n\n[49],38,65,97,76,13,27 ä»1ç´¢å¼å¼å§æå¥\n[38,49],65,97,76,13,27\n[38,49,65],97,76,13,27\n[38,49,65,97],76,13,27\n[38,49,65,76,97],13,27\n[13,38,49,65,76,97],27\n[13,27,38,49,65,76,97]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nä»£ç å®ç°ï¼\n\nint arr[]={49,38,65,97,76,13,27};\nfor (int i = 1; i < arr.length; i++) {\n    for(int j=i; j>0;j--){\n        if(arr[j]<arr[j-1]){\n            int f=arr[j];\n            arr[j]=arr[j-1];\n            arr[j-1]=f;\n        }\n    }\n}\nSystem.out.println(Arrays.toString(arr));\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# 4ãå¸å°æåº\n\n\n# 5ãå¿«éæåº\n\n\n# 6ãå½å¹¶æåº\n\n\n# 7ãåºæ°æåº\n\n\n# 8ãå æåº\n\n\n# ç¨çæ°ç»\n\nhttps://blog.csdn.net/baolingye/article/details/99943083',normalizedContent:'# javase-æ°ç»\n\n\n# æ°ç»æ¦è¿°\n\nå³äºæ°ç»æä»¬å¯ä»¥æå®çä½æ¯ä¸ä¸ªç±»åçæææ°æ®çä¸ä¸ªéåï¼å¹¶ç¨ä¸ä¸ªæ°ç»ä¸æ æ¥åºåææå®æ¯ä¸ä¸ªæ°ï¼ä¾å¦ä¸ä¸ªè¶³çééå¸¸ä¼æå åä¸ªäººï¼ä½æ¯æä»¬æ¥è®¤è¯ä»ä»¬çæ¶åé¦åä¼æä»ä»¬çä½æ¯ææå¯¹çæåï¼ç¶ååå©ç¨ä»ä»¬çå·ç æ¥åºåæ¯ä¸ä¸ªéåï¼è¿æ¶åï¼çéå°±æ¯ä¸ä¸ªæ°ç»ï¼èå·ç å°±æ¯æ°ç»çä¸æ ï¼ å½æä»¬æææ¯å å·éåçæ¶åå°±æ¾å°äºè¿ä¸ªéåã åæ ·å¨ç¼ç¨ä¸­ï¼å¦ææä»¬æä¸ç»ç¸åæ°æ®ç±»åçæ°æ®ï¼ä¾å¦æ10ä¸ªæ°å­ï¼è¿æ¶åå¦ææä»¬è¦ç¨åéæ¥å­æ¾å®ä»¬çè¯ï¼å°±è¦åå«ä½¿ç¨10ä¸ªåéï¼èä¸è¦è®°ä½è¿10ä¸ªåéçåå­ï¼è¿ä¼ååçéº»ç¦ï¼è¿æ¶åæä»¬å°±å¯ä»¥ç¨ä¸ä¸ªæ°ç»åéæ¥å­æ¾ä»ä»¬ï¼ä¾å¦å¨vbä¸­æä»¬ å°±å¯ä»¥ä½¿ç¨dim a(9) as integerï¼æ³¨æï¼æ°ç»çä¸æ æ¯ä»0å¼å§çï¼æä»¥ç¬¬10ä¸ªæ°çè¯ï¼ä¸æ å°±æ¯ 9ï¼a(0)=1ï¼ã ä½¿ç¨æ°ç»ä¼è®©ç¨åºåçç®åï¼èä¸é¿åäºå®ä¹å¤ä¸ªåéçéº»ç¦ã\n\næ°ç»çå®ä¹ï¼\n\n * æ°ç»æ¯ç¸åç±»åæ°æ®çæåºéå\n * æ°ç»æè¿°çæ¯ç¸åç±»åçè¥å¹²ä¸ªæ°æ®,æç§ä¸å®çååæ¬¡åºæåç»åèæ\n * å¶ä¸­,æ¯ä¸ä¸ªæ°æ®ç§°ä½ä¸ä¸ªæ°ç»åç´ ,æ¯ä¸ªæ°ç»åç´ å¯ä»¥éè¿ä¸ä¸ªä¸æ æ¥è®¿é®å®ä»¬.\n\næ°ç»çåä¸ªåºæ¬ç¹ç¹ï¼\n\n * å¶é¿åº¦æ¯ç¡®å®çãæ°ç»ä¸æ¦è¢«åå»ºï¼å®çå¤§å°å°±æ¯ä¸å¯ä»¥æ¹åçã\n * å¶åç´ å¿é¡»æ¯ç¸åç±»åï¼ä¸åè®¸åºç°æ··åç±»åã\n * æ°ç»ä¸­çåç´ å¯ä»¥æ¯ä»»ä½æ°æ®ç±»åï¼åæ¬åºæ¬ç±»ååå¼ç¨ç±»åã\n * æ°ç»åéå±å¼ç¨ç±»åï¼æ°ç»ä¹å¯ä»¥çææ¯å¯¹è±¡ï¼æ°ç»ä¸­çæ¯ä¸ªåç´ ç¸å½äºè¯¥å¯¹è±¡çæååéãæ°ç»æ¬èº«å°±æ¯å¯¹è±¡ï¼javaä¸­å¯¹è±¡æ¯å¨å ä¸­çï¼å æ­¤æ°ç»æ è®ºä¿å­åå§ç±»åè¿æ¯å¶ä»å¯¹è±¡ç±»åï¼æ°ç»å¯¹è±¡æ¬èº«æ¯å¨å ä¸­çã\n\n\n# æ°ç»å£°æåå»º\n\n\n# 1ãå£°ææ°ç»\n\né¦åå¿é¡»å£°ææ°ç»åéï¼æè½å¨ç¨åºä¸­ä½¿ç¨æ°ç»ãä¸é¢æ¯å£°ææ°ç»åéçè¯­æ³ï¼\n\ndatatype[] arrayrefvar; // é¦éçæ¹æ³\n\ndatatype arrayrefvar[]; // ææç¸åï¼ä½ä¸æ¯é¦éæ¹æ³\n\n\n1\n2\n3\n\n\nå»ºè®®ä½¿ç¨ datatype[] arrayrefvar çå£°æé£æ ¼å£°ææ°ç»åéã datatype arrayrefvar[] é£æ ¼æ¯æ¥èª c/c++ è¯­è¨ ï¼å¨javaä¸­éç¨æ¯ä¸ºäºè®© c/c++ ç¨åºåè½å¤å¿«éçè§£javaè¯­è¨ã\n\ndouble[] mylist; // é¦éçæ¹æ³\ndouble mylist[]; // ææç¸åï¼ä½ä¸æ¯é¦éæ¹æ³\n\n\n1\n2\n\n\n\n# 2ãåå»ºæ°ç»\n\njavaè¯­è¨ä½¿ç¨newæä½ç¬¦æ¥åå»ºæ°ç»ï¼è¯­æ³å¦ä¸ï¼\n\narrayrefvar = new datatype[arraysize];\n\n\n1\n\n\nä¸é¢çè¯­æ³è¯­å¥åäºä¸¤ä»¶äºï¼\n\n * ä½¿ç¨ datatype[arraysize] åå»ºäºä¸ä¸ªæ°ç»ã\n * ææ°åå»ºçæ°ç»çå¼ç¨èµå¼ç»åé arrayrefvarã\n\næ°ç»åéçå£°æï¼ååå»ºæ°ç»å¯ä»¥ç¨ä¸æ¡è¯­å¥å®æï¼å¦ä¸æç¤ºï¼\n\ndatatype[] arrayrefvar = new datatype[arraysize];\n//ä¾å¦ï¼åå»ºä¸ä¸ªç±»åiniï¼å¤§å°ä¸º10çæ°ç»\nint[] mylist =  new int[10];\n\n\n1\n2\n3\n\n\nè·åæ°ç»é¿åº¦ï¼arrayrefvar.length\n\næ°ç»çåç´ æ¯éè¿ç´¢å¼è®¿é®çãæ°ç»ç´¢å¼ä» 0 å¼å§ï¼æä»¥ç´¢å¼å¼ä» 0 å° arrayrefvar.length-1\n\nãæ¼ç¤ºåå»ºä¸ä¸ªæ°ç»ï¼å¹¶èµå¼ï¼è¿è¡è®¿é®ã\n\npublic static void main(string[] args) {\n    //1.å£°æä¸ä¸ªæ°ç»\n    int[] mylist = null;\n    //2.åå»ºä¸ä¸ªæ°ç»\n    mylist = new int[10];\n    //3.åæ°ç»ä¸­å­å¼\n    mylist[0] = 1;\n    mylist[1] = 2;\n    mylist[2] = 3;\n    mylist[3] = 4;\n    mylist[4] = 5;\n    mylist[5] = 6;\n    mylist[6] = 7;\n    mylist[7] = 8;\n    mylist[8] = 9;\n    mylist[9] = 10;\n    // è®¡ç®ææåç´ çæ»å\n    double total = 0;\n    for (int i = 0; i < mylist.length; i++) {\n        total += mylist[i];\n    }\n    system.out.println("æ»åä¸ºï¼ " + total);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# 3ãåå­åæ\n\njavaåå­åæ ï¼\n\n\n\n 1. å£°æçæ¶åå¹¶æ²¡æå®ä¾åä»»ä½å¯¹è±¡ï¼åªæå¨å®ä¾åæ°ç»å¯¹è±¡æ¶ï¼jvmæåéç©ºé´ï¼è¿æ¶æä¸é¿åº¦æå³ãå æ­¤ï¼å£°ææ°ç»æ¶ä¸è½æå®å¶é¿åº¦(æ°ç»ä¸­åç´ çä¸ªæ°)\n    \n    ä¾å¦ï¼ int a[5]; //éæ³\n\n 2. å£°æä¸ä¸ªæ°ç»çæ¶åå¹¶æ²¡ææ°ç»è¢«çæ­£çåå»ºã\n\n 3. æé ä¸ä¸ªæ°ç»ï¼å¿é¡»æå®é¿åº¦\n\n//1.å£°æä¸ä¸ªæ°ç»\nint[] mylist = null;\n\n\n1\n2\n\n\n\n\n//2.åå»ºä¸ä¸ªæ°ç»\nmylist = new int[10];\n\n\n1\n2\n\n\n\n\n//3.åæ°ç»ä¸­å­å¼\nmylist[0] = 1;\nmylist[1] = 2;\nmylist[2] = 3;\nmylist[3] = 4;\nmylist[4] = 5;\nmylist[5] = 6;\nmylist[6] = 7;\nmylist[7] = 8;\nmylist[8] = 9;\nmylist[9] = 10;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n\n\n# 4ãä¸ç§åå§å\n\n1ãéæåå§å\n\né¤äºç¨newå³é®å­æ¥äº§çæ°ç»ä»¥å¤,è¿å¯ä»¥ç´æ¥å¨å®ä¹æ°ç»çåæ¶å°±ä¸ºæ°ç»åç´ åéç©ºé´å¹¶èµå¼ã\n\nint[] a = {1,2,3};\nman[] mans = {new man(1,1),new man(2,2)};\n\n\n1\n2\n\n\n2ãå¨æåå§å\n\næ°ç»å®ä¹ãä¸ºæ°ç»åç´ åéç©ºé´ãèµå¼çæä½ãåå¼è¿è¡ã\n\nint[] a = new int[2];\na[0]=1;\na[1]=2;\n\n\n1\n2\n3\n\n\n3ãæ°ç»çé»è®¤åå§å\n\næ°ç»æ¯å¼ç¨ç±»åï¼å®çåç´ ç¸å½äºç±»çå®ä¾åéï¼å æ­¤æ°ç»ä¸ç»åéç©ºé´ï¼å¶ä¸­çæ¯ä¸ªåç´ ä¹è¢«æç§å®ä¾åéåæ ·çæ¹å¼è¢«éå¼åå§åã\n\npublic static void main(string[] args) {\n    int[] a=new int[2];\n    boolean[] b = new boolean[2];\n    string[] s = new string[2];\n    system.out.println(a[0]+":"+a[1]); //0,0\n    system.out.println(b[0]+":"+b[1]); //false,false\n    system.out.println(s[0]+":"+s[1]); //null, null\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 5ãæ°ç»è¾¹ç\n\nä¸æ çåæ³åºé´ï¼[0, length-1]ï¼å¦æè¶çå°±ä¼æ¥éï¼\n\npublic static void main(string[] args) {\n    int[] a=new int[2];\n    system.out.println(a[2]);\n}\n\n\n1\n2\n3\n4\n\n\n> exception in thread "main" java.lang.arrayindexoutofboundsexception: 2\n\narrayindexoutofboundsexception : æ°ç»ä¸æ è¶çå¼å¸¸ï¼\n\n\n# 6ãå°ç»\n\næ°ç»æ¯ç¸åæ°æ®ç±»å(æ°æ®ç±»åå¯ä»¥ä¸ºä»»æç±»å)çæåºéå\n\næ°ç»ä¹æ¯å¯¹è±¡ãæ°ç»åç´ ç¸å½äºå¯¹è±¡çæååé(è¯¦æè¯·è§åå­å¾)\n\næ°ç»é¿åº¦çç¡®å®çï¼ä¸å¯åçãå¦æè¶çï¼åæ¥ï¼arrayindexoutofbounds\n\n\n# æ°ç»ä½¿ç¨\n\næ°ç»çåç´ ç±»ååæ°ç»çå¤§å°é½æ¯ç¡®å®çï¼æä»¥å½å¤çæ°ç»åç´ æ¶åï¼æä»¬éå¸¸ä½¿ç¨åºæ¬å¾ªç¯æè foreach å¾ªç¯ã\n\nãè¯¥å®ä¾å®æ´å°å±ç¤ºäºå¦ä½åå»ºãåå§ååæçºµæ°ç»ã\n\npublic static void main(string[] args) {\n    double[] mylist = {1.9, 2.9, 3.4, 3.5};\n    // æå°æææ°ç»åç´ \n    for (int i = 0; i < mylist.length; i++) {\n        system.out.println(mylist[i] + " ");\n    }\n    // è®¡ç®ææåç´ çæ»å\n    double total = 0;\n    for (int i = 0; i < mylist.length; i++) {\n        total += mylist[i];\n    }\n    system.out.println("total is " + total);\n    // æ¥æ¾æå¤§åç´ \n    double max = mylist[0];\n    for (int i = 1; i < mylist.length; i++) {\n        if (mylist[i] > max) {\n            max = mylist[i];\n        }\n    }\n    system.out.println("max is " + max);\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# 1ãfor-each å¾ªç¯\n\njdk 1.5 å¼è¿äºä¸ç§æ°çå¾ªç¯ç±»åï¼è¢«ç§°ä¸º for-each å¾ªç¯æèå å¼ºåå¾ªç¯ï¼å®è½å¨ä¸ä½¿ç¨ä¸æ çæåµä¸éåæ°ç»ã\n\nfor(type element: array){\n    system.out.println(element);\n}\n\n\n1\n2\n3\n\n\nãç¤ºä¾ã\n\npublic static void main(string[] args) {\n    double[] mylist = {1.9, 2.9, 3.4, 3.5};\n    \n    // æå°æææ°ç»åç´ \n    for (double element: mylist) {\n        system.out.println(element);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 2ãæ°ç»ä½æ¹æ³å¥å\n\næ°ç»å¯ä»¥ä½ä¸ºåæ°ä¼ éç»æ¹æ³ã\n\nä¾å¦ï¼ä¸é¢çä¾å­å°±æ¯ä¸ä¸ªæå° int æ°ç»ä¸­åç´ çæ¹æ³ :\n\npublic static void printarray(int[] array) {\n    for (int i = 0; i < array.length; i++) {\n        system.out.print(array[i] + " ");\n    }\n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# 3ãæ°ç»ä½è¿åå¼\n\npublic static int[] reverse(int[] list) {\n    int[] result = new int[list.length];\n    \n    for (int i = 0, j = result.length - 1; i < list.length; i++, j--) {\n        result[j] = list[i];\n    }\n    return result;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nä»¥ä¸å®ä¾ä¸­ result æ°ç»ä½ä¸ºå½æ°çè¿åå¼ã\n\n\n# å¤ç»´æ°ç»\n\nå¤ç»´æ°ç»å¯ä»¥çææ¯æ°ç»çæ°ç»ï¼æ¯å¦äºç»´æ°ç»å°±æ¯ä¸ä¸ªç¹æ®çä¸ç»´æ°ç»ï¼å¶æ¯ä¸ä¸ªåç´ é½æ¯ä¸ä¸ªä¸ç»´æ°ç»ã\n\n1ãå¤ç»´æ°ç»çå¨æåå§åï¼ï¼ä»¥äºç»´æ°ç»ä¸ºä¾ï¼\n\nç´æ¥ä¸ºæ¯ä¸ç»´åéç©ºé´ï¼æ ¼å¼å¦ä¸ï¼\n\ntype[][] typename = new type[typelength1][typelength2];\n\n\n1\n\n\ntype å¯ä»¥ä¸ºåºæ¬æ°æ®ç±»ååå¤åæ°æ®ç±»åï¼arraylenght1 å arraylenght2 å¿é¡»ä¸ºæ­£æ´æ°ï¼ arraylenght1 ä¸ºè¡æ°ï¼arraylenght2 ä¸ºåæ°ã\n\næ¯å¦å®ä¹ä¸ä¸ªäºç»´æ°ç»ï¼\n\nint a[][] = new int[2][5];\n\n\n1\n\n\nè§£æï¼äºç»´æ°ç» a å¯ä»¥çæä¸ä¸ªä¸¤è¡ä¸åçæ°ç»ã\n\n2ãå¤ç»´æ°ç»çå¼ç¨ï¼ä»¥äºç»´æ°ç»ä¸ºä¾ï¼\n\nå¯¹äºç»´æ°ç»ä¸­çæ¯ä¸ªåç´ ï¼å¼ç¨æ¹å¼ä¸º arrayname[index1] [index2]ï¼ä¾å¦ï¼\n\n> num[1] [0];\n\nå¶å®äºç»´çè³å¤ç»´æ°ç»ååå¥½çè§£ï¼æä»¬æä¸¤ä¸ªæèå¤ä¸ªå¼å½åå®ä½å°±å¥½ã\n\nåæ¥çæ°ç»å°±æ¯ä¸æ¡çº¿ï¼æä»¬ç¥éä¸ä¸ªä½ç½®å°±å¥½\n\näºç»´å°±æ¯ä¸ä¸ªé¢ï¼ä¸¤ç¹ç¡®å®ä¸ä¸ªä½ç½®\n\nä¸ç»´å¢ï¼å°±éè¦ä¸ä¸ªç¹æ¥ç¡®å®\n\n3ãè·åæ°ç»é¿åº¦ï¼\n\na.lengthè·åçäºç»´æ°ç»ç¬¬ä¸ç»´æ°ç»çé¿åº¦ï¼a[0].lengthææ¯è·åç¬¬äºç»´ç¬¬ä¸ä¸ªæ°ç»é¿åº¦ã\n\n\n# arrays ç±»\n\næ°ç»çå·¥å·ç±»java.util.arrays\n\nç±äºæ°ç»å¯¹è±¡æ¬èº«å¹¶æ²¡æä»ä¹æ¹æ³å¯ä»¥ä¾æä»¬è°ç¨,ä½apiä¸­æä¾äºä¸ä¸ªå·¥å·ç±»arraysä¾æä»¬ä½¿ç¨,ä» èå¯ä»¥å¯¹æ°æ®å¯¹è±¡è¿è¡ä¸äºåºæ¬çæä½ã\n\nææ¡£ç®ä»ï¼\n\n\n\nè¿ä¸ªææ¡£ï¼ç¾åº¦å³å¯ä¸è½½ï¼jdk1.8ä¸­æææ¡£\n\narraysç±»ä¸­çæ¹æ³é½æ¯staticä¿®é¥°çéææ¹æ³,å¨ä½¿ç¨çæ¶åå¯ä»¥ç´æ¥ä½¿ç¨ç±»åè¿è¡è°ç¨ï¼è"ä¸ç¨"ä½¿ç¨å¯¹è±¡æ¥è°ç¨(æ³¨æï¼æ¯"ä¸ç¨" èä¸æ¯ "ä¸è½")\n\njava.util.arrays ç±»è½æ¹ä¾¿å°æä½æ°ç». ä½¿ç¨ä¹åéè¦å¯¼åï¼\n\nå·æä»¥ä¸å¸¸ç¨åè½ï¼\n\n * ç»æ°ç»èµå¼ï¼éè¿ fill æ¹æ³ã\n * å¯¹æ°ç»æåºï¼éè¿ sort æ¹æ³,æååºã\n * æ¯è¾æ°ç»ï¼éè¿ equals æ¹æ³æ¯è¾æ°ç»ä¸­åç´ å¼æ¯å¦ç¸ç­ã\n * æ¥æ¾æ°ç»åç´ ï¼éè¿ binarysearch æ¹æ³è½å¯¹æåºå¥½çæ°ç»è¿è¡äºåæ¥æ¾æ³æä½ã\n\nå·ä½è¯´æè¯·æ¥çä¸è¡¨ï¼\n\nåºå·   æ¹æ³åè¯´æ\n1    public static int binarysearch(object[] a, object key)\n     ç¨äºåæ¥æ¾ç®æ³å¨ç»å®æ°ç»ä¸­æç´¢ç»å®å¼çå¯¹è±¡(byte,int,doubleç­)ãæ°ç»å¨è°ç¨åå¿é¡»æåºå¥½çãå¦ææ¥æ¾å¼åå«å¨æ°ç»ä¸­ï¼åè¿åæç´¢é®çç´¢å¼ï¼å¦åè¿å\n     (-(æå¥ç¹) - 1)ã\n2    public static boolean equals(long[] a, long[] a2) å¦æä¸¤ä¸ªæå®ç\n     long åæ°ç»å½¼æ­¤ç¸ç­ï¼åè¿å\n     trueãå¦æä¸¤ä¸ªæ°ç»åå«ç¸åæ°éçåç´ ï¼å¹¶ä¸ä¸¤ä¸ªæ°ç»ä¸­çææç¸åºåç´ å¯¹é½æ¯ç¸ç­çï¼åè®¤ä¸ºè¿ä¸¤ä¸ªæ°ç»æ¯ç¸ç­çãæ¢å¥è¯è¯´ï¼å¦æä¸¤ä¸ªæ°ç»ä»¥ç¸åé¡ºåºåå«ç¸åçåç´ ï¼åä¸¤ä¸ªæ°ç»æ¯ç¸ç­çãåæ ·çæ¹æ³éç¨äºææçå¶ä»åºæ¬æ°æ®ç±»åï¼byteï¼shortï¼intç­ï¼ã\n3    public static void fill(int[] a, int val) å°æå®ç int å¼åéç»æå®\n     int åæ°ç»æå®èå´ä¸­çæ¯ä¸ªåç´ ãåæ ·çæ¹æ³éç¨äºææçå¶ä»åºæ¬æ°æ®ç±»åï¼byteï¼shortï¼intç­ï¼ã\n4    public static void sort(object[] a)\n     å¯¹æå®å¯¹è±¡æ°ç»æ ¹æ®å¶åç´ çèªç¶é¡ºåºè¿è¡ååºæåãåæ ·çæ¹æ³éç¨äºææçå¶ä»åºæ¬æ°æ®ç±»åï¼byteï¼shortï¼intç­ï¼ã\n\næ¥æºèé¸æç¨ï¼ä¸ä¸ªç¼ç¨çåºç¡ææ¯æç¨ç½ç«ï¼éååå­¦èæ¥çèµæï¼æphpåºç¡å°±æ¯å¨è¿éå­¦çã\n\n\n# 1ãæå°æ°ç»\n\npublic static void main(string[] args) {\n    int[] a = {1,2};\n    system.out.println(a); //[i@1b6d3586\n    system.out.println(arrays.tostring(a)); //[1, 2]\n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# 2ãæ°ç»æåº\n\nå¯¹æå®ç int åæ°ç»ææ°å­ååºè¿è¡æåº\n\npublic static void main(string[] args) {\n    int[] a = {1,2,323,23,543,12,59};\n    system.out.println(arrays.tostring(a));\n    arrays.sort(a);\n    system.out.println(arrays.tostring(a));\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 3ãäºåæ³æ¥æ¾\n\nå¨æ°ç»ä¸­æ¥æ¾æå®åç´ å¹¶è¿åå¶ä¸æ \n\næ³¨æï¼ä½¿ç¨äºåæç´¢æ³æ¥æç´¢æå®çæ°ç»ï¼ä»¥è·å¾æå®çå¼ãå¿é¡»å¨è¿è¡æ­¤è°ç¨ä¹åå¯¹æ°ç»è¿è¡æåº(éè¿sortæ¹æ³ç­)ãå¦ææ²¡æå¯¹æ°ç»è¿è¡æåºï¼åç»ææ¯ä¸ç¡®å®çã\n\nå¦ææ°ç»åå«å¤ä¸ªå¸¦ææå®å¼çåç´ ï¼åæ æ³ä¿è¯æ¾å°çæ¯åªä¸ä¸ªã\n\npublic static void main(string[] args) {\n    int[] a = {1,2,323,23,543,12,59};\n    arrays.sort(a); //ä½¿ç¨äºåæ³æ¥æ¾ï¼å¿é¡»åå¯¹æ°ç»è¿è¡æåº\n    system.out.println("è¯¥åç´ çç´¢å¼ï¼"+arrays.binarysearch(a, 12));\n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# 4ãåç´ å¡«å\n\npublic static void main(string[] args) {\n    int[] a = {1,2,323,23,543,12,59};\n    arrays.sort(a); //ä½¿ç¨äºåæ³æ¥æ¾ï¼å¿é¡»åå¯¹æ°ç»è¿è¡æåº\n    arrays.fill(a, 2, 4, 100); //å°2å°4ç´¢å¼çåç´ æ¿æ¢ä¸º100\n    system.out.println(arrays.tostring(a));//[1, 2, 100, 100, 59, 323, 543]\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 5ãæ°ç»è½¬æ¢ä¸ºlistéå\n\nint[] a = {3,5,1,9,7};\nlist<int[]> list = arrays.aslist(a);\n\n\n1\n2\n\n\næä»¬åä»£ç çæ¶åï¼å¯ä»¥ä¸ç¨å»æå»è®°ä½list<int[]> å¨ideaä¸­ï¼è¾å¥arrays.aslist(a); æä¸alt + åè½¦é®ï¼ä¼èªå¨è¡¥å¨å¨é¢çä¿¡æ¯ï¼éå¸¸æ¹ä¾¿ã\n\nå­¦æ ¡ä¸­æå­¦ä¸è¬ç¨çæ¯eclipseï¼å«é®ä¸ºå¥ï¼é®å°±æ¯è¿ä¸ªåè´¹ï¼ideaè¦é±ãæ³ç¨çå°ä¼ä¼´èªè¡ç¾åº¦è§£å³ðªï¼å­¦è®¡ç®æºçäººï¼pojieççèµæºæ¾ä¸å°å°±è¯´ä¸è¿å»äºãð\n\n\n# å¸¸è§æåºç®æ³\n\n\n# 1ãåæ³¡æåº\n\nåæ³¡æåºï¼bubble sortï¼ï¼æ¯ä¸ç§è®¡ç®æºç§å­¦é¢åçè¾ç®åçæåºç®æ³ã\n\nå®éå¤å°èµ°è®¿è¿è¦æåºçåç´ åï¼ä¾æ¬¡æ¯è¾ä¸¤ä¸ªç¸é»çåç´ ï¼å¦æé¡ºåºï¼å¦ä»å¤§å°å°ãé¦å­æ¯ä»zå°aï¼éè¯¯å°±æä»ä»¬äº¤æ¢è¿æ¥ãèµ°è®¿åç´ çå·¥ä½æ¯éå¤å°è¿è¡ç´å°æ²¡æç¸é»åç´ éè¦äº¤æ¢ï¼ä¹å°±æ¯è¯´è¯¥åç´ åå·²ç»æåºå®æã\n\nè¿ä¸ªç®æ³çåå­ç±æ¥æ¯å ä¸ºè¶å°çåç´ ä¼ç»ç±äº¤æ¢æ¢æ¢âæµ®âå°æ°åçé¡¶ç«¯ï¼ååºæéåºæåï¼ï¼å°±å¦åç¢³é¸é¥®æä¸­äºæ°§åç¢³çæ°æ³¡æç»ä¼ä¸æµ®å°é¡¶ç«¯ä¸æ ·ï¼æåâåæ³¡æåºâã\n\nåæ³¡æåºç®æ³çåçå¦ä¸ï¼\n\n * æ¯è¾ç¸é»çåç´ ãå¦æç¬¬ä¸ä¸ªæ¯ç¬¬äºä¸ªå¤§ï¼å°±äº¤æ¢ä»ä»¬ä¸¤ä¸ªã\n * å¯¹æ¯ä¸å¯¹ç¸é»åç´ ååæ ·çå·¥ä½ï¼ä»å¼å§ç¬¬ä¸å¯¹å°ç»å°¾çæåä¸å¯¹ãå¨è¿ä¸ç¹ï¼æåçåç´ åºè¯¥ä¼æ¯æå¤§çæ°\n * éå¯¹ææçåç´ éå¤ä»¥ä¸çæ­¥éª¤ï¼é¤äºæåä¸ä¸ªã\n * æç»­æ¯æ¬¡å¯¹è¶æ¥è¶å°çåç´ éå¤ä¸é¢çæ­¥éª¤ï¼ç´å°æ²¡æä»»ä½ä¸å¯¹æ°å­éè¦æ¯è¾ã\n\nåæ³¡æåºââãå¾è§£ç®æ³ã\n\nclass bubble {\n    public int[] sort(int[] array) {\n        int temp = 0;\n        // å¤å±å¾ªç¯ï¼å®å³å®ä¸å±èµ°å è¶ //-1ä¸ºäºé²æ­¢æº¢åº\n        for (int i = 0; i < array.length - 1; i++) {\n            int flag = 0; //éè¿ç¬¦å·ä½å¯ä»¥åå°æ è°çæ¯è¾ï¼å¦æå·²ç»æåºäºï¼å°±éåºå¾ªç¯\n            //åå±å¾ªç¯ï¼å®å³å®æ¯è¶èµ°ä¸æ¬¡\n            for (int j = 0; j < array.length - i - 1; j++) {\n                //å¦æåä¸ä¸ªå¤§äºåä¸ä¸ª,åæ¢ä½\n                if (array[j + 1] > array[j]) {\n                    temp = array[j];\n                    array[j] = array[j + 1];\n                    array[j + 1] = temp;\n                    flag = 1;\n                }\n            }\n            if (flag == 0) {\n                break;\n            }\n        }\n        return array;\n    }\n\n    public static void main(string[] args) {\n        bubble bubble = new bubble();\n        int[] array = {2, 5, 1, 6, 4, 9, 8, 5, 3, 1, 2, 0};\n        int[] sort = bubble.sort(array);\n        for (int num : sort) {\n            system.out.print(num + "\\t");\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n\n# 2ãéæ©æåº\n\néæ©æåºï¼selection sortï¼æ¯ä¸ç§ç®åç´è§çæåºç®æ³ãå®çå·¥ä½åçæ¯æ¯ä¸æ¬¡ä»å¾æåºçæ°æ®åç´ ä¸­ éåºæå°ï¼ææå¤§ï¼çä¸ä¸ªåç´ ï¼å­æ¾å¨åºåçèµ·å§ä½ç½®ï¼ç¶åï¼åä»å©ä½æªæåºåç´ ä¸­ç»§ç»­å¯»æ¾æå° ï¼å¤§ï¼åç´ ï¼ç¶åæ¾å°æåºåºåçæ«å°¾ãä»¥æ­¤ç±»æ¨ï¼ç´å°å¨é¨å¾æåºçæ°æ®åç´ æå®ã éæ©æåºæ¯ä¸ç¨³ å®çæåºæ¹æ³ã\n\nclass selectsort {\n    public int[] sort(int arr[]) {\n        int temp = 0;\n        for (int i = 0; i < arr.length - 1; i++) {\n            // è®¤ä¸ºç®åçæ°å°±æ¯æå°ç, è®°å½æå°æ°çä¸æ \n            int minindex = i;\n            for (int j = i + 1; j < arr.length; j++) {\n                if (arr[minindex] > arr[j]) {// ä¿®æ¹æå°å¼çä¸æ \n                    minindex = j;\n                }\n            }// å½éåºforå°±æ¾å°è¿æ¬¡çæå°å¼,å°±éè¦äº¤æ¢ä½ç½®äº\n            if (i != minindex) {//äº¤æ¢å½åå¼åæ¾å°çæå°å¼çä½ç½®\n                temp = arr[i];\n                arr[i] = arr[minindex];\n                arr[minindex] = temp;\n            }\n        }\n        return arr;\n    }\n\n    public static void main(string[] args) {\n        selectsort selectsort = new selectsort();\n        int[] array = {2, 5, 1, 6, 4, 9, 8, 5, 3, 1, 2, 0};\n        int[] sort = selectsort.sort(array);\n        for (int num : sort) {\n            system.out.print(num + "\\t");\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n# 3ãç´æ¥æå¥æåº\n\næåºåçï¼åºæ¬æä½æ¯å°ä¸æ¡è®°å½æå¥å°å·²æå¥½çæåºè¡¨ä¸­ï¼ä»èå¾å°ä¸ä¸ªæ°çãè®°å½æ°éå¢1çæåºè¡¨ã\n\nä¾å¦ï¼\n\nåå§æ°æ®ï¼ 49,38,65,97,76,13,27\n\n[49],38,65,97,76,13,27 ä»1ç´¢å¼å¼å§æå¥\n[38,49],65,97,76,13,27\n[38,49,65],97,76,13,27\n[38,49,65,97],76,13,27\n[38,49,65,76,97],13,27\n[13,38,49,65,76,97],27\n[13,27,38,49,65,76,97]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nä»£ç å®ç°ï¼\n\nint arr[]={49,38,65,97,76,13,27};\nfor (int i = 1; i < arr.length; i++) {\n    for(int j=i; j>0;j--){\n        if(arr[j]<arr[j-1]){\n            int f=arr[j];\n            arr[j]=arr[j-1];\n            arr[j-1]=f;\n        }\n    }\n}\nsystem.out.println(arrays.tostring(arr));\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# 4ãå¸å°æåº\n\n\n# 5ãå¿«éæåº\n\n\n# 6ãå½å¹¶æåº\n\n\n# 7ãåºæ°æåº\n\n\n# 8ãå æåº\n\n\n# ç¨çæ°ç»\n\nhttps://blog.csdn.net/baolingye/article/details/99943083',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"breakåcontinue",frontmatter:{title:"breakåcontinue",date:"2021-04-15T22:45:56.000Z",permalink:"/java/se/process-control/break-continue",categories:["java","java-se"]},regularPath:"/01.Java/02.java-%E5%9F%BA%E7%A1%80/03.%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/05.break%E5%92%8Ccontinue.html",relativePath:"01.Java/02.java-åºç¡/03.æµç¨æ§å¶/05.breakåcontinue.md",key:"v-0bc483d1",path:"/java/se/process-control/break-continue/",headers:[{level:2,title:"break & continue",slug:"break-continue",normalizedTitle:"break &amp; continue",charIndex:null},{level:3,title:"1ãbreak å³é®å­",slug:"_1ãbreak-å³é®å­",normalizedTitle:"1ãbreak å³é®å­",charIndex:39},{level:3,title:"2ãcontinue å³é®å­",slug:"_2ãcontinue-å³é®å­",normalizedTitle:"2ãcontinue å³é®å­",charIndex:372},{level:3,title:"3ãä¸¤èåºå«",slug:"_3ãä¸¤èåºå«",normalizedTitle:"3ãä¸¤èåºå«",charIndex:764},{level:3,title:"4ãå¸¦æ ç­¾çcontinue",slug:"_4ãå¸¦æ ç­¾çcontinue",normalizedTitle:"4ãå¸¦æ ç­¾çcontinue",charIndex:924}],headersStr:"break & continue 1ãbreak å³é®å­ 2ãcontinue å³é®å­ 3ãä¸¤èåºå« 4ãå¸¦æ ç­¾çcontinue",content:'# JavaSE-æµç¨æ§å¶\n\n\n# break & continue\n\n\n# 1ãbreak å³é®å­\n\nbreak ä¸»è¦ç¨å¨å¾ªç¯è¯­å¥æè switch è¯­å¥ä¸­ï¼ç¨æ¥è·³åºæ´ä¸ªè¯­å¥åã\n\nbreak è·³åºæéå±çå¾ªç¯ï¼å¹¶ä¸ç»§ç»­æ§è¡è¯¥å¾ªç¯ä¸é¢çè¯­å¥ã\n\nãæ¼ç¤ºï¼è·³åºå¾ªç¯ã\n\npublic static void main(String[] args) {\n    int i = 0;\n    while (i < 100) {\n        i++;\n        System.out.println(i);\n        if (i == 30) {\n            break;\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nswitch è¯­å¥ä¸­breakå¨ä¸é¢å·²ç»è¯¦ç»è¯´æäº\n\n\n# 2ãcontinue å³é®å­\n\ncontinue éç¨äºä»»ä½å¾ªç¯æ§å¶ç»æä¸­ãä½ç¨æ¯è®©ç¨åºç«å»è·³è½¬å°ä¸ä¸æ¬¡å¾ªç¯çè¿­ä»£ã\n\nå¨ for å¾ªç¯ä¸­ï¼continue è¯­å¥ä½¿ç¨åºç«å³è·³è½¬å°æ´æ°è¯­å¥ã\n\nå¨ while æè doâ¦while å¾ªç¯ä¸­ï¼ç¨åºç«å³è·³è½¬å°å¸å°è¡¨è¾¾å¼çå¤æ­è¯­å¥ã\n\npublic static void main(String[] args) {\n    int i = 0;\n    while (i < 100) {\n        i++;\n        if (i % 10 == 0) {\n            System.out.println();\n            continue;\n        }\n        System.out.print(i);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# 3ãä¸¤èåºå«\n\nbreakå¨ä»»ä½å¾ªç¯è¯­å¥çä¸»ä½é¨åï¼åå¯ç¨breakæ§å¶å¾ªç¯çæµç¨ãbreakç¨äºå¼ºè¡éåºå¾ªç¯ï¼ä¸æ§è¡å¾ªç¯ä¸­å©ä½çè¯­å¥ã(breakè¯­å¥ä¹å¨switchè¯­å¥ä¸­ä½¿ç¨)\n\ncontinue è¯­å¥ç¨å¨å¾ªç¯è¯­å¥ä½ä¸­ï¼ç¨äºç»æ­¢ææ¬¡å¾ªç¯è¿ç¨ï¼å³è·³è¿å¾ªç¯ä½ä¸­å°æªæ§è¡çè¯­å¥ï¼æ¥çè¿è¡ä¸ä¸æ¬¡æ¯å¦æ§è¡å¾ªç¯çå¤å®ã\n\n\n# 4ãå¸¦æ ç­¾çcontinue\n\nãäºè§£å³å¯ã\n\n 1. gotoå³é®å­å¾æ©å°±å¨ç¨åºè®¾è®¡è¯­è¨ä¸­åºç°ãå°½ç®¡gotoä»æ¯Javaçä¸ä¸ªä¿çå­ï¼ä½å¹¶æªå¨è¯­è¨ä¸­å¾å°æ­£å¼ä½¿ç¨ï¼Javaæ²¡ægotoãç¶èï¼å¨breakåcontinueè¿ä¸¤ä¸ªå³é®å­çèº«ä¸ï¼æä»¬ä»ç¶è½çåºä¸äº gotoçå½±å­---å¸¦æ ç­¾çbreakåcontinueã\n\n 2. âæ ç­¾âæ¯æåé¢è·ä¸ä¸ªåå·çæ è¯ç¬¦ï¼ä¾å¦ï¼label:\n\n 3. å¯¹Javaæ¥è¯´å¯ä¸ç¨å°æ ç­¾çå°æ¹æ¯å¨å¾ªç¯è¯­å¥ä¹åãèå¨å¾ªç¯ä¹åè®¾ç½®æ ç­¾çå¯ä¸çç±æ¯ï¼æä»¬å¸æå¨å¶ä¸­åµå¥å¦ä¸ä¸ªå¾ªç¯ï¼ç±äºbreakåcontinueå³é®å­éå¸¸åªä¸­æ­å½åå¾ªç¯ï¼ä½è¥éåæ ç­¾ä½¿ç¨ï¼å®ä»¬å°±ä¼ä¸­æ­å°å­å¨æ ç­¾çå°æ¹ã\n\n 4. å¸¦æ ç­¾çbreakåcontinueçä¾å­ï¼\n    \n    ãæ¼ç¤ºï¼æå°101-150ä¹é´ææçè´¨æ°ã\n    \n    public static void main(String[] args) {\n        int count = 0;\n        outer: for (int i = 101; i < 150; i ++) {\n            for (int j = 2; j < i / 2; j++) {\n                if (i % j == 0){\n                     continue outer;\n                }\n            }\n            System.out.print(i+ " ");\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    \n\nãçä¸ææ²¡å³ç³»ï¼åªæ¯äºè§£ä¸ä¸å³å¯ï¼ç¥égotoè¿ä¸ªä¿çå­åæ ç­¾çåæ³ã',normalizedContent:'# javase-æµç¨æ§å¶\n\n\n# break & continue\n\n\n# 1ãbreak å³é®å­\n\nbreak ä¸»è¦ç¨å¨å¾ªç¯è¯­å¥æè switch è¯­å¥ä¸­ï¼ç¨æ¥è·³åºæ´ä¸ªè¯­å¥åã\n\nbreak è·³åºæéå±çå¾ªç¯ï¼å¹¶ä¸ç»§ç»­æ§è¡è¯¥å¾ªç¯ä¸é¢çè¯­å¥ã\n\nãæ¼ç¤ºï¼è·³åºå¾ªç¯ã\n\npublic static void main(string[] args) {\n    int i = 0;\n    while (i < 100) {\n        i++;\n        system.out.println(i);\n        if (i == 30) {\n            break;\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nswitch è¯­å¥ä¸­breakå¨ä¸é¢å·²ç»è¯¦ç»è¯´æäº\n\n\n# 2ãcontinue å³é®å­\n\ncontinue éç¨äºä»»ä½å¾ªç¯æ§å¶ç»æä¸­ãä½ç¨æ¯è®©ç¨åºç«å»è·³è½¬å°ä¸ä¸æ¬¡å¾ªç¯çè¿­ä»£ã\n\nå¨ for å¾ªç¯ä¸­ï¼continue è¯­å¥ä½¿ç¨åºç«å³è·³è½¬å°æ´æ°è¯­å¥ã\n\nå¨ while æè doâ¦while å¾ªç¯ä¸­ï¼ç¨åºç«å³è·³è½¬å°å¸å°è¡¨è¾¾å¼çå¤æ­è¯­å¥ã\n\npublic static void main(string[] args) {\n    int i = 0;\n    while (i < 100) {\n        i++;\n        if (i % 10 == 0) {\n            system.out.println();\n            continue;\n        }\n        system.out.print(i);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# 3ãä¸¤èåºå«\n\nbreakå¨ä»»ä½å¾ªç¯è¯­å¥çä¸»ä½é¨åï¼åå¯ç¨breakæ§å¶å¾ªç¯çæµç¨ãbreakç¨äºå¼ºè¡éåºå¾ªç¯ï¼ä¸æ§è¡å¾ªç¯ä¸­å©ä½çè¯­å¥ã(breakè¯­å¥ä¹å¨switchè¯­å¥ä¸­ä½¿ç¨)\n\ncontinue è¯­å¥ç¨å¨å¾ªç¯è¯­å¥ä½ä¸­ï¼ç¨äºç»æ­¢ææ¬¡å¾ªç¯è¿ç¨ï¼å³è·³è¿å¾ªç¯ä½ä¸­å°æªæ§è¡çè¯­å¥ï¼æ¥çè¿è¡ä¸ä¸æ¬¡æ¯å¦æ§è¡å¾ªç¯çå¤å®ã\n\n\n# 4ãå¸¦æ ç­¾çcontinue\n\nãäºè§£å³å¯ã\n\n 1. gotoå³é®å­å¾æ©å°±å¨ç¨åºè®¾è®¡è¯­è¨ä¸­åºç°ãå°½ç®¡gotoä»æ¯javaçä¸ä¸ªä¿çå­ï¼ä½å¹¶æªå¨è¯­è¨ä¸­å¾å°æ­£å¼ä½¿ç¨ï¼javaæ²¡ægotoãç¶èï¼å¨breakåcontinueè¿ä¸¤ä¸ªå³é®å­çèº«ä¸ï¼æä»¬ä»ç¶è½çåºä¸äº gotoçå½±å­---å¸¦æ ç­¾çbreakåcontinueã\n\n 2. âæ ç­¾âæ¯æåé¢è·ä¸ä¸ªåå·çæ è¯ç¬¦ï¼ä¾å¦ï¼label:\n\n 3. å¯¹javaæ¥è¯´å¯ä¸ç¨å°æ ç­¾çå°æ¹æ¯å¨å¾ªç¯è¯­å¥ä¹åãèå¨å¾ªç¯ä¹åè®¾ç½®æ ç­¾çå¯ä¸çç±æ¯ï¼æä»¬å¸æå¨å¶ä¸­åµå¥å¦ä¸ä¸ªå¾ªç¯ï¼ç±äºbreakåcontinueå³é®å­éå¸¸åªä¸­æ­å½åå¾ªç¯ï¼ä½è¥éåæ ç­¾ä½¿ç¨ï¼å®ä»¬å°±ä¼ä¸­æ­å°å­å¨æ ç­¾çå°æ¹ã\n\n 4. å¸¦æ ç­¾çbreakåcontinueçä¾å­ï¼\n    \n    ãæ¼ç¤ºï¼æå°101-150ä¹é´ææçè´¨æ°ã\n    \n    public static void main(string[] args) {\n        int count = 0;\n        outer: for (int i = 101; i < 150; i ++) {\n            for (int j = 2; j < i / 2; j++) {\n                if (i % j == 0){\n                     continue outer;\n                }\n            }\n            system.out.print(i+ " ");\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    \n\nãçä¸ææ²¡å³ç³»ï¼åªæ¯äºè§£ä¸ä¸å³å¯ï¼ç¥égotoè¿ä¸ªä¿çå­åæ ç­¾çåæ³ã',charsets:{cjk:!0},lastUpdated:"2021/05/26, 10:05:00",lastUpdatedTimestamp:1622024154e3},{title:"å¼å¸¸æºå¶",frontmatter:{title:"å¼å¸¸æºå¶",date:"2021-04-15T22:46:39.000Z",permalink:"/java/se/exception/",categories:["java","java-se"]},regularPath:"/01.Java/02.java-%E5%9F%BA%E7%A1%80/07.%E5%BC%82%E5%B8%B8%E6%9C%BA%E5%88%B6.html",relativePath:"01.Java/02.java-åºç¡/07.å¼å¸¸æºå¶.md",key:"v-26212a8a",path:"/java/se/exception/",headers:[{level:2,title:"å¼å¸¸æ¦å¿µ",slug:"å¼å¸¸æ¦å¿µ",normalizedTitle:"å¼å¸¸æ¦å¿µ",charIndex:18},{level:2,title:"å¼å¸¸ä½ç³»ç»æ",slug:"å¼å¸¸ä½ç³»ç»æ",normalizedTitle:"å¼å¸¸ä½ç³»ç»æ",charIndex:1232},{level:2,title:"å¼å¸¸ä¹é´çåºå«ä¸èç³»",slug:"å¼å¸¸ä¹é´çåºå«ä¸èç³»",normalizedTitle:"å¼å¸¸ä¹é´çåºå«ä¸èç³»",charIndex:1657},{level:3,title:"1ãError",slug:"_1ãerror",normalizedTitle:"1ãerror",charIndex:1672},{level:3,title:"2ãException",slug:"_2ãexception",normalizedTitle:"2ãexception",charIndex:2046},{level:3,title:"3ãæ£æ¥å¼å¸¸åä¸åæ£æ¥å¼å¸¸",slug:"_3ãæ£æ¥å¼å¸¸åä¸åæ£æ¥å¼å¸¸",normalizedTitle:"3ãæ£æ¥å¼å¸¸åä¸åæ£æ¥å¼å¸¸",charIndex:2666},{level:2,title:"Javaå¼å¸¸å¤çæºå¶",slug:"javaå¼å¸¸å¤çæºå¶",normalizedTitle:"javaå¼å¸¸å¤çæºå¶",charIndex:2963},{level:3,title:"1ãæåºå¼å¸¸",slug:"_1ãæåºå¼å¸¸",normalizedTitle:"1ãæåºå¼å¸¸",charIndex:3e3},{level:3,title:"2ãæè·å¼å¸¸",slug:"_2ãæè·å¼å¸¸",normalizedTitle:"2ãæè·å¼å¸¸",charIndex:3602},{level:3,title:"3ãå¼å¸¸å¤çäºä¸ªå³é®å­",slug:"_3ãå¼å¸¸å¤çäºä¸ªå³é®å­",normalizedTitle:"3ãå¼å¸¸å¤çäºä¸ªå³é®å­",charIndex:4128},{level:2,title:"å¤çå¼å¸¸",slug:"å¤çå¼å¸¸",normalizedTitle:"å¤çå¼å¸¸",charIndex:1215},{level:3,title:"1ãtry -catch",slug:"_1ãtry-catch",normalizedTitle:"1ãtry -catch",charIndex:4522},{level:3,title:"2ãthorw",slug:"_2ãthorw",normalizedTitle:"2ãthorw",charIndex:8961},{level:3,title:"3ãthrows",slug:"_3ãthrows",normalizedTitle:"3ãthrows",charIndex:10317},{level:3,title:"4ãfinally",slug:"_4ãfinally",normalizedTitle:"4ãfinally",charIndex:11875},{level:3,title:"æ§è¡é¡ºåº",slug:"æ§è¡é¡ºåº",normalizedTitle:"æ§è¡é¡ºåº",charIndex:13414},{level:2,title:"èªå®ä¹å¼å¸¸",slug:"èªå®ä¹å¼å¸¸",normalizedTitle:"èªå®ä¹å¼å¸¸",charIndex:13507},{level:2,title:"æ»ç»",slug:"æ»ç»",normalizedTitle:"æ»ç»",charIndex:15249}],headersStr:"å¼å¸¸æ¦å¿µ å¼å¸¸ä½ç³»ç»æ å¼å¸¸ä¹é´çåºå«ä¸èç³» 1ãError 2ãException 3ãæ£æ¥å¼å¸¸åä¸åæ£æ¥å¼å¸¸ Javaå¼å¸¸å¤çæºå¶ 1ãæåºå¼å¸¸ 2ãæè·å¼å¸¸ 3ãå¼å¸¸å¤çäºä¸ªå³é®å­ å¤çå¼å¸¸ 1ãtry -catch 2ãthorw 3ãthrows 4ãfinally æ§è¡é¡ºåº èªå®ä¹å¼å¸¸ æ»ç»",content:'# JavaSE-å¼å¸¸æºå¶\n\n\n# å¼å¸¸æ¦å¿µ\n\nå¨æä»¬æ¥å¸¸çæ´»ä¸­ï¼ææ¶ä¼åºç°åç§åæ ·çå¼å¸¸ãä¾å¦ï¼èå·¥å°çå¼è½¦å»ä¸ç­ï¼å¨æ­£å¸¸æåµä¸ï¼å°çä¼åæ¶å°è¾¾åä½ãä½æ¯å¤©æä¸æµé£äºï¼å¨å°çå»ä¸ç­æ¶ï¼å¯è½ä¼éå°ä¸äºå¼å¸¸æåµï¼æ¯å¦å°ççè½¦å­åºäºæéï¼å°çåªè½æ¹ä¸ºæ­¥è¡ã\n\nå®éå·¥ä½ä¸­ï¼éå°çæåµä¸å¯è½æ¯éå¸¸å®ç¾çãæ¯å¦ï¼ä½ åçæä¸ªæ¨¡åï¼ç¨æ·è¾å¥ä¸ä¸å®ç¬¦åä½ çè¦æ±ãä½ çç¨åºè¦æå¼æä¸ªæä»¶ï¼è¿ä¸ªæä»¶å¯è½ä¸å­å¨æèæä»¶æ ¼å¼ä¸å¯¹ï¼ä½ è¦è¯»åæ°æ®åºçæ°æ®ï¼æ°æ®å¯è½æ¯ç©ºçç­ãæä»¬çç¨åºåè·çï¼åå­æç¡¬çå¯è½æ»¡äºãç­ç­ã\n\nè½¯ä»¶ç¨åºå¨è¿è¡è¿ç¨ä¸­ï¼éå¸¸å¯è½éå°ååæå°çè¿äºå¼å¸¸é®é¢ï¼æä»¬å«å¼å¸¸ï¼è±ææ¯ï¼Exceptionï¼ æææ¯ä¾å¤ãè¿äºï¼ä¾å¤æåµï¼æèå«å¼å¸¸ï¼æä¹è®©æä»¬åçç¨åºååºåççå¤çãèä¸è³äºç¨åºå´©æºã\n\nå¼å¸¸ï¼æç¨åºè¿è¡ä¸­åºç°çä¸æèè³çåç§ç¶åµï¼å¦:æä»¶æ¾ä¸å°ãç½ç»è¿æ¥å¤±è´¥ãéæ³åæ°ç­ã å¼å¸¸åçå¨ç¨åºè¿è¡æé´ï¼å®å½±åäºæ­£å¸¸çç¨åºæ§è¡æµç¨ã\n\næ¯å¦è¯´ï¼ä½ çä»£ç å°äºä¸ä¸ªåå·ï¼é£ä¹è¿è¡åºæ¥ç»ææ¯æç¤ºæ¯éè¯¯ java.lang.Error ï¼\n\nå¦æä½ ç¨ System.out.println(11/0) ï¼å ä¸ºä½ ç¨0åäºé¤æ°ï¼ä¼æåº java.lang.ArithmeticException çå¼å¸¸ã\n\nå¼å¸¸åççåå æå¾å¤ï¼éå¸¸åå«ä»¥ä¸å å¤§ç±»ï¼\n\n * ç¨æ·è¾å¥äºéæ³æ°æ®ã\n * è¦æå¼çæä»¶ä¸å­å¨ã\n * ç½ç»éä¿¡æ¶è¿æ¥ä¸­æ­ï¼æèJVMåå­æº¢åºã\n\nè¿äºå¼å¸¸æçæ¯å ä¸ºç¨æ·éè¯¯å¼èµ·ï¼æçæ¯ç¨åºéè¯¯å¼èµ·çï¼è¿æå¶å®ä¸äºæ¯å ä¸ºç©çéè¯¯å¼èµ·çã\n\nè¦çè§£Javaå¼å¸¸å¤çæ¯å¦ä½å·¥ä½çï¼ä½ éè¦ææ¡ä»¥ä¸ä¸ç§ç±»åçå¼å¸¸ï¼\n\n * æ£æ¥æ§å¼å¸¸ï¼\n   \n   æå·ä»£è¡¨çæ£æ¥æ§å¼å¸¸æ¯ç¨æ·éè¯¯æé®é¢å¼èµ·çå¼å¸¸ï¼è¿æ¯ç¨åºåæ æ³é¢è§çãä¾å¦ï¼è¦æå¼ä¸ä¸ªä¸å­å¨æä»¶æ¶ï¼ä¸ä¸ªå¼å¸¸å°±åçäºï¼è¿äºå¼å¸¸å¨ç¼è¯æ¶ä¸è½è¢«ç®åå°å¿½ç¥ã\n\n * è¿è¡æ¶å¼å¸¸ï¼\n   \n   è¿è¡æ¶å¼å¸¸æ¯å¯è½è¢«ç¨åºåé¿åçå¼å¸¸ãä¸æ£æ¥æ§å¼å¸¸ç¸åï¼è¿è¡æ¶å¼å¸¸å¯ä»¥å¨ç¼è¯æ¶è¢«å¿½ç¥ã\n\n * éè¯¯ï¼\n   \n   éè¯¯ä¸æ¯å¼å¸¸ï¼èæ¯è±ç¦»ç¨åºåæ§å¶çé®é¢ãéè¯¯å¨ä»£ç ä¸­éå¸¸è¢«å¿½ç¥ãä¾å¦ï¼å½æ æº¢åº æ¶ï¼ä¸ä¸ªéè¯¯å°±åçäºï¼å®ä»¬å¨ç¼è¯ä¹æ£æ¥ä¸å°çã\n\nå¼å¸¸æä¸æèè³çåç§ç¶åµï¼å¦ï¼æä»¶æ¾ä¸å°ãç½ç»è¿æ¥å¤±è´¥ãé¤0æä½ãéæ³åæ°ç­ãå¼å¸¸æ¯ä¸ä¸ª äºä»¶ï¼å®åçå¨ç¨åºè¿è¡æé´ï¼å¹²æ°äºæ­£å¸¸çæä»¤æµç¨ã\n\nJavaè¯­è¨å¨è®¾è®¡çå½åå°±èèå°è¿äºé®é¢ï¼æåºå¼å¸¸å¤ççæ¡æ¶çæ¹æ¡ï¼ææçå¼å¸¸é½å¯ä»¥ç¨ä¸ä¸ª å¼å¸¸ç±» æ¥è¡¨ç¤ºï¼ä¸åç±»åçå¼å¸¸å¯¹åºä¸åçå­ç±»å¼å¸¸ï¼ç®åæä»¬æè¯´çå¼å¸¸åæ¬éè¯¯æ¦å¿µï¼ï¼å®ä¹å¼å¸¸å¤ççè§èï¼å¨ JDK1.4 çæ¬ä»¥åå¢å äºå¼å¸¸é¾æºå¶ï¼ä»èä¾¿äºè·è¸ªå¼å¸¸ã\n\nJavaå¼å¸¸æ¯ä¸ä¸ªæè¿°å¨ä»£ç æ®µä¸­åçå¼å¸¸çå¯¹è±¡ï¼å½åçå¼å¸¸æåµæ¶ï¼ä¸ä¸ªä»£è¡¨è¯¥å¼å¸¸çå¯¹è±¡è¢«åå»ºå¹¶ä¸å¨å¯¼è´è¯¥å¼å¸¸çæ¹æ³ä¸­è¢«æåºï¼èè¯¥æ¹æ³å¯ä»¥éæ©èªå·±å¤çå¼å¸¸æèä¼ éè¯¥å¼å¸¸ã\n\n\n# å¼å¸¸ä½ç³»ç»æ\n\nJavaæå¼å¸¸å½ä½å¯¹è±¡æ¥å¤çï¼å¹¶å®ä¹ä¸ä¸ªåºç±» java.lang.Throwableä½ä¸ºææå¼å¸¸çè¶ç±»ã\n\nå¨Java APIä¸­å·²ç»å®ä¹äºè®¸å¤å¼å¸¸ç±»ï¼è¿äºå¼å¸¸ç±»åä¸ºä¸¤å¤§ç±»ï¼éè¯¯Erroråå¼å¸¸Exceptionã\n\nJavaå¼å¸¸å±æ¬¡ç»æå¾ï¼\n\n\n\nä»å¾ä¸­å¯ä»¥çåºææå¼å¸¸ç±»åé½æ¯åç½®ç±» Throwable çå­ç±»ï¼å è Throwable å¨å¼å¸¸ç±»çå±æ¬¡ç»æçé¡¶å±ã\n\næ¥ä¸æ¥ Throwable åæäºä¸¤ä¸ªä¸åçåæ¯ï¼ä¸ä¸ªåæ¯æ¯Errorï¼å®è¡¨ç¤ºä¸å¸æè¢«ç¨åºæè·æèæ¯ç¨åºæ æ³å¤ççéè¯¯ãå¦ä¸ä¸ªåæ¯æ¯Exceptionï¼å®è¡¨ç¤ºç¨æ·ç¨åºå¯è½ææçå¼å¸¸æåµæèè¯´æ¯ç¨åºå¯ä»¥å¤ççå¼å¸¸ã\n\nå¶ä¸­å¼å¸¸ç±» Exception ååä¸ºè¿è¡æ¶å¼å¸¸( RuntimeException )åéè¿è¡æ¶å¼å¸¸ãJavaå¼å¸¸åå¯ä»¥åä¸ºä¸åæ£æ¥å¼å¸¸ï¼ Unchecked Exception ï¼åæ£æ¥å¼å¸¸ï¼ Checked Exception ï¼ã\n\n\n# å¼å¸¸ä¹é´çåºå«ä¸èç³»\n\n\n# 1ãError\n\nError ç±»å¯¹è±¡ç± Java èææºçæå¹¶æåºï¼å¤§å¤æ°éè¯¯ä¸ä»£ç ç¼åèææ§è¡çæä½æ å³ã\n\næ¯å¦è¯´ï¼\n\nJavaèææºè¿è¡éè¯¯ï¼ Virtual MachineError ï¼ï¼å½JVMä¸åæç»§ç»­æ§è¡æä½æéçåå­èµæºæ¶ï¼ å°åºç° OutOfMemoryError ãè¿äºå¼å¸¸åçæ¶ï¼Javaèææºï¼JVMï¼ä¸è¬ä¼éæ©çº¿ç¨ç»æ­¢ï¼\n\nè¿æåçå¨èææºè¯å¾æ§è¡åºç¨æ¶ï¼å¦ç±»å®ä¹éè¯¯ï¼ NoClassDefFoundError )ãé¾æ¥éè¯¯ (LinkageError) è¿äºéè¯¯æ¯ä¸å¯æ¥çï¼å ä¸ºå®ä»¬å¨åºç¨ç¨åºçæ§å¶åå¤çè½åä¹å¤ï¼èä¸ç»å¤§å¤æ°æ¯ç¨åºè¿è¡æ¶ä¸åè®¸åºç°çç¶åµã\n\nå¯¹äºè®¾è®¡åççåºç¨ç¨åºæ¥è¯´ï¼å³ä½¿ç¡®å®åçäºéè¯¯ï¼æ¬è´¨ä¸ä¹ä¸åºè¯¥è¯å¾å»å¤çå®æå¼èµ·çå¼å¸¸ç¶ åµãå¨Javaä¸­ï¼éè¯¯éå¸¸æ¯ä½¿ç¨ Error çå­ç±»æè¿°ã\n\n\n# 2ãException\n\nå¨ Exception åæ¯ä¸­æä¸ä¸ªéè¦çå­ç±»RuntimeException ï¼è¿è¡æ¶å¼å¸¸ï¼ï¼è¯¥ç±»åçå¼å¸¸èªå¨ä¸ºä½ æç¼åçç¨åºå®ä¹ ArrayIndexOutOfBoundsException ï¼æ°ç»ä¸æ è¶çï¼ã NullPointerException ï¼ç©ºæéå¼å¸¸ï¼ãArithmeticException ï¼ç®æ¯å¼å¸¸ï¼ã MissingResourceException ï¼ä¸¢å¤±èµæºï¼ã ClassNotFoundException ï¼æ¾ä¸å°ç±»ï¼ç­å¼å¸¸ï¼è¿äºå¼å¸¸æ¯ä¸æ£æ¥å¼å¸¸ï¼ç¨åºä¸­å¯ä»¥éæ©æè·å¤ çï¼ä¹å¯ä»¥ä¸å¤çã\n\nè¿äºå¼å¸¸ä¸è¬æ¯ç±ç¨åºé»è¾éè¯¯å¼èµ·çï¼ç¨åºåºè¯¥ä»é»è¾è§åº¦å°½å¯è½é¿åè¿ç±»å¼å¸¸çåçï¼è RuntimeException ä¹å¤çå¼å¸¸æä»¬ç»ç§°ä¸ºéè¿è¡æ¶å¼å¸¸ï¼ç±»åä¸å±äº Exception ç±»åå¶å­ç±»ï¼\n\nä»ç¨åºè¯­æ³è§åº¦è®²æ¯å¿é¡»è¿è¡å¤ççå¼å¸¸ï¼å¦æä¸å¤çï¼ç¨åºå°±ä¸è½ç¼è¯éè¿ãå¦ IOException ã SQLException ç­ä»¥åç¨æ·èªå®ä¹ç Exception å¼å¸¸ï¼ä¸è¬æåµä¸ä¸èªå®ä¹æ£æ¥å¼å¸¸ã\n\næ³¨æï¼ Error å Exception çåºå«ï¼ Error éå¸¸æ¯ç¾é¾æ§çè´å½çéè¯¯ï¼æ¯ç¨åºæ æ³æ§å¶åå¤ççï¼å½åºç°è¿äºå¼å¸¸æ¶ï¼Javaèææºï¼JVMï¼ä¸è¬ä¼éæ©ç»æ­¢çº¿ç¨ï¼ Exception éå¸¸æåµä¸æ¯å¯ä»¥è¢«ç¨åºå¤ççï¼å¹¶ä¸å¨ç¨åºä¸­åºè¯¥å°½å¯è½çå»å¤çè¿äºå¼å¸¸ã\n\n\n# 3ãæ£æ¥å¼å¸¸åä¸åæ£æ¥å¼å¸¸\n\næ£æ¥å¼å¸¸ï¼å¨æ­£ç¡®çç¨åºè¿è¡è¿ç¨ä¸­ï¼å¾å®¹æåºç°çãæçå¯å®¹çå¼å¸¸ç¶åµï¼å¨ä¸å®ç¨åº¦ä¸è¿ç§å¼å¸¸çåçæ¯å¯ä»¥é¢æµçï¼å¹¶ä¸ä¸æ¦åçè¯¥ç§å¼å¸¸ï¼å°±å¿é¡»éåæç§æ¹å¼è¿è¡å¤çã\n\nè§£æï¼é¤äºRuntimeExceptionåå¶å­ç±»ä»¥å¤ï¼å¶ä»çExceptionç±»åå¶å­ç±»é½å±äºæ£æ¥å¼å¸¸ï¼å½ç¨åºä¸­å¯è½åºç°è¿ç±»å¼å¸¸ï¼è¦ä¹ä½¿ç¨try-catchè¯­å¥è¿è¡æè·ï¼è¦ä¹ç¨throwså­å¥æåºï¼å¦åç¼è¯æ æ³éè¿ã\n\nä¸åæ£æ¥å¼å¸¸ï¼åæ¬RuntimeExceptionåå¶å­ç±»åErrorã\n\nåæï¼ ä¸åæ£æ¥å¼å¸¸ ä¸ºç¼è¯å¨ä¸è¦æ±å¼ºå¶å¤ççå¼å¸¸ï¼ æ£æ¥å¼å¸¸ åæ¯ç¼è¯å¨è¦æ±å¿é¡»å¤ç½®çå¼å¸¸ã\n\n\n# Javaå¼å¸¸å¤çæºå¶\n\njavaå¼å¸¸å¤çæ¬è´¨ï¼æåºå¼å¸¸åæè·å¼å¸¸\n\n\n# 1ãæåºå¼å¸¸\n\nè¦çè§£æåºå¼å¸¸ï¼é¦åè¦æç½ä»ä¹æ¯å¼å¸¸æå½¢ï¼exception conditionï¼ï¼å®æ¯æé»æ­¢å½åæ¹æ³æä½ç¨åç»§ç»­æ§è¡çé®é¢ãå¶æ¬¡æå¼å¸¸æå½¢åæ®éé®é¢ç¸åºåï¼æ®éé®é¢æ¯æå¨å½åç¯å¢ä¸è½å¾å°è¶³å¤çä¿¡æ¯ï¼ æ»è½å¤çè¿ä¸ªéè¯¯ã\n\nå¯¹äºå¼å¸¸æå½¢ï¼å·²ç»æ æ³ç»§ç»­ä¸å»äºï¼å ä¸ºå¨å½åç¯å¢ä¸æ æ³è·å¾å¿è¦çä¿¡æ¯æ¥è§£å³é®é¢ï¼ä½ æè½åçå°±æ¯ä»å½åç¯å¢ä¸­è·³åºï¼å¹¶æé®é¢æäº¤ç»ä¸ä¸çº§ç¯å¢ï¼è¿å°±æ¯æåºå¼å¸¸æ¶æåççäºæãæåºå¼å¸¸åï¼ä¼æå ä»¶äºéä¹åçã\n\né¦åï¼æ¯ååå»ºæ®éçjavaå¯¹è±¡ä¸æ ·å°ä½¿ç¨ new å¨å ä¸åå»ºä¸ä¸ªå¼å¸¸å¯¹è±¡ï¼ç¶åï¼å½åçæ§è¡è·¯å¾ ï¼å·²ç»æ æ³ç»§ç»­ä¸å»äºï¼è¢«ç»æ­¢ï¼å¹¶ä¸ä»å½åç¯å¢ä¸­å¼¹åºå¯¹å¼å¸¸å¯¹è±¡çå¼ç¨ãæ­¤æ¶ï¼å¼å¸¸å¤çæºå¶æ¥ç®¡ç¨åºï¼å¹¶å¼å§å¯»æ¾ä¸ä¸ªæ°å½çå°æ¹ç»§ç»­æ§è¡ç¨åº\n\nè¿ä¸ªæ°å½çå°æ¹å°±æ¯å¼å¸¸å¤çç¨åºæèå¼å¸¸å¤çå¨ï¼å®çä»»å¡æ¯å°ç¨åºä»éè¯¯ç¶æä¸­æ¢å¤ï¼ä»¥ä½¿ç¨åºè¦ ä¹æ¢ä¸ç§æ¹å¼è¿è¡ï¼è¦ä¹ç»§ç»­è¿è¡ä¸å»ã\n\nä¸¾ä¾ï¼\n\nåä½¿æä»¬åå»ºäºä¸ä¸ªå­¦çå¯¹è±¡Studentçä¸ä¸ªå¼ç¨stuï¼å¨è°ç¨çæ¶åå¯è½è¿æ²¡æåå§åãæä»¥å¨ä½¿ç¨è¿ä¸ªå¯¹è±¡å¼ç¨è°ç¨å¶ä»æ¹æ³ä¹åï¼è¦åå¯¹å®è¿è¡æ£æ¥ï¼å¯ä»¥åå»ºä¸ä¸ªä»£è¡¨éè¯¯ä¿¡æ¯çå¯¹è±¡ï¼å¹¶ä¸å°å®ä»å½åç¯å¢ä¸­æåºï¼è¿æ ·å°±æéè¯¯ä¿¡æ¯ä¼ æ­å°æ´å¤§çç¯å¢ä¸­ã\n\nif(stu == null){\n    throw new NullPointerException();\n}\n\n\n1\n2\n3\n\n\n\n# 2ãæè·å¼å¸¸\n\nå¨æ¹æ³æåºå¼å¸¸ä¹åï¼è¿è¡æ¶ç³»ç»å°è½¬ä¸ºå¯»æ¾åéçå¼å¸¸å¤çå¨ï¼exception handlerï¼ãæ½å¨çå¼å¸¸å¤çå¨æ¯å¼å¸¸åçæ¶ä¾æ¬¡å­çå¨è°ç¨æ ä¸­çæ¹æ³çéåãå½å¼å¸¸å¤çå¨æè½å¤ççå¼å¸¸ç±»åä¸æ¹æ³æåºçå¼å¸¸ç±»åç¸ç¬¦æ¶ï¼å³ä¸ºåéçå¼å¸¸å¤çå¨ãè¿è¡æ¶ç³»ç»ä»åçå¼å¸¸çæ¹æ³å¼å§ï¼ä¾æ¬¡åæ¥è°ç¨æ ä¸­çæ¹æ³ï¼ç´è³æ¾å°å«æåéå¼å¸¸å¤çå¨çæ¹æ³å¹¶æ§è¡ãå½è¿è¡æ¶ç³»ç»éåè°ç¨æ èæªæ¾å°åéçå¼å¸¸å¤çå¨ï¼åè¿è¡æ¶ç³»ç»ç»æ­¢ãåæ¶ï¼æå³çJavaç¨åºçç»æ­¢ã\n\næ³¨æï¼\n\nå¯¹äº è¿è¡æ¶å¼å¸¸ ãéè¯¯ å æ£æ¥å¼å¸¸ ï¼Javaææ¯æè¦æ±çå¼å¸¸å¤çæ¹å¼ææä¸åã\n\nç±äºè¿è¡æ¶å¼å¸¸åå¶å­ç±»çä¸å¯æ¥æ§ï¼ä¸ºäºæ´åçãæ´å®¹æå°å®ç°åºç¨ç¨åºï¼Javaè§å®ï¼è¿è¡æ¶å¼å¸¸å°ç±Javaè¿è¡æ¶ç³»ç»èªå¨æåºï¼åè®¸åºç¨ç¨åºå¿½ç¥è¿è¡æ¶å¼å¸¸ã\n\nå¯¹äºæ¹æ³è¿è¡ä¸­å¯è½åºç°çError ï¼å½è¿è¡æ¹æ³ä¸æ¬²æææ¶ï¼Javaåè®¸è¯¥æ¹æ³ä¸åä»»ä½æåºå£°æãå ä¸ºï¼å¤§å¤æ° Error å¼å¸¸å±äºæ°¸è¿ä¸è½è¢«åè®¸åççç¶åµï¼ä¹å±äºåççåºç¨ç¨åºä¸è¯¥ææçå¼å¸¸ã\n\n> å¯¹äºææçæ£æ¥å¼å¸¸ï¼Javaè§å®ï¼ä¸ä¸ªæ¹æ³å¿é¡»ææï¼æèå£°ææåºæ¹æ³ä¹å¤ãä¹å°±æ¯è¯´ï¼å½ä¸ä¸ªæ¹æ³éæ©ä¸æææ£æ¥å¼å¸¸æ¶ï¼å®å¿é¡»å£°æå°æåºå¼å¸¸ã\n\n\n# 3ãå¼å¸¸å¤çäºä¸ªå³é®å­\n\nåå«æ¯ï¼ try ã catch ã finally ã throw ã throws\n\ntry ï¼ç¨äºçå¬ãå°è¦è¢«çå¬çä»£ç ï¼å¯è½æåºå¼å¸¸çä»£ç ï¼æ¾å¨tryè¯­å¥åä¹åï¼å½tryè¯­å¥åååçå¼å¸¸æ¶ï¼å¼å¸¸å°±è¢«æåºã\n\ncatch ï¼ ç¨äºæè·å¼å¸¸ãcatchç¨æ¥æè·tryè¯­å¥åä¸­åççå¼å¸¸ã\n\nfinally ï¼finallyè¯­å¥åæ»æ¯ä¼è¢«æ§è¡ãå®ä¸»è¦ç¨äºåæ¶å¨tryåéæå¼çç©åèµæºï¼å¦æ°æ®åºè¿æ¥ãç½ç» è¿æ¥åç£çæä»¶ï¼ãåªæfinallyåï¼æ§è¡å®æä¹åï¼æä¼åæ¥æ§è¡tryæècatchåä¸­çreturnæèthrowè¯­ å¥ï¼å¦æfinallyä¸­ä½¿ç¨äºreturnæèthrowç­ç»æ­¢æ¹æ³çè¯­å¥ï¼åå°±ä¸ä¼è·³åæ§è¡ï¼ç´æ¥åæ­¢ã\n\nthrow ï¼ ç¨äºæåºå¼å¸¸ã\n\nthrows ï¼ ç¨å¨æ¹æ³ç­¾åä¸­ï¼ç¨äºå£°æè¯¥æ¹æ³å¯è½æåºçå¼å¸¸ã\n\n\n# å¤çå¼å¸¸\n\n\n# 1ãtry -catch\n\ntry{\n\t//code that might generate exceptions\n}catch(Exception e){\n\t//the code of handling exception1\n}catch(Exception e){\n\t//the code of handling exception2\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nè¦æç½å¼å¸¸æè·ï¼è¿è¦çè§£ çæ§åºå ï¼guarded regionï¼çæ¦å¿µãå®æ¯ä¸æ®µå¯è½äº§çå¼å¸¸çä»£ç ï¼ å¹¶ä¸åé¢è·çå¤çè¿äºå¼å¸¸çä»£ç ã\n\nå èå¯ç¥ï¼ä¸è¿° try-catch ææè¿°çå³æ¯çæ§åºåï¼å³é®è¯ tryåçä¸å¯¹å¤§æ¬å·å°ä¸åå¯è½åçå¼å¸¸çä»£ç åèµ·æ¥ï¼å³ä¸ºçæ§åºåãJavaæ¹æ³å¨è¿è¡è¿ç¨ä¸­åçäºå¼å¸¸ï¼ååå»ºå¼å¸¸å¯¹è±¡ã\n\nå°å¼å¸¸æåºçæ§åºåä¹å¤ï¼ç±Javaè¿è¡æ¶ç³»ç»è´è´£å¯»æ¾å¹éç catch å­å¥æ¥æè·å¼å¸¸ãè¥æä¸ä¸ª catch è¯­å¥å¹éå°äºï¼åæ§è¡è¯¥ catch åä¸­çå¼å¸¸å¤çä»£ç ï¼å°±ä¸åå°è¯å¹éå«ç catch å äºã\n\nå¹éååï¼å¦ææåºçå¼å¸¸å¯¹è±¡å±äº catch å­å¥çå¼å¸¸ç±»ï¼æèå±äºè¯¥å¼å¸¸ç±»çå­ç±»ï¼åè®¤ä¸ºçæçå¼å¸¸å¯¹è±¡ä¸ catch åæè·çå¼å¸¸ç±»åç¸å¹éã\n\nãæ¼ç¤ºã\n\npublic class TestException {\n    public static void main(String[] args) {\n        int a = 1;\n        int b = 0;\n        try { // tryçæ§åºå\n            if (b == 0) throw new ArithmeticException(); // éè¿throwè¯­å¥æåº\n            å¼å¸¸\n            System.out.println("a/bçå¼æ¯ï¼" + a / b);\n            System.out.println("this will not be printed!");\n        }\n        catch (ArithmeticException e) { // catchææå¼å¸¸\n            System.out.println("ç¨åºåºç°å¼å¸¸ï¼åébä¸è½ä¸º0ï¼");\n        }\n        System.out.println("ç¨åºæ­£å¸¸ç»æã");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n> è¾åºï¼\n> \n> ç¨åºåºç°å¼å¸¸ï¼åébä¸è½ä¸º0ï¼ ç¨åºæ­£å¸¸ç»æã\n\næ³¨æï¼æ¾ç¤ºä¸ä¸ªå¼å¸¸çæè¿°ï¼ Throwable éè½½äº toString( ) æ¹æ³ï¼ç± Object å®ä¹ï¼ï¼æä»¥ å®å°è¿åä¸ä¸ªåå«å¼å¸¸æè¿°çå­ç¬¦ä¸²ãä¾å¦ï¼å°åé¢ç catch åéåæï¼\n\ncatch (ArithmeticException e) { // catchææå¼å¸¸\n    System.out.println("ç¨åºåºç°å¼å¸¸" + e);\n}\n//è¾åº\n// ç¨åºåºç°å¼å¸¸java.lang.ArithmeticException\n\n\n1\n2\n3\n4\n5\n\n\nç®æ¯å¼å¸¸å±äºè¿è¡æ¶å¼å¸¸ï¼å èå®éä¸è¯¥å¼å¸¸ä¸éè¦ç¨åºæåºï¼è¿è¡æ¶ç³»ç»èªå¨æåºãå¦æä¸ç¨try-catchç¨åºå°±ä¸ä¼å¾ä¸æ§è¡äºã\n\nãæ¼ç¤ºã\n\npublic class TestException {\n    public static void main(String[] args) {\n        int a = 1;\n        int b = 0;\n        System.out.println("a/bçå¼æ¯ï¼" + a / b);\n        System.out.println("this will not be printed!");\n    }\n}\n/*\nç»æï¼\nException in thread "main" java.lang.ArithmeticException: / by zero\nat TestException.main(TestException.java:7)\n*/\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nä½¿ç¨å¤éçcatchè¯­å¥ï¼å¾å¤æåµä¸ï¼ç±åä¸ªçä»£ç æ®µå¯è½å¼èµ·å¤ä¸ªå¼å¸¸ãå¤çè¿ç§æåµï¼æä»¬éè¦å®ä¹ä¸¤ä¸ªæèæ´å¤ç catch å­å¥ï¼æ¯ä¸ªå­å¥æè·ä¸ç§ç±»åçå¼å¸¸ï¼å½å¼å¸¸è¢«å¼åæ¶ï¼æ¯ä¸ª catch å­ å¥è¢«ä¾æ¬¡æ£æ¥ï¼ç¬¬ä¸ä¸ªå¹éå¼å¸¸ç±»åçå­å¥æ§è¡ï¼å½ä¸ä¸ª catch å­å¥æ§è¡ä»¥åï¼å¶ä»çå­å¥å°è¢«æè·¯ã\n\nç¼åå¤écatchè¯­å¥åæ³¨æäºé¡¹ï¼\n\né¡ºåºé®é¢ï¼åå°åå¤§ï¼å³åå­ç±»åç¶ç±»\n\næ³¨æï¼\n\nJavaéè¿å¼å¸¸ç±»æè¿°å¼å¸¸ç±»åãå¯¹äºæå¤ä¸ª catch å­å¥çå¼å¸¸ç¨åºèè¨ï¼åºè¯¥å°½éå°æè·åºå±å¼å¸¸ç±»ç catch å­å¥æ¾å¨åé¢ï¼åæ¶å°½éå°æè·ç¸å¯¹é«å±çå¼å¸¸ç±»ç catch å­å¥æ¾å¨åé¢ãå¦åï¼æè· åºå±å¼å¸¸ç±»ç catch å­å¥å°å¯è½ä¼è¢«å±è½ã\n\nåµå¥tryè¯­å¥ï¼ try è¯­å¥å¯ä»¥è¢«åµå¥ãä¹å°±æ¯è¯´ï¼ä¸ä¸ª try è¯­å¥å¯ä»¥å¨å¦ä¸ä¸ª try åçåé¨ãæ¯æ¬¡è¿å¥ try è¯­å¥ï¼å¼å¸¸çååå³ç³»é½ä¼è¢«æ¨å¥å æ ãå¦æä¸ä¸ªåé¨ç try è¯­å¥ä¸å«ç¹æ®å¼å¸¸ç catch å¤çç¨åºï¼å æ å°å¼¹åºï¼ä¸ä¸ä¸ª try è¯­å¥ç catch å¤çç¨åºå°æ£æ¥æ¯å¦ä¸ä¹å¹éãè¿ä¸ª è¿ç¨å°ç»§ç»­ç´å°ä¸ä¸ª catch è¯­å¥è¢«å¹éæåï¼æèæ¯ç´å°ææçåµå¥ try è¯­å¥è¢«æ£æ¥å®æ¯ãå¦ææ²¡æ catch è¯­å¥å¹éï¼Javaè¿è¡æ¶ç³»ç»å°å¤çè¿ä¸ªå¼å¸¸ã\n\nãæ¼ç¤ºã\n\npublic class NestTry {\n    public static void main(String[] args) {\n        try {\n            int a = args.length;\n            int b = 42 / a;\n            System.out.println("a = " + a);\n            try {\n                if (a == 1) {\n                    a = a / (a - a);\n                }\n                if (a == 2) {\n                    int c[] = {1};\n                    c[42] = 99;\n                }\n            } catch (ArrayIndexOutOfBoundsException e) {\n                System.out.println("ArrayIndexOutOfBounds :" + e);\n            }\n        } catch (ArithmeticException e) {\n            System.out.println("Divide by 0" + e);\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n> åæè¿è¡ï¼\n> \n> javac NestTry.java\n> \n> java NestTry one a = 1 Divide by 0java.lang.ArithmeticException: / by zero\n> \n> java NestTry one two a = 2 ArrayIndexOutOfBounds :java.lang.ArrayIndexOutOfBoundsException: 42\n\nåæï¼æ­£å¦ç¨åºä¸­ææ¾ç¤ºçï¼è¯¥ç¨åºå¨ä¸ä¸ªtryåä¸­åµå¥äºå¦ä¸ä¸ª try åãç¨åºå·¥ä½å¦ä¸ï¼å½ä½ å¨æ²¡æå½ä»¤è¡åæ°çæåµä¸æ§è¡è¯¥ç¨åºï¼å¤é¢ç try åå°äº§çä¸ä¸ªè¢«0é¤çå¼å¸¸ã\n\nç¨åºå¨æä¸ä¸ªå½ä»¤è¡åæ°æ¡ä»¶ä¸æ§è¡ï¼ç±åµå¥ç try åäº§çä¸ä¸ªè¢«0é¤çå¼å¸¸ï¼ç±äºåé¨ç catch åä¸å¹éè¿ä¸ªå¼å¸¸ï¼å®å°æå¼å¸¸ä¼ ç»å¤é¨ç try åï¼å¨å¤é¨å¼å¸¸è¢«å¤çãå¦æä½ å¨å·æä¸¤ä¸ªå½ä»¤è¡åæ°çæ¡ä»¶ä¸æ§è¡è¯¥ç¨åºï¼å°ç±åé¨ try åäº§çä¸ä¸ªæ°ç»è¾¹çå¼å¸¸ã\n\næ³¨æï¼å½ææ¹æ³è°ç¨æ¶ï¼ try è¯­å¥çåµå¥å¯ä»¥å¾éè½çåçãä¾å¦ï¼æä»¬å¯ä»¥å°å¯¹æ¹æ³çè°ç¨æ¾å¨ä¸ ä¸ª try åä¸­ãå¨è¯¥æ¹æ³çåé¨ï¼æå¦ä¸ä¸ª try è¯­å¥ã\n\nå¨è¿ç§æåµä¸ï¼æ¹æ³åé¨ç try ä»ç¶æ¯åµå¥å¨å¤é¨è°ç¨è¯¥æ¹æ³ç try åä¸­çãä¸é¢æä»¬å°å¯¹ä¸è¿°ä¾å­è¿è¡ä¿®æ¹ï¼åµå¥ç try åç§»å°æ¹æ³nesttry()çåé¨ï¼ç»æä¾æ§ç¸åï¼\n\npublic class NestTry {\n    static void nesttry(int a) {\n        try {\n            if (a == 1) {\n                a = a / (a - a);\n            }\n            if (a == 2) {\n                int c[] = {1};\n                c[42] = 99;\n            }\n        } catch (ArrayIndexOutOfBoundsException e) {\n            System.out.println("ArrayIndexOutOfBounds :" + e);\n        }\n    }\n\n    public static void main(String[] args) {\n        try {\n            int a = args.length;\n            int b = 42 / a;\n            System.out.println("a = " + a);\n            nesttry(a);\n        } catch (ArithmeticException e) {\n            System.out.println("Divide by 0" + e);\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# 2ãthorw\n\nå°ç®åä¸ºæ­¢ï¼æä»¬åªæ¯è·åäºè¢«Javaè¿è¡æ¶ç³»ç»å¼åçå¼å¸¸ãç¶èï¼æä»¬è¿å¯ä»¥ç¨throwè¯­å¥æåºæç¡®çå¼å¸¸ã\n\nè¯­æ³å½¢å¼ï¼throw ThrowableInstance;\n\nè¿éçThrowableInstanceä¸å®æ¯ Throwable ç±»ç±»åæè Throwable å­ç±»ç±»åçä¸ä¸ªå¯¹è±¡ãç®åçæ°æ®ç±»åï¼ä¾å¦ int ,char ä»¥åé Throwable ç±»ï¼ä¾å¦ String æ Object ï¼ä¸è½ç¨ä½å¼å¸¸ã\n\næä¸¤ç§æ¹æ³å¯ä»¥è·å Throwable å¯¹è±¡ï¼å¨ catch å­å¥ä¸­ä½¿ç¨åæ°æèä½¿ç¨ new æä½ç¬¦åå»ºãç¨åºæ§è¡å® throw è¯­å¥ä¹åç«å³åæ­¢ï¼throw åé¢çä»»ä½è¯­å¥ä¸è¢«æ§è¡ï¼æé»è¿ç try åç¨æ¥æ£ æ¥å®æ¯å¦å«æä¸ä¸ªä¸å¼å¸¸ç±»åå¹éç catch è¯­å¥ã\n\nå¦æåç°äºå¹éçåï¼æ§å¶è½¬åè¯¥è¯­å¥ï¼å¦ææ²¡æåç°ï¼æ¬¡åå´ç try åæ¥æ£æ¥ï¼ä»¥æ­¤ç±»æ¨ãå¦ææ²¡æåç°å¹éç catch åï¼é»è®¤å¼å¸¸å¤çç¨åºä¸­æ­ç¨åºçæ§è¡å¹¶ä¸æå°å æ è½¨è¿¹ã\n\nclass TestThrow {\n    static void proc() {\n        try {\n            throw new NullPointerException("demo");\n        } catch (NullPointerException e) {\n            System.out.println("Caught inside proc");\n            throw e;\n        }\n    }\n\n    public static void main(String[] args) {\n        try {\n            proc();\n        } catch (NullPointerException e) {\n            System.out.println("Recaught: " + e);\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nè¯¥ç¨åºä¸¤æ¬¡å¤çç¸åçéè¯¯ï¼é¦åï¼ main() æ¹æ³è®¾ç«äºä¸ä¸ªå¼å¸¸å³ç³»ç¶åè°ç¨proc( )ãproc( )æ¹æ³è®¾ç«äºå¦ä¸ä¸ªå¼å¸¸å¤çå³ç³»å¹¶ä¸ç«å³æåºä¸ä¸ª NullPointerException å®ä¾ï¼NullPointerException å¨ main() ä¸­è¢«åæ¬¡æè·ã\n\nè¯¥ç¨åºéè¿°äºææ ·åå»ºJavaçæ åå¼å¸¸å¯¹è±¡ï¼ç¹å«æ³¨æè¿ä¸è¡ï¼\n\nthrow new NullPointerException("demo");\n\n\n1\n\n\nåæï¼æ­¤å¤ new ç¨æ¥æé ä¸ä¸ª NullPointerException å®ä¾ï¼ææçJavaåç½®çè¿è¡æ¶å¼å¸¸æä¸¤ä¸ªæé æ¹æ³ï¼ä¸ä¸ªæ²¡æåæ°ï¼ä¸ä¸ªå¸¦æä¸ä¸ªå­ç¬¦ä¸²åæ°ã\n\nå½ç¨ç¬¬äºç§å½¢å¼æ¶ï¼åæ°æå®æè¿°å¼å¸¸çå­ç¬¦ä¸²ãå¦æå¯¹è±¡ç¨ä½ print( ) æè println( ) çåæ° æ¶ï¼è¯¥å­ç¬¦ä¸²è¢«æ¾ç¤ºãè¿åæ ·å¯ä»¥éè¿è°ç¨getMessage( )æ¥å®ç°ï¼getMessage( )æ¯ç± Throwable å®ä¹çã\n\n\n# 3ãthrows\n\nå¦æä¸ä¸ªæ¹æ³å¯ä»¥å¯¼è´ä¸ä¸ªå¼å¸¸ä½ä¸å¤çå®ï¼å®å¿é¡»æå®è¿ç§è¡ä¸ºä»¥ä½¿æ¹æ³çè°ç¨èå¯ä»¥ä¿æ¤å®ä»¬èªå·±èä¸åçå¼å¸¸ãè¦åå°è¿ç¹ï¼æä»¬å¯ä»¥å¨æ¹æ³å£°æä¸­åå«ä¸ä¸ª throws å­å¥ã\n\nä¸ä¸ª throws å­å¥åä¸¾äºä¸ä¸ªæ¹æ³å¯è½å¼åçææå¼å¸¸ç±»åãè¿å¯¹äºé¤äº Error æ RuntimeException åå®ä»¬å­ç±»ä»¥å¤ç±»åçææå¼å¸¸æ¯å¿è¦çãä¸ä¸ªæ¹æ³å¯ä»¥å¼åçææå¶ä»ç±»åçå¼å¸¸å¿é¡»å¨ throws å­å¥ä¸­å£°æï¼å¦åä¼å¯¼è´ç¼è¯éè¯¯ã\n\npublic void info() throws Exception\n{\n    //body of method\n}\n\n\n1\n2\n3\n4\n\n\nException æ¯è¯¥æ¹æ³å¯è½å¼åçææçå¼å¸¸ï¼ä¹å¯ä»¥æ¯å¼å¸¸åè¡¨ï¼ä¸­é´ä»¥éå·éå¼ã\n\nãä¾å­ã\n\nclass TestThrows{\n    static void throw1(){\n        System.out.println("Inside throw1 . ");\n        throw new IllegalAccessException("demo");\n    }\n    \n    public static void main(String[] args){\n        throw1();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nä¸è¿°ä¾å­ä¸­æä¸¤ä¸ªå°æ¹å­å¨éè¯¯ï¼ä½ çåºæ¥äºåï¼\n\nè¯¥ä¾å­ä¸­å­å¨ä¸¤ä¸ªéè¯¯ï¼é¦åï¼throw1( )æ¹æ³ä¸æ³å¤çæå¯¼è´çå¼å¸¸ï¼å èå®å¿é¡»å£°æ throws å­å¥ æ¥åä¸¾å¯è½å¼åçå¼å¸¸å³ IllegalAccessException ï¼å¶æ¬¡ï¼ main() æ¹æ³å¿é¡»å®ä¹ try/catch è¯­å¥æ¥æè·è¯¥å¼å¸¸ã\n\næ­£ç¡®ä¾å­å¦ä¸ï¼\n\nclass TestThrows {\n    static void throw1() throws IllegalAccessException {\n        System.out.println("Inside throw1 . ");\n        throw new IllegalAccessException("demo");\n    }\n\n    public static void main(String[] args) {\n        try {\n            throw1();\n        } catch (IllegalAccessException e) {\n            System.out.println("Caught " + e);\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nthrows æåºå¼å¸¸çè§åï¼\n\n * å¦ææ¯ä¸åæ£æ¥å¼å¸¸ï¼ unchecked exception ï¼ï¼å³ Error ã RuntimeException æå®ä»¬çå­ç±»ï¼é£ä¹å¯ä»¥ä¸ä½¿ç¨ throws å³é®å­æ¥å£°æè¦æåºçå¼å¸¸ï¼ç¼è¯ä»è½é¡ºå©éè¿ï¼ä½å¨è¿è¡æ¶ä¼è¢«ç³»ç»æåºã\n * å¿é¡»å£°ææ¹æ³å¯æåºçä»»ä½æ£æ¥å¼å¸¸ï¼ checked exception ï¼ãå³å¦æä¸ä¸ªæ¹æ³å¯è½åºç°åå¯æ¥å¼å¸¸ï¼è¦ä¹ç¨ try-catch è¯­å¥æè·ï¼è¦ä¹ç¨ throws å­å¥å£°æå°å®æåºï¼å¦åä¼å¯¼è´ç¼è¯éè¯¯\n * ä»å½æåºäºå¼å¸¸ï¼è¯¥æ¹æ³çè°ç¨èæå¿é¡»å¤çæèéæ°æåºè¯¥å¼å¸¸ãå½æ¹æ³çè°ç¨èæ åå¤çè¯¥å¼å¸¸çæ¶åï¼åºè¯¥ç»§ç»­æåºï¼èä¸æ¯å«åµåæ£ã\n * è°ç¨æ¹æ³å¿é¡»éµå¾ªä»»ä½å¯æ¥å¼å¸¸çå¤çåå£°æè§åãè¥è¦çä¸ä¸ªæ¹æ³ï¼åä¸è½å£°æä¸è¦çæ¹æ³ä¸åçå¼å¸¸ãå£°æçä»»ä½å¼å¸¸å¿é¡»æ¯è¢«è¦çæ¹æ³æå£°æå¼å¸¸çåç±»æå­ç±»ã\n\n\n# 4ãfinally\n\nå½å¼å¸¸åçæ¶ï¼éå¸¸æ¹æ³çæ§è¡å°åä¸ä¸ªé¡å³­çéçº¿æ§çè½¬åï¼å®çè³ä¼è¿æ©çå¯¼è´æ¹æ³è¿åãä¾å¦ï¼ å¦æä¸ä¸ªæ¹æ³æå¼äºä¸ä¸ªæä»¶å¹¶å³é­ï¼ç¶åéåºï¼ä½ ä¸å¸æå³é­æä»¶çä»£ç è¢«å¼å¸¸å¤çæºå¶æè·¯ã finally å³é®å­ä¸ºå¤çè¿ç§æå¤èè®¾è®¡ã\n\nfinally åå»ºçä»£ç åå¨ try/catch åå®æä¹åå¦ä¸ä¸ª try/catch åºç°ä¹åæ§è¡ã finally åæ è®ºææ²¡æå¼å¸¸æåºé½ä¼æ§è¡ãå¦ææåºå¼å¸¸ï¼å³ä½¿æ²¡æ catch å­å¥å¹éï¼ finally ä¹ä¼æ§è¡ã\n\nä¸ä¸ªæ¹æ³å°ä»ä¸ä¸ª try/catch åè¿åå°è°ç¨ç¨åºçä»»ä½æ¶åï¼ç»è¿ä¸ä¸ªæªæè·çå¼å¸¸æèæ¯ä¸ä¸ªæç¡®çè¿åè¯­å¥ï¼ finally å­å¥å¨æ¹æ³è¿åä¹åä»å°æ§è¡ãè¿å¨å³é­æä»¶å¥æåéæ¾ä»»ä½å¨æ¹æ³å¼å§æ¶è¢«åéçå¶ä»èµæºæ¯å¾æç¨ã\n\næ³¨æï¼ finally å­å¥æ¯å¯éé¡¹ï¼å¯ä»¥æä¹å¯ä»¥æ ï¼ä½æ¯æ¯ä¸ª try è¯­å¥è³å°éè¦ä¸ä¸ª catch æ è finally å­å¥ã\n\nãä¾å­ã\n\nclass TestFinally {\n    static void proc1() {\n        try {\n            System.out.println("inside proc1");\n            throw new RuntimeException("demo");\n        } finally {\n            System.out.println("proc1\'s finally");\n        }\n    }\n\n    static void proc2() {\n        try {\n            System.out.println("inside proc2");\n            return;\n        } finally {\n            System.out.println("proc2\'s finally");\n        }\n    }\n\n    static void proc3() {\n        try {\n            System.out.println("inside proc3");\n        } finally {\n            System.out.println("proc3\'s finally");\n        }\n    }\n\n    public static void main(String[] args) {\n        try {\n            proc1();\n        } catch (Exception e) {\n            System.out.println("Exception caught");\n        }\n        proc2();\n        proc3();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n\n\n> æ§è¡ç»æï¼\n> \n> inside proc1 proc1\'s finally Exception caught inside proc2 proc2\'s finally inside proc3 proc3\'s finally\n\næ³¨ï¼å¦æ finally åä¸ä¸ä¸ª try èåä½¿ç¨ï¼ finally åå°å¨ try ç»æä¹åæ§è¡ã\n\n\n# æ§è¡é¡ºåº\n\ntry, catch,finally ,return æ§è¡é¡ºåº\n\n 1. æ§è¡tryï¼catch ï¼ ç»è¿åå¼èµå¼\n 2. æ§è¡finally\n 3. return\n\n\n# èªå®ä¹å¼å¸¸\n\nä½¿ç¨Javaåç½®çå¼å¸¸ç±»å¯ä»¥æè¿°å¨ç¼ç¨æ¶åºç°çå¤§é¨åå¼å¸¸æåµãé¤æ­¤ä¹å¤ï¼ç¨æ·è¿å¯ä»¥èªå®ä¹å¼å¸¸ã ç¨æ·èªå®ä¹å¼å¸¸ç±»ï¼åªéç»§æ¿ Exception ç±»å³å¯ã\n\nå¨ç¨åºä¸­ä½¿ç¨èªå®ä¹å¼å¸¸ç±»ï¼å¤§ä½å¯åä¸ºä»¥ä¸å ä¸ªæ­¥éª¤ï¼\n\n * åå»ºèªå®ä¹å¼å¸¸ç±»ã\n * å¨æ¹æ³ä¸­éè¿ throw å³é®å­æåºå¼å¸¸å¯¹è±¡ã\n * å¦æå¨å½åæåºå¼å¸¸çæ¹æ³ä¸­å¤çå¼å¸¸ï¼å¯ä»¥ä½¿ç¨ try-catch è¯­å¥æè·å¹¶å¤çï¼å¦åå¨æ¹æ³çå£°æå¤éè¿ throws å³é®å­ææè¦æåºç»æ¹æ³è°ç¨èçå¼å¸¸ï¼ç»§ç»­è¿è¡ä¸ä¸æ­¥æä½ã\n * å¨åºç°å¼å¸¸æ¹æ³çè°ç¨èä¸­æè·å¹¶å¤çå¼å¸¸ã\n\nãä¸¾ä¾ã\n\nclass MyException extends Exception {\n    private int detail;\n    MyException(int a){\n        detail = a;\n    }\n    public String toString(){\n        return "MyException ["+ detail + "]";\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\npublic class TestMyException {\n    static void compute(int a) throws MyException {\n        System.out.println("Called compute(" + a + ")");\n        if (a > 10) {\n            throw new MyException(a);\n        }\n        System.out.println("Normal exit!");\n    }\n\n    public static void main(String[] args) {\n        try {\n            compute(1);\n            compute(20);\n        } catch (MyException me) {\n            System.out.println("Caught " + me);\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n> è¾åºï¼\n> \n> Called compute(1) Normal exit! Called compute(20) Caught MyException [20]\n\nä¸¾ä¾äºï¼è¾å¥å¹´é¾æ¶ï¼å¹´é¾ä¸è½ä¸ºè´æ°ï¼å¦åå°±æ¥é\n\npublic class AgeException extends Exception{\n    public AgeException() {\n    }\n\n    public AgeException(String message) {\n        super(message);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\npublic class Demo {\n    public static void main(String[] args) {\n        try {\n            check(-10);\n        } catch (AgeException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void check(int age) throws AgeException {\n        if (age < 0) {\n            throw new AgeException("å¹´é¾ä¸è½å°äº0");\n        } else {\n            System.out.println(age);\n        }\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n\n\n# æ»ç»\n\n\n\nå®éåºç¨ä¸­çç»éªä¸æ»ç»\n\n 1. å¤çè¿è¡æ¶å¼å¸¸æ¶ï¼éç¨é»è¾å»åçè§é¿åæ¶è¾å©try-catchå¤ç\n\n 2. å¨å¤écatchååé¢ï¼å¯ä»¥å ä¸ä¸ªcatch ( Exception )æ¥å¤çå¯è½ä¼è¢«éæ¼çå¼å¸¸\n\n 3. å¯¹äºä¸ç¡®å®çä»£ç ï¼ä¹å¯ä»¥å ä¸try-catchï¼å¤çæ½å¨çå¼å¸¸\n\n 4. å°½éå»å¤çå¼å¸¸ï¼åå¿åªæ¯ç®åçè°ç¨printStackTrace)å»æå°è¾åº\n\n 5. å·ä½å¦ä½å¤çå¼å¸¸ï¼è¦æ ¹æ®ä¸åçä¸å¡éæ±åå¼å¸¸ç±»åå»å³å®\n\n 6. å°½éæ·»å finallyè¯­å¥åå»éæ¾å ç¨çèµæº',normalizedContent:'# javase-å¼å¸¸æºå¶\n\n\n# å¼å¸¸æ¦å¿µ\n\nå¨æä»¬æ¥å¸¸çæ´»ä¸­ï¼ææ¶ä¼åºç°åç§åæ ·çå¼å¸¸ãä¾å¦ï¼èå·¥å°çå¼è½¦å»ä¸ç­ï¼å¨æ­£å¸¸æåµä¸ï¼å°çä¼åæ¶å°è¾¾åä½ãä½æ¯å¤©æä¸æµé£äºï¼å¨å°çå»ä¸ç­æ¶ï¼å¯è½ä¼éå°ä¸äºå¼å¸¸æåµï¼æ¯å¦å°ççè½¦å­åºäºæéï¼å°çåªè½æ¹ä¸ºæ­¥è¡ã\n\nå®éå·¥ä½ä¸­ï¼éå°çæåµä¸å¯è½æ¯éå¸¸å®ç¾çãæ¯å¦ï¼ä½ åçæä¸ªæ¨¡åï¼ç¨æ·è¾å¥ä¸ä¸å®ç¬¦åä½ çè¦æ±ãä½ çç¨åºè¦æå¼æä¸ªæä»¶ï¼è¿ä¸ªæä»¶å¯è½ä¸å­å¨æèæä»¶æ ¼å¼ä¸å¯¹ï¼ä½ è¦è¯»åæ°æ®åºçæ°æ®ï¼æ°æ®å¯è½æ¯ç©ºçç­ãæä»¬çç¨åºåè·çï¼åå­æç¡¬çå¯è½æ»¡äºãç­ç­ã\n\nè½¯ä»¶ç¨åºå¨è¿è¡è¿ç¨ä¸­ï¼éå¸¸å¯è½éå°ååæå°çè¿äºå¼å¸¸é®é¢ï¼æä»¬å«å¼å¸¸ï¼è±ææ¯ï¼exceptionï¼ æææ¯ä¾å¤ãè¿äºï¼ä¾å¤æåµï¼æèå«å¼å¸¸ï¼æä¹è®©æä»¬åçç¨åºååºåççå¤çãèä¸è³äºç¨åºå´©æºã\n\nå¼å¸¸ï¼æç¨åºè¿è¡ä¸­åºç°çä¸æèè³çåç§ç¶åµï¼å¦:æä»¶æ¾ä¸å°ãç½ç»è¿æ¥å¤±è´¥ãéæ³åæ°ç­ã å¼å¸¸åçå¨ç¨åºè¿è¡æé´ï¼å®å½±åäºæ­£å¸¸çç¨åºæ§è¡æµç¨ã\n\næ¯å¦è¯´ï¼ä½ çä»£ç å°äºä¸ä¸ªåå·ï¼é£ä¹è¿è¡åºæ¥ç»ææ¯æç¤ºæ¯éè¯¯ java.lang.error ï¼\n\nå¦æä½ ç¨ system.out.println(11/0) ï¼å ä¸ºä½ ç¨0åäºé¤æ°ï¼ä¼æåº java.lang.arithmeticexception çå¼å¸¸ã\n\nå¼å¸¸åççåå æå¾å¤ï¼éå¸¸åå«ä»¥ä¸å å¤§ç±»ï¼\n\n * ç¨æ·è¾å¥äºéæ³æ°æ®ã\n * è¦æå¼çæä»¶ä¸å­å¨ã\n * ç½ç»éä¿¡æ¶è¿æ¥ä¸­æ­ï¼æèjvmåå­æº¢åºã\n\nè¿äºå¼å¸¸æçæ¯å ä¸ºç¨æ·éè¯¯å¼èµ·ï¼æçæ¯ç¨åºéè¯¯å¼èµ·çï¼è¿æå¶å®ä¸äºæ¯å ä¸ºç©çéè¯¯å¼èµ·çã\n\nè¦çè§£javaå¼å¸¸å¤çæ¯å¦ä½å·¥ä½çï¼ä½ éè¦ææ¡ä»¥ä¸ä¸ç§ç±»åçå¼å¸¸ï¼\n\n * æ£æ¥æ§å¼å¸¸ï¼\n   \n   æå·ä»£è¡¨çæ£æ¥æ§å¼å¸¸æ¯ç¨æ·éè¯¯æé®é¢å¼èµ·çå¼å¸¸ï¼è¿æ¯ç¨åºåæ æ³é¢è§çãä¾å¦ï¼è¦æå¼ä¸ä¸ªä¸å­å¨æä»¶æ¶ï¼ä¸ä¸ªå¼å¸¸å°±åçäºï¼è¿äºå¼å¸¸å¨ç¼è¯æ¶ä¸è½è¢«ç®åå°å¿½ç¥ã\n\n * è¿è¡æ¶å¼å¸¸ï¼\n   \n   è¿è¡æ¶å¼å¸¸æ¯å¯è½è¢«ç¨åºåé¿åçå¼å¸¸ãä¸æ£æ¥æ§å¼å¸¸ç¸åï¼è¿è¡æ¶å¼å¸¸å¯ä»¥å¨ç¼è¯æ¶è¢«å¿½ç¥ã\n\n * éè¯¯ï¼\n   \n   éè¯¯ä¸æ¯å¼å¸¸ï¼èæ¯è±ç¦»ç¨åºåæ§å¶çé®é¢ãéè¯¯å¨ä»£ç ä¸­éå¸¸è¢«å¿½ç¥ãä¾å¦ï¼å½æ æº¢åº æ¶ï¼ä¸ä¸ªéè¯¯å°±åçäºï¼å®ä»¬å¨ç¼è¯ä¹æ£æ¥ä¸å°çã\n\nå¼å¸¸æä¸æèè³çåç§ç¶åµï¼å¦ï¼æä»¶æ¾ä¸å°ãç½ç»è¿æ¥å¤±è´¥ãé¤0æä½ãéæ³åæ°ç­ãå¼å¸¸æ¯ä¸ä¸ª äºä»¶ï¼å®åçå¨ç¨åºè¿è¡æé´ï¼å¹²æ°äºæ­£å¸¸çæä»¤æµç¨ã\n\njavaè¯­è¨å¨è®¾è®¡çå½åå°±èèå°è¿äºé®é¢ï¼æåºå¼å¸¸å¤ççæ¡æ¶çæ¹æ¡ï¼ææçå¼å¸¸é½å¯ä»¥ç¨ä¸ä¸ª å¼å¸¸ç±» æ¥è¡¨ç¤ºï¼ä¸åç±»åçå¼å¸¸å¯¹åºä¸åçå­ç±»å¼å¸¸ï¼ç®åæä»¬æè¯´çå¼å¸¸åæ¬éè¯¯æ¦å¿µï¼ï¼å®ä¹å¼å¸¸å¤ççè§èï¼å¨ jdk1.4 çæ¬ä»¥åå¢å äºå¼å¸¸é¾æºå¶ï¼ä»èä¾¿äºè·è¸ªå¼å¸¸ã\n\njavaå¼å¸¸æ¯ä¸ä¸ªæè¿°å¨ä»£ç æ®µä¸­åçå¼å¸¸çå¯¹è±¡ï¼å½åçå¼å¸¸æåµæ¶ï¼ä¸ä¸ªä»£è¡¨è¯¥å¼å¸¸çå¯¹è±¡è¢«åå»ºå¹¶ä¸å¨å¯¼è´è¯¥å¼å¸¸çæ¹æ³ä¸­è¢«æåºï¼èè¯¥æ¹æ³å¯ä»¥éæ©èªå·±å¤çå¼å¸¸æèä¼ éè¯¥å¼å¸¸ã\n\n\n# å¼å¸¸ä½ç³»ç»æ\n\njavaæå¼å¸¸å½ä½å¯¹è±¡æ¥å¤çï¼å¹¶å®ä¹ä¸ä¸ªåºç±» java.lang.throwableä½ä¸ºææå¼å¸¸çè¶ç±»ã\n\nå¨java apiä¸­å·²ç»å®ä¹äºè®¸å¤å¼å¸¸ç±»ï¼è¿äºå¼å¸¸ç±»åä¸ºä¸¤å¤§ç±»ï¼éè¯¯erroråå¼å¸¸exceptionã\n\njavaå¼å¸¸å±æ¬¡ç»æå¾ï¼\n\n\n\nä»å¾ä¸­å¯ä»¥çåºææå¼å¸¸ç±»åé½æ¯åç½®ç±» throwable çå­ç±»ï¼å è throwable å¨å¼å¸¸ç±»çå±æ¬¡ç»æçé¡¶å±ã\n\næ¥ä¸æ¥ throwable åæäºä¸¤ä¸ªä¸åçåæ¯ï¼ä¸ä¸ªåæ¯æ¯errorï¼å®è¡¨ç¤ºä¸å¸æè¢«ç¨åºæè·æèæ¯ç¨åºæ æ³å¤ççéè¯¯ãå¦ä¸ä¸ªåæ¯æ¯exceptionï¼å®è¡¨ç¤ºç¨æ·ç¨åºå¯è½ææçå¼å¸¸æåµæèè¯´æ¯ç¨åºå¯ä»¥å¤ççå¼å¸¸ã\n\nå¶ä¸­å¼å¸¸ç±» exception ååä¸ºè¿è¡æ¶å¼å¸¸( runtimeexception )åéè¿è¡æ¶å¼å¸¸ãjavaå¼å¸¸åå¯ä»¥åä¸ºä¸åæ£æ¥å¼å¸¸ï¼ unchecked exception ï¼åæ£æ¥å¼å¸¸ï¼ checked exception ï¼ã\n\n\n# å¼å¸¸ä¹é´çåºå«ä¸èç³»\n\n\n# 1ãerror\n\nerror ç±»å¯¹è±¡ç± java èææºçæå¹¶æåºï¼å¤§å¤æ°éè¯¯ä¸ä»£ç ç¼åèææ§è¡çæä½æ å³ã\n\næ¯å¦è¯´ï¼\n\njavaèææºè¿è¡éè¯¯ï¼ virtual machineerror ï¼ï¼å½jvmä¸åæç»§ç»­æ§è¡æä½æéçåå­èµæºæ¶ï¼ å°åºç° outofmemoryerror ãè¿äºå¼å¸¸åçæ¶ï¼javaèææºï¼jvmï¼ä¸è¬ä¼éæ©çº¿ç¨ç»æ­¢ï¼\n\nè¿æåçå¨èææºè¯å¾æ§è¡åºç¨æ¶ï¼å¦ç±»å®ä¹éè¯¯ï¼ noclassdeffounderror )ãé¾æ¥éè¯¯ (linkageerror) è¿äºéè¯¯æ¯ä¸å¯æ¥çï¼å ä¸ºå®ä»¬å¨åºç¨ç¨åºçæ§å¶åå¤çè½åä¹å¤ï¼èä¸ç»å¤§å¤æ°æ¯ç¨åºè¿è¡æ¶ä¸åè®¸åºç°çç¶åµã\n\nå¯¹äºè®¾è®¡åççåºç¨ç¨åºæ¥è¯´ï¼å³ä½¿ç¡®å®åçäºéè¯¯ï¼æ¬è´¨ä¸ä¹ä¸åºè¯¥è¯å¾å»å¤çå®æå¼èµ·çå¼å¸¸ç¶ åµãå¨javaä¸­ï¼éè¯¯éå¸¸æ¯ä½¿ç¨ error çå­ç±»æè¿°ã\n\n\n# 2ãexception\n\nå¨ exception åæ¯ä¸­æä¸ä¸ªéè¦çå­ç±»runtimeexception ï¼è¿è¡æ¶å¼å¸¸ï¼ï¼è¯¥ç±»åçå¼å¸¸èªå¨ä¸ºä½ æç¼åçç¨åºå®ä¹ arrayindexoutofboundsexception ï¼æ°ç»ä¸æ è¶çï¼ã nullpointerexception ï¼ç©ºæéå¼å¸¸ï¼ãarithmeticexception ï¼ç®æ¯å¼å¸¸ï¼ã missingresourceexception ï¼ä¸¢å¤±èµæºï¼ã classnotfoundexception ï¼æ¾ä¸å°ç±»ï¼ç­å¼å¸¸ï¼è¿äºå¼å¸¸æ¯ä¸æ£æ¥å¼å¸¸ï¼ç¨åºä¸­å¯ä»¥éæ©æè·å¤ çï¼ä¹å¯ä»¥ä¸å¤çã\n\nè¿äºå¼å¸¸ä¸è¬æ¯ç±ç¨åºé»è¾éè¯¯å¼èµ·çï¼ç¨åºåºè¯¥ä»é»è¾è§åº¦å°½å¯è½é¿åè¿ç±»å¼å¸¸çåçï¼è runtimeexception ä¹å¤çå¼å¸¸æä»¬ç»ç§°ä¸ºéè¿è¡æ¶å¼å¸¸ï¼ç±»åä¸å±äº exception ç±»åå¶å­ç±»ï¼\n\nä»ç¨åºè¯­æ³è§åº¦è®²æ¯å¿é¡»è¿è¡å¤ççå¼å¸¸ï¼å¦æä¸å¤çï¼ç¨åºå°±ä¸è½ç¼è¯éè¿ãå¦ ioexception ã sqlexception ç­ä»¥åç¨æ·èªå®ä¹ç exception å¼å¸¸ï¼ä¸è¬æåµä¸ä¸èªå®ä¹æ£æ¥å¼å¸¸ã\n\næ³¨æï¼ error å exception çåºå«ï¼ error éå¸¸æ¯ç¾é¾æ§çè´å½çéè¯¯ï¼æ¯ç¨åºæ æ³æ§å¶åå¤ççï¼å½åºç°è¿äºå¼å¸¸æ¶ï¼javaèææºï¼jvmï¼ä¸è¬ä¼éæ©ç»æ­¢çº¿ç¨ï¼ exception éå¸¸æåµä¸æ¯å¯ä»¥è¢«ç¨åºå¤ççï¼å¹¶ä¸å¨ç¨åºä¸­åºè¯¥å°½å¯è½çå»å¤çè¿äºå¼å¸¸ã\n\n\n# 3ãæ£æ¥å¼å¸¸åä¸åæ£æ¥å¼å¸¸\n\næ£æ¥å¼å¸¸ï¼å¨æ­£ç¡®çç¨åºè¿è¡è¿ç¨ä¸­ï¼å¾å®¹æåºç°çãæçå¯å®¹çå¼å¸¸ç¶åµï¼å¨ä¸å®ç¨åº¦ä¸è¿ç§å¼å¸¸çåçæ¯å¯ä»¥é¢æµçï¼å¹¶ä¸ä¸æ¦åçè¯¥ç§å¼å¸¸ï¼å°±å¿é¡»éåæç§æ¹å¼è¿è¡å¤çã\n\nè§£æï¼é¤äºruntimeexceptionåå¶å­ç±»ä»¥å¤ï¼å¶ä»çexceptionç±»åå¶å­ç±»é½å±äºæ£æ¥å¼å¸¸ï¼å½ç¨åºä¸­å¯è½åºç°è¿ç±»å¼å¸¸ï¼è¦ä¹ä½¿ç¨try-catchè¯­å¥è¿è¡æè·ï¼è¦ä¹ç¨throwså­å¥æåºï¼å¦åç¼è¯æ æ³éè¿ã\n\nä¸åæ£æ¥å¼å¸¸ï¼åæ¬runtimeexceptionåå¶å­ç±»åerrorã\n\nåæï¼ ä¸åæ£æ¥å¼å¸¸ ä¸ºç¼è¯å¨ä¸è¦æ±å¼ºå¶å¤ççå¼å¸¸ï¼ æ£æ¥å¼å¸¸ åæ¯ç¼è¯å¨è¦æ±å¿é¡»å¤ç½®çå¼å¸¸ã\n\n\n# javaå¼å¸¸å¤çæºå¶\n\njavaå¼å¸¸å¤çæ¬è´¨ï¼æåºå¼å¸¸åæè·å¼å¸¸\n\n\n# 1ãæåºå¼å¸¸\n\nè¦çè§£æåºå¼å¸¸ï¼é¦åè¦æç½ä»ä¹æ¯å¼å¸¸æå½¢ï¼exception conditionï¼ï¼å®æ¯æé»æ­¢å½åæ¹æ³æä½ç¨åç»§ç»­æ§è¡çé®é¢ãå¶æ¬¡æå¼å¸¸æå½¢åæ®éé®é¢ç¸åºåï¼æ®éé®é¢æ¯æå¨å½åç¯å¢ä¸è½å¾å°è¶³å¤çä¿¡æ¯ï¼ æ»è½å¤çè¿ä¸ªéè¯¯ã\n\nå¯¹äºå¼å¸¸æå½¢ï¼å·²ç»æ æ³ç»§ç»­ä¸å»äºï¼å ä¸ºå¨å½åç¯å¢ä¸æ æ³è·å¾å¿è¦çä¿¡æ¯æ¥è§£å³é®é¢ï¼ä½ æè½åçå°±æ¯ä»å½åç¯å¢ä¸­è·³åºï¼å¹¶æé®é¢æäº¤ç»ä¸ä¸çº§ç¯å¢ï¼è¿å°±æ¯æåºå¼å¸¸æ¶æåççäºæãæåºå¼å¸¸åï¼ä¼æå ä»¶äºéä¹åçã\n\né¦åï¼æ¯ååå»ºæ®éçjavaå¯¹è±¡ä¸æ ·å°ä½¿ç¨ new å¨å ä¸åå»ºä¸ä¸ªå¼å¸¸å¯¹è±¡ï¼ç¶åï¼å½åçæ§è¡è·¯å¾ ï¼å·²ç»æ æ³ç»§ç»­ä¸å»äºï¼è¢«ç»æ­¢ï¼å¹¶ä¸ä»å½åç¯å¢ä¸­å¼¹åºå¯¹å¼å¸¸å¯¹è±¡çå¼ç¨ãæ­¤æ¶ï¼å¼å¸¸å¤çæºå¶æ¥ç®¡ç¨åºï¼å¹¶å¼å§å¯»æ¾ä¸ä¸ªæ°å½çå°æ¹ç»§ç»­æ§è¡ç¨åº\n\nè¿ä¸ªæ°å½çå°æ¹å°±æ¯å¼å¸¸å¤çç¨åºæèå¼å¸¸å¤çå¨ï¼å®çä»»å¡æ¯å°ç¨åºä»éè¯¯ç¶æä¸­æ¢å¤ï¼ä»¥ä½¿ç¨åºè¦ ä¹æ¢ä¸ç§æ¹å¼è¿è¡ï¼è¦ä¹ç»§ç»­è¿è¡ä¸å»ã\n\nä¸¾ä¾ï¼\n\nåä½¿æä»¬åå»ºäºä¸ä¸ªå­¦çå¯¹è±¡studentçä¸ä¸ªå¼ç¨stuï¼å¨è°ç¨çæ¶åå¯è½è¿æ²¡æåå§åãæä»¥å¨ä½¿ç¨è¿ä¸ªå¯¹è±¡å¼ç¨è°ç¨å¶ä»æ¹æ³ä¹åï¼è¦åå¯¹å®è¿è¡æ£æ¥ï¼å¯ä»¥åå»ºä¸ä¸ªä»£è¡¨éè¯¯ä¿¡æ¯çå¯¹è±¡ï¼å¹¶ä¸å°å®ä»å½åç¯å¢ä¸­æåºï¼è¿æ ·å°±æéè¯¯ä¿¡æ¯ä¼ æ­å°æ´å¤§çç¯å¢ä¸­ã\n\nif(stu == null){\n    throw new nullpointerexception();\n}\n\n\n1\n2\n3\n\n\n\n# 2ãæè·å¼å¸¸\n\nå¨æ¹æ³æåºå¼å¸¸ä¹åï¼è¿è¡æ¶ç³»ç»å°è½¬ä¸ºå¯»æ¾åéçå¼å¸¸å¤çå¨ï¼exception handlerï¼ãæ½å¨çå¼å¸¸å¤çå¨æ¯å¼å¸¸åçæ¶ä¾æ¬¡å­çå¨è°ç¨æ ä¸­çæ¹æ³çéåãå½å¼å¸¸å¤çå¨æè½å¤ççå¼å¸¸ç±»åä¸æ¹æ³æåºçå¼å¸¸ç±»åç¸ç¬¦æ¶ï¼å³ä¸ºåéçå¼å¸¸å¤çå¨ãè¿è¡æ¶ç³»ç»ä»åçå¼å¸¸çæ¹æ³å¼å§ï¼ä¾æ¬¡åæ¥è°ç¨æ ä¸­çæ¹æ³ï¼ç´è³æ¾å°å«æåéå¼å¸¸å¤çå¨çæ¹æ³å¹¶æ§è¡ãå½è¿è¡æ¶ç³»ç»éåè°ç¨æ èæªæ¾å°åéçå¼å¸¸å¤çå¨ï¼åè¿è¡æ¶ç³»ç»ç»æ­¢ãåæ¶ï¼æå³çjavaç¨åºçç»æ­¢ã\n\næ³¨æï¼\n\nå¯¹äº è¿è¡æ¶å¼å¸¸ ãéè¯¯ å æ£æ¥å¼å¸¸ ï¼javaææ¯æè¦æ±çå¼å¸¸å¤çæ¹å¼ææä¸åã\n\nç±äºè¿è¡æ¶å¼å¸¸åå¶å­ç±»çä¸å¯æ¥æ§ï¼ä¸ºäºæ´åçãæ´å®¹æå°å®ç°åºç¨ç¨åºï¼javaè§å®ï¼è¿è¡æ¶å¼å¸¸å°ç±javaè¿è¡æ¶ç³»ç»èªå¨æåºï¼åè®¸åºç¨ç¨åºå¿½ç¥è¿è¡æ¶å¼å¸¸ã\n\nå¯¹äºæ¹æ³è¿è¡ä¸­å¯è½åºç°çerror ï¼å½è¿è¡æ¹æ³ä¸æ¬²æææ¶ï¼javaåè®¸è¯¥æ¹æ³ä¸åä»»ä½æåºå£°æãå ä¸ºï¼å¤§å¤æ° error å¼å¸¸å±äºæ°¸è¿ä¸è½è¢«åè®¸åççç¶åµï¼ä¹å±äºåççåºç¨ç¨åºä¸è¯¥ææçå¼å¸¸ã\n\n> å¯¹äºææçæ£æ¥å¼å¸¸ï¼javaè§å®ï¼ä¸ä¸ªæ¹æ³å¿é¡»ææï¼æèå£°ææåºæ¹æ³ä¹å¤ãä¹å°±æ¯è¯´ï¼å½ä¸ä¸ªæ¹æ³éæ©ä¸æææ£æ¥å¼å¸¸æ¶ï¼å®å¿é¡»å£°æå°æåºå¼å¸¸ã\n\n\n# 3ãå¼å¸¸å¤çäºä¸ªå³é®å­\n\nåå«æ¯ï¼ try ã catch ã finally ã throw ã throws\n\ntry ï¼ç¨äºçå¬ãå°è¦è¢«çå¬çä»£ç ï¼å¯è½æåºå¼å¸¸çä»£ç ï¼æ¾å¨tryè¯­å¥åä¹åï¼å½tryè¯­å¥åååçå¼å¸¸æ¶ï¼å¼å¸¸å°±è¢«æåºã\n\ncatch ï¼ ç¨äºæè·å¼å¸¸ãcatchç¨æ¥æè·tryè¯­å¥åä¸­åççå¼å¸¸ã\n\nfinally ï¼finallyè¯­å¥åæ»æ¯ä¼è¢«æ§è¡ãå®ä¸»è¦ç¨äºåæ¶å¨tryåéæå¼çç©åèµæºï¼å¦æ°æ®åºè¿æ¥ãç½ç» è¿æ¥åç£çæä»¶ï¼ãåªæfinallyåï¼æ§è¡å®æä¹åï¼æä¼åæ¥æ§è¡tryæècatchåä¸­çreturnæèthrowè¯­ å¥ï¼å¦æfinallyä¸­ä½¿ç¨äºreturnæèthrowç­ç»æ­¢æ¹æ³çè¯­å¥ï¼åå°±ä¸ä¼è·³åæ§è¡ï¼ç´æ¥åæ­¢ã\n\nthrow ï¼ ç¨äºæåºå¼å¸¸ã\n\nthrows ï¼ ç¨å¨æ¹æ³ç­¾åä¸­ï¼ç¨äºå£°æè¯¥æ¹æ³å¯è½æåºçå¼å¸¸ã\n\n\n# å¤çå¼å¸¸\n\n\n# 1ãtry -catch\n\ntry{\n\t//code that might generate exceptions\n}catch(exception e){\n\t//the code of handling exception1\n}catch(exception e){\n\t//the code of handling exception2\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nè¦æç½å¼å¸¸æè·ï¼è¿è¦çè§£ çæ§åºå ï¼guarded regionï¼çæ¦å¿µãå®æ¯ä¸æ®µå¯è½äº§çå¼å¸¸çä»£ç ï¼ å¹¶ä¸åé¢è·çå¤çè¿äºå¼å¸¸çä»£ç ã\n\nå èå¯ç¥ï¼ä¸è¿° try-catch ææè¿°çå³æ¯çæ§åºåï¼å³é®è¯ tryåçä¸å¯¹å¤§æ¬å·å°ä¸åå¯è½åçå¼å¸¸çä»£ç åèµ·æ¥ï¼å³ä¸ºçæ§åºåãjavaæ¹æ³å¨è¿è¡è¿ç¨ä¸­åçäºå¼å¸¸ï¼ååå»ºå¼å¸¸å¯¹è±¡ã\n\nå°å¼å¸¸æåºçæ§åºåä¹å¤ï¼ç±javaè¿è¡æ¶ç³»ç»è´è´£å¯»æ¾å¹éç catch å­å¥æ¥æè·å¼å¸¸ãè¥æä¸ä¸ª catch è¯­å¥å¹éå°äºï¼åæ§è¡è¯¥ catch åä¸­çå¼å¸¸å¤çä»£ç ï¼å°±ä¸åå°è¯å¹éå«ç catch å äºã\n\nå¹éååï¼å¦ææåºçå¼å¸¸å¯¹è±¡å±äº catch å­å¥çå¼å¸¸ç±»ï¼æèå±äºè¯¥å¼å¸¸ç±»çå­ç±»ï¼åè®¤ä¸ºçæçå¼å¸¸å¯¹è±¡ä¸ catch åæè·çå¼å¸¸ç±»åç¸å¹éã\n\nãæ¼ç¤ºã\n\npublic class testexception {\n    public static void main(string[] args) {\n        int a = 1;\n        int b = 0;\n        try { // tryçæ§åºå\n            if (b == 0) throw new arithmeticexception(); // éè¿throwè¯­å¥æåº\n            å¼å¸¸\n            system.out.println("a/bçå¼æ¯ï¼" + a / b);\n            system.out.println("this will not be printed!");\n        }\n        catch (arithmeticexception e) { // catchææå¼å¸¸\n            system.out.println("ç¨åºåºç°å¼å¸¸ï¼åébä¸è½ä¸º0ï¼");\n        }\n        system.out.println("ç¨åºæ­£å¸¸ç»æã");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n> è¾åºï¼\n> \n> ç¨åºåºç°å¼å¸¸ï¼åébä¸è½ä¸º0ï¼ ç¨åºæ­£å¸¸ç»æã\n\næ³¨æï¼æ¾ç¤ºä¸ä¸ªå¼å¸¸çæè¿°ï¼ throwable éè½½äº tostring( ) æ¹æ³ï¼ç± object å®ä¹ï¼ï¼æä»¥ å®å°è¿åä¸ä¸ªåå«å¼å¸¸æè¿°çå­ç¬¦ä¸²ãä¾å¦ï¼å°åé¢ç catch åéåæï¼\n\ncatch (arithmeticexception e) { // catchææå¼å¸¸\n    system.out.println("ç¨åºåºç°å¼å¸¸" + e);\n}\n//è¾åº\n// ç¨åºåºç°å¼å¸¸java.lang.arithmeticexception\n\n\n1\n2\n3\n4\n5\n\n\nç®æ¯å¼å¸¸å±äºè¿è¡æ¶å¼å¸¸ï¼å èå®éä¸è¯¥å¼å¸¸ä¸éè¦ç¨åºæåºï¼è¿è¡æ¶ç³»ç»èªå¨æåºãå¦æä¸ç¨try-catchç¨åºå°±ä¸ä¼å¾ä¸æ§è¡äºã\n\nãæ¼ç¤ºã\n\npublic class testexception {\n    public static void main(string[] args) {\n        int a = 1;\n        int b = 0;\n        system.out.println("a/bçå¼æ¯ï¼" + a / b);\n        system.out.println("this will not be printed!");\n    }\n}\n/*\nç»æï¼\nexception in thread "main" java.lang.arithmeticexception: / by zero\nat testexception.main(testexception.java:7)\n*/\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nä½¿ç¨å¤éçcatchè¯­å¥ï¼å¾å¤æåµä¸ï¼ç±åä¸ªçä»£ç æ®µå¯è½å¼èµ·å¤ä¸ªå¼å¸¸ãå¤çè¿ç§æåµï¼æä»¬éè¦å®ä¹ä¸¤ä¸ªæèæ´å¤ç catch å­å¥ï¼æ¯ä¸ªå­å¥æè·ä¸ç§ç±»åçå¼å¸¸ï¼å½å¼å¸¸è¢«å¼åæ¶ï¼æ¯ä¸ª catch å­ å¥è¢«ä¾æ¬¡æ£æ¥ï¼ç¬¬ä¸ä¸ªå¹éå¼å¸¸ç±»åçå­å¥æ§è¡ï¼å½ä¸ä¸ª catch å­å¥æ§è¡ä»¥åï¼å¶ä»çå­å¥å°è¢«æè·¯ã\n\nç¼åå¤écatchè¯­å¥åæ³¨æäºé¡¹ï¼\n\né¡ºåºé®é¢ï¼åå°åå¤§ï¼å³åå­ç±»åç¶ç±»\n\næ³¨æï¼\n\njavaéè¿å¼å¸¸ç±»æè¿°å¼å¸¸ç±»åãå¯¹äºæå¤ä¸ª catch å­å¥çå¼å¸¸ç¨åºèè¨ï¼åºè¯¥å°½éå°æè·åºå±å¼å¸¸ç±»ç catch å­å¥æ¾å¨åé¢ï¼åæ¶å°½éå°æè·ç¸å¯¹é«å±çå¼å¸¸ç±»ç catch å­å¥æ¾å¨åé¢ãå¦åï¼æè· åºå±å¼å¸¸ç±»ç catch å­å¥å°å¯è½ä¼è¢«å±è½ã\n\nåµå¥tryè¯­å¥ï¼ try è¯­å¥å¯ä»¥è¢«åµå¥ãä¹å°±æ¯è¯´ï¼ä¸ä¸ª try è¯­å¥å¯ä»¥å¨å¦ä¸ä¸ª try åçåé¨ãæ¯æ¬¡è¿å¥ try è¯­å¥ï¼å¼å¸¸çååå³ç³»é½ä¼è¢«æ¨å¥å æ ãå¦æä¸ä¸ªåé¨ç try è¯­å¥ä¸å«ç¹æ®å¼å¸¸ç catch å¤çç¨åºï¼å æ å°å¼¹åºï¼ä¸ä¸ä¸ª try è¯­å¥ç catch å¤çç¨åºå°æ£æ¥æ¯å¦ä¸ä¹å¹éãè¿ä¸ª è¿ç¨å°ç»§ç»­ç´å°ä¸ä¸ª catch è¯­å¥è¢«å¹éæåï¼æèæ¯ç´å°ææçåµå¥ try è¯­å¥è¢«æ£æ¥å®æ¯ãå¦ææ²¡æ catch è¯­å¥å¹éï¼javaè¿è¡æ¶ç³»ç»å°å¤çè¿ä¸ªå¼å¸¸ã\n\nãæ¼ç¤ºã\n\npublic class nesttry {\n    public static void main(string[] args) {\n        try {\n            int a = args.length;\n            int b = 42 / a;\n            system.out.println("a = " + a);\n            try {\n                if (a == 1) {\n                    a = a / (a - a);\n                }\n                if (a == 2) {\n                    int c[] = {1};\n                    c[42] = 99;\n                }\n            } catch (arrayindexoutofboundsexception e) {\n                system.out.println("arrayindexoutofbounds :" + e);\n            }\n        } catch (arithmeticexception e) {\n            system.out.println("divide by 0" + e);\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n> åæè¿è¡ï¼\n> \n> javac nesttry.java\n> \n> java nesttry one a = 1 divide by 0java.lang.arithmeticexception: / by zero\n> \n> java nesttry one two a = 2 arrayindexoutofbounds :java.lang.arrayindexoutofboundsexception: 42\n\nåæï¼æ­£å¦ç¨åºä¸­ææ¾ç¤ºçï¼è¯¥ç¨åºå¨ä¸ä¸ªtryåä¸­åµå¥äºå¦ä¸ä¸ª try åãç¨åºå·¥ä½å¦ä¸ï¼å½ä½ å¨æ²¡æå½ä»¤è¡åæ°çæåµä¸æ§è¡è¯¥ç¨åºï¼å¤é¢ç try åå°äº§çä¸ä¸ªè¢«0é¤çå¼å¸¸ã\n\nç¨åºå¨æä¸ä¸ªå½ä»¤è¡åæ°æ¡ä»¶ä¸æ§è¡ï¼ç±åµå¥ç try åäº§çä¸ä¸ªè¢«0é¤çå¼å¸¸ï¼ç±äºåé¨ç catch åä¸å¹éè¿ä¸ªå¼å¸¸ï¼å®å°æå¼å¸¸ä¼ ç»å¤é¨ç try åï¼å¨å¤é¨å¼å¸¸è¢«å¤çãå¦æä½ å¨å·æä¸¤ä¸ªå½ä»¤è¡åæ°çæ¡ä»¶ä¸æ§è¡è¯¥ç¨åºï¼å°ç±åé¨ try åäº§çä¸ä¸ªæ°ç»è¾¹çå¼å¸¸ã\n\næ³¨æï¼å½ææ¹æ³è°ç¨æ¶ï¼ try è¯­å¥çåµå¥å¯ä»¥å¾éè½çåçãä¾å¦ï¼æä»¬å¯ä»¥å°å¯¹æ¹æ³çè°ç¨æ¾å¨ä¸ ä¸ª try åä¸­ãå¨è¯¥æ¹æ³çåé¨ï¼æå¦ä¸ä¸ª try è¯­å¥ã\n\nå¨è¿ç§æåµä¸ï¼æ¹æ³åé¨ç try ä»ç¶æ¯åµå¥å¨å¤é¨è°ç¨è¯¥æ¹æ³ç try åä¸­çãä¸é¢æä»¬å°å¯¹ä¸è¿°ä¾å­è¿è¡ä¿®æ¹ï¼åµå¥ç try åç§»å°æ¹æ³nesttry()çåé¨ï¼ç»æä¾æ§ç¸åï¼\n\npublic class nesttry {\n    static void nesttry(int a) {\n        try {\n            if (a == 1) {\n                a = a / (a - a);\n            }\n            if (a == 2) {\n                int c[] = {1};\n                c[42] = 99;\n            }\n        } catch (arrayindexoutofboundsexception e) {\n            system.out.println("arrayindexoutofbounds :" + e);\n        }\n    }\n\n    public static void main(string[] args) {\n        try {\n            int a = args.length;\n            int b = 42 / a;\n            system.out.println("a = " + a);\n            nesttry(a);\n        } catch (arithmeticexception e) {\n            system.out.println("divide by 0" + e);\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# 2ãthorw\n\nå°ç®åä¸ºæ­¢ï¼æä»¬åªæ¯è·åäºè¢«javaè¿è¡æ¶ç³»ç»å¼åçå¼å¸¸ãç¶èï¼æä»¬è¿å¯ä»¥ç¨throwè¯­å¥æåºæç¡®çå¼å¸¸ã\n\nè¯­æ³å½¢å¼ï¼throw throwableinstance;\n\nè¿éçthrowableinstanceä¸å®æ¯ throwable ç±»ç±»åæè throwable å­ç±»ç±»åçä¸ä¸ªå¯¹è±¡ãç®åçæ°æ®ç±»åï¼ä¾å¦ int ,char ä»¥åé throwable ç±»ï¼ä¾å¦ string æ object ï¼ä¸è½ç¨ä½å¼å¸¸ã\n\næä¸¤ç§æ¹æ³å¯ä»¥è·å throwable å¯¹è±¡ï¼å¨ catch å­å¥ä¸­ä½¿ç¨åæ°æèä½¿ç¨ new æä½ç¬¦åå»ºãç¨åºæ§è¡å® throw è¯­å¥ä¹åç«å³åæ­¢ï¼throw åé¢çä»»ä½è¯­å¥ä¸è¢«æ§è¡ï¼æé»è¿ç try åç¨æ¥æ£ æ¥å®æ¯å¦å«æä¸ä¸ªä¸å¼å¸¸ç±»åå¹éç catch è¯­å¥ã\n\nå¦æåç°äºå¹éçåï¼æ§å¶è½¬åè¯¥è¯­å¥ï¼å¦ææ²¡æåç°ï¼æ¬¡åå´ç try åæ¥æ£æ¥ï¼ä»¥æ­¤ç±»æ¨ãå¦ææ²¡æåç°å¹éç catch åï¼é»è®¤å¼å¸¸å¤çç¨åºä¸­æ­ç¨åºçæ§è¡å¹¶ä¸æå°å æ è½¨è¿¹ã\n\nclass testthrow {\n    static void proc() {\n        try {\n            throw new nullpointerexception("demo");\n        } catch (nullpointerexception e) {\n            system.out.println("caught inside proc");\n            throw e;\n        }\n    }\n\n    public static void main(string[] args) {\n        try {\n            proc();\n        } catch (nullpointerexception e) {\n            system.out.println("recaught: " + e);\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nè¯¥ç¨åºä¸¤æ¬¡å¤çç¸åçéè¯¯ï¼é¦åï¼ main() æ¹æ³è®¾ç«äºä¸ä¸ªå¼å¸¸å³ç³»ç¶åè°ç¨proc( )ãproc( )æ¹æ³è®¾ç«äºå¦ä¸ä¸ªå¼å¸¸å¤çå³ç³»å¹¶ä¸ç«å³æåºä¸ä¸ª nullpointerexception å®ä¾ï¼nullpointerexception å¨ main() ä¸­è¢«åæ¬¡æè·ã\n\nè¯¥ç¨åºéè¿°äºææ ·åå»ºjavaçæ åå¼å¸¸å¯¹è±¡ï¼ç¹å«æ³¨æè¿ä¸è¡ï¼\n\nthrow new nullpointerexception("demo");\n\n\n1\n\n\nåæï¼æ­¤å¤ new ç¨æ¥æé ä¸ä¸ª nullpointerexception å®ä¾ï¼ææçjavaåç½®çè¿è¡æ¶å¼å¸¸æä¸¤ä¸ªæé æ¹æ³ï¼ä¸ä¸ªæ²¡æåæ°ï¼ä¸ä¸ªå¸¦æä¸ä¸ªå­ç¬¦ä¸²åæ°ã\n\nå½ç¨ç¬¬äºç§å½¢å¼æ¶ï¼åæ°æå®æè¿°å¼å¸¸çå­ç¬¦ä¸²ãå¦æå¯¹è±¡ç¨ä½ print( ) æè println( ) çåæ° æ¶ï¼è¯¥å­ç¬¦ä¸²è¢«æ¾ç¤ºãè¿åæ ·å¯ä»¥éè¿è°ç¨getmessage( )æ¥å®ç°ï¼getmessage( )æ¯ç± throwable å®ä¹çã\n\n\n# 3ãthrows\n\nå¦æä¸ä¸ªæ¹æ³å¯ä»¥å¯¼è´ä¸ä¸ªå¼å¸¸ä½ä¸å¤çå®ï¼å®å¿é¡»æå®è¿ç§è¡ä¸ºä»¥ä½¿æ¹æ³çè°ç¨èå¯ä»¥ä¿æ¤å®ä»¬èªå·±èä¸åçå¼å¸¸ãè¦åå°è¿ç¹ï¼æä»¬å¯ä»¥å¨æ¹æ³å£°æä¸­åå«ä¸ä¸ª throws å­å¥ã\n\nä¸ä¸ª throws å­å¥åä¸¾äºä¸ä¸ªæ¹æ³å¯è½å¼åçææå¼å¸¸ç±»åãè¿å¯¹äºé¤äº error æ runtimeexception åå®ä»¬å­ç±»ä»¥å¤ç±»åçææå¼å¸¸æ¯å¿è¦çãä¸ä¸ªæ¹æ³å¯ä»¥å¼åçææå¶ä»ç±»åçå¼å¸¸å¿é¡»å¨ throws å­å¥ä¸­å£°æï¼å¦åä¼å¯¼è´ç¼è¯éè¯¯ã\n\npublic void info() throws exception\n{\n    //body of method\n}\n\n\n1\n2\n3\n4\n\n\nexception æ¯è¯¥æ¹æ³å¯è½å¼åçææçå¼å¸¸ï¼ä¹å¯ä»¥æ¯å¼å¸¸åè¡¨ï¼ä¸­é´ä»¥éå·éå¼ã\n\nãä¾å­ã\n\nclass testthrows{\n    static void throw1(){\n        system.out.println("inside throw1 . ");\n        throw new illegalaccessexception("demo");\n    }\n    \n    public static void main(string[] args){\n        throw1();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nä¸è¿°ä¾å­ä¸­æä¸¤ä¸ªå°æ¹å­å¨éè¯¯ï¼ä½ çåºæ¥äºåï¼\n\nè¯¥ä¾å­ä¸­å­å¨ä¸¤ä¸ªéè¯¯ï¼é¦åï¼throw1( )æ¹æ³ä¸æ³å¤çæå¯¼è´çå¼å¸¸ï¼å èå®å¿é¡»å£°æ throws å­å¥ æ¥åä¸¾å¯è½å¼åçå¼å¸¸å³ illegalaccessexception ï¼å¶æ¬¡ï¼ main() æ¹æ³å¿é¡»å®ä¹ try/catch è¯­å¥æ¥æè·è¯¥å¼å¸¸ã\n\næ­£ç¡®ä¾å­å¦ä¸ï¼\n\nclass testthrows {\n    static void throw1() throws illegalaccessexception {\n        system.out.println("inside throw1 . ");\n        throw new illegalaccessexception("demo");\n    }\n\n    public static void main(string[] args) {\n        try {\n            throw1();\n        } catch (illegalaccessexception e) {\n            system.out.println("caught " + e);\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nthrows æåºå¼å¸¸çè§åï¼\n\n * å¦ææ¯ä¸åæ£æ¥å¼å¸¸ï¼ unchecked exception ï¼ï¼å³ error ã runtimeexception æå®ä»¬çå­ç±»ï¼é£ä¹å¯ä»¥ä¸ä½¿ç¨ throws å³é®å­æ¥å£°æè¦æåºçå¼å¸¸ï¼ç¼è¯ä»è½é¡ºå©éè¿ï¼ä½å¨è¿è¡æ¶ä¼è¢«ç³»ç»æåºã\n * å¿é¡»å£°ææ¹æ³å¯æåºçä»»ä½æ£æ¥å¼å¸¸ï¼ checked exception ï¼ãå³å¦æä¸ä¸ªæ¹æ³å¯è½åºç°åå¯æ¥å¼å¸¸ï¼è¦ä¹ç¨ try-catch è¯­å¥æè·ï¼è¦ä¹ç¨ throws å­å¥å£°æå°å®æåºï¼å¦åä¼å¯¼è´ç¼è¯éè¯¯\n * ä»å½æåºäºå¼å¸¸ï¼è¯¥æ¹æ³çè°ç¨èæå¿é¡»å¤çæèéæ°æåºè¯¥å¼å¸¸ãå½æ¹æ³çè°ç¨èæ åå¤çè¯¥å¼å¸¸çæ¶åï¼åºè¯¥ç»§ç»­æåºï¼èä¸æ¯å«åµåæ£ã\n * è°ç¨æ¹æ³å¿é¡»éµå¾ªä»»ä½å¯æ¥å¼å¸¸çå¤çåå£°æè§åãè¥è¦çä¸ä¸ªæ¹æ³ï¼åä¸è½å£°æä¸è¦çæ¹æ³ä¸åçå¼å¸¸ãå£°æçä»»ä½å¼å¸¸å¿é¡»æ¯è¢«è¦çæ¹æ³æå£°æå¼å¸¸çåç±»æå­ç±»ã\n\n\n# 4ãfinally\n\nå½å¼å¸¸åçæ¶ï¼éå¸¸æ¹æ³çæ§è¡å°åä¸ä¸ªé¡å³­çéçº¿æ§çè½¬åï¼å®çè³ä¼è¿æ©çå¯¼è´æ¹æ³è¿åãä¾å¦ï¼ å¦æä¸ä¸ªæ¹æ³æå¼äºä¸ä¸ªæä»¶å¹¶å³é­ï¼ç¶åéåºï¼ä½ ä¸å¸æå³é­æä»¶çä»£ç è¢«å¼å¸¸å¤çæºå¶æè·¯ã finally å³é®å­ä¸ºå¤çè¿ç§æå¤èè®¾è®¡ã\n\nfinally åå»ºçä»£ç åå¨ try/catch åå®æä¹åå¦ä¸ä¸ª try/catch åºç°ä¹åæ§è¡ã finally åæ è®ºææ²¡æå¼å¸¸æåºé½ä¼æ§è¡ãå¦ææåºå¼å¸¸ï¼å³ä½¿æ²¡æ catch å­å¥å¹éï¼ finally ä¹ä¼æ§è¡ã\n\nä¸ä¸ªæ¹æ³å°ä»ä¸ä¸ª try/catch åè¿åå°è°ç¨ç¨åºçä»»ä½æ¶åï¼ç»è¿ä¸ä¸ªæªæè·çå¼å¸¸æèæ¯ä¸ä¸ªæç¡®çè¿åè¯­å¥ï¼ finally å­å¥å¨æ¹æ³è¿åä¹åä»å°æ§è¡ãè¿å¨å³é­æä»¶å¥æåéæ¾ä»»ä½å¨æ¹æ³å¼å§æ¶è¢«åéçå¶ä»èµæºæ¯å¾æç¨ã\n\næ³¨æï¼ finally å­å¥æ¯å¯éé¡¹ï¼å¯ä»¥æä¹å¯ä»¥æ ï¼ä½æ¯æ¯ä¸ª try è¯­å¥è³å°éè¦ä¸ä¸ª catch æ è finally å­å¥ã\n\nãä¾å­ã\n\nclass testfinally {\n    static void proc1() {\n        try {\n            system.out.println("inside proc1");\n            throw new runtimeexception("demo");\n        } finally {\n            system.out.println("proc1\'s finally");\n        }\n    }\n\n    static void proc2() {\n        try {\n            system.out.println("inside proc2");\n            return;\n        } finally {\n            system.out.println("proc2\'s finally");\n        }\n    }\n\n    static void proc3() {\n        try {\n            system.out.println("inside proc3");\n        } finally {\n            system.out.println("proc3\'s finally");\n        }\n    }\n\n    public static void main(string[] args) {\n        try {\n            proc1();\n        } catch (exception e) {\n            system.out.println("exception caught");\n        }\n        proc2();\n        proc3();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n\n\n> æ§è¡ç»æï¼\n> \n> inside proc1 proc1\'s finally exception caught inside proc2 proc2\'s finally inside proc3 proc3\'s finally\n\næ³¨ï¼å¦æ finally åä¸ä¸ä¸ª try èåä½¿ç¨ï¼ finally åå°å¨ try ç»æä¹åæ§è¡ã\n\n\n# æ§è¡é¡ºåº\n\ntry, catch,finally ,return æ§è¡é¡ºåº\n\n 1. æ§è¡tryï¼catch ï¼ ç»è¿åå¼èµå¼\n 2. æ§è¡finally\n 3. return\n\n\n# èªå®ä¹å¼å¸¸\n\nä½¿ç¨javaåç½®çå¼å¸¸ç±»å¯ä»¥æè¿°å¨ç¼ç¨æ¶åºç°çå¤§é¨åå¼å¸¸æåµãé¤æ­¤ä¹å¤ï¼ç¨æ·è¿å¯ä»¥èªå®ä¹å¼å¸¸ã ç¨æ·èªå®ä¹å¼å¸¸ç±»ï¼åªéç»§æ¿ exception ç±»å³å¯ã\n\nå¨ç¨åºä¸­ä½¿ç¨èªå®ä¹å¼å¸¸ç±»ï¼å¤§ä½å¯åä¸ºä»¥ä¸å ä¸ªæ­¥éª¤ï¼\n\n * åå»ºèªå®ä¹å¼å¸¸ç±»ã\n * å¨æ¹æ³ä¸­éè¿ throw å³é®å­æåºå¼å¸¸å¯¹è±¡ã\n * å¦æå¨å½åæåºå¼å¸¸çæ¹æ³ä¸­å¤çå¼å¸¸ï¼å¯ä»¥ä½¿ç¨ try-catch è¯­å¥æè·å¹¶å¤çï¼å¦åå¨æ¹æ³çå£°æå¤éè¿ throws å³é®å­ææè¦æåºç»æ¹æ³è°ç¨èçå¼å¸¸ï¼ç»§ç»­è¿è¡ä¸ä¸æ­¥æä½ã\n * å¨åºç°å¼å¸¸æ¹æ³çè°ç¨èä¸­æè·å¹¶å¤çå¼å¸¸ã\n\nãä¸¾ä¾ã\n\nclass myexception extends exception {\n    private int detail;\n    myexception(int a){\n        detail = a;\n    }\n    public string tostring(){\n        return "myexception ["+ detail + "]";\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\npublic class testmyexception {\n    static void compute(int a) throws myexception {\n        system.out.println("called compute(" + a + ")");\n        if (a > 10) {\n            throw new myexception(a);\n        }\n        system.out.println("normal exit!");\n    }\n\n    public static void main(string[] args) {\n        try {\n            compute(1);\n            compute(20);\n        } catch (myexception me) {\n            system.out.println("caught " + me);\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n> è¾åºï¼\n> \n> called compute(1) normal exit! called compute(20) caught myexception [20]\n\nä¸¾ä¾äºï¼è¾å¥å¹´é¾æ¶ï¼å¹´é¾ä¸è½ä¸ºè´æ°ï¼å¦åå°±æ¥é\n\npublic class ageexception extends exception{\n    public ageexception() {\n    }\n\n    public ageexception(string message) {\n        super(message);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\npublic class demo {\n    public static void main(string[] args) {\n        try {\n            check(-10);\n        } catch (ageexception e) {\n            e.printstacktrace();\n        }\n    }\n\n    public static void check(int age) throws ageexception {\n        if (age < 0) {\n            throw new ageexception("å¹´é¾ä¸è½å°äº0");\n        } else {\n            system.out.println(age);\n        }\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n\n\n# æ»ç»\n\n\n\nå®éåºç¨ä¸­çç»éªä¸æ»ç»\n\n 1. å¤çè¿è¡æ¶å¼å¸¸æ¶ï¼éç¨é»è¾å»åçè§é¿åæ¶è¾å©try-catchå¤ç\n\n 2. å¨å¤écatchååé¢ï¼å¯ä»¥å ä¸ä¸ªcatch ( exception )æ¥å¤çå¯è½ä¼è¢«éæ¼çå¼å¸¸\n\n 3. å¯¹äºä¸ç¡®å®çä»£ç ï¼ä¹å¯ä»¥å ä¸try-catchï¼å¤çæ½å¨çå¼å¸¸\n\n 4. å°½éå»å¤çå¼å¸¸ï¼åå¿åªæ¯ç®åçè°ç¨printstacktrace)å»æå°è¾åº\n\n 5. å·ä½å¦ä½å¤çå¼å¸¸ï¼è¦æ ¹æ®ä¸åçä¸å¡éæ±åå¼å¸¸ç±»åå»å³å®\n\n 6. å°½éæ·»å finallyè¯­å¥åå»éæ¾å ç¨çèµæº',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"é¢åå¯¹è±¡",frontmatter:{title:"é¢åå¯¹è±¡",date:"2021-04-15T22:46:32.000Z",permalink:"/java/se/object/",categories:["java","java-se"]},regularPath:"/01.Java/03.java-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/06.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1.html",relativePath:"01.Java/03.java-é¢åå¯¹è±¡/06.é¢åå¯¹è±¡.md",key:"v-0d0a72db",path:"/java/se/object/",headers:[{level:2,title:"é¢åè¿ç¨&é¢åå¯¹è±¡",slug:"é¢åè¿ç¨-é¢åå¯¹è±¡",normalizedTitle:"é¢åè¿ç¨&amp;é¢åå¯¹è±¡",charIndex:null},{level:2,title:"OOPè¯¦è§£",slug:"oopè¯¦è§£",normalizedTitle:"oopè¯¦è§£",charIndex:772},{level:3,title:"1ãä»ä¹æ¯é¢åå¯¹è±¡",slug:"_1ãä»ä¹æ¯é¢åå¯¹è±¡",normalizedTitle:"1ãä»ä¹æ¯é¢åå¯¹è±¡",charIndex:782},{level:3,title:"2ãç±»ä¸å¯¹è±¡çå³ç³»",slug:"_2ãç±»ä¸å¯¹è±¡çå³ç³»",normalizedTitle:"2ãç±»ä¸å¯¹è±¡çå³ç³»",charIndex:1852},{level:3,title:"3ãå¯¹è±¡åå¼ç¨çå³ç³»",slug:"_3ãå¯¹è±¡åå¼ç¨çå³ç³»",normalizedTitle:"3ãå¯¹è±¡åå¼ç¨çå³ç³»",charIndex:2348},{level:2,title:"æ¹æ³åé¡¾åå æ·±",slug:"æ¹æ³åé¡¾åå æ·±",normalizedTitle:"æ¹æ³åé¡¾åå æ·±",charIndex:2519},{level:3,title:"1ãæ¹æ³çå®ä¹",slug:"_1ãæ¹æ³çå®ä¹",normalizedTitle:"1ãæ¹æ³çå®ä¹",charIndex:2552},{level:3,title:"2ãæ¹æ³è°ç¨",slug:"_2ãæ¹æ³è°ç¨",normalizedTitle:"2ãæ¹æ³è°ç¨",charIndex:3972},{level:3,title:"3ãè°ç¨æ¹æ³æ¶çä¼ å",slug:"_3ãè°ç¨æ¹æ³æ¶çä¼ å",normalizedTitle:"3ãè°ç¨æ¹æ³æ¶çä¼ å",charIndex:5259},{level:3,title:"4ãthiså³é®å­",slug:"_4ãthiså³é®å­",normalizedTitle:"4ãthiså³é®å­",charIndex:6414},{level:2,title:"åå»ºä¸åå§åå¯¹è±¡",slug:"åå»ºä¸åå§åå¯¹è±¡",normalizedTitle:"åå»ºä¸åå§åå¯¹è±¡",charIndex:8784},{level:2,title:"æé å¨",slug:"æé å¨",normalizedTitle:"æé å¨",charIndex:2835},{level:2,title:"åå­åæ",slug:"åå­åæ",normalizedTitle:"åå­åæ",charIndex:10322},{level:2,title:"å°è£",slug:"å°è£",normalizedTitle:"å°è£",charIndex:893},{level:3,title:"1ãå°è£çæ­¥éª¤",slug:"_1ãå°è£çæ­¥éª¤",normalizedTitle:"1ãå°è£çæ­¥éª¤",charIndex:11689},{level:3,title:"2ãä½ç¨åæä¹",slug:"_2ãä½ç¨åæä¹",normalizedTitle:"2ãä½ç¨åæä¹",charIndex:12934},{level:3,title:"3ãæ¹æ³éè½½",slug:"_3ãæ¹æ³éè½½",normalizedTitle:"3ãæ¹æ³éè½½",charIndex:13073},{level:2,title:"ç»§æ¿",slug:"ç»§æ¿",normalizedTitle:"ç»§æ¿",charIndex:1365},{level:3,title:"1ãç»§æ¿",slug:"_1ãç»§æ¿",normalizedTitle:"1ãç»§æ¿",charIndex:14045},{level:3,title:"2ãObjectç±»",slug:"_2ãobjectç±»",normalizedTitle:"2ãobjectç±»",charIndex:14798},{level:3,title:"3ãSuperå³é®å­",slug:"_3ãsuperå³é®å­",normalizedTitle:"3ãsuperå³é®å­",charIndex:15261},{level:3,title:"4ãæ¹æ³éå",slug:"_4ãæ¹æ³éå",normalizedTitle:"4ãæ¹æ³éå",charIndex:17896},{level:2,title:"å¤æ",slug:"å¤æ",normalizedTitle:"å¤æ",charIndex:1662},{level:3,title:"1ãè®¤è¯å¤æ",slug:"_1ãè®¤è¯å¤æ",normalizedTitle:"1ãè®¤è¯å¤æ",charIndex:19478},{level:3,title:"2ãéåãéè½½åå¤æçå³ç³»",slug:"_2ãéåãéè½½åå¤æçå³ç³»",normalizedTitle:"2ãéåãéè½½åå¤æçå³ç³»",charIndex:21834},{level:3,title:"3ãå¤æçæ³¨æäºé¡¹",slug:"_3ãå¤æçæ³¨æäºé¡¹",normalizedTitle:"3ãå¤æçæ³¨æäºé¡¹",charIndex:22026},{level:3,title:"4ãå¤æå­å¨çæ¡ä»¶",slug:"_4ãå¤æå­å¨çæ¡ä»¶",normalizedTitle:"4ãå¤æå­å¨çæ¡ä»¶",charIndex:22215},{level:3,title:"5ãæ¹æ³ç»å®(method binding)",slug:"_5ãæ¹æ³ç»å®-method-binding",normalizedTitle:"5ãæ¹æ³ç»å®(method binding)",charIndex:22536},{level:3,title:"6ãinstanceofåç±»åè½¬æ¢",slug:"_6ãinstanceofåç±»åè½¬æ¢",normalizedTitle:"6ãinstanceofåç±»åè½¬æ¢",charIndex:22796},{level:2,title:"ä¿®é¥°ç¬¦",slug:"ä¿®é¥°ç¬¦",normalizedTitle:"ä¿®é¥°ç¬¦",charIndex:2567},{level:3,title:"1ãstaticä¿®é¥°ç¬¦",slug:"_1ãstaticä¿®é¥°ç¬¦",normalizedTitle:"1ãstaticä¿®é¥°ç¬¦",charIndex:25475},{level:3,title:"2ãfinalä¿®é¥°ç¬¦",slug:"_2ãfinalä¿®é¥°ç¬¦",normalizedTitle:"2ãfinalä¿®é¥°ç¬¦",charIndex:31551},{level:3,title:"3ãabstractä¿®é¥°ç¬¦",slug:"_3ãabstractä¿®é¥°ç¬¦",normalizedTitle:"3ãabstractä¿®é¥°ç¬¦",charIndex:32883},{level:3,title:"3ãç¹ç¹åä½ç¨",slug:"_3ãç¹ç¹åä½ç¨",normalizedTitle:"3ãç¹ç¹åä½ç¨",charIndex:33307},{level:2,title:"æ¥å£",slug:"æ¥å£",normalizedTitle:"æ¥å£",charIndex:1247},{level:3,title:"1ãæ¥å£çæ¬è´¨",slug:"_1ãæ¥å£çæ¬è´¨",normalizedTitle:"1ãæ¥å£çæ¬è´¨",charIndex:34213},{level:3,title:"2ãæ¥å£ä¸æ½è±¡ç±»çåºå«",slug:"_2ãæ¥å£ä¸æ½è±¡ç±»çåºå«",normalizedTitle:"2ãæ¥å£ä¸æ½è±¡ç±»çåºå«",charIndex:34809},{level:3,title:"3ãæ¥å£ä¸­çæ¹æ³é½æ¯æ½è±¡æ¹æ³",slug:"_3ãæ¥å£ä¸­çæ¹æ³é½æ¯æ½è±¡æ¹æ³",normalizedTitle:"3ãæ¥å£ä¸­çæ¹æ³é½æ¯æ½è±¡æ¹æ³",charIndex:35162},{level:3,title:"4ãæ¥å£ä¸­çåéé½æ¯éæå¸¸é",slug:"_4ãæ¥å£ä¸­çåéé½æ¯éæå¸¸é",normalizedTitle:"4ãæ¥å£ä¸­çåéé½æ¯éæå¸¸é",charIndex:35363},{level:3,title:"5ãä¸ä¸ªç±»å¯ä»¥å®ç°å¤ä¸ªæ¥å£",slug:"_5ãä¸ä¸ªç±»å¯ä»¥å®ç°å¤ä¸ªæ¥å£",normalizedTitle:"5ãä¸ä¸ªç±»å¯ä»¥å®ç°å¤ä¸ªæ¥å£",charIndex:35744},{level:3,title:"6ãä¸ä¸ªæ¥å£å¯ä»¥ç»§æ¿å¤ä¸ªç¶æ¥å£",slug:"_6ãä¸ä¸ªæ¥å£å¯ä»¥ç»§æ¿å¤ä¸ªç¶æ¥å£",normalizedTitle:"6ãä¸ä¸ªæ¥å£å¯ä»¥ç»§æ¿å¤ä¸ªç¶æ¥å£",charIndex:36160},{level:3,title:"7ãæ¥å£çä½ç¨",slug:"_7ãæ¥å£çä½ç¨",normalizedTitle:"7ãæ¥å£çä½ç¨",charIndex:37154},{level:2,title:"åé¨ç±»",slug:"åé¨ç±»",normalizedTitle:"åé¨ç±»",charIndex:38699},{level:3,title:"1ãåé¨ç±»æ¦è¿°",slug:"_1ãåé¨ç±»æ¦è¿°",normalizedTitle:"1ãåé¨ç±»æ¦è¿°",charIndex:38811},{level:3,title:"2ãæååé¨ç±»",slug:"_2ãæååé¨ç±»",normalizedTitle:"2ãæååé¨ç±»",charIndex:39018},{level:3,title:"3ãéæåé¨ç±»",slug:"_3ãéæåé¨ç±»",normalizedTitle:"3ãéæåé¨ç±»",charIndex:43620},{level:3,title:"4ãå±é¨åé¨ç±»",slug:"_4ãå±é¨åé¨ç±»",normalizedTitle:"4ãå±é¨åé¨ç±»",charIndex:45747},{level:3,title:"5ãå¿ååé¨ç±»",slug:"_5ãå¿ååé¨ç±»",normalizedTitle:"5ãå¿ååé¨ç±»",charIndex:48865}],headersStr:"é¢åè¿ç¨&é¢åå¯¹è±¡ OOPè¯¦è§£ 1ãä»ä¹æ¯é¢åå¯¹è±¡ 2ãç±»ä¸å¯¹è±¡çå³ç³» 3ãå¯¹è±¡åå¼ç¨çå³ç³» æ¹æ³åé¡¾åå æ·± 1ãæ¹æ³çå®ä¹ 2ãæ¹æ³è°ç¨ 3ãè°ç¨æ¹æ³æ¶çä¼ å 4ãthiså³é®å­ åå»ºä¸åå§åå¯¹è±¡ æé å¨ åå­åæ å°è£ 1ãå°è£çæ­¥éª¤ 2ãä½ç¨åæä¹ 3ãæ¹æ³éè½½ ç»§æ¿ 1ãç»§æ¿ 2ãObjectç±» 3ãSuperå³é®å­ 4ãæ¹æ³éå å¤æ 1ãè®¤è¯å¤æ 2ãéåãéè½½åå¤æçå³ç³» 3ãå¤æçæ³¨æäºé¡¹ 4ãå¤æå­å¨çæ¡ä»¶ 5ãæ¹æ³ç»å®(method binding) 6ãinstanceofåç±»åè½¬æ¢ ä¿®é¥°ç¬¦ 1ãstaticä¿®é¥°ç¬¦ 2ãfinalä¿®é¥°ç¬¦ 3ãabstractä¿®é¥°ç¬¦ 3ãç¹ç¹åä½ç¨ æ¥å£ 1ãæ¥å£çæ¬è´¨ 2ãæ¥å£ä¸æ½è±¡ç±»çåºå« 3ãæ¥å£ä¸­çæ¹æ³é½æ¯æ½è±¡æ¹æ³ 4ãæ¥å£ä¸­çåéé½æ¯éæå¸¸é 5ãä¸ä¸ªç±»å¯ä»¥å®ç°å¤ä¸ªæ¥å£ 6ãä¸ä¸ªæ¥å£å¯ä»¥ç»§æ¿å¤ä¸ªç¶æ¥å£ 7ãæ¥å£çä½ç¨ åé¨ç±» 1ãåé¨ç±»æ¦è¿° 2ãæååé¨ç±» 3ãéæåé¨ç±» 4ãå±é¨åé¨ç±» 5ãå¿ååé¨ç±»",content:'# JavaSE-é¢åå¯¹è±¡\n\n\n# é¢åè¿ç¨&é¢åå¯¹è±¡\n\nè¯­è¨çè¿ååå±è·çç©çè¿ååå±å¶å®æ¯ä¸åäºï¼é½æ¯âç©ä»¥ç±»èâãç¸è¿çæåç»èèå°ä¸èµ·åæäºæä»¬çç¼çï¼ç¸è¿çåè§ç»èèå°ä¸èµ·åæäºæä»¬çé¼»å­ã\n\nè¯­å¥å¤äºï¼æä»¬å°å®æåæ ·åè½çç¸è¿çè¯­å¥ï¼èå°äºä¸åå¿ï¼ä¾¿äºæä»¬ä½¿ç¨ãäºæ¯ï¼æ¹æ³åºç°äºï¼\n\nåéå¤äºï¼æä»¬å°åè½ç¸è¿çåéç»å¨ä¸èµ·ï¼èå°ä¸èµ·å½ç±»ï¼ä¾¿äºæä»¬è°ç¨ãäºæ¯ï¼ç»æä½åºç°äºï¼\n\nååæ¥ï¼æ¹æ³å¤äºï¼åéå¤äºï¼ç»æä½ä¸å¤ç¨äºï¼æä»¬å°±å°åè½ç¸è¿çåéåæ¹æ³èå°äºä¸èµ·ï¼äºæ¯ç±»åå¯¹è±¡åºç°äºï¼\n\nå¯¥å¯¥æ°è¯­ï¼å°±æ·±å»çå±ç¤ºäºè¯­è¨çè¿ååå²ï¼å¶å®ï¼é½éå¸¸èªç¶ï¼âç©ä»¥ç±»èâãå¸æå¤§å®¶è½è®°ä½è¿å¥è¯ã\n\nä¼ä¸çåå±ä¹æ¯âç©ä»¥ç±»èâçè¿ç¨ï¼å®æå¸åºæ¨å¹¿çäººåèå°ä¸èµ·å½¢æäºå¸åºé¨ãå®æææ¯å¼åçäººåèå°ä¸èµ·å½¢æäºå¼åé¨ï¼\n\né¢åè¿ç¨çæç»´æ¨¡å¼\n\né¢åè¿ç¨çæç»´æ¨¡å¼æ¯ç®åççº¿æ§æç»´ï¼æèé®é¢é¦åé·å¥ç¬¬ä¸æ­¥åä»ä¹ãç¬¬äºæ­¥åä»ä¹çç»èä¸­ãè¿ç§æç»´æ¨¡å¼éåå¤çç®åçäºæï¼æ¯å¦ï¼ä¸åæã\n\nå¦æé¢å¯¹å¤æçäºæï¼è¿ç§æç»´æ¨¡å¼ä¼é·å¥ä»¤äººåç¯çç¶æï¼æ¯å¦ï¼å¦ä½é ç¥èåå·ï¼\n\né¢åå¯¹è±¡çæç»´æ¨¡å¼\n\né¢åå¯¹è±¡çæç»´æ¨¡å¼è¯´ç½äºå°±æ¯åç±»æç»´æ¨¡å¼ãæèé®é¢é¦åä¼è§£å³é®é¢éè¦åªäºåç±»ï¼ç¶åå¯¹è¿äºåç±»è¿è¡åç¬æèãæåï¼æå¯¹æä¸ªåç±»ä¸çç»èè¿è¡é¢åè¿ç¨çæç´¢ã\n\nè¿æ ·å°±å¯ä»¥å½¢æå¾å¥½çåä½åå·¥ãæ¯å¦ï¼è®¾è®¡å¸åäº10ä¸ªç±»ï¼ç¶åå°10ä¸ªç±»äº¤ç»äº10ä¸ªäººåå«è¿è¡è¯¦ç»è®¾è®¡åç¼ç ï¼\n\næ¾ç¶ï¼é¢åå¯¹è±¡éåå¤çå¤æçé®é¢ï¼éåå¤çéè¦å¤äººåä½çé®é¢ï¼\n\nå¦æä¸ä¸ªé®é¢éè¦å¤äººåä½ä¸èµ·è§£å³ï¼é£ä¹ä½ ä¸å®è¦ç¨é¢åå¯¹è±¡çæ¹å¼æ¥æèï¼\n\nå¯¹äºæè¿°å¤æçäºç©ï¼ä¸ºäºä»å®è§ä¸ææ¡ãä»æ´ä½ä¸åçåæï¼æä»¬éè¦ä½¿ç¨é¢åå¯¹è±¡çæè·¯æ¥åææ´ ä¸ªç³»ç»ãä½æ¯ï¼å·ä½å°å¾®è§æä½ï¼ä»ç¶éè¦é¢åè¿ç¨çæè·¯å»å¤çã\n\n\n# OOPè¯¦è§£\n\n\n# 1ãä»ä¹æ¯é¢åå¯¹è±¡\n\nJavaçç¼ç¨è¯­è¨æ¯é¢åå¯¹è±¡çï¼éç¨è¿ç§è¯­è¨è¿è¡ç¼ç¨ç§°ä¸ºé¢åå¯¹è±¡ç¼ç¨(Object-Oriented Programming, OOP)ã\n\né¢åå¯¹è±¡ç¼ç¨çæ¬è´¨å°±æ¯ï¼ä»¥ç±»çæ¹å¼ç»ç»ä»£ç ï¼ä»¥å¯¹è±¡çç»ç»(å°è£)æ°æ®ã\n\næ½è±¡(abstract)\n\nå¿½ç¥ä¸ä¸ªä¸»é¢ä¸­ä¸å½åç®æ æ å³çé£äºæ¹é¢ï¼ä»¥ä¾¿æ´ååå°æ³¨æä¸å½åç®æ æå³çæ¹é¢ãæ½è±¡å¹¶ä¸æç®äº è§£å¨é¨é®é¢ï¼èåªæ¯éæ©å¶ä¸­çä¸é¨åï¼ææ¶ä¸ç¨å³æ³¨ç»èã\n\n> ä¾å¦ï¼è¦è®¾è®¡ä¸ä¸ªå­¦çæç»©ç®¡çç³»ç»ï¼é£ä¹å¯¹äºå­¦çï¼åªå³å¿ä»çç­çº§ãå­¦å·ãæç»©ç­ï¼èä¸ç¨å»å³å¿ä»ç èº«é«ãä½éè¿äºä¿¡æ¯ã æ½è±¡æ¯ä»ä¹ï¼å°±æ¯å°å¤ä¸ªç©ä½å±åç¹å½çº³åºæ¥ï¼å°±æ¯æ½åºåçé¨åï¼\n\nå°è£(Encapsulation)\n\nå°è£æ¯é¢åå¯¹è±¡çç¹å¾ä¹ä¸ï¼æ¯å¯¹è±¡åç±»æ¦å¿µçä¸»è¦ç¹æ§ãå°è£æ¯æè¿ç¨åæ°æ®åå´èµ·æ¥ï¼å¯¹æ°æ®çè®¿ é®åªè½éè¿æå®çæ¹å¼ã\n\nå¨å®ä¹ä¸ä¸ªå¯¹è±¡çç¹æ§çæ¶åï¼æå¿è¦å³å®è¿äºç¹æ§çå¯è§æ§ï¼å³åªäºç¹æ§å¯¹å¤é¨æ¯å¯è§çï¼åªäºç¹æ§ç¨äºè¡¨ç¤ºåé¨ç¶æã\n\néå¸¸ï¼åºç¦æ­¢ç´æ¥è®¿é®ä¸ä¸ªå¯¹è±¡ä¸­æ°æ®çå®éè¡¨ç¤ºï¼èåºéè¿æä½æ¥å£æ¥è®¿é®ï¼è¿ç§°ä¸ºä¿¡æ¯éèã\n\nä¿¡æ¯éèæ¯ç¨æ·å¯¹å°è£æ§çè®¤è¯ï¼å°è£åä¸ºä¿¡æ¯éèæä¾æ¯æã\n\nå°è£ä¿è¯äºæ¨¡åå·æè¾å¥½çç¬ç«æ§ï¼ä½¿å¾ç¨åºç»´æ¤ä¿®æ¹è¾ä¸ºå®¹æãå¯¹åºç¨ç¨åºçä¿®æ¹ä»éäºç±»çåé¨ï¼ å èå¯ä»¥å°åºç¨ç¨åºä¿®æ¹å¸¦æ¥çå½±ååå°å°æä½éåº¦ã\n\nç»§æ¿(inheritance)\n\nç»§æ¿æ¯ä¸ç§èç»ç±»çå±æ¬¡æ¨¡åï¼å¹¶ä¸åè®¸åæ¯æç±»çéç¨ï¼å®æä¾äºä¸ç§æç¡®è¡¨è¿°å±æ§çæ¹æ³\n\næ°ç±»ç»§æ¿äºåå§ç±»å,æ°ç±»å°±ç»§æ¿äºåå§ç±»çç¹æ§ï¼æ°ç±»ç§°ä¸ºåå§ç±»çæ´¾çç±»(å­ç±»)ï¼èåå§ç±»ç§°ä¸ºæ°ç±»çåºç±»(ç¶ç±»)ã\n\næ´¾çç±»(å­ç±»)å¯ä»¥ä»å®çåºç±»(ç¶ç±»)é£éç»§æ¿æ¹æ³åå®ä¾åéï¼å¹¶ä¸æ´¾çç±»(å­ç±»)ä¸­å¯ä»¥ä¿®æ¹æå¢å æ°çæ¹æ³ä½¿ä¹æ´éåç¹æ®çéè¦ç»§æ¿æ§å¾å¥½çè§£å³äºè½¯ä»¶çå¯éç¨æ§é®é¢ãæ¯å¦è¯´ï¼ææçWindowsåºç¨ç¨åºé½æä¸ä¸ªçªå£ï¼å®ä»¬å¯ä»¥çä½é½æ¯ä»ä¸ä¸ªçªå£ç±»æ´¾çåºæ¥çãä½æ¯æçåºç¨ç¨åºç¨äºæå­å¤çï¼æçåºç¨ç¨åºç¨äºç»å¾ï¼è¿æ¯ç±äºæ´¾çåºäºä¸åçå­ç±»ï¼åä¸ªå­ç±»æ·»å äºä¸åçç¹æ§ã\n\nå¤æ(polymorphism)\n\nå¤ææ§æ¯æåè®¸ä¸åç±»çå¯¹è±¡å¯¹åä¸æ¶æ¯ä½åºååºã\n\nå¤ææ§è¯­è¨å·æçµæ´»ãæ½è±¡ãè¡ä¸ºå±äº«ãä»£ç å±äº«çä¼å¿ï¼å¾å¥½çè§£å³äºåºç¨ç¨åºå½æ°ååé®é¢ã\n\nç¸åç±»åçä¸åå¯¹è±¡,è°ç¨ç¸åæ¹æ³,è¡¨ç°åºä¸åçç»æ\n\nä»è®¤è¯è®ºè§åº¦èèæ¯åæå¯¹è±¡åæç±»ãå¯¹è±¡ï¼æ¯å·ä½çäºç©ãç±»ï¼æ¯æ½è±¡çï¼æ¯å¯¹å¯¹è±¡çæ½è±¡ã\n\nä»ä»£ç è¿è¡è§åº¦èèæ¯åæç±»åæå¯¹è±¡ãç±»æ¯å¯¹è±¡çæ¨¡æ¿ã\n\n\n# 2ãç±»ä¸å¯¹è±¡çå³ç³»\n\nç±»æ¯ä¸ç§æ½è±¡çæ°æ®ç±»å,å®æ¯å¯¹æä¸ç±»äºç©æ´ä½æè¿°/å®ä¹,ä½æ¯å¹¶ä¸è½ä»£è¡¨æä¸ä¸ªå·ä½çäºç©\n\n> ä¾å¦ï¼æä»¬çæ´»ä¸­æè¯´çè¯è¯­ï¼å¨ç©ãæ¤ç©ãææºãçµèç­ç­ãè¿äºä¹é½æ¯æ½è±¡çæ¦å¿µï¼èä¸æ¯æçæä¸ä¸ª å·ä½çä¸è¥¿ã\n\nä¾å¦: Personç±»ãPetç±»ãCarç±»ç­ï¼è¿äºç±»é½æ¯ç¨æ¥ æè¿°/å®ä¹ æä¸ç±»å·ä½çäºç©åºè¯¥å·å¤çç¹ç¹åè¡ä¸º\n\nå¯¹è±¡æ¯æ½è±¡æ¦å¿µçå·ä½å®ä¾\n\n> ä¾å¦ï¼å¼ ä¸å°±æ¯äººçä¸ä¸ªå·ä½å®ä¾ï¼å¼ ä¸å®¶éçæºè´¢å°±æ¯ççä¸ä¸ªå·ä½å®ä¾ãè½å¤ä½ç°åºç¹ç¹ï¼å±ç°åºåè½çæ¯å·ä½çå®ä¾ï¼èä¸æ¯ä¸ä¸ªæ½è±¡çæ¦å¿µã\n\nãç¤ºä¾ã\n\nStudent s = new Student(1,"tom",20);\ns.study();\n\nCar c = new Car(1,"BWM",500000);\nc.run();\n\n\n1\n2\n3\n4\n5\n\n\nå¯¹è±¡så°±æ¯Studentç±»çä¸ä¸ªå®ä¾ï¼å¯¹è±¡cå°±æ¯Carç±»çä¸ä¸ªå·ä½å®ä¾ï¼è½å¤ä½¿ç¨çæ¯å·ä½å®ä¾ï¼èä¸æ¯ç±»ãç±»åªæ¯ç»å¯¹è±¡çåå»ºæä¾äºä¸ä¸ªåèçæ¨¡æ¿èå·²ã\n\nä½æ¯å¨javaä¸­ï¼æ²¡æç±»å°±æ²¡æå¯¹è±¡ï¼ç¶èç±»åæ¯æ ¹æ®å·ä½çåè½éæ±ï¼è¿è¡å®éçåæï¼æç»æ½è±¡åºæ¥çã\n\n\n# 3ãå¯¹è±¡åå¼ç¨çå³ç³»\n\nå¼ç¨ "æå" å¯¹è±¡\n\nä½¿ç¨ç±»ç±»åãæ°ç»ç±»åãæ¥å£ç±»åå£°æåºçåéï¼é½å¯ä»¥æåå¯¹è±¡ï¼è¿ç§åéå°±æ¯å¼ç¨ç±»ååéï¼ç®ç§°å¼ç¨ã\n\nå¨ç¨åºä¸­ï¼åå»ºåºå¯¹è±¡åï¼ç´æ¥ä½¿ç¨å¹¶ä¸æ¹ä¾¿ï¼æä»¥ä¸è¬ä¼ç¨ä¸ä¸ªå¼ç¨ç±»åçåéå»æ¥æ¶è¿ä¸ªå¯¹è±¡ï¼è¿ä¸ªå°±æ¯æè¯´çå¼ç¨æåå¯¹è±¡ã\n\næ»ç»ï¼å¯¹è±¡åå¼ç¨çå³ç³»ï¼å°±å¦çµè§æºåé¥æ§å¨ï¼é£ç­åçº¿çå³ç³»ä¸æ ·ã\n\n\n# æ¹æ³åé¡¾åå æ·±\n\næ¹æ³ä¸å®æ¯å®ä¹å¨ç±»ä¸­çï¼å±äºç±»çæåã\n\n\n# 1ãæ¹æ³çå®ä¹\n\n> æ ¼å¼ï¼ ä¿®é¥°ç¬¦ è¿åç±»å æ¹æ³å(åæ°åè¡¨)å¼å¸¸æåºç±»å{...}\n\n 1. ä¿®é¥°ç¬¦\n    \n    publicãstaticãabstractãfinalç­ç­é½æ¯ä¿®é¥°ç¬¦ï¼ä¸ä¸ªæ¹æ³å¯ä»¥æå¤ä¸ªä¿®é¥°ç¬¦ãä¾å¦ç¨åºå¥å£ mainæ¹æ³ï¼å°±ä½¿ç¨äºpublic staticè¿ä¸ªä¿©ä¸ªä¿®é¥°ç¬¦\n    \n    æ³¨ï¼å¦æä¸ä¸ªæ¹æ³æèå±æ§æå¤ä¸ªä¿®é¥°ç¬¦ï¼è¿å¤ä¸ªä¿®é¥°ç¬¦æ¯æ²¡æååé¡ºåºç\n\n 2. è¿åç±»å\n    \n    æ¹æ³æ§è¡å®å¦ææè¦è¿åçæ°æ®ï¼é£ä¹å°±è¦å£°æè¿åæ°æ®çç±»åï¼å¦ææ²¡æè¿åçæ°æ®ï¼é£ä¹è¿åç±»åå°±å¿é¡»åvoid\n    \n    åªææé æ¹æ³(æé å¨)ä¸åä»»ä½è¿åç±»åä¹ä¸åvoid\n    \n    ãç¤ºä¾ã\n    \n    public String sayHello(){\n        return "hello";\n    }\n    public int max(int a,int b){\n        return a>b?a:b;\n    }\n    public void print(String msg){\n        System.out.println(msg);\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    \n    \n    æèï¼å£°æè¿åç±»åçæ¹æ³ä¸­ä¸å®è¦åºç°returnè¯­å¥ï¼é£ä¹æ²¡æè¿åç±»å(void)çæ¹æ³ä¸­ï¼è½ä¸è½åºç° returnè¯­å¥?\n    \n    breakåreturnçåºå«\n    \n    return è¯­å¥çä½ç¨\n    \n    > (1) return ä»å½åçæ¹æ³ä¸­éåº,è¿åå°è¯¥è°ç¨çæ¹æ³çè¯­å¥å¤,ç»§ç»­æ§è¡ã (2) return è¿åä¸ä¸ªå¼ç»è°ç¨è¯¥æ¹æ³çè¯­å¥ï¼è¿åå¼çæ°æ®ç±»åå¿é¡»ä¸æ¹æ³çå£°æä¸­çè¿åå¼çç±»åä¸è´ã (3) returnåé¢ä¹å¯ä»¥ä¸å¸¦åæ°ï¼ä¸å¸¦åæ°å°±æ¯è¿åç©ºï¼å¶å®ä¸»è¦ç®çå°±æ¯ç¨äºæ³ä¸­æ­å½æ°æ§è¡ï¼è¿å è°ç¨å½æ°å¤ã\n    \n    breakè¯­å¥çä½ç¨\n    \n    > (1)breakå¨å¾ªç¯ä½åï¼å¼ºè¡ç»æå¾ªç¯çæ§è¡ï¼ä¹å°±æ¯ç»ææ´ä¸ªå¾ªç¯è¿ç¨ï¼ä¸å¨å¤æ­æ§è¡å¾ªç¯çæ¡ä»¶æ¯å¦æç«ï¼ç´æ¥è½¬åå¾ªç¯è¯­å¥ä¸é¢çè¯­å¥ã\n    > \n    > (2)å½breakåºç°å¨å¾ªç¯ä½ä¸­çswitchè¯­å¥ä½åæ¶ï¼å¶ä½ç¨åªæ¯è·³åºè¯¥switchè¯­å¥ä½ã\n\n 3. æ¹æ³å\n    \n    éµå®javaä¸­æ ç¤ºç¬¦çå½åè§åå³å¯.\n\n 4. åæ°åè¡¨\n    \n    æ ¹æ®éæ±å®ä¹,æ¹æ³å¯ä»¥æ¯æ åç,ä¹å¯ä»¥æä¸ä¸ªåæ°,ä¹å¯ä»¥æå¤ä¸ªåæ°\n\n 5. å¼å¸¸æåºç±»å\n    \n    å¦ææ¹æ³ä¸­çä»£ç å¨æ§è¡è¿ç¨ä¸­ï¼å¯è½ä¼åºç°ä¸äºå¼å¸¸æåµï¼é£ä¹å°±å¯ä»¥å¨æ¹æ³ä¸æè¿äºå¼å¸¸å£°æå¹¶æåºï¼ ä¹å¯ä»¥åæ¶å£°ææåºå¤ä¸ªå¼å¸¸ï¼ä½¿ç¨éå·éå¼å³å¯ã\n    \n    public void readFile(String file)throws IOException{\n    }\n    \n    public void readFile(String file)throws IOException,ClassNotFoundException{\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n\n# 2ãæ¹æ³è°ç¨\n\nå¨ç±»ä¸­å®ä¹äºæ¹æ³ï¼è¿ä¸ªæ¹æ³ä¸­çä»£ç å¹¶ä¸ä¼æ§è¡ï¼å½è¿ä¸ªæ¹æ³è¢«è°ç¨çæ¶åï¼æ¹æ³ä¸­çä»£ç æä¼è¢«ä¸è¡ä¸ è¡é¡ºåºæ§è¡ã\n\n 1. ééææ¹æ³\n    \n    æ²¡æä½¿ç¨staticä¿®é¥°ç¬¦ä¿®é¥°çæ¹æ³ï¼å°±æ¯ééææ¹æ³ã\n    \n    è°ç¨è¿ç§æ¹æ³çæ¶åï¼æ¯"ä¸å®"è¦ä½¿ç¨å¯¹è±¡çè°ç¨ãå ä¸ºééææ¹æ³æ¯å±äºå¯¹è±¡çã(ééæå±æ§ä¹æ¯ä¸æ ·ç)\n    \n    ãä¾å­ã\n    \n    > public class Student{ public void say(){} }\n    > \n    > main:\n    > \n    > Student s = new Student();\n    > \n    > s.say();\n\n 2. éææ¹æ³\n    \n    ä½¿ç¨staticä¿®é¥°ç¬¦ä¿®é¥°çæ¹æ³,å°±æ¯éææ¹æ³ã\n    \n    è°ç¨è¿ç§æ¹æ³çæ¶åï¼"å¯ä»¥"ä½¿ç¨å¯¹è±¡è°ç¨ï¼ä¹"å¯ä»¥"ä½¿ç¨ç±»æ¥è°ç¨ï¼ä½æ¯æ¨èä½¿ç¨ç±»è¿è¡è°ç¨ãå ä¸ºéææ¹æ³æ¯å±äºç±»çã(éæå±æ§ä¹æ¯ä¸æ ·ç)\n    \n    ãä¾å­ã\n    \n    > public class Student{ public static void say(){} }\n    > \n    > main:\n    > \n    > Student.say();\n\n 3. ç±»ä¸­æ¹æ³ä¹é´çè°ç¨\n    \n    åè®¾åä¸ä¸ªç±»ä¸­æä¿©ä¸ªæ¹æ³ï¼aæ¹æ³åbæ¹æ³ï¼aåbé½æ¯ééææ¹æ³ï¼ç¸äºä¹é´å¯ä»¥ç´æ¥è°ç¨ã\n    \n    public void a(){\n        b();\n    }\n    public void b(){\n        \n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    \n    \n    aåbé½æ¯éææ¹æ³,ç¸äºä¹é´å¯ä»¥ç´æ¥è°ç¨\n    \n    public static void a(){\n        b();\n    }\n    public static void b(){\n        \n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    \n    \n    aéææ¹æ³ï¼bæ¯ééææ¹æ³ï¼aæ¹æ³ä¸­ä¸è½ç´æ¥è°ç¨bæ¹æ³ï¼ä½æ¯bæ¹æ³ä¸­å¯ä»¥ç´æ¥è°ç¨aæ¹æ³ãéææ¹æ³ä¸è½ è°ç¨ééææ¹æ³ï¼\n    \n    public static void a(){\n        //b();æ¥é\n    }\n    public void b(){\n        a();\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    \n    \n    å¦å¤ï¼å¨åä¸ä¸ªç±»ä¸­ï¼éææ¹æ³åä¸è½ç´æ¥è®¿é®å°ç±»ä¸­çééæå±æ§ã\n    \n    æ»ç»ï¼ç±»ä¸­æ¹æ³ä¸­çè°ç¨ï¼ä¸¤ä¸ªæ¹æ³é½æ¯éææèééæé½å¯ä»¥äºç¸è°ç¨ï¼å½ä¸ä¸ªæ¹æ³æ¯éæï¼ä¸ä¸ªæ¹ æ³æ¯ééæçæ¶åï¼ééææ¹æ³å¯ä»¥è°ç¨éææ¹æ³ï¼åä¹ä¸è½ã\n\n\n# 3ãè°ç¨æ¹æ³æ¶çä¼ å\n\n1ãå½¢ååå®å\n\npublic static void test(int a){\n\n}\n\npublic static void main(String[] args) {\n    int x = 1;\n    test(x);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nåæ°åè¡¨ä¸­çaæ¯æ¹æ³testçå½¢å(å½¢å¼ä¸çåæ°) è°ç¨æ¹æ³æ¶çxæ¯æ¹æ³testçå®å(å®éä¸çåæ°)\n\næ³¨æï¼å½¢åçåå­åå®åçåå­é½åªæ¯ä¸ä¸ªåéçåå­,æ¯å¯ä»¥éä¾¿åç,æä»¬å¹¶ä¸å³å¿è¿ä¸ªåå­,èæ¯å³ å¿åéçç±»åä»¥ååéæ¥æ¶çå¼ã\n\n2ãå¼ä¼ éåå¼ç¨ä¼ é\n\nè°ç¨æ¹æ³è¿è¡ä¼ åæ¶ï¼åä¸ºå¼ä¼ éåå¼ç¨ä¼ éä¸¤ç§ã\n\nå¦æåæ°çç±»åæ¯åºæ¬æ°æ®ç±»åï¼é£ä¹å°±æ¯å¼ä¼ éã\n\nå¦æåæ°çç±»åæ¯å¼ç¨æ°æ®ç±»åï¼é£ä¹å°±æ¯å¼ç¨ä¼ éã\n\nå¼ä¼ éæ¯å®åæèªå·±åéæ¬èº«å­çç®åæ°å¼èµå¼ç»å½¢åã å¼ç¨ä¼ éæ¯å®åæèªå·±åéæ¬èº«å­çå¯¹è±¡åå­å°åå¼èµå¼ç»å½¢åã\n\næä»¥å¼ä¼ éåå¼ç¨ä¼ éæ¬è´¨ä¸æ¯ä¸åäºï¼åªä¸è¿ä¼ éçä¸è¥¿çæä¹ä¸åèå·²ã\n\nãç¤ºä¾ï¼å¼ä¼ éã\n\npublic static void changeNum(int a) {\n    a = 10;\n}\n\npublic static void main(String[] args) {\n    int a = 1;\n    System.out.println("before: a = " + a); //1\n    changeNum(a);\n    System.out.println("after: a = " + a); //1\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nãç¤ºä¾ï¼å¼ç¨ä¼ éã\n\npublic class Test {\n    public static void changeName(Student s) {\n        s.name = "tom";\n    }\n\n    public static void main(String[] args) {\n        Student s = new Student();\n        System.out.println("before: name = " + s.name); //null\n        changeName(s);\n        System.out.println("after: name = " + s.name); //tom\n    }\n\n    static class Student {\n        String name;\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# 4ãthiså³é®å­\n\nå¨ç±»ä¸­ï¼å¯ä»¥ä½¿ç¨thiså³é®å­è¡¨ç¤ºä¸äºç¹æ®çä½ç¨ã\n\n1ãthiså¨ç±»ä¸­çä½ç¨\n\nåºå«æååéåå±é¨åé\n\npublic class Student{\n    private String name;\n    public void setName(String name){\n        //this.nameè¡¨ç¤ºç±»ä¸­çå±æ§name\n        this.name = name;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nè°ç¨ç±»ä¸­çå¶ä»æ¹æ³\n\npublic class Student{\n    private String name;\n    public void setName(String name){\n        this.name = name;\n    }\n    public void print(){\n        //è¡¨ç¤ºè°ç¨å½åç±»ä¸­çsetNameæ¹æ³\n        this.setName("tom");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\næ³¨ï¼é»è®¤æåµä¸ï¼setName("tom")åthis.setName("tom")çæææ¯ä¸æ ·çã\n\nè°ç¨ç±»ä¸­çå¶ä»æé å¨\n\npublic class Student{\n    private String name;\n    public Student(){\n        //è°ç¨ä¸ä¸ªåæ°çæé å¨,å¹¶ä¸åæ°çç±»åæ¯String\n        this("tom");\n    }\n    public Student(String name){\n        this.name = name;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\næ³¨ï¼thisçè¿ç§ç¨æ³ï¼åªè½å¨æé å¨ä¸­ä½¿ç¨ãæ®éçæ¹æ³æ¯ä¸è½ç¨çãå¹¶ä¸è¿å±è°ç¨çä»£ç åªè½åºç°å¨æé å¨ä¸­çç¬¬ä¸å¥ã\n\nãç¤ºä¾ã\n\npublic class Student{\n    private String name;\n    //ç¼è¯æ¥é,å ä¸ºthis("tom")ä¸æ¯æé å¨ä¸­çç¬¬ä¸å¥ä»£ç .\n    public Student(){\n        System.out.println("hello");\n        this("tom");\n    }\n    public Student(String name){\n        this.name = name;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n2ãthiså³é®å­å¨ç±»ä¸­çæä¹\n\nthiså¨ç±»ä¸­è¡¨ç¤ºå½åç±»å°æ¥åå»ºåºçå¯¹è±¡ã\n\nãä¾å­ã\n\npublic class Student {\n    private String name;\n\n    public Student() {\n        System.out.println("this = " + this);\n    }\n\n    public static void main(String[] args) {\n        Student s = new Student();\n        System.out.println("s = " + s);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nè¿è¡åçç»æå¯ç¥ï¼thisåsæå°çç»ææ¯ä¸æ ·çï¼é£ä¹å¶å®ä¹å°±æ¯åésæ¯ä»å¯¹è±¡çå¤é¨æ§è¡å¯¹è±¡ï¼èthisæ¯å¨å¯¹è±¡çåé¨æ§è¡å¯¹è±¡æ¬èº«ã\n\nè¿æ ·ä¹å°±è½çè§£ä¸ºä»ä¹this.nameä»£è¡¨çæ¯æååéï¼this.setName("tom")ä»£è¡¨çæ¯è°ç¨æåæ¹æ³ãå ä¸ºè¿ä¿©å¥ä»£ç ä»æ¬è´¨ä¸è®²ï¼åå¨å¯¹è±¡å¤é¨ä½¿ç¨åésæ¥è°ç¨æ¯ä¸æ ·çï¼s.nameås.setName("tom")\n\nãthisåsæå°åºæ¥çåå­å°åæ¯ä¸æ ·çï¼ä½¿ç¨==æ¯è¾çç»æä¸ºtrueãã\n\npublic class Student{\n    public Student getStudent(){\n        return this;\n    }\n    public static void main(String[] args) {\n        Student s1 = new Student();\n        Student s2 = s1.getStudent();\n        System.out.println(s1 == s2);//true\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nãè°ç¨ç±»ä¸­çthisï¼s1ås2ä¸ç¸ç­ã\n\npublic class Student{\n    private String name;\n    public void test(){\n        System.out.println(this);\n    }\n    public static void main(String[] args) {\n        Student s1 = new Student();\n        Student s2 = new Student();\n        s1.test();\n        s2.test();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\næ³¨ï¼è¿å¥è¯æ¯è¦è¿ä¹æ¥æè¿°çï¼s1å¯¹è±¡ä¸­çthisås1ç¸ç­ï¼s2å¯¹è±¡ä¸­çthisås2ç¸ç­ï¼å ä¸ºç±»æ¯æ¨¡æ¿ï¼æ¨¡æ¿ä¸­åçthiså¹¶ä¸æ¯åªæä¸ä¸ªï¼æ¯ä¸ªå¯¹è±¡ä¸­é½æä¸ä¸ªå±äºèªå·±çthisï¼å°±æ¯æ¯ä¸ªå¯¹è±¡ä¸­é½ä¸ä¸ªå±äºèªå·±çnameå±æ§ä¸æ ·ã\n\n\n# åå»ºä¸åå§åå¯¹è±¡\n\nä½¿ç¨newå³é®å­åå»ºå¯¹è±¡\n\nä½¿ç¨newå³é®å­åå»ºçæ¶åï¼é¤äºåéåå­ç©ºé´ä¹å¤ï¼è¿ä¼ç»åå»ºå¥½çå¯¹è±¡è¿è¡é»è®¤çåå§åï¼ä»¥åå¯¹ç±»ä¸­æé å¨çè°ç¨ã\n\né£ä¹å¯¹mainæ¹æ³ä¸­çä»¥ä¸ä»£ç ï¼Student s = new Student();\n\n1ï¼ ä¸ºå¯¹è±¡åéåå­ç©ºé´ï¼å°å¯¹è±¡çå®ä¾åéèªå¨åå§åé»è®¤å¼ä¸º0/false/nullã(å®ä¾åéçéå¼èµå¼)\n\n2ï¼ å¦æä»£ç ä¸­å®ä¾åéææ¾å¼èµå¼ï¼é£ä¹å°±å°ä¹åçé»è®¤å¼è¦çæã(ä¹åå¯ä»¥éè¿ä¾å­çå°è¿ä¸ªç°è±¡)\n\nä¾å¦ï¼æ¾å¼èµå¼ï¼private String name = "tom";\n\n\n3ï¼ è°ç¨æé å¨\n\n4ï¼ æå¯¹è±¡åå­å°åå¼èµå¼ç»åéã(=å·èµå¼æä½)\n\n\n# æé å¨\n\nç±»ä¸­çæé å¨ä¹ç§°ä¸ºæé æ¹æ³ï¼æ¯å¨è¿è¡åå»ºå¯¹è±¡çæ¶åå¿é¡»è¦è°ç¨çãå¹¶ä¸æé å¨æä»¥ä¸ä¿©ä¸ªç¹ç¹:\n\n 1. å¿é¡»åç±»çåå­ç¸å\n 2. å¿é¡»æ²¡æè¿åç±»å,ä¹ä¸è½åvoid\n\næé å¨çä½ç¨:\n\n 1. ä½¿ç¨newåå»ºå¯¹è±¡çæ¶åå¿é¡»ä½¿ç¨ç±»çæé å¨\n 2. æé å¨ä¸­çä»£ç æ§è¡åï¼å¯ä»¥ç»å¯¹è±¡ä¸­çå±æ§åå§åèµå¼\n\nãæ¼ç¤ºã\n\npublic class Student{\n    private String name;\n    \n    public Student(){\n        name = "tom";\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\næé å¨éè½½\n\né¤äºæ åæé å¨ä¹å¤ï¼å¾å¤æ¶åæä»¬è¿ä¼ä½¿ç¨æåæé å¨ï¼å¨åå»ºå¯¹è±¡æ¶åå¯ä»¥ç»å±æ§èµå¼ã\n\nãä¾å­ã\n\npublic class Student{\n    private String name;\n    public Student(){\n        name = "tom";\n    }\n    public Student(String name){\n        this.name = name;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\næé å¨ä¹é´çè°ç¨\n\nä½¿ç¨thiså³é®å­ï¼å¨ä¸ä¸ªæé å¨ä¸­å¯ä»¥è°ç¨å¦ä¸ä¸ªæé å¨çä»£ç ã\n\næ³¨æï¼thisçè¿ç§ç¨æ³ä¸ä¼äº§çæ°çå¯¹è±¡ï¼åªæ¯è°ç¨äºæé å¨ä¸­çä»£ç èå·²ãä¸è¬æåµä¸åªæä½¿ç¨newå³é®å­æä¼åå»ºæ°å¯¹è±¡ã\n\nãæ¼ç¤ºã\n\npublic class Student{\n    private String name;\n    public Student(){\n        this();\n    }\n    public Student(String name){\n        this.name = name;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\né»è®¤æé å¨\n\nå¨javaä¸­ï¼å³ä½¿æä»¬å¨ç¼åç±»çæ¶åæ²¡æåæé å¨ï¼é£ä¹å¨ç¼è¯ä¹åä¹ä¼èªå¨çæ·»å ä¸ä¸ªæ åæé å¨ï¼è¿ä¸ªæ åæé å¨ä¹è¢«ç§°ä¸ºé»è®¤çæé å¨ã\n\nãç¤ºä¾ã\n\npublic class Student{\n    \n}\n\nmain:\n//ç¼è¯éè¿,å ä¸ºææ åæé å¨\nStudent s = new Student();\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nä½æ¯,å¦ææä»¬æå¨çç¼åäºä¸ä¸ªæé å¨,é£ä¹ç¼è¯åå°±ä¸ä¼æ·»å ä»»ä½æé å¨äº\n\nãç¤ºä¾ã\n\npublic class Student{\n    private String name;\n    public Student(String name){\n        this.name = name;\n    }\n}\n\nmain:\n//ç¼è¯æ¥é,å ä¸ºæ²¡ææ åæé å¨\nStudent s = new Student();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# åå­åæ\n\nJAVAç¨åºè¿è¡çåå­åæ\n\næ  stackï¼\n\n 1. æ¯ä¸ªçº¿ç¨ç§æï¼ä¸è½å®ç°çº¿ç¨é´çå±äº«ï¼\n 2. å±é¨åéæ¾ç½®äºæ ä¸­ã\n 3. æ æ¯ç±ç³»ç»èªå¨åéï¼éåº¦å¿«ï¼æ æ¯ä¸ä¸ªè¿ç»­çåå­ç©ºé´ï¼\n\nå  heapï¼\n\n 1. æ¾ç½®newåºæ¥çå¯¹è±¡ï¼\n 2. å æ¯ä¸ä¸ªä¸è¿ç»­çåå­ç©ºé´ï¼åéçµæ´»ï¼éåº¦æ¢ï¼\n\næ¹æ³åº(ä¹æ¯å )ï¼\n\n 1. è¢«ææçº¿ç¨å±äº«ï¼\n 2. ç¨æ¥å­æ¾ç¨åºä¸­æ°¸è¿æ¯ä¸åæå¯ä¸çåå®¹ãï¼ç±»ä»£ç ä¿¡æ¯ãéæåéãå­ç¬¦ä¸²å¸¸éï¼\n\n\n\næ³¨æï¼æ¬æ¬¡åå­åæï¼æä»¬çä¸»è¦ç®çæ¯è®©å¤§å®¶äºè§£åºæ¬çåå­æ¦å¿µãç±»å è½½å¨ãClasså¯¹è±¡è¿äºæ´å è¯¦ç»çåå®¹ï¼æä»¬å°å¨åé¢ä¸é¨è®²åå°çè¯¾ç¨éé¢è®²ã\n\nå¼ç¨ç±»åçæ¦å¿µ\n\n 1. javaä¸­ï¼é¤äºåºæ¬æ°æ®ç±»åä¹å¤çå¶ä»ç±»åç§°ä¹ä¸ºå¼ç¨ç±»åã\n 2. javaä¸­çå¯¹è±¡æ¯éè¿å¼ç¨æ¥æä½çã(å¼ç¨ï¼reference)è¯´ç½äºï¼å¼ç¨æçå°±æ¯å¯¹è±¡çå°åï¼\n\nå±æ§ï¼fieldï¼æèå«æååéï¼\n\n 1. å±æ§ç¨äºå®ä¹è¯¥ç±»æè¯¥ç±»å¯¹è±¡åå«çæ°æ®æèè¯´éæå±æ§ã\n\n 2. å±æ§ä½ç¨èå´æ¯æ´ä¸ªç±»ä½ã\n\n 3. å±æ§çé»è®¤åå§åï¼\n\nå¨å®ä¹æååéæ¶å¯ä»¥å¯¹å¶åå§åï¼å¦æä¸å¯¹å¶åå§åï¼Javaä½¿ç¨é»è®¤çå¼å¯¹å¶åå§å(æ°å¼ï¼0,0.0 charï¼u0000, booleanï¼false, ææå¼ç¨ç±»åï¼null)\n\n 4. å±æ§å®ä¹æ ¼å¼ï¼\n    \n    > [ä¿®é¥°ç¬¦] å±æ§ç±»å å±æ§å = [é»è®¤å¼]\n\nç±»çæ¹æ³\n\næ¹æ³æ¯ç±»åå¯¹è±¡å¨æè¡ä¸ºç¹å¾çæ½è±¡ãæ¹æ³å¾ç±»ä¼¼äºé¢åè¿ç¨ä¸­çå½æ°ãé¢åè¿ç¨ä¸­ï¼å½æ°æ¯æåºæ¬åä½ï¼æ´ä¸ªç¨åºæä¸ä¸ªä¸ªå½æ°è°ç¨ç»æï¼é¢åå¯¹è±¡ä¸­ï¼æ´ä¸ªç¨åºçåºæ¬åä½æ¯ç±»ï¼æ¹æ³æ¯ä»å±äºç±»æå¯¹è±¡çã\n\næ¹æ³å®ä¹æ ¼å¼ï¼\n\n[ä¿®é¥°ç¬¦] æ¹æ³è¿åå¼ç±»å æ¹æ³å(å½¢ååè¡¨) {\n    // næ¡è¯­å¥\n}\n\n\n1\n2\n3\n\n\njavaå¯¹è±¡çåå»ºåä½¿ç¨\n\n * å¿é¡»ä½¿ç¨ new å³é®å­åå»ºå¯¹è±¡ã\n   \n   Person person= new Person ();\n\n * ä½¿ç¨å¯¹è±¡ï¼å¼ç¨ï¼.æååéæ¥å¼ç¨å¯¹è±¡çæååéã\n   \n   person.age\n\n * ä½¿ç¨å¯¹è±¡ï¼å¼ç¨ï¼. æ¹æ³ï¼åæ°åè¡¨ï¼æ¥è°ç¨å¯¹è±¡çæ¹æ³\n   \n   person.setAge(18)\n\nç±»ä¸­å°±æ¯ï¼éæçæ°æ® å¨æçè¡ä¸º\n\nå­¦ä¹ å®ç±»ä¸å¯¹è±¡ç»äºè®¤è¯å°ä»ä¹æ¯ç±»ï¼ä»ä¹æ¯å¯¹è±¡äºã\n\næ¥ä¸æ¥è¦ççå°±æ¯javaçä¸å¤§ç¹å¾ï¼ç»§æ¿ãå° è£ãå¤æã\n\n\n# å°è£\n\næè¦ççµè§ï¼åªéè¦æä¸ä¸å¼å³åæ¢å°å°±å¯ä»¥äºãæå¿è¦äºè§£çµè§æºåé¨çç»æåï¼æå¿è¦ç¢°ç¢°æ¾åç®¡åï¼\n\nå¶é åå®¶ä¸ºäºæ¹ä¾¿æä»¬ä½¿ç¨çµè§ï¼æå¤æçåé¨ç»èå¨é¨å°è£èµ·æ¥ï¼åªç»æä»¬æ´é²ç®åçæ¥å£ï¼æ¯å¦ï¼ çµæºå¼å³ãéè¦è®©ç¨æ·ç¥éçæ´é²åºæ¥ï¼ä¸éè¦è®©ç¨æ·äºè§£çå¨é¨éèèµ·æ¥ãè¿å°±æ¯å°è£ã\n\nç½è¯ï¼è¯¥é²çé²ï¼è¯¥èçè\n\nä¸ä¸ï¼æä»¬ç¨åºè®¾è®¡è¦è¿½æ±âé«åèï¼ä½è¦åâãé«åèå°±æ¯ç±»çåé¨æ°æ®æä½ç»èèªå·±å®æï¼ä¸åè®¸å¤é¨å¹²æ¶ï¼ä½è¦åï¼ä»æ´é²å°éçæ¹æ³ç»å¤é¨ä½¿ç¨ã\n\nå°è£ï¼æ°æ®çéèï¼\n\nå¨å®ä¹ä¸ä¸ªå¯¹è±¡çç¹æ§çæ¶åï¼æå¿è¦å³å®è¿äºç¹æ§çå¯è§æ§ï¼å³åªäºç¹æ§å¯¹å¤é¨æ¯å¯è§çï¼åªäºç¹æ§ç¨äºè¡¨ç¤ºåé¨ç¶æã\n\néå¸¸ï¼åºç¦æ­¢ç´æ¥è®¿é®ä¸ä¸ªå¯¹è±¡ä¸­æ°æ®çå®éè¡¨ç¤ºï¼èåºéè¿æä½æ¥å£æ¥è®¿é®ï¼è¿ç§°ä¸ºä¿¡æ¯éèã\n\n\n# 1ãå°è£çæ­¥éª¤\n\n 1. ä½¿ç¨private ä¿®é¥°éè¦å°è£çæååéã\n\n 2. æä¾ä¸ä¸ªå¬å¼çæ¹æ³è®¾ç½®æèè®¿é®ç§æçå±æ§\n    \n    è®¾ç½® éè¿setæ¹æ³ï¼å½åæ ¼å¼ï¼ setå±æ§åï¼ï¼; å±æ§çé¦å­æ¯è¦å¤§å\n    \n    è®¿é® éè¿getæ¹æ³ï¼å½åæ ¼å¼ï¼ getå±æ§åï¼ï¼; å±æ§çé¦å­æ¯è¦å¤§å\n\nãæ¼ç¤ºã\n\n//å¯¹è±¡è½å¨ç±»çå¤é¨"ç´æ¥"è®¿é®\npublic class Student{\n    public String name;\n    public void println(){\n        System.out.println(this.name);\n    }\n}\npublic class Test{\n    public static void main(String[] args){\n        Student s = new Student();\n        s.name = "tom";\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nå¨ç±»ä¸­ä¸è¬ä¸ä¼ææ°æ®ç´æ¥æ´é²å¨å¤é¨çï¼èä½¿ç¨private(ç§æ)å³é®å­ææ°æ®éèèµ·æ¥\n\nãæ¼ç¤ºã\n\npublic class Student{\n    private String name;\n}\npublic class Test{\n    public static void main(String[] args){\n        Student s = new Student();\n        //ç¼è¯æ¥é,å¨ç±»çå¤é¨ä¸è½ç´æ¥è®¿é®ç±»ä¸­çç§ææå\n        s.name = "tom";\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nå¦æå¨ç±»çå¤é¨éè¦è®¿é®è¿äºç§æå±æ§,é£ä¹å¯ä»¥å¨ç±»ä¸­æä¾å¯¹äºçgetåsetæ¹æ³,ä»¥ä¾¿è®©ç¨æ·å¨ç±»çå¤é¨ å¯ä»¥é´æ¥çè®¿é®å°ç§æå±æ§\n\nãç¤ºä¾ã\n\n//setè´è´£ç»å±æ§èµå¼\n//getè´è´£è¿åå±æ§çå¼\npublic class Student{\n    private String name;\n    public void setName(String name){\n    this.name = name;\n\t}\n\tpublic String getName(){\n        return this.name;\n\t}\n}\npublic class Test{\n    public static void main(String[] args){\n        Student s = new Student();\n        s.setName("tom");\n        System.out.println(s.getName());\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# 2ãä½ç¨åæä¹\n\n 1. æé«ç¨åºçå®å¨æ§ï¼ä¿æ¤æ°æ®ã\n 2. éèä»£ç çå®ç°ç»è\n 3. ç»ä¸ç¨æ·çè°ç¨æ¥å£\n 4. æé«ç³»ç»çå¯ç»´æ¤æ§\n 5. ä¾¿äºè°ç¨èè°ç¨ã\n\nè¯å¥½çå°è£ï¼ä¾¿äºä¿®æ¹åé¨ä»£ç ï¼æé«å¯ç»´æ¤æ§ã\n\nè¯å¥½çå°è£ï¼å¯è¿è¡æ°æ®å®æ´æ§æ£æµï¼ä¿è¯æ°æ®çæææ§ã\n\n\n# 3ãæ¹æ³éè½½\n\nç±»ä¸­æå¤ä¸ªæ¹æ³ï¼æçç¸åçæ¹æ³åï¼ä½æ¯æ¹æ³çåæ°åä¸ç¸å,è¿ç§æåµè¢«ç§°ä¸ºæ¹æ³çéè½½ãæ¹æ³çéè½½å¯ä»¥æä¾æ¹æ³è°ç¨ççµæ´»æ§ã\n\næèï¼HelloWorldä¸­çSystem.out.println()æ¹æ³ï¼ä¸ºä»ä¹å¯ä»¥æä¸åç±»åçåæ°ä¼ ç»è¿ä¸ªæ¹æ³?\n\nãæ¼ç¤ºï¼æ¥çprintlnæ¹æ³çéè½½ã ideaä¸­ctrl+å·¦é®ç¹å»println\n\nä¾å¦:\n\npublic class Test{\n    public void test(String str){\n        \n    }\n    public void test(int a){\n        \n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\næ¹æ³éè½½å¿é¡»æ»¡è¶³ä»¥ä¸æ¡ä»¶\n\n 1. æ¹æ³åå¿é¡»ç¸å\n\n 2. åæ°åè¡¨å¿é¡»ä¸å(åæ°çç±»åãä¸ªæ°ãé¡ºåºçä¸å)\n    \n    public void test(Strig str){}\n    public void test(int a){}\n    \n    public void test(Strig str,double d){}\n    public void test(Strig str){}\n    \n    public void test(Strig str,double d){}\n    public void test(double d,Strig str){}\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    \n\n 3. æ¹æ³çè¿åå¼å¯ä»¥ä¸åï¼ä¹å¯ä»¥ç¸åã\n\nå¨javaä¸­ï¼å¤æ­ä¸ä¸ªç±»ä¸­çä¿©ä¸ªæ¹æ³æ¯å¦ç¸åï¼ä¸»è¦åèä¿©ä¸ªæ¹é¢ï¼æ¹æ³åå­ååæ°åè¡¨\n\n\n# ç»§æ¿\n\nç»§æ¿ï¼extands\n\nç°å®ä¸çä¸­çç»§æ¿æ å¤ä¸å¨ãæ¯å¦ï¼\n\nå¨ç©ï¼åºä¹³å¨ç©ãç¬è¡å¨ç©\n\nåºä¹³å¨ç©ï¼çµé¿ç®ãé²¸ç®ç­ã\n\nç»§æ¿çæ¬è´¨æ¯å¯¹æä¸æ¹ç±»çæ½è±¡ï¼ä»èå®ç°å¯¹ç°å®ä¸çæ´å¥½çå»ºæ¨¡ã\n\nä¸ºä»ä¹éè¦ç»§æ¿ï¼ç»§æ¿çä½ç¨ï¼\n\nç¬¬ä¸å¥½å¤ï¼ç»§æ¿çæ¬è´¨å¨äºæ½è±¡ãç±»æ¯å¯¹å¯¹è±¡çæ½è±¡ï¼ç»§æ¿æ¯å¯¹æä¸æ¹ç±»çæ½è±¡ã\n\nç¬¬äºå¥½å¤ï¼ä¸ºäºæé«ä»£ç çå¤ç¨æ§ã\n\nextandsçæææ¯âæ©å±âãå­ç±»æ¯ç¶ç±»çæ©å±ã\n\nãæ³¨ãJAVAä¸­ç±»åªæåç»§æ¿ï¼æ²¡æå¤ç»§æ¿ï¼ æ¥å£å¯ä»¥å¤ç»§æ¿ï¼\n\n\n# 1ãç»§æ¿\n\n 1. ç»§æ¿æ¯ç±»åç±»ä¹é´çä¸ç§å³ç³»ãé¤æ­¤ä¹å¤,ç±»åç±»ä¹é´çå³ç³»è¿æä¾èµãç»åãèåç­ã\n\n 2. ç»§æ¿å³ç³»çä¿©ä¸ªç±»ï¼ä¸ä¸ªä¸ºå­ç±»(æ´¾çç±»),ä¸ä¸ªä¸ºç¶ç±»(åºç±»)ãå­ç±»ç»§æ¿ç¶ç±»ï¼ä½¿ç¨å³é®å­extendsæ¥è¡¨ç¤ºã\n    \n    public class student extends Person{\n    }\n    \n    \n    1\n    2\n    \n\n 3. å­ç±»åç¶ç±»ä¹é´ï¼ä»æä¹ä¸è®²åºè¯¥å·æ"is a"çå³ç³»ã\n    \n    > student is a person\n    > \n    > dog is a animal\n\n 4. ç±»åç±»ä¹é´çç»§æ¿æ¯åç»§æ¿\n    \n    ä¸ä¸ªå­ç±»åªè½"ç´æ¥"ç»§æ¿ä¸ä¸ªç¶ç±»,å°±åæ¯ä¸ä¸ªäººåªè½æä¸ä¸ªäº²çç¶äº² ä¸ä¸ªç¶ç±»å¯ä»¥è¢«å¤å­ç±»ç»§æ¿,å°±åä¸ä¸ªç¶äº²å¯ä»¥æå¤ä¸ªå­©å­\n    \n    æ³¨:javaä¸­æ¥å£åæ¥å£ä¹é´,æå¯ä»¥ç»§æ¿,å¹¶ä¸æ¯å¤ç»§æ¿ã\n\n 5. ç¶ç±»ä¸­çå±æ§åæ¹æ³å¯ä»¥è¢«å­ç±»ç»§æ¿\n    \n    å­ç±»ä¸­ç»§æ¿äºç¶ç±»ä¸­çå±æ§åæ¹æ³å,å¨å­ç±»ä¸­è½ä¸è½ç´æ¥ä½¿ç¨è¿äºå±æ§åæ¹æ³,æ¯åè¿äºå±æ§åæ¹æ³åæ çä¿®é¥°ç¬¦(public protected default private)ç¸å³çã\n    \n    ä¾å¦ï¼\n    \n    ç¶ç±»ä¸­çå±æ§åæ¹æ³ä½¿ç¨publicä¿®é¥°ï¼å¨å­ç±»ä¸­ç»§æ¿å"å¯ä»¥ç´æ¥"ä½¿ç¨ ç¶ç±»ä¸­çå±æ§åæ¹æ³ä½¿ç¨privateä¿®é¥°ï¼å¨å­ç±»ä¸­ç»§æ¿å"ä¸å¯ä»¥ç´æ¥"ä½¿ç¨\n    \n    æ³¨ï¼å·ä½ç»åå¨ä¿®é¥°ç¬¦é¨åè¯¦ç»è¯´æ\n    \n    ç¶ç±»ä¸­çæé å¨æ¯ä¸è½è¢«å­ç±»ç»§æ¿çï¼ä½æ¯å­ç±»çæé å¨ä¸­ï¼ä¼éå¼çè°ç¨ç¶ç±»ä¸­çæ åæé å¨ï¼é»è®¤ä½¿ç¨ superå³é®å­ï¼ã\n    \n    æ³¨:å·ä½ç»èå¨superå³é®å­é¨åè¯¦ç»è¯´æ\n\n\n# 2ãObjectç±»\n\njavaä¸­çæ¯ä¸ä¸ªç±»é½æ¯"ç´æ¥" æè "é´æ¥"çç»§æ¿äºObjectç±»ãæä»¥æ¯ä¸ä¸ªå¯¹è±¡é½åObjectç±»æ"is a"çå³ç³»ãä»APIææ¡£ä¸­ï¼å¯ä»¥çå°ä»»ä½ä¸ä¸ªç±»æä¸å±çç¶ç±»é½æ¯Objectã(Objectç±»æ¬èº«é¤å¤)AnyClass is a Objectã\n\n> System.out.println(ä»»ä½å¯¹è±¡ instanceof Object);\n> \n> è¾åºç»æ:true æ³¨:ä»»ä½å¯¹è±¡ä¹åå«æ°ç»å¯¹è±¡\n\nä¾å¦:\n\n//ç¼è¯å,Personç±»ä¼é»è®¤ç»§æ¿Object\npublic class Person{}\n\n//Studentæ¯é´æ¥çç»§æ¿äºObject\npublic class Student extends Person{}\n\n\n1\n2\n3\n4\n5\n\n\nå¨Objectç±»ä¸­ï¼æä¾äºä¸äºæ¹æ³è¢«å­ç±»ç»§æ¿ï¼é£ä¹å°±æå³çï¼å¨javaä¸­ï¼ä»»ä½ä¸ä¸ªå¯¹è±¡é½å¯ä»¥è°ç¨è¿äºè¢«ç»§æ¿è¿æ¥çæ¹æ³ã(å ä¸ºObjectæ¯æä»¥ç±»çç¶ç±»)\n\nä¾å¦ï¼toStringæ¹æ³ãequalsæ¹æ³ãgetClassæ¹æ³ç­\n\n\n# 3ãSuperå³é®å­\n\nå­ç±»ç»§æ¿ç¶ç±»ä¹åï¼å¨å­ç±»ä¸­å¯ä»¥ä½¿ç¨thisæ¥è¡¨ç¤ºè®¿é®æè°ç¨å­ç±»ä¸­çå±æ§ææ¹æ³ï¼ä½¿ç¨superå°±è¡¨ç¤ºè®¿é®æè°ç¨ç¶ç±»ä¸­çå±æ§åæ¹æ³ã\n\n1ãsuperçä½¿ç¨\n\nãè®¿é®ç¶ç±»ä¸­çå±æ§ã\n\npublic class Person{\n    protected String name = "zs";\n}\n\n\n1\n2\n3\n\n\npublic class Student extends Person{\n    private String name = "lisi";\n    public void tes(String name){\n        System.out.println(name);\n        System.out.println(this.name);\n        System.out.println(super.name);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nãè°ç¨ç¶ç±»ä¸­çæ¹æ³ã\n\npublic class Person{\n    public void print(){\n        System.out.println("Person");\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n\n\npublic class Student extends Person{\n    public void print(){\n        System.out.println("Student");\n    }\n    public void test(){\n        print();\n        this.print();\n        super.print();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nãè°ç¨ç¶ç±»ä¸­çæé å¨ã\n\npublic class Person{\n}\n\npublic class Student extends Person{\n    //ç¼è¯éè¿,å­ç±»æé å¨ä¸­ä¼éå¼çè°ç¨ç¶ç±»çæ åæé å¨\n    //super();\n    public Student(){\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nç¶ç±»æ²¡ææ åæé \n\npublic class Person{\n    protected String name;\n    public Person(String name){\n        this.name = name;\n    }\n}\npublic class Student extends Person{\n    //ç¼è¯æ¥é,å­ç±»æé å¨ä¸­ä¼éå¼çè°ç¨ç¶ç±»çæ åæé å¨,ä½æ¯ç¶ç±»ä¸­æ²¡ææ åæé å¨\n    //super();\n    public Student(){\n        \n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nãæ¾å¼çè°ç¨ç¶ç±»çæåæé å¨ã\n\npublic class Person{\n    protected String name;\n    public Person(String name){\n    this.name = name;\n\t}\n}\n\npublic class Student extends Person{\n    //ç¼è¯éè¿,å­ç±»æé å¨ä¸­æ¾å¼çè°ç¨ç¶ç±»çæåæé å¨\n    public Student(){\n        super("tom");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\næ³¨ï¼ä¸ç®¡æ¯æ¾å¼è¿æ¯éå¼çç¶ç±»çæé å¨ï¼superè¯­å¥ä¸å®è¦åºç°å¨å­ç±»æé å¨ä¸­ç¬¬ä¸è¡ä»£ç ãæä»¥thiså superä¸å¯è½åæ¶ä½¿ç¨å®ä»¬è°ç¨æé å¨çåè½ï¼å ä¸ºå®ä»¬é½è¦åºç°å¨ç¬¬ä¸è¡ä»£ç ä½ç½®ã\n\nãä¾å­ã\n\npublic class Person{\n    protected String name;\n    public Person(String name){\n        this.name = name;\n    }\n}\n\npublic class Student extends Person{\n    //ç¼è¯æ¥é,superè°ç¨æé å¨çè¯­å¥ä¸æ¯ç¬¬ä¸è¡ä»£ç \n    public Student(){\n        System.out.println("Student");\n        super("tom");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nãä¾å­ã\n\npublic class Person{\n    protected String name;\n    public Person(String name){\n        this.name = name;\n    }\n}\n//ç¼è¯éè¿\npublic class Student extends Person{\n    private int age;\n    public Student(){\n        this(20);\n    }\n    public Student(int age){\n        super("tom");\n        this.age = age;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\nsuperä½¿ç¨çæ³¨æçå°æ¹\n\n * ç¨superè°ç¨ç¶ç±»æé æ¹æ³ï¼å¿é¡»æ¯æé æ¹æ³ä¸­çç¬¬ä¸ä¸ªè¯­å¥ã\n * superåªè½åºç°å¨å­ç±»çæ¹æ³æèæé æ¹æ³ä¸­\n * super å this ä¸è½å¤åæ¶è°ç¨æé æ¹æ³ãï¼å ä¸ºthisä¹æ¯å¨æé æ¹æ³çç¬¬ä¸ä¸ªè¯­å¥ï¼\n\nsuper å this çåºå«\n\n 1. ä»£è¡¨çäºç©ä¸ä¸æ ·ï¼\n    \n    thisï¼ä»£è¡¨æå±æ¹æ³çè°ç¨èå¯¹è±¡ã\n    \n    superï¼ä»£è¡¨ç¶ç±»å¯¹è±¡çå¼ç¨ç©ºé´ã\n\n 2. ä½¿ç¨åæä¸ä¸è´ï¼\n    \n    thisï¼å¨éç»§æ¿çæ¡ä»¶ä¸ä¹å¯ä»¥ä½¿ç¨ã\n    \n    superï¼åªè½å¨ç»§æ¿çæ¡ä»¶ä¸æè½ä½¿ç¨ã\n\n 3. è°ç¨æé æ¹æ³ï¼\n    \n    thisï¼è°ç¨æ¬ç±»çæé æ¹æ³ã\n    \n    superï¼è°ç¨çç¶ç±»çæé æ¹æ³\n\n\n# 4ãæ¹æ³éå\n\næ¹æ³çéåï¼overrideï¼\n\n * æ¹æ³éååªå­å¨äºå­ç±»åç¶ç±»(åæ¬ç´æ¥ç¶ç±»åé´æ¥ç¶ç±»)ä¹é´ãå¨åä¸ä¸ªç±»ä¸­æ¹æ³åªè½è¢«éè½½ï¼ä¸è½è¢«éå\n * éææ¹æ³ä¸è½éå\n   1. ç¶ç±»çéææ¹æ³ä¸è½è¢«å­ç±»éåä¸ºééææ¹æ³ //ç¼è¯åºé\n   2. ç¶ç±»çééææ¹æ³ä¸è½è¢«å­ç±»éåä¸ºéææ¹æ³ï¼//ç¼è¯åºé\n   3. å­ç±»å¯ä»¥å®ä¹ä¸ç¶ç±»çéææ¹æ³ååçéææ¹æ³(ä½æ¯è¿ä¸ªä¸æ¯è¦ç)\n\nãä¾å­ã\n\n> Aç±»ç»§æ¿Bç±» AåBä¸­é½ä¸ä¸ªç¸åçéææ¹æ³test\n> \n> B a = new A(); a.test();//è°ç¨å°çæ¯Bç±»ä¸­çéææ¹æ³test\n> \n> A a = new A(); a.test();//è°ç¨å°çæ¯Aç±»ä¸­çéææ¹æ³test\n> \n> å¯ä»¥çåºéææ¹æ³çè°ç¨åªååéå£°æçç±»åç¸å³ è¿ä¸ªåééææ¹æ³çéåä¹åçææå®å¨ä¸å\n\nç§ææ¹æ³ä¸è½è¢«å­ç±»éåï¼å­ç±»ç»§æ¿ç¶ç±»å,æ¯ä¸è½ç´æ¥è®¿é®ç¶ç±»ä¸­çç§ææ¹æ³ç,é£ä¹å°±æ´è°ä¸ä¸éåäº\n\npublic class Person{\n    private void run(){}\n    \n}\n\n//ç¼è¯éè¿,ä½è¿ä¸æ¯éå,åªæ¯ä¿©ä¸ªç±»ä¸­åå«æèªå·±çç§ææ¹æ³\npublic class Student extends Person{\n    private void run(){}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\néåçè¯­æ³\n\n 1. æ¹æ³åå¿é¡»ç¸å\n\n 2. åæ°åè¡¨å¿é¡»ç¸å\n\n 3. è®¿é®æ§å¶ä¿®é¥°ç¬¦å¯ä»¥è¢«æ©å¤§ï¼ä½æ¯ä¸è½è¢«ç¼©å°ï¼ public protected default private\n\n 4. æåºå¼å¸¸ç±»åçèå´å¯ä»¥è¢«ç¼©å°,ä½æ¯ä¸è½è¢«æ©å¤§\n    \n    ClassNotFoundException ---\x3e Exceptionï¼ä¸è½æ©å¤§ï¼\n\n 5. è¿åç±»åå¯ä»¥ç¸åï¼ä¹å¯ä»¥ä¸åã\n    \n    å¦æä¸åçè¯ï¼å­ç±»éååçæ¹æ³è¿åç±»åå¿é¡»æ¯ç¶ç±»æ¹æ³è¿åç±»åçå­ç±»åã\n    \n    ä¾å¦ï¼ç¶ç±»æ¹æ³çè¿åç±»åæ¯Personï¼å­ç±»éååçè¿åç±»å¯ä»¥æ¯Personä¹å¯ä»¥æ¯Personçå­ç±»å\n\næ³¨ï¼ä¸è¬æåµä¸ï¼éåçæ¹æ³ä¼åç¶ç±»ä¸­çæ¹æ³çå£°æå®å¨ä¿æä¸è´ï¼åªææ¹æ³çå®ç°ä¸åã(ä¹å°±æ¯å¤§æ¬å·ä¸­ä»£ç ä¸ä¸æ ·)\n\npublic class Person{\n    public void run(){}\n    protected Object test()throws Exception{\n        return null;\n    }\n}\n\n//ç¼è¯éè¿,å­ç±»ç»§æ¿ç¶ç±»,éåäºrunåtestæ¹æ³.\npublic class Student extends Person{\n    public void run(){}\n    public String test(){\n        return "";\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nä¸ºä»ä¹è¦éåï¼\n\nå­ç±»ç»§æ¿ç¶ç±»ï¼ç»§æ¿äºç¶ç±»ä¸­çæ¹æ³ï¼ä½æ¯ç¶ç±»ä¸­çæ¹æ³å¹¶ä¸ä¸å®è½æ»¡è¶³å­ç±»ä¸­çåè½éè¦ï¼æä»¥å­ç±»ä¸­éè¦ææ¹æ³è¿è¡éåã\n\næ»ç»ï¼\n\n 1. æ¹æ³éåçæ¶åï¼å¿é¡»å­å¨ç»§æ¿å³ç³»ã\n 2. æ¹æ³éåçæ¶åï¼æ¹æ³ååå½¢å¼åæ°å¿é¡»è·ç¶ç±»æ¯ä¸è´çã\n 3. æ¹æ³éåçæ¶åï¼å­ç±»çæéä¿®é¥°ç¬¦å¿é¡»è¦å¤§äºæèç­äºç¶ç±»çæéä¿®é¥°ç¬¦ã( private < protected < publicï¼friendly < public )\n 4. æ¹æ³éåçæ¶åï¼å­ç±»çè¿åå¼ç±»åå¿é¡»å°äºæèç­äºç¶ç±»çè¿åå¼ç±»åã( å­ç±» < ç¶ç±» ) æ°æ®ç±»åæ²¡ææç¡®çä¸ä¸çº§å³ç³»\n 5. æ¹æ³éåçæ¶åï¼å­ç±»çå¼å¸¸ç±»åè¦å°äºæèç­äºç¶ç±»çå¼å¸¸ç±»åã\n\n\n# å¤æ\n\n\n# 1ãè®¤è¯å¤æ\n\nå¤ææ§æ¯OOPä¸­çä¸ä¸ªéè¦ç¹æ§ï¼ä¸»è¦æ¯ç¨æ¥å®ç°å¨æèç¼çï¼æ¢å¥è¯è¯´ï¼å°±æ¯ç¨åºçæç»ç¶æåªæå¨æ§è¡è¿ç¨ä¸­æè¢«å³å®èéå¨ç¼è¯æé´å°±å³å®äºãè¿å¯¹äºå¤§åç³»ç»æ¥è¯´è½æé«ç³»ç»ççµæ´»æ§åæ©å±æ§ã\n\nå¤æå¯ä»¥è®©æä»¬ä¸ç¨å³å¿æä¸ªå¯¹è±¡å°åºæ¯ä»ä¹å·ä½ç±»åï¼å°±å¯ä»¥ä½¿ç¨è¯¥å¯¹è±¡çæäºæ¹æ³ï¼ä»èå®ç°æ´å çµæ´»çç¼ç¨ï¼æé«ç³»ç»çå¯æ©å±æ§ã\n\nåè®¸ä¸åç±»çå¯¹è±¡å¯¹åä¸æ¶æ¯ååºååºãå³åä¸æ¶æ¯å¯ä»¥æ ¹æ®åéå¯¹è±¡çä¸åèéç¨å¤ç§ä¸åçè¡ä¸ºæ¹å¼ã\n\nç¸åç±»åçä¸åå¯¹è±¡,è°ç¨ç¸åçæ¹æ³,æ§è¡ç»ææ¯ä¸åç\n\n 1. ä¸ä¸ªå¯¹è±¡çå®éç±»åæ¯ç¡®å®ç\n    \n    ä¾å¦: new Student(); new Person();ç­\n\n 2. å¯ä»¥æåå¯¹è±¡çå¼ç¨çç±»åæå¾å¤\n    \n    ä¸ä¸ªå¯¹è±¡çå®ç°ç±»åè½ç¶æ¯ç¡®å®çï¼ä½æ¯è¿ä¸ªå¯¹è±¡æå±çç±»åå¯è½æå¾å¤ç§ã\n    \n    ä¾å¦ï¼Studentç»§æ¿äºPersonç±»\n    \n    Student s1 = new Student();\n    Person s2 = new Student();\n    Object s3 = new Student();\n    \n    \n    1\n    2\n    3\n    \n    \n    å ä¸ºPersonåObjecté½æ¯Studentçç¶ç±»å\n    \n    \n\næ³¨ï¼ä¸ä¸ªå¯¹è±¡çå®éç±»åæ¯ç¡®å®ï¼ä½æ¯å¯ä»¥æåè¿ä¸ªå¯¹è±¡çå¼ç¨çç±»åï¼å´æ¯å¯ä»¥æ¯è¿å¯¹è±¡å®éç±»åçä»»æç¶ç±»åã\n\nä¸ä¸ªç¶ç±»å¼ç¨å¯ä»¥æåå®çä»»ä½ä¸ä¸ªå­ç±»å¯¹è±¡\n\nä¾å¦ï¼\n\nObject o = new AnyClass();\nPerson p = null;\np = new Student();\np = new Teacher();\np = new Person();\n\n\n1\n2\n3\n4\n5\n\n\nå¤æä¸­çæ¹æ³è°ç¨\n\npublic class Person{\n    public void run(){}\n}\n\npublic class Student extends Person{\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nè°ç¨å°çrunæ¹æ³,æ¯Studentä»Personç»§æ¿è¿æ¥çrunæ¹æ³\n\nPerson p = new Student();\np.run();\n\n\n1\n2\n\n\nä¾å¦ï¼\n\npublic class Person{\n    public void run(){}\n}\n\npublic class Student extends Person{\n    public void run(){\n    //éårunæ¹æ³\n    }\n}\n\n//è°ç¨å°çrunæ¹æ³,æ¯Studentä¸­éåçrunæ¹æ³\npublic static void main(String[] args) {\n    Person p = new Student();\n    p.run();\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\næ³¨ï¼å­ç±»ç»§æ¿ç¶ç±»,è°ç¨aæ¹æ³ï¼å¦æaæ¹æ³å¨å­ç±»ä¸­æ²¡æéå,é£ä¹å°±æ¯è°ç¨çæ¯å­ç±»ç»§æ¿ç¶ç±»çaæ¹æ³, å¦æéåäº,é£ä¹è°ç¨çå°±æ¯éåä¹åçæ¹æ³ã\n\nå­ç±»ä¸­ç¬ææ¹æ³çè°ç¨\n\npublic class Person{\n    public void run(){}\n}\n\npublic class Student extends Person{\n    public void test(){\n    }\n}\n\nmain:\nPerson p = new Student();\n//è°ç¨å°ç»§æ¿çrunæ¹æ³\np.run();\n\n//ç¼è¯æ¥é,å ä¸ºç¼è¯å¨æ£æ¥åépçç±»åæ¯Person,ä½æ¯å¨Personç±»ä¸­å¹¶æ²¡æåç°testæ¹æ³,æä»¥ç¼è¯æ¥é.\np.test();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\næ³¨ï¼ä¸ä¸ªåéxï¼è°ç¨ä¸ä¸ªæ¹æ³testï¼ç¼è¯å¨æ¯å¦è½è®©å¶ç¼è¯éè¿ï¼ä¸»è¦æ¯çå£°æåéxçç±»åä¸­ææ²¡æå®ä¹ testæ¹æ³ï¼å¦ææåç¼è¯éè¿ï¼å¦ææ²¡æåç¼è¯æ¥éãèä¸æ¯çxææåçå¯¹è±¡ä¸­ææ²¡ætestæ¹æ³ã\n\nåçï¼ç¼è¯çå·¦è¾¹ï¼è¿è¡ä¸ä¸å®çå³è¾¹ã\n\n> ç¼è¯çå·¦è¾¹çææï¼java ç¼è¯å¨å¨ç¼è¯çæ¶åä¼æ£æµå¼ç¨ç±»åä¸­å«ææå®çæåï¼å¦ææ²¡æå°±ä¼æ¥éã å­ç±»çæåæ¯ç¹æçï¼ç¶ç±»çæ²¡æçï¼æä»¥ä»æ¯æ¾ä¸å°çã\n> \n> æä»¥çå·¦è¾¹ï¼Person ä¸­æ²¡ætest()æ¹æ³ï¼äºæ¯ç¼è¯æ¥é\n\nå­ç±»å¼ç¨åç¶ç±»å¼ç¨æåå¯¹è±¡çåºå«\n\nStudent s = new Student();\nPerson p = new Student();\n\n\n1\n2\n\n\nåésè½è°ç¨çæ¹æ³æ¯Studentä¸­æçæ¹æ³(åæ¬ç»§æ¿è¿æ¥ç)ï¼åépè½è°ç¨çæ¹æ³æ¯Personä¸­æçæ¹æ³(åæ¬ç»§æ¿è¿æ¥ç)ã\n\nä½æ¯åépæ¯ç¶ç±»åçï¼pä¸ä»å¯ä»¥æåStudentå¯¹è±¡ï¼è¿å¯ä»¥æåTeacherç±»åå¯¹è±¡ç­ï¼ä½æ¯åésåªè½æ Studnetç±»åå¯¹è±¡ï¼åStudentå­ç±»åå¯¹è±¡ãåépè½æåå¯¹è±¡çèå´æ¯æ¯åéså¤§çã\n\nObjectç±»åçåéoï¼è½æåææå¯¹è±¡ï¼å®çèå´æå¤§ï¼ä½æ¯ä½¿ç¨åéoè½è°ç¨å°çæ¹æ³ä¹æ¯æå°çï¼åªè½è°ç¨å°Objectä¸­çå£°æçæ¹æ³ï¼å ä¸ºåéoå£°æçç±»åå°±æ¯Objectã\n\næ³¨ï¼javaä¸­çæ¹æ³è°ç¨,æ¯è¿è¡æ¶å¨æåå¯¹è±¡ç»å®ç,ä¸å°è¿è¡çæ¶å,æ¯ä¸ç¥éå°åºåªä¸ªæ¹æ³è¢«è°ç¨çã\n\nå¤æçå¥½å¤ä¸å¼ç«¯\n\n * å¥½å¤ï¼æé«äºç¨åºçæå±æ§\n   \n   å·ä½è¡¨ç°ï¼å®ä¹æ¹æ³çæ¶åï¼ä½¿ç¨ç¶ç±»åä½ä¸ºåæ°ï¼å°æ¥å¨ä½¿ç¨çæ¶åï¼ä½¿ç¨å·ä½çå­ç±»ååä¸æä½\n\n * å¼ç«¯ï¼ä¸è½ä½¿ç¨å­ç±»çç¹æåè½\n\n\n# 2ãéåãéè½½åå¤æçå³ç³»\n\néè½½æ¯ç¼è¯æ¶å¤æ\n\n> è°ç¨éè½½çæ¹æ³,å¨ç¼è¯æé´å°±è¦ç¡®å®è°ç¨çæ¹æ³æ¯è°,å¦æä¸è½ç¡®å®åç¼è¯æ¥é\n\néåæ¯è¿è¡æ¶å¤æ\n\n> è°ç¨éåçæ¹æ³ï¼å¨è¿è¡æé´æè½ç¡®å®è¿ä¸ªæ¹æ³å°åºæ¯åªä¸ªå¯¹è±¡ä¸­çãè¿ä¸ªåå³äºè°ç¨æ¹æ³çå¼ç¨ï¼å¨è¿è¡ æé´ææåçå¯¹è±¡æ¯è°ï¼è¿ä¸ªå¼ç¨æååªä¸ªå¯¹è±¡é£ä¹è°ç¨çå°±æ¯åªä¸ªå¯¹è±¡ä¸­çæ¹æ³ã(javaä¸­çæ¹æ³è°ç¨ï¼æ¯è¿è¡æ¶å¨æåå¯¹è±¡ç»å®ç)\n\n\n# 3ãå¤æçæ³¨æäºé¡¹\n\n 1. å¤ææ¯æ¹æ³çå¤æï¼å±æ§æ²¡æå¤ææ§ã\n 2. ç¼åç¨åºæ¶ï¼å¦ææ³è°ç¨è¿è¡æ¶ç±»åçæ¹æ³ï¼åªè½è¿è¡ç±»åè½¬æ¢ãä¸ç¶éä¸è¿ç¼è¯å¨çæ£æ¥ãä½æ¯å¦æä¸¤ä¸ªæ²¡æå³èçç±»è¿è¡å¼ºå¶è½¬æ¢ï¼ä¼æ¥ï¼ClassCastExceptionã æ¯å¦ï¼æ¬æ¥æ¯çï¼ææå®è½¬æç«ãå°±ä¼æ¥è¿ä¸ªå¼å¸¸ã\n 3. å¤æçå­å¨è¦æ3ä¸ªå¿è¦æ¡ä»¶ï¼è¦æç»§æ¿ï¼è¦ææ¹æ³éåï¼ç¶ç±»å¼ç¨æåå­ç±»å¯¹è±¡\n\n\n# 4ãå¤æå­å¨çæ¡ä»¶\n\n * æç»§æ¿å³ç³»\n * å­ç±»éåç¶ç±»æ¹æ³\n * ç¶ç±»å¼ç¨æåå­ç±»å¯¹è±¡\n\nè¡¥åä¸ä¸ç¬¬äºç¹ï¼æ¢ç¶å¤æå­å¨å¿é¡»è¦æâå­ç±»éåç¶ç±»æ¹æ³âè¿ä¸æ¡ä»¶ï¼é£ä¹ä»¥ä¸ä¸ç§ç±»åçæ¹æ³æ¯æ²¡æåæ³è¡¨ç°åºå¤æç¹æ§çï¼å ä¸ºä¸è½è¢«éåï¼ï¼\n\n 1. staticæ¹æ³ï¼å ä¸ºè¢«staticä¿®é¥°çæ¹æ³æ¯å±äºç±»çï¼èä¸æ¯å±äºå®ä¾ç\n 2. finalæ¹æ³ï¼å ä¸ºè¢«finalä¿®é¥°çæ¹æ³æ æ³è¢«å­ç±»éå\n 3. privateæ¹æ³åprotectedæ¹æ³ï¼åèæ¯å ä¸ºè¢«privateä¿®é¥°çæ¹æ³å¯¹å­ç±»ä¸å¯è§ï¼åèæ¯å ä¸ºå°½ç®¡è¢« protectedä¿®é¥°çæ¹æ³å¯ä»¥è¢«å­ç±»è§å°ï¼ä¹å¯ä»¥è¢«å­ç±»éåï¼ä½æ¯å®æ¯æ æ³è¢«å¤é¨æå¼ç¨çï¼ä¸ä¸ªä¸è½è¢«å¤é¨å¼ç¨çæ¹æ³ï¼æä¹è½è°å¤æå¢\n\n\n# 5ãæ¹æ³ç»å®(method binding)\n\næ§è¡è°ç¨æ¹æ³æ¶ï¼ç³»ç»æ ¹æ®ç¸å³ä¿¡æ¯ï¼è½å¤æ§è¡åå­å°åä¸­ä»£è¡¨è¯¥æ¹æ³çä»£ç ãåä¸ºéæç»å®åå¨æç»å®ã\n\néæç»å®ï¼\n\nå¨ç¼è¯æå®æï¼å¯ä»¥æé«ä»£ç æ§è¡éåº¦ã\n\nå¨æç»å®ï¼\n\néè¿å¯¹è±¡è°ç¨çæ¹æ³ï¼éç¨å¨æç»å®æºå¶ãè¿è½ç¶è®©æä»¬ç¼ç¨çµæ´»ï¼ä½æ¯éä½äºä»£ç çæ§è¡éåº¦ãè¿ä¹æ¯JAVAæ¯C/C++éåº¦æ¢çä¸»è¦å ç´ ä¹ä¸ãJAVAä¸­é¤äºfinalç±»ãfinalæ¹ãstaticæ¹æ³ï¼æææ¹æ³é½æ¯JVMå¨è¿è¡ææè¿è¡å¨æç»å®çã\n\nå¤æï¼å¦æç¼è¯æ¶ç±»ååè¿è¡æ¶ç±»åä¸ä¸è´ï¼å°±ä¼é æå¤æã\n\n\n# 6ãinstanceofåç±»åè½¬æ¢\n\n1ãinstanceof\n\nä¸ä¸ªä¸åjavaæä»¶\n\npublic class Person{\n    public void run(){}\n}\n\npublic class Student extends Person{\n}\n\npublic class Teacher extends Person{\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nmainï¼æ¹æ³ä¸\n\nObject o = new Student();\nSystem.out.println(o instanceof Student);//true\nSystem.out.println(o instanceof Person);//true\nSystem.out.println(o instanceof Object);//true\nSystem.out.println(o instanceof Teacher);//false\nSystem.out.println(o instanceof String);//false\n\n\n1\n2\n3\n4\n5\n6\n\n\nPerson o = new Student();\nSystem.out.println(o instanceof Student);//true\nSystem.out.println(o instanceof Person);//true\nSystem.out.println(o instanceof Object);//true\nSystem.out.println(o instanceof Teacher);//false\n//ç¼è¯æ¥é\nSystem.out.println(o instanceof String);\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nStudent o = new Student();\nSystem.out.println(o instanceof Student);//true\nSystem.out.println(o instanceof Person);//true\nSystem.out.println(o instanceof Object);//true\n//ç¼è¯æ¥é\nSystem.out.println(o instanceof Teacher);\n//ç¼è¯æ¥é\nSystem.out.println(o instanceof String);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n> System.out.println(x instanceof Y);\n\nãåæ1ã\n\nè¯¥ä»£ç è½å¦ç¼è¯éè¿ï¼ä¸»è¦æ¯çå£°æåéxçç±»ååYæ¯å¦å­å¨å­ç¶ç±»çå³ç³»ãæ"å­ç¶ç±»å³"ç³»å°±ç¼è¯éè¿ï¼æ²¡æå­ç¶ç±»å³ç³»å°±æ¯ç¼è¯æ¥éã\n\nä¹åå­¦ä¹ å°çæ¥å£ç±»ååè¿ä¸ªæ¯æç¹åºå«çã\n\nãåæ2ã\n\nè¾åºç»ææ¯trueè¿æ¯false,ä¸»è¦æ¯çåéxææåçå¯¹è±¡å®éç±»åæ¯ä¸æ¯Yç±»åç"å­ç±»å".\n\nObject o = new Person();\nSystem.out.println(o instanceof Student);//false\nSystem.out.println(o instanceof Person);//true\nSystem.out.println(o instanceof Object);//true\nSystem.out.println(o instanceof Teacher);//false\nSystem.out.println(o instanceof String);//false\n\n\n1\n2\n3\n4\n5\n6\n\n\n2ãç±»åè½¬æ¢\n\npublic class Person{\n    public void run(){}\n}\n\npublic class Student extends Person{\n    public void go(){}\n}\n\npublic class Teacher extends Person{\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nä¸ºä»ä¹è¦ç±»åè½¬æ¢\n\n//ç¼è¯æ¥é,å ä¸ºpå£°æçç±»åPersonä¸­æ²¡ægoæ¹æ³\nPerson p = new Student();\np.go();\n\n//éè¦æåépçç±»åè¿è¡è½¬æ¢\nPerson p = new Student();\nStudent s = (Student)p;\ns.go();\n\n//æè\n//æ³¨æè¿ç§å½¢å¼åé¢å¿é¡»è¦ä¿©ä¸ªå°æ¬å·\nPerson p = new Student();\n((Student)p).go();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nç±»åè½¬æ¢ä¸­çé®é¢\n\n//ç¼è¯éè¿ è¿è¡æ²¡é®é¢\nObject o = new Student();\nPerson p = (Person)o;\n\n//ç¼è¯éè¿ è¿è¡æ²¡é®é¢\nObject o = new Student();\nStudent s = (Student)o;\n\n//ç¼è¯éè¿,è¿è¡æ¥é\nObject o = new Teacher();\nStudent s = (Student)o;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nå³: X x = (X)o;\n\nè¿è¡æ¯å¦æ¥éï¼ä¸»è¦æ¯åéoææåçå¯¹è±¡å®ç°ç±»åï¼æ¯ä¸æ¯Xç±»åçå­ç±»åï¼å¦æä¸æ¯åè¿è¡å°±ä¼æ¥éã\n\nãæ»ç»ã\n\n 1. ç¶ç±»å¼ç¨å¯ä»¥æåå­ç±»å¯¹è±¡ï¼å­ç±»å¼ç¨ä¸è½æåç¶ç±»å¯¹è±¡ã\n\n 2. æå­ç±»å¯¹è±¡ç´æ¥èµç»ç¶ç±»å¼ç¨å«åä¸è½¬åï¼upcastingï¼ï¼ä¸ç¨å¼ºå¶è½¬åã\n    \n    å¦Father father = new Son();\n\n 3. ææåå­ç±»å¯¹è±¡çç¶ç±»å¼ç¨èµç»å­ç±»å¼ç¨å«åä¸è½¬åï¼downcastingï¼ï¼è¦å¼ºå¶è½¬åã\n    \n    å¦fatherå°±æ¯ä¸ä¸ªæåå­ç±»å¯¹è±¡çç¶ç±»å¼ç¨ï¼æfatherèµç»å­ç±»å¼ç¨son\n    \n    å³Son son =ï¼Sonï¼ fatherï¼\n    \n    å¶ä¸­fatheråé¢çï¼Sonï¼å¿é¡»æ·»å ï¼è¿è¡å¼ºå¶è½¬æ¢ã\n\n 4. upcasting ä¼ä¸¢å¤±å­ç±»ç¹æçæ¹æ³ï¼ä½æ¯å­ç±»overriding ç¶ç±»çæ¹æ³ï¼å­ç±»æ¹æ³ææ\n\n 5. åä¸è½¬åçä½ç¨ï¼åå°éå¤ä»£ç ï¼ç¶ç±»ä¸ºåæ°ï¼è°ææ¶ç¨å­ç±»ä½ä¸ºåæ°ï¼å°±æ¯å©ç¨äºåä¸è½¬åãè¿æ ·ä½¿ä»£ç åå¾ç®æ´ãä½ç°äºJAVAçæ½è±¡ç¼ç¨ææ³ã\n\n\n# ä¿®é¥°ç¬¦\n\n\n# 1ãstaticä¿®é¥°ç¬¦\n\n1ãstaticåé\n\nå¨ç±»ä¸­,ä½¿ç¨staticä¿®é¥°çæååé,å°±æ¯éæåé,åä¹ä¸ºééæåéã\n\néæåéåééæåéçåºå«\n\néæåéå±äºç±»çï¼"å¯ä»¥"ä½¿ç¨ç±»åæ¥è®¿é®ï¼ééæåéæ¯å±äºå¯¹è±¡çï¼"å¿é¡»"ä½¿ç¨å¯¹è±¡æ¥è®¿é®ã\n\npublic class Student{\n    private static int age;\n    private double score;\n    public static void main(String[] args) {\n        Student s = new Student();\n        //æ¨èä½¿ç¨ç±»åè®¿é®éææå\n        System.out.println(Student.age);\n        System.out.println(s.age);\n        \n        System.out.println(s.score);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\néæåéå¯¹äºç±»èè¨å¨åå­ä¸­åªæä¸ä¸ªï¼è½è¢«ç±»çææå®ä¾æå±äº«ãå®ä¾åéå¯¹äºç±»çæ¯ä¸ªå®ä¾é½æä¸ä»½, å®ä»¬ä¹é´äºä¸å½±åãï¼å¨åºç¡è¯­æ³ä¸­ç²ç¥è§£éè¿éæåéï¼\n\npublic class Student {\n    private static int count;\n    private int num;\n\n    public Student() {\n        count++;\n        num++;\n    }\n\n    public static void main(String[] args) {\n        Student s1 = new Student();\n        Student s2 = new Student();\n        Student s3 = new Student();\n        Student s4 = new Student();\n        //å ä¸ºè¿æ¯å¨ç±»ä¸­,æä»¥å¯ä»¥ç´æ¥è®¿é®ç§æå±æ§\n        System.out.println(s1.num);//1\n        System.out.println(s2.num);\n        System.out.println(s3.num);\n        System.out.println(s4.num);\n        System.out.println(Student.count);\n        \n        System.out.println(s1.count);//4\n        System.out.println(s2.count);\n        System.out.println(s3.count);\n        System.out.println(s4.count);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\nå¨å è½½ç±»çè¿ç¨ä¸­ä¸ºéæåéåéåå­ï¼å®ä¾åéå¨åå»ºå¯¹è±¡æ¶åéåå­ï¼æä»¥éæåéå¯ä»¥ä½¿ç¨ç±»åæ¥ç´æ¥è®¿é®ï¼èä¸éè¦ä½¿ç¨å¯¹è±¡æ¥è®¿é®ã\n\n2ãstaticæ¹æ³\n\nå¨ç±»ä¸­ï¼ä½¿ç¨staticä¿®é¥°çæåæ¹æ³ï¼å°±æ¯éææ¹æ³ï¼åä¹ä¸ºééææ¹æ³ã\n\néææ¹æ³åééææ¹æ³çåºå«\n\n> éææ¹æ³æ°å±äºç±»çï¼"å¯ä»¥"ä½¿ç¨ç±»åæ¥è°ç¨ï¼ééææ¹æ³æ¯å±äºå¯¹è±¡çï¼"å¿é¡»"ä½¿ç¨å¯¹è±¡æ¥è°ç¨ã\n\néææ¹æ³"ä¸å¯ä»¥"ç´æ¥è®¿é®ç±»ä¸­çééæåéåééææ¹æ³ï¼ä½æ¯"å¯ä»¥"ç´æ¥è®¿é®ç±»ä¸­çéæåéåéææ¹æ³\n\næ³¨æï¼thisåsuperå¨ç±»ä¸­å±äºééæçåé.(éææ¹æ³ä¸­ä¸è½ä½¿ç¨)\n\npublic class Student {\n    private static int count;\n    private int num;\n    public void run(){}\n    public static void go(){}\n    public static void test(){\n        //ç¼è¯éè¿\n        System.out.println(count);\n        go();\n        \n        //ç¼è¯æ¥é\n        System.out.println(num);\n        run();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nééææ¹æ³"å¯ä»¥"ç´æ¥è®¿é®ç±»ä¸­çééæåéåééææ¹æ³ï¼ä¹"å¯ä»¥"ç´æ¥è®¿é®ç±»ä¸­çéæåéåéææ¹æ³\n\npublic class Student {\n    private static int count;\n    private int num;\n\n    public void run() {\n    }\n\n    public static void go() {\n    }\n    public void test() {\n        //ç¼è¯éè¿\n        System.out.println(count);\n        go();\n        //ç¼è¯éè¿\n        System.out.println(num);\n        run();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\næèï¼ä¸ºä»ä¹éææ¹æ³åééææ¹æ³ä¸è½ç´æ¥ç¸äºè®¿é®ï¼ å è½½é¡ºåºçé®é¢ï¼\n\nç¶ç±»çéææ¹æ³å¯ä»¥è¢«å­ç±»ç»§æ¿ï¼ä½æ¯ä¸è½è¢«å­ç±»éå\n\npublic class Person {\n    public static void method() {}\n}\n\n//ç¼è¯æ¥é\npublic class Student extends Person {\n    public void method(){}\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\npublic class Person {\n    public static void test() {\n        System.out.println("Person");\n    }\n}\n//ç¼è¯éè¿,ä½ä¸æ¯éå\npublic class Student extends Person {\n    public static void test(){\n        System.out.println("Student");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n//main:\nPerosn p = new Student();\np.test();//è¾åºPerson\np = new Person();\np.test();//è¾åºPerosn\n\n\n1\n2\n3\n4\n5\n\n\nç¶ç±»çééææ¹æ³ä¸è½è¢«å­ç±»éåä¸ºéææ¹æ³ ï¼\n\npublic class Person {\n    public void test() {\n        System.out.println("Person");\n    }\n}\n//ç¼è¯æ¥é\npublic class Student extends Person {\n    public static void test(){\n        System.out.println("Student");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n3ãä»£ç ååéæä»£ç å\n\nãç±»ä¸­å¯ä»¥ç¼åä»£ç ååéæä»£ç åã\n\npublic class Person {\n    {\n        //ä»£ç å(å¿åä»£ç å)\n    }\n    static{\n        //éæä»£ç å\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nãå¿åä»£ç ååéæä»£ç åçæ§è¡ã\n\nå ä¸ºæ²¡æåå­,å¨ç¨åºå¹¶ä¸è½ä¸»å¨è°ç¨è¿äºä»£ç åã\n\nå¿åä»£ç åæ¯å¨åå»ºå¯¹è±¡çæ¶åèªå¨æ§è¡çï¼å¹¶ä¸å¨æé å¨æ§è¡ä¹åï¼å¨éæä»£ç åä¹åãåæ¶å¿åä»£ç åå¨æ¯æ¬¡åå»ºå¯¹è±¡çæ¶åé½ä¼èªå¨æ§è¡ã\n\néæä»£ç åæ¯å¨ç±»å è½½å®æä¹åå°±èªå¨æ§è¡ï¼å¹¶ä¸åªæ§è¡ä¸æ¬¡ã\n\næ³¨ï¼æ¯ä¸ªç±»å¨ç¬¬ä¸æ¬¡è¢«ä½¿ç¨çæ¶åå°±ä¼è¢«å è½½ï¼å¹¶ä¸ä¸è¬åªä¼å è½½ä¸æ¬¡ã\n\npublic class Student {\n    {\n        System.out.println("å¿åä»£ç å");\n    }\n    \n    static{\n        System.out.println("éæä»£ç å");\n    }\n    \n    public Student(){\n        System.out.println("æé å¨");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n//main:\nStudent s1 = new Student();\nStudent s2 = new Student();\nStudent s3 = new Student();\n\n\n1\n2\n3\n4\n\n\nè¾åºï¼\n\n> éæä»£ç å å¿åä»£ç å æé å¨\n> \n> å¿åä»£ç å æé å¨\n> \n> å¿åä»£ç å æé å¨\n\nãå¿åä»£ç ååéæä»£ç åçä½ç¨ã\n\nå¿åä»£ç åçä½ç¨æ¯ç»å¯¹è±¡çæååéåå§åèµå¼ï¼ä½æ¯å ä¸ºæé å¨ä¹è½å®æè¿é¡¹å·¥ä½ï¼æä»¥å¿åä»£ç åä½¿ç¨çå¹¶ä¸å¤ã\n\néæä»£ç åçä½ç¨æ¯ç»ç±»ä¸­çéææååéåå§åèµå¼ã\n\npublic class Person {\n    public static String name;\n    static{\n        name = "tom";\n    }\n    public Person(){\n        name = "zs";\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n> main: System.out.println( Person.name ); //tom\n\næ³¨ï¼å¨æé å¨ä¸­ç»éæåéèµå¼ï¼å¹¶ä¸è½ä¿è¯è½èµå¼æåï¼å ä¸ºæé å¨æ¯å¨åå»ºå¯¹è±¡çæ¶åææåï¼ä½æ¯éæåéå¯ä»¥ä¸åå»ºå¯¹è±¡èç´æ¥ä½¿ç¨ç±»åæ¥è®¿é®ã\n\n4ãåå»ºååå§åå¯¹è±¡çè¿ç¨\n\nStudent s = new Student();\n\n\n1\n\n\nãStudentç±»ä¹åæ²¡æè¿è¡ç±»å è½½çè¿ç¨ã\n\n 1. ç±»å è½½ï¼åæ¶åå§åç±»ä¸­éæçå±æ§\n 2. æ§è¡éæä»£ç å\n 3. åéåå­ç©ºé´ï¼åæ¶åå§åééæçå±æ§(èµé»è®¤å¼,0/false/null)\n 4. è°ç¨Studentçç¶ç±»æé å¨\n 5. å¯¹Studentä¸­çå±æ§è¿è¡æ¾ç¤ºèµå¼(å¦ææçè¯)\n 6. æ§è¡å¿åä»£ç å\n 7. æ§è¡æé å¨\n 8. è¿ååå­å°å\n\næ³¨ï¼å­ç±»ä¸­ééæå±æ§çæ¾ç¤ºèµå¼æ¯å¨ç¶ç±»æé å¨æ§è¡å®ä¹ååå­ç±»ä¸­çå¿åä»£ç åæ§è¡ä¹åçæ¶å\n\npublic class Person{\n    private String name = "zs";\n    public Person() {\n        System.out.println("Personæé å¨");\n        print();\n    }\n    public void print(){\n        System.out.println("Person printæ¹æ³: name = "+name);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\npublic class Student extends Person{\n    private String name = "tom";\n    {\n        System.out.println("Studentå¿åä»£ç å");\n    }\n    static{\n        System.out.println("Studentéæä»£ç å");\n    }\n    public Student(){\n        System.out.println("Studentæé å¨");\n    }\n    public void print(){\n        System.out.println("student printæ¹æ³: name = "+name);\n    }\n    public static void main(String[] args) {\n        new Student();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nè¾åºï¼\n\n> Studentéæä»£ç å Personæé å¨ student printæ¹æ³: name = null Studentå¿åä»£ç å Studentæé å¨\n\nStudent s = new Student();\n//Studentç±»ä¹åå·²ç»è¿è¡äºç±»å è½½\n//1.åéåå­ç©ºé´,åæ¶åå§åééæçå±æ§(èµé»è®¤å¼,0/false/null)\n//2.è°ç¨Studentçç¶ç±»æé å¨\n//3.å¯¹Studentä¸­çå±æ§è¿è¡æ¾ç¤ºèµå¼(å¦ææçè¯)\n//4.æ§è¡å¿åä»£ç å\n//5.æ§è¡æé å¨\n//6.è¿ååå­å°å\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n5ãéæå¯¼å¥\n\néæå¯¼åå°±æ¯javaåçéæå¯¼å¥ï¼ç¨import staticä»£æ¿importéæå¯¼å¥åæ¯JDK1.5ä¸­çæ°ç¹æ§ã\n\næææ¯å¯¼å¥è¿ä¸ªç±»éçéææ¹æ³ã\n\nå¥½å¤ï¼è¿ç§æ¹æ³çå¥½å¤å°±æ¯å¯ä»¥ç®åä¸äºæä½ï¼ä¾å¦æå°æä½System.out.println(â¦);å°±å¯ä»¥å°å¶åå¥ä¸ ä¸ªéææ¹æ³print(â¦)ï¼å¨ä½¿ç¨æ¶ç´æ¥print(â¦)å°±å¯ä»¥äºãä½æ¯è¿ç§æ¹æ³å»ºè®®å¨æå¾å¤éå¤è°ç¨çæ¶åä½¿ç¨ï¼å¦æä»æä¸å°ä¸¤æ¬¡è°ç¨ï¼ä¸å¦ç´æ¥åæ¥çæ¹ä¾¿ã\n\nimport static java.lang.Math.random;\nimport static java.lang.Math.PI;\n\npublic class Test {\n    public static void main(String[] args) {\n        //ä¹åæ¯éè¦Math.random()è°ç¨ç\n        System.out.println(random());\n        System.out.println(PI);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# 2ãfinalä¿®é¥°ç¬¦\n\n1ãä¿®é¥°ç±»\n\nç¨finalä¿®é¥°çç±»ä¸è½è¢«ç»§æ¿ï¼æ²¡æå­ç±»\n\nä¾å¦ï¼æä»¬æ¯æ æ³åä¸ä¸ªç±»å»ç»§æ¿Stringç±»ï¼ç¶åå¯¹Stringç±»åæ©å±çãå ä¸ºAPIä¸­å·²ç»è¢«Stringç±»å®ä¹ä¸ºfinal\n\næä»¬ä¹å¯ä»¥å®ä¹finalä¿®é¥°çç±»:\n\npublic final class Action{\n    \n}\n\n//ç¼è¯æ¥é\npublic class Go extends Action{\n    \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n2ãä¿®é¥°æ¹æ³\n\nç¨finalä¿®é¥°çæ¹æ³å¯ä»¥è¢«ç»§æ¿ï¼ä½æ¯ä¸è½è¢«å­ç±»çéåã\n\nä¾å¦ï¼æ¯ä¸ªç±»é½æ¯Objectç±»çå­ç±»ï¼ç»§æ¿äºObjectä¸­çä¼å¤æ¹æ³ï¼å¨å­ç±»ä¸­å¯ä»¥éåtoStringæ¹æ³ãequalsæ¹æ³ç­ï¼ä½æ¯ä¸è½éågetClassæ¹æ³ãwaitæ¹æ³ç­ï¼å ä¸ºè¿äºæ¹æ³é½æ¯ä½¿ç¨fianlä¿®é¥°çã\n\næä»¬ä¹å¯ä»¥å®ä¹finalä¿®é¥°çæ¹æ³ï¼\n\npublic class Person{\n    public final void print(){}\n}\n\n//ç¼è¯æ¥é\npublic class Student extends Person{\n    public void print(){\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n3ãä¿®é¥°åé\n\nç¨finalä¿®é¥°çåéè¡¨ç¤ºå¸¸éï¼åªè½è¢«èµä¸æ¬¡å¼ãä½¿ç¨finalä¿®é¥°çåéä¹å°±æäºå¸¸éäºï¼å ä¸ºå¼ä¸ä¼ååäºã\n\nãä¿®é¥°å±é¨åéã\n\npublic class Person{\n    public void print(final int a){\n    //ç¼è¯æ¥é,ä¸è½åæ¬¡èµå¼,ä¼ åçæ¶åå·²ç»èµè¿äº\n    a = 1;\n    }\n}\n\npublic class Person{\n    public void print(){\n        final int a;\n        a = 1;\n        //ç¼è¯æ¥é,ä¸è½åæ¬¡èµå¼\n        a = 2;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nãä¿®é¥°æååé-ééææååéã\n\npublic class Person{\n    private final int a;\n}\n/*\nåªæä¸æ¬¡æºä¼,å¯ä»¥ç»æ­¤åéaèµå¼çä½ç½®:\nå£°æçåæ¶èµå¼\nå¿åä»£ç åä¸­èµå¼\næé å¨ä¸­èµå¼(ç±»ä¸­åºç°çæææé å¨é½è¦å)\n*/\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nãä¿®é¥°æååé-éææååéã\n\npublic class Person{\n    private static final int a;\n}\n/*\nåªæä¸æ¬¡æºä¼,å¯ä»¥ç»æ­¤åéaèµå¼çä½ç½®:\nå£°æçåæ¶èµå¼\néæä»£ç åä¸­èµå¼\n*/\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nãä¿®é¥°å¼ç¨å¯¹è±¡ã\n\nfinal Student s = new Student();\n//ç¼è¯éè¿\ns.setName("tom");\ns.setName("zs");\n\n//ç¼è¯æ¥é,ä¸è½ä¿®æ¹å¼ç¨sæåçåå­å°å\ns = new Student();\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 3ãabstractä¿®é¥°ç¬¦\n\nabstractä¿®é¥°ç¬¦å¯ä»¥ç¨æ¥ä¿®é¥°æ¹æ³ä¹å¯ä»¥ä¿®é¥°ç±»ï¼å¦æä¿®é¥°æ¹æ³ï¼é£ä¹è¯¥æ¹æ³å°±æ¯æ½è±¡æ¹æ³ãå¦æä¿®é¥°ç±»ï¼é£ä¹è¯¥ç±»å°±æ¯æ½è±¡ç±»ã\n\n1ãæ½è±¡ç±»åæ½è±¡æ¹æ³çå³ç³»\n\næ½è±¡ç±»ä¸­å¯ä»¥æ²¡ææ½è±¡æ¹æ³ï¼ä½æ¯ææ½è±¡æ¹æ³çç±»ä¸å®è¦å£°æä¸ºæ½è±¡ç±»ã\n\n2ãè¯­æ³\n\npublic abstract class Action{\n    public abstract void doSomething();\n}\n\npublic void doSomething(){...}\n\n\n1\n2\n3\n4\n5\n\n\nå¯¹äºè¿ä¸ªæ®éæ¹æ³æ¥è®²ï¼\n\n"public void doSomething()"è¿é¨åæ¯æ¹æ³çå£°æã "{...}"è¿é¨åæ¯æ¹æ³çå®ç°,å¦æå¤§æ¬å·ä¸­ä»ä¹é½æ²¡å,å°±å«æ¹æ³çç©ºå®ç°\n\nå£°æç±»çåæ¶ï¼å ä¸abstractä¿®é¥°ç¬¦å°±æ¯æ½è±¡ç±» å£°ææ¹æ³çæ¶åï¼å ä¸abstractä¿®é¥°ç¬¦ï¼å¹¶ä¸å»ææ¹æ³çå¤§å£å·ï¼åæ¶ç»å°¾å ä¸åå·ï¼è¯¥æ¹æ³å°±æ¯æ½è±¡æ¹æ³ã\n\n\n# 3ãç¹ç¹åä½ç¨\n\næ½è±¡ç±»ï¼ä¸è½ä½¿ç¨newå³é®å­æ¥åå»ºå¯¹è±¡ï¼å®æ¯ç¨æ¥è®©å­ç±»ç»§æ¿çã æ½è±¡æ¹æ³ï¼åªææ¹æ³çå£°æï¼æ²¡ææ¹æ³çå®ç°ï¼å®æ¯ç¨æ¥è®©å­ç±»å®ç°çã\n\næ³¨ï¼å­ç±»ç»§æ¿æ½è±¡ç±»åï¼éè¦å®ç°æ½è±¡ç±»ä¸­æ²¡æå®ç°çæ½è±¡æ¹æ³ï¼å¦åè¿ä¸ªå­ç±»ä¹è¦å£°æä¸ºæ½è±¡ç±»ã\n\npublic abstract class Action{\n    public abstract void doSomething();\n}\n\nmain:\n//ç¼è¯æ¥é,æ½è±¡ç±»ä¸è½newå¯¹è±¡\nAction a = new Action();\n\n//å­ç±»ç»§æ¿æ½è±¡ç±»\npublic class Eat extends Action{\n    //å®ç°ç¶ç±»ä¸­æ²¡æå®ç°çæ½è±¡æ¹æ³\n    public void doSomething(){\n        //code\n    }\n}\n\nmain:\nAction a = new Eat();\na.doSomething();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\næ³¨ï¼å­ç±»ç»§æ¿æ½è±¡ç±»ï¼é£ä¹å°±å¿é¡»è¦å®ç°æ½è±¡ç±»æ²¡æå®ç°çæ½è±¡æ¹æ³ï¼å¦åè¯¥å­ç±»ä¹è¦å£°æä¸ºæ½è±¡ç±»ã\n\n4ãæè\n\næè1 : æ½è±¡ç±»ä¸è½newå¯¹è±¡ï¼é£ä¹æ½è±¡ç±»ä¸­ææ²¡ææé å¨ï¼\n\n> æ½è±¡ç±»æ¯ä¸è½è¢«å®ä¾åï¼æ½è±¡ç±»çç®çå°±æ¯ä¸ºå®ç°å¤æä¸­çå±åç¹ï¼æ½è±¡ç±»çæé å¨ä¼å¨å­ç±»å®ä¾åæ¶è°ç¨ï¼å æ­¤å®ä¹æ¯ç¨æ¥å®ç°å¤æä¸­çå±åç¹æé ï¼ä¸å»ºè®®è¿æ ·ä½¿ç¨ï¼\n\næè2 : æ½è±¡ç±»åæ½è±¡æ¹æ³æä¹ï¼ä¸ºä»ä¹è¦ç¼åæ½è±¡ç±»ãæ½è±¡æ¹æ³ï¼\n\n> æä¸ªæ¯æ¹ï¼è¦åä¸ä¸ªæ¸¸æãå¦æè¦åå»ºä¸ä¸ªè§è²ï¼å¦æåå¤åå»ºç±»åæ¹æ³ä¼å¾ç¹çåéº»ç¦ãå»ºä¸ä¸ªæ½è±¡ç±» åãè¥è¦åå»ºè§è²å¯ç´æ¥ç»§æ¿æ½è±¡ç±»ä¸­çå­æ®µåæ¹æ³ï¼èæ½è±¡ç±»ä¸­åææ½è±¡æ¹æ³ãå¦æä¸ä¸ªè§è²æå¾å¤ç§ èä¸ï¼æ¯ä¸ªèä¸åæå¾å¤æè½ï¼è¦æ¯ä¾æ¬¡å®ä¾è¿äºæè½æ¹æ³ä¼æ¾å¾æ³å½ç¬¨æãå®ä¹æ½è±¡æ¹æ³ï¼å¨éè¦æ¶ç»§ æ¿åéåè°ç¨ï¼å¯ä»¥çå»å¾å¤ä»£ç ã\n> \n> æ»ä¹æ½è±¡ç±»åæ½è±¡æ¹æ³èµ·å°ä¸ä¸ªæ¡æ¶ä½ç¨ãå¾æ¹ä¾¿åæçè°ç¨åéå æ½è±¡æ¹æ³æ¯ä¸ºäºç¨åºçå¯æ©å±æ§ãéåæ½è±¡æ¹æ³æ¶å³å¯å®ç°ååæ¹æ³ä½åéåç®ççè¦æ±ã\n\n\n# æ¥å£\n\n\n# 1ãæ¥å£çæ¬è´¨\n\næ®éç±»ï¼åªæå·ä½å®ç° æ½è±¡ç±»ï¼å·ä½å®ç°åè§è(æ½è±¡æ¹æ³) é½æï¼ æ¥å£ï¼åªæè§èï¼\n\nä¸ºä»ä¹éè¦æ¥å£ï¼æ¥å£åæ½è±¡ç±»çåºå«ï¼\n\n * æ¥å£å°±æ¯æ¯âæ½è±¡ç±»âè¿âæ½è±¡âçâæ½è±¡ç±»âï¼å¯ä»¥æ´å è§èçå¯¹å­ç±»è¿è¡çº¦æãå¨é¢å°ä¸ä¸å°å®ç°äºï¼è§èåå·ä½å®ç°çåç¦»ã\n * æ½è±¡ç±»è¿æä¾æäºå·ä½å®ç°ï¼æ¥å£ä¸æä¾ä»»ä½å®ç°ï¼æ¥å£ä¸­æææ¹æ³é½æ¯æ½è±¡æ¹æ³ãæ¥å£æ¯å®å¨é¢åè§èçï¼è§å®äºä¸æ¹ç±»å·æçå¬å±æ¹æ³è§èã\n * ä»æ¥å£çå®ç°èè§åº¦çï¼æ¥å£å®ä¹äºå¯ä»¥åå¤é¨æä¾çæå¡ã\n * ä»æ¥å£çè°ç¨èè§åº¦çï¼æ¥å£å®ä¹äºå®ç°èè½æä¾é£äºæå¡ã\n * æ¥å£æ¯ä¸¤ä¸ªæ¨¡åä¹é´éä¿¡çæ åï¼éä¿¡çè§èãå¦æè½æä½ è¦è®¾è®¡çç³»ç»ä¹é´æ¨¡åä¹é´çæ¥å£å®ä¹å¥½ï¼å°±ç¸å½äºå®æäºç³»ç»çè®¾è®¡å¤§çº²ï¼å©ä¸çå°±æ¯æ·»ç å ç¦çå·ä½å®ç°äºãå¤§å®¶å¨å·¥ä½ä»¥åï¼åç³»ç»æ¶å¾å¾å°±æ¯ä½¿ç¨âé¢åæ¥å£âçææ³æ¥è®¾è®¡ç³»ç»ã\n\næ¥å£çæ¬è´¨æ¢è®¨\n\n * æ¥å£å°±æ¯è§èï¼å®ä¹çæ¯ä¸ç»è§åï¼ä½ç°äºç°å®ä¸çä¸­âå¦æä½ æ¯â¦åå¿é¡»è½â¦âçææ³ãå¦æä½ æ¯å¤©ä½¿ï¼åå¿é¡»è½é£ãå¦æä½ æ¯æ±½è½¦ï¼åå¿é¡»è½è·ã\n * æ¥å£çæ¬è´¨æ¯å¥çº¦ï¼å°±åæä»¬äººé´çæ³å¾ä¸æ ·ãå¶å®å¥½åå¤§å®¶é½éµå®ã\n * OOçç²¾é«ï¼æ¯å¯¹å¯¹è±¡çæ½è±¡ï¼æè½ä½ç°è¿ä¸ç¹çå°±æ¯æ¥å£ãä¸ºä»ä¹æä»¬è®¨è®ºè®¾è®¡æ¨¡å¼é½åªéå¯¹å·å¤äºæ½è±¡è½åçè¯­è¨ï¼æ¯å¦c++ãjavaãc#ç­ï¼ï¼å°±æ¯å ä¸ºè®¾è®¡æ¨¡å¼æç ç©¶çï¼å®éä¸å°±æ¯å¦ä½åççå»æ½è±¡ã\n\n\n# 2ãæ¥å£ä¸æ½è±¡ç±»çåºå«\n\næ½è±¡ç±»ä¹æ¯ç±»ï¼é¤äºå¯ä»¥åæ½è±¡æ¹æ³ä»¥åä¸è½ç´æ¥newå¯¹è±¡ä¹å¤ï¼å¶ä»çåæ®éç±»æ²¡æä»ä¹ä¸ä¸æ ·çãæ¥å£å·²ç»å¦ä¸ç§ç±»åäºï¼åç±»æ¯ææ¬è´¨çåºå«çï¼æä»¥ä¸è½ç¨ç±»çæ åå»è¡¡éæ¥å£ã\n\nå£°æç±»çå³é®å­æ¯classï¼å£°ææ¥å£çå³é®å­æ¯interfaceã\n\næ½è±¡ç±»æ¯ç¨æ¥è¢«ç»§æ¿çï¼javaä¸­çç±»æ¯åç»§æ¿ã\n\nç±»Aç»§æ¿äºæ½è±¡ç±»Bï¼é£ä¹ç±»Açå¯¹è±¡å°±å±äºBç±»åäºï¼å¯ä»¥ä½¿ç¨å¤æ ä¸ä¸ªç¶ç±»çå¼ç¨ï¼å¯ä»¥æåè¿ä¸ªç¶ç±»çä»»æå­ç±»å¯¹è±¡ æ³¨ï¼ç»§æ¿çå³é®å­æ¯extends\n\næ¥å£æ¯ç¨æ¥è¢«ç±»å®ç°çï¼javaä¸­çæ¥å£å¯ä»¥è¢«å¤å®ç°ã ç±»Aå®ç°æ¥å£BãCãDãE..ï¼é£ä¹ç±»Açå¯¹è±¡å°±å±äºBãCãDãEç­ç±»åäºï¼å¯ä»¥ä½¿ç¨å¤æ ä¸ä¸ªæ¥å£çå¼ç¨ï¼å¯ä»¥æåè¿ä¸ªæ¥å£çä»»æå®ç°ç±»å¯¹è±¡ æ³¨ï¼å®ç°çå³é®å­æ¯implements\n\n\n# 3ãæ¥å£ä¸­çæ¹æ³é½æ¯æ½è±¡æ¹æ³\n\næ¥å£ä¸­å¯ä»¥ä¸åä»»ä½æ¹æ³ï¼ä½å¦æåæ¹æ³äºï¼è¯¥æ¹æ³å¿é¡»æ¯æ½è±¡æ¹æ³\n\npublic interface Action{\n    public abstract void run();\n    \n    //é»è®¤å°±æ¯public abstractä¿®é¥°ç\n    void test();\n    public void go();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 4ãæ¥å£ä¸­çåéé½æ¯éæå¸¸é\n\npublic static finalä¿®é¥°\n\næ¥å£ä¸­å¯ä»¥ä¸åä»»ä½å±æ§ï¼ä½å¦æåå±æ§äºï¼è¯¥å±æ§å¿é¡»æ¯public static finalä¿®é¥°çéæå¸¸éã æ³¨ï¼å¯ä»¥ç´æ¥ä½¿ç¨æ¥å£åè®¿é®å¶å±æ§ãå ä¸ºæ¯public staticä¿®é¥°ç\n\næ³¨ï¼å£°æçåæ¶å°±å¿é¡»èµå¼(å ä¸ºæ¥å£ä¸­ä¸è½ç¼åéæä»£ç å)\n\npublic interface Action{\n    public static final String NAME = "tom";\n    //é»è®¤å°±æ¯public static finalä¿®é¥°ç\n    int AGE = 20;\n}\n\nmain:\nSystem.out.println(Action.NAME);\nSystem.out.println(Action.AGE);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 5ãä¸ä¸ªç±»å¯ä»¥å®ç°å¤ä¸ªæ¥å£\n\npublic class Student implements A,B,C,D{\n    //Studentéè¦å®ç°æ¥å£A B C Dä¸­ææçæ½è±¡æ¹æ³\n    //å¦åStudentç±»å°±è¦å£°æä¸ºæ½è±¡ç±»,å ä¸ºææ½è±¡æ¹æ³æ²¡å®ç°\n}\n\nmain:\nA s1 = new Student();\nB s2 = new Student();\nC s3 = new Student();\nD s4 = new Student();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\næ³¨ï¼ s1åªè½è°ç¨æ¥å£Aä¸­å£°æçæ¹æ³ä»¥åObjectä¸­çæ¹æ³ s2åªè½è°ç¨æ¥å£Bä¸­å£°æçæ¹æ³ä»¥åObjectä¸­çæ¹æ³ s3åªè½è°ç¨æ¥å£Cä¸­å£°æçæ¹æ³ä»¥åObjectä¸­çæ¹æ³ s4åªè½è°ç¨æ¥å£Dä¸­å£°æçæ¹æ³ä»¥åObjectä¸­çæ¹æ³\n\næ³¨ï¼å¿è¦æ¶å¯ä»¥ç±»åå¼ºå¶è½¬æ¢\n\nä¾å¦ : æ¥å£A ä¸­ætest() ï¼ æ¥å£B ä¸­ærun()\n\n\n# 6ãä¸ä¸ªæ¥å£å¯ä»¥ç»§æ¿å¤ä¸ªç¶æ¥å£\n\npublic interface A{\n    public void testA();\n}\n\npublic interface B{\n    public void testB();\n}\n\n//æ¥å£Cææ¥å£A Bä¸­çæ¹æ³é½ç»§æ¿è¿æ¥äº\npublic interface C extends A,B{\n    public void testC();\n}\n\n//Studentç¸å½äºå®ç°äºA B Cä¸ä¸ªæ¥å£,éè¦å®ç°ææçæ½è±¡æ¹æ³\n//Studentçå¯¹è±¡ä¹å°±åæ¶å±äºAç±»å Bç±»å Cç±»å\npublic class Student implements C{\n    public viod testA(){}\n    public viod testB(){}\n    public viod testC(){}\n}\n\nmain:\n\nC o = new Student();\nSystem.out.println(o instanceof A);//true\nSystem.out.println(o instanceof B);//true\nSystem.out.println(o instanceof C);//true\nSystem.out.println(o instanceof Student);//true\nSystem.out.println(o instanceof Object);//true\nSystem.out.println(o instanceof Teacher);//false\n\n//ç¼è¯æ¥é\nSystem.out.println(o instanceof String);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\næ³¨ï¼System.out.println(o instanceof X);\n\n> å¦æoæ¯ä¸ä¸ªæ¥å£ç±»åå£°æçåéï¼é£ä¹åªè¦Xä¸æ¯ä¸ä¸ªfinalä¿®é¥°çç±»ï¼è¯¥ä»£ç å°±è½éè¿ç¼è¯ï¼è³äºå¶ç»ææ¯ä¸æ¯trueï¼å°±è¦çåéoæåçå¯¹è±¡çå®éç±»åï¼æ¯ä¸æ¯Xçå­ç±»æèå®ç°ç±»äºã\n\næ³¨ï¼ä¸ä¸ªå¼ç¨ææåçå¯¹è±¡ï¼æ¯æå¯è½å®ç°ä»»ä½ä¸ä¸ªæ¥å£çã(javaä¸­çå¤å®ç°)\n\n\n# 7ãæ¥å£çä½ç¨\n\næ¥å£çæä¸»è¦çä½ç¨æ¯è¾¾å°ç»ä¸è®¿é®ï¼å°±æ¯å¨åå»ºå¯¹è±¡çæ¶åç¨æ¥å£åå»º\n\nãæ¥å£åã ãå¯¹è±¡åã= new ãå®ç°æ¥å£çç±»ã\n\nè¿æ ·ä½ åç¨åªä¸ªç±»çå¯¹è±¡å°±å¯ä»¥newåªä¸ªå¯¹è±¡äºï¼ä¸éè¦æ¹åæ¥çä»£ç ã\n\nåå¦æä»¬ä¸¤ä¸ªç±»ä¸­é½æä¸ªfunction()çæ¹æ³ï¼å¦ææç¨æ¥å£ï¼é£æ ·ænew a()ï¼å°±æ¯ç¨açæ¹æ³ï¼new b() å°±æ¯ç¨bçæ¹æ³ã\n\nè¿ä¸ªå°±å«ç»ä¸è®¿é®ï¼å ä¸ºä½ å®ç°è¿ä¸ªæ¥å£çç±»çæ¹æ³åç¸åï¼ä½æ¯å®ç°åå®¹ä¸å\n\næ»ç»ï¼\n\n 1. Javaæ¥å£ä¸­çæååéé»è®¤é½æ¯public,static,finalç±»åç(é½å¯çç¥)ï¼å¿é¡»è¢«æ¾ç¤ºåå§åï¼å³æ¥å£ä¸­çæååéä¸ºå¸¸é(å¤§å,åè¯ä¹é´ç¨"_"åé)\n 2. Javaæ¥å£ä¸­çæ¹æ³é»è®¤é½æ¯public,abstractç±»åç(é½å¯çç¥)ï¼æ²¡ææ¹æ³ä½,ä¸è½è¢«å®ä¾å\n 3. Javaæ¥å£ä¸­åªè½åå«public,static,finalç±»åçæååéåpublic,abstractç±»åçæåæ¹æ³\n 4. æ¥å£ä¸­æ²¡ææé æ¹æ³,ä¸è½è¢«å®ä¾å\n 5. ä¸ä¸ªæ¥å£ä¸è½å®ç°(implements)å¦ä¸ä¸ªæ¥å£,ä½å®å¯ä»¥ç»§æ¿å¤ä¸ªå¶å®çæ¥å£\n 6. Javaæ¥å£å¿é¡»éè¿ç±»æ¥å®ç°å®çæ½è±¡æ¹æ³\n 7. å½ç±»å®ç°äºæä¸ªJavaæ¥å£æ¶ï¼å®å¿é¡»å®ç°æ¥å£ä¸­çæææ½è±¡æ¹æ³ï¼å¦åè¿ä¸ªç±»å¿é¡»å£°æä¸ºæ½è±¡ç±»\n 8. ä¸åè®¸åå»ºæ¥å£çå®ä¾ï¼å®ä¾åï¼ï¼ä½åè®¸å®ä¹æ¥å£ç±»åçå¼ç¨åéï¼è¯¥å¼ç¨åéå¼ç¨å®ç°äºè¿ä¸ªæ¥å£çç±»çå®ä¾\n 9. ä¸ä¸ªç±»åªè½ç»§æ¿ä¸ä¸ªç´æ¥çç¶ç±»ï¼ä½å¯ä»¥å®ç°å¤ä¸ªæ¥å£ï¼é´æ¥çå®ç°äºå¤ç»§æ¿ã\n\ninterface SwimInterface{\n    void swim();\n}\n\nclass Fish{\n    int fins=4;\n}\n\nclass Duck {\n    int leg=2;\n    void egg(){};\n}\n\nclass Goldfish extends Fish implements SwimInterface {\n    @Override\n    public void swim() {\n        System.out.println("Goldfish can swim ");\n    }\n}\n\nclass SmallDuck extends Duck implements SwimInterface {\n    public void egg(){\n        System.out.println("SmallDuck can lay eggs ");\n    }\n    @Override\n    public void swim() {\n  \t  System.out.println("SmallDuck can swim ");\n    }\n}\n\npublic class InterfaceDemo {\n    public static void main(String[] args) {\n        Goldfish goldfish=new Goldfish();\n        goldfish.swim();\n        \n        SmallDuck smallDuck= new SmallDuck();\n        smallDuck.swim();\n        smallDuck.egg();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\n\n# åé¨ç±»\n\nä¸ä¸å°èï¼æä»¬å­¦ä¹ äºæ¥å£ï¼å¨ä»¥åçå·¥ä½ä¸­æ¥å£æ¯æä»¬ç»å¸¸è¦ç¢°å°çï¼æä»¥ä¸å®è¦å¤å»åé¡¾ãæ¥ä¸æ¥ä»ç»ä¸ä¸åé¨ç±»ãå¾å¤æ¶åæä»¬åå»ºç±»çå¯¹è±¡çæ¶åå¹¶ä¸éè¦ä½¿ç¨å¾å¤æ¬¡ï¼æ¯æ¬¡åªä½¿ç¨ä¸æ¬¡ï¼è¿ä¸ªæ¶åæä»¬å°±å¯ä»¥ä½¿ç¨åé¨ç±»äºã\n\n\n# 1ãåé¨ç±»æ¦è¿°\n\nåé¨ç±»å°±æ¯å¨ä¸ä¸ªç±»çåé¨å¨å®ä¹ä¸ä¸ªç±»ï¼æ¯å¦ï¼Aç±»ä¸­å®ä¹ä¸ä¸ªBç±»ï¼é£ä¹Bç±»ç¸å¯¹Aç±»æ¥è¯´å°±ç§°ä¸ºåé¨ç±»ï¼èAç±»ç¸å¯¹Bç±»æ¥è¯´å°±æ¯å¤é¨ç±»äºã\n\nåé¨ç±»ä¸æ¯å¨ä¸ä¸ªjavaæºæä»¶ä¸­ç¼åä¿©ä¸ªå¹³è¡çä¿©ä¸ªç±»ï¼èæ¯å¨ä¸ä¸ªç±»çåé¨åå®ä¹å¦å¤ä¸ä¸ªç±»ã æä»¬å¯ä»¥æå¤è¾¹çç±»ç§°ä¸ºå¤é¨ç±»ï¼å¨å¶åé¨ç¼åçç±»ç§°ä¸ºåé¨ç±»ã\n\nåé¨ç±»åä¸ºåç§ï¼\n\n 1. æååé¨ç±»\n 2. éæåé¨ç±»\n 3. å±é¨åé¨ç±»\n 4. å¿ååé¨ç±»\n\n\n# 2ãæååé¨ç±»\n\næååé¨ç±»ï¼å®ä¾åé¨ç±»ãééæåé¨ç±»ï¼\n\næ³¨ï¼æååé¨ç±»ä¸­ä¸è½åéæå±æ§åæ¹æ³\n\nãå®ä¹ä¸ä¸ªåé¨ç±»ã\n\n//å¨Aç±»ä¸­ç³æäºä¸ä¸ªBç±»ï¼æ­¤Bç±»å°±å¨Açåé¨ï¼å¹¶ä¸å¨æååéçä½ç½®ä¸ï¼æä»¥å°±ç§°ä¸ºæååé¨ç±»\npublic class Outer {\n    private int id;\n    public void out(){\n        System.out.println("è¿æ¯å¤é¨ç±»æ¹æ³");\n    }\n    \n    class Inner{\n        public void in(){\n     \t   System.out.println("è¿æ¯åé¨ç±»æ¹æ³");\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nãå®ä¾ååé¨ç±»ã\n\nå®ä¾ååé¨ç±»ï¼é¦åéè¦å®ä¾åå¤é¨ç±»ï¼éè¿å¤é¨ç±»å»è°ç¨åé¨ç±»\n\npublic class Outer {\n    private int id;\n    public void out(){\n  \t  System.out.println("è¿æ¯å¤é¨ç±»æ¹æ³");\n    }\n    \n    class Inner{\n        public void in(){\n        System.out.println("è¿æ¯åé¨ç±»æ¹æ³");\n    }\n    }\n}\n\npublic class Test{\n    public static void main(String[] args) {\n        //å®ä¾åæååé¨ç±»åä¸¤æ­¥\n        //1ãå®ä¾åå¤é¨ç±»\n        Outer outObject = new Outer();\n        //2ãéè¿å¤é¨ç±»è°ç¨åé¨ç±»\n        Outer.Inner inObject = outObject.new Inner();\n        //æµè¯ï¼è°ç¨åé¨ç±»ä¸­çæ¹æ³\n        inObject.in();//æå°ï¼è¿æ¯åé¨ç±»æ¹æ³\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\nåæï¼æ³æ³å¦æä½ è¦ä½¿ç¨ä¸ä¸ªç±»ä¸­æ¹æ³æèå±æ§ï¼ä½ å°±å¿é¡»è¦åæè¯¥ç±»çä¸ä¸ªå¯¹è±¡ï¼åçï¼ä¸ä¸ªç±»å¨å¦ ä¸ä¸ªç±»çåé¨ï¼é£ä¹æ³è¦ä½¿ç¨è¿ä¸ªåé¨ç±»ï¼å°±å¿é¡»åè¦æå¤é¨ç±»çä¸ä¸ªå®ä¾å¯¹è±¡ï¼ç¶åå¨éè¿è¯¥å¯¹è±¡å»ä½¿ç¨åé¨ç±»ã\n\nãæååé¨ç±»è½å¹²ä»ä¹ï¼ã\n\n * è®¿é®å¤é¨ç±»çææå±æ§(è¿éçå±æ§åæ¬ç§æçæååéï¼æ¹æ³)\n\npublic class Outer {\n    private int id;\n    public void out(){\n        System.out.println("è¿æ¯å¤é¨ç±»æ¹æ³");\n    }\n    \n    class Inner{\n        public void in(){\n            System.out.println("è¿æ¯åé¨ç±»æ¹æ³");\n        }\n        //åé¨ç±»è®¿é®å¤é¨ç±»ç§æçæååé\n        public void useId(){\n            System.out.println(id+3);ã\n        }\n        //åé¨ç±»è®¿é®å¤é¨ç±»çæ¹æ³\n        public void useOut(){\n            out();\n        }\n    }\n}\n\npublic class Test{\n    public static void main(String[] args) {\n        //å®ä¾åæååé¨ç±»åä¸¤æ­¥\n        //1ãå®ä¾åå¤é¨ç±»\n        Outer outObject = new Outer();\n        //2ãéè¿å¤é¨ç±»è°ç¨åé¨ç±»\n        Outer.Inner inObject = outObject.new Inner();\n        //æµè¯\n        inObject.useId();//æå°3ï¼å ä¸ºidåå§åå¼ä¸º0ï¼0+3å°±ä¸º3ï¼å¶ä¸­å¨åé¨ç±»å°±ä½¿ç¨äºå¤é¨ç±»çç§ææååéidã\n        inObject.useOut();//æå°ï¼è¿æ¯å¤é¨ç±»æ¹æ³\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n * å¦æåé¨ç±»ä¸­çåéååå¤é¨ç±»çæååéåä¸æ ·ï¼è¦éè¿åå»ºå¤é¨ç±»å¯¹è±¡"."å±æ§æ¥è®¿é®å¤é¨ç±»å±æ§ï¼éè¿this.å±æ§è®¿é®åé¨ç±»æåå±æ§\n\npublic class Outer {\n    private int id;//é»è®¤åå§å0\n\n    public void out() {\n        System.out.println("è¿æ¯å¤é¨ç±»æ¹æ³");\n    }\n\n    class Inner {\n        private int id = 8; //è¿ä¸ªidè·å¤é¨ç±»çå±æ§idåç§°ä¸æ ·ã\n\n        public void in() {\n            System.out.println("è¿æ¯åé¨ç±»æ¹æ³");\n        }\n\n        public void test() {\n            System.out.println(id);//è¾åº8ï¼åé¨ç±»ä¸­çåéä¼ææ¶å°å¤é¨ç±»çæååéç»éè\n            // å¦ä½è°ç¨å¤é¨ç±»çæååéå¢ï¼éè¿Outer.this\n            // æ³è¦ç¥éä¸ºä»ä¹è½éè¿è¿ä¸ªæ¥è°ç¨ï¼å°±å¾æç½ä¸é¢è¿ä¸ªåç\n            // æ³å®ä¾ååé¨ç±»å¯¹è±¡ï¼å°±å¿é¡»éè¿å¤é¨ç±»å¯¹è±¡ï¼å½å¤é¨ç±»å¯¹è±¡æ¥newåºåé¨ç±»å¯¹è±¡æ¶ï¼ä¼æèªå·±(å¤é¨ç±»å¯¹è±¡)çå¼ç¨ä¼ å°äºåé¨ç±»ä¸­ï¼\n            // æä»¥åé¨ç±»å°±å¯ä»¥éè¿Outer.thisæ¥è®¿é®å¤é¨ç±»çå±æ§åæ¹æ³\n            // å°è¿éï¼ä½ ä¹å°±å¯ä»¥ç¥éä¸ºä»ä¹åé¨ç±»å¯ä»¥è®¿é®å¤é¨ç±»çå±æ§åæ¹æ³ï¼è¿éç±äºæä¸¤ä¸ªç¸åçå±æ§åç§°ï¼\n\n            // æä»¥éè¦æ¾ç¤ºçç¨Outer.thisæ¥è°ç¨å¤é¨ç±»çå±æ§ï¼å¹³å¸¸å¦æå±æ§åä¸éå¤\n            // é£ä¹æä»¬å¨åé¨ç±»ä¸­è°ç¨å¤é¨ç±»çå±æ§åæ¹æ³æ¶ï¼åé¢å°±éå¼çè°ç¨äºOuter.thisã\n            System.out.println(Outer.this.id);//è¾åºå¤é¨ç±»çå±æ§idãä¹å°±æ¯è¾åº0\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\nåå©æååé¨ç±»ï¼æ¥æ»ç»åé¨ç±»(åæ¬4ç§åé¨ç±»)çéç¨ç¨æ³ï¼\n\n 1. è¦æ³è®¿é®åé¨ç±»ä¸­çåå®¹ï¼å¿é¡»éè¿å¤é¨ç±»å¯¹è±¡æ¥å®ä¾ååé¨ç±»ã\n\n 2. è½å¤è®¿é®å¤é¨ç±»ææçå±æ§åæ¹æ³ï¼åçå°±æ¯å¨éè¿å¤é¨ç±»å¯¹è±¡å®ä¾ååé¨ç±»å¯¹è±¡æ¶ï¼å¤é¨ç±»å¯¹è±¡æèªå·±çå¼ç¨ä¼ è¿äºåé¨ç±»ï¼ä½¿åé¨ç±»å¯ä»¥ç¨éè¿Outer.thiså»è°ç¨å¤é¨ç±»çå±æ§åæ¹æ³ã\n    \n    ä¸è¬é½æ¯éå¼è°ç¨äºï¼ä½æ¯å½åé¨ç±»ä¸­æå±æ§æèæ¹æ³ååå¤é¨ç±»ä¸­çå±æ§ææ¹æ³åç¸åçæ¶åï¼å°±éè¦éè¿æ¾å¼è°ç¨Outer.thisäºã\n\nãåçä¸ä¸ªå°ä¾å­ã\n\npublic class MemberInnerClassTest {\n    private String name;\n    private static int age;\n\n    public void run() {\n    }\n\n    public static void go() {\n    }\n\n    public class MemberInnerClass {\n        private String name;\n\n        //åé¨ç±»è®¿é®å¤é¨ç±»\n        public void test(String name) {\n            System.out.println(name);\n            System.out.println(this.name);\n            System.out.println(MemberInnerClassTest.this.name);\n            System.out.println(MemberInnerClassTest.age);\n            MemberInnerClassTest.this.run();\n            MemberInnerClassTest.go();\n        }\n    }\n\n    //å¤é¨ç±»è®¿é®æååé¨ç±»\n    //æååé¨ç±»çå¯¹è±¡è¦ ä¾èµäºå¤é¨ç±»çå¯¹è±¡çå­å¨\n    public void test() {\n        //MemberInnerClass mic = MemberInnerClassTest.this.new MemberInnerClass();\n        //MemberInnerClass mic = this.new MemberInnerClass();\n        MemberInnerClass mic = new MemberInnerClass();\n        mic.name = "tom";\n        mic.test("hua");\n    }\n\n    public static void main(String[] args) {\n        //MemberInnerClass mic = new MemberInnerClass();è¿ä¸ªæ¯ä¸è¡çï¼thisæ¯å¨æçã\n        //æä»¥è¦ä½¿ç¨è¦ååå»ºå¤é¨ç±»å¯¹è±¡ï¼æè½ä½¿ç¨\n        MemberInnerClassTest out = new MemberInnerClassTest();\n        MemberInnerClass mic = out.new MemberInnerClass();\n        //å¦æåé¨ç±»æ¯private,åä¸è½è®¿é®ï¼åªè½éé¼åé¨æ¹æ³æ¥è°ç¨åé¨ç±»\n        mic.name = "jik";\n        mic.test("kkk");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n\n\n\n# 3ãéæåé¨ç±»\n\nçå°åå­å°±ç¥éï¼ä½¿ç¨staticä¿®é¥°çåé¨ç±»å°±å«éæåé¨ç±»ã\n\næ¢ç¶æå°äºstaticï¼é£æä»¬å°±æ¥å¤ä¹ ä¸ä¸å®çç¨æ³ï¼ä¸è¬åªä¿®é¥°åéåæ¹æ³ï¼å¹³å¸¸ä¸å¯ä»¥ä¿®é¥°ç±»ï¼ä½æ¯åé¨ç±»å´å¯ä»¥è¢«staticä¿®é¥°ã\n\n 1. staticä¿®é¥°æååéï¼æ´ä¸ªç±»çå®ä¾å±äº«éæåé\n 2. staticä¿®é¥°æ¹æ³ï¼éææ¹æ³ï¼åªè½å¤è®¿é®ç¨staticä¿®é¥°çå±æ§ææ¹æ³ï¼èééææ¹æ³å¯ä»¥è®¿é®staticä¿®é¥°çæ¹æ³æå±æ§\n 3. è¢«staticä¿®é¥°äºçæååéåæ¹æ³è½ç´æ¥è¢«ç±»åè°ç¨ã\n 4. staticä¸è½ä¿®é¥°å±é¨åéï¼åè®°ï¼ä¸è¦ææ··æ·äºï¼staticå¹³å¸¸å°±ç¨æ¥ä¿®é¥°æååéåæ¹æ³ã\n\nä¾å­ï¼\n\npublic class StaticInnerClassTest {\n\n    private String name;\n    private static int age;\n\n    public void run() {\n    }\n\n    public static void go() {\n    }\n\n    //å¤é¨ç±»è®¿é®éæåé¨ç±»\n    public void test() {\n        StaticInnerClass sic = new StaticInnerClass(); //éæçåé¨ç±»ä¸éè¦ä¾èµå¤é¨ç±»ï¼æä»¥ä¸ç¨this\n        sic.name = "tom";\n\n        sic.test1("jack");\n        StaticInnerClass.age = 10;\n        StaticInnerClass.test2("xixi");\n    }\n\n    private static class StaticInnerClass {\n        private String name;\n        private static int age;\n\n        public void test1(String name) {\n            System.out.println(name);\n            System.out.println(this.name);\n            System.out.println(StaticInnerClass.age);\n            System.out.println(StaticInnerClassTest.age);\n            //System.out.println(StaticInnerClassTest.this.name);éæç±»ä¸è½è®¿é®ééæå±æ§\n            StaticInnerClassTest.go();\n            //StaticInnerClassTest.this.run();éæç±»ä¸è½è®¿é®ééææ¹æ³\n        }\n\n        public static void test2(String name) {\n            //åªè½è®¿é®èªå·±åå¤é¨ç±»çéæå±æ§åæ¹æ³\n            System.out.println(name);\n            //System.out.println(this.name);éææ¹æ³éé¢è¿èªå·±ç±»çééæå±æ§é½ä¸è½è®¿é®\n            System.out.println(StaticInnerClass.age);\n            System.out.println(StaticInnerClassTest.age);\n            //System.out.println(StaticInnerClassTest.this.name);éææ¹æ³ä¸è½è®¿é®ééæå±æ§\n            StaticInnerClassTest.go();\n            //StaticInnerClassTest.this.run();éææ¹æ³ä¸è½è®¿é®ééææ¹æ³\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n\n\næ³¨æï¼\n\n 1. æä»¬ä¸é¢è¯´çåé¨ç±»è½å¤è°ç¨å¤é¨ç±»çæ¹æ³åå±æ§ï¼å¨éæåé¨ç±»ä¸­å°±è¡äºï¼å ä¸ºéæåé¨ç±»æ²¡æ äºæåå¤é¨ç±»å¯¹è±¡çå¼ç¨ãé¤éå¤é¨ç±»ä¸­çæ¹æ³æèå±æ§ä¹æ¯éæçãè¿å°±åå½å°äºstaticå³é®å­çç¨æ³ã\n\n 2. éæåé¨ç±»è½å¤ç´æ¥è¢«å¤é¨ç±»ç»å®ä¾åï¼ä¸éè¦ä½¿ç¨å¤é¨ç±»å¯¹è±¡\n    \n    Outer.Inner inner = new Outer.Inner();\n    \n    \n    1\n    \n\n 3. éæåé¨ç±»ä¸­å¯ä»¥å£°æéææ¹æ³åéæåéï¼ä½æ¯ééæåé¨ç±»ä¸­å°±ä¸å¯ä»¥å£°æéææ¹æ³åéæåé\n\n\n# 4ãå±é¨åé¨ç±»\n\nå±é¨åé¨ç±»æ¯å¨ä¸ä¸ªæ¹æ³åé¨å£°æçä¸ä¸ªç±» å±é¨åé¨ç±»ä¸­å¯ä»¥è®¿é®å¤é¨ç±»çæååéåæ¹æ³ å±é¨åé¨ç±»ä¸­å¦æè¦è®¿é®è¯¥åé¨ç±»æå¨æ¹æ³ä¸­çå±é¨åéï¼é£ä¹è¿ä¸ªå±é¨åéå°±å¿é¡»æ¯finalä¿®é¥°ç\n\npublic class Outer {\n    private int id;\n\n    //å¨method01æ¹æ³ä¸­æä¸ä¸ªInneråé¨ç±»ï¼è¿ä¸ªåé¨ç±»å°±ç§°ä¸ºå±é¨åé¨ç±»\n    public void method01() {\n        class Inner {\n            public void in() {\n                System.out.println("è¿æ¯å±é¨åé¨ç±»");\n            }\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nå±é¨åé¨ç±»ä¸è¬çä½ç¨è·å¨æååé¨ç±»ä¸­æ»ç»çå·®ä¸å¤ï¼ä½æ¯æä¸¤ä¸ªè¦æ³¨æçå°æ¹ï¼\n\n1ãå¨å±é¨åé¨ç±»ä¸­ï¼å¦æè¦è®¿é®å±é¨åéï¼é£ä¹è¯¥å±é¨åéè¦ç¨finalä¿®é¥°\n\nä¸ºä»ä¹éè¦ä½¿ç¨finalï¼\n\nfinalä¿®é¥°åéï¼åä¸ºå¸¸éï¼ä¼å¨å¸¸éæ± ä¸­æ¾çï¼éåæç»´æ³è¿ä¸ªé®é¢ï¼å¦æä¸å®ç¨finalä¿®é¥°ï¼å½å±é¨åé¨ç±»è¢«å®ä¾ååï¼æ¹æ³å¼¹æ ï¼å±é¨åééçè·çæ¶å¤±ï¼è¿ä¸ªæ¶åå±é¨åé¨ç±»å¯¹è±¡å¨æ³å»è°ç¨è¯¥å±é¨åéï¼å°±ä¼æ¥éï¼å ä¸ºè¯¥å±é¨åéå·²ç»æ²¡äºï¼å½å±é¨åéç¨fanalä¿®é¥°åï¼å°±ä¼å°å¶å å¥å¸¸éæ± ä¸­ï¼å³ä½¿æ¹æ³å¼¹æ äºï¼è¯¥å±é¨åéè¿å¨å¸¸éæ± ä¸­åçï¼å±é¨åé¨ç±»ä¹å°±æ¯å¤è°ç¨ãæä»¥å±é¨åé¨ç±»æ³è¦è°ç¨å±é¨å éæ¶ï¼éè¦ä½¿ç¨finalä¿®é¥°ï¼ä¸ä½¿ç¨ï¼ç¼è¯åº¦éä¸è¿ã\n\npublic class Outer {\n    private int id;\n\n    public void method01() {\n        //è¿ä¸ªå°±æ¯å±é¨åécidãè¦è®©å±é¨åé¨ç±»ä½¿ç¨ï¼å°±å¾åä¸ºfinalå¹¶ä¸èµå¼ï¼å¦æä¸ä½¿ç¨finalä¿®é¥°ï¼å°±ä¼æ¥é\n        final int cid = 3;\n        class Inner {\n            //åé¨ç±»çç¬¬ä¸ä¸ªæ¹æ³\n            public void in() {\n                System.out.println("è¿æ¯å±é¨åé¨ç±»");\n            }\n\n            //åé¨ç±»ä¸­çä½¿ç¨å±é¨åécidçæ¹æ³\n            public void useCid() {\n                System.out.println(cid);\n            }\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n2ãå±é¨åé¨ç±»ä¸è½éè¿å¤é¨ç±»å¯¹è±¡ç´æ¥å®ä¾åï¼èæ¯å¨æ¹æ³ä¸­å®ä¾ååºèªå·±æ¥ï¼ç¶åéè¿åé¨ç±»å¯¹è±¡ è°ç¨èªå·±ç±»ä¸­çæ¹æ³ã\n\nçä¸é¢ä¾å­å°±ç¥éå¦ä½ç¨äºã\n\npublic class Outer {\n    private int id;\n\n    public void out() {\n        System.out.println("å¤é¨ç±»æ¹æ³");\n    }\n\n    public void method01() {\n        class Inner {\n            public void in() {\n                System.out.println("è¿æ¯å±é¨åé¨ç±»");\n            }\n        }\n        //å³é®å¨è¿éï¼å¦éè¦å¨method01æ¹æ³ä¸­èªå·±åå»ºåé¨ç±»å®ä¾ï¼\n        // ç¶åè°ç¨åé¨ç±»ä¸­çæ¹æ³ï¼ç­å¾å¤é¨ç±»è°ç¨method01æ¹æ³ï¼\n        // å°±å¯ä»¥æ§è¡å°åé¨ç±»ä¸­çæ¹æ³äºã\n        Inner In = new Inner();\n        In.in();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\nä½¿ç¨å±é¨åé¨ç±»éè¦æ³¨æçå°æ¹å°±åæä¸é¢è¯´çï¼\n\n 1. å¨å±é¨åé¨ç±»ä¸­ï¼å¦æè¦è®¿é®å±é¨åéï¼é£ä¹è¯¥å±é¨åéè¦ç¨finalä¿®é¥°\n\n 2. å¦ä½è°ç¨å±é¨åé¨ç±»æ¹æ³ã\n    \n    public class LocalInnerClassTest {\n        private String name;\n        private static int age;\n    \n        public void run() {\n        }\n    \n        public static void go() {\n        }\n    \n        //å±é¨åé¨ç±»è¦å®ä¹å¨æ¹æ³ä¸­\n        public void test() {\n            final String myname = "";\n            class LocalInnerClass {\n                private String name;\n    \n                // private static int age;ä¸è½å®ä¹éæå±æ§\n                public void test(String name) {\n                    System.out.println(name);\n                    System.out.println(this.name);\n                    System.out.println(myname);\n                    System.out.println(LocalInnerClassTest.this.name);\n                    LocalInnerClassTest.this.run();\n                    LocalInnerClassTest.go();\n                }\n            }\n            // å±é¨åé¨ç±»åªè½å¨èªå·±çæ¹æ³ä¸­ç¨\n            // å ä¸ºå±é¨åé¨ç±»ç¸å½äºä¸ä¸ªå±é¨åéï¼åºäºæ¹æ³å°±æ¾ä¸å°äºã\n            LocalInnerClass lic = new LocalInnerClass();\n            lic.name = "tom";\n            lic.test("test");\n            \n        }\n        \n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    \n\n\n# 5ãå¿ååé¨ç±»\n\nå¨è¿åç§åé¨ç±»ä¸­ï¼ä»¥åçå·¥ä½å¯è½éå°æå¤çæ¯å¿ååé¨ç±»ï¼æä»¥è¯´å¿ååé¨ç±»æ¯æå¸¸ç¨çä¸ç§ åé¨ç±»ã\n\nä»ä¹æ¯å¿åå¯¹è±¡ï¼å¦æä¸ä¸ªå¯¹è±¡åªè¦ä½¿ç¨ä¸æ¬¡ï¼é£ä¹æä»¬å°±æ¯éè¦new Object().method()ã å°±å¯ä»¥äºï¼èä¸éè¦ç»è¿ä¸ªå®ä¾ä¿å­å°è¯¥ç±»ååéä¸­å»ãè¿å°±æ¯å¿åå¯¹è±¡ã\n\npublic class Test {\n    public static void main(String[] args) {\n        //è®²newåºæ¥çAppleå®ä¾èµç»appleåéä¿å­èµ·æ¥ï¼ä½æ¯æä»¬åªéè¦ç¨ä¸æ¬¡ï¼å°±å¯ä»¥è¿æ ·å\n        Apple apple = new Apple();\n        apple.eat();\n        //è¿ç§å°±å«åå¿åå¯¹è±¡çä½¿ç¨ï¼ä¸æå®ä¾ä¿å­å°åéä¸­ã\n        new Apple().eat();\n    }\n}\n\nclass Apple{\n    public void eat(){\n        System.out.println("æè¦è¢«åäº");\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nå¿ååé¨ç±»è·å¿åå¯¹è±¡æ¯ä¸ä¸ªéçï¼\n\nå¿åå¯¹è±¡ï¼æåªéè¦ç¨ä¸æ¬¡ï¼é£ä¹æå°±ä¸ç¨å£°æä¸ä¸ªè¯¥ç±»ååéæ¥ä¿å­å¯¹è±¡äºï¼\n\nå¿ååé¨ç±»ï¼æä¹åªéè¦ç¨ä¸æ¬¡ï¼é£æå°±ä¸éè¦å¨ç±»ä¸­åå®ä¹ä¸ä¸ªåé¨ç±»ï¼èæ¯ç­å¾éè¦ç¨çæ¶åï¼æå°±å¨ä¸´æ¶å®ç°è¿ä¸ªåé¨ç±»ï¼å ä¸ºç¨æ¬¡æ°å°ï¼å¯è½å°±è¿ä¸æ¬¡ï¼é£ä¹è¿æ ·ååé¨ç±»ï¼æ´æ¹ä¾¿ãä¸ç¶åååºä¸ ä¸ªåé¨ç±»çå¨é¨å®ç°æ¥ï¼ç¶åå°±è°ç¨å®ä¸æ¬¡ï¼å²ä¸æ¯ç¨å®ä¹åå°±ä¸ç´å°å¶æ¾å¨é£ï¼é£å°±æ²¡å¿è¦é£æ ·ã\n\n 1. å¿ååé¨ç±»éè¦ä¾æäºå¶ä»ç±»æèæ¥å£æ¥åå»º\n    * å¦æä¾æçæ¯ç±»ï¼é£ä¹åå»ºåºæ¥çå¿ååé¨ç±»å°±é»è®¤æ¯è¿ä¸ªç±»çå­ç±»\n    * å¦æä¾æçæ¯æ¥å£ï¼é£ä¹åå»ºåºæ¥çå¿ååé¨ç±»å°±é»è®¤æ¯è¿ä¸ªæ¥å£çå®ç°ç±»ã\n 2. å¿ååé¨ç±»çå£°æå¿é¡»æ¯å¨ä½¿ç¨newå³é®å­çæ¶å\n    * å¿ååé¨ç±»çå£°æååå»ºå¯¹è±¡å¿é¡»ä¸æ°åµæï¼å¹¶ä¸ä¹åè½åå¤ä½¿ç¨ï¼å ä¸ºæ²¡æåå­\n\nãç¤ºä¾ã\n\nAæ¯ä¸ä¸ªç±»(æ®éç±»ãæ½è±¡ç±»é½å¯ä»¥)ï¼ä¾æäºAç±»åå»ºä¸ä¸ªå¿ååé¨ç±»å¯¹è±¡\n\nmain:\n\nA a = new A(){\n    //å®ç°Aä¸­çæ½è±¡æ¹æ³\n    //æèéåAä¸­çæ®éæ¹æ³\n};\n\næ³¨:è¿ä¸ªå¤§æ¬å·éé¢å¶å®å°±æ¯è¿ä¸ªåé¨ç±»çä»£ç ,åªä¸è¿æ¯å£°æè¯¥åé¨ç±»çåæ¶å°±æ¯è¦newåå»ºäºå¶å¯¹è±¡,\nå¹¶ä¸ä¸è½åå¤ä½¿ç¨,å ä¸ºæ²¡æåå­ã\n    \nä¾å¦:\nBæ¯ä¸ä¸ªæ¥å£ï¼ä¾æäºBæ¥å£åå»ºä¸ä¸ªå¿ååé¨ç±»å¯¹è±¡\n\nB b = new B(){\n\t//å®ç°Bä¸­çæ½è±¡æ¹æ³\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n 1. å¿ååé¨ç±»é¤äºä¾æçç±»ææ¥å£ä¹å¤ï¼ä¸è½æå®ç»§æ¿æèå®ç°å¶ä»ç±»ææ¥å£ï¼åæ¶ä¹ä¸è½è¢«å¶ä»ç±»æç»§æ¿ï¼å ä¸ºæ²¡æåå­ã\n 2. å¿ååé¨ä¸­ï¼æä»¬ä¸è½ååºå¶æé å¨ï¼å ä¸ºæ²¡æåå­ã\n 3. å¿ååé¨ä¸­ï¼é¤äºéåä¸é¢çæ¹æ³å¤ï¼ä¸è¬ä¸ä¼ååå¶ä»ç¬æçæ¹æ³ï¼å ä¸ºä»å¤é¨ä¸è½ç´æ¥è°ç¨å°ã(é´æ¥æ¯è°ç¨å°ç)\n\npublic interface Work{\n    void doWork();\n}\n\npublic class AnonymousOutterClass{\n    private String name;\n    private static int age;\n    public void say(){}\n    public static void go(){}\n    \n    public void test(){\n        final int i = 90;\n        \n        Work w = new Work(){\n            public void doWork(){\n                System.out.println(AnonymousOutterClass.this.name);\n                System.out.println(AnonymousOutterClass.age);\n                AnonymousOutterClass.this.say();\n                AnonymousOutterClass.go();\n                \n                System.out.println(i);\n            }\n        };\n        w.doWork();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\næä»¬å¯ä»¥è¯ä¸ä¸ä¸ ç¨å¿ååé¨ç±» å ç¨å¿ååé¨ç±» å®ç°ä¸ä¸ªæ¥å£ä¸­çæ¹æ³çåºå«\n\nãä¸ç¨å¿ååé¨ç±»ã\n\npublic class Test {\n    public static void main(String[] args) {\n        // å¦ææä»¬éè¦ä½¿ç¨æ¥å£ä¸­çæ¹æ³ï¼æä»¬å°±éè¦èµ°3æ­¥ï¼\n        // 1ãå®ç°æ¥å£ 2ãåå»ºå®ç°æ¥å£ç±»çå®ä¾å¯¹è±¡ 3ãéè¿å¯¹è±¡è°ç¨æ¹æ³\n        //ç¬¬äºæ­¥\n        Test02 test = new Test02();\n        //ç¬¬ä¸æ­¥\n        test.method();\n    }\n}\n\n//æ¥å£Test1\ninterface Test01{\n    public void method();\n}\n\n//ç¬¬ä¸æ­¥ãå®ç°Test01æ¥å£\nclass Test02 implements Test01{\n    @Override\n    public void method() {\n        System.out.println("å®ç°äºTestæ¥å£çæ¹æ³");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\nãä½¿ç¨å¿ååé¨ç±»ã\n\npublic class Test {\n    public static void main(String[] args) {\n\t\t//å¦ææä»¬éè¦ä½¿ç¨æ¥å£ä¸­çæ¹æ³ï¼æä»¬åªéè¦èµ°ä¸æ­¥ï¼å°±æ¯ä½¿ç¨å¿ååé¨ç±»ï¼ç´æ¥å°å¶ç±»çå¯¹è±¡åå»ºåºæ¥ã\n        new Test1(){\n            public void method(){\n                System.out.println("å®ç°äºTestæ¥å£çæ¹æ³");\n            }\n        }.method();\n    }\n}\n\ninterface Test1{\n    public void method();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nè§£æï¼\n\nå¶å®åªè¦æç½ä¸ç¹ï¼new Test1( ){ å®ç°æ¥å£ä¸­æ¹æ³çä»£ç  };\n\nTest1(){...} è¿ä¸ªçä½ç¨å°±æ¯å°æ¥å£ç»å®ç°äºï¼åªä¸è¿è¿éå®ç°è¯¥æ¥å£çæ¯ä¸ä¸ªå¿åç±»ï¼ä¹å°±æ¯è¯´è¿ä¸ªç±»æ²¡åå­ï¼åªè½ä½¿ç¨è¿ä¸æ¬¡ï¼æä»¬ç¥éäºè¿æ¯ä¸ä¸ªç±»ï¼ å°å¶newåºæ¥ï¼å°±è½è·å¾ä¸ä¸ªå®ç°äºTest1æ¥å£çç±»çå®ä¾å¯¹è±¡ï¼éè¿è¯¥å®ä¾å¯¹è±¡ï¼å°±è½è°ç¨è¯¥ç±»ä¸­çæ¹æ³äºï¼å ä¸ºå¶å¿åç±»æ¯å¨ä¸ä¸ªç±»ä¸­å®ç°çï¼æä»¥å«å¶å¿ååé¨ç±»ã\n\nä¸è¦çº ç»ä¸ºä»ä¹ Test1( ){...} å°±ç¸å½äºå®ç°äºTest1æ¥å£ï¼è¿å¶ä¸­çåçç­è¶³å¤å¼ºå¤§äºï¼å¨å»å­¦ä¹ ï¼ä¸è¦é»çè§å°ï¼è¿éå°±ä»ä»æ¯éè¦ç¥éä»çä½ç¨æ¯ä»ä¹ï¼åäºäºä»ä¹ä¸è¥¿å°±è¡ã',normalizedContent:'# javase-é¢åå¯¹è±¡\n\n\n# é¢åè¿ç¨&é¢åå¯¹è±¡\n\nè¯­è¨çè¿ååå±è·çç©çè¿ååå±å¶å®æ¯ä¸åäºï¼é½æ¯âç©ä»¥ç±»èâãç¸è¿çæåç»èèå°ä¸èµ·åæäºæä»¬çç¼çï¼ç¸è¿çåè§ç»èèå°ä¸èµ·åæäºæä»¬çé¼»å­ã\n\nè¯­å¥å¤äºï¼æä»¬å°å®æåæ ·åè½çç¸è¿çè¯­å¥ï¼èå°äºä¸åå¿ï¼ä¾¿äºæä»¬ä½¿ç¨ãäºæ¯ï¼æ¹æ³åºç°äºï¼\n\nåéå¤äºï¼æä»¬å°åè½ç¸è¿çåéç»å¨ä¸èµ·ï¼èå°ä¸èµ·å½ç±»ï¼ä¾¿äºæä»¬è°ç¨ãäºæ¯ï¼ç»æä½åºç°äºï¼\n\nååæ¥ï¼æ¹æ³å¤äºï¼åéå¤äºï¼ç»æä½ä¸å¤ç¨äºï¼æä»¬å°±å°åè½ç¸è¿çåéåæ¹æ³èå°äºä¸èµ·ï¼äºæ¯ç±»åå¯¹è±¡åºç°äºï¼\n\nå¯¥å¯¥æ°è¯­ï¼å°±æ·±å»çå±ç¤ºäºè¯­è¨çè¿ååå²ï¼å¶å®ï¼é½éå¸¸èªç¶ï¼âç©ä»¥ç±»èâãå¸æå¤§å®¶è½è®°ä½è¿å¥è¯ã\n\nä¼ä¸çåå±ä¹æ¯âç©ä»¥ç±»èâçè¿ç¨ï¼å®æå¸åºæ¨å¹¿çäººåèå°ä¸èµ·å½¢æäºå¸åºé¨ãå®æææ¯å¼åçäººåèå°ä¸èµ·å½¢æäºå¼åé¨ï¼\n\né¢åè¿ç¨çæç»´æ¨¡å¼\n\né¢åè¿ç¨çæç»´æ¨¡å¼æ¯ç®åççº¿æ§æç»´ï¼æèé®é¢é¦åé·å¥ç¬¬ä¸æ­¥åä»ä¹ãç¬¬äºæ­¥åä»ä¹çç»èä¸­ãè¿ç§æç»´æ¨¡å¼éåå¤çç®åçäºæï¼æ¯å¦ï¼ä¸åæã\n\nå¦æé¢å¯¹å¤æçäºæï¼è¿ç§æç»´æ¨¡å¼ä¼é·å¥ä»¤äººåç¯çç¶æï¼æ¯å¦ï¼å¦ä½é ç¥èåå·ï¼\n\né¢åå¯¹è±¡çæç»´æ¨¡å¼\n\né¢åå¯¹è±¡çæç»´æ¨¡å¼è¯´ç½äºå°±æ¯åç±»æç»´æ¨¡å¼ãæèé®é¢é¦åä¼è§£å³é®é¢éè¦åªäºåç±»ï¼ç¶åå¯¹è¿äºåç±»è¿è¡åç¬æèãæåï¼æå¯¹æä¸ªåç±»ä¸çç»èè¿è¡é¢åè¿ç¨çæç´¢ã\n\nè¿æ ·å°±å¯ä»¥å½¢æå¾å¥½çåä½åå·¥ãæ¯å¦ï¼è®¾è®¡å¸åäº10ä¸ªç±»ï¼ç¶åå°10ä¸ªç±»äº¤ç»äº10ä¸ªäººåå«è¿è¡è¯¦ç»è®¾è®¡åç¼ç ï¼\n\næ¾ç¶ï¼é¢åå¯¹è±¡éåå¤çå¤æçé®é¢ï¼éåå¤çéè¦å¤äººåä½çé®é¢ï¼\n\nå¦æä¸ä¸ªé®é¢éè¦å¤äººåä½ä¸èµ·è§£å³ï¼é£ä¹ä½ ä¸å®è¦ç¨é¢åå¯¹è±¡çæ¹å¼æ¥æèï¼\n\nå¯¹äºæè¿°å¤æçäºç©ï¼ä¸ºäºä»å®è§ä¸ææ¡ãä»æ´ä½ä¸åçåæï¼æä»¬éè¦ä½¿ç¨é¢åå¯¹è±¡çæè·¯æ¥åææ´ ä¸ªç³»ç»ãä½æ¯ï¼å·ä½å°å¾®è§æä½ï¼ä»ç¶éè¦é¢åè¿ç¨çæè·¯å»å¤çã\n\n\n# oopè¯¦è§£\n\n\n# 1ãä»ä¹æ¯é¢åå¯¹è±¡\n\njavaçç¼ç¨è¯­è¨æ¯é¢åå¯¹è±¡çï¼éç¨è¿ç§è¯­è¨è¿è¡ç¼ç¨ç§°ä¸ºé¢åå¯¹è±¡ç¼ç¨(object-oriented programming, oop)ã\n\né¢åå¯¹è±¡ç¼ç¨çæ¬è´¨å°±æ¯ï¼ä»¥ç±»çæ¹å¼ç»ç»ä»£ç ï¼ä»¥å¯¹è±¡çç»ç»(å°è£)æ°æ®ã\n\næ½è±¡(abstract)\n\nå¿½ç¥ä¸ä¸ªä¸»é¢ä¸­ä¸å½åç®æ æ å³çé£äºæ¹é¢ï¼ä»¥ä¾¿æ´ååå°æ³¨æä¸å½åç®æ æå³çæ¹é¢ãæ½è±¡å¹¶ä¸æç®äº è§£å¨é¨é®é¢ï¼èåªæ¯éæ©å¶ä¸­çä¸é¨åï¼ææ¶ä¸ç¨å³æ³¨ç»èã\n\n> ä¾å¦ï¼è¦è®¾è®¡ä¸ä¸ªå­¦çæç»©ç®¡çç³»ç»ï¼é£ä¹å¯¹äºå­¦çï¼åªå³å¿ä»çç­çº§ãå­¦å·ãæç»©ç­ï¼èä¸ç¨å»å³å¿ä»ç èº«é«ãä½éè¿äºä¿¡æ¯ã æ½è±¡æ¯ä»ä¹ï¼å°±æ¯å°å¤ä¸ªç©ä½å±åç¹å½çº³åºæ¥ï¼å°±æ¯æ½åºåçé¨åï¼\n\nå°è£(encapsulation)\n\nå°è£æ¯é¢åå¯¹è±¡çç¹å¾ä¹ä¸ï¼æ¯å¯¹è±¡åç±»æ¦å¿µçä¸»è¦ç¹æ§ãå°è£æ¯æè¿ç¨åæ°æ®åå´èµ·æ¥ï¼å¯¹æ°æ®çè®¿ é®åªè½éè¿æå®çæ¹å¼ã\n\nå¨å®ä¹ä¸ä¸ªå¯¹è±¡çç¹æ§çæ¶åï¼æå¿è¦å³å®è¿äºç¹æ§çå¯è§æ§ï¼å³åªäºç¹æ§å¯¹å¤é¨æ¯å¯è§çï¼åªäºç¹æ§ç¨äºè¡¨ç¤ºåé¨ç¶æã\n\néå¸¸ï¼åºç¦æ­¢ç´æ¥è®¿é®ä¸ä¸ªå¯¹è±¡ä¸­æ°æ®çå®éè¡¨ç¤ºï¼èåºéè¿æä½æ¥å£æ¥è®¿é®ï¼è¿ç§°ä¸ºä¿¡æ¯éèã\n\nä¿¡æ¯éèæ¯ç¨æ·å¯¹å°è£æ§çè®¤è¯ï¼å°è£åä¸ºä¿¡æ¯éèæä¾æ¯æã\n\nå°è£ä¿è¯äºæ¨¡åå·æè¾å¥½çç¬ç«æ§ï¼ä½¿å¾ç¨åºç»´æ¤ä¿®æ¹è¾ä¸ºå®¹æãå¯¹åºç¨ç¨åºçä¿®æ¹ä»éäºç±»çåé¨ï¼ å èå¯ä»¥å°åºç¨ç¨åºä¿®æ¹å¸¦æ¥çå½±ååå°å°æä½éåº¦ã\n\nç»§æ¿(inheritance)\n\nç»§æ¿æ¯ä¸ç§èç»ç±»çå±æ¬¡æ¨¡åï¼å¹¶ä¸åè®¸åæ¯æç±»çéç¨ï¼å®æä¾äºä¸ç§æç¡®è¡¨è¿°å±æ§çæ¹æ³\n\næ°ç±»ç»§æ¿äºåå§ç±»å,æ°ç±»å°±ç»§æ¿äºåå§ç±»çç¹æ§ï¼æ°ç±»ç§°ä¸ºåå§ç±»çæ´¾çç±»(å­ç±»)ï¼èåå§ç±»ç§°ä¸ºæ°ç±»çåºç±»(ç¶ç±»)ã\n\næ´¾çç±»(å­ç±»)å¯ä»¥ä»å®çåºç±»(ç¶ç±»)é£éç»§æ¿æ¹æ³åå®ä¾åéï¼å¹¶ä¸æ´¾çç±»(å­ç±»)ä¸­å¯ä»¥ä¿®æ¹æå¢å æ°çæ¹æ³ä½¿ä¹æ´éåç¹æ®çéè¦ç»§æ¿æ§å¾å¥½çè§£å³äºè½¯ä»¶çå¯éç¨æ§é®é¢ãæ¯å¦è¯´ï¼ææçwindowsåºç¨ç¨åºé½æä¸ä¸ªçªå£ï¼å®ä»¬å¯ä»¥çä½é½æ¯ä»ä¸ä¸ªçªå£ç±»æ´¾çåºæ¥çãä½æ¯æçåºç¨ç¨åºç¨äºæå­å¤çï¼æçåºç¨ç¨åºç¨äºç»å¾ï¼è¿æ¯ç±äºæ´¾çåºäºä¸åçå­ç±»ï¼åä¸ªå­ç±»æ·»å äºä¸åçç¹æ§ã\n\nå¤æ(polymorphism)\n\nå¤ææ§æ¯æåè®¸ä¸åç±»çå¯¹è±¡å¯¹åä¸æ¶æ¯ä½åºååºã\n\nå¤ææ§è¯­è¨å·æçµæ´»ãæ½è±¡ãè¡ä¸ºå±äº«ãä»£ç å±äº«çä¼å¿ï¼å¾å¥½çè§£å³äºåºç¨ç¨åºå½æ°ååé®é¢ã\n\nç¸åç±»åçä¸åå¯¹è±¡,è°ç¨ç¸åæ¹æ³,è¡¨ç°åºä¸åçç»æ\n\nä»è®¤è¯è®ºè§åº¦èèæ¯åæå¯¹è±¡åæç±»ãå¯¹è±¡ï¼æ¯å·ä½çäºç©ãç±»ï¼æ¯æ½è±¡çï¼æ¯å¯¹å¯¹è±¡çæ½è±¡ã\n\nä»ä»£ç è¿è¡è§åº¦èèæ¯åæç±»åæå¯¹è±¡ãç±»æ¯å¯¹è±¡çæ¨¡æ¿ã\n\n\n# 2ãç±»ä¸å¯¹è±¡çå³ç³»\n\nç±»æ¯ä¸ç§æ½è±¡çæ°æ®ç±»å,å®æ¯å¯¹æä¸ç±»äºç©æ´ä½æè¿°/å®ä¹,ä½æ¯å¹¶ä¸è½ä»£è¡¨æä¸ä¸ªå·ä½çäºç©\n\n> ä¾å¦ï¼æä»¬çæ´»ä¸­æè¯´çè¯è¯­ï¼å¨ç©ãæ¤ç©ãææºãçµèç­ç­ãè¿äºä¹é½æ¯æ½è±¡çæ¦å¿µï¼èä¸æ¯æçæä¸ä¸ª å·ä½çä¸è¥¿ã\n\nä¾å¦: personç±»ãpetç±»ãcarç±»ç­ï¼è¿äºç±»é½æ¯ç¨æ¥ æè¿°/å®ä¹ æä¸ç±»å·ä½çäºç©åºè¯¥å·å¤çç¹ç¹åè¡ä¸º\n\nå¯¹è±¡æ¯æ½è±¡æ¦å¿µçå·ä½å®ä¾\n\n> ä¾å¦ï¼å¼ ä¸å°±æ¯äººçä¸ä¸ªå·ä½å®ä¾ï¼å¼ ä¸å®¶éçæºè´¢å°±æ¯ççä¸ä¸ªå·ä½å®ä¾ãè½å¤ä½ç°åºç¹ç¹ï¼å±ç°åºåè½çæ¯å·ä½çå®ä¾ï¼èä¸æ¯ä¸ä¸ªæ½è±¡çæ¦å¿µã\n\nãç¤ºä¾ã\n\nstudent s = new student(1,"tom",20);\ns.study();\n\ncar c = new car(1,"bwm",500000);\nc.run();\n\n\n1\n2\n3\n4\n5\n\n\nå¯¹è±¡så°±æ¯studentç±»çä¸ä¸ªå®ä¾ï¼å¯¹è±¡cå°±æ¯carç±»çä¸ä¸ªå·ä½å®ä¾ï¼è½å¤ä½¿ç¨çæ¯å·ä½å®ä¾ï¼èä¸æ¯ç±»ãç±»åªæ¯ç»å¯¹è±¡çåå»ºæä¾äºä¸ä¸ªåèçæ¨¡æ¿èå·²ã\n\nä½æ¯å¨javaä¸­ï¼æ²¡æç±»å°±æ²¡æå¯¹è±¡ï¼ç¶èç±»åæ¯æ ¹æ®å·ä½çåè½éæ±ï¼è¿è¡å®éçåæï¼æç»æ½è±¡åºæ¥çã\n\n\n# 3ãå¯¹è±¡åå¼ç¨çå³ç³»\n\nå¼ç¨ "æå" å¯¹è±¡\n\nä½¿ç¨ç±»ç±»åãæ°ç»ç±»åãæ¥å£ç±»åå£°æåºçåéï¼é½å¯ä»¥æåå¯¹è±¡ï¼è¿ç§åéå°±æ¯å¼ç¨ç±»ååéï¼ç®ç§°å¼ç¨ã\n\nå¨ç¨åºä¸­ï¼åå»ºåºå¯¹è±¡åï¼ç´æ¥ä½¿ç¨å¹¶ä¸æ¹ä¾¿ï¼æä»¥ä¸è¬ä¼ç¨ä¸ä¸ªå¼ç¨ç±»åçåéå»æ¥æ¶è¿ä¸ªå¯¹è±¡ï¼è¿ä¸ªå°±æ¯æè¯´çå¼ç¨æåå¯¹è±¡ã\n\næ»ç»ï¼å¯¹è±¡åå¼ç¨çå³ç³»ï¼å°±å¦çµè§æºåé¥æ§å¨ï¼é£ç­åçº¿çå³ç³»ä¸æ ·ã\n\n\n# æ¹æ³åé¡¾åå æ·±\n\næ¹æ³ä¸å®æ¯å®ä¹å¨ç±»ä¸­çï¼å±äºç±»çæåã\n\n\n# 1ãæ¹æ³çå®ä¹\n\n> æ ¼å¼ï¼ ä¿®é¥°ç¬¦ è¿åç±»å æ¹æ³å(åæ°åè¡¨)å¼å¸¸æåºç±»å{...}\n\n 1. ä¿®é¥°ç¬¦\n    \n    publicãstaticãabstractãfinalç­ç­é½æ¯ä¿®é¥°ç¬¦ï¼ä¸ä¸ªæ¹æ³å¯ä»¥æå¤ä¸ªä¿®é¥°ç¬¦ãä¾å¦ç¨åºå¥å£ mainæ¹æ³ï¼å°±ä½¿ç¨äºpublic staticè¿ä¸ªä¿©ä¸ªä¿®é¥°ç¬¦\n    \n    æ³¨ï¼å¦æä¸ä¸ªæ¹æ³æèå±æ§æå¤ä¸ªä¿®é¥°ç¬¦ï¼è¿å¤ä¸ªä¿®é¥°ç¬¦æ¯æ²¡æååé¡ºåºç\n\n 2. è¿åç±»å\n    \n    æ¹æ³æ§è¡å®å¦ææè¦è¿åçæ°æ®ï¼é£ä¹å°±è¦å£°æè¿åæ°æ®çç±»åï¼å¦ææ²¡æè¿åçæ°æ®ï¼é£ä¹è¿åç±»åå°±å¿é¡»åvoid\n    \n    åªææé æ¹æ³(æé å¨)ä¸åä»»ä½è¿åç±»åä¹ä¸åvoid\n    \n    ãç¤ºä¾ã\n    \n    public string sayhello(){\n        return "hello";\n    }\n    public int max(int a,int b){\n        return a>b?a:b;\n    }\n    public void print(string msg){\n        system.out.println(msg);\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    \n    \n    æèï¼å£°æè¿åç±»åçæ¹æ³ä¸­ä¸å®è¦åºç°returnè¯­å¥ï¼é£ä¹æ²¡æè¿åç±»å(void)çæ¹æ³ä¸­ï¼è½ä¸è½åºç° returnè¯­å¥?\n    \n    breakåreturnçåºå«\n    \n    return è¯­å¥çä½ç¨\n    \n    > (1) return ä»å½åçæ¹æ³ä¸­éåº,è¿åå°è¯¥è°ç¨çæ¹æ³çè¯­å¥å¤,ç»§ç»­æ§è¡ã (2) return è¿åä¸ä¸ªå¼ç»è°ç¨è¯¥æ¹æ³çè¯­å¥ï¼è¿åå¼çæ°æ®ç±»åå¿é¡»ä¸æ¹æ³çå£°æä¸­çè¿åå¼çç±»åä¸è´ã (3) returnåé¢ä¹å¯ä»¥ä¸å¸¦åæ°ï¼ä¸å¸¦åæ°å°±æ¯è¿åç©ºï¼å¶å®ä¸»è¦ç®çå°±æ¯ç¨äºæ³ä¸­æ­å½æ°æ§è¡ï¼è¿å è°ç¨å½æ°å¤ã\n    \n    breakè¯­å¥çä½ç¨\n    \n    > (1)breakå¨å¾ªç¯ä½åï¼å¼ºè¡ç»æå¾ªç¯çæ§è¡ï¼ä¹å°±æ¯ç»ææ´ä¸ªå¾ªç¯è¿ç¨ï¼ä¸å¨å¤æ­æ§è¡å¾ªç¯çæ¡ä»¶æ¯å¦æç«ï¼ç´æ¥è½¬åå¾ªç¯è¯­å¥ä¸é¢çè¯­å¥ã\n    > \n    > (2)å½breakåºç°å¨å¾ªç¯ä½ä¸­çswitchè¯­å¥ä½åæ¶ï¼å¶ä½ç¨åªæ¯è·³åºè¯¥switchè¯­å¥ä½ã\n\n 3. æ¹æ³å\n    \n    éµå®javaä¸­æ ç¤ºç¬¦çå½åè§åå³å¯.\n\n 4. åæ°åè¡¨\n    \n    æ ¹æ®éæ±å®ä¹,æ¹æ³å¯ä»¥æ¯æ åç,ä¹å¯ä»¥æä¸ä¸ªåæ°,ä¹å¯ä»¥æå¤ä¸ªåæ°\n\n 5. å¼å¸¸æåºç±»å\n    \n    å¦ææ¹æ³ä¸­çä»£ç å¨æ§è¡è¿ç¨ä¸­ï¼å¯è½ä¼åºç°ä¸äºå¼å¸¸æåµï¼é£ä¹å°±å¯ä»¥å¨æ¹æ³ä¸æè¿äºå¼å¸¸å£°æå¹¶æåºï¼ ä¹å¯ä»¥åæ¶å£°ææåºå¤ä¸ªå¼å¸¸ï¼ä½¿ç¨éå·éå¼å³å¯ã\n    \n    public void readfile(string file)throws ioexception{\n    }\n    \n    public void readfile(string file)throws ioexception,classnotfoundexception{\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n\n# 2ãæ¹æ³è°ç¨\n\nå¨ç±»ä¸­å®ä¹äºæ¹æ³ï¼è¿ä¸ªæ¹æ³ä¸­çä»£ç å¹¶ä¸ä¼æ§è¡ï¼å½è¿ä¸ªæ¹æ³è¢«è°ç¨çæ¶åï¼æ¹æ³ä¸­çä»£ç æä¼è¢«ä¸è¡ä¸ è¡é¡ºåºæ§è¡ã\n\n 1. ééææ¹æ³\n    \n    æ²¡æä½¿ç¨staticä¿®é¥°ç¬¦ä¿®é¥°çæ¹æ³ï¼å°±æ¯ééææ¹æ³ã\n    \n    è°ç¨è¿ç§æ¹æ³çæ¶åï¼æ¯"ä¸å®"è¦ä½¿ç¨å¯¹è±¡çè°ç¨ãå ä¸ºééææ¹æ³æ¯å±äºå¯¹è±¡çã(ééæå±æ§ä¹æ¯ä¸æ ·ç)\n    \n    ãä¾å­ã\n    \n    > public class student{ public void say(){} }\n    > \n    > main:\n    > \n    > student s = new student();\n    > \n    > s.say();\n\n 2. éææ¹æ³\n    \n    ä½¿ç¨staticä¿®é¥°ç¬¦ä¿®é¥°çæ¹æ³,å°±æ¯éææ¹æ³ã\n    \n    è°ç¨è¿ç§æ¹æ³çæ¶åï¼"å¯ä»¥"ä½¿ç¨å¯¹è±¡è°ç¨ï¼ä¹"å¯ä»¥"ä½¿ç¨ç±»æ¥è°ç¨ï¼ä½æ¯æ¨èä½¿ç¨ç±»è¿è¡è°ç¨ãå ä¸ºéææ¹æ³æ¯å±äºç±»çã(éæå±æ§ä¹æ¯ä¸æ ·ç)\n    \n    ãä¾å­ã\n    \n    > public class student{ public static void say(){} }\n    > \n    > main:\n    > \n    > student.say();\n\n 3. ç±»ä¸­æ¹æ³ä¹é´çè°ç¨\n    \n    åè®¾åä¸ä¸ªç±»ä¸­æä¿©ä¸ªæ¹æ³ï¼aæ¹æ³åbæ¹æ³ï¼aåbé½æ¯ééææ¹æ³ï¼ç¸äºä¹é´å¯ä»¥ç´æ¥è°ç¨ã\n    \n    public void a(){\n        b();\n    }\n    public void b(){\n        \n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    \n    \n    aåbé½æ¯éææ¹æ³,ç¸äºä¹é´å¯ä»¥ç´æ¥è°ç¨\n    \n    public static void a(){\n        b();\n    }\n    public static void b(){\n        \n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    \n    \n    aéææ¹æ³ï¼bæ¯ééææ¹æ³ï¼aæ¹æ³ä¸­ä¸è½ç´æ¥è°ç¨bæ¹æ³ï¼ä½æ¯bæ¹æ³ä¸­å¯ä»¥ç´æ¥è°ç¨aæ¹æ³ãéææ¹æ³ä¸è½ è°ç¨ééææ¹æ³ï¼\n    \n    public static void a(){\n        //b();æ¥é\n    }\n    public void b(){\n        a();\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    \n    \n    å¦å¤ï¼å¨åä¸ä¸ªç±»ä¸­ï¼éææ¹æ³åä¸è½ç´æ¥è®¿é®å°ç±»ä¸­çééæå±æ§ã\n    \n    æ»ç»ï¼ç±»ä¸­æ¹æ³ä¸­çè°ç¨ï¼ä¸¤ä¸ªæ¹æ³é½æ¯éææèééæé½å¯ä»¥äºç¸è°ç¨ï¼å½ä¸ä¸ªæ¹æ³æ¯éæï¼ä¸ä¸ªæ¹ æ³æ¯ééæçæ¶åï¼ééææ¹æ³å¯ä»¥è°ç¨éææ¹æ³ï¼åä¹ä¸è½ã\n\n\n# 3ãè°ç¨æ¹æ³æ¶çä¼ å\n\n1ãå½¢ååå®å\n\npublic static void test(int a){\n\n}\n\npublic static void main(string[] args) {\n    int x = 1;\n    test(x);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nåæ°åè¡¨ä¸­çaæ¯æ¹æ³testçå½¢å(å½¢å¼ä¸çåæ°) è°ç¨æ¹æ³æ¶çxæ¯æ¹æ³testçå®å(å®éä¸çåæ°)\n\næ³¨æï¼å½¢åçåå­åå®åçåå­é½åªæ¯ä¸ä¸ªåéçåå­,æ¯å¯ä»¥éä¾¿åç,æä»¬å¹¶ä¸å³å¿è¿ä¸ªåå­,èæ¯å³ å¿åéçç±»åä»¥ååéæ¥æ¶çå¼ã\n\n2ãå¼ä¼ éåå¼ç¨ä¼ é\n\nè°ç¨æ¹æ³è¿è¡ä¼ åæ¶ï¼åä¸ºå¼ä¼ éåå¼ç¨ä¼ éä¸¤ç§ã\n\nå¦æåæ°çç±»åæ¯åºæ¬æ°æ®ç±»åï¼é£ä¹å°±æ¯å¼ä¼ éã\n\nå¦æåæ°çç±»åæ¯å¼ç¨æ°æ®ç±»åï¼é£ä¹å°±æ¯å¼ç¨ä¼ éã\n\nå¼ä¼ éæ¯å®åæèªå·±åéæ¬èº«å­çç®åæ°å¼èµå¼ç»å½¢åã å¼ç¨ä¼ éæ¯å®åæèªå·±åéæ¬èº«å­çå¯¹è±¡åå­å°åå¼èµå¼ç»å½¢åã\n\næä»¥å¼ä¼ éåå¼ç¨ä¼ éæ¬è´¨ä¸æ¯ä¸åäºï¼åªä¸è¿ä¼ éçä¸è¥¿çæä¹ä¸åèå·²ã\n\nãç¤ºä¾ï¼å¼ä¼ éã\n\npublic static void changenum(int a) {\n    a = 10;\n}\n\npublic static void main(string[] args) {\n    int a = 1;\n    system.out.println("before: a = " + a); //1\n    changenum(a);\n    system.out.println("after: a = " + a); //1\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nãç¤ºä¾ï¼å¼ç¨ä¼ éã\n\npublic class test {\n    public static void changename(student s) {\n        s.name = "tom";\n    }\n\n    public static void main(string[] args) {\n        student s = new student();\n        system.out.println("before: name = " + s.name); //null\n        changename(s);\n        system.out.println("after: name = " + s.name); //tom\n    }\n\n    static class student {\n        string name;\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# 4ãthiså³é®å­\n\nå¨ç±»ä¸­ï¼å¯ä»¥ä½¿ç¨thiså³é®å­è¡¨ç¤ºä¸äºç¹æ®çä½ç¨ã\n\n1ãthiså¨ç±»ä¸­çä½ç¨\n\nåºå«æååéåå±é¨åé\n\npublic class student{\n    private string name;\n    public void setname(string name){\n        //this.nameè¡¨ç¤ºç±»ä¸­çå±æ§name\n        this.name = name;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nè°ç¨ç±»ä¸­çå¶ä»æ¹æ³\n\npublic class student{\n    private string name;\n    public void setname(string name){\n        this.name = name;\n    }\n    public void print(){\n        //è¡¨ç¤ºè°ç¨å½åç±»ä¸­çsetnameæ¹æ³\n        this.setname("tom");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\næ³¨ï¼é»è®¤æåµä¸ï¼setname("tom")åthis.setname("tom")çæææ¯ä¸æ ·çã\n\nè°ç¨ç±»ä¸­çå¶ä»æé å¨\n\npublic class student{\n    private string name;\n    public student(){\n        //è°ç¨ä¸ä¸ªåæ°çæé å¨,å¹¶ä¸åæ°çç±»åæ¯string\n        this("tom");\n    }\n    public student(string name){\n        this.name = name;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\næ³¨ï¼thisçè¿ç§ç¨æ³ï¼åªè½å¨æé å¨ä¸­ä½¿ç¨ãæ®éçæ¹æ³æ¯ä¸è½ç¨çãå¹¶ä¸è¿å±è°ç¨çä»£ç åªè½åºç°å¨æé å¨ä¸­çç¬¬ä¸å¥ã\n\nãç¤ºä¾ã\n\npublic class student{\n    private string name;\n    //ç¼è¯æ¥é,å ä¸ºthis("tom")ä¸æ¯æé å¨ä¸­çç¬¬ä¸å¥ä»£ç .\n    public student(){\n        system.out.println("hello");\n        this("tom");\n    }\n    public student(string name){\n        this.name = name;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n2ãthiså³é®å­å¨ç±»ä¸­çæä¹\n\nthiså¨ç±»ä¸­è¡¨ç¤ºå½åç±»å°æ¥åå»ºåºçå¯¹è±¡ã\n\nãä¾å­ã\n\npublic class student {\n    private string name;\n\n    public student() {\n        system.out.println("this = " + this);\n    }\n\n    public static void main(string[] args) {\n        student s = new student();\n        system.out.println("s = " + s);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nè¿è¡åçç»æå¯ç¥ï¼thisåsæå°çç»ææ¯ä¸æ ·çï¼é£ä¹å¶å®ä¹å°±æ¯åésæ¯ä»å¯¹è±¡çå¤é¨æ§è¡å¯¹è±¡ï¼èthisæ¯å¨å¯¹è±¡çåé¨æ§è¡å¯¹è±¡æ¬èº«ã\n\nè¿æ ·ä¹å°±è½çè§£ä¸ºä»ä¹this.nameä»£è¡¨çæ¯æååéï¼this.setname("tom")ä»£è¡¨çæ¯è°ç¨æåæ¹æ³ãå ä¸ºè¿ä¿©å¥ä»£ç ä»æ¬è´¨ä¸è®²ï¼åå¨å¯¹è±¡å¤é¨ä½¿ç¨åésæ¥è°ç¨æ¯ä¸æ ·çï¼s.nameås.setname("tom")\n\nãthisåsæå°åºæ¥çåå­å°åæ¯ä¸æ ·çï¼ä½¿ç¨==æ¯è¾çç»æä¸ºtrueãã\n\npublic class student{\n    public student getstudent(){\n        return this;\n    }\n    public static void main(string[] args) {\n        student s1 = new student();\n        student s2 = s1.getstudent();\n        system.out.println(s1 == s2);//true\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nãè°ç¨ç±»ä¸­çthisï¼s1ås2ä¸ç¸ç­ã\n\npublic class student{\n    private string name;\n    public void test(){\n        system.out.println(this);\n    }\n    public static void main(string[] args) {\n        student s1 = new student();\n        student s2 = new student();\n        s1.test();\n        s2.test();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\næ³¨ï¼è¿å¥è¯æ¯è¦è¿ä¹æ¥æè¿°çï¼s1å¯¹è±¡ä¸­çthisås1ç¸ç­ï¼s2å¯¹è±¡ä¸­çthisås2ç¸ç­ï¼å ä¸ºç±»æ¯æ¨¡æ¿ï¼æ¨¡æ¿ä¸­åçthiså¹¶ä¸æ¯åªæä¸ä¸ªï¼æ¯ä¸ªå¯¹è±¡ä¸­é½æä¸ä¸ªå±äºèªå·±çthisï¼å°±æ¯æ¯ä¸ªå¯¹è±¡ä¸­é½ä¸ä¸ªå±äºèªå·±çnameå±æ§ä¸æ ·ã\n\n\n# åå»ºä¸åå§åå¯¹è±¡\n\nä½¿ç¨newå³é®å­åå»ºå¯¹è±¡\n\nä½¿ç¨newå³é®å­åå»ºçæ¶åï¼é¤äºåéåå­ç©ºé´ä¹å¤ï¼è¿ä¼ç»åå»ºå¥½çå¯¹è±¡è¿è¡é»è®¤çåå§åï¼ä»¥åå¯¹ç±»ä¸­æé å¨çè°ç¨ã\n\né£ä¹å¯¹mainæ¹æ³ä¸­çä»¥ä¸ä»£ç ï¼student s = new student();\n\n1ï¼ ä¸ºå¯¹è±¡åéåå­ç©ºé´ï¼å°å¯¹è±¡çå®ä¾åéèªå¨åå§åé»è®¤å¼ä¸º0/false/nullã(å®ä¾åéçéå¼èµå¼)\n\n2ï¼ å¦æä»£ç ä¸­å®ä¾åéææ¾å¼èµå¼ï¼é£ä¹å°±å°ä¹åçé»è®¤å¼è¦çæã(ä¹åå¯ä»¥éè¿ä¾å­çå°è¿ä¸ªç°è±¡)\n\nä¾å¦ï¼æ¾å¼èµå¼ï¼private string name = "tom";\n\n\n3ï¼ è°ç¨æé å¨\n\n4ï¼ æå¯¹è±¡åå­å°åå¼èµå¼ç»åéã(=å·èµå¼æä½)\n\n\n# æé å¨\n\nç±»ä¸­çæé å¨ä¹ç§°ä¸ºæé æ¹æ³ï¼æ¯å¨è¿è¡åå»ºå¯¹è±¡çæ¶åå¿é¡»è¦è°ç¨çãå¹¶ä¸æé å¨æä»¥ä¸ä¿©ä¸ªç¹ç¹:\n\n 1. å¿é¡»åç±»çåå­ç¸å\n 2. å¿é¡»æ²¡æè¿åç±»å,ä¹ä¸è½åvoid\n\næé å¨çä½ç¨:\n\n 1. ä½¿ç¨newåå»ºå¯¹è±¡çæ¶åå¿é¡»ä½¿ç¨ç±»çæé å¨\n 2. æé å¨ä¸­çä»£ç æ§è¡åï¼å¯ä»¥ç»å¯¹è±¡ä¸­çå±æ§åå§åèµå¼\n\nãæ¼ç¤ºã\n\npublic class student{\n    private string name;\n    \n    public student(){\n        name = "tom";\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\næé å¨éè½½\n\né¤äºæ åæé å¨ä¹å¤ï¼å¾å¤æ¶åæä»¬è¿ä¼ä½¿ç¨æåæé å¨ï¼å¨åå»ºå¯¹è±¡æ¶åå¯ä»¥ç»å±æ§èµå¼ã\n\nãä¾å­ã\n\npublic class student{\n    private string name;\n    public student(){\n        name = "tom";\n    }\n    public student(string name){\n        this.name = name;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\næé å¨ä¹é´çè°ç¨\n\nä½¿ç¨thiså³é®å­ï¼å¨ä¸ä¸ªæé å¨ä¸­å¯ä»¥è°ç¨å¦ä¸ä¸ªæé å¨çä»£ç ã\n\næ³¨æï¼thisçè¿ç§ç¨æ³ä¸ä¼äº§çæ°çå¯¹è±¡ï¼åªæ¯è°ç¨äºæé å¨ä¸­çä»£ç èå·²ãä¸è¬æåµä¸åªæä½¿ç¨newå³é®å­æä¼åå»ºæ°å¯¹è±¡ã\n\nãæ¼ç¤ºã\n\npublic class student{\n    private string name;\n    public student(){\n        this();\n    }\n    public student(string name){\n        this.name = name;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\né»è®¤æé å¨\n\nå¨javaä¸­ï¼å³ä½¿æä»¬å¨ç¼åç±»çæ¶åæ²¡æåæé å¨ï¼é£ä¹å¨ç¼è¯ä¹åä¹ä¼èªå¨çæ·»å ä¸ä¸ªæ åæé å¨ï¼è¿ä¸ªæ åæé å¨ä¹è¢«ç§°ä¸ºé»è®¤çæé å¨ã\n\nãç¤ºä¾ã\n\npublic class student{\n    \n}\n\nmain:\n//ç¼è¯éè¿,å ä¸ºææ åæé å¨\nstudent s = new student();\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nä½æ¯,å¦ææä»¬æå¨çç¼åäºä¸ä¸ªæé å¨,é£ä¹ç¼è¯åå°±ä¸ä¼æ·»å ä»»ä½æé å¨äº\n\nãç¤ºä¾ã\n\npublic class student{\n    private string name;\n    public student(string name){\n        this.name = name;\n    }\n}\n\nmain:\n//ç¼è¯æ¥é,å ä¸ºæ²¡ææ åæé å¨\nstudent s = new student();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# åå­åæ\n\njavaç¨åºè¿è¡çåå­åæ\n\næ  stackï¼\n\n 1. æ¯ä¸ªçº¿ç¨ç§æï¼ä¸è½å®ç°çº¿ç¨é´çå±äº«ï¼\n 2. å±é¨åéæ¾ç½®äºæ ä¸­ã\n 3. æ æ¯ç±ç³»ç»èªå¨åéï¼éåº¦å¿«ï¼æ æ¯ä¸ä¸ªè¿ç»­çåå­ç©ºé´ï¼\n\nå  heapï¼\n\n 1. æ¾ç½®newåºæ¥çå¯¹è±¡ï¼\n 2. å æ¯ä¸ä¸ªä¸è¿ç»­çåå­ç©ºé´ï¼åéçµæ´»ï¼éåº¦æ¢ï¼\n\næ¹æ³åº(ä¹æ¯å )ï¼\n\n 1. è¢«ææçº¿ç¨å±äº«ï¼\n 2. ç¨æ¥å­æ¾ç¨åºä¸­æ°¸è¿æ¯ä¸åæå¯ä¸çåå®¹ãï¼ç±»ä»£ç ä¿¡æ¯ãéæåéãå­ç¬¦ä¸²å¸¸éï¼\n\n\n\næ³¨æï¼æ¬æ¬¡åå­åæï¼æä»¬çä¸»è¦ç®çæ¯è®©å¤§å®¶äºè§£åºæ¬çåå­æ¦å¿µãç±»å è½½å¨ãclasså¯¹è±¡è¿äºæ´å è¯¦ç»çåå®¹ï¼æä»¬å°å¨åé¢ä¸é¨è®²åå°çè¯¾ç¨éé¢è®²ã\n\nå¼ç¨ç±»åçæ¦å¿µ\n\n 1. javaä¸­ï¼é¤äºåºæ¬æ°æ®ç±»åä¹å¤çå¶ä»ç±»åç§°ä¹ä¸ºå¼ç¨ç±»åã\n 2. javaä¸­çå¯¹è±¡æ¯éè¿å¼ç¨æ¥æä½çã(å¼ç¨ï¼reference)è¯´ç½äºï¼å¼ç¨æçå°±æ¯å¯¹è±¡çå°åï¼\n\nå±æ§ï¼fieldï¼æèå«æååéï¼\n\n 1. å±æ§ç¨äºå®ä¹è¯¥ç±»æè¯¥ç±»å¯¹è±¡åå«çæ°æ®æèè¯´éæå±æ§ã\n\n 2. å±æ§ä½ç¨èå´æ¯æ´ä¸ªç±»ä½ã\n\n 3. å±æ§çé»è®¤åå§åï¼\n\nå¨å®ä¹æååéæ¶å¯ä»¥å¯¹å¶åå§åï¼å¦æä¸å¯¹å¶åå§åï¼javaä½¿ç¨é»è®¤çå¼å¯¹å¶åå§å(æ°å¼ï¼0,0.0 charï¼u0000, booleanï¼false, ææå¼ç¨ç±»åï¼null)\n\n 4. å±æ§å®ä¹æ ¼å¼ï¼\n    \n    > [ä¿®é¥°ç¬¦] å±æ§ç±»å å±æ§å = [é»è®¤å¼]\n\nç±»çæ¹æ³\n\næ¹æ³æ¯ç±»åå¯¹è±¡å¨æè¡ä¸ºç¹å¾çæ½è±¡ãæ¹æ³å¾ç±»ä¼¼äºé¢åè¿ç¨ä¸­çå½æ°ãé¢åè¿ç¨ä¸­ï¼å½æ°æ¯æåºæ¬åä½ï¼æ´ä¸ªç¨åºæä¸ä¸ªä¸ªå½æ°è°ç¨ç»æï¼é¢åå¯¹è±¡ä¸­ï¼æ´ä¸ªç¨åºçåºæ¬åä½æ¯ç±»ï¼æ¹æ³æ¯ä»å±äºç±»æå¯¹è±¡çã\n\næ¹æ³å®ä¹æ ¼å¼ï¼\n\n[ä¿®é¥°ç¬¦] æ¹æ³è¿åå¼ç±»å æ¹æ³å(å½¢ååè¡¨) {\n    // næ¡è¯­å¥\n}\n\n\n1\n2\n3\n\n\njavaå¯¹è±¡çåå»ºåä½¿ç¨\n\n * å¿é¡»ä½¿ç¨ new å³é®å­åå»ºå¯¹è±¡ã\n   \n   person person= new person ();\n\n * ä½¿ç¨å¯¹è±¡ï¼å¼ç¨ï¼.æååéæ¥å¼ç¨å¯¹è±¡çæååéã\n   \n   person.age\n\n * ä½¿ç¨å¯¹è±¡ï¼å¼ç¨ï¼. æ¹æ³ï¼åæ°åè¡¨ï¼æ¥è°ç¨å¯¹è±¡çæ¹æ³\n   \n   person.setage(18)\n\nç±»ä¸­å°±æ¯ï¼éæçæ°æ® å¨æçè¡ä¸º\n\nå­¦ä¹ å®ç±»ä¸å¯¹è±¡ç»äºè®¤è¯å°ä»ä¹æ¯ç±»ï¼ä»ä¹æ¯å¯¹è±¡äºã\n\næ¥ä¸æ¥è¦ççå°±æ¯javaçä¸å¤§ç¹å¾ï¼ç»§æ¿ãå° è£ãå¤æã\n\n\n# å°è£\n\næè¦ççµè§ï¼åªéè¦æä¸ä¸å¼å³åæ¢å°å°±å¯ä»¥äºãæå¿è¦äºè§£çµè§æºåé¨çç»æåï¼æå¿è¦ç¢°ç¢°æ¾åç®¡åï¼\n\nå¶é åå®¶ä¸ºäºæ¹ä¾¿æä»¬ä½¿ç¨çµè§ï¼æå¤æçåé¨ç»èå¨é¨å°è£èµ·æ¥ï¼åªç»æä»¬æ´é²ç®åçæ¥å£ï¼æ¯å¦ï¼ çµæºå¼å³ãéè¦è®©ç¨æ·ç¥éçæ´é²åºæ¥ï¼ä¸éè¦è®©ç¨æ·äºè§£çå¨é¨éèèµ·æ¥ãè¿å°±æ¯å°è£ã\n\nç½è¯ï¼è¯¥é²çé²ï¼è¯¥èçè\n\nä¸ä¸ï¼æä»¬ç¨åºè®¾è®¡è¦è¿½æ±âé«åèï¼ä½è¦åâãé«åèå°±æ¯ç±»çåé¨æ°æ®æä½ç»èèªå·±å®æï¼ä¸åè®¸å¤é¨å¹²æ¶ï¼ä½è¦åï¼ä»æ´é²å°éçæ¹æ³ç»å¤é¨ä½¿ç¨ã\n\nå°è£ï¼æ°æ®çéèï¼\n\nå¨å®ä¹ä¸ä¸ªå¯¹è±¡çç¹æ§çæ¶åï¼æå¿è¦å³å®è¿äºç¹æ§çå¯è§æ§ï¼å³åªäºç¹æ§å¯¹å¤é¨æ¯å¯è§çï¼åªäºç¹æ§ç¨äºè¡¨ç¤ºåé¨ç¶æã\n\néå¸¸ï¼åºç¦æ­¢ç´æ¥è®¿é®ä¸ä¸ªå¯¹è±¡ä¸­æ°æ®çå®éè¡¨ç¤ºï¼èåºéè¿æä½æ¥å£æ¥è®¿é®ï¼è¿ç§°ä¸ºä¿¡æ¯éèã\n\n\n# 1ãå°è£çæ­¥éª¤\n\n 1. ä½¿ç¨private ä¿®é¥°éè¦å°è£çæååéã\n\n 2. æä¾ä¸ä¸ªå¬å¼çæ¹æ³è®¾ç½®æèè®¿é®ç§æçå±æ§\n    \n    è®¾ç½® éè¿setæ¹æ³ï¼å½åæ ¼å¼ï¼ setå±æ§åï¼ï¼; å±æ§çé¦å­æ¯è¦å¤§å\n    \n    è®¿é® éè¿getæ¹æ³ï¼å½åæ ¼å¼ï¼ getå±æ§åï¼ï¼; å±æ§çé¦å­æ¯è¦å¤§å\n\nãæ¼ç¤ºã\n\n//å¯¹è±¡è½å¨ç±»çå¤é¨"ç´æ¥"è®¿é®\npublic class student{\n    public string name;\n    public void println(){\n        system.out.println(this.name);\n    }\n}\npublic class test{\n    public static void main(string[] args){\n        student s = new student();\n        s.name = "tom";\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nå¨ç±»ä¸­ä¸è¬ä¸ä¼ææ°æ®ç´æ¥æ´é²å¨å¤é¨çï¼èä½¿ç¨private(ç§æ)å³é®å­ææ°æ®éèèµ·æ¥\n\nãæ¼ç¤ºã\n\npublic class student{\n    private string name;\n}\npublic class test{\n    public static void main(string[] args){\n        student s = new student();\n        //ç¼è¯æ¥é,å¨ç±»çå¤é¨ä¸è½ç´æ¥è®¿é®ç±»ä¸­çç§ææå\n        s.name = "tom";\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nå¦æå¨ç±»çå¤é¨éè¦è®¿é®è¿äºç§æå±æ§,é£ä¹å¯ä»¥å¨ç±»ä¸­æä¾å¯¹äºçgetåsetæ¹æ³,ä»¥ä¾¿è®©ç¨æ·å¨ç±»çå¤é¨ å¯ä»¥é´æ¥çè®¿é®å°ç§æå±æ§\n\nãç¤ºä¾ã\n\n//setè´è´£ç»å±æ§èµå¼\n//getè´è´£è¿åå±æ§çå¼\npublic class student{\n    private string name;\n    public void setname(string name){\n    this.name = name;\n\t}\n\tpublic string getname(){\n        return this.name;\n\t}\n}\npublic class test{\n    public static void main(string[] args){\n        student s = new student();\n        s.setname("tom");\n        system.out.println(s.getname());\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# 2ãä½ç¨åæä¹\n\n 1. æé«ç¨åºçå®å¨æ§ï¼ä¿æ¤æ°æ®ã\n 2. éèä»£ç çå®ç°ç»è\n 3. ç»ä¸ç¨æ·çè°ç¨æ¥å£\n 4. æé«ç³»ç»çå¯ç»´æ¤æ§\n 5. ä¾¿äºè°ç¨èè°ç¨ã\n\nè¯å¥½çå°è£ï¼ä¾¿äºä¿®æ¹åé¨ä»£ç ï¼æé«å¯ç»´æ¤æ§ã\n\nè¯å¥½çå°è£ï¼å¯è¿è¡æ°æ®å®æ´æ§æ£æµï¼ä¿è¯æ°æ®çæææ§ã\n\n\n# 3ãæ¹æ³éè½½\n\nç±»ä¸­æå¤ä¸ªæ¹æ³ï¼æçç¸åçæ¹æ³åï¼ä½æ¯æ¹æ³çåæ°åä¸ç¸å,è¿ç§æåµè¢«ç§°ä¸ºæ¹æ³çéè½½ãæ¹æ³çéè½½å¯ä»¥æä¾æ¹æ³è°ç¨ççµæ´»æ§ã\n\næèï¼helloworldä¸­çsystem.out.println()æ¹æ³ï¼ä¸ºä»ä¹å¯ä»¥æä¸åç±»åçåæ°ä¼ ç»è¿ä¸ªæ¹æ³?\n\nãæ¼ç¤ºï¼æ¥çprintlnæ¹æ³çéè½½ã ideaä¸­ctrl+å·¦é®ç¹å»println\n\nä¾å¦:\n\npublic class test{\n    public void test(string str){\n        \n    }\n    public void test(int a){\n        \n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\næ¹æ³éè½½å¿é¡»æ»¡è¶³ä»¥ä¸æ¡ä»¶\n\n 1. æ¹æ³åå¿é¡»ç¸å\n\n 2. åæ°åè¡¨å¿é¡»ä¸å(åæ°çç±»åãä¸ªæ°ãé¡ºåºçä¸å)\n    \n    public void test(strig str){}\n    public void test(int a){}\n    \n    public void test(strig str,double d){}\n    public void test(strig str){}\n    \n    public void test(strig str,double d){}\n    public void test(double d,strig str){}\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    \n\n 3. æ¹æ³çè¿åå¼å¯ä»¥ä¸åï¼ä¹å¯ä»¥ç¸åã\n\nå¨javaä¸­ï¼å¤æ­ä¸ä¸ªç±»ä¸­çä¿©ä¸ªæ¹æ³æ¯å¦ç¸åï¼ä¸»è¦åèä¿©ä¸ªæ¹é¢ï¼æ¹æ³åå­ååæ°åè¡¨\n\n\n# ç»§æ¿\n\nç»§æ¿ï¼extands\n\nç°å®ä¸çä¸­çç»§æ¿æ å¤ä¸å¨ãæ¯å¦ï¼\n\nå¨ç©ï¼åºä¹³å¨ç©ãç¬è¡å¨ç©\n\nåºä¹³å¨ç©ï¼çµé¿ç®ãé²¸ç®ç­ã\n\nç»§æ¿çæ¬è´¨æ¯å¯¹æä¸æ¹ç±»çæ½è±¡ï¼ä»èå®ç°å¯¹ç°å®ä¸çæ´å¥½çå»ºæ¨¡ã\n\nä¸ºä»ä¹éè¦ç»§æ¿ï¼ç»§æ¿çä½ç¨ï¼\n\nç¬¬ä¸å¥½å¤ï¼ç»§æ¿çæ¬è´¨å¨äºæ½è±¡ãç±»æ¯å¯¹å¯¹è±¡çæ½è±¡ï¼ç»§æ¿æ¯å¯¹æä¸æ¹ç±»çæ½è±¡ã\n\nç¬¬äºå¥½å¤ï¼ä¸ºäºæé«ä»£ç çå¤ç¨æ§ã\n\nextandsçæææ¯âæ©å±âãå­ç±»æ¯ç¶ç±»çæ©å±ã\n\nãæ³¨ãjavaä¸­ç±»åªæåç»§æ¿ï¼æ²¡æå¤ç»§æ¿ï¼ æ¥å£å¯ä»¥å¤ç»§æ¿ï¼\n\n\n# 1ãç»§æ¿\n\n 1. ç»§æ¿æ¯ç±»åç±»ä¹é´çä¸ç§å³ç³»ãé¤æ­¤ä¹å¤,ç±»åç±»ä¹é´çå³ç³»è¿æä¾èµãç»åãèåç­ã\n\n 2. ç»§æ¿å³ç³»çä¿©ä¸ªç±»ï¼ä¸ä¸ªä¸ºå­ç±»(æ´¾çç±»),ä¸ä¸ªä¸ºç¶ç±»(åºç±»)ãå­ç±»ç»§æ¿ç¶ç±»ï¼ä½¿ç¨å³é®å­extendsæ¥è¡¨ç¤ºã\n    \n    public class student extends person{\n    }\n    \n    \n    1\n    2\n    \n\n 3. å­ç±»åç¶ç±»ä¹é´ï¼ä»æä¹ä¸è®²åºè¯¥å·æ"is a"çå³ç³»ã\n    \n    > student is a person\n    > \n    > dog is a animal\n\n 4. ç±»åç±»ä¹é´çç»§æ¿æ¯åç»§æ¿\n    \n    ä¸ä¸ªå­ç±»åªè½"ç´æ¥"ç»§æ¿ä¸ä¸ªç¶ç±»,å°±åæ¯ä¸ä¸ªäººåªè½æä¸ä¸ªäº²çç¶äº² ä¸ä¸ªç¶ç±»å¯ä»¥è¢«å¤å­ç±»ç»§æ¿,å°±åä¸ä¸ªç¶äº²å¯ä»¥æå¤ä¸ªå­©å­\n    \n    æ³¨:javaä¸­æ¥å£åæ¥å£ä¹é´,æå¯ä»¥ç»§æ¿,å¹¶ä¸æ¯å¤ç»§æ¿ã\n\n 5. ç¶ç±»ä¸­çå±æ§åæ¹æ³å¯ä»¥è¢«å­ç±»ç»§æ¿\n    \n    å­ç±»ä¸­ç»§æ¿äºç¶ç±»ä¸­çå±æ§åæ¹æ³å,å¨å­ç±»ä¸­è½ä¸è½ç´æ¥ä½¿ç¨è¿äºå±æ§åæ¹æ³,æ¯åè¿äºå±æ§åæ¹æ³åæ çä¿®é¥°ç¬¦(public protected default private)ç¸å³çã\n    \n    ä¾å¦ï¼\n    \n    ç¶ç±»ä¸­çå±æ§åæ¹æ³ä½¿ç¨publicä¿®é¥°ï¼å¨å­ç±»ä¸­ç»§æ¿å"å¯ä»¥ç´æ¥"ä½¿ç¨ ç¶ç±»ä¸­çå±æ§åæ¹æ³ä½¿ç¨privateä¿®é¥°ï¼å¨å­ç±»ä¸­ç»§æ¿å"ä¸å¯ä»¥ç´æ¥"ä½¿ç¨\n    \n    æ³¨ï¼å·ä½ç»åå¨ä¿®é¥°ç¬¦é¨åè¯¦ç»è¯´æ\n    \n    ç¶ç±»ä¸­çæé å¨æ¯ä¸è½è¢«å­ç±»ç»§æ¿çï¼ä½æ¯å­ç±»çæé å¨ä¸­ï¼ä¼éå¼çè°ç¨ç¶ç±»ä¸­çæ åæé å¨ï¼é»è®¤ä½¿ç¨ superå³é®å­ï¼ã\n    \n    æ³¨:å·ä½ç»èå¨superå³é®å­é¨åè¯¦ç»è¯´æ\n\n\n# 2ãobjectç±»\n\njavaä¸­çæ¯ä¸ä¸ªç±»é½æ¯"ç´æ¥" æè "é´æ¥"çç»§æ¿äºobjectç±»ãæä»¥æ¯ä¸ä¸ªå¯¹è±¡é½åobjectç±»æ"is a"çå³ç³»ãä»apiææ¡£ä¸­ï¼å¯ä»¥çå°ä»»ä½ä¸ä¸ªç±»æä¸å±çç¶ç±»é½æ¯objectã(objectç±»æ¬èº«é¤å¤)anyclass is a objectã\n\n> system.out.println(ä»»ä½å¯¹è±¡ instanceof object);\n> \n> è¾åºç»æ:true æ³¨:ä»»ä½å¯¹è±¡ä¹åå«æ°ç»å¯¹è±¡\n\nä¾å¦:\n\n//ç¼è¯å,personç±»ä¼é»è®¤ç»§æ¿object\npublic class person{}\n\n//studentæ¯é´æ¥çç»§æ¿äºobject\npublic class student extends person{}\n\n\n1\n2\n3\n4\n5\n\n\nå¨objectç±»ä¸­ï¼æä¾äºä¸äºæ¹æ³è¢«å­ç±»ç»§æ¿ï¼é£ä¹å°±æå³çï¼å¨javaä¸­ï¼ä»»ä½ä¸ä¸ªå¯¹è±¡é½å¯ä»¥è°ç¨è¿äºè¢«ç»§æ¿è¿æ¥çæ¹æ³ã(å ä¸ºobjectæ¯æä»¥ç±»çç¶ç±»)\n\nä¾å¦ï¼tostringæ¹æ³ãequalsæ¹æ³ãgetclassæ¹æ³ç­\n\n\n# 3ãsuperå³é®å­\n\nå­ç±»ç»§æ¿ç¶ç±»ä¹åï¼å¨å­ç±»ä¸­å¯ä»¥ä½¿ç¨thisæ¥è¡¨ç¤ºè®¿é®æè°ç¨å­ç±»ä¸­çå±æ§ææ¹æ³ï¼ä½¿ç¨superå°±è¡¨ç¤ºè®¿é®æè°ç¨ç¶ç±»ä¸­çå±æ§åæ¹æ³ã\n\n1ãsuperçä½¿ç¨\n\nãè®¿é®ç¶ç±»ä¸­çå±æ§ã\n\npublic class person{\n    protected string name = "zs";\n}\n\n\n1\n2\n3\n\n\npublic class student extends person{\n    private string name = "lisi";\n    public void tes(string name){\n        system.out.println(name);\n        system.out.println(this.name);\n        system.out.println(super.name);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nãè°ç¨ç¶ç±»ä¸­çæ¹æ³ã\n\npublic class person{\n    public void print(){\n        system.out.println("person");\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n\n\npublic class student extends person{\n    public void print(){\n        system.out.println("student");\n    }\n    public void test(){\n        print();\n        this.print();\n        super.print();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nãè°ç¨ç¶ç±»ä¸­çæé å¨ã\n\npublic class person{\n}\n\npublic class student extends person{\n    //ç¼è¯éè¿,å­ç±»æé å¨ä¸­ä¼éå¼çè°ç¨ç¶ç±»çæ åæé å¨\n    //super();\n    public student(){\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nç¶ç±»æ²¡ææ åæé \n\npublic class person{\n    protected string name;\n    public person(string name){\n        this.name = name;\n    }\n}\npublic class student extends person{\n    //ç¼è¯æ¥é,å­ç±»æé å¨ä¸­ä¼éå¼çè°ç¨ç¶ç±»çæ åæé å¨,ä½æ¯ç¶ç±»ä¸­æ²¡ææ åæé å¨\n    //super();\n    public student(){\n        \n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nãæ¾å¼çè°ç¨ç¶ç±»çæåæé å¨ã\n\npublic class person{\n    protected string name;\n    public person(string name){\n    this.name = name;\n\t}\n}\n\npublic class student extends person{\n    //ç¼è¯éè¿,å­ç±»æé å¨ä¸­æ¾å¼çè°ç¨ç¶ç±»çæåæé å¨\n    public student(){\n        super("tom");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\næ³¨ï¼ä¸ç®¡æ¯æ¾å¼è¿æ¯éå¼çç¶ç±»çæé å¨ï¼superè¯­å¥ä¸å®è¦åºç°å¨å­ç±»æé å¨ä¸­ç¬¬ä¸è¡ä»£ç ãæä»¥thiså superä¸å¯è½åæ¶ä½¿ç¨å®ä»¬è°ç¨æé å¨çåè½ï¼å ä¸ºå®ä»¬é½è¦åºç°å¨ç¬¬ä¸è¡ä»£ç ä½ç½®ã\n\nãä¾å­ã\n\npublic class person{\n    protected string name;\n    public person(string name){\n        this.name = name;\n    }\n}\n\npublic class student extends person{\n    //ç¼è¯æ¥é,superè°ç¨æé å¨çè¯­å¥ä¸æ¯ç¬¬ä¸è¡ä»£ç \n    public student(){\n        system.out.println("student");\n        super("tom");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nãä¾å­ã\n\npublic class person{\n    protected string name;\n    public person(string name){\n        this.name = name;\n    }\n}\n//ç¼è¯éè¿\npublic class student extends person{\n    private int age;\n    public student(){\n        this(20);\n    }\n    public student(int age){\n        super("tom");\n        this.age = age;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\nsuperä½¿ç¨çæ³¨æçå°æ¹\n\n * ç¨superè°ç¨ç¶ç±»æé æ¹æ³ï¼å¿é¡»æ¯æé æ¹æ³ä¸­çç¬¬ä¸ä¸ªè¯­å¥ã\n * superåªè½åºç°å¨å­ç±»çæ¹æ³æèæé æ¹æ³ä¸­\n * super å this ä¸è½å¤åæ¶è°ç¨æé æ¹æ³ãï¼å ä¸ºthisä¹æ¯å¨æé æ¹æ³çç¬¬ä¸ä¸ªè¯­å¥ï¼\n\nsuper å this çåºå«\n\n 1. ä»£è¡¨çäºç©ä¸ä¸æ ·ï¼\n    \n    thisï¼ä»£è¡¨æå±æ¹æ³çè°ç¨èå¯¹è±¡ã\n    \n    superï¼ä»£è¡¨ç¶ç±»å¯¹è±¡çå¼ç¨ç©ºé´ã\n\n 2. ä½¿ç¨åæä¸ä¸è´ï¼\n    \n    thisï¼å¨éç»§æ¿çæ¡ä»¶ä¸ä¹å¯ä»¥ä½¿ç¨ã\n    \n    superï¼åªè½å¨ç»§æ¿çæ¡ä»¶ä¸æè½ä½¿ç¨ã\n\n 3. è°ç¨æé æ¹æ³ï¼\n    \n    thisï¼è°ç¨æ¬ç±»çæé æ¹æ³ã\n    \n    superï¼è°ç¨çç¶ç±»çæé æ¹æ³\n\n\n# 4ãæ¹æ³éå\n\næ¹æ³çéåï¼overrideï¼\n\n * æ¹æ³éååªå­å¨äºå­ç±»åç¶ç±»(åæ¬ç´æ¥ç¶ç±»åé´æ¥ç¶ç±»)ä¹é´ãå¨åä¸ä¸ªç±»ä¸­æ¹æ³åªè½è¢«éè½½ï¼ä¸è½è¢«éå\n * éææ¹æ³ä¸è½éå\n   1. ç¶ç±»çéææ¹æ³ä¸è½è¢«å­ç±»éåä¸ºééææ¹æ³ //ç¼è¯åºé\n   2. ç¶ç±»çééææ¹æ³ä¸è½è¢«å­ç±»éåä¸ºéææ¹æ³ï¼//ç¼è¯åºé\n   3. å­ç±»å¯ä»¥å®ä¹ä¸ç¶ç±»çéææ¹æ³ååçéææ¹æ³(ä½æ¯è¿ä¸ªä¸æ¯è¦ç)\n\nãä¾å­ã\n\n> aç±»ç»§æ¿bç±» aåbä¸­é½ä¸ä¸ªç¸åçéææ¹æ³test\n> \n> b a = new a(); a.test();//è°ç¨å°çæ¯bç±»ä¸­çéææ¹æ³test\n> \n> a a = new a(); a.test();//è°ç¨å°çæ¯aç±»ä¸­çéææ¹æ³test\n> \n> å¯ä»¥çåºéææ¹æ³çè°ç¨åªååéå£°æçç±»åç¸å³ è¿ä¸ªåééææ¹æ³çéåä¹åçææå®å¨ä¸å\n\nç§ææ¹æ³ä¸è½è¢«å­ç±»éåï¼å­ç±»ç»§æ¿ç¶ç±»å,æ¯ä¸è½ç´æ¥è®¿é®ç¶ç±»ä¸­çç§ææ¹æ³ç,é£ä¹å°±æ´è°ä¸ä¸éåäº\n\npublic class person{\n    private void run(){}\n    \n}\n\n//ç¼è¯éè¿,ä½è¿ä¸æ¯éå,åªæ¯ä¿©ä¸ªç±»ä¸­åå«æèªå·±çç§ææ¹æ³\npublic class student extends person{\n    private void run(){}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\néåçè¯­æ³\n\n 1. æ¹æ³åå¿é¡»ç¸å\n\n 2. åæ°åè¡¨å¿é¡»ç¸å\n\n 3. è®¿é®æ§å¶ä¿®é¥°ç¬¦å¯ä»¥è¢«æ©å¤§ï¼ä½æ¯ä¸è½è¢«ç¼©å°ï¼ public protected default private\n\n 4. æåºå¼å¸¸ç±»åçèå´å¯ä»¥è¢«ç¼©å°,ä½æ¯ä¸è½è¢«æ©å¤§\n    \n    classnotfoundexception ---\x3e exceptionï¼ä¸è½æ©å¤§ï¼\n\n 5. è¿åç±»åå¯ä»¥ç¸åï¼ä¹å¯ä»¥ä¸åã\n    \n    å¦æä¸åçè¯ï¼å­ç±»éååçæ¹æ³è¿åç±»åå¿é¡»æ¯ç¶ç±»æ¹æ³è¿åç±»åçå­ç±»åã\n    \n    ä¾å¦ï¼ç¶ç±»æ¹æ³çè¿åç±»åæ¯personï¼å­ç±»éååçè¿åç±»å¯ä»¥æ¯personä¹å¯ä»¥æ¯personçå­ç±»å\n\næ³¨ï¼ä¸è¬æåµä¸ï¼éåçæ¹æ³ä¼åç¶ç±»ä¸­çæ¹æ³çå£°æå®å¨ä¿æä¸è´ï¼åªææ¹æ³çå®ç°ä¸åã(ä¹å°±æ¯å¤§æ¬å·ä¸­ä»£ç ä¸ä¸æ ·)\n\npublic class person{\n    public void run(){}\n    protected object test()throws exception{\n        return null;\n    }\n}\n\n//ç¼è¯éè¿,å­ç±»ç»§æ¿ç¶ç±»,éåäºrunåtestæ¹æ³.\npublic class student extends person{\n    public void run(){}\n    public string test(){\n        return "";\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nä¸ºä»ä¹è¦éåï¼\n\nå­ç±»ç»§æ¿ç¶ç±»ï¼ç»§æ¿äºç¶ç±»ä¸­çæ¹æ³ï¼ä½æ¯ç¶ç±»ä¸­çæ¹æ³å¹¶ä¸ä¸å®è½æ»¡è¶³å­ç±»ä¸­çåè½éè¦ï¼æä»¥å­ç±»ä¸­éè¦ææ¹æ³è¿è¡éåã\n\næ»ç»ï¼\n\n 1. æ¹æ³éåçæ¶åï¼å¿é¡»å­å¨ç»§æ¿å³ç³»ã\n 2. æ¹æ³éåçæ¶åï¼æ¹æ³ååå½¢å¼åæ°å¿é¡»è·ç¶ç±»æ¯ä¸è´çã\n 3. æ¹æ³éåçæ¶åï¼å­ç±»çæéä¿®é¥°ç¬¦å¿é¡»è¦å¤§äºæèç­äºç¶ç±»çæéä¿®é¥°ç¬¦ã( private < protected < publicï¼friendly < public )\n 4. æ¹æ³éåçæ¶åï¼å­ç±»çè¿åå¼ç±»åå¿é¡»å°äºæèç­äºç¶ç±»çè¿åå¼ç±»åã( å­ç±» < ç¶ç±» ) æ°æ®ç±»åæ²¡ææç¡®çä¸ä¸çº§å³ç³»\n 5. æ¹æ³éåçæ¶åï¼å­ç±»çå¼å¸¸ç±»åè¦å°äºæèç­äºç¶ç±»çå¼å¸¸ç±»åã\n\n\n# å¤æ\n\n\n# 1ãè®¤è¯å¤æ\n\nå¤ææ§æ¯oopä¸­çä¸ä¸ªéè¦ç¹æ§ï¼ä¸»è¦æ¯ç¨æ¥å®ç°å¨æèç¼çï¼æ¢å¥è¯è¯´ï¼å°±æ¯ç¨åºçæç»ç¶æåªæå¨æ§è¡è¿ç¨ä¸­æè¢«å³å®èéå¨ç¼è¯æé´å°±å³å®äºãè¿å¯¹äºå¤§åç³»ç»æ¥è¯´è½æé«ç³»ç»ççµæ´»æ§åæ©å±æ§ã\n\nå¤æå¯ä»¥è®©æä»¬ä¸ç¨å³å¿æä¸ªå¯¹è±¡å°åºæ¯ä»ä¹å·ä½ç±»åï¼å°±å¯ä»¥ä½¿ç¨è¯¥å¯¹è±¡çæäºæ¹æ³ï¼ä»èå®ç°æ´å çµæ´»çç¼ç¨ï¼æé«ç³»ç»çå¯æ©å±æ§ã\n\nåè®¸ä¸åç±»çå¯¹è±¡å¯¹åä¸æ¶æ¯ååºååºãå³åä¸æ¶æ¯å¯ä»¥æ ¹æ®åéå¯¹è±¡çä¸åèéç¨å¤ç§ä¸åçè¡ä¸ºæ¹å¼ã\n\nç¸åç±»åçä¸åå¯¹è±¡,è°ç¨ç¸åçæ¹æ³,æ§è¡ç»ææ¯ä¸åç\n\n 1. ä¸ä¸ªå¯¹è±¡çå®éç±»åæ¯ç¡®å®ç\n    \n    ä¾å¦: new student(); new person();ç­\n\n 2. å¯ä»¥æåå¯¹è±¡çå¼ç¨çç±»åæå¾å¤\n    \n    ä¸ä¸ªå¯¹è±¡çå®ç°ç±»åè½ç¶æ¯ç¡®å®çï¼ä½æ¯è¿ä¸ªå¯¹è±¡æå±çç±»åå¯è½æå¾å¤ç§ã\n    \n    ä¾å¦ï¼studentç»§æ¿äºpersonç±»\n    \n    student s1 = new student();\n    person s2 = new student();\n    object s3 = new student();\n    \n    \n    1\n    2\n    3\n    \n    \n    å ä¸ºpersonåobjecté½æ¯studentçç¶ç±»å\n    \n    \n\næ³¨ï¼ä¸ä¸ªå¯¹è±¡çå®éç±»åæ¯ç¡®å®ï¼ä½æ¯å¯ä»¥æåè¿ä¸ªå¯¹è±¡çå¼ç¨çç±»åï¼å´æ¯å¯ä»¥æ¯è¿å¯¹è±¡å®éç±»åçä»»æç¶ç±»åã\n\nä¸ä¸ªç¶ç±»å¼ç¨å¯ä»¥æåå®çä»»ä½ä¸ä¸ªå­ç±»å¯¹è±¡\n\nä¾å¦ï¼\n\nobject o = new anyclass();\nperson p = null;\np = new student();\np = new teacher();\np = new person();\n\n\n1\n2\n3\n4\n5\n\n\nå¤æä¸­çæ¹æ³è°ç¨\n\npublic class person{\n    public void run(){}\n}\n\npublic class student extends person{\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nè°ç¨å°çrunæ¹æ³,æ¯studentä»personç»§æ¿è¿æ¥çrunæ¹æ³\n\nperson p = new student();\np.run();\n\n\n1\n2\n\n\nä¾å¦ï¼\n\npublic class person{\n    public void run(){}\n}\n\npublic class student extends person{\n    public void run(){\n    //éårunæ¹æ³\n    }\n}\n\n//è°ç¨å°çrunæ¹æ³,æ¯studentä¸­éåçrunæ¹æ³\npublic static void main(string[] args) {\n    person p = new student();\n    p.run();\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\næ³¨ï¼å­ç±»ç»§æ¿ç¶ç±»,è°ç¨aæ¹æ³ï¼å¦æaæ¹æ³å¨å­ç±»ä¸­æ²¡æéå,é£ä¹å°±æ¯è°ç¨çæ¯å­ç±»ç»§æ¿ç¶ç±»çaæ¹æ³, å¦æéåäº,é£ä¹è°ç¨çå°±æ¯éåä¹åçæ¹æ³ã\n\nå­ç±»ä¸­ç¬ææ¹æ³çè°ç¨\n\npublic class person{\n    public void run(){}\n}\n\npublic class student extends person{\n    public void test(){\n    }\n}\n\nmain:\nperson p = new student();\n//è°ç¨å°ç»§æ¿çrunæ¹æ³\np.run();\n\n//ç¼è¯æ¥é,å ä¸ºç¼è¯å¨æ£æ¥åépçç±»åæ¯person,ä½æ¯å¨personç±»ä¸­å¹¶æ²¡æåç°testæ¹æ³,æä»¥ç¼è¯æ¥é.\np.test();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\næ³¨ï¼ä¸ä¸ªåéxï¼è°ç¨ä¸ä¸ªæ¹æ³testï¼ç¼è¯å¨æ¯å¦è½è®©å¶ç¼è¯éè¿ï¼ä¸»è¦æ¯çå£°æåéxçç±»åä¸­ææ²¡æå®ä¹ testæ¹æ³ï¼å¦ææåç¼è¯éè¿ï¼å¦ææ²¡æåç¼è¯æ¥éãèä¸æ¯çxææåçå¯¹è±¡ä¸­ææ²¡ætestæ¹æ³ã\n\nåçï¼ç¼è¯çå·¦è¾¹ï¼è¿è¡ä¸ä¸å®çå³è¾¹ã\n\n> ç¼è¯çå·¦è¾¹çææï¼java ç¼è¯å¨å¨ç¼è¯çæ¶åä¼æ£æµå¼ç¨ç±»åä¸­å«ææå®çæåï¼å¦ææ²¡æå°±ä¼æ¥éã å­ç±»çæåæ¯ç¹æçï¼ç¶ç±»çæ²¡æçï¼æä»¥ä»æ¯æ¾ä¸å°çã\n> \n> æä»¥çå·¦è¾¹ï¼person ä¸­æ²¡ætest()æ¹æ³ï¼äºæ¯ç¼è¯æ¥é\n\nå­ç±»å¼ç¨åç¶ç±»å¼ç¨æåå¯¹è±¡çåºå«\n\nstudent s = new student();\nperson p = new student();\n\n\n1\n2\n\n\nåésè½è°ç¨çæ¹æ³æ¯studentä¸­æçæ¹æ³(åæ¬ç»§æ¿è¿æ¥ç)ï¼åépè½è°ç¨çæ¹æ³æ¯personä¸­æçæ¹æ³(åæ¬ç»§æ¿è¿æ¥ç)ã\n\nä½æ¯åépæ¯ç¶ç±»åçï¼pä¸ä»å¯ä»¥æåstudentå¯¹è±¡ï¼è¿å¯ä»¥æåteacherç±»åå¯¹è±¡ç­ï¼ä½æ¯åésåªè½æ studnetç±»åå¯¹è±¡ï¼åstudentå­ç±»åå¯¹è±¡ãåépè½æåå¯¹è±¡çèå´æ¯æ¯åéså¤§çã\n\nobjectç±»åçåéoï¼è½æåææå¯¹è±¡ï¼å®çèå´æå¤§ï¼ä½æ¯ä½¿ç¨åéoè½è°ç¨å°çæ¹æ³ä¹æ¯æå°çï¼åªè½è°ç¨å°objectä¸­çå£°æçæ¹æ³ï¼å ä¸ºåéoå£°æçç±»åå°±æ¯objectã\n\næ³¨ï¼javaä¸­çæ¹æ³è°ç¨,æ¯è¿è¡æ¶å¨æåå¯¹è±¡ç»å®ç,ä¸å°è¿è¡çæ¶å,æ¯ä¸ç¥éå°åºåªä¸ªæ¹æ³è¢«è°ç¨çã\n\nå¤æçå¥½å¤ä¸å¼ç«¯\n\n * å¥½å¤ï¼æé«äºç¨åºçæå±æ§\n   \n   å·ä½è¡¨ç°ï¼å®ä¹æ¹æ³çæ¶åï¼ä½¿ç¨ç¶ç±»åä½ä¸ºåæ°ï¼å°æ¥å¨ä½¿ç¨çæ¶åï¼ä½¿ç¨å·ä½çå­ç±»ååä¸æä½\n\n * å¼ç«¯ï¼ä¸è½ä½¿ç¨å­ç±»çç¹æåè½\n\n\n# 2ãéåãéè½½åå¤æçå³ç³»\n\néè½½æ¯ç¼è¯æ¶å¤æ\n\n> è°ç¨éè½½çæ¹æ³,å¨ç¼è¯æé´å°±è¦ç¡®å®è°ç¨çæ¹æ³æ¯è°,å¦æä¸è½ç¡®å®åç¼è¯æ¥é\n\néåæ¯è¿è¡æ¶å¤æ\n\n> è°ç¨éåçæ¹æ³ï¼å¨è¿è¡æé´æè½ç¡®å®è¿ä¸ªæ¹æ³å°åºæ¯åªä¸ªå¯¹è±¡ä¸­çãè¿ä¸ªåå³äºè°ç¨æ¹æ³çå¼ç¨ï¼å¨è¿è¡ æé´ææåçå¯¹è±¡æ¯è°ï¼è¿ä¸ªå¼ç¨æååªä¸ªå¯¹è±¡é£ä¹è°ç¨çå°±æ¯åªä¸ªå¯¹è±¡ä¸­çæ¹æ³ã(javaä¸­çæ¹æ³è°ç¨ï¼æ¯è¿è¡æ¶å¨æåå¯¹è±¡ç»å®ç)\n\n\n# 3ãå¤æçæ³¨æäºé¡¹\n\n 1. å¤ææ¯æ¹æ³çå¤æï¼å±æ§æ²¡æå¤ææ§ã\n 2. ç¼åç¨åºæ¶ï¼å¦ææ³è°ç¨è¿è¡æ¶ç±»åçæ¹æ³ï¼åªè½è¿è¡ç±»åè½¬æ¢ãä¸ç¶éä¸è¿ç¼è¯å¨çæ£æ¥ãä½æ¯å¦æä¸¤ä¸ªæ²¡æå³èçç±»è¿è¡å¼ºå¶è½¬æ¢ï¼ä¼æ¥ï¼classcastexceptionã æ¯å¦ï¼æ¬æ¥æ¯çï¼ææå®è½¬æç«ãå°±ä¼æ¥è¿ä¸ªå¼å¸¸ã\n 3. å¤æçå­å¨è¦æ3ä¸ªå¿è¦æ¡ä»¶ï¼è¦æç»§æ¿ï¼è¦ææ¹æ³éåï¼ç¶ç±»å¼ç¨æåå­ç±»å¯¹è±¡\n\n\n# 4ãå¤æå­å¨çæ¡ä»¶\n\n * æç»§æ¿å³ç³»\n * å­ç±»éåç¶ç±»æ¹æ³\n * ç¶ç±»å¼ç¨æåå­ç±»å¯¹è±¡\n\nè¡¥åä¸ä¸ç¬¬äºç¹ï¼æ¢ç¶å¤æå­å¨å¿é¡»è¦æâå­ç±»éåç¶ç±»æ¹æ³âè¿ä¸æ¡ä»¶ï¼é£ä¹ä»¥ä¸ä¸ç§ç±»åçæ¹æ³æ¯æ²¡æåæ³è¡¨ç°åºå¤æç¹æ§çï¼å ä¸ºä¸è½è¢«éåï¼ï¼\n\n 1. staticæ¹æ³ï¼å ä¸ºè¢«staticä¿®é¥°çæ¹æ³æ¯å±äºç±»çï¼èä¸æ¯å±äºå®ä¾ç\n 2. finalæ¹æ³ï¼å ä¸ºè¢«finalä¿®é¥°çæ¹æ³æ æ³è¢«å­ç±»éå\n 3. privateæ¹æ³åprotectedæ¹æ³ï¼åèæ¯å ä¸ºè¢«privateä¿®é¥°çæ¹æ³å¯¹å­ç±»ä¸å¯è§ï¼åèæ¯å ä¸ºå°½ç®¡è¢« protectedä¿®é¥°çæ¹æ³å¯ä»¥è¢«å­ç±»è§å°ï¼ä¹å¯ä»¥è¢«å­ç±»éåï¼ä½æ¯å®æ¯æ æ³è¢«å¤é¨æå¼ç¨çï¼ä¸ä¸ªä¸è½è¢«å¤é¨å¼ç¨çæ¹æ³ï¼æä¹è½è°å¤æå¢\n\n\n# 5ãæ¹æ³ç»å®(method binding)\n\næ§è¡è°ç¨æ¹æ³æ¶ï¼ç³»ç»æ ¹æ®ç¸å³ä¿¡æ¯ï¼è½å¤æ§è¡åå­å°åä¸­ä»£è¡¨è¯¥æ¹æ³çä»£ç ãåä¸ºéæç»å®åå¨æç»å®ã\n\néæç»å®ï¼\n\nå¨ç¼è¯æå®æï¼å¯ä»¥æé«ä»£ç æ§è¡éåº¦ã\n\nå¨æç»å®ï¼\n\néè¿å¯¹è±¡è°ç¨çæ¹æ³ï¼éç¨å¨æç»å®æºå¶ãè¿è½ç¶è®©æä»¬ç¼ç¨çµæ´»ï¼ä½æ¯éä½äºä»£ç çæ§è¡éåº¦ãè¿ä¹æ¯javaæ¯c/c++éåº¦æ¢çä¸»è¦å ç´ ä¹ä¸ãjavaä¸­é¤äºfinalç±»ãfinalæ¹ãstaticæ¹æ³ï¼æææ¹æ³é½æ¯jvmå¨è¿è¡ææè¿è¡å¨æç»å®çã\n\nå¤æï¼å¦æç¼è¯æ¶ç±»ååè¿è¡æ¶ç±»åä¸ä¸è´ï¼å°±ä¼é æå¤æã\n\n\n# 6ãinstanceofåç±»åè½¬æ¢\n\n1ãinstanceof\n\nä¸ä¸ªä¸åjavaæä»¶\n\npublic class person{\n    public void run(){}\n}\n\npublic class student extends person{\n}\n\npublic class teacher extends person{\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nmainï¼æ¹æ³ä¸\n\nobject o = new student();\nsystem.out.println(o instanceof student);//true\nsystem.out.println(o instanceof person);//true\nsystem.out.println(o instanceof object);//true\nsystem.out.println(o instanceof teacher);//false\nsystem.out.println(o instanceof string);//false\n\n\n1\n2\n3\n4\n5\n6\n\n\nperson o = new student();\nsystem.out.println(o instanceof student);//true\nsystem.out.println(o instanceof person);//true\nsystem.out.println(o instanceof object);//true\nsystem.out.println(o instanceof teacher);//false\n//ç¼è¯æ¥é\nsystem.out.println(o instanceof string);\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nstudent o = new student();\nsystem.out.println(o instanceof student);//true\nsystem.out.println(o instanceof person);//true\nsystem.out.println(o instanceof object);//true\n//ç¼è¯æ¥é\nsystem.out.println(o instanceof teacher);\n//ç¼è¯æ¥é\nsystem.out.println(o instanceof string);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n> system.out.println(x instanceof y);\n\nãåæ1ã\n\nè¯¥ä»£ç è½å¦ç¼è¯éè¿ï¼ä¸»è¦æ¯çå£°æåéxçç±»ååyæ¯å¦å­å¨å­ç¶ç±»çå³ç³»ãæ"å­ç¶ç±»å³"ç³»å°±ç¼è¯éè¿ï¼æ²¡æå­ç¶ç±»å³ç³»å°±æ¯ç¼è¯æ¥éã\n\nä¹åå­¦ä¹ å°çæ¥å£ç±»ååè¿ä¸ªæ¯æç¹åºå«çã\n\nãåæ2ã\n\nè¾åºç»ææ¯trueè¿æ¯false,ä¸»è¦æ¯çåéxææåçå¯¹è±¡å®éç±»åæ¯ä¸æ¯yç±»åç"å­ç±»å".\n\nobject o = new person();\nsystem.out.println(o instanceof student);//false\nsystem.out.println(o instanceof person);//true\nsystem.out.println(o instanceof object);//true\nsystem.out.println(o instanceof teacher);//false\nsystem.out.println(o instanceof string);//false\n\n\n1\n2\n3\n4\n5\n6\n\n\n2ãç±»åè½¬æ¢\n\npublic class person{\n    public void run(){}\n}\n\npublic class student extends person{\n    public void go(){}\n}\n\npublic class teacher extends person{\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nä¸ºä»ä¹è¦ç±»åè½¬æ¢\n\n//ç¼è¯æ¥é,å ä¸ºpå£°æçç±»åpersonä¸­æ²¡ægoæ¹æ³\nperson p = new student();\np.go();\n\n//éè¦æåépçç±»åè¿è¡è½¬æ¢\nperson p = new student();\nstudent s = (student)p;\ns.go();\n\n//æè\n//æ³¨æè¿ç§å½¢å¼åé¢å¿é¡»è¦ä¿©ä¸ªå°æ¬å·\nperson p = new student();\n((student)p).go();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nç±»åè½¬æ¢ä¸­çé®é¢\n\n//ç¼è¯éè¿ è¿è¡æ²¡é®é¢\nobject o = new student();\nperson p = (person)o;\n\n//ç¼è¯éè¿ è¿è¡æ²¡é®é¢\nobject o = new student();\nstudent s = (student)o;\n\n//ç¼è¯éè¿,è¿è¡æ¥é\nobject o = new teacher();\nstudent s = (student)o;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nå³: x x = (x)o;\n\nè¿è¡æ¯å¦æ¥éï¼ä¸»è¦æ¯åéoææåçå¯¹è±¡å®ç°ç±»åï¼æ¯ä¸æ¯xç±»åçå­ç±»åï¼å¦æä¸æ¯åè¿è¡å°±ä¼æ¥éã\n\nãæ»ç»ã\n\n 1. ç¶ç±»å¼ç¨å¯ä»¥æåå­ç±»å¯¹è±¡ï¼å­ç±»å¼ç¨ä¸è½æåç¶ç±»å¯¹è±¡ã\n\n 2. æå­ç±»å¯¹è±¡ç´æ¥èµç»ç¶ç±»å¼ç¨å«åä¸è½¬åï¼upcastingï¼ï¼ä¸ç¨å¼ºå¶è½¬åã\n    \n    å¦father father = new son();\n\n 3. ææåå­ç±»å¯¹è±¡çç¶ç±»å¼ç¨èµç»å­ç±»å¼ç¨å«åä¸è½¬åï¼downcastingï¼ï¼è¦å¼ºå¶è½¬åã\n    \n    å¦fatherå°±æ¯ä¸ä¸ªæåå­ç±»å¯¹è±¡çç¶ç±»å¼ç¨ï¼æfatherèµç»å­ç±»å¼ç¨son\n    \n    å³son son =ï¼sonï¼ fatherï¼\n    \n    å¶ä¸­fatheråé¢çï¼sonï¼å¿é¡»æ·»å ï¼è¿è¡å¼ºå¶è½¬æ¢ã\n\n 4. upcasting ä¼ä¸¢å¤±å­ç±»ç¹æçæ¹æ³ï¼ä½æ¯å­ç±»overriding ç¶ç±»çæ¹æ³ï¼å­ç±»æ¹æ³ææ\n\n 5. åä¸è½¬åçä½ç¨ï¼åå°éå¤ä»£ç ï¼ç¶ç±»ä¸ºåæ°ï¼è°ææ¶ç¨å­ç±»ä½ä¸ºåæ°ï¼å°±æ¯å©ç¨äºåä¸è½¬åãè¿æ ·ä½¿ä»£ç åå¾ç®æ´ãä½ç°äºjavaçæ½è±¡ç¼ç¨ææ³ã\n\n\n# ä¿®é¥°ç¬¦\n\n\n# 1ãstaticä¿®é¥°ç¬¦\n\n1ãstaticåé\n\nå¨ç±»ä¸­,ä½¿ç¨staticä¿®é¥°çæååé,å°±æ¯éæåé,åä¹ä¸ºééæåéã\n\néæåéåééæåéçåºå«\n\néæåéå±äºç±»çï¼"å¯ä»¥"ä½¿ç¨ç±»åæ¥è®¿é®ï¼ééæåéæ¯å±äºå¯¹è±¡çï¼"å¿é¡»"ä½¿ç¨å¯¹è±¡æ¥è®¿é®ã\n\npublic class student{\n    private static int age;\n    private double score;\n    public static void main(string[] args) {\n        student s = new student();\n        //æ¨èä½¿ç¨ç±»åè®¿é®éææå\n        system.out.println(student.age);\n        system.out.println(s.age);\n        \n        system.out.println(s.score);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\néæåéå¯¹äºç±»èè¨å¨åå­ä¸­åªæä¸ä¸ªï¼è½è¢«ç±»çææå®ä¾æå±äº«ãå®ä¾åéå¯¹äºç±»çæ¯ä¸ªå®ä¾é½æä¸ä»½, å®ä»¬ä¹é´äºä¸å½±åãï¼å¨åºç¡è¯­æ³ä¸­ç²ç¥è§£éè¿éæåéï¼\n\npublic class student {\n    private static int count;\n    private int num;\n\n    public student() {\n        count++;\n        num++;\n    }\n\n    public static void main(string[] args) {\n        student s1 = new student();\n        student s2 = new student();\n        student s3 = new student();\n        student s4 = new student();\n        //å ä¸ºè¿æ¯å¨ç±»ä¸­,æä»¥å¯ä»¥ç´æ¥è®¿é®ç§æå±æ§\n        system.out.println(s1.num);//1\n        system.out.println(s2.num);\n        system.out.println(s3.num);\n        system.out.println(s4.num);\n        system.out.println(student.count);\n        \n        system.out.println(s1.count);//4\n        system.out.println(s2.count);\n        system.out.println(s3.count);\n        system.out.println(s4.count);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\nå¨å è½½ç±»çè¿ç¨ä¸­ä¸ºéæåéåéåå­ï¼å®ä¾åéå¨åå»ºå¯¹è±¡æ¶åéåå­ï¼æä»¥éæåéå¯ä»¥ä½¿ç¨ç±»åæ¥ç´æ¥è®¿é®ï¼èä¸éè¦ä½¿ç¨å¯¹è±¡æ¥è®¿é®ã\n\n2ãstaticæ¹æ³\n\nå¨ç±»ä¸­ï¼ä½¿ç¨staticä¿®é¥°çæåæ¹æ³ï¼å°±æ¯éææ¹æ³ï¼åä¹ä¸ºééææ¹æ³ã\n\néææ¹æ³åééææ¹æ³çåºå«\n\n> éææ¹æ³æ°å±äºç±»çï¼"å¯ä»¥"ä½¿ç¨ç±»åæ¥è°ç¨ï¼ééææ¹æ³æ¯å±äºå¯¹è±¡çï¼"å¿é¡»"ä½¿ç¨å¯¹è±¡æ¥è°ç¨ã\n\néææ¹æ³"ä¸å¯ä»¥"ç´æ¥è®¿é®ç±»ä¸­çééæåéåééææ¹æ³ï¼ä½æ¯"å¯ä»¥"ç´æ¥è®¿é®ç±»ä¸­çéæåéåéææ¹æ³\n\næ³¨æï¼thisåsuperå¨ç±»ä¸­å±äºééæçåé.(éææ¹æ³ä¸­ä¸è½ä½¿ç¨)\n\npublic class student {\n    private static int count;\n    private int num;\n    public void run(){}\n    public static void go(){}\n    public static void test(){\n        //ç¼è¯éè¿\n        system.out.println(count);\n        go();\n        \n        //ç¼è¯æ¥é\n        system.out.println(num);\n        run();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nééææ¹æ³"å¯ä»¥"ç´æ¥è®¿é®ç±»ä¸­çééæåéåééææ¹æ³ï¼ä¹"å¯ä»¥"ç´æ¥è®¿é®ç±»ä¸­çéæåéåéææ¹æ³\n\npublic class student {\n    private static int count;\n    private int num;\n\n    public void run() {\n    }\n\n    public static void go() {\n    }\n    public void test() {\n        //ç¼è¯éè¿\n        system.out.println(count);\n        go();\n        //ç¼è¯éè¿\n        system.out.println(num);\n        run();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\næèï¼ä¸ºä»ä¹éææ¹æ³åééææ¹æ³ä¸è½ç´æ¥ç¸äºè®¿é®ï¼ å è½½é¡ºåºçé®é¢ï¼\n\nç¶ç±»çéææ¹æ³å¯ä»¥è¢«å­ç±»ç»§æ¿ï¼ä½æ¯ä¸è½è¢«å­ç±»éå\n\npublic class person {\n    public static void method() {}\n}\n\n//ç¼è¯æ¥é\npublic class student extends person {\n    public void method(){}\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\npublic class person {\n    public static void test() {\n        system.out.println("person");\n    }\n}\n//ç¼è¯éè¿,ä½ä¸æ¯éå\npublic class student extends person {\n    public static void test(){\n        system.out.println("student");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n//main:\nperosn p = new student();\np.test();//è¾åºperson\np = new person();\np.test();//è¾åºperosn\n\n\n1\n2\n3\n4\n5\n\n\nç¶ç±»çééææ¹æ³ä¸è½è¢«å­ç±»éåä¸ºéææ¹æ³ ï¼\n\npublic class person {\n    public void test() {\n        system.out.println("person");\n    }\n}\n//ç¼è¯æ¥é\npublic class student extends person {\n    public static void test(){\n        system.out.println("student");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n3ãä»£ç ååéæä»£ç å\n\nãç±»ä¸­å¯ä»¥ç¼åä»£ç ååéæä»£ç åã\n\npublic class person {\n    {\n        //ä»£ç å(å¿åä»£ç å)\n    }\n    static{\n        //éæä»£ç å\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nãå¿åä»£ç ååéæä»£ç åçæ§è¡ã\n\nå ä¸ºæ²¡æåå­,å¨ç¨åºå¹¶ä¸è½ä¸»å¨è°ç¨è¿äºä»£ç åã\n\nå¿åä»£ç åæ¯å¨åå»ºå¯¹è±¡çæ¶åèªå¨æ§è¡çï¼å¹¶ä¸å¨æé å¨æ§è¡ä¹åï¼å¨éæä»£ç åä¹åãåæ¶å¿åä»£ç åå¨æ¯æ¬¡åå»ºå¯¹è±¡çæ¶åé½ä¼èªå¨æ§è¡ã\n\néæä»£ç åæ¯å¨ç±»å è½½å®æä¹åå°±èªå¨æ§è¡ï¼å¹¶ä¸åªæ§è¡ä¸æ¬¡ã\n\næ³¨ï¼æ¯ä¸ªç±»å¨ç¬¬ä¸æ¬¡è¢«ä½¿ç¨çæ¶åå°±ä¼è¢«å è½½ï¼å¹¶ä¸ä¸è¬åªä¼å è½½ä¸æ¬¡ã\n\npublic class student {\n    {\n        system.out.println("å¿åä»£ç å");\n    }\n    \n    static{\n        system.out.println("éæä»£ç å");\n    }\n    \n    public student(){\n        system.out.println("æé å¨");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n//main:\nstudent s1 = new student();\nstudent s2 = new student();\nstudent s3 = new student();\n\n\n1\n2\n3\n4\n\n\nè¾åºï¼\n\n> éæä»£ç å å¿åä»£ç å æé å¨\n> \n> å¿åä»£ç å æé å¨\n> \n> å¿åä»£ç å æé å¨\n\nãå¿åä»£ç ååéæä»£ç åçä½ç¨ã\n\nå¿åä»£ç åçä½ç¨æ¯ç»å¯¹è±¡çæååéåå§åèµå¼ï¼ä½æ¯å ä¸ºæé å¨ä¹è½å®æè¿é¡¹å·¥ä½ï¼æä»¥å¿åä»£ç åä½¿ç¨çå¹¶ä¸å¤ã\n\néæä»£ç åçä½ç¨æ¯ç»ç±»ä¸­çéææååéåå§åèµå¼ã\n\npublic class person {\n    public static string name;\n    static{\n        name = "tom";\n    }\n    public person(){\n        name = "zs";\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n> main: system.out.println( person.name ); //tom\n\næ³¨ï¼å¨æé å¨ä¸­ç»éæåéèµå¼ï¼å¹¶ä¸è½ä¿è¯è½èµå¼æåï¼å ä¸ºæé å¨æ¯å¨åå»ºå¯¹è±¡çæ¶åææåï¼ä½æ¯éæåéå¯ä»¥ä¸åå»ºå¯¹è±¡èç´æ¥ä½¿ç¨ç±»åæ¥è®¿é®ã\n\n4ãåå»ºååå§åå¯¹è±¡çè¿ç¨\n\nstudent s = new student();\n\n\n1\n\n\nãstudentç±»ä¹åæ²¡æè¿è¡ç±»å è½½çè¿ç¨ã\n\n 1. ç±»å è½½ï¼åæ¶åå§åç±»ä¸­éæçå±æ§\n 2. æ§è¡éæä»£ç å\n 3. åéåå­ç©ºé´ï¼åæ¶åå§åééæçå±æ§(èµé»è®¤å¼,0/false/null)\n 4. è°ç¨studentçç¶ç±»æé å¨\n 5. å¯¹studentä¸­çå±æ§è¿è¡æ¾ç¤ºèµå¼(å¦ææçè¯)\n 6. æ§è¡å¿åä»£ç å\n 7. æ§è¡æé å¨\n 8. è¿ååå­å°å\n\næ³¨ï¼å­ç±»ä¸­ééæå±æ§çæ¾ç¤ºèµå¼æ¯å¨ç¶ç±»æé å¨æ§è¡å®ä¹ååå­ç±»ä¸­çå¿åä»£ç åæ§è¡ä¹åçæ¶å\n\npublic class person{\n    private string name = "zs";\n    public person() {\n        system.out.println("personæé å¨");\n        print();\n    }\n    public void print(){\n        system.out.println("person printæ¹æ³: name = "+name);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\npublic class student extends person{\n    private string name = "tom";\n    {\n        system.out.println("studentå¿åä»£ç å");\n    }\n    static{\n        system.out.println("studentéæä»£ç å");\n    }\n    public student(){\n        system.out.println("studentæé å¨");\n    }\n    public void print(){\n        system.out.println("student printæ¹æ³: name = "+name);\n    }\n    public static void main(string[] args) {\n        new student();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nè¾åºï¼\n\n> studentéæä»£ç å personæé å¨ student printæ¹æ³: name = null studentå¿åä»£ç å studentæé å¨\n\nstudent s = new student();\n//studentç±»ä¹åå·²ç»è¿è¡äºç±»å è½½\n//1.åéåå­ç©ºé´,åæ¶åå§åééæçå±æ§(èµé»è®¤å¼,0/false/null)\n//2.è°ç¨studentçç¶ç±»æé å¨\n//3.å¯¹studentä¸­çå±æ§è¿è¡æ¾ç¤ºèµå¼(å¦ææçè¯)\n//4.æ§è¡å¿åä»£ç å\n//5.æ§è¡æé å¨\n//6.è¿ååå­å°å\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n5ãéæå¯¼å¥\n\néæå¯¼åå°±æ¯javaåçéæå¯¼å¥ï¼ç¨import staticä»£æ¿importéæå¯¼å¥åæ¯jdk1.5ä¸­çæ°ç¹æ§ã\n\næææ¯å¯¼å¥è¿ä¸ªç±»éçéææ¹æ³ã\n\nå¥½å¤ï¼è¿ç§æ¹æ³çå¥½å¤å°±æ¯å¯ä»¥ç®åä¸äºæä½ï¼ä¾å¦æå°æä½system.out.println(â¦);å°±å¯ä»¥å°å¶åå¥ä¸ ä¸ªéææ¹æ³print(â¦)ï¼å¨ä½¿ç¨æ¶ç´æ¥print(â¦)å°±å¯ä»¥äºãä½æ¯è¿ç§æ¹æ³å»ºè®®å¨æå¾å¤éå¤è°ç¨çæ¶åä½¿ç¨ï¼å¦æä»æä¸å°ä¸¤æ¬¡è°ç¨ï¼ä¸å¦ç´æ¥åæ¥çæ¹ä¾¿ã\n\nimport static java.lang.math.random;\nimport static java.lang.math.pi;\n\npublic class test {\n    public static void main(string[] args) {\n        //ä¹åæ¯éè¦math.random()è°ç¨ç\n        system.out.println(random());\n        system.out.println(pi);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# 2ãfinalä¿®é¥°ç¬¦\n\n1ãä¿®é¥°ç±»\n\nç¨finalä¿®é¥°çç±»ä¸è½è¢«ç»§æ¿ï¼æ²¡æå­ç±»\n\nä¾å¦ï¼æä»¬æ¯æ æ³åä¸ä¸ªç±»å»ç»§æ¿stringç±»ï¼ç¶åå¯¹stringç±»åæ©å±çãå ä¸ºapiä¸­å·²ç»è¢«stringç±»å®ä¹ä¸ºfinal\n\næä»¬ä¹å¯ä»¥å®ä¹finalä¿®é¥°çç±»:\n\npublic final class action{\n    \n}\n\n//ç¼è¯æ¥é\npublic class go extends action{\n    \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n2ãä¿®é¥°æ¹æ³\n\nç¨finalä¿®é¥°çæ¹æ³å¯ä»¥è¢«ç»§æ¿ï¼ä½æ¯ä¸è½è¢«å­ç±»çéåã\n\nä¾å¦ï¼æ¯ä¸ªç±»é½æ¯objectç±»çå­ç±»ï¼ç»§æ¿äºobjectä¸­çä¼å¤æ¹æ³ï¼å¨å­ç±»ä¸­å¯ä»¥éåtostringæ¹æ³ãequalsæ¹æ³ç­ï¼ä½æ¯ä¸è½éågetclassæ¹æ³ãwaitæ¹æ³ç­ï¼å ä¸ºè¿äºæ¹æ³é½æ¯ä½¿ç¨fianlä¿®é¥°çã\n\næä»¬ä¹å¯ä»¥å®ä¹finalä¿®é¥°çæ¹æ³ï¼\n\npublic class person{\n    public final void print(){}\n}\n\n//ç¼è¯æ¥é\npublic class student extends person{\n    public void print(){\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n3ãä¿®é¥°åé\n\nç¨finalä¿®é¥°çåéè¡¨ç¤ºå¸¸éï¼åªè½è¢«èµä¸æ¬¡å¼ãä½¿ç¨finalä¿®é¥°çåéä¹å°±æäºå¸¸éäºï¼å ä¸ºå¼ä¸ä¼ååäºã\n\nãä¿®é¥°å±é¨åéã\n\npublic class person{\n    public void print(final int a){\n    //ç¼è¯æ¥é,ä¸è½åæ¬¡èµå¼,ä¼ åçæ¶åå·²ç»èµè¿äº\n    a = 1;\n    }\n}\n\npublic class person{\n    public void print(){\n        final int a;\n        a = 1;\n        //ç¼è¯æ¥é,ä¸è½åæ¬¡èµå¼\n        a = 2;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nãä¿®é¥°æååé-ééææååéã\n\npublic class person{\n    private final int a;\n}\n/*\nåªæä¸æ¬¡æºä¼,å¯ä»¥ç»æ­¤åéaèµå¼çä½ç½®:\nå£°æçåæ¶èµå¼\nå¿åä»£ç åä¸­èµå¼\næé å¨ä¸­èµå¼(ç±»ä¸­åºç°çæææé å¨é½è¦å)\n*/\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nãä¿®é¥°æååé-éææååéã\n\npublic class person{\n    private static final int a;\n}\n/*\nåªæä¸æ¬¡æºä¼,å¯ä»¥ç»æ­¤åéaèµå¼çä½ç½®:\nå£°æçåæ¶èµå¼\néæä»£ç åä¸­èµå¼\n*/\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nãä¿®é¥°å¼ç¨å¯¹è±¡ã\n\nfinal student s = new student();\n//ç¼è¯éè¿\ns.setname("tom");\ns.setname("zs");\n\n//ç¼è¯æ¥é,ä¸è½ä¿®æ¹å¼ç¨sæåçåå­å°å\ns = new student();\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 3ãabstractä¿®é¥°ç¬¦\n\nabstractä¿®é¥°ç¬¦å¯ä»¥ç¨æ¥ä¿®é¥°æ¹æ³ä¹å¯ä»¥ä¿®é¥°ç±»ï¼å¦æä¿®é¥°æ¹æ³ï¼é£ä¹è¯¥æ¹æ³å°±æ¯æ½è±¡æ¹æ³ãå¦æä¿®é¥°ç±»ï¼é£ä¹è¯¥ç±»å°±æ¯æ½è±¡ç±»ã\n\n1ãæ½è±¡ç±»åæ½è±¡æ¹æ³çå³ç³»\n\næ½è±¡ç±»ä¸­å¯ä»¥æ²¡ææ½è±¡æ¹æ³ï¼ä½æ¯ææ½è±¡æ¹æ³çç±»ä¸å®è¦å£°æä¸ºæ½è±¡ç±»ã\n\n2ãè¯­æ³\n\npublic abstract class action{\n    public abstract void dosomething();\n}\n\npublic void dosomething(){...}\n\n\n1\n2\n3\n4\n5\n\n\nå¯¹äºè¿ä¸ªæ®éæ¹æ³æ¥è®²ï¼\n\n"public void dosomething()"è¿é¨åæ¯æ¹æ³çå£°æã "{...}"è¿é¨åæ¯æ¹æ³çå®ç°,å¦æå¤§æ¬å·ä¸­ä»ä¹é½æ²¡å,å°±å«æ¹æ³çç©ºå®ç°\n\nå£°æç±»çåæ¶ï¼å ä¸abstractä¿®é¥°ç¬¦å°±æ¯æ½è±¡ç±» å£°ææ¹æ³çæ¶åï¼å ä¸abstractä¿®é¥°ç¬¦ï¼å¹¶ä¸å»ææ¹æ³çå¤§å£å·ï¼åæ¶ç»å°¾å ä¸åå·ï¼è¯¥æ¹æ³å°±æ¯æ½è±¡æ¹æ³ã\n\n\n# 3ãç¹ç¹åä½ç¨\n\næ½è±¡ç±»ï¼ä¸è½ä½¿ç¨newå³é®å­æ¥åå»ºå¯¹è±¡ï¼å®æ¯ç¨æ¥è®©å­ç±»ç»§æ¿çã æ½è±¡æ¹æ³ï¼åªææ¹æ³çå£°æï¼æ²¡ææ¹æ³çå®ç°ï¼å®æ¯ç¨æ¥è®©å­ç±»å®ç°çã\n\næ³¨ï¼å­ç±»ç»§æ¿æ½è±¡ç±»åï¼éè¦å®ç°æ½è±¡ç±»ä¸­æ²¡æå®ç°çæ½è±¡æ¹æ³ï¼å¦åè¿ä¸ªå­ç±»ä¹è¦å£°æä¸ºæ½è±¡ç±»ã\n\npublic abstract class action{\n    public abstract void dosomething();\n}\n\nmain:\n//ç¼è¯æ¥é,æ½è±¡ç±»ä¸è½newå¯¹è±¡\naction a = new action();\n\n//å­ç±»ç»§æ¿æ½è±¡ç±»\npublic class eat extends action{\n    //å®ç°ç¶ç±»ä¸­æ²¡æå®ç°çæ½è±¡æ¹æ³\n    public void dosomething(){\n        //code\n    }\n}\n\nmain:\naction a = new eat();\na.dosomething();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\næ³¨ï¼å­ç±»ç»§æ¿æ½è±¡ç±»ï¼é£ä¹å°±å¿é¡»è¦å®ç°æ½è±¡ç±»æ²¡æå®ç°çæ½è±¡æ¹æ³ï¼å¦åè¯¥å­ç±»ä¹è¦å£°æä¸ºæ½è±¡ç±»ã\n\n4ãæè\n\næè1 : æ½è±¡ç±»ä¸è½newå¯¹è±¡ï¼é£ä¹æ½è±¡ç±»ä¸­ææ²¡ææé å¨ï¼\n\n> æ½è±¡ç±»æ¯ä¸è½è¢«å®ä¾åï¼æ½è±¡ç±»çç®çå°±æ¯ä¸ºå®ç°å¤æä¸­çå±åç¹ï¼æ½è±¡ç±»çæé å¨ä¼å¨å­ç±»å®ä¾åæ¶è°ç¨ï¼å æ­¤å®ä¹æ¯ç¨æ¥å®ç°å¤æä¸­çå±åç¹æé ï¼ä¸å»ºè®®è¿æ ·ä½¿ç¨ï¼\n\næè2 : æ½è±¡ç±»åæ½è±¡æ¹æ³æä¹ï¼ä¸ºä»ä¹è¦ç¼åæ½è±¡ç±»ãæ½è±¡æ¹æ³ï¼\n\n> æä¸ªæ¯æ¹ï¼è¦åä¸ä¸ªæ¸¸æãå¦æè¦åå»ºä¸ä¸ªè§è²ï¼å¦æåå¤åå»ºç±»åæ¹æ³ä¼å¾ç¹çåéº»ç¦ãå»ºä¸ä¸ªæ½è±¡ç±» åãè¥è¦åå»ºè§è²å¯ç´æ¥ç»§æ¿æ½è±¡ç±»ä¸­çå­æ®µåæ¹æ³ï¼èæ½è±¡ç±»ä¸­åææ½è±¡æ¹æ³ãå¦æä¸ä¸ªè§è²æå¾å¤ç§ èä¸ï¼æ¯ä¸ªèä¸åæå¾å¤æè½ï¼è¦æ¯ä¾æ¬¡å®ä¾è¿äºæè½æ¹æ³ä¼æ¾å¾æ³å½ç¬¨æãå®ä¹æ½è±¡æ¹æ³ï¼å¨éè¦æ¶ç»§ æ¿åéåè°ç¨ï¼å¯ä»¥çå»å¾å¤ä»£ç ã\n> \n> æ»ä¹æ½è±¡ç±»åæ½è±¡æ¹æ³èµ·å°ä¸ä¸ªæ¡æ¶ä½ç¨ãå¾æ¹ä¾¿åæçè°ç¨åéå æ½è±¡æ¹æ³æ¯ä¸ºäºç¨åºçå¯æ©å±æ§ãéåæ½è±¡æ¹æ³æ¶å³å¯å®ç°ååæ¹æ³ä½åéåç®ççè¦æ±ã\n\n\n# æ¥å£\n\n\n# 1ãæ¥å£çæ¬è´¨\n\næ®éç±»ï¼åªæå·ä½å®ç° æ½è±¡ç±»ï¼å·ä½å®ç°åè§è(æ½è±¡æ¹æ³) é½æï¼ æ¥å£ï¼åªæè§èï¼\n\nä¸ºä»ä¹éè¦æ¥å£ï¼æ¥å£åæ½è±¡ç±»çåºå«ï¼\n\n * æ¥å£å°±æ¯æ¯âæ½è±¡ç±»âè¿âæ½è±¡âçâæ½è±¡ç±»âï¼å¯ä»¥æ´å è§èçå¯¹å­ç±»è¿è¡çº¦æãå¨é¢å°ä¸ä¸å°å®ç°äºï¼è§èåå·ä½å®ç°çåç¦»ã\n * æ½è±¡ç±»è¿æä¾æäºå·ä½å®ç°ï¼æ¥å£ä¸æä¾ä»»ä½å®ç°ï¼æ¥å£ä¸­æææ¹æ³é½æ¯æ½è±¡æ¹æ³ãæ¥å£æ¯å®å¨é¢åè§èçï¼è§å®äºä¸æ¹ç±»å·æçå¬å±æ¹æ³è§èã\n * ä»æ¥å£çå®ç°èè§åº¦çï¼æ¥å£å®ä¹äºå¯ä»¥åå¤é¨æä¾çæå¡ã\n * ä»æ¥å£çè°ç¨èè§åº¦çï¼æ¥å£å®ä¹äºå®ç°èè½æä¾é£äºæå¡ã\n * æ¥å£æ¯ä¸¤ä¸ªæ¨¡åä¹é´éä¿¡çæ åï¼éä¿¡çè§èãå¦æè½æä½ è¦è®¾è®¡çç³»ç»ä¹é´æ¨¡åä¹é´çæ¥å£å®ä¹å¥½ï¼å°±ç¸å½äºå®æäºç³»ç»çè®¾è®¡å¤§çº²ï¼å©ä¸çå°±æ¯æ·»ç å ç¦çå·ä½å®ç°äºãå¤§å®¶å¨å·¥ä½ä»¥åï¼åç³»ç»æ¶å¾å¾å°±æ¯ä½¿ç¨âé¢åæ¥å£âçææ³æ¥è®¾è®¡ç³»ç»ã\n\næ¥å£çæ¬è´¨æ¢è®¨\n\n * æ¥å£å°±æ¯è§èï¼å®ä¹çæ¯ä¸ç»è§åï¼ä½ç°äºç°å®ä¸çä¸­âå¦æä½ æ¯â¦åå¿é¡»è½â¦âçææ³ãå¦æä½ æ¯å¤©ä½¿ï¼åå¿é¡»è½é£ãå¦æä½ æ¯æ±½è½¦ï¼åå¿é¡»è½è·ã\n * æ¥å£çæ¬è´¨æ¯å¥çº¦ï¼å°±åæä»¬äººé´çæ³å¾ä¸æ ·ãå¶å®å¥½åå¤§å®¶é½éµå®ã\n * ooçç²¾é«ï¼æ¯å¯¹å¯¹è±¡çæ½è±¡ï¼æè½ä½ç°è¿ä¸ç¹çå°±æ¯æ¥å£ãä¸ºä»ä¹æä»¬è®¨è®ºè®¾è®¡æ¨¡å¼é½åªéå¯¹å·å¤äºæ½è±¡è½åçè¯­è¨ï¼æ¯å¦c++ãjavaãc#ç­ï¼ï¼å°±æ¯å ä¸ºè®¾è®¡æ¨¡å¼æç ç©¶çï¼å®éä¸å°±æ¯å¦ä½åççå»æ½è±¡ã\n\n\n# 2ãæ¥å£ä¸æ½è±¡ç±»çåºå«\n\næ½è±¡ç±»ä¹æ¯ç±»ï¼é¤äºå¯ä»¥åæ½è±¡æ¹æ³ä»¥åä¸è½ç´æ¥newå¯¹è±¡ä¹å¤ï¼å¶ä»çåæ®éç±»æ²¡æä»ä¹ä¸ä¸æ ·çãæ¥å£å·²ç»å¦ä¸ç§ç±»åäºï¼åç±»æ¯ææ¬è´¨çåºå«çï¼æä»¥ä¸è½ç¨ç±»çæ åå»è¡¡éæ¥å£ã\n\nå£°æç±»çå³é®å­æ¯classï¼å£°ææ¥å£çå³é®å­æ¯interfaceã\n\næ½è±¡ç±»æ¯ç¨æ¥è¢«ç»§æ¿çï¼javaä¸­çç±»æ¯åç»§æ¿ã\n\nç±»aç»§æ¿äºæ½è±¡ç±»bï¼é£ä¹ç±»açå¯¹è±¡å°±å±äºbç±»åäºï¼å¯ä»¥ä½¿ç¨å¤æ ä¸ä¸ªç¶ç±»çå¼ç¨ï¼å¯ä»¥æåè¿ä¸ªç¶ç±»çä»»æå­ç±»å¯¹è±¡ æ³¨ï¼ç»§æ¿çå³é®å­æ¯extends\n\næ¥å£æ¯ç¨æ¥è¢«ç±»å®ç°çï¼javaä¸­çæ¥å£å¯ä»¥è¢«å¤å®ç°ã ç±»aå®ç°æ¥å£bãcãdãe..ï¼é£ä¹ç±»açå¯¹è±¡å°±å±äºbãcãdãeç­ç±»åäºï¼å¯ä»¥ä½¿ç¨å¤æ ä¸ä¸ªæ¥å£çå¼ç¨ï¼å¯ä»¥æåè¿ä¸ªæ¥å£çä»»æå®ç°ç±»å¯¹è±¡ æ³¨ï¼å®ç°çå³é®å­æ¯implements\n\n\n# 3ãæ¥å£ä¸­çæ¹æ³é½æ¯æ½è±¡æ¹æ³\n\næ¥å£ä¸­å¯ä»¥ä¸åä»»ä½æ¹æ³ï¼ä½å¦æåæ¹æ³äºï¼è¯¥æ¹æ³å¿é¡»æ¯æ½è±¡æ¹æ³\n\npublic interface action{\n    public abstract void run();\n    \n    //é»è®¤å°±æ¯public abstractä¿®é¥°ç\n    void test();\n    public void go();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 4ãæ¥å£ä¸­çåéé½æ¯éæå¸¸é\n\npublic static finalä¿®é¥°\n\næ¥å£ä¸­å¯ä»¥ä¸åä»»ä½å±æ§ï¼ä½å¦æåå±æ§äºï¼è¯¥å±æ§å¿é¡»æ¯public static finalä¿®é¥°çéæå¸¸éã æ³¨ï¼å¯ä»¥ç´æ¥ä½¿ç¨æ¥å£åè®¿é®å¶å±æ§ãå ä¸ºæ¯public staticä¿®é¥°ç\n\næ³¨ï¼å£°æçåæ¶å°±å¿é¡»èµå¼(å ä¸ºæ¥å£ä¸­ä¸è½ç¼åéæä»£ç å)\n\npublic interface action{\n    public static final string name = "tom";\n    //é»è®¤å°±æ¯public static finalä¿®é¥°ç\n    int age = 20;\n}\n\nmain:\nsystem.out.println(action.name);\nsystem.out.println(action.age);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 5ãä¸ä¸ªç±»å¯ä»¥å®ç°å¤ä¸ªæ¥å£\n\npublic class student implements a,b,c,d{\n    //studentéè¦å®ç°æ¥å£a b c dä¸­ææçæ½è±¡æ¹æ³\n    //å¦åstudentç±»å°±è¦å£°æä¸ºæ½è±¡ç±»,å ä¸ºææ½è±¡æ¹æ³æ²¡å®ç°\n}\n\nmain:\na s1 = new student();\nb s2 = new student();\nc s3 = new student();\nd s4 = new student();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\næ³¨ï¼ s1åªè½è°ç¨æ¥å£aä¸­å£°æçæ¹æ³ä»¥åobjectä¸­çæ¹æ³ s2åªè½è°ç¨æ¥å£bä¸­å£°æçæ¹æ³ä»¥åobjectä¸­çæ¹æ³ s3åªè½è°ç¨æ¥å£cä¸­å£°æçæ¹æ³ä»¥åobjectä¸­çæ¹æ³ s4åªè½è°ç¨æ¥å£dä¸­å£°æçæ¹æ³ä»¥åobjectä¸­çæ¹æ³\n\næ³¨ï¼å¿è¦æ¶å¯ä»¥ç±»åå¼ºå¶è½¬æ¢\n\nä¾å¦ : æ¥å£a ä¸­ætest() ï¼ æ¥å£b ä¸­ærun()\n\n\n# 6ãä¸ä¸ªæ¥å£å¯ä»¥ç»§æ¿å¤ä¸ªç¶æ¥å£\n\npublic interface a{\n    public void testa();\n}\n\npublic interface b{\n    public void testb();\n}\n\n//æ¥å£cææ¥å£a bä¸­çæ¹æ³é½ç»§æ¿è¿æ¥äº\npublic interface c extends a,b{\n    public void testc();\n}\n\n//studentç¸å½äºå®ç°äºa b cä¸ä¸ªæ¥å£,éè¦å®ç°ææçæ½è±¡æ¹æ³\n//studentçå¯¹è±¡ä¹å°±åæ¶å±äºaç±»å bç±»å cç±»å\npublic class student implements c{\n    public viod testa(){}\n    public viod testb(){}\n    public viod testc(){}\n}\n\nmain:\n\nc o = new student();\nsystem.out.println(o instanceof a);//true\nsystem.out.println(o instanceof b);//true\nsystem.out.println(o instanceof c);//true\nsystem.out.println(o instanceof student);//true\nsystem.out.println(o instanceof object);//true\nsystem.out.println(o instanceof teacher);//false\n\n//ç¼è¯æ¥é\nsystem.out.println(o instanceof string);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\næ³¨ï¼system.out.println(o instanceof x);\n\n> å¦æoæ¯ä¸ä¸ªæ¥å£ç±»åå£°æçåéï¼é£ä¹åªè¦xä¸æ¯ä¸ä¸ªfinalä¿®é¥°çç±»ï¼è¯¥ä»£ç å°±è½éè¿ç¼è¯ï¼è³äºå¶ç»ææ¯ä¸æ¯trueï¼å°±è¦çåéoæåçå¯¹è±¡çå®éç±»åï¼æ¯ä¸æ¯xçå­ç±»æèå®ç°ç±»äºã\n\næ³¨ï¼ä¸ä¸ªå¼ç¨ææåçå¯¹è±¡ï¼æ¯æå¯è½å®ç°ä»»ä½ä¸ä¸ªæ¥å£çã(javaä¸­çå¤å®ç°)\n\n\n# 7ãæ¥å£çä½ç¨\n\næ¥å£çæä¸»è¦çä½ç¨æ¯è¾¾å°ç»ä¸è®¿é®ï¼å°±æ¯å¨åå»ºå¯¹è±¡çæ¶åç¨æ¥å£åå»º\n\nãæ¥å£åã ãå¯¹è±¡åã= new ãå®ç°æ¥å£çç±»ã\n\nè¿æ ·ä½ åç¨åªä¸ªç±»çå¯¹è±¡å°±å¯ä»¥newåªä¸ªå¯¹è±¡äºï¼ä¸éè¦æ¹åæ¥çä»£ç ã\n\nåå¦æä»¬ä¸¤ä¸ªç±»ä¸­é½æä¸ªfunction()çæ¹æ³ï¼å¦ææç¨æ¥å£ï¼é£æ ·ænew a()ï¼å°±æ¯ç¨açæ¹æ³ï¼new b() å°±æ¯ç¨bçæ¹æ³ã\n\nè¿ä¸ªå°±å«ç»ä¸è®¿é®ï¼å ä¸ºä½ å®ç°è¿ä¸ªæ¥å£çç±»çæ¹æ³åç¸åï¼ä½æ¯å®ç°åå®¹ä¸å\n\næ»ç»ï¼\n\n 1. javaæ¥å£ä¸­çæååéé»è®¤é½æ¯public,static,finalç±»åç(é½å¯çç¥)ï¼å¿é¡»è¢«æ¾ç¤ºåå§åï¼å³æ¥å£ä¸­çæååéä¸ºå¸¸é(å¤§å,åè¯ä¹é´ç¨"_"åé)\n 2. javaæ¥å£ä¸­çæ¹æ³é»è®¤é½æ¯public,abstractç±»åç(é½å¯çç¥)ï¼æ²¡ææ¹æ³ä½,ä¸è½è¢«å®ä¾å\n 3. javaæ¥å£ä¸­åªè½åå«public,static,finalç±»åçæååéåpublic,abstractç±»åçæåæ¹æ³\n 4. æ¥å£ä¸­æ²¡ææé æ¹æ³,ä¸è½è¢«å®ä¾å\n 5. ä¸ä¸ªæ¥å£ä¸è½å®ç°(implements)å¦ä¸ä¸ªæ¥å£,ä½å®å¯ä»¥ç»§æ¿å¤ä¸ªå¶å®çæ¥å£\n 6. javaæ¥å£å¿é¡»éè¿ç±»æ¥å®ç°å®çæ½è±¡æ¹æ³\n 7. å½ç±»å®ç°äºæä¸ªjavaæ¥å£æ¶ï¼å®å¿é¡»å®ç°æ¥å£ä¸­çæææ½è±¡æ¹æ³ï¼å¦åè¿ä¸ªç±»å¿é¡»å£°æä¸ºæ½è±¡ç±»\n 8. ä¸åè®¸åå»ºæ¥å£çå®ä¾ï¼å®ä¾åï¼ï¼ä½åè®¸å®ä¹æ¥å£ç±»åçå¼ç¨åéï¼è¯¥å¼ç¨åéå¼ç¨å®ç°äºè¿ä¸ªæ¥å£çç±»çå®ä¾\n 9. ä¸ä¸ªç±»åªè½ç»§æ¿ä¸ä¸ªç´æ¥çç¶ç±»ï¼ä½å¯ä»¥å®ç°å¤ä¸ªæ¥å£ï¼é´æ¥çå®ç°äºå¤ç»§æ¿ã\n\ninterface swiminterface{\n    void swim();\n}\n\nclass fish{\n    int fins=4;\n}\n\nclass duck {\n    int leg=2;\n    void egg(){};\n}\n\nclass goldfish extends fish implements swiminterface {\n    @override\n    public void swim() {\n        system.out.println("goldfish can swim ");\n    }\n}\n\nclass smallduck extends duck implements swiminterface {\n    public void egg(){\n        system.out.println("smallduck can lay eggs ");\n    }\n    @override\n    public void swim() {\n  \t  system.out.println("smallduck can swim ");\n    }\n}\n\npublic class interfacedemo {\n    public static void main(string[] args) {\n        goldfish goldfish=new goldfish();\n        goldfish.swim();\n        \n        smallduck smallduck= new smallduck();\n        smallduck.swim();\n        smallduck.egg();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\n\n# åé¨ç±»\n\nä¸ä¸å°èï¼æä»¬å­¦ä¹ äºæ¥å£ï¼å¨ä»¥åçå·¥ä½ä¸­æ¥å£æ¯æä»¬ç»å¸¸è¦ç¢°å°çï¼æä»¥ä¸å®è¦å¤å»åé¡¾ãæ¥ä¸æ¥ä»ç»ä¸ä¸åé¨ç±»ãå¾å¤æ¶åæä»¬åå»ºç±»çå¯¹è±¡çæ¶åå¹¶ä¸éè¦ä½¿ç¨å¾å¤æ¬¡ï¼æ¯æ¬¡åªä½¿ç¨ä¸æ¬¡ï¼è¿ä¸ªæ¶åæä»¬å°±å¯ä»¥ä½¿ç¨åé¨ç±»äºã\n\n\n# 1ãåé¨ç±»æ¦è¿°\n\nåé¨ç±»å°±æ¯å¨ä¸ä¸ªç±»çåé¨å¨å®ä¹ä¸ä¸ªç±»ï¼æ¯å¦ï¼aç±»ä¸­å®ä¹ä¸ä¸ªbç±»ï¼é£ä¹bç±»ç¸å¯¹aç±»æ¥è¯´å°±ç§°ä¸ºåé¨ç±»ï¼èaç±»ç¸å¯¹bç±»æ¥è¯´å°±æ¯å¤é¨ç±»äºã\n\nåé¨ç±»ä¸æ¯å¨ä¸ä¸ªjavaæºæä»¶ä¸­ç¼åä¿©ä¸ªå¹³è¡çä¿©ä¸ªç±»ï¼èæ¯å¨ä¸ä¸ªç±»çåé¨åå®ä¹å¦å¤ä¸ä¸ªç±»ã æä»¬å¯ä»¥æå¤è¾¹çç±»ç§°ä¸ºå¤é¨ç±»ï¼å¨å¶åé¨ç¼åçç±»ç§°ä¸ºåé¨ç±»ã\n\nåé¨ç±»åä¸ºåç§ï¼\n\n 1. æååé¨ç±»\n 2. éæåé¨ç±»\n 3. å±é¨åé¨ç±»\n 4. å¿ååé¨ç±»\n\n\n# 2ãæååé¨ç±»\n\næååé¨ç±»ï¼å®ä¾åé¨ç±»ãééæåé¨ç±»ï¼\n\næ³¨ï¼æååé¨ç±»ä¸­ä¸è½åéæå±æ§åæ¹æ³\n\nãå®ä¹ä¸ä¸ªåé¨ç±»ã\n\n//å¨aç±»ä¸­ç³æäºä¸ä¸ªbç±»ï¼æ­¤bç±»å°±å¨açåé¨ï¼å¹¶ä¸å¨æååéçä½ç½®ä¸ï¼æä»¥å°±ç§°ä¸ºæååé¨ç±»\npublic class outer {\n    private int id;\n    public void out(){\n        system.out.println("è¿æ¯å¤é¨ç±»æ¹æ³");\n    }\n    \n    class inner{\n        public void in(){\n     \t   system.out.println("è¿æ¯åé¨ç±»æ¹æ³");\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nãå®ä¾ååé¨ç±»ã\n\nå®ä¾ååé¨ç±»ï¼é¦åéè¦å®ä¾åå¤é¨ç±»ï¼éè¿å¤é¨ç±»å»è°ç¨åé¨ç±»\n\npublic class outer {\n    private int id;\n    public void out(){\n  \t  system.out.println("è¿æ¯å¤é¨ç±»æ¹æ³");\n    }\n    \n    class inner{\n        public void in(){\n        system.out.println("è¿æ¯åé¨ç±»æ¹æ³");\n    }\n    }\n}\n\npublic class test{\n    public static void main(string[] args) {\n        //å®ä¾åæååé¨ç±»åä¸¤æ­¥\n        //1ãå®ä¾åå¤é¨ç±»\n        outer outobject = new outer();\n        //2ãéè¿å¤é¨ç±»è°ç¨åé¨ç±»\n        outer.inner inobject = outobject.new inner();\n        //æµè¯ï¼è°ç¨åé¨ç±»ä¸­çæ¹æ³\n        inobject.in();//æå°ï¼è¿æ¯åé¨ç±»æ¹æ³\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\nåæï¼æ³æ³å¦æä½ è¦ä½¿ç¨ä¸ä¸ªç±»ä¸­æ¹æ³æèå±æ§ï¼ä½ å°±å¿é¡»è¦åæè¯¥ç±»çä¸ä¸ªå¯¹è±¡ï¼åçï¼ä¸ä¸ªç±»å¨å¦ ä¸ä¸ªç±»çåé¨ï¼é£ä¹æ³è¦ä½¿ç¨è¿ä¸ªåé¨ç±»ï¼å°±å¿é¡»åè¦æå¤é¨ç±»çä¸ä¸ªå®ä¾å¯¹è±¡ï¼ç¶åå¨éè¿è¯¥å¯¹è±¡å»ä½¿ç¨åé¨ç±»ã\n\nãæååé¨ç±»è½å¹²ä»ä¹ï¼ã\n\n * è®¿é®å¤é¨ç±»çææå±æ§(è¿éçå±æ§åæ¬ç§æçæååéï¼æ¹æ³)\n\npublic class outer {\n    private int id;\n    public void out(){\n        system.out.println("è¿æ¯å¤é¨ç±»æ¹æ³");\n    }\n    \n    class inner{\n        public void in(){\n            system.out.println("è¿æ¯åé¨ç±»æ¹æ³");\n        }\n        //åé¨ç±»è®¿é®å¤é¨ç±»ç§æçæååé\n        public void useid(){\n            system.out.println(id+3);ã\n        }\n        //åé¨ç±»è®¿é®å¤é¨ç±»çæ¹æ³\n        public void useout(){\n            out();\n        }\n    }\n}\n\npublic class test{\n    public static void main(string[] args) {\n        //å®ä¾åæååé¨ç±»åä¸¤æ­¥\n        //1ãå®ä¾åå¤é¨ç±»\n        outer outobject = new outer();\n        //2ãéè¿å¤é¨ç±»è°ç¨åé¨ç±»\n        outer.inner inobject = outobject.new inner();\n        //æµè¯\n        inobject.useid();//æå°3ï¼å ä¸ºidåå§åå¼ä¸º0ï¼0+3å°±ä¸º3ï¼å¶ä¸­å¨åé¨ç±»å°±ä½¿ç¨äºå¤é¨ç±»çç§ææååéidã\n        inobject.useout();//æå°ï¼è¿æ¯å¤é¨ç±»æ¹æ³\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n * å¦æåé¨ç±»ä¸­çåéååå¤é¨ç±»çæååéåä¸æ ·ï¼è¦éè¿åå»ºå¤é¨ç±»å¯¹è±¡"."å±æ§æ¥è®¿é®å¤é¨ç±»å±æ§ï¼éè¿this.å±æ§è®¿é®åé¨ç±»æåå±æ§\n\npublic class outer {\n    private int id;//é»è®¤åå§å0\n\n    public void out() {\n        system.out.println("è¿æ¯å¤é¨ç±»æ¹æ³");\n    }\n\n    class inner {\n        private int id = 8; //è¿ä¸ªidè·å¤é¨ç±»çå±æ§idåç§°ä¸æ ·ã\n\n        public void in() {\n            system.out.println("è¿æ¯åé¨ç±»æ¹æ³");\n        }\n\n        public void test() {\n            system.out.println(id);//è¾åº8ï¼åé¨ç±»ä¸­çåéä¼ææ¶å°å¤é¨ç±»çæååéç»éè\n            // å¦ä½è°ç¨å¤é¨ç±»çæååéå¢ï¼éè¿outer.this\n            // æ³è¦ç¥éä¸ºä»ä¹è½éè¿è¿ä¸ªæ¥è°ç¨ï¼å°±å¾æç½ä¸é¢è¿ä¸ªåç\n            // æ³å®ä¾ååé¨ç±»å¯¹è±¡ï¼å°±å¿é¡»éè¿å¤é¨ç±»å¯¹è±¡ï¼å½å¤é¨ç±»å¯¹è±¡æ¥newåºåé¨ç±»å¯¹è±¡æ¶ï¼ä¼æèªå·±(å¤é¨ç±»å¯¹è±¡)çå¼ç¨ä¼ å°äºåé¨ç±»ä¸­ï¼\n            // æä»¥åé¨ç±»å°±å¯ä»¥éè¿outer.thisæ¥è®¿é®å¤é¨ç±»çå±æ§åæ¹æ³\n            // å°è¿éï¼ä½ ä¹å°±å¯ä»¥ç¥éä¸ºä»ä¹åé¨ç±»å¯ä»¥è®¿é®å¤é¨ç±»çå±æ§åæ¹æ³ï¼è¿éç±äºæä¸¤ä¸ªç¸åçå±æ§åç§°ï¼\n\n            // æä»¥éè¦æ¾ç¤ºçç¨outer.thisæ¥è°ç¨å¤é¨ç±»çå±æ§ï¼å¹³å¸¸å¦æå±æ§åä¸éå¤\n            // é£ä¹æä»¬å¨åé¨ç±»ä¸­è°ç¨å¤é¨ç±»çå±æ§åæ¹æ³æ¶ï¼åé¢å°±éå¼çè°ç¨äºouter.thisã\n            system.out.println(outer.this.id);//è¾åºå¤é¨ç±»çå±æ§idãä¹å°±æ¯è¾åº0\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\nåå©æååé¨ç±»ï¼æ¥æ»ç»åé¨ç±»(åæ¬4ç§åé¨ç±»)çéç¨ç¨æ³ï¼\n\n 1. è¦æ³è®¿é®åé¨ç±»ä¸­çåå®¹ï¼å¿é¡»éè¿å¤é¨ç±»å¯¹è±¡æ¥å®ä¾ååé¨ç±»ã\n\n 2. è½å¤è®¿é®å¤é¨ç±»ææçå±æ§åæ¹æ³ï¼åçå°±æ¯å¨éè¿å¤é¨ç±»å¯¹è±¡å®ä¾ååé¨ç±»å¯¹è±¡æ¶ï¼å¤é¨ç±»å¯¹è±¡æèªå·±çå¼ç¨ä¼ è¿äºåé¨ç±»ï¼ä½¿åé¨ç±»å¯ä»¥ç¨éè¿outer.thiså»è°ç¨å¤é¨ç±»çå±æ§åæ¹æ³ã\n    \n    ä¸è¬é½æ¯éå¼è°ç¨äºï¼ä½æ¯å½åé¨ç±»ä¸­æå±æ§æèæ¹æ³ååå¤é¨ç±»ä¸­çå±æ§ææ¹æ³åç¸åçæ¶åï¼å°±éè¦éè¿æ¾å¼è°ç¨outer.thisäºã\n\nãåçä¸ä¸ªå°ä¾å­ã\n\npublic class memberinnerclasstest {\n    private string name;\n    private static int age;\n\n    public void run() {\n    }\n\n    public static void go() {\n    }\n\n    public class memberinnerclass {\n        private string name;\n\n        //åé¨ç±»è®¿é®å¤é¨ç±»\n        public void test(string name) {\n            system.out.println(name);\n            system.out.println(this.name);\n            system.out.println(memberinnerclasstest.this.name);\n            system.out.println(memberinnerclasstest.age);\n            memberinnerclasstest.this.run();\n            memberinnerclasstest.go();\n        }\n    }\n\n    //å¤é¨ç±»è®¿é®æååé¨ç±»\n    //æååé¨ç±»çå¯¹è±¡è¦ ä¾èµäºå¤é¨ç±»çå¯¹è±¡çå­å¨\n    public void test() {\n        //memberinnerclass mic = memberinnerclasstest.this.new memberinnerclass();\n        //memberinnerclass mic = this.new memberinnerclass();\n        memberinnerclass mic = new memberinnerclass();\n        mic.name = "tom";\n        mic.test("hua");\n    }\n\n    public static void main(string[] args) {\n        //memberinnerclass mic = new memberinnerclass();è¿ä¸ªæ¯ä¸è¡çï¼thisæ¯å¨æçã\n        //æä»¥è¦ä½¿ç¨è¦ååå»ºå¤é¨ç±»å¯¹è±¡ï¼æè½ä½¿ç¨\n        memberinnerclasstest out = new memberinnerclasstest();\n        memberinnerclass mic = out.new memberinnerclass();\n        //å¦æåé¨ç±»æ¯private,åä¸è½è®¿é®ï¼åªè½éé¼åé¨æ¹æ³æ¥è°ç¨åé¨ç±»\n        mic.name = "jik";\n        mic.test("kkk");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n\n\n\n# 3ãéæåé¨ç±»\n\nçå°åå­å°±ç¥éï¼ä½¿ç¨staticä¿®é¥°çåé¨ç±»å°±å«éæåé¨ç±»ã\n\næ¢ç¶æå°äºstaticï¼é£æä»¬å°±æ¥å¤ä¹ ä¸ä¸å®çç¨æ³ï¼ä¸è¬åªä¿®é¥°åéåæ¹æ³ï¼å¹³å¸¸ä¸å¯ä»¥ä¿®é¥°ç±»ï¼ä½æ¯åé¨ç±»å´å¯ä»¥è¢«staticä¿®é¥°ã\n\n 1. staticä¿®é¥°æååéï¼æ´ä¸ªç±»çå®ä¾å±äº«éæåé\n 2. staticä¿®é¥°æ¹æ³ï¼éææ¹æ³ï¼åªè½å¤è®¿é®ç¨staticä¿®é¥°çå±æ§ææ¹æ³ï¼èééææ¹æ³å¯ä»¥è®¿é®staticä¿®é¥°çæ¹æ³æå±æ§\n 3. è¢«staticä¿®é¥°äºçæååéåæ¹æ³è½ç´æ¥è¢«ç±»åè°ç¨ã\n 4. staticä¸è½ä¿®é¥°å±é¨åéï¼åè®°ï¼ä¸è¦ææ··æ·äºï¼staticå¹³å¸¸å°±ç¨æ¥ä¿®é¥°æååéåæ¹æ³ã\n\nä¾å­ï¼\n\npublic class staticinnerclasstest {\n\n    private string name;\n    private static int age;\n\n    public void run() {\n    }\n\n    public static void go() {\n    }\n\n    //å¤é¨ç±»è®¿é®éæåé¨ç±»\n    public void test() {\n        staticinnerclass sic = new staticinnerclass(); //éæçåé¨ç±»ä¸éè¦ä¾èµå¤é¨ç±»ï¼æä»¥ä¸ç¨this\n        sic.name = "tom";\n\n        sic.test1("jack");\n        staticinnerclass.age = 10;\n        staticinnerclass.test2("xixi");\n    }\n\n    private static class staticinnerclass {\n        private string name;\n        private static int age;\n\n        public void test1(string name) {\n            system.out.println(name);\n            system.out.println(this.name);\n            system.out.println(staticinnerclass.age);\n            system.out.println(staticinnerclasstest.age);\n            //system.out.println(staticinnerclasstest.this.name);éæç±»ä¸è½è®¿é®ééæå±æ§\n            staticinnerclasstest.go();\n            //staticinnerclasstest.this.run();éæç±»ä¸è½è®¿é®ééææ¹æ³\n        }\n\n        public static void test2(string name) {\n            //åªè½è®¿é®èªå·±åå¤é¨ç±»çéæå±æ§åæ¹æ³\n            system.out.println(name);\n            //system.out.println(this.name);éææ¹æ³éé¢è¿èªå·±ç±»çééæå±æ§é½ä¸è½è®¿é®\n            system.out.println(staticinnerclass.age);\n            system.out.println(staticinnerclasstest.age);\n            //system.out.println(staticinnerclasstest.this.name);éææ¹æ³ä¸è½è®¿é®ééæå±æ§\n            staticinnerclasstest.go();\n            //staticinnerclasstest.this.run();éææ¹æ³ä¸è½è®¿é®ééææ¹æ³\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n\n\næ³¨æï¼\n\n 1. æä»¬ä¸é¢è¯´çåé¨ç±»è½å¤è°ç¨å¤é¨ç±»çæ¹æ³åå±æ§ï¼å¨éæåé¨ç±»ä¸­å°±è¡äºï¼å ä¸ºéæåé¨ç±»æ²¡æ äºæåå¤é¨ç±»å¯¹è±¡çå¼ç¨ãé¤éå¤é¨ç±»ä¸­çæ¹æ³æèå±æ§ä¹æ¯éæçãè¿å°±åå½å°äºstaticå³é®å­çç¨æ³ã\n\n 2. éæåé¨ç±»è½å¤ç´æ¥è¢«å¤é¨ç±»ç»å®ä¾åï¼ä¸éè¦ä½¿ç¨å¤é¨ç±»å¯¹è±¡\n    \n    outer.inner inner = new outer.inner();\n    \n    \n    1\n    \n\n 3. éæåé¨ç±»ä¸­å¯ä»¥å£°æéææ¹æ³åéæåéï¼ä½æ¯ééæåé¨ç±»ä¸­å°±ä¸å¯ä»¥å£°æéææ¹æ³åéæåé\n\n\n# 4ãå±é¨åé¨ç±»\n\nå±é¨åé¨ç±»æ¯å¨ä¸ä¸ªæ¹æ³åé¨å£°æçä¸ä¸ªç±» å±é¨åé¨ç±»ä¸­å¯ä»¥è®¿é®å¤é¨ç±»çæååéåæ¹æ³ å±é¨åé¨ç±»ä¸­å¦æè¦è®¿é®è¯¥åé¨ç±»æå¨æ¹æ³ä¸­çå±é¨åéï¼é£ä¹è¿ä¸ªå±é¨åéå°±å¿é¡»æ¯finalä¿®é¥°ç\n\npublic class outer {\n    private int id;\n\n    //å¨method01æ¹æ³ä¸­æä¸ä¸ªinneråé¨ç±»ï¼è¿ä¸ªåé¨ç±»å°±ç§°ä¸ºå±é¨åé¨ç±»\n    public void method01() {\n        class inner {\n            public void in() {\n                system.out.println("è¿æ¯å±é¨åé¨ç±»");\n            }\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nå±é¨åé¨ç±»ä¸è¬çä½ç¨è·å¨æååé¨ç±»ä¸­æ»ç»çå·®ä¸å¤ï¼ä½æ¯æä¸¤ä¸ªè¦æ³¨æçå°æ¹ï¼\n\n1ãå¨å±é¨åé¨ç±»ä¸­ï¼å¦æè¦è®¿é®å±é¨åéï¼é£ä¹è¯¥å±é¨åéè¦ç¨finalä¿®é¥°\n\nä¸ºä»ä¹éè¦ä½¿ç¨finalï¼\n\nfinalä¿®é¥°åéï¼åä¸ºå¸¸éï¼ä¼å¨å¸¸éæ± ä¸­æ¾çï¼éåæç»´æ³è¿ä¸ªé®é¢ï¼å¦æä¸å®ç¨finalä¿®é¥°ï¼å½å±é¨åé¨ç±»è¢«å®ä¾ååï¼æ¹æ³å¼¹æ ï¼å±é¨åééçè·çæ¶å¤±ï¼è¿ä¸ªæ¶åå±é¨åé¨ç±»å¯¹è±¡å¨æ³å»è°ç¨è¯¥å±é¨åéï¼å°±ä¼æ¥éï¼å ä¸ºè¯¥å±é¨åéå·²ç»æ²¡äºï¼å½å±é¨åéç¨fanalä¿®é¥°åï¼å°±ä¼å°å¶å å¥å¸¸éæ± ä¸­ï¼å³ä½¿æ¹æ³å¼¹æ äºï¼è¯¥å±é¨åéè¿å¨å¸¸éæ± ä¸­åçï¼å±é¨åé¨ç±»ä¹å°±æ¯å¤è°ç¨ãæä»¥å±é¨åé¨ç±»æ³è¦è°ç¨å±é¨å éæ¶ï¼éè¦ä½¿ç¨finalä¿®é¥°ï¼ä¸ä½¿ç¨ï¼ç¼è¯åº¦éä¸è¿ã\n\npublic class outer {\n    private int id;\n\n    public void method01() {\n        //è¿ä¸ªå°±æ¯å±é¨åécidãè¦è®©å±é¨åé¨ç±»ä½¿ç¨ï¼å°±å¾åä¸ºfinalå¹¶ä¸èµå¼ï¼å¦æä¸ä½¿ç¨finalä¿®é¥°ï¼å°±ä¼æ¥é\n        final int cid = 3;\n        class inner {\n            //åé¨ç±»çç¬¬ä¸ä¸ªæ¹æ³\n            public void in() {\n                system.out.println("è¿æ¯å±é¨åé¨ç±»");\n            }\n\n            //åé¨ç±»ä¸­çä½¿ç¨å±é¨åécidçæ¹æ³\n            public void usecid() {\n                system.out.println(cid);\n            }\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n2ãå±é¨åé¨ç±»ä¸è½éè¿å¤é¨ç±»å¯¹è±¡ç´æ¥å®ä¾åï¼èæ¯å¨æ¹æ³ä¸­å®ä¾ååºèªå·±æ¥ï¼ç¶åéè¿åé¨ç±»å¯¹è±¡ è°ç¨èªå·±ç±»ä¸­çæ¹æ³ã\n\nçä¸é¢ä¾å­å°±ç¥éå¦ä½ç¨äºã\n\npublic class outer {\n    private int id;\n\n    public void out() {\n        system.out.println("å¤é¨ç±»æ¹æ³");\n    }\n\n    public void method01() {\n        class inner {\n            public void in() {\n                system.out.println("è¿æ¯å±é¨åé¨ç±»");\n            }\n        }\n        //å³é®å¨è¿éï¼å¦éè¦å¨method01æ¹æ³ä¸­èªå·±åå»ºåé¨ç±»å®ä¾ï¼\n        // ç¶åè°ç¨åé¨ç±»ä¸­çæ¹æ³ï¼ç­å¾å¤é¨ç±»è°ç¨method01æ¹æ³ï¼\n        // å°±å¯ä»¥æ§è¡å°åé¨ç±»ä¸­çæ¹æ³äºã\n        inner in = new inner();\n        in.in();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\nä½¿ç¨å±é¨åé¨ç±»éè¦æ³¨æçå°æ¹å°±åæä¸é¢è¯´çï¼\n\n 1. å¨å±é¨åé¨ç±»ä¸­ï¼å¦æè¦è®¿é®å±é¨åéï¼é£ä¹è¯¥å±é¨åéè¦ç¨finalä¿®é¥°\n\n 2. å¦ä½è°ç¨å±é¨åé¨ç±»æ¹æ³ã\n    \n    public class localinnerclasstest {\n        private string name;\n        private static int age;\n    \n        public void run() {\n        }\n    \n        public static void go() {\n        }\n    \n        //å±é¨åé¨ç±»è¦å®ä¹å¨æ¹æ³ä¸­\n        public void test() {\n            final string myname = "";\n            class localinnerclass {\n                private string name;\n    \n                // private static int age;ä¸è½å®ä¹éæå±æ§\n                public void test(string name) {\n                    system.out.println(name);\n                    system.out.println(this.name);\n                    system.out.println(myname);\n                    system.out.println(localinnerclasstest.this.name);\n                    localinnerclasstest.this.run();\n                    localinnerclasstest.go();\n                }\n            }\n            // å±é¨åé¨ç±»åªè½å¨èªå·±çæ¹æ³ä¸­ç¨\n            // å ä¸ºå±é¨åé¨ç±»ç¸å½äºä¸ä¸ªå±é¨åéï¼åºäºæ¹æ³å°±æ¾ä¸å°äºã\n            localinnerclass lic = new localinnerclass();\n            lic.name = "tom";\n            lic.test("test");\n            \n        }\n        \n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    \n\n\n# 5ãå¿ååé¨ç±»\n\nå¨è¿åç§åé¨ç±»ä¸­ï¼ä»¥åçå·¥ä½å¯è½éå°æå¤çæ¯å¿ååé¨ç±»ï¼æä»¥è¯´å¿ååé¨ç±»æ¯æå¸¸ç¨çä¸ç§ åé¨ç±»ã\n\nä»ä¹æ¯å¿åå¯¹è±¡ï¼å¦æä¸ä¸ªå¯¹è±¡åªè¦ä½¿ç¨ä¸æ¬¡ï¼é£ä¹æä»¬å°±æ¯éè¦new object().method()ã å°±å¯ä»¥äºï¼èä¸éè¦ç»è¿ä¸ªå®ä¾ä¿å­å°è¯¥ç±»ååéä¸­å»ãè¿å°±æ¯å¿åå¯¹è±¡ã\n\npublic class test {\n    public static void main(string[] args) {\n        //è®²newåºæ¥çappleå®ä¾èµç»appleåéä¿å­èµ·æ¥ï¼ä½æ¯æä»¬åªéè¦ç¨ä¸æ¬¡ï¼å°±å¯ä»¥è¿æ ·å\n        apple apple = new apple();\n        apple.eat();\n        //è¿ç§å°±å«åå¿åå¯¹è±¡çä½¿ç¨ï¼ä¸æå®ä¾ä¿å­å°åéä¸­ã\n        new apple().eat();\n    }\n}\n\nclass apple{\n    public void eat(){\n        system.out.println("æè¦è¢«åäº");\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nå¿ååé¨ç±»è·å¿åå¯¹è±¡æ¯ä¸ä¸ªéçï¼\n\nå¿åå¯¹è±¡ï¼æåªéè¦ç¨ä¸æ¬¡ï¼é£ä¹æå°±ä¸ç¨å£°æä¸ä¸ªè¯¥ç±»ååéæ¥ä¿å­å¯¹è±¡äºï¼\n\nå¿ååé¨ç±»ï¼æä¹åªéè¦ç¨ä¸æ¬¡ï¼é£æå°±ä¸éè¦å¨ç±»ä¸­åå®ä¹ä¸ä¸ªåé¨ç±»ï¼èæ¯ç­å¾éè¦ç¨çæ¶åï¼æå°±å¨ä¸´æ¶å®ç°è¿ä¸ªåé¨ç±»ï¼å ä¸ºç¨æ¬¡æ°å°ï¼å¯è½å°±è¿ä¸æ¬¡ï¼é£ä¹è¿æ ·ååé¨ç±»ï¼æ´æ¹ä¾¿ãä¸ç¶åååºä¸ ä¸ªåé¨ç±»çå¨é¨å®ç°æ¥ï¼ç¶åå°±è°ç¨å®ä¸æ¬¡ï¼å²ä¸æ¯ç¨å®ä¹åå°±ä¸ç´å°å¶æ¾å¨é£ï¼é£å°±æ²¡å¿è¦é£æ ·ã\n\n 1. å¿ååé¨ç±»éè¦ä¾æäºå¶ä»ç±»æèæ¥å£æ¥åå»º\n    * å¦æä¾æçæ¯ç±»ï¼é£ä¹åå»ºåºæ¥çå¿ååé¨ç±»å°±é»è®¤æ¯è¿ä¸ªç±»çå­ç±»\n    * å¦æä¾æçæ¯æ¥å£ï¼é£ä¹åå»ºåºæ¥çå¿ååé¨ç±»å°±é»è®¤æ¯è¿ä¸ªæ¥å£çå®ç°ç±»ã\n 2. å¿ååé¨ç±»çå£°æå¿é¡»æ¯å¨ä½¿ç¨newå³é®å­çæ¶å\n    * å¿ååé¨ç±»çå£°æååå»ºå¯¹è±¡å¿é¡»ä¸æ°åµæï¼å¹¶ä¸ä¹åè½åå¤ä½¿ç¨ï¼å ä¸ºæ²¡æåå­\n\nãç¤ºä¾ã\n\naæ¯ä¸ä¸ªç±»(æ®éç±»ãæ½è±¡ç±»é½å¯ä»¥)ï¼ä¾æäºaç±»åå»ºä¸ä¸ªå¿ååé¨ç±»å¯¹è±¡\n\nmain:\n\na a = new a(){\n    //å®ç°aä¸­çæ½è±¡æ¹æ³\n    //æèéåaä¸­çæ®éæ¹æ³\n};\n\næ³¨:è¿ä¸ªå¤§æ¬å·éé¢å¶å®å°±æ¯è¿ä¸ªåé¨ç±»çä»£ç ,åªä¸è¿æ¯å£°æè¯¥åé¨ç±»çåæ¶å°±æ¯è¦newåå»ºäºå¶å¯¹è±¡,\nå¹¶ä¸ä¸è½åå¤ä½¿ç¨,å ä¸ºæ²¡æåå­ã\n    \nä¾å¦:\nbæ¯ä¸ä¸ªæ¥å£ï¼ä¾æäºbæ¥å£åå»ºä¸ä¸ªå¿ååé¨ç±»å¯¹è±¡\n\nb b = new b(){\n\t//å®ç°bä¸­çæ½è±¡æ¹æ³\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n 1. å¿ååé¨ç±»é¤äºä¾æçç±»ææ¥å£ä¹å¤ï¼ä¸è½æå®ç»§æ¿æèå®ç°å¶ä»ç±»ææ¥å£ï¼åæ¶ä¹ä¸è½è¢«å¶ä»ç±»æç»§æ¿ï¼å ä¸ºæ²¡æåå­ã\n 2. å¿ååé¨ä¸­ï¼æä»¬ä¸è½ååºå¶æé å¨ï¼å ä¸ºæ²¡æåå­ã\n 3. å¿ååé¨ä¸­ï¼é¤äºéåä¸é¢çæ¹æ³å¤ï¼ä¸è¬ä¸ä¼ååå¶ä»ç¬æçæ¹æ³ï¼å ä¸ºä»å¤é¨ä¸è½ç´æ¥è°ç¨å°ã(é´æ¥æ¯è°ç¨å°ç)\n\npublic interface work{\n    void dowork();\n}\n\npublic class anonymousoutterclass{\n    private string name;\n    private static int age;\n    public void say(){}\n    public static void go(){}\n    \n    public void test(){\n        final int i = 90;\n        \n        work w = new work(){\n            public void dowork(){\n                system.out.println(anonymousoutterclass.this.name);\n                system.out.println(anonymousoutterclass.age);\n                anonymousoutterclass.this.say();\n                anonymousoutterclass.go();\n                \n                system.out.println(i);\n            }\n        };\n        w.dowork();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\næä»¬å¯ä»¥è¯ä¸ä¸ä¸ ç¨å¿ååé¨ç±» å ç¨å¿ååé¨ç±» å®ç°ä¸ä¸ªæ¥å£ä¸­çæ¹æ³çåºå«\n\nãä¸ç¨å¿ååé¨ç±»ã\n\npublic class test {\n    public static void main(string[] args) {\n        // å¦ææä»¬éè¦ä½¿ç¨æ¥å£ä¸­çæ¹æ³ï¼æä»¬å°±éè¦èµ°3æ­¥ï¼\n        // 1ãå®ç°æ¥å£ 2ãåå»ºå®ç°æ¥å£ç±»çå®ä¾å¯¹è±¡ 3ãéè¿å¯¹è±¡è°ç¨æ¹æ³\n        //ç¬¬äºæ­¥\n        test02 test = new test02();\n        //ç¬¬ä¸æ­¥\n        test.method();\n    }\n}\n\n//æ¥å£test1\ninterface test01{\n    public void method();\n}\n\n//ç¬¬ä¸æ­¥ãå®ç°test01æ¥å£\nclass test02 implements test01{\n    @override\n    public void method() {\n        system.out.println("å®ç°äºtestæ¥å£çæ¹æ³");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\nãä½¿ç¨å¿ååé¨ç±»ã\n\npublic class test {\n    public static void main(string[] args) {\n\t\t//å¦ææä»¬éè¦ä½¿ç¨æ¥å£ä¸­çæ¹æ³ï¼æä»¬åªéè¦èµ°ä¸æ­¥ï¼å°±æ¯ä½¿ç¨å¿ååé¨ç±»ï¼ç´æ¥å°å¶ç±»çå¯¹è±¡åå»ºåºæ¥ã\n        new test1(){\n            public void method(){\n                system.out.println("å®ç°äºtestæ¥å£çæ¹æ³");\n            }\n        }.method();\n    }\n}\n\ninterface test1{\n    public void method();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nè§£æï¼\n\nå¶å®åªè¦æç½ä¸ç¹ï¼new test1( ){ å®ç°æ¥å£ä¸­æ¹æ³çä»£ç  };\n\ntest1(){...} è¿ä¸ªçä½ç¨å°±æ¯å°æ¥å£ç»å®ç°äºï¼åªä¸è¿è¿éå®ç°è¯¥æ¥å£çæ¯ä¸ä¸ªå¿åç±»ï¼ä¹å°±æ¯è¯´è¿ä¸ªç±»æ²¡åå­ï¼åªè½ä½¿ç¨è¿ä¸æ¬¡ï¼æä»¬ç¥éäºè¿æ¯ä¸ä¸ªç±»ï¼ å°å¶newåºæ¥ï¼å°±è½è·å¾ä¸ä¸ªå®ç°äºtest1æ¥å£çç±»çå®ä¾å¯¹è±¡ï¼éè¿è¯¥å®ä¾å¯¹è±¡ï¼å°±è½è°ç¨è¯¥ç±»ä¸­çæ¹æ³äºï¼å ä¸ºå¶å¿åç±»æ¯å¨ä¸ä¸ªç±»ä¸­å®ç°çï¼æä»¥å«å¶å¿ååé¨ç±»ã\n\nä¸è¦çº ç»ä¸ºä»ä¹ test1( ){...} å°±ç¸å½äºå®ç°äºtest1æ¥å£ï¼è¿å¶ä¸­çåçç­è¶³å¤å¼ºå¤§äºï¼å¨å»å­¦ä¹ ï¼ä¸è¦é»çè§å°ï¼è¿éå°±ä»ä»æ¯éè¦ç¥éä»çä½ç¨æ¯ä»ä¹ï¼åäºäºä»ä¹ä¸è¥¿å°±è¡ã',charsets:{cjk:!0},lastUpdated:"2023/12/24, 7:12:00",lastUpdatedTimestamp:1703403105e3},{title:"å¸¸ç¨ç±»",frontmatter:{title:"å¸¸ç¨ç±»",date:"2021-04-15T22:47:14.000Z",permalink:"/java/se/commonly-used-class/",categories:["java","java-se"]},regularPath:"/01.Java/04.Java-%E5%B8%B8%E7%94%A8%E7%B1%BB/08.%E5%B8%B8%E7%94%A8%E7%B1%BB.html",relativePath:"01.Java/04.Java-å¸¸ç¨ç±»/08.å¸¸ç¨ç±».md",key:"v-458cddd9",path:"/java/se/commonly-used-class/",headers:[{level:2,title:"Objectç±»",slug:"objectç±»",normalizedTitle:"objectç±»",charIndex:19},{level:3,title:"1  clone() æ¹æ³",slug:"_1-clone-æ¹æ³",normalizedTitle:"1  clone() æ¹æ³",charIndex:null},{level:3,title:"2  toString()æ¹æ³",slug:"_2-tostring-æ¹æ³",normalizedTitle:"2  tostring()æ¹æ³",charIndex:null},{level:3,title:"3  getClass()æ¹æ³",slug:"_3-getclass-æ¹æ³",normalizedTitle:"3  getclass()æ¹æ³",charIndex:null},{level:3,title:"4  finalize()æ¹æ³",slug:"_4-finalize-æ¹æ³",normalizedTitle:"4  finalize()æ¹æ³",charIndex:null},{level:3,title:"5  equals()æ¹æ³",slug:"_5-equals-æ¹æ³",normalizedTitle:"5  equals()æ¹æ³",charIndex:null},{level:3,title:"6  hashCode()æ¹æ³",slug:"_6-hashcode-æ¹æ³",normalizedTitle:"6  hashcode()æ¹æ³",charIndex:null},{level:3,title:"7  wait()æ¹æ³",slug:"_7-wait-æ¹æ³",normalizedTitle:"7  wait()æ¹æ³",charIndex:null},{level:3,title:"8  notify()æ¹æ³",slug:"_8-notify-æ¹æ³",normalizedTitle:"8  notify()æ¹æ³",charIndex:null},{level:2,title:"åè£ç±»",slug:"åè£ç±»",normalizedTitle:"åè£ç±»",charIndex:180},{level:3,title:"1ãåè£ç±»ä»ç»",slug:"_1ãåè£ç±»ä»ç»",normalizedTitle:"1ãåè£ç±»ä»ç»",charIndex:189},{level:3,title:"2ãåè£ç±»çåºç¨",slug:"_2ãåè£ç±»çåºç¨",normalizedTitle:"2ãåè£ç±»çåºç¨",charIndex:202},{level:3,title:"3ãå°æ´æ°è½¬æ¢ä¸ºå­ç¬¦ä¸²",slug:"_3ãå°æ´æ°è½¬æ¢ä¸ºå­ç¬¦ä¸²",normalizedTitle:"3ãå°æ´æ°è½¬æ¢ä¸ºå­ç¬¦ä¸²",charIndex:216},{level:3,title:"3ãèªå¨æç®±åè£ç®±",slug:"_3ãèªå¨æç®±åè£ç®±",normalizedTitle:"3ãèªå¨æç®±åè£ç®±",charIndex:233},{level:2,title:"Mathç±»",slug:"mathç±»",normalizedTitle:"mathç±»",charIndex:246},{level:2,title:"Randomç±»",slug:"randomç±»",normalizedTitle:"randomç±»",charIndex:255},{level:2,title:"æ¥ææ¶é´ç±»",slug:"æ¥ææ¶é´ç±»",normalizedTitle:"æ¥ææ¶é´ç±»",charIndex:266},{level:3,title:"1\tDateç±»",slug:"_1dateç±»",normalizedTitle:"1\tdateç±»",charIndex:null},{level:3,title:"2ãSimpleDateFormat",slug:"_2ãsimpledateformat",normalizedTitle:"2ãsimpledateformat",charIndex:290},{level:3,title:"3ãCalendarç±»",slug:"_3ãcalendarç±»",normalizedTitle:"3ãcalendarç±»",charIndex:314},{level:2,title:"Stringç±»",slug:"stringç±»",normalizedTitle:"stringç±»",charIndex:329},{level:3,title:"1ãStringæ¦è¿°",slug:"_1ãstringæ¦è¿°",normalizedTitle:"1ãstringæ¦è¿°",charIndex:342},{level:3,title:"2ãåå»ºå­ç¬¦ä¸²å¯¹è±¡æ¹å¼",slug:"_2ãåå»ºå­ç¬¦ä¸²å¯¹è±¡æ¹å¼",normalizedTitle:"2ãåå»ºå­ç¬¦ä¸²å¯¹è±¡æ¹å¼",charIndex:358},{level:3,title:"3ãStringå¸¸ç¨çæ¹æ³",slug:"_3ãstringå¸¸ç¨çæ¹æ³",normalizedTitle:"3ãstringå¸¸ç¨çæ¹æ³",charIndex:375},{level:4,title:"Stringçå¤æ­",slug:"stringçå¤æ­",normalizedTitle:"stringçå¤æ­",charIndex:27628},{level:4,title:"Stringçæªå",slug:"stringçæªå",normalizedTitle:"stringçæªå",charIndex:28604},{level:4,title:"Stringçè½¬æ¢",slug:"stringçè½¬æ¢",normalizedTitle:"stringçè½¬æ¢",charIndex:29865},{level:4,title:"å¶ä»æ¹æ³",slug:"å¶ä»æ¹æ³",normalizedTitle:"å¶ä»æ¹æ³",charIndex:30510},{level:3,title:"4ãStringçä¸å¯åæ§",slug:"_4ãstringçä¸å¯åæ§",normalizedTitle:"4ãstringçä¸å¯åæ§",charIndex:394},{level:3,title:"5ãå­ç¬¦ä¸²å¸¸éæ± ",slug:"_5ãå­ç¬¦ä¸²å¸¸éæ± ",normalizedTitle:"5ãå­ç¬¦ä¸²å¸¸éæ± ",charIndex:413},{level:2,title:"StringBuilderåStringBuffer",slug:"stringbuilderåstringbuffer",normalizedTitle:"stringbuilderåstringbuffer",charIndex:425},{level:3,title:"1ãæ¦è¿°",slug:"_1ãæ¦è¿°",normalizedTitle:"1ãæ¦è¿°",charIndex:457},{level:3,title:"2ãå¸¸ç¨æ¹æ³",slug:"_2ãå¸¸ç¨æ¹æ³",normalizedTitle:"2ãå¸¸ç¨æ¹æ³",charIndex:467},{level:4,title:"insert",slug:"insert",normalizedTitle:"insert",charIndex:38201},{level:4,title:"append",slug:"append",normalizedTitle:"append",charIndex:34925},{level:4,title:"replace",slug:"replace",normalizedTitle:"replace",charIndex:37998},{level:4,title:"delete",slug:"delete",normalizedTitle:"delete",charIndex:4240},{level:4,title:"index",slug:"index",normalizedTitle:"index",charIndex:28665},{level:4,title:"å¶ä»API",slug:"å¶ä»api",normalizedTitle:"å¶ä»api",charIndex:48098},{level:3,title:"3ãStringBuffer",slug:"_3ãstringbuffer",normalizedTitle:"3ãstringbuffer",charIndex:479},{level:3,title:"4ãå°ç»",slug:"_4ãå°ç»",normalizedTitle:"4ãå°ç»",charIndex:499},{level:3,title:"5ãé¢è¯é¢çåç­",slug:"_5ãé¢è¯é¢çåç­",normalizedTitle:"5ãé¢è¯é¢çåç­",charIndex:509},{level:2,title:"Fileç±»",slug:"fileç±»",normalizedTitle:"fileç±»",charIndex:521},{level:3,title:"1ãFileç±»çåºæ¬ç¨æ³",slug:"_1ãfileç±»çåºæ¬ç¨æ³",normalizedTitle:"1ãfileç±»çåºæ¬ç¨æ³",charIndex:532}],headersStr:"Objectç±» 1  clone() æ¹æ³ 2  toString()æ¹æ³ 3  getClass()æ¹æ³ 4  finalize()æ¹æ³ 5  equals()æ¹æ³ 6  hashCode()æ¹æ³ 7  wait()æ¹æ³ 8  notify()æ¹æ³ åè£ç±» 1ãåè£ç±»ä»ç» 2ãåè£ç±»çåºç¨ 3ãå°æ´æ°è½¬æ¢ä¸ºå­ç¬¦ä¸² 3ãèªå¨æç®±åè£ç®± Mathç±» Randomç±» æ¥ææ¶é´ç±» 1\tDateç±» 2ãSimpleDateFormat 3ãCalendarç±» Stringç±» 1ãStringæ¦è¿° 2ãåå»ºå­ç¬¦ä¸²å¯¹è±¡æ¹å¼ 3ãStringå¸¸ç¨çæ¹æ³ Stringçå¤æ­ Stringçæªå Stringçè½¬æ¢ å¶ä»æ¹æ³ 4ãStringçä¸å¯åæ§ 5ãå­ç¬¦ä¸²å¸¸éæ±  StringBuilderåStringBuffer 1ãæ¦è¿° 2ãå¸¸ç¨æ¹æ³ insert append replace delete index å¶ä»API 3ãStringBuffer 4ãå°ç» 5ãé¢è¯é¢çåç­ Fileç±» 1ãFileç±»çåºæ¬ç¨æ³",content:'# JavaSE-å¸¸ç¨ç±»\n\n\n\n * Objectç±»\n   * 1 clone() æ¹æ³\n   * 2 toString()æ¹æ³\n   * 3 getClass()æ¹æ³\n   * 4 finalize()æ¹æ³\n   * 5 equals()æ¹æ³\n   * 6 hashCode()æ¹æ³\n   * 7 wait()æ¹æ³\n   * 8 notify()æ¹æ³\n * åè£ç±»\n   * 1ãåè£ç±»ä»ç»\n   * 2ãåè£ç±»çåºç¨\n   * 3ãå°æ´æ°è½¬æ¢ä¸ºå­ç¬¦ä¸²\n   * 3ãèªå¨æç®±åè£ç®±\n * Mathç±»\n * Randomç±»\n * æ¥ææ¶é´ç±»\n   * 1 Dateç±»\n   * 2ãSimpleDateFormat\n   * 3ãCalendarç±»\n * Stringç±»\n   * 1ãStringæ¦è¿°\n   * 2ãåå»ºå­ç¬¦ä¸²å¯¹è±¡æ¹å¼\n   * 3ãStringå¸¸ç¨çæ¹æ³\n   * 4ãStringçä¸å¯åæ§\n   * 5ãå­ç¬¦ä¸²å¸¸éæ± \n * StringBuilderåStringBuffer\n   * 1ãæ¦è¿°\n   * 2ãå¸¸ç¨æ¹æ³\n   * 3ãStringBuffer\n   * 4ãå°ç»\n   * 5ãé¢è¯é¢çåç­\n * Fileç±»\n   * 1ãFileç±»çåºæ¬ç¨æ³\n\n\n\n\n# Objectç±»\n\nçè®ºä¸Objectç±»æ¯ææç±»çç¶ç±»ï¼å³ç´æ¥æé´æ¥çç»§æ¿java.lang.Objectç±»ã\n\nç±äºææçç±»é½ç»§æ¿å¨Objectç±»ï¼å æ­¤çç¥äºextends Objectå³é®å­ã\n\nè¯¥ç±»ä¸­ä¸»è¦æä»¥ä¸æ¹æ³ï¼\n\n * toString( )\n * getClass( )\n * equals( )\n * clone( )\n * finalize( )\n\nå¶ä¸­toString()ï¼getClass()ï¼equalsæ¯å¶ä¸­æéè¦çæ¹æ³ã\n\næ¥çObjectç±»æºç \n\n\n\nçå¾å¯ç¥ï¼å¨jdk15ä¸­æåä¸ä¸ªæ¹æ³è¿æ¶äºï¼ä½æä»¬è¿è¥ä¸è¬é½æ¯jdk1.8\n\næ³¨æï¼ Objectç±»ä¸­çgetClass(),notify(),notifyAll(),wait()ç­æ¹æ³è¢«å®ä¹ä¸ºfinalç±»åï¼å æ­¤ä¸è½éåã\n\n\n# 1 clone() æ¹æ³\n\nè¯¦è§£æç« ï¼https://blog.csdn.net/zhangjg_blog/article/details/18369201#0-qzone-1-28144-d020d2d2a4e8d1a374a433f596ad1440\n\n protected native Object clone() throws CloneNotSupportedException;\n\n\n1\n\n\ncloneé¡¾åæä¹å°±æ¯å¤å¶ï¼ å¨Javaè¯­è¨ä¸­ï¼ cloneæ¹æ³è¢«å¯¹è±¡è°ç¨ï¼æä»¥ä¼å¤å¶å¯¹è±¡ãæè°çå¤å¶å¯¹è±¡ï¼é¦åè¦åéä¸ä¸ªåæºå¯¹è±¡åæ ·å¤§å°çç©ºé´ï¼å¨è¿ä¸ªç©ºé´ä¸­åå»ºä¸ä¸ªæ°çå¯¹è±¡ãé£ä¹å¨javaè¯­è¨ä¸­ï¼æå ç§æ¹å¼å¯ä»¥åå»ºå¯¹è±¡å¢ï¼\n\n * ä½¿ç¨newæä½ç¬¦åå»ºä¸ä¸ªå¯¹è±¡\n * ä½¿ç¨cloneæ¹æ³å¤å¶ä¸ä¸ªå¯¹è±¡\n\né£ä¹è¿ä¸¤ç§æ¹å¼æä»ä¹ç¸ååä¸åå¢ï¼ newæä½ç¬¦çæ¬ææ¯åéåå­ãç¨åºæ§è¡å°newæä½ç¬¦æ¶ï¼ é¦åå»çnewæä½ç¬¦åé¢çç±»åï¼å ä¸ºç¥éäºç±»åï¼æè½ç¥éè¦åéå¤å¤§çåå­ç©ºé´ãåéå®åå­ä¹åï¼ åè°ç¨æé å½æ°ï¼å¡«åå¯¹è±¡çåä¸ªåï¼è¿ä¸æ­¥å«åå¯¹è±¡çåå§åï¼æé æ¹æ³è¿ååï¼ä¸ä¸ªå¯¹è±¡åå»ºå®æ¯ï¼å¯ä»¥æä»çå¼ç¨ï¼å°åï¼åå¸å°å¤é¨ï¼å¨å¤é¨å°±å¯ä»¥ä½¿ç¨è¿ä¸ªå¼ç¨æçºµè¿ä¸ªå¯¹è±¡ãècloneå¨ç¬¬ä¸æ­¥æ¯ånewç¸ä¼¼çï¼ é½æ¯åéåå­ï¼è°ç¨cloneæ¹æ³æ¶ï¼åéçåå­åæºå¯¹è±¡ï¼å³è°ç¨cloneæ¹æ³çå¯¹è±¡ï¼ç¸åï¼ç¶ååä½¿ç¨åå¯¹è±¡ä¸­å¯¹åºçåä¸ªåï¼å¡«åæ°å¯¹è±¡çåï¼å¡«åå®æä¹åï¼cloneæ¹æ³è¿åï¼ä¸ä¸ªæ°çç¸åçå¯¹è±¡è¢«åå»ºï¼åæ ·å¯ä»¥æè¿ä¸ªæ°å¯¹è±¡çå¼ç¨åå¸å°å¤é¨ã\n\ncloneä¸copyçåºå«\n\nåè®¾ç°å¨æä¸ä¸ªEmployeeå¯¹è±¡ï¼Employee tobby = new Employee(âCMTobbyâ,5000)\n\néå¸¸æä»¬ä¼æè¿æ ·çèµå¼Employee cindyelf = tobbyï¼è¿ä¸ªæ¶ååªæ¯ç®åäºcopyäºä¸ä¸referenceãcindyelfåtobbyé½æååå­ä¸­åä¸ä¸ªobjectï¼è¿æ ·cindyelfæètobbyçä¸ä¸ªæä½é½å¯è½å½±åå°å¯¹æ¹ãæä¸ªæ¯æ¹ï¼å¦ææä»¬éè¿cindyelf.raiseSalary()æ¹æ³æ¹åäºsalaryåçå¼ï¼é£ä¹tobbyéè¿getSalary()æ¹æ³ï¼å¾å°çå°±æ¯ä¿®æ¹ä¹åçsalaryåçå¼ï¼æ¾ç¶è¿ä¸æ¯æä»¬æ¿æçå°çãæä»¬å¸æå¾å°tobbyçä¸ä¸ªç²¾ç¡®æ·è´ï¼åæ¶ä¸¤èäºä¸å½±åï¼è¿æ¶åï¼ æä»¬å°±å¯ä»¥ä½¿ç¨Cloneæ¥æ»¡è¶³æä»¬çéæ±ãEmployee cindy=tobby.clone()ï¼è¿æ¶ä¼çæä¸ä¸ªæ°çEmployeeå¯¹è±¡ï¼å¹¶ä¸åtobbyå·æç¸åçå±æ§å¼åæ¹æ³ã\n\nShallow Cloneä¸Deep Clone\n\næµåéåæ·±åé\n\n * æµåéï¼\n   \n   æ¯ææ·è´å¯¹è±¡æ¶ä»ä»æ·è´å¯¹è±¡æ¬èº«ï¼åæ¬å¯¹è±¡ä¸­çåºæ¬åéï¼ï¼èä¸æ·è´å¯¹è±¡åå«çå¼ç¨æåçå¯¹è±¡ã\n\n * æ·±åéï¼\n   \n   ä¸ä»æ·è´å¯¹è±¡æ¬èº«ï¼èä¸æ·è´å¯¹è±¡åå«çå¼ç¨æåçææå¯¹è±¡ã\n\nä¸¾ä¾æ¥è¯´æ´å æ¸æ¥ã\n\n\n\nä¸»è¦æ¯JAVAéé¤äº8ç§åºæ¬ç±»åä¼ åæ°æ¯å¼ä¼ éï¼å¶ä»çç±»å¯¹è±¡ä¼ åæ°é½æ¯å¼ç¨ï¼æä»¬ææ¶åä¸å¸æå¨æ¹æ³éå°åæ°æ¹åï¼è¿æ¯å°±éè¦å¨ç±»ä¸­å¤åcloneæ¹æ³ï¼å®ç°æ·±å¤å¶ï¼ã\n\nCloneæ¯å¦ä½å®æçå¢ï¼Objectå¨å¯¹æä¸ªå¯¹è±¡å®æ½Cloneæ¶å¯¹å¶æ¯ä¸æ æç¥çï¼å®ä»ä»æ¯ç®åå°æ§è¡åå¯¹åçcopyï¼è¿å°±æ¯Shallow Cloneãè¿æ ·ï¼é®é¢å°±æ¥äºå¯ã\n\nä»¥Employeeä¸ºä¾ï¼å®éé¢æä¸ä¸ªåhireDayä¸æ¯åºæ¬æ°æ®ç±»åçåéï¼èæ¯ä¸ä¸ªreferenceåéï¼ç»è¿Cloneä¹åå°±ä¼äº§çä¸ä¸ªæ°çDateåçreferenceï¼\n\nå®ååå§å¯¹è±¡ä¸­å¯¹åºçåæååä¸ä¸ªDateå¯¹è±¡ï¼è¿æ ·åéç±»å°±ååå§ç±»å±äº«äºä¸é¨åä¿¡æ¯ï¼èè¿æ ·æ¾ç¶æ¯ä¸å©çï¼è¿ç¨ä¸å¾æç¤ºï¼\n\n\n\nè¿ä¸ªæ¶åæä»¬å°±éè¦è¿è¡deep Cloneäºï¼å¯¹é£äºéåºæ¬ç±»åçåè¿è¡ç¹æ®çå¤çï¼ä¾å¦æ¬ä¾ä¸­ç hireDayãæä»¬å¯ä»¥éæ°å®ä¹Cloneæ¹æ³ï¼å¯¹hireDayåç¹æ®å¤çï¼å¦ä¸ä»£ç æç¤ºï¼\n\nclass Employee implements Cloneable {\n    public Object clone() throws CloneNotSupportedException {\n        Employee cloned = (Employee) super.clone();\n        cloned.hireDay = (Date) hireDay.clone()\n        return cloned;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\ncloneæ¹æ³çä¿æ¤æºå¶\n\nå¨Objectä¸­Clone()æ¯è¢«å£°æä¸ºprotectedçï¼è¿æ ·åæ¯æä¸å®çéççï¼ä»¥Employeeç±»ä¸ºä¾ï¼éè¿å£°æä¸ºprotectedï¼å°±å¯ä»¥ä¿è¯åªæEmployeeç±»éé¢æè½âåéâEmployeeå¯¹è±¡ã\n\ncloneæ¹æ³çä½¿ç¨\n\nä»ä¹æ¶åä½¿ç¨shallow Cloneï¼ä»ä¹æ¶åä½¿ç¨deep Cloneï¼è¿ä¸ªä¸»è¦çå·ä½å¯¹è±¡çåæ¯ä»ä¹æ§è´¨çï¼åºæ¬åå«è¿æ¯reference variable\n\nè°ç¨Clone()æ¹æ³çå¯¹è±¡æå±çç±»(Class)å¿é¡»implements Clonableæ¥å£ï¼å¦åå¨è°ç¨Cloneæ¹æ³çæ¶å ä¼æåºCloneNotSupportedException\n\næ¨èï¼ æµåé(ShallowClone)åæ·±åé(DeepClone)åºå«ä»¥åå®ç°\n\n\n# 2 toString()æ¹æ³\n\npublic String toString() {\n\treturn getClass().getName() + "@" + Integer.toHexString(hashCode());\n}\n\n\n1\n2\n3\n\n\nObject ç±»ç toString æ¹æ³è¿åä¸ä¸ªå­ç¬¦ä¸²ï¼è¯¥å­ç¬¦ä¸²ç±ç±»åï¼å¯¹è±¡æ¯è¯¥ç±»çä¸ä¸ªå®ä¾ï¼ãat æ è®°ç¬¦â@â åæ­¤å¯¹è±¡åå¸ç çæ ç¬¦å·åå­è¿å¶è¡¨ç¤ºç»æã\n\nè¯¥æ¹æ³ç¨å¾æ¯è¾å¤ï¼ä¸è¬å­ç±»é½æè¦çã\n\npublic static void main(String[] args){\n    Object o1 = new Object();\n    System.out.println(o1.toString());\n}\n\n\n1\n2\n3\n4\n\n\n\n# 3 getClass()æ¹æ³\n\npublic final native Class<?> getClass();\n\n\n1\n\n\nè¿åæ¬¡Objectçè¿è¡æ¶ç±»ç±»åã\n\nä¸å¯éåï¼è¦è°ç¨çè¯ï¼ä¸è¬ågetName()èåä½¿ç¨ï¼å¦getClass().getName();\n\npublic static void main(String[] args) {\n    Object o = new Object();\n    System.out.println(o.getClass());\n    //class java.lang.Object\n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# 4 finalize()æ¹æ³\n\nprotected void finalize() throws Throwable { }\n\n\n1\n\n\nè¯¥æ¹æ³ç¨äºéæ¾èµæºãå ä¸ºæ æ³ç¡®å®è¯¥æ¹æ³ä»ä¹æ¶åè¢«è°ç¨ï¼å¾å°ä½¿ç¨ã\n\nJavaåè®¸å¨ç±»ä¸­å®ä¹ä¸ä¸ªåä¸ºfinalize()çæ¹æ³ãå®çå·¥ä½åçæ¯ï¼ä¸æ¦åå¾åæ¶å¨åå¤å¥½éæ¾å¯¹è±¡å ç¨çå­å¨ç©ºé´ï¼å°é¦åè°ç¨å¶finalize()æ¹æ³ãå¹¶ä¸å¨ä¸ä¸æ¬¡åå¾åæ¶å¨ä½åçæ¶ï¼æä¼çæ­£åæ¶å¯¹è±¡å ç¨çåå­ã\n\nå³äºåå¾åæ¶ï¼æä¸ç¹éè¦è®°ä½ï¼\n\n1ãå¯¹è±¡å¯è½ä¸è¢«åå¾åæ¶ãåªè¦ç¨åºæ²¡ææ¿ä¸´å­å¨ç©ºé´ç¨å®çé£ä¸å»ï¼å¯¹è±¡å ç¨çç©ºé´å°±æ»ä¹å¾ä¸å°éæ¾ã\n\n2ãåå¾åæ¶å¹¶ä¸ç­äºâææâã\n\nç§æ®ï¼ææå½æ°(destructor) ä¸æé å½æ°ç¸åï¼å½å¯¹è±¡ç»æå¶çå½å¨æï¼å¦å¯¹è±¡æå¨çå½æ°å·²è°ç¨å®æ¯æ¶ï¼ç³»ç»èªå¨æ§è¡ææå½æ°ãææå½æ°å¾å¾ç¨æ¥åâæ¸çååâ çå·¥ä½ï¼ä¾å¦å¨å»ºç«å¯¹è±¡æ¶ç¨newå¼è¾äºä¸çåå­ç©ºé´ï¼deleteä¼èªå¨è°ç¨ææå½æ°åéæ¾åå­ï¼ã\n\n3ãåå¾åæ¶åªä¸åå­æå³ãä½¿ç¨åå¾åæ¶çå¯ä¸åå æ¯ä¸ºäºåæ¶ç¨åºä¸åä½¿ç¨çåå­ã\n\nfinalize()çç¨éï¼\n\næ è®ºå¯¹è±¡æ¯å¦ä½åå»ºçï¼åå¾åæ¶å¨é½ä¼è´è´£éæ¾å¯¹è±¡å æ®çææåå­ã\n\nè¿å°±å°å¯¹finalize()çéæ±éå¶å°ä¸ç§ç¹æ®æåµï¼å³éè¿æç§åå»ºå¯¹è±¡æ¹å¼ä»¥å¤çæ¹å¼ä¸ºå¯¹è±¡åéäºå­å¨ç©ºé´ãä¸è¿è¿ç§æåµä¸è¬åçå¨ä½¿ç¨âæ¬å°æ¹æ³âçæåµä¸ï¼æ¬å°æ¹æ³æ¯ä¸ç§å¨Javaä¸­è°ç¨éJavaä»£ç çæ¹å¼ã\n\n\n# 5 equals()æ¹æ³\n\npublic boolean equals(Object obj) {\n\treturn (this == obj);\n}\n\n\n1\n2\n3\n\n\nObjectä¸­çequalsæ¹æ³æ¯ç´æ¥å¤æ­thisåobjæ¬èº«çå¼æ¯å¦ç¸ç­ï¼å³ç¨æ¥å¤æ­è°ç¨equalsçå¯¹è±¡åå½¢å objæå¼ç¨çå¯¹è±¡æ¯å¦æ¯åä¸å¯¹è±¡\n\næè°åä¸å¯¹è±¡å°±æ¯æåå­ä¸­åä¸åå­å¨ååï¼å¦æthisåobjæåçæ¯åä¸ååå­å¯¹è±¡ï¼åè¿åtrueï¼å¦æthisåobjæåçä¸æ¯åä¸ååå­ï¼åè¿åfalseã\n\næ³¨æï¼å³ä¾¿æ¯åå®¹å®å¨ç¸ç­çä¸¤åä¸åçåå­å¯¹è±¡ï¼ä¹è¿åfalseã\n\nå¦ææ¯åä¸ååå­ï¼åobjectä¸­çequalsæ¹æ³è¿åtrueï¼å¦ææ¯ä¸åçåå­ï¼åè¿åfalse\n\nå¦æå¸æä¸ååå­ä½ç¸ååå®¹çä¸¤ä¸ªå¯¹è±¡equalsæ¶è¿åtrueï¼åæä»¬éè¦éåç¶ç±»çequalæ¹æ³\n\nStringç±»å·²ç»éåäºobjectä¸­çequalsæ¹æ³ï¼è¿æ ·å°±æ¯æ¯è¾åå®¹æ¯å¦ç¸ç­äºï¼\n\næ¥çStringç±»æºç equalsæ¹æ³\n\npublic boolean equals(Object anObject) {\n    if (this == anObject) {\n        return true;\n    }\n    if (anObject instanceof String) {\n        String anotherString = (String)anObject;\n        int n = value.length;\n        if (n == anotherString.value.length) {\n            char v1[] = value;\n            char v2[] = anotherString.value;\n            int i = 0;\n            while (n-- != 0) {\n                if (v1[i] != v2[i])\n                    return false;\n                i++;\n            }\n            return true;\n        }\n    }\n    return false;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# 6 hashCode()æ¹æ³\n\npublic native int hashCode();\n\n\n1\n\n\nè¿åè¯¥å¯¹è±¡çåå¸ç å¼ã\n\nè¯¥æ¹æ³ç¨äºåå¸æ¥æ¾ï¼å¯ä»¥åå°å¨æ¥æ¾ä¸­ä½¿ç¨equalsçæ¬¡æ°ï¼éåäºequalsæ¹æ³ä¸è¬é½è¦éå hashCodeæ¹æ³ãè¿ä¸ªæ¹æ³å¨ä¸äºå·æåå¸åè½çCollectionä¸­ç¨å°ã\n\nä¸è¬å¿é¡»æ»¡è¶³obj1.equals(obj2)==trueãå¯ä»¥æ¨åºobj1.hashCode() == obj2.hashCode()ï¼ä½æ¯ hashCodeç¸ç­ä¸ä¸å®å°±æ»¡è¶³equalsãä¸è¿ä¸ºäºæé«æçï¼åºè¯¥å°½éä½¿ä¸é¢ä¸¤ä¸ªæ¡ä»¶æ¥è¿ç­ä»·ã\n\n\n# 7 wait()æ¹æ³\n\npublic final void wait(long timeoutMillis, int nanos) throws InterruptedException {\n    if (timeoutMillis < 0) {\n        throw new IllegalArgumentException("timeoutMillis value is negative");\n    }\n\n    if (nanos < 0 || nanos > 999999) {\n        throw new IllegalArgumentException(\n                            "nanosecond timeout value out of range");\n    }\n\n    if (nanos > 0 && timeoutMillis < Long.MAX_VALUE) {\n        timeoutMillis++;\n    }\n\n    wait(timeoutMillis);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nå¯ä»¥çå°æä¸ç§éè½½ï¼waitä»ä¹ææå¢ï¼\n\n\n\næ¹æ³ä¸­çå¼å¸¸ï¼\n\n\n\nwaitæ¹æ³å°±æ¯ä½¿å½åçº¿ç¨ç­å¾è¯¥å¯¹è±¡çéï¼å½åçº¿ç¨å¿é¡»æ¯è¯¥å¯¹è±¡çæ¥æèï¼ä¹å°±æ¯å·æè¯¥å¯¹è±¡çéã\n\nwait()æ¹æ³ä¸ç´ç­å¾ï¼ç´å°è·å¾éæèè¢«ä¸­æ­ãwait(long timeout)è®¾å®ä¸ä¸ªè¶æ¶é´é\n\nå¦æå¨è§å®æ¶é´åæ²¡æè·å¾éå°±è¿åã\n\nè°ç¨è¯¥æ¹æ³åå½åçº¿ç¨è¿å¥ç¡ç ç¶æï¼ç´å°ä»¥ä¸äºä»¶åçã\n\nï¼1ï¼å¶ä»çº¿ç¨è°ç¨äºè¯¥å¯¹è±¡çnotifyæ¹æ³ã ï¼2ï¼å¶ä»çº¿ç¨è°ç¨äºè¯¥å¯¹è±¡çnotifyAllæ¹æ³ã ï¼3ï¼å¶ä»çº¿ç¨è°ç¨äºinterruptä¸­æ­è¯¥çº¿ç¨ã ï¼4ï¼æ¶é´é´éå°äºã\n\næ­¤æ¶è¯¥çº¿ç¨å°±å¯ä»¥è¢«è°åº¦äºï¼å¦ææ¯è¢«ä¸­æ­çè¯å°±æåºä¸ä¸ªInterruptedExceptionå¼å¸¸ã\n\n\n# 8 notify()æ¹æ³\n\npublic final native void notify();\n\n\n1\n\n\nè¯¥æ¹æ³å¤éå¨è¯¥å¯¹è±¡ä¸ç­å¾çæä¸ªçº¿ç¨ã\n\npublic final native void notifyAll();\n\n\n1\n\n\nè¯¥æ¹æ³å¤éå¨è¯¥å¯¹è±¡ä¸ç­å¾çææçº¿ç¨ã\n\n\n# åè£ç±»\n\n\n# 1ãåè£ç±»ä»ç»\n\nè½ç¶ Java è¯­è¨æ¯å¸åçé¢åå¯¹è±¡ç¼ç¨è¯­è¨ï¼ä½å¶ä¸­çå«ç§åºæ¬æ°æ®ç±»åå¹¶ä¸æ¯æé¢åå¯¹è±¡ç¼ç¨ï¼åºæ¬ç±»åçæ°æ®ä¸å·å¤âå¯¹è±¡âçç¹æ§ââä¸æºå¸¦å±æ§ãæ²¡ææ¹æ³å¯è°ç¨ã æ²¿ç¨å®ä»¬åªæ¯ä¸ºäºè¿åäººç±»æ ¹æ·±èåºçä¹ æ¯ï¼å¹¶çç¡®è½ç®åãææå°è¿è¡å¸¸è§æ°æ®å¤çã\n\nè¿ç§åå©äºéé¢åå¯¹è±¡ææ¯çåæ³ææ¶ä¹ä¼å¸¦æ¥ä¸ä¾¿ï¼æ¯å¦å¼ç¨ç±»åæ°æ®åç»§æ¿äº Object ç±»çç¹æ§ï¼è¦è½¬æ¢ä¸º String ç±»åï¼ç»å¸¸æè¿ç§éè¦ï¼æ¶åªè¦ç®åè°ç¨ Object ç±»ä¸­å®ä¹çtoString()å³å¯ï¼èåºæ¬æ°æ®ç±»åè½¬æ¢ä¸º String ç±»ååè¦éº»ç¦å¾å¤ãä¸ºè§£å³æ­¤ç±»é®é¢ ï¼Javaä¸ºæ¯ç§åºæ¬æ°æ®ç±»ååå«è®¾è®¡äºå¯¹åºçç±»ï¼ç§°ä¹ä¸ºåè£ç±»(Wrapper Classes)ï¼ä¹æææç§°ä¸ºå¤è¦ç±»ææ°æ®ç±»åç±»ã\n\nåºæ¬æ°æ®ç±»å    å¯¹åºçåè£ç±»\nbyte      Byte\nshort     Short\nint       Integer\nlong      Long\nchar      Character\nfloat     Float\ndouble    Double\nboolean   Boolean\n\næ¯ä¸ªåè£ç±»çå¯¹è±¡å¯ä»¥å°è£ä¸ä¸ªç¸åºçåºæ¬ç±»åçæ°æ®ï¼å¹¶æä¾äºå¶å®ä¸äºæç¨çæ¹æ³ãåè£ç±»å¯¹è±¡ä¸ ç»åå»ºï¼å¶åå®¹ï¼æå°è£çåºæ¬ç±»åæ°æ®å¼ï¼ä¸å¯æ¹åã\n\nåºæ¬ç±»ååå¯¹åºçåè£ç±»å¯ä»¥ç¸äºè£æ¢ï¼\n\n * ç±åºæ¬ç±»ååå¯¹åºçåè£ç±»è½¬æ¢ç§°ä¸ºè£ç®±ï¼ä¾å¦æ int åè£æ Integer ç±»çå¯¹è±¡ï¼\n * åè£ç±»åå¯¹åºçåºæ¬ç±»åè½¬æ¢ç§°ä¸ºæç®±ï¼ä¾å¦æ Integer ç±»çå¯¹è±¡éæ°ç®åä¸º intã\n\n\n# 2ãåè£ç±»çåºç¨\n\n1ã å®ç° int å Integer çç¸äºè½¬æ¢\n\nå¯ä»¥éè¿ Integer ç±»çæé æ¹æ³å° int è£ç®±ï¼éè¿ Integer ç±»ç intValue æ¹æ³å° Integer æç®±ã\n\npublic static void main(String[] args) {\n    int m = 500;\n    Integer obj = new Integer(m); // æå¨è£ç®±\n    int n = obj.intValue(); // æå¨æç®±\n    System.out.println("n = " + n);\n    \n    Integer obj1 = new Integer(500);\n    System.out.println("obj ç­ä»·äº obj1ï¼" + obj.equals(obj1));\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n2ã å°å­ç¬¦ä¸²è½¬æ¢ä¸ºæ´æ°\n\nInteger ç±»æä¸ä¸ªéæç paseInt() æ¹æ³ï¼å¯ä»¥å°å­ç¬¦ä¸²è½¬æ¢ä¸ºæ´æ°ï¼è¯­æ³ä¸ºï¼\n\nparseInt(String s, int radix);\n//s ä¸ºè¦è½¬æ¢çå­ç¬¦ä¸²ï¼radix ä¸ºè¿å¶ï¼å¯éï¼é»è®¤ä¸ºåè¿å¶ã\n\n\n1\n2\n\n\nä¸é¢çä»£ç å°ä¼åè¯ä½ ä»ä¹æ ·çå­ç¬¦ä¸²å¯ä»¥è½¬æ¢ä¸ºæ´æ°ï¼\n\npublic static void main(String[] args) {\n    String[] strs = {"123", "123abc", "abc123", "abcxyz"};\n    for (String str : strs) {\n        try {\n            int m = Integer.parseInt(str, 10);\n            System.out.println(str + " å¯ä»¥è½¬æ¢ä¸ºæ´æ° " + m);\n        } catch (Exception e) {\n            System.out.println(str + " æ æ³è½¬æ¢ä¸ºæ´æ°");\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nç»æï¼\n\n> 123 å¯ä»¥è½¬æ¢ä¸ºæ´æ° 123 123abc æ æ³è½¬æ¢ä¸ºæ´æ° abc123 æ æ³è½¬æ¢ä¸ºæ´æ° abcxyz æ æ³è½¬æ¢ä¸ºæ´æ°\n\n\n# 3ãå°æ´æ°è½¬æ¢ä¸ºå­ç¬¦ä¸²\n\nInteger ç±»æä¸ä¸ªéæç toString() æ¹æ³ï¼å¯ä»¥å°æ´æ°è½¬æ¢ä¸ºå­ç¬¦ä¸²ãæèç´æ¥å¨æ´æ°åé¢å ç©ºå­ç¬¦ä¸²ï¼\n\npublic static void main(String[] args) {\n    int m = 500;\n    String s = Integer.toString(m);\n    \n    String s2 = m +"";\n    System.out.println("s = " + s);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 3ãèªå¨æç®±åè£ç®±\n\nä¸é¢çä¾å­é½éè¦æå¨å®ä¾åä¸ä¸ªåè£ç±»ï¼ç§°ä¸ºæå¨æç®±è£ç®±ãJava 1.5(5.0) ä¹åå¿é¡»æå¨æç®±è£ç®±ã\n\nJava 1.5 ä¹åå¯ä»¥èªå¨æç®±è£ç®±ï¼ä¹å°±æ¯å¨è¿è¡åºæ¬æ°æ®ç±»ååå¯¹åºçåè£ç±»è½¬æ¢æ¶ï¼ç³»ç»å°èªå¨è¿è¡ï¼è¿å°å¤§å¤§æ¹ä¾¿ç¨åºåçä»£ç ä¹¦åã\n\npublic static void main(String[] args) {\n    int m = 500;\n    Integer obj = m; // èªå¨è£ç®±\n    int n = obj; // èªå¨æç®±\n    System.out.println("n = " + n);\n    Integer obj1 = 500;\n    System.out.println("obj ç­ä»·äº obj1ï¼" + obj.equals(obj1));\n}\n//ç»æï¼\n// n = 500\n// obj ç­ä»·äº obj1ï¼true\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nèªå¨è£ç®±ä¸æç®±çåè½äºå®ä¸æ¯ç¼è¯å¨æ¥å¸®æ¨çå¿ï¼ç¼è¯å¨å¨ç¼è¯æ¶æä¾æ¨æç¼åçè¯­æ³ï¼å³å®æ¯å¦è¿è¡è£ç®±ææç®±å¨ä½ãä¾å¦ï¼\n\nInteger i = 100;\n//ç¸å½äºç¼è¯å¨èªå¨ä¸ºæ¨ä½ä»¥ä¸çè¯­æ³ç¼è¯ï¼\nInteger i = new Integer(100);\n\n\n1\n2\n3\n\n\næä»¥èªå¨è£ç®±ä¸æç®±çåè½æ¯æè°çâç¼è¯å¨èç³â(Compiler Sugar)ï¼è½ç¶ä½¿ç¨è¿ä¸ªåè½å¾æ¹ä¾¿ï¼ä½å¨ç¨åºè¿è¡é¶æ®µä½ è¦äºè§£Javaçè¯­ä¹ãä¾å¦ä¸é¢çç¨åºæ¯å¯ä»¥éè¿ç¼è¯çï¼\n\nInteger i = null;\nint j = i;\n\n\n1\n2\n\n\nè¿æ ·çè¯­æ³å¨ç¼è¯æ¶ææ¯åæ³çï¼ä½æ¯å¨è¿è¡æ¶æä¼æéè¯¯ï¼å ä¸ºè¿ç§åæ³ç¸å½äºï¼\n\nInteger i = null;\nint j = i.intValue();\n\n\n1\n2\n\n\nnullè¡¨ç¤ºi æ²¡æåèè³ä»»ä½çå¯¹è±¡å®ä½ï¼å®å¯ä»¥åæ³å°æå®ç»å¯¹è±¡åèåç§°ãç±äºå®éä¸ i å¹¶æ²¡æåèè³ä»»ä½çå¯¹è±¡ï¼æä»¥ä¹å°±ä¸å¯è½æä½intValue()æ¹æ³ï¼è¿æ ·ä¸é¢çåæ³å¨è¿è¡æ¶ä¼åºç°NullPointerException éè¯¯ã\n\nèªå¨æç®±è£ç®±æ¯å¸¸ç¨çä¸ä¸ªåè½ï¼éè¦éç¹ææ¡ã\n\nä¸è¬å°ï¼å½éè¦ä½¿ç¨æ°å­çæ¶åï¼æä»¬éå¸¸ä½¿ç¨åç½®æ°æ®ç±»åï¼å¦ï¼byteãintãlongãdouble ç­ãç¶èï¼å¨å®éå¼åè¿ç¨ä¸­ï¼æä»¬ç»å¸¸ä¼éå°éè¦ä½¿ç¨å¯¹è±¡ï¼èä¸æ¯åç½®æ°æ®ç±»åçæå½¢ãä¸ºäºè§£å³è¿ä¸ªé®é¢ï¼Java è¯­è¨ä¸ºæ¯ä¸ä¸ªåç½®æ°æ®ç±»åæä¾äºå¯¹åºçåè£ç±»ã\n\nææçåè£ç±»ï¼IntegerãLongãByteãDoubleãFloatãShortï¼é½æ¯æ½è±¡ç±» Number çå­ç±»ã\n\n\n# Mathç±»\n\nJava ç Math åå«äºç¨äºæ§è¡åºæ¬æ°å­¦è¿ç®çå±æ§åæ¹æ³ï¼å¦åç­ææ°ãå¯¹æ°ãå¹³æ¹æ ¹åä¸è§å½æ°ã\n\nMath çæ¹æ³é½è¢«å®ä¹ä¸º static å½¢å¼ï¼éè¿ Math ç±»å¯ä»¥å¨ä¸»å½æ°ä¸­ç´æ¥è°ç¨\n\nãæ¼ç¤ºï¼æ¥çMathç±»çæºç ã\n\npublic final class Math{\n\t//æ°å­¦æ¹æ³\n}\n\n\n1\n2\n3\n\n\nãå¸¸ç¨å¼ä¸å½æ°ã\n\nMath.PI è®°å½çåå¨ç Math.E è®°å½eçå¸¸é\n\nMathä¸­è¿æä¸äºç±»ä¼¼çå¸¸éï¼é½æ¯ä¸äºå·¥ç¨æ°å­¦å¸¸ç¨éã\n\nMath.abs æ±ç»å¯¹å¼ Math.sin æ­£å¼¦å½æ° Math.asin åæ­£å¼¦å½æ° Math.cos ä½å¼¦å½æ° Math.acos åä½å¼¦å½æ° Math.tan æ­£åå½æ° Math.atan åæ­£åå½æ° Math.atan2 åçåæ­£åå½æ° Math.toDegrees å¼§åº¦è½¬åä¸ºè§åº¦ Math.toRadians è§åº¦è½¬åä¸ºå¼§åº¦ Math.ceil å¾å°ä¸å°äºææ°çæå¤§æ´æ° Math.floor å¾å°ä¸å¤§äºææ°çæå¤§æ´æ° Math.IEEEremainder æ±ä½ Math.max æ±ä¸¤æ°ä¸­æå¤§ Math.min æ±ä¸¤æ°ä¸­æå° Math.sqrt æ±å¼æ¹ Math.pow æ±ææ°çä»»ææ¬¡æ¹, æåºArithmeticExceptionå¤çæº¢åºå¼å¸¸\n\nMath.exp æ±eçä»»ææ¬¡æ¹ Math.log10 ä»¥10ä¸ºåºçå¯¹æ° Math.log èªç¶å¯¹æ° Math.rint æ±è·ç¦»ææ°æè¿çæ´æ°ï¼å¯è½æ¯ææ°å¤§ï¼ä¹å¯è½æ¯å®å°ï¼ Math.round åä¸ï¼è¿åintåæèlongåï¼ä¸ä¸ä¸ªå½æ°è¿ådoubleåï¼ Math.random è¿å0ï¼1ä¹é´çä¸ä¸ªéæºæ°\n\npublic static void main(String[] args) {\n    /**\n     *Math.sqrt()//è®¡ç®å¹³æ¹æ ¹\n     *Math.cbrt()//è®¡ç®ç«æ¹æ ¹\n     *Math.pow(a, b)//è®¡ç®açbæ¬¡æ¹\n     *Math.max( , );//è®¡ç®æå¤§å¼\n     *Math.min( , );//è®¡ç®æå°å¼\n     */\n    System.out.println(Math.sqrt(16)); //4.0\n    System.out.println(Math.cbrt(8)); //2.0\n    System.out.println(Math.pow(3, 2)); //9.0\n    System.out.println(Math.max(2.3, 4.5));//4.5\n    System.out.println(Math.min(2.3, 4.5));//2.3\n    /**\n     * absæ±ç»å¯¹å¼\n     */\n    System.out.println(Math.abs(-10.4)); //10.4\n    System.out.println(Math.abs(10.1)); //10.1\n    /**\n     * ceilå¤©è±æ¿çææï¼å°±æ¯è¿åå¤§çå¼\n     */\n    System.out.println(Math.ceil(-10.1)); //-10.0\n    System.out.println(Math.ceil(10.7)); //11.0\n    System.out.println(Math.ceil(-0.7)); //-0.0\n    System.out.println(Math.ceil(0.0)); //0.0\n    System.out.println(Math.ceil(-0.0)); //-0.0\n    System.out.println(Math.ceil(-1.7)); //-1.0\n    /**\n     * floorå°æ¿çææï¼å°±æ¯è¿åå°çå¼\n     */\n    System.out.println(Math.floor(-10.1)); //-11.0\n    System.out.println(Math.floor(10.7)); //10.0\n    System.out.println(Math.floor(-0.7)); //-1.0\n    System.out.println(Math.floor(0.0)); //0.0\n    System.out.println(Math.floor(-0.0)); //-0.0\n    /**\n     * random åå¾ä¸ä¸ªå¤§äºæèç­äº0.0å°äºä¸ç­äº1.0çéæºæ° [0,1)\n     */\n    System.out.println(Math.random()); //å°äº1å¤§äº0çdoubleç±»åçæ°\n    System.out.println(Math.random() + 1);//å¤§äº1å°äº2çdoubleç±»åçæ°\n    /**\n     * rint åèäºå¥ï¼è¿ådoubleå¼\n     * æ³¨æ.5çæ¶åä¼åå¶æ° å¼å¸¸çå°´å°¬=ã=\n     */\n    System.out.println(Math.rint(10.1)); //10.0\n    System.out.println(Math.rint(10.7)); //11.0\n    System.out.println(Math.rint(11.5)); //12.0\n    System.out.println(Math.rint(10.5)); //10.0\n    System.out.println(Math.rint(10.51)); //11.0\n    System.out.println(Math.rint(-10.5)); //-10.0\n    System.out.println(Math.rint(-11.5)); //-12.0\n    System.out.println(Math.rint(-10.51)); //-11.0\n    System.out.println(Math.rint(-10.6)); //-11.0\n    System.out.println(Math.rint(-10.2)); //-10.0\n    /**\n     * round åèäºå¥ï¼floatæ¶è¿åintå¼ï¼doubleæ¶è¿ålongå¼\n     */\n    System.out.println(Math.round(10.1)); //10\n    System.out.println(Math.round(10.7)); //11\n    System.out.println(Math.round(10.5)); //11\n    System.out.println(Math.round(10.51)); //11\n    System.out.println(Math.round(-10.5)); //-10\n    System.out.println(Math.round(-10.51)); //-11\n    System.out.println(Math.round(-10.6)); //-11\n    System.out.println(Math.round(-10.2)); //-10\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n\n\n\n# Randomç±»\n\nJavaä¸­å­å¨çä¸¤ç§Randomå½æ°ï¼\n\n1ãjava.lang.Math.Random;\n\nè°ç¨è¿ä¸ªMath.Random()å½æ°è½å¤è¿åå¸¦æ­£å·çdoubleå¼ï¼è¯¥å¼å¤§äºç­äº0.0ä¸å°äº1.0ï¼å³åå¼èå´æ¯ [0.0,1.0)çå·¦é­å³å¼åºé´ï¼è¿åå¼æ¯ä¸ä¸ªä¼ªéæºéæ©çæ°ï¼å¨è¯¥èå´åï¼è¿ä¼¼ï¼åååå¸ãä¾å­å¦ä¸ï¼\n\npublic static void main(String[] args) {\n    // ç»ææ¯ä¸ªdoubleç±»åçå¼ï¼åºé´ä¸º[0.0,1.0ï¼\n    System.out.println("Math.random()=" + Math.random());\n    int num = (int) (Math.random() * 3);\n    // æ³¨æä¸è¦åæ(int)Math.random()*3ï¼è¿ä¸ªç»æä¸º0æ1ï¼å ä¸ºåæ§è¡äºå¼ºå¶è½¬æ¢\n    System.out.println("num=" + num);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n2ãjava.util.Random\n\nä¸é¢æ¯Random()çä¸¤ç§æé æ¹æ³ï¼\n\nRandom()ï¼åå»ºä¸ä¸ªæ°çéæºæ°çæå¨ Random(long seed)ï¼ä½¿ç¨åä¸ª long ç§å­åå»ºä¸ä¸ªæ°çéæºæ°çæå¨ã\n\nä½ å¨åå»ºä¸ä¸ªRandomå¯¹è±¡çæ¶åå¯ä»¥ç»å®ä»»æä¸ä¸ªåæ³çç§å­æ°ï¼ç§å­æ°åªæ¯éæºç®æ³çèµ·æºæ°å­ï¼åçæçéæºæ°çåºé´æ²¡æä»»ä½å³ç³»ã\n\nå¦ä¸é¢çJavaä»£ç ï¼\n\nãæ¼ç¤ºä¸ã\n\nå¨æ²¡å¸¦åæ°æé å½æ°çæçRandomå¯¹è±¡çç§å­æ¯å½åç³»ç»æ¶é´çæ¯«ç§æ°ã\n\nrand.nextInt(100)ä¸­ç100æ¯éæºæ°çä¸é,äº§ççéæºæ°ä¸º0-100çæ´æ°ï¼ä¸åæ¬100ã\n\npublic static void main(String[] args) {\n    Random rand = new Random();\n    int i = rand.nextInt(100);\n    System.out.println(i);\n}\n\n\n1\n2\n3\n4\n5\n\n\nãæ¼ç¤ºäºã\n\nå¯¹äºç§å­ç¸åçRandomå¯¹è±¡ï¼å¤æ¬¡æ§è¡åçæçéæºæ°åºåæ¯ä¸æ ·çã\n\npublic static void main(String[] args) {\n    Random ran1 = new Random(25);\n    System.out.println("ä½¿ç¨ç§å­ä¸º25çRandomå¯¹è±¡çæ[0,100)åéæºæ´æ°åºå: ");\n    for (int i = 0; i < 10; i++) {\n        System.out.print(ran1.nextInt(100) + " ");\n    }\n    System.out.println();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nãæ¹æ³æè¦ã\n\n 1.  protected int next(int bits)ï¼çæä¸ä¸ä¸ªä¼ªéæºæ°ã\n 2.  boolean nextBoolean()ï¼è¿åä¸ä¸ä¸ªä¼ªéæºæ°ï¼å®æ¯åèªæ­¤éæºæ°çæå¨åºåçåååå¸ç booleanå¼ã\n 3.  void nextBytes(byte[] bytes)ï¼çæéæºå­èå¹¶å°å¶ç½®äºç¨æ·æä¾ç byte æ°ç»ä¸­ã\n 4.  double nextDouble()ï¼è¿åä¸ä¸ä¸ªä¼ªéæºæ°ï¼å®æ¯åèªæ­¤éæºæ°çæå¨åºåçãå¨0.0å1.0ä¹é´ åååå¸ç doubleå¼ã\n 5.  float nextFloat()ï¼è¿åä¸ä¸ä¸ªä¼ªéæºæ°ï¼å®æ¯åèªæ­¤éæºæ°çæå¨åºåçãå¨0.0å1.0ä¹é´åååå¸floatå¼ã\n 6.  double nextGaussian()ï¼è¿åä¸ä¸ä¸ªä¼ªéæºæ°ï¼å®æ¯åèªæ­¤éæºæ°çæå¨åºåçãåé«æ¯ï¼âæ­£æâï¼åå¸çdoubleå¼ï¼å¶å¹³åå¼æ¯0.0æ åå·®æ¯1.0ã\n 7.  int nextInt()ï¼è¿åä¸ä¸ä¸ªä¼ªéæºæ°ï¼å®æ¯æ­¤éæºæ°çæå¨çåºåä¸­åååå¸ç int å¼ã\n 8.  int nextInt(int n)ï¼è¿åä¸ä¸ªä¼ªéæºæ°ï¼å®æ¯åèªæ­¤éæºæ°çæå¨åºåçãå¨ï¼åæ¬åæå®å¼ï¼ä¸åæ¬ï¼ä¹é´åååå¸çintå¼ã\n 9.  long nextLong()ï¼è¿åä¸ä¸ä¸ªä¼ªéæºæ°ï¼å®æ¯åèªæ­¤éæºæ°çæå¨åºåçåååå¸ç long å¼ã\n 10. void setSeed(long seed)ï¼ä½¿ç¨åä¸ª long ç§å­è®¾ç½®æ­¤éæºæ°çæå¨çç§å­ã\n\nãä¾å­ã\n\n 1. çæ[0,1.0)åºé´çå°æ°ï¼double d1 = r.nextDouble();\n 2. çæ[0,5.0)åºé´çå°æ°ï¼double d2 = r.nextDouble() * 5;\n 3. çæ[1,2.5)åºé´çå°æ°ï¼double d3 = r.nextDouble() * 1.5 + 1;\n 4. çæ[0,10)åºé´çæ´æ°ï¼int n2 = r.nextInt(10);\n\n\n# æ¥ææ¶é´ç±»\n\n\n# 1 Dateç±»\n\njava.util åæä¾äº Date ç±»æ¥å°è£å½åçæ¥æåæ¶é´ã\n\nDate ç±»æä¾ä¸¤ä¸ªæé å½æ°æ¥å®ä¾å Date å¯¹è±¡ã\n\nç¬¬ä¸ä¸ªæé å½æ°ä½¿ç¨å½åæ¥æåæ¶é´æ¥åå§åå¯¹è±¡ã\n\nDate()\n\n\n1\n\n\nç¬¬äºä¸ªæé å½æ°æ¥æ¶ä¸ä¸ªåæ°ï¼è¯¥åæ°æ¯ä»1970å¹´1æ1æ¥èµ·çæ¯«ç§æ°ã\n\nDate(long millisec)\n\n\n1\n\n\nDateå¯¹è±¡åå»ºä»¥åï¼å¯ä»¥è°ç¨ä¸é¢çæ¹æ³ã\n\nåºå·   æ¹æ³åæè¿°\n1    boolean after(Date date)\n     è¥å½è°ç¨æ­¤æ¹æ³çDateå¯¹è±¡å¨æå®æ¥æä¹åè¿åtrue,å¦åè¿åfalseã\n2    boolean before(Date date)\n     è¥å½è°ç¨æ­¤æ¹æ³çDateå¯¹è±¡å¨æå®æ¥æä¹åè¿åtrue,å¦åè¿åfalseã\n3    Object clone( ) è¿åæ­¤å¯¹è±¡çå¯æ¬ã\n4    int compareTo(Date date)\n     æ¯è¾å½è°ç¨æ­¤æ¹æ³çDateå¯¹è±¡åæå®æ¥æãä¸¤èç¸ç­æ¶åè¿å0ãè°ç¨å¯¹è±¡å¨æå®æ¥æä¹ååè¿åè´æ°ãè°ç¨å¯¹è±¡å¨æå®æ¥æä¹ååè¿åæ­£æ°ã\n5    int compareTo(Object obj) è¥objæ¯Dateç±»ååæä½ç­åäºcompareTo(Date)\n     ãå¦åå®æåºClassCastExceptionã\n6    boolean equals(Object date)\n     å½è°ç¨æ­¤æ¹æ³çDateå¯¹è±¡åæå®æ¥æç¸ç­æ¶åè¿åtrue,å¦åè¿åfalseã\n7    long getTime( ) è¿åèª 1970 å¹´ 1 æ 1 æ¥ 00:00:00 GMT ä»¥æ¥æ­¤ Date\n     å¯¹è±¡è¡¨ç¤ºçæ¯«ç§æ°ã\n8    int hashCode( ) è¿åæ­¤å¯¹è±¡çåå¸ç å¼ã\n9    void setTime(long time) ç¨èª1970å¹´1æ1æ¥00:00:00\n     GMTä»¥åtimeæ¯«ç§æ°è®¾ç½®æ¶é´åæ¥æã\n10   String toString( ) ææ­¤ Date å¯¹è±¡è½¬æ¢ä¸ºä»¥ä¸å½¢å¼ç Stringï¼ dow mon dd\n     hh:mm:ss zzz yyyy å¶ä¸­ï¼ dow æ¯ä¸å¨ä¸­çæä¸å¤© (Sun, Mon, Tue, Wed, Thu,\n     Fri, Sat)ã\n\nãæ¼ç¤ºï¼è·åå½åæ¥ææ¶é´ã\n\nJavaä¸­è·åå½åæ¥æåæ¶é´å¾ç®åï¼ä½¿ç¨ Date å¯¹è±¡ç toString() æ¹æ³æ¥æå°å½åæ¥æåæ¶é´\n\npublic static void main(String args[]) {\n    // åå§å Date å¯¹è±¡\n    Date date = new Date();\n\n    // ä½¿ç¨ toString() å½æ°æ¾ç¤ºæ¥ææ¶é´\n    System.out.println(date.toString());\n    //Tue Mar 30 10:24:19 CST 2021\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nãæ¼ç¤ºï¼æ¥ææ¯è¾ã\n\nä½¿ç¨ getTime() æ¹æ³è·åä¸¤ä¸ªæ¥æï¼èª1970å¹´1æ1æ¥ç»åçæ¯«ç§æ°å¼ï¼ï¼ç¶åæ¯è¾è¿ä¸¤ä¸ªå¼ã\n\npublic static void main(String[] args) {\n    // åå§å Date å¯¹è±¡\n    Date date = new Date();\n\n    long time = date.getTime();\n    long time2 = date.getTime();\n    System.out.println(time==time2);//true\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nä½¿ç¨æ¹æ³ before()ï¼after() å equals()ãä¾å¦ï¼ä¸ä¸ªæç12å·æ¯18å·æ©ï¼å new Date(99, 2, 12).before(new Date (99, 2, 18)) è¿åtrueã\n\npublic static void main(String[] args) {\n    boolean before = new Date(99, 01, 05).before(new Date(99, 11, 16));\n    System.out.println(before);\n}\n\n\n1\n2\n3\n4\n\n\n\n# 2ãSimpleDateFormat\n\næ ¼å¼åæ¥æ\n\nSimpleDateFormat æ¯ä¸ä¸ªä»¥è¯­è¨ç¯å¢ææçæ¹å¼æ¥æ ¼å¼åååææ¥æçç±»ãSimpleDateFormat åè®¸ä½ éæ©ä»»ä½ç¨æ·èªå®ä¹æ¥ææ¶é´æ ¼å¼æ¥è¿è¡ãä¾å¦ï¼\n\npublic static void main(String args[]) {\n    Date dNow = new Date( );\n    SimpleDateFormat ft = new SimpleDateFormat ("yyyy-MM-dd hh:mm:ss");\n    System.out.println("å½åæ¶é´ä¸º: " + ft.format(dNow));\n}\n\n\n1\n2\n3\n4\n5\n\n\nå¶ä¸­ yyyy æ¯å®æ´çå¬åå¹´ï¼MM æ¯æä»½ï¼dd æ¯æ¥æï¼HH:mm:ss æ¯æ¶ãåãç§ã\n\næ³¨æï¼æçæ ¼å¼å¤§åï¼æçæ ¼å¼å°åï¼ä¾å¦ MM æ¯æä»½ï¼mm æ¯åï¼HH æ¯ 24 å°æ¶å¶ï¼è hh æ¯ 12 å°æ¶å¶ã\n\næ¶é´æ¨¡å¼å­ç¬¦ä¸²ç¨æ¥æå®æ¶é´æ ¼å¼ãå¨æ­¤æ¨¡å¼ä¸­ï¼ææç ASCII å­æ¯è¢«ä¿çä¸ºæ¨¡å¼å­æ¯ï¼å®ä¹å¦ä¸ï¼\n\nå­æ¯   æè¿°                     ç¤ºä¾\nG    çºªåæ è®°                   AD\ny    åä½å¹´ä»½                   2001\nM    æä»½                     July or 07\nd    ä¸ä¸ªæçæ¥æ                 10\nh    A.M./P.M. (1~12)æ ¼å¼å°æ¶   12\nH    ä¸å¤©ä¸­çå°æ¶ (0~23)          22\nm    åéæ°                    30\ns    ç§æ°                     55\nS    æ¯«ç§æ°                    234\nE    ææå                     Tuesday\nD    ä¸å¹´ä¸­çæ¥å­                 360\nF    ä¸ä¸ªæä¸­ç¬¬å å¨çå¨å              2 (second Wed. in July)\nw    ä¸å¹´ä¸­ç¬¬å å¨                 40\nW    ä¸ä¸ªæä¸­ç¬¬å å¨                1\na    A.M./P.M. æ è®°           PM\nk    ä¸å¤©ä¸­çå°æ¶(1~24)           24\nK    A.M./P.M. (0~11)æ ¼å¼å°æ¶   10\nz    æ¶åº                     Eastern Standard Time\n\'    æå­å®çç¬¦                  Delimiter\n"    åå¼å·                    `\n\nãæ¼ç¤ºï¼ä½¿ç¨printfæ ¼å¼åæ¥æã\n\nJava æ ¼å¼åè¾åº printf ä¾å­ï¼https://www.runoob.com/w3cnote/java-printf-formate-demo.html\n\nprintf æ¹æ³å¯ä»¥å¾è½»æ¾å°æ ¼å¼åæ¶é´åæ¥æãä½¿ç¨ä¸¤ä¸ªå­æ¯æ ¼å¼ï¼å®ä»¥ %t å¼å¤´å¹¶ä¸ä»¥ä¸é¢è¡¨æ ¼ä¸­çä¸ä¸ªå­æ¯ç»å°¾ã\n\npublic static void main(String[] args) {\n    // åå§å Date å¯¹è±¡\n    Date date = new Date();\n    //cçä½¿ç¨\n    System.out.printf("å¨é¨æ¥æåæ¶é´ä¿¡æ¯ï¼%tc%n",date);\n    //fçä½¿ç¨\n    System.out.printf("å¹´-æ-æ¥æ ¼å¼ï¼%tF%n",date);\n    //dçä½¿ç¨\n    System.out.printf("æ/æ¥/å¹´æ ¼å¼ï¼%tD%n",date);\n    //rçä½¿ç¨\n    System.out.printf("HH:MM:SS PMæ ¼å¼ï¼12æ¶å¶ï¼ï¼%tr%n",date);\n    //tçä½¿ç¨\n    System.out.printf("HH:MM:SSæ ¼å¼ï¼24æ¶å¶ï¼ï¼%tT%n",date);\n    //Rçä½¿ç¨\n    System.out.printf("HH:MMæ ¼å¼ï¼24æ¶å¶ï¼ï¼%tR",date);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nç»æï¼\n\n> å¨é¨æ¥æåæ¶é´ä¿¡æ¯ï¼å¨äº 3æ 30 10:37:02 CST 2021 å¹´-æ-æ¥æ ¼å¼ï¼2021-03-30 æ/æ¥/å¹´æ ¼å¼ï¼03/30/21 HH:MM:SS PMæ ¼å¼ï¼12æ¶å¶ï¼ï¼10:37:02 ä¸å HH:MM:SSæ ¼å¼ï¼24æ¶å¶ï¼ï¼10:37:02 HH:MMæ ¼å¼ï¼24æ¶å¶ï¼ï¼10:37\n\nãæ¶é´ä¼ç ï¼ä¼ç (sleep)ã\n\nsleep()ä½¿å½åçº¿ç¨è¿å¥åæ»ç¶æï¼é»å¡å½åçº¿ç¨ï¼ï¼è®©åºCPUçä½¿ç¨ãç®çæ¯ä¸è®©å½åçº¿ç¨ç¬èªé¸å è¯¥è¿ç¨æè·çCPUèµæºï¼ä»¥çä¸å®æ¶é´ç»å¶ä»çº¿ç¨æ§è¡çæºä¼ã\n\nä½ å¯ä»¥è®©ç¨åºä¼ç ä¸æ¯«ç§çæ¶é´æèå°æ¨çè®¡ç®æºçå¯¿å½é¿çä»»ææ®µæ¶é´ãä¾å¦ï¼ä¸é¢çç¨åºä¼ä¼ç 3ç§ï¼\n\npublic static void main(String args[]) {\n    try {\n        System.out.println(new Date( ) + "\\n");\n        Thread.sleep(1000*3); // ä¼ç 3ç§\n        System.out.println(new Date( ) + "\\n");\n    } catch (Exception e) {\n        System.out.println("Got an exception!");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 3ãCalendarç±»\n\næä»¬ç°å¨å·²ç»è½å¤æ ¼å¼åå¹¶åå»ºä¸ä¸ªæ¥æå¯¹è±¡äºï¼ä½æ¯æä»¬å¦ä½æè½è®¾ç½®åè·åæ¥ææ°æ®çç¹å®é¨åå¢ï¼æ¯å¦è¯´å°æ¶ï¼æ¥ï¼æèåé? æä»¬åå¦ä½å¨æ¥æçè¿äºé¨åå ä¸æèåå»å¼å¢? ç­æ¡æ¯ä½¿ç¨Calendarç±»ãDateä¸­æå¾å¤æ¹æ³é½å·²ç»åºå¼äºï¼\n\nCalendarç±»çåè½è¦æ¯Dateç±»å¼ºå¤§å¾å¤ï¼èä¸å¨å®ç°æ¹å¼ä¸ä¹æ¯Dateç±»è¦å¤æä¸äºã\n\nCalendarç±»æ¯ä¸ä¸ªæ½è±¡ç±»ï¼å¨å®éä½¿ç¨æ¶å®ç°ç¹å®çå­ç±»çå¯¹è±¡ï¼åå»ºå¯¹è±¡çè¿ç¨å¯¹ç¨åºåæ¥è¯´æ¯éæçï¼åªéè¦ä½¿ç¨getInstanceæ¹æ³åå»ºå³å¯ã\n\nåå»ºä¸ä¸ªä»£è¡¨ç³»ç»å½åæ¥æçCalendarå¯¹è±¡\n\npublic static void main(String args[]) {\n    Calendar c = Calendar.getInstance();//é»è®¤æ¯å½åæ¥æ\n    System.out.println(c);\n}\n\n\n1\n2\n3\n4\n\n\nè¾åºï¼\n\n> java.util.GregorianCalendar[time=1617072097924,areFieldsSet=true,areAllFieldsSet=true,lenient=true,zone=sun.util.calendar.ZoneInfo[id="Asia/Shanghai",offset=28800000,dstSavings=0,useDaylight=false,transitions=31,lastRule=null],firstDayOfWeek=1,minimalDaysInFirstWeek=1,ERA=1,YEAR=2021,MONTH=2,WEEK_OF_YEAR=14,WEEK_OF_MONTH=5,DAY_OF_MONTH=30,DAY_OF_YEAR=89,DAY_OF_WEEK=3,DAY_OF_WEEK_IN_MONTH=5,AM_PM=0,HOUR=10,HOUR_OF_DAY=10,MINUTE=41,SECOND=37,MILLISECOND=924,ZONE_OFFSET=28800000,DST_OFFSET=0]\n\nåå»ºä¸ä¸ªæå®æ¥æçCalendarå¯¹è±¡\n\nä½¿ç¨Calendarç±»ä»£è¡¨ç¹å®çæ¶é´ï¼éè¦é¦ååå»ºä¸ä¸ªCalendarçå¯¹è±¡ï¼ç¶ååè®¾å®è¯¥å¯¹è±¡ä¸­çå¹´ææ¥åæ°æ¥å®æã\n\n//åå»ºä¸ä¸ªä»£è¡¨2019å¹´4æ27æ¥çCalendarå¯¹è±¡\nCalendar c1 = Calendar.getInstance();\nc1.set(2019, 4 - 1, 27);\n\n\n1\n2\n3\n\n\nCalendarç±»å¯¹è±¡å­æ®µç±»å\n\nCalendarç±»ä¸­ç¨ä»¥ä¸è¿äºå¸¸éè¡¨ç¤ºä¸åçæä¹ï¼jdkåçå¾å¤ç±»å¶å®é½æ¯éç¨çè¿ç§ææ³\n\nå¸¸é                      æè¿°\nCalendar.YEAR           å¹´ä»½\nCalendar.MONTH          æä»½\nCalendar.DATE           æ¥æ\nCalendar.DAY_OF_MONTH   æ¥æï¼åä¸é¢çå­æ®µæä¹å®å¨ç¸å\nCalendar.HOUR           12å°æ¶å¶çå°æ¶\nCalendar.HOUR_OF_DAY    24å°æ¶å¶çå°æ¶\nCalendar.MINUTE         åé\nCalendar.SECOND         ç§\nCalendar.DAY_OF_WEEK    ææå \n\n// è·å¾å¹´ä»½\nint year = c1.get(Calendar.YEAR);\n// è·å¾æä»½\nint month = c1.get(Calendar.MONTH) + 1;\n// è·å¾æ¥æ\nint date = c1.get(Calendar.DATE);\n// è·å¾å°æ¶\nint hour = c1.get(Calendar.HOUR_OF_DAY);\n// è·å¾åé\nint minute = c1.get(Calendar.MINUTE);\n// è·å¾ç§\nint second = c1.get(Calendar.SECOND);\n// è·å¾ææå ï¼æ³¨æï¼è¿ä¸ªä¸Dateç±»æ¯ä¸åçï¼ï¼1ä»£è¡¨æææ¥ã2ä»£è¡¨ææ1ã3ä»£è¡¨ææäºï¼ä»¥æ­¤ç±»æ¨ï¼\nint day = c1.get(Calendar.DAY_OF_WEEK);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nè®¾ç½®å®æ´æ¥æ\n\nCalendar c1 = Calendar.getInstance();\nc1.set(2009, 6 - 1, 12);//æCalendarå¯¹è±¡c1çå¹´ææ¥åå«è®¾è¿ä¸ºï¼2009ã6ã12\n\n\n1\n2\n\n\nè®¾ç½®æä¸ªå­æ®µ\n\nc1.set(Calendar.DATE,10);\nc1.set(Calendar.YEAR,2008);\n//å¶ä»å­æ®µå±æ§setçæä¹ä»¥æ­¤ç±»æ¨\n\n\n1\n2\n3\n\n\naddè®¾ç½®\n\n//æc1å¯¹è±¡çæ¥æå ä¸10ï¼ä¹å°±æ¯c1ä¹å°±è¡¨ç¤ºä¸º10å¤©åçæ¥æï¼å¶å®ææçæ°å¼ä¼è¢«éæ°è®¡ç®\nc1.add(Calendar.DATE, 10);\n//æc1å¯¹è±¡çæ¥æåå»10ï¼ä¹å°±æ¯c1ä¹å°±è¡¨ç¤ºä¸º10å¤©åçæ¥æï¼å¶å®ææçæ°å¼ä¼è¢«éæ°è®¡ç®\nc1.add(Calendar.DATE, -10);\n\n\n1\n2\n3\n4\n\n\nãæ¼ç¤ºï¼GregorianCalendarã\n\npublic static void main(String[] args) {\n    String months[] = {\n            "Jan", "Feb", "Mar", "Apr",\n            "May", "Jun", "Jul", "Aug",\n            "Sep", "Oct", "Nov", "Dec"};\n\n    int year;\n    // åå§å Gregorian æ¥å\n    // ä½¿ç¨å½åæ¶é´åæ¥æ\n    // é»è®¤ä¸ºæ¬å°æ¶é´åæ¶åº\n    GregorianCalendar gcalendar = new GregorianCalendar();\n    // æ¾ç¤ºå½åæ¶é´åæ¥æçä¿¡æ¯\n    System.out.print("Date: ");\n    System.out.print(months[gcalendar.get(Calendar.MONTH)]);\n    System.out.print(" " + gcalendar.get(Calendar.DATE) + " ");\n    System.out.println(year = gcalendar.get(Calendar.YEAR));\n    System.out.print("Time: ");\n    System.out.print(gcalendar.get(Calendar.HOUR) + ":");\n    System.out.print(gcalendar.get(Calendar.MINUTE) + ":");\n    System.out.println(gcalendar.get(Calendar.SECOND));\n\n    // æµè¯å½åå¹´ä»½æ¯å¦ä¸ºé°å¹´\n    if (gcalendar.isLeapYear(year)) {\n        System.out.println("å½åå¹´ä»½æ¯é°å¹´");\n    } else {\n        System.out.println("å½åå¹´ä»½ä¸æ¯é°å¹´");\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\nè¾åºï¼\n\n> Date: Mar 30 2021 Time: 10:49:35 å½åå¹´ä»½ä¸æ¯é°å¹´\n\næ³¨æï¼Calenderçæä»½æ¯ä»0å¼å§çï¼ä½æ¥æåå¹´ä»½æ¯ä»1å¼å§ç\n\nãæ¼ç¤ºã\n\npublic static void main(String[] args) {\n    Calendar c1 = Calendar.getInstance();\n    c1.set(2017, 1, 1);\n    System.out.println(c1.get(Calendar.YEAR)\n            + "-" + c1.get(Calendar.MONTH)\n            + "-" + c1.get(Calendar.DATE));\n    c1.set(2017, 1, 0);\n    System.out.println(c1.get(Calendar.YEAR)\n            + "-" + c1.get(Calendar.MONTH)\n            + "-" + c1.get(Calendar.DATE));\n}\n/*\nè¾åº\n2017-1-1\n2017-0-31\n    /*\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nå¯è§ï¼å°æ¥æè®¾ä¸º0ä»¥åï¼æä»½åæäºä¸ä¸ªæï¼ä½æä»½å¯ä»¥ä¸º0ï¼ææä»½æ¹ä¸º2è¯è¯ï¼\n\npublic static void main(String[] args) {\n    Calendar c1 = Calendar.getInstance();\n    c1.set(2017, 2, 1);\n    System.out.println(c1.get(Calendar.YEAR)\n            + "-" + c1.get(Calendar.MONTH)\n            + "-" + c1.get(Calendar.DATE));\n    c1.set(2017, 2, 0);\n    System.out.println(c1.get(Calendar.YEAR)\n            + "-" + c1.get(Calendar.MONTH)\n            + "-" + c1.get(Calendar.DATE));\n}\n/*\nè¾åº\n2017-2-1\n2017-1-28\n*/\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nå¯ä»¥çå°ä¸ä¸ªæçæåä¸å¤©æ¯28å·ï¼æä»¥Calendar.MONTHä¸º1çæ¶åæ¯2æ ã\n\n\n# Stringç±»\n\n\n# 1ãStringæ¦è¿°\n\nå¨APIä¸­æ¯è¿æ ·æè¿°ï¼\n\nString ç±»ä»£è¡¨å­ç¬¦ä¸²ãJava ç¨åºä¸­çææå­ç¬¦ä¸²å­é¢å¼ï¼å¦ "abc" ï¼é½ä½ä¸ºæ­¤ç±»çå®ä¾å®ç°ã å­ç¬¦ä¸²æ¯å¸¸éï¼å®ä»¬çå¼å¨åå»ºä¹åä¸è½æ´æ¹ãå­ç¬¦ä¸²ç¼å²åºæ¯æå¯åçå­ç¬¦ä¸²ãå ä¸º String å¯¹è±¡æ¯ä¸å¯åçï¼ æä»¥å¯ä»¥å±äº«ã\n\nãæ¼ç¤ºï¼æ¥çStringæºç ã\n\npublic final class String\nimplements java.io.Serializable, Comparable<String>, CharSequence {\n    \n}\n\n\n1\n2\n3\n4\n\n\nãStringçæååéã\n\n//Stringçå±æ§å¼\nprivate final char value[];\n\n//æ°ç»è¢«ä½¿ç¨çå¼å§ä½ç½®\nprivate final int offset;\n\n//Stringä¸­åç´ çä¸ªæ°\nprivate final int count;\n\n//Stringç±»åçhashå¼\nprivate int hash; // Default to 0\n\nprivate static final long serialVersionUID = -6849794470754667710L;\nprivate static final ObjectStreamField[] serialPersistentFields =\nnew ObjectStreamField[0];\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nä»æºç çåºStringåºå±ä½¿ç¨ä¸ä¸ªå­ç¬¦æ°ç»æ¥ç»´æ¤çã\n\næååéå¯ä»¥ç¥éStringç±»çå¼æ¯finalç±»åçï¼ä¸è½è¢«æ¹åçï¼æä»¥åªè¦ä¸ä¸ªå¼æ¹åå°±ä¼çæä¸ä¸ªæ°ç Stringç±»åå¯¹è±¡ï¼å­å¨Stringæ°æ®ä¹ä¸ä¸å®ä»æ°ç»çç¬¬0ä¸ªåç´ å¼å§çï¼èæ¯ä»offsetææçåç´ å¼å§ã\n\nãStringçæé æ¹æ³ã\n\nString()\n//åå§åä¸ä¸ªæ°åå»ºç String å¯¹è±¡ï¼ä½¿å¶è¡¨ç¤ºä¸ä¸ªç©ºå­ç¬¦åºåã\n    \nString(byte[] bytes)\n//éè¿ä½¿ç¨å¹³å°çé»è®¤å­ç¬¦éè§£ç æå®ç byte æ°ç»ï¼æé ä¸ä¸ªæ°ç Stringã\n    \nString(byte[] bytes, Charset charset)\n//éè¿ä½¿ç¨æå®ç charset è§£ç æå®ç byte æ°ç»ï¼æé ä¸ä¸ªæ°ç Stringã\n    \nString(byte[] bytes, int offset, int length)\n//éè¿ä½¿ç¨å¹³å°çé»è®¤å­ç¬¦éè§£ç æå®ç byte å­æ°ç»ï¼æé ä¸ä¸ªæ°ç Stringã\n    \nString(byte[] bytes, int offset, int length, Charset charset)\n//éè¿ä½¿ç¨æå®ç charset è§£ç æå®ç byte å­æ°ç»ï¼æé ä¸ä¸ªæ°ç Stringã\n    \nString(byte[] bytes, int offset, int length, String charsetName)\n//éè¿ä½¿ç¨æå®çå­ç¬¦éè§£ç æå®ç byte å­æ°ç»ï¼æé ä¸ä¸ªæ°ç Stringã\n    \nString(byte[] bytes, String charsetName)\n//éè¿ä½¿ç¨æå®ç charset è§£ç æå®ç byte æ°ç»ï¼æé ä¸ä¸ªæ°ç Stringã\n    \nString(char[] value)\n//åéä¸ä¸ªæ°ç Stringï¼ä½¿å¶è¡¨ç¤ºå­ç¬¦æ°ç»åæ°ä¸­å½ååå«çå­ç¬¦åºåã\n    \nString(char[] value, int offset, int count)\n//åéä¸ä¸ªæ°ç Stringï¼å®åå«åèªå­ç¬¦æ°ç»åæ°ä¸ä¸ªå­æ°ç»çå­ç¬¦ã\n    \nString(int[] codePoints, int offset, int count)\n//åéä¸ä¸ªæ°ç Stringï¼å®åå« Unicode ä»£ç ç¹æ°ç»åæ°ä¸ä¸ªå­æ°ç»çå­ç¬¦ã\n    \nString(String original)\n//åå§åä¸ä¸ªæ°åå»ºç String å¯¹è±¡ï¼ä½¿å¶è¡¨ç¤ºä¸ä¸ªä¸åæ°ç¸åçå­ç¬¦åºåï¼æ¢å¥è¯è¯´ï¼æ°åå»ºçå­ç¬¦ä¸²æ¯è¯¥åæ°å­ç¬¦ä¸²çå¯æ¬ã\n    \nString(StringBuffer buffer)\n//åéä¸ä¸ªæ°çå­ç¬¦ä¸²ï¼å®åå«å­ç¬¦ä¸²ç¼å²åºåæ°ä¸­å½ååå«çå­ç¬¦åºåã\n    \nString(StringBuilder builder)\n//åéä¸ä¸ªæ°çå­ç¬¦ä¸²ï¼å®åå«å­ç¬¦ä¸²çæå¨åæ°ä¸­å½ååå«çå­ç¬¦åºåã\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\n\n# 2ãåå»ºå­ç¬¦ä¸²å¯¹è±¡æ¹å¼\n\nç´æ¥èµå¼æ¹å¼åå»ºå¯¹è±¡æ¯å¨æ¹æ³åºçå¸¸éæ± \n\nString str="hello";//ç´æ¥èµå¼çæ¹å¼\n\n\n1\n\n\néè¿æé æ¹æ³åå»ºå­ç¬¦ä¸²å¯¹è±¡æ¯å¨å åå­\n\nString str=new String("hello");//å®ä¾åçæ¹å¼\n\n\n1\n\n\nãä¸¤ç§å®ä¾åæ¹å¼çæ¯è¾ã\n\nç¼åä»£ç æ¯è¾\n\npublic static void main(String[] args) {\n    String str1 = "Lance";\n    String str2 = new String("Lance");\n    String str3 = str2; //å¼ç¨ä¼ éï¼str3ç´æ¥æåst2çå åå­å°å\n    String str4 = "Lance";\n    /**\n     * ==:\n     * åºæ¬æ°æ®ç±»åï¼æ¯è¾çæ¯åºæ¬æ°æ®ç±»åçå¼æ¯å¦ç¸å\n     * å¼ç¨æ°æ®ç±»åï¼æ¯è¾çæ¯å¼ç¨æ°æ®ç±»åçå°åå¼æ¯å¦ç¸å\n     * æä»¥å¨è¿éçè¯ï¼Stringç±»å¯¹è±¡==æ¯è¾ï¼æ¯è¾çæ¯å°åï¼èä¸æ¯åå®¹\n     */\n    System.out.println(str1 == str2);//false\n    System.out.println(str1 == str3);//false\n    System.out.println(str3 == str2);//true\n    System.out.println(str1 == str4);//true\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nåå­å¾åæ\n\n\n\nå¯è½è¿éè¿æ¯ä¸å¤ææ¾ï¼æé æ¹æ³å®ä¾åæ¹å¼çåå­å¾ï¼String str = new String("Hello");\n\n\n\nå½æä»¬åä¸æ¬¡çnewä¸ä¸ªStringå¯¹è±¡æ¶ï¼\n\n\n\nãå­ç¬¦ä¸²å¸¸éæ± ã\n\nå¨å­ç¬¦ä¸²ä¸­ï¼å¦æéç¨ç´æ¥èµå¼çæ¹å¼ï¼String str="Lance"ï¼è¿è¡å¯¹è±¡çå®ä¾åï¼åä¼å°å¿åå¯¹è±¡ âLanceâæ¾å¥å¯¹è±¡æ± ï¼æ¯å½ä¸ä¸æ¬¡å¯¹ä¸åçå¯¹è±¡è¿è¡ç´æ¥èµå¼çæ¶åä¼ç´æ¥å©ç¨æ± ä¸­åæçå¿åå¯¹è±¡ï¼æä»¬å¯ä»¥ç¨å¯¹è±¡æå·¥å¥æ± ï¼\n\npublic static void main(String args[]){\n    String str = new String("Lance").intern();//å¯¹å¿åå¯¹è±¡è¿è¡æå·¥å¥æ± æä½\n    String str1 = "Lance";\n    System.out.println(str==str1);//true\n}\n\n\n1\n2\n3\n4\n5\n\n\nãä¸¤ç§å®ä¾åæ¹å¼çåºå«ã\n\n 1. ç´æ¥èµå¼ï¼String str = "hello"ï¼\n    \n    åªå¼è¾ä¸åå åå­ç©ºé´ï¼å¹¶ä¸ä¼èªå¨å¥æ± ï¼ä¸ä¼äº§çåå¾ã\n\n 2. æé æ¹æ³ï¼String str= new String("hello");ï¼\n    \n    ä¼å¼è¾ä¸¤åå åå­ç©ºé´ï¼å¶ä¸­ä¸åå åå­ä¼åæåå¾è¢«ç³»ç»åæ¶ï¼èä¸ä¸è½å¤èªå¨å¥æ± ï¼éè¦éè¿public String intern();æ¹æ³è¿è¡æå·¥å¥æ± ã\n\n 3. å¨å¼åçè¿ç¨ä¸­ä¸ä¼éç¨æé æ¹æ³è¿è¡å­ç¬¦ä¸²çå®ä¾åã\n\nãé¿åç©ºæåã\n\né¦åäºè§£ï¼ == åpublic boolean equals()æ¯è¾å­ç¬¦ä¸²çåºå«\n\n==å¨å¯¹å­ç¬¦ä¸²æ¯è¾çæ¶åï¼å¯¹æ¯çæ¯åå­å°åï¼èequalsæ¯è¾çæ¯å­ç¬¦ä¸²åå®¹ï¼å¨å¼åçè¿ç¨ä¸­ï¼ equals()éè¿æ¥ååæ°ï¼å¯ä»¥é¿åç©ºæåã\n\nString str = null;\nif(str.equals("hello")){//æ­¤æ¶ä¼åºç°ç©ºæåå¼å¸¸\n\n}\n\nif("hello".equals(str)){//æ­¤æ¶equalsä¼å¤çnullå¼ï¼å¯ä»¥é¿åç©ºæåå¼å¸¸\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nStringç±»å¯¹è±¡ä¸æ¦å£°æåä¸å¯ä»¥æ¹åï¼èæ¹åçåªæ¯å°åï¼åæ¥çå­ç¬¦ä¸²è¿æ¯å­å¨çï¼å¹¶ä¸äº§çåå¾\n\n\n\n\n# 3ãStringå¸¸ç¨çæ¹æ³\n\n\n\n# Stringçå¤æ­\n\n> boolean equals(Object obj)ï¼æ¯è¾å­ç¬¦ä¸²çåå®¹æ¯å¦ç¸å boolean equalsIgnoreCase(String str)ï¼ æ¯è¾å­ç¬¦ä¸²çåå®¹æ¯å¦ç¸å,å¿½ç¥å¤§å°å boolean startsWith(String str)ï¼ å¤æ­å­ç¬¦ä¸²å¯¹è±¡æ¯å¦ä»¥æå®çstrå¼å¤´ boolean endsWith(String str)ï¼ å¤æ­å­ç¬¦ä¸²å¯¹è±¡æ¯å¦ä»¥æå®çstrç»å°¾\n\næ¼ç¤ºï¼\n\npublic static void main(String[] args) {\n    // åå»ºå­ç¬¦ä¸²å¯¹è±¡\n    String s1 = "hello";\n    String s2 = "hello";\n    String s3 = "Hello";\n    \n    // boolean equals(Object obj):æ¯è¾å­ç¬¦ä¸²çåå®¹æ¯å¦ç¸å\n    System.out.println(s1.equals(s2)); //true\n    System.out.println(s1.equals(s3)); //false\n    System.out.println("-----------");\n    \n    // boolean equalsIgnoreCase(String str):æ¯è¾å­ç¬¦ä¸²çåå®¹æ¯å¦ç¸å,å¿½ç¥å¤§å°å\n    System.out.println(s1.equalsIgnoreCase(s2)); //true\n    System.out.println(s1.equalsIgnoreCase(s3)); //true\n    System.out.println("-----------");\n    \n    // boolean startsWith(String str):å¤æ­å­ç¬¦ä¸²å¯¹è±¡æ¯å¦ä»¥æå®çstrå¼å¤´\n    System.out.println(s1.startsWith("he")); //true\n    System.out.println(s1.startsWith("ll")); //false\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n# Stringçæªå\n\n> int length():è·åå­ç¬¦ä¸²çé¿åº¦ï¼å¶å®ä¹å°±æ¯å­ç¬¦ä¸ªæ° char charAt(int index):è·åæå®ç´¢å¼å¤çå­ç¬¦ int indexOf(String str):è·åstrå¨å­ç¬¦ä¸²å¯¹è±¡ä¸­ç¬¬ä¸æ¬¡åºç°çç´¢å¼ String substring(int start):ä»startå¼å§æªåå­ç¬¦ä¸² String substring(int start,int end):ä»startå¼å§ï¼å°endç»ææªåå­ç¬¦ä¸²ãåæ¬startï¼ä¸åæ¬end\n\næ¼ç¤º\n\npublic static void main(String args[]) {\n    // åå»ºå­ç¬¦ä¸²å¯¹è±¡\n    String s = "helloworld";\n    // int length():è·åå­ç¬¦ä¸²çé¿åº¦ï¼å¶å®ä¹å°±æ¯å­ç¬¦ä¸ªæ°\n    System.out.println(s.length()); //10\n    System.out.println("--------");\n    // char charAt(int index):è·åæå®ç´¢å¼å¤çå­ç¬¦\n    System.out.println(s.charAt(0)); //h\n    System.out.println(s.charAt(1)); //e\n    System.out.println("--------");\n    // int indexOf(String str):è·åstrå¨å­ç¬¦ä¸²å¯¹è±¡ä¸­ç¬¬ä¸æ¬¡åºç°çç´¢å¼\n    System.out.println(s.indexOf("l")); //2\n    System.out.println(s.indexOf("owo")); //4\n    System.out.println(s.indexOf("ak")); //-1\n    System.out.println("--------");\n    // String substring(int start):ä»startå¼å§æªåå­ç¬¦ä¸²\n    System.out.println(s.substring(0)); //helloworld\n    System.out.println(s.substring(5)); //world\n    System.out.println("--------");\n    // String substring(int start,int end):ä»startå¼å§ï¼å°endç»ææªåå­ç¬¦ä¸²\n    System.out.println(s.substring(0, s.length())); //helloworld\n    System.out.println(s.substring(3, 8)); //lowor\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n# Stringçè½¬æ¢\n\n> char[] toCharArray()ï¼æå­ç¬¦ä¸²è½¬æ¢ä¸ºå­ç¬¦æ°ç» String toLowerCase()ï¼æå­ç¬¦ä¸²è½¬æ¢ä¸ºå°åå­ç¬¦ä¸² String toUpperCase()ï¼æå­ç¬¦ä¸²è½¬æ¢ä¸ºå¤§åå­ç¬¦ä¸²\n\næ¼ç¤º\n\npublic static void main(String args[]) {\n\t// åå»ºå­ç¬¦ä¸²å¯¹è±¡\n    String s = "abcde";\n    \n    // char[] toCharArray():æå­ç¬¦ä¸²è½¬æ¢ä¸ºå­ç¬¦æ°ç»\n    char[] chs = s.toCharArray();\n    for (int x = 0; x < chs.length; x++) {\n        System.out.println(chs[x]);\n    }\n    \n    System.out.println("-----------");\n    \n    // String toLowerCase():æå­ç¬¦ä¸²è½¬æ¢ä¸ºå°åå­ç¬¦ä¸²\n    System.out.println("HelloWorld".toLowerCase());\n    // String toUpperCase():æå­ç¬¦ä¸²è½¬æ¢ä¸ºå¤§åå­ç¬¦ä¸²\n    System.out.println("HelloWorld".toUpperCase());\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n# å¶ä»æ¹æ³\n\n> å»é¤å­ç¬¦ä¸²ä¸¤ç«¯ç©ºæ ¼ï¼String trim()\n> \n> æç§æå®ç¬¦å·åå²å­ç¬¦ä¸²ï¼String[] split(String str)\n\npublic static void main(String args[]) {\n    // åå»ºå­ç¬¦ä¸²å¯¹è±¡\n    String s1 = "helloworld";\n    String s2 = " helloworld ";\n    String s3 = " hello world ";\n    System.out.println("---" + s1 + "---");\n    System.out.println("---" + s1.trim() + "---");\n    System.out.println("---" + s2 + "---");\n    System.out.println("---" + s2.trim() + "---");\n    System.out.println("---" + s3 + "---");\n    System.out.println("---" + s3.trim() + "---");\n    System.out.println("-------------------");\n    \n    // String[] split(String str)\n    // åå»ºå­ç¬¦ä¸²å¯¹è±¡\n    String s4 = "aa,bb,cc";\n    String[] strArray = s4.split(",");\n    for (int x = 0; x < strArray.length; x++) {\n        System.out.println(strArray[x]);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# 4ãStringçä¸å¯åæ§\n\nå½æä»¬å»éè¯»æºä»£ç çæ¶åï¼ä¼åç°æè¿æ ·çä¸å¥è¯ï¼\n\n> Strings are constant; their values cannot be changed after they are created.\n\nææå°±æ¯è¯´ï¼Stringæ¯ä¸ªå¸¸éï¼ä»ä¸åºçå°±æ³¨å®ä¸å¯å\n\nææ³å¤§å®¶åºè¯¥å°±ç¥éä¸ºä»ä¹Stringä¸å¯åäºï¼Stringç±»è¢«finalä¿®é¥°ï¼å®æ¹æ³¨éè¯´æåå»ºåä¸è½è¢«æ¹åï¼ä½ æ¯ä¸ºä»ä¹Stringè¦ä½¿ç¨finalä¿®é¥°å¢ï¼\n\näºè§£ä¸ä¸ªç»å¸çé¢è¯é¢\n\npublic static void main(String[] args) {\n    String a = "abc";\n    String b = "abc";\n    String c = new String("abc");\n    System.out.println(a==b); //true\n    System.out.println(a.equals(b)); //true\n    System.out.println(a==c); //false\n    System.out.println(a.equals(c)); //true\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n\nå ä¸ºStringå¤ªè¿å¸¸ç¨ï¼JAVAç±»åºçè®¾è®¡èå¨å®ç°æ¶åäºä¸ªå°å°çååï¼å³éç¨äºäº«åæ¨¡å¼ï¼æ¯å½çæä¸ä¸ªæ°åå®¹çå­ç¬¦ä¸²æ¶ï¼ä»ä»¬é½è¢«æ·»å å°ä¸ä¸ªå±äº«æ± ä¸­ï¼å½ç¬¬äºæ¬¡åæ¬¡çæåæ ·åå®¹çå­ç¬¦ä¸²å®ä¾æ¶ï¼å°±å±äº«æ­¤å¯¹è±¡ï¼èä¸æ¯åå»ºä¸ä¸ªæ°å¯¹è±¡ï¼ä½æ¯è¿æ ·çåæ³ä»ä»éåäºéè¿=ç¬¦å·è¿è¡çåå§åã\n\néè¦è¯´æä¸ç¹çæ¯ï¼å¨objectä¸­ï¼equals()æ¯ç¨æ¥æ¯è¾åå­å°åçï¼ä½æ¯Stringéåäºequals()æ¹ æ³ï¼ç¨æ¥æ¯è¾åå®¹çï¼å³ä½¿æ¯ä¸åå°åï¼åªè¦åå®¹ä¸è´ï¼ä¹ä¼è¿åtrueï¼è¿ä¹å°±æ¯ä¸ºä»ä¹a.equals(c)è¿åtrueçåå äºã\n\nStringä¸å¯åçå¥½å¤\n\n * å¯ä»¥å®ç°å¤ä¸ªåéå¼ç¨å åå­ä¸­çåä¸ä¸ªå­ç¬¦ä¸²å®ä¾ï¼é¿ååå»ºçå¼éã\n * æä»¬çç¨åºä¸­å¤§éä½¿ç¨äºStringå­ç¬¦ä¸²ï¼æå¯è½æ¯åºäºå®å¨æ§èèã\n * å¤§å®¶é½ç¥éHashMapä¸­keyä¸ºStringç±»åï¼å¦æå¯åå°åçå¤ä¹å¯æã\n * å½æä»¬å¨ä¼ åçæ¶åï¼ä½¿ç¨ä¸å¯åç±»ä¸éè¦å»èèè°å¯è½ä¼ä¿®æ¹å¶åé¨çå¼ï¼å¦æä½¿ç¨å¯åç±»çè¯ï¼å¯è½éè¦æ¯æ¬¡è®°å¾éæ°æ·è´åºéé¢çå¼ï¼æ§è½ä¼æä¸å®çæå¤±ã\n\n\n# 5ãå­ç¬¦ä¸²å¸¸éæ± \n\nå­ç¬¦ä¸²å¸¸éæ± æ¦è¿°ï¼\n\n1ãå¸¸éæ± è¡¨ï¼Constant_Pool tableï¼\n\nClassæä»¶ä¸­å­å¨ææå¸¸éï¼åæ¬å­ç¬¦ä¸²ï¼çtableãè¿æ¯Classæä»¶ä¸­çåå®¹ï¼è¿ä¸æ¯è¿è¡æ¶çåå®¹ï¼ä¸è¦çè§£å®æ¯ä¸ªæ± å­ï¼å¶å®å°±æ¯Classæä»¶ä¸­çå­èç æä»¤ã\n\n2ãè¿è¡æ¶å¸¸éæ± ï¼Runtime Constant Poolï¼\n\nJVMåå­ä¸­æ¹æ³åºçä¸é¨åï¼è¿æ¯è¿è¡æ¶çåå®¹ãè¿é¨ååå®¹ï¼ç»å¤§é¨åï¼æ¯éçJVMè¿è¡æ¶åï¼ä»å¸¸éæ± è½¬åèæ¥ï¼æ¯ä¸ªClasså¯¹åºä¸ä¸ªè¿è¡æ¶å¸¸éæ± ãä¸ä¸å¥ä¸­è¯´ç»å¤§é¨åæ¯å ä¸ºï¼é¤äº Classä¸­å¸¸éæ± å å®¹ï¼è¿å¯è½åæ¬å¨æçæå¹¶å å¥è¿éçåå®¹ã\n\n3ãå­ç¬¦ä¸²å¸¸éæ± ï¼String Poolï¼\n\nè¿é¨åä¹å¨æ¹æ³åºä¸­ï¼ä½ä¸Runtime Constant Poolä¸æ¯ä¸ä¸ªæ¦å¿µï¼String Poolæ¯JVMå®ä¾å¨å±å±äº«çï¼å¨å±åªæä¸ä¸ªãJVMè§èè¦æ±è¿å¥è¿éçStringå®ä¾å«âè¢«é©»ççinterned stringâï¼åä¸ªJVMå¯ä»¥æä¸åçå®ç°ï¼HotSpotæ¯è®¾ç½®äºä¸ä¸ªåå¸è¡¨StringTableæ¥å¼ç¨å ä¸­çå­ç¬¦ä¸²å®ä¾ï¼è¢«å¼ç¨å°±æ¯è¢«é©»çã\n\nãäº¨åæ¨¡å¼ã\n\nå¶å®å­ç¬¦ä¸²å¸¸éæ± è¿ä¸ªé®é¢æ¶åå°ä¸ä¸ªè®¾è®¡æ¨¡å¼ï¼å«âäº«åæ¨¡å¼âï¼é¡¾åæä¹ - - - > å±äº«åç´ æ¨¡å¼ ä¹å°±æ¯è¯´ï¼ä¸ä¸ªç³»ç»ä¸­å¦ææå¤å¤ç¨å°äºç¸åçä¸ä¸ªåç´ ï¼é£ä¹æä»¬åºè¯¥åªå­å¨ä¸ä»½æ­¤åç´ ï¼èè®©ææå°æ¹é½å¼ç¨è¿ä¸ä¸ªåç´ \n\nJavaä¸­Stringé¨åå°±æ¯æ ¹æ®äº«åæ¨¡å¼è®¾è®¡çï¼èé£ä¸ªå­å¨åç´ çå°æ¹å°±å«åâå­ç¬¦ä¸²å¸¸éæ±  - String Poolâ\n\nãè¯¦ç»åæã\n\nint x = 10;\nString y = "hello";\n\n\n1\n2\n\n\nâ  é¦åï¼ 10å "hello"ä¼å¨ç»è¿javacï¼æèå¶ä»ç¼è¯å¨ï¼ç¼è¯è¿ååä¸ºClassæä»¶ä¸­ constant_pool table çåå®¹\n\nâ¡ å½æä»¬çç¨åºè¿è¡æ¶ï¼ä¹å°±æ¯è¯´JVMè¿è¡æ¶ï¼æ¯ä¸ªClass constant_pool table ä¸­çåå®¹ä¼è¢«å è½½å°JVMåå­ä¸­çæ¹æ³åºä¸­åèªClassç Runtime Constant Poolã\n\nâ¢ ä¸ä¸ªæ²¡æè¢«String Poolåå«çRuntime Constant Poolä¸­çå­ç¬¦ä¸²ï¼è¿éæ¯"hello"ï¼ä¼è¢«å å¥å° String Poolä¸­ï¼HosSpotä½¿ç¨hashtableå¼ç¨æ¹å¼ï¼ï¼æ­¥éª¤å¦ä¸ï¼\n\n 1. å¨Java Heapï¼å ï¼ä¸­æ ¹æ®"hello"å­é¢écreateä¸ä¸ªå­ç¬¦ä¸²å¯¹è±¡\n\n 2. å°å­é¢é"hello"ä¸å­ç¬¦ä¸²å¯¹è±¡çå¼ç¨å¨hashtableä¸­å³èèµ·æ¥é® - å¼\n    \n    å½¢å¼æ¯ï¼"hello" = å¯¹è±¡çå¼ç¨å°åã\n\nå¦å¤æ¥è¯´ï¼å½ä¸ä¸ªæ°çå­ç¬¦ä¸²åºç°å¨Runtime Constant Poolä¸­æ¶æä¹å¤æ­éä¸éè¦å¨Java Heapä¸­åå»º æ°å¯¹è±¡å¢ï¼\n\nç­ç¥æ¯è¿æ ·ï¼ä¼åå»æ ¹æ®equalsæ¥æ¯è¾Runtime Constant Poolä¸­çè¿ä¸ªå­ç¬¦ä¸²æ¯å¦åString Poolä¸­æä¸ä¸ªæ¯ç¸ç­çï¼ä¹å°±æ¯æ¾æ¯å¦å·²ç»å­å¨ï¼ï¼å¦ææé£ä¹å°±ä¸åå»ºï¼ç´æ¥ä½¿ç¨å¶å¼ç¨ï¼åä¹ï¼å°±å¦åä¸é¢çç¬¬ä¸æ­¥ã\n\nå¦æ­¤ï¼å°±å®ç°äºäº«åæ¨¡å¼ï¼æé«çåå­å©ç¨æçã\n\nä¸¾ä¾ï¼\n\n> ä½¿ç¨String s = new String("hello");ä¼åå»ºå ä¸ªå¯¹è±¡ ç­ï¼ä¼åå»º2ä¸ªå¯¹è±¡\n> \n> é¦åï¼åºç°äºå­é¢é"hello"ï¼é£ä¹å»String Poolä¸­æ¥æ¾æ¯å¦æç¸åå­ç¬¦ä¸²å­å¨ï¼å ä¸ºç¨åºå°±è¿ä¸è¡ä»£ç æä»¥è¯å®æ²¡æï¼é£ä¹å°±å¨Java Heapä¸­ç¨å­é¢é"hello"é¦ååå»º1ä¸ªStringå¯¹è±¡ã\n> \n> æ¥çï¼new String("hello")ï¼å³é®å­newåå¨Java Heapä¸­åå»ºäº1ä¸ªå¯¹è±¡ï¼ç¶åè°ç¨æ¥æ¶String åæ°çæé å¨è¿è¡äºåå§åãæç»sçå¼ç¨æ¯è¿ä¸ªStringå¯¹è±¡.\n\n\n# StringBuilderåStringBuffer\n\n\n# 1ãæ¦è¿°\n\nãæ¼ç¤ºï¼æ¥çæºç åAPIææ¡£ã\n\npublic final class StringBuilder\n    extends AbstractStringBuilder\n    implements java.io.Serializable, CharSequence{\n    \n}\n\n\n1\n2\n3\n4\n5\n\n\nStringBuilder æ¯ä¸ä¸ªå¯åçå­ç¬¦åºåãå®ç»§æ¿äºAbstractStringBuilderï¼å®ç°äºCharSequenceæ¥å£ã StringBuffer ä¹æ¯ç»§æ¿äºAbstractStringBuilderçå­ç±»ï¼ ä½æ¯ï¼StringBuilderåStringBufferä¸åï¼åèæ¯éçº¿ç¨å®å¨çï¼åèæ¯çº¿ç¨å®å¨çã\n\nStringBuilder å CharSequenceä¹é´çå³ç³»å¾å¦ä¸ï¼\n\n\n\nãæºç æ¦è§ã\n\npackage java.lang;\npublic final class StringBuilder\n    extends AbstractStringBuilder\n    implements java.io.Serializable, CharSequence {\n    \n    static final long serialVersionUID = 4383685877147921099L;\n    // æé å½æ°ãé»è®¤çå­ç¬¦æ°ç»å¤§å°æ¯16ã\n    public StringBuilder() {\n        super(16);\n    }\n    \n    // æé å½æ°ãæå®StringBuilderçå­ç¬¦æ°ç»å¤§å°æ¯capacityã\n        public StringBuilder(int capacity) {\n        super(capacity);\n    }\n    \n    // æé å½æ°ãæå®å­ç¬¦æ°ç»å¤§å°=stré¿åº¦+15ï¼ä¸å°strçå¼èµå¼å°å½åå­ç¬¦æ°ç»ä¸­ã\n    public StringBuilder(String str) {\n        super(str.length() + 16);\n        append(str);\n    }\n    \n    // æé å½æ°ãæå®å­ç¬¦æ°ç»å¤§å°=seqé¿åº¦+15ï¼ä¸å°seqçå¼èµå¼å°å½åå­ç¬¦æ°ç»ä¸­ã\n    public StringBuilder(CharSequence seq) {\n        this(seq.length() + 16);\n        append(seq);\n    }\n    \n    // è¿½å âå¯¹è±¡objå¯¹åºçå­ç¬¦ä¸²âãString.valueOf(obj)å®éä¸æ¯è°ç¨obj.toString()\n    public StringBuilder append(Object obj) {\n        return append(String.valueOf(obj));\n    }\n    \n    // è¿½å âstrâã\n    public StringBuilder append(String str) {\n        super.append(str);\n        return this;\n    }\n    \n      // è¿½å âsbçåå®¹âã\n    private StringBuilder append(StringBuilder sb) {\n        if (sb == null)\n        \treturn append("null");\n        int len = sb.length();\n        int newcount = count + len;\n        if (newcount > value.length)\n        \texpandCapacity(newcount);\n        sb.getChars(0, len, value, count);\n        count = newcount;\n        return this;\n    }\n    \n    // è¿½å âsbçåå®¹âã\n    public StringBuilder append(StringBuffer sb) {\n        super.append(sb);\n        return this;\n    }\n    \n    // è¿½å âsçåå®¹âã\n    public StringBuilder append(CharSequence s) {\n        if (s == null)\n            s = "null";\n        if (s instanceof String)\n            return this.append((String)s);\n        if (s instanceof StringBuffer)\n            return this.append((StringBuffer)s);\n        if (s instanceof StringBuilder)\n            return this.append((StringBuilder)s);\n        return this.append(s, 0, s.length());\n    }\n\n    // è¿½å âsä»start(åæ¬)å°end(ä¸åæ¬)çåå®¹âã\n    public StringBuilder append(CharSequence s, int start, int end) {\n        super.append(s, start, end);\n        return this;\n    }\n    \n    // è¿½å âstrå­ç¬¦æ°ç»å¯¹åºçå­ç¬¦ä¸²â\n    public StringBuilder append(char[] str) {\n        super.append(str);\n        return this;\n    }\n    \n    // è¿½å âsträ»offsetå¼å§çåå®¹ï¼åå®¹é¿åº¦æ¯lenâ\n    public StringBuilder append(char[] str, int offset, int len) {\n        super.append(str, offset, len);\n        return this;\n    }\n    \n    // è¿½å âbå¯¹åºçå­ç¬¦ä¸²â\n    public StringBuilder append(boolean b) {\n        super.append(b);\n        return this;\n    }\n    \n    // è¿½å âcâ\n    public StringBuilder append(char c) {\n        super.append(c);\n        return this;\n    }\n    \n    // è¿½å âiâ\n    public StringBuilder append(int i) {\n        super.append(i);\n        return this;\n    }\n    \n    // è¿½å âlngâ\n    public StringBuilder append(long lng) {\n        super.append(lng);\n        return this;\n    }\n    \n    // è¿½å âfâ\n    public StringBuilder append(float f) {\n        super.append(f);\n        return this;\n    }\n    \n    // è¿½å âdâ\n    public StringBuilder append(double d) {\n        super.append(d);\n        return this;\n    }\n    \n    // è¿½å âcodePointâ\n    public StringBuilder appendCodePoint(int codePoint) {\n        super.appendCodePoint(codePoint);\n        return this;\n    }\n    \n    // å é¤âä»start(åæ¬)å°endçåå®¹â\n    public StringBuilder delete(int start, int end) {\n        super.delete(start, end);\n        return this;\n    }\n    \n    // å é¤âä½ç½®indexçåå®¹â\n    public StringBuilder deleteCharAt(int index) {\n        super.deleteCharAt(index);\n        return this;\n    }\n    \n    // âç¨stræ¿æ¢StringBuilderä¸­ä»start(åæ¬)å°end(ä¸åæ¬)çåå®¹â\n    public StringBuilder replace(int start, int end, String str) {\n        super.replace(start, end, str);\n        return this;\n    }\n    \n    // âå¨StringBuilderçä½ç½®indexå¤æå¥âsträ¸­ä»offsetå¼å§çåå®¹âï¼æå¥åå®¹é¿åº¦æ¯lenâ\n    public StringBuilder insert(int index, char[] str, int offset,\n    int len)\n    {\n        super.insert(index, str, offset, len);\n        return this;\n    }\n    \n    // âå¨StringBuilderçä½ç½®offsetå¤æå¥objå¯¹åºçå­ç¬¦ä¸²â\n    public StringBuilder insert(int offset, Object obj) {\n    \treturn insert(offset, String.valueOf(obj));\n    }\n    \n    // âå¨StringBuilderçä½ç½®offsetå¤æå¥strâ\n    public StringBuilder insert(int offset, String str) {\n        super.insert(offset, str);\n        return this;\n    }\n    \n    // âå¨StringBuilderçä½ç½®offsetå¤æå¥strâ\n    public StringBuilder insert(int offset, char[] str) {\n        super.insert(offset, str);\n        return this;\n    }\n    \n    // âå¨StringBuilderçä½ç½®dstOffsetå¤æå¥sâ\n    public StringBuilder insert(int dstOffset, CharSequence s) {\n        if (s == null)\n       \t \ts = "null";\n        if (s instanceof String)\n        \treturn this.insert(dstOffset, (String)s);\n        return this.insert(dstOffset, s, 0, s.length());\n    }\n    \n    // âå¨StringBuilderçä½ç½®dstOffsetå¤æå¥\'sä¸­ä»startå°endçåå®¹\'â\n    public StringBuilder insert(int dstOffset, CharSequence s,\n    int start, int end)\n    {\n        super.insert(dstOffset, s, start, end);\n        return this;\n    }\n    \n    // âå¨StringBuilderçä½ç½®Offsetå¤æå¥bâ\n    public StringBuilder insert(int offset, boolean b) {\n        super.insert(offset, b);\n        return this;\n    }\n    \n    // âå¨StringBuilderçä½ç½®Offsetå¤æå¥câ\n    public StringBuilder insert(int offset, char c) {\n        super.insert(offset, c);\n        return this;\n    }\n    \n    // âå¨StringBuilderçä½ç½®Offsetå¤æå¥iâ\n    public StringBuilder insert(int offset, int i) {\n    \treturn insert(offset, String.valueOf(i));\n    }\n\n    // âå¨StringBuilderçä½ç½®Offsetå¤æå¥lâ\n    public StringBuilder insert(int offset, long l) {\n    \treturn insert(offset, String.valueOf(l));\n    }\n    \n    // âå¨StringBuilderçä½ç½®Offsetå¤æå¥fâ\n    public StringBuilder insert(int offset, float f) {\n    \treturn insert(offset, String.valueOf(f));\n    }\n    \n    // âå¨StringBuilderçä½ç½®Offsetå¤æå¥dâ\n    public StringBuilder insert(int offset, double d) {\n   \t\t return insert(offset, String.valueOf(d));\n    }\t\n    \n    // è¿åâstrâå¨StringBuilderçä½ç½®\n    public int indexOf(String str) {\n   \t\t return indexOf(str, 0);\n    }\n    \n    // ä»fromIndexå¼å§æ¥æ¾ï¼è¿åâstrâå¨StringBuilderçä½ç½®\n    public int indexOf(String str, int fromIndex) {\n        return String.indexOf(value, 0, count,\n        \tstr.toCharArray(), 0, str.length(),fromIndex);\n    }\n    \n    // ä»åååæ¥æ¾ï¼è¿åâstrâå¨StringBuilderçä½ç½®\n    public int lastIndexOf(String str) {\n   \t\t return lastIndexOf(str, count);\n    }\n    \n    // ä»fromIndexå¼å§ï¼ä»åååæ¥æ¾ï¼è¿åâstrâå¨StringBuilderçä½ç½®\n    public int lastIndexOf(String str, int fromIndex) {\n    return String.lastIndexOf(value, 0, count,\n    \tstr.toCharArray(), 0, str.length(),fromIndex);\n    }\n    \n    // åè½¬StringBuilder\n    public StringBuilder reverse() {\n        super.reverse();\n        return this;\n    }\n    \n    public String toString() {\n    // Create a copy, don\'t share the array\n    \treturn new String(value, 0, count);\n    }\n    \n    // åºååå¯¹åºçåå¥å½æ°\n    private void writeObject(java.io.ObjectOutputStream s)\n        throws java.io.IOException {\n            s.defaultWriteObject();\n            s.writeInt(count);\n            s.writeObject(value);\n    }\n    \n        // åºååå¯¹åºçè¯»åå½æ°\n    private void readObject(java.io.ObjectInputStream s)\n        throws java.io.IOException, ClassNotFoundException {\n            s.defaultReadObject();\n            count = s.readInt();\n            value = (char[]) s.readObject();\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n157\n158\n159\n160\n161\n162\n163\n164\n165\n166\n167\n168\n169\n170\n171\n172\n173\n174\n175\n176\n177\n178\n179\n180\n181\n182\n183\n184\n185\n186\n187\n188\n189\n190\n191\n192\n193\n194\n195\n196\n197\n198\n199\n200\n201\n202\n203\n204\n205\n206\n207\n208\n209\n210\n211\n212\n213\n214\n215\n216\n217\n218\n219\n220\n221\n222\n223\n224\n225\n226\n227\n228\n229\n230\n231\n232\n233\n234\n235\n236\n237\n238\n239\n240\n241\n242\n243\n244\n245\n246\n247\n248\n249\n250\n251\n252\n253\n254\n255\n256\n257\n258\n259\n260\n261\n262\n263\n264\n265\n266\n267\n268\n269\n270\n271\n\n\n\n# 2ãå¸¸ç¨æ¹æ³\n\n# insert\n\npublic static void main(String[] args) {\n    StringBuilder sbuilder = new StringBuilder();\n    // å¨ä½ç½®0å¤æå¥å­ç¬¦æ°ç»\n    sbuilder.insert(0, new char[]{\'a\', \'b\', \'c\', \'d\', \'e\'});\n    // å¨ä½ç½®0å¤æå¥å­ç¬¦æ°ç»ã0è¡¨ç¤ºå­ç¬¦æ°ç»èµ·å§ä½ç½®ï¼3è¡¨ç¤ºé¿åº¦\n    sbuilder.insert(0, new char[]{\'A\', \'B\', \'C\', \'D\', \'E\'}, 0, 3);\n    // å¨ä½ç½®0å¤æå¥float\n    sbuilder.insert(0, 1.414f);\n    // å¨ä½ç½®0å¤æå¥double\n    sbuilder.insert(0, 3.14159d);\n    // å¨ä½ç½®0å¤æå¥boolean\n    sbuilder.insert(0, true);\n    // å¨ä½ç½®0å¤æå¥char\n    sbuilder.insert(0, \'\\n\');\n    // å¨ä½ç½®0å¤æå¥int\n    sbuilder.insert(0, 100);\n    // å¨ä½ç½®0å¤æå¥long\n    sbuilder.insert(0, 12345L);\n    // å¨ä½ç½®0å¤æå¥StringBuilderå¯¹è±¡\n    sbuilder.insert(0, new StringBuilder("StringBuilder"));\n    // å¨ä½ç½®0å¤æå¥StringBuilderå¯¹è±¡ã6è¡¨ç¤ºè¢«å¨ä½ç½®0å¤æå¥å¯¹è±¡çèµ·å§ä½ç½®(åæ¬)ï¼13æ¯ç»æä½ç½®(ä¸åæ¬)\n    sbuilder.insert(0, new StringBuilder("STRINGBUILDER"), 6, 13);\n    // å¨ä½ç½®0å¤æå¥StringBufferå¯¹è±¡ã\n    sbuilder.insert(0, new StringBuffer("StringBuffer"));\n    // å¨ä½ç½®0å¤æå¥StringBufferå¯¹è±¡ã6è¡¨ç¤ºè¢«å¨ä½ç½®0å¤æå¥å¯¹è±¡çèµ·å§ä½ç½®(åæ¬)ï¼12æ¯ç»æä½ç½®(ä¸åæ¬)\n    sbuilder.insert(0, new StringBuffer("STRINGBUFFER"), 6, 12);\n    // å¨ä½ç½®0å¤æå¥Stringå¯¹è±¡ã\n    sbuilder.insert(0, "String");\n    // å¨ä½ç½®0å¤æå¥Stringå¯¹è±¡ã1è¡¨ç¤ºè¢«å¨ä½ç½®0å¤æå¥å¯¹è±¡çèµ·å§ä½ç½®(åæ¬)ï¼6æ¯ç»æä½ç½®(ä¸åæ¬)\n    sbuilder.insert(0, "0123456789", 1, 6);\n    sbuilder.insert(0, \'\\n\');\n    \n    // å¨ä½ç½®0å¤æå¥Objectå¯¹è±¡ãæ­¤å¤ä»¥HashMapä¸ºä¾\n    HashMap map = new HashMap();\n    map.put("1", "one");\n    map.put("2", "two");\n    map.put("3", "three");\n    \n    sbuilder.insert(0, map);\n    \n    System.out.printf("%s\\n\\n", sbuilder);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n\n# append\n\npublic static void main(String[] args) {\n    StringBuilder sbuilder = new StringBuilder();\n    // è¿½å å­ç¬¦æ°ç»\n    sbuilder.append(new char[]{\'a\', \'b\', \'c\', \'d\', \'e\'});\n    // è¿½å å­ç¬¦æ°ç»ã0è¡¨ç¤ºå­ç¬¦æ°ç»èµ·å§ä½ç½®ï¼3è¡¨ç¤ºé¿åº¦\n    sbuilder.append(new char[]{\'A\', \'B\', \'C\', \'D\', \'E\'}, 0, 3);\n    // è¿½å float\n    sbuilder.append(1.414f);\n    // è¿½å double\n    sbuilder.append(3.14159d);\n    // è¿½å boolean\n    sbuilder.append(true);\n    // è¿½å char\n    sbuilder.append(\'\\n\');\n    // è¿½å int\n    sbuilder.append(100);\n    // è¿½å long\n    sbuilder.append(12345L);\n    // è¿½å StringBuilderå¯¹è±¡\n    sbuilder.append(new StringBuilder("StringBuilder"));\n    // è¿½å StringBuilderå¯¹è±¡ã6è¡¨ç¤ºè¢«è¿½å å¯¹è±¡çèµ·å§ä½ç½®(åæ¬)ï¼13æ¯ç»æä½ç½®(ä¸åæ¬)\n    sbuilder.append(new StringBuilder("STRINGBUILDER"), 6, 13);\n    // è¿½å StringBufferå¯¹è±¡ã\n    sbuilder.append(new StringBuffer("StringBuffer"));\n    // è¿½å StringBufferå¯¹è±¡ã6è¡¨ç¤ºè¢«è¿½å å¯¹è±¡çèµ·å§ä½ç½®(åæ¬)ï¼12æ¯ç»æä½ç½®(ä¸åæ¬)\n    sbuilder.append(new StringBuffer("STRINGBUFFER"), 6, 12);\n    // è¿½å Stringå¯¹è±¡ã\n    sbuilder.append("String");\n    // è¿½å Stringå¯¹è±¡ã1è¡¨ç¤ºè¢«è¿½å å¯¹è±¡çèµ·å§ä½ç½®(åæ¬)ï¼6æ¯ç»æä½ç½®(ä¸åæ¬)\n    sbuilder.append("0123456789", 1, 6);\n\n    sbuilder.append(\'\\n\');\n\n    // è¿½å Objectå¯¹è±¡ãæ­¤å¤ä»¥HashMapä¸ºä¾\n    HashMap map = new HashMap();\n    map.put("1", "one");\n    map.put("2", "two");\n    map.put("3", "three");\n    sbuilder.append(map);\n    sbuilder.append(\'\\n\');\n\n    // è¿½å unicodeç¼ç \n    sbuilder.appendCodePoint(0x5b57); // 0x5b57æ¯âå­âçunicodeç¼ç \n    sbuilder.appendCodePoint(0x7b26); // 0x7b26æ¯âç¬¦âçunicodeç¼ç \n    sbuilder.appendCodePoint(0x7f16); // 0x7f16æ¯âç¼âçunicodeç¼ç \n    sbuilder.appendCodePoint(0x7801); // 0x7801æ¯âç âçunicodeç¼ç \n\n    System.out.printf("%s\\n\\n", sbuilder);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n\n\n# replace\n\npublic static void main(String[] args) {\n    StringBuilder sbuilder;\n    \n    sbuilder = new StringBuilder("0123456789");\n    sbuilder.replace(0, 3, "ABCDE");\n    System.out.printf("sbuilder=%s\\n", sbuilder);\n\n    sbuilder = new StringBuilder("0123456789");\n    sbuilder.reverse();\n    System.out.printf("sbuilder=%s\\n", sbuilder);\n\n    sbuilder = new StringBuilder("0123456789");\n    sbuilder.setCharAt(0, \'M\');\n    System.out.printf("sbuilder=%s\\n", sbuilder);\n    System.out.println();\n    /*\n    sbuilder=ABCDE3456789\n    sbuilder=9876543210\n    sbuilder=M123456789\n*/\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n# delete\n\npublic static void main(String[] args) {\n    StringBuilder sbuilder = new StringBuilder("0123456789");\n\n    // å é¤ä½ç½®0çå­ç¬¦ï¼å©ä½å­ç¬¦æ¯â123456789âã\n    sbuilder.deleteCharAt(0);\n    // å é¤ä½ç½®3(åæ¬)å°ä½ç½®6(ä¸åæ¬)ä¹é´çå­ç¬¦ï¼å©ä½å­ç¬¦æ¯â123789âã\n    sbuilder.delete(3, 6);\n\n    // è·åsbä¸­ä»ä½ç½®1å¼å§çå­ç¬¦ä¸²\n    String str1 = sbuilder.substring(1);\n    // è·åsbä¸­ä»ä½ç½®3(åæ¬)å°ä½ç½®5(ä¸åæ¬)ä¹é´çå­ç¬¦ä¸²\n    String str2 = sbuilder.substring(3, 5);\n    // è·åsbä¸­ä»ä½ç½®3(åæ¬)å°ä½ç½®5(ä¸åæ¬)ä¹é´çå­ç¬¦ä¸²ï¼è·åçå¯¹è±¡æ¯CharSequenceå¯¹è±¡ï¼æ­¤å¤è½¬åä¸ºString\n    String str3 = (String) sbuilder.subSequence(3, 5);\n    \n    System.out.printf("sbuilder=%s\\nstr1=%s\\nstr2=%s\\nstr3=%s\\n",\n            sbuilder, str1, str2, str3);\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n# index\n\npublic static void main(String[] args) {\n    StringBuilder sbuilder = new StringBuilder("abcAbcABCabCaBcAbCaBCabc");\n    \n    System.out.printf("sbuilder=%s\\n", sbuilder);\n    \n    // 1. ä»åå¾åï¼æ¾åº"bc"ç¬¬ä¸æ¬¡åºç°çä½ç½®\n    System.out.printf("%-30s = %d\\n", "sbuilder.indexOf(\\"bc\\")", sbuilder.indexOf("bc"));\n    \n    // 2. ä»ä½ç½®5å¼å§ï¼ä»åå¾åï¼æ¾åº"bc"ç¬¬ä¸æ¬¡åºç°çä½ç½®\n    System.out.printf("%-30s = %d\\n", "sbuilder.indexOf(\\"bc\\", 5)", sbuilder.indexOf("bc", 5));\n    \n    // 3. ä»åå¾åï¼æ¾åº"bc"ç¬¬ä¸æ¬¡åºç°çä½ç½®\n    System.out.printf("%-30s = %d\\n", "sbuilder.lastIndexOf(\\"bc\\")", sbuilder.lastIndexOf("bc"));\n    \n    // 4. ä»ä½ç½®4å¼å§ï¼ä»åå¾åï¼æ¾åº"bc"ç¬¬ä¸æ¬¡åºç°çä½ç½®\n    System.out.printf("%-30s = %d\\n", "sbuilder.lastIndexOf(\\"bc\\", 4)", sbuilder.lastIndexOf("bc", 4));\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n# å¶ä»API\n\npublic static void main(String[] args) {\n    StringBuilder sbuilder = new StringBuilder("0123456789");\n\n    int cap = sbuilder.capacity();\n    System.out.printf("cap=%d\\n", cap);\n\n    /*\n    capacity()è¿åçæ¯å­ç¬¦ä¸²ç¼å²åºçå®¹é\n    StringBuffer( ); åé16ä¸ªå­ç¬¦çç¼å²åº\n    StringBuffer( int len ); åélenä¸ªå­ç¬¦çç¼å²åº\n    StringBuffer( String s ); é¤äºæç§sçå¤§å°åéç©ºé´å¤,ååé16ä¸ª å­ç¬¦çç¼å²åº\n    ä½ çStringBufferæ¯ç¨å­ç¬¦æé çï¼"0123456789"çé¿åº¦æ¯10å¦å¤ååé16ä¸ªå­ç¬¦ï¼æä»¥ä¸å±æ¯26ã\n    */\n\n    char c = sbuilder.charAt(6);\n    System.out.printf("c=%c\\n", c);\n    \n    char[] carr = new char[4];\n    sbuilder.getChars(3, 7, carr, 0);\n    for (int i = 0; i < carr.length; i++) {\n        System.out.printf("carr[%d]=%c ", i, carr[i]);\n    }\n    System.out.println();\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# 3ãStringBuffer\n\nåStringBuliderç¨æ³å·®ä¸å¤ï¼ä¸è¿å¤ä»ç»ï¼ä¸»è¦çä¸ä¸ä¸èçåºå«\n\nStringBufferæ¯çº¿ç¨å®å¨çï¼æ¨èå¨å¤çº¿ç¨éä½¿ç¨ã\n\n\n# 4ãå°ç»\n\nStringãStringBufferãStringBuilderä¹é´çåºå«\n\né¦åéè¦è¯´æçæ¯ï¼\n\n * String å­ç¬¦ä¸²å¸¸é\n * StringBuffer å­ç¬¦ä¸²åéï¼çº¿ç¨å®å¨ï¼\n * StringBuilder å­ç¬¦ä¸²åéï¼éçº¿ç¨å®å¨ï¼\n\nå¨å¤§å¤æ°æåµä¸ä¸èå¨æ§è¡éåº¦æ¹é¢çæ¯è¾ï¼StringBuilder > StringBuffer > String\n\nè§£éï¼\n\nString ç±»åå StringBuffer ç±»åçä¸»è¦æ§è½åºå«å¶å®å¨äº String æ¯ä¸å¯åçå¯¹è±¡ï¼å æ­¤å¨æ¯æ¬¡å¯¹ String ç±»åè¿è¡æ¹åçæ¶åå¶å®é½ç­åäºçæäºä¸ä¸ªæ°ç String å¯¹è±¡ï¼ç¶åå°æéæåæ°ç String å¯¹è±¡ï¼æä»¥ç»å¸¸æ¹ååå®¹çå­ç¬¦ä¸²æå¥½ä¸è¦ç¨ String ï¼å ä¸ºæ¯æ¬¡çæå¯¹è±¡é½ä¼å¯¹ç³»ç»æ§è½äº§çå½±åï¼ç¹å«å½åå­ä¸­æ å¼ç¨å¯¹è±¡å¤äºä»¥åï¼ JVM ç GC å°±ä¼å¼å§å·¥ä½ï¼é£éåº¦æ¯ä¸å®ä¼ç¸å½æ¢çã\n\nèå¦ææ¯ä½¿ç¨ StringBuffer ç±»åç»æå°±ä¸ä¸æ ·äºï¼æ¯æ¬¡ç»æé½ä¼å¯¹ StringBuffer å¯¹è±¡æ¬èº«è¿è¡æä½ï¼èä¸æ¯çææ°çå¯¹è±¡ï¼åæ¹åå¯¹è±¡å¼ç¨ãæä»¥å¨ä¸è¬æåµä¸æä»¬æ¨èä½¿ç¨ StringBuffer ï¼ç¹å«æ¯å­ç¬¦ä¸²å¯¹è±¡ç»å¸¸æ¹åçæåµä¸ã\n\nä¸ºä»ä¹æ¯å¤§å¤æ°æåµå¢ï¼\n\nå¨æäºç¹å«æåµä¸ï¼ String å¯¹è±¡çå­ç¬¦ä¸²æ¼æ¥å¶å®æ¯è¢« JVM è§£éæäº StringBuffer å¯¹è±¡çæ¼æ¥ï¼ æä»¥è¿äºæ¶å String å¯¹è±¡çéåº¦å¹¶ä¸ä¼æ¯ StringBuffer å¯¹è±¡æ¢ï¼èç¹å«æ¯ä»¥ä¸çå­ç¬¦ä¸²å¯¹è±¡çæä¸­ï¼ String æçæ¯è¿è¦æ¯ StringBuffer å¿«çï¼\n\nString S1 = âThis is only aâ + â simpleâ + â testâ;\nStringBuffer Sb = new StringBuilder(âThis is only aâ).append(âsimpleâ).append(â testâ);\n\n\n1\n2\n\n\nä½ ä¼å¾æè®¶çåç°ï¼çæ String S1 å¯¹è±¡çéåº¦ç®ç´å¤ªå¿«äºï¼èè¿ä¸ªæ¶å StringBuffer å±ç¶éåº¦ä¸æ ¹æ¬ ä¸ç¹é½ä¸å ä¼å¿ãå¶å®è¿æ¯ JVM çä¸ä¸ªææï¼å¨ JVM ç¼éï¼è¿ä¸ª\n\nString S1 = âThis is only aâ + â simpleâ + âtestâ;\n\nå¶å®å°±æ¯ï¼String S1 = âThis is only a simple testâ;\n\næä»¥å½ç¶ä¸éè¦å¤ªå¤çæ¶é´äºãä½å¤§å®¶è¿éè¦æ³¨æçæ¯ï¼å¦æä½ çå­ç¬¦ä¸²æ¯æ¥èªå¦å¤ç String å¯¹è±¡ çè¯ï¼éåº¦å°±æ²¡é£ä¹å¿«äºï¼è­¬å¦ï¼\n\n> String S2 = âThis is only aâ; String S3 = â simpleâ; String S4 = â testâ;\n\nå¤§é¨åæåµä¸StringBuilderçéåº¦è¦å¤§äºStringBufferï¼\n\njava.lang.StringBuilderä¸ä¸ªå¯åçå­ç¬¦åºåæ¯5.0æ°å¢çãï¼å¤§å¤æ°æåµä¸å°±æ¯æä»¬æ¯å¨åçº¿ç¨ä¸è¿è¡çæä½ï¼æä»¥å¤§å¤æ°æåµä¸æ¯å»ºè®®ç¨StringBuilderèä¸ç¨StringBufferçï¼æ­¤ç±»æä¾ä¸ä¸ªä¸ StringBuffer å¼å®¹ç APIï¼ä½ä¸ä¿è¯åæ­¥ãè¯¥ç±»è¢«è®¾è®¡ç¨ä½ StringBuffer çä¸ä¸ªç®ææ¿æ¢ï¼ç¨å¨å­ç¬¦ä¸²ç¼å²åºè¢«åä¸ª çº¿ç¨ä½¿ç¨çæ¶åï¼è¿ç§æåµå¾æ®éï¼ãå¦æå¯è½ï¼å»ºè®®ä¼åéç¨è¯¥ç±»ï¼å ä¸ºå¨å¤§å¤æ°å®ç°ä¸­ï¼å®æ¯ StringBuffer è¦å¿«ãä¸¤èçæ¹æ³åºæ¬ç¸åã\n\nå¯¹äºä¸èä½¿ç¨çæ»ç»ï¼\n\n * å¦æè¦æä½å°éçæ°æ®ç¨ ï¼String\n * åçº¿ç¨æä½å­ç¬¦ä¸²ç¼å²åº ä¸æä½å¤§éæ°æ® ï¼StringBuilder\n * å¤çº¿ç¨æä½å­ç¬¦ä¸²ç¼å²åº ä¸æä½å¤§éæ°æ® ï¼ StringBuffer\n\n\n# 5ãé¢è¯é¢çåç­\n\nStringBuilder ä¸StringBufferçåºå«ï¼StringBuilderä¸Stringçåºå«ã\n\n1ï¼StringBuilderæçé«ï¼çº¿ç¨ä¸å®å¨ï¼StringBufferå¯¹æ¯ä¹ä¸æ²¡å®é«ï¼çº¿ç¨å®å¨ã\n\n2ï¼Stringæ¯ä¸å¯åå­ç¬¦ä¸²ï¼StringBuilderæ¯å¯åå­ç¬¦ä¸²ãä¸ºä»ä¹æè¿æ ·çå·®å¼ï¼å¯ä»¥æ·±å¥æºç å»è§£æï¼ æ¯å¦Stringç±»åç priver final char value[] ç­æ¹æ³çåå ã\n\n3ï¼å¦ææ¯ç®åçå£°æä¸ä¸ªå­ç¬¦ä¸²æ²¡æåç»­è¿å¤çæä½ï¼ä½¿ç¨String,StringBuilderåå¯ï¼è¥åç»­å¯¹å­ç¬¦ç©¿åé¢ç¹çæ·»å ï¼å é¤æä½,æèæ¯å¨å¾ªç¯å½ä¸­å¨æçæ¹åå­ç¬¦ç©¿çé¿åº¦åºè¯¥ç¨StringBuilderãä½¿ç¨String ä¼äº§çå¤ä½çå­ç¬¦ä¸²ï¼å ç¨åå­ç©ºé´ã\n\n\n# Fileç±»\n\n\n# 1ãFileç±»çåºæ¬ç¨æ³\n\njava.io.Fileç±»ï¼æä»¶åç®å½è·¯å¾åçæ½è±¡è¡¨ç¤ºå½¢å¼ã\n\nFileç±»çå¸¸è§æé æ¹æ³ï¼\n\npublic File(String pathname)\n\n\n1\n\n\nä»¥pathnameä¸ºè·¯å¾åå»ºFileå¯¹è±¡ï¼å¦æpathnameæ¯ç¸å¯¹è·¯å¾ï¼åé»è®¤çå½åè·¯å¾å¨ç³»ç»å±æ§user.dir ä¸­å­å¨ã\n\nFileçéæå±æ§String separatorå­å¨äºå½åç³»ç»çè·¯å¾åéç¬¦ã\n\néè¿Fileå¯¹è±¡å¯ä»¥è®¿é®æä»¶çå±æ§ã\n\npublic boolean canRead()\npublic boolean exists()\npublic boolean isFile()\npublic long lastModified()\npublic String getName()\npublic boolean canWrite()\npublic boolean isDirectory()\npublic boolean isHidden()\npublic long length()\npublic String getPath()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\néè¿Fileå¯¹è±¡åå»ºç©ºæä»¶æç®å½ï¼å¨è¯¥å¯¹è±¡ææçæä»¶æç®å½ä¸å­å¨çæåµä¸ï¼ã\n\npublic boolean createNewFile()throws IOException\npublic boolean delete()\npublic boolean mkdir()ï¼ mkdirs()\n\n\n1\n2\n3\n\n\nå¸¸è§æé å¨ï¼æ¹æ³\n\nimport java.io.File;\nimport java.io.IOException;\npublic class TestFile {\n    /**\n    * Fileæä»¶ç±» 1.ä»£è¡¨æä»¶ 2.ä»£è¡¨ç®å½\n    */\n    public static void main(String[] args) {\n        File f = new File("d:/src3/TestObject.java");\n        File f2 = new File("d:/src3");\n        File f3 = new File(f2, "TestFile.java");\n        File f4 = new File(f2, "TestFile666.java");\n        File f5 = new File("d:/src3/aa/bb/cc/dd");\n        //f5.mkdirs();\n        f5.delete();\n\n        try {\n            f4.createNewFile();\n            System.out.println("æä»¶åå»ºæåï¼");\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        if (f.isFile()) {\n            System.out.println("æ¯ä¸ä¸ªæä»¶ï¼");\n        }\n        if (f2.isDirectory()) {\n            System.out.println("æ¯ä¸ä¸ªç®å½ï¼");\n        }\n        if (f3.isFile()) {\n            System.out.println("æ¯ä¸ä¸ªæä»¶å¥¥");\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n',normalizedContent:'# javase-å¸¸ç¨ç±»\n\n\n\n * objectç±»\n   * 1 clone() æ¹æ³\n   * 2 tostring()æ¹æ³\n   * 3 getclass()æ¹æ³\n   * 4 finalize()æ¹æ³\n   * 5 equals()æ¹æ³\n   * 6 hashcode()æ¹æ³\n   * 7 wait()æ¹æ³\n   * 8 notify()æ¹æ³\n * åè£ç±»\n   * 1ãåè£ç±»ä»ç»\n   * 2ãåè£ç±»çåºç¨\n   * 3ãå°æ´æ°è½¬æ¢ä¸ºå­ç¬¦ä¸²\n   * 3ãèªå¨æç®±åè£ç®±\n * mathç±»\n * randomç±»\n * æ¥ææ¶é´ç±»\n   * 1 dateç±»\n   * 2ãsimpledateformat\n   * 3ãcalendarç±»\n * stringç±»\n   * 1ãstringæ¦è¿°\n   * 2ãåå»ºå­ç¬¦ä¸²å¯¹è±¡æ¹å¼\n   * 3ãstringå¸¸ç¨çæ¹æ³\n   * 4ãstringçä¸å¯åæ§\n   * 5ãå­ç¬¦ä¸²å¸¸éæ± \n * stringbuilderåstringbuffer\n   * 1ãæ¦è¿°\n   * 2ãå¸¸ç¨æ¹æ³\n   * 3ãstringbuffer\n   * 4ãå°ç»\n   * 5ãé¢è¯é¢çåç­\n * fileç±»\n   * 1ãfileç±»çåºæ¬ç¨æ³\n\n\n\n\n# objectç±»\n\nçè®ºä¸objectç±»æ¯ææç±»çç¶ç±»ï¼å³ç´æ¥æé´æ¥çç»§æ¿java.lang.objectç±»ã\n\nç±äºææçç±»é½ç»§æ¿å¨objectç±»ï¼å æ­¤çç¥äºextends objectå³é®å­ã\n\nè¯¥ç±»ä¸­ä¸»è¦æä»¥ä¸æ¹æ³ï¼\n\n * tostring( )\n * getclass( )\n * equals( )\n * clone( )\n * finalize( )\n\nå¶ä¸­tostring()ï¼getclass()ï¼equalsæ¯å¶ä¸­æéè¦çæ¹æ³ã\n\næ¥çobjectç±»æºç \n\n\n\nçå¾å¯ç¥ï¼å¨jdk15ä¸­æåä¸ä¸ªæ¹æ³è¿æ¶äºï¼ä½æä»¬è¿è¥ä¸è¬é½æ¯jdk1.8\n\næ³¨æï¼ objectç±»ä¸­çgetclass(),notify(),notifyall(),wait()ç­æ¹æ³è¢«å®ä¹ä¸ºfinalç±»åï¼å æ­¤ä¸è½éåã\n\n\n# 1 clone() æ¹æ³\n\nè¯¦è§£æç« ï¼https://blog.csdn.net/zhangjg_blog/article/details/18369201#0-qzone-1-28144-d020d2d2a4e8d1a374a433f596ad1440\n\n protected native object clone() throws clonenotsupportedexception;\n\n\n1\n\n\ncloneé¡¾åæä¹å°±æ¯å¤å¶ï¼ å¨javaè¯­è¨ä¸­ï¼ cloneæ¹æ³è¢«å¯¹è±¡è°ç¨ï¼æä»¥ä¼å¤å¶å¯¹è±¡ãæè°çå¤å¶å¯¹è±¡ï¼é¦åè¦åéä¸ä¸ªåæºå¯¹è±¡åæ ·å¤§å°çç©ºé´ï¼å¨è¿ä¸ªç©ºé´ä¸­åå»ºä¸ä¸ªæ°çå¯¹è±¡ãé£ä¹å¨javaè¯­è¨ä¸­ï¼æå ç§æ¹å¼å¯ä»¥åå»ºå¯¹è±¡å¢ï¼\n\n * ä½¿ç¨newæä½ç¬¦åå»ºä¸ä¸ªå¯¹è±¡\n * ä½¿ç¨cloneæ¹æ³å¤å¶ä¸ä¸ªå¯¹è±¡\n\né£ä¹è¿ä¸¤ç§æ¹å¼æä»ä¹ç¸ååä¸åå¢ï¼ newæä½ç¬¦çæ¬ææ¯åéåå­ãç¨åºæ§è¡å°newæä½ç¬¦æ¶ï¼ é¦åå»çnewæä½ç¬¦åé¢çç±»åï¼å ä¸ºç¥éäºç±»åï¼æè½ç¥éè¦åéå¤å¤§çåå­ç©ºé´ãåéå®åå­ä¹åï¼ åè°ç¨æé å½æ°ï¼å¡«åå¯¹è±¡çåä¸ªåï¼è¿ä¸æ­¥å«åå¯¹è±¡çåå§åï¼æé æ¹æ³è¿ååï¼ä¸ä¸ªå¯¹è±¡åå»ºå®æ¯ï¼å¯ä»¥æä»çå¼ç¨ï¼å°åï¼åå¸å°å¤é¨ï¼å¨å¤é¨å°±å¯ä»¥ä½¿ç¨è¿ä¸ªå¼ç¨æçºµè¿ä¸ªå¯¹è±¡ãècloneå¨ç¬¬ä¸æ­¥æ¯ånewç¸ä¼¼çï¼ é½æ¯åéåå­ï¼è°ç¨cloneæ¹æ³æ¶ï¼åéçåå­åæºå¯¹è±¡ï¼å³è°ç¨cloneæ¹æ³çå¯¹è±¡ï¼ç¸åï¼ç¶ååä½¿ç¨åå¯¹è±¡ä¸­å¯¹åºçåä¸ªåï¼å¡«åæ°å¯¹è±¡çåï¼å¡«åå®æä¹åï¼cloneæ¹æ³è¿åï¼ä¸ä¸ªæ°çç¸åçå¯¹è±¡è¢«åå»ºï¼åæ ·å¯ä»¥æè¿ä¸ªæ°å¯¹è±¡çå¼ç¨åå¸å°å¤é¨ã\n\ncloneä¸copyçåºå«\n\nåè®¾ç°å¨æä¸ä¸ªemployeeå¯¹è±¡ï¼employee tobby = new employee(âcmtobbyâ,5000)\n\néå¸¸æä»¬ä¼æè¿æ ·çèµå¼employee cindyelf = tobbyï¼è¿ä¸ªæ¶ååªæ¯ç®åäºcopyäºä¸ä¸referenceãcindyelfåtobbyé½æååå­ä¸­åä¸ä¸ªobjectï¼è¿æ ·cindyelfæètobbyçä¸ä¸ªæä½é½å¯è½å½±åå°å¯¹æ¹ãæä¸ªæ¯æ¹ï¼å¦ææä»¬éè¿cindyelf.raisesalary()æ¹æ³æ¹åäºsalaryåçå¼ï¼é£ä¹tobbyéè¿getsalary()æ¹æ³ï¼å¾å°çå°±æ¯ä¿®æ¹ä¹åçsalaryåçå¼ï¼æ¾ç¶è¿ä¸æ¯æä»¬æ¿æçå°çãæä»¬å¸æå¾å°tobbyçä¸ä¸ªç²¾ç¡®æ·è´ï¼åæ¶ä¸¤èäºä¸å½±åï¼è¿æ¶åï¼ æä»¬å°±å¯ä»¥ä½¿ç¨cloneæ¥æ»¡è¶³æä»¬çéæ±ãemployee cindy=tobby.clone()ï¼è¿æ¶ä¼çæä¸ä¸ªæ°çemployeeå¯¹è±¡ï¼å¹¶ä¸åtobbyå·æç¸åçå±æ§å¼åæ¹æ³ã\n\nshallow cloneä¸deep clone\n\næµåéåæ·±åé\n\n * æµåéï¼\n   \n   æ¯ææ·è´å¯¹è±¡æ¶ä»ä»æ·è´å¯¹è±¡æ¬èº«ï¼åæ¬å¯¹è±¡ä¸­çåºæ¬åéï¼ï¼èä¸æ·è´å¯¹è±¡åå«çå¼ç¨æåçå¯¹è±¡ã\n\n * æ·±åéï¼\n   \n   ä¸ä»æ·è´å¯¹è±¡æ¬èº«ï¼èä¸æ·è´å¯¹è±¡åå«çå¼ç¨æåçææå¯¹è±¡ã\n\nä¸¾ä¾æ¥è¯´æ´å æ¸æ¥ã\n\n\n\nä¸»è¦æ¯javaéé¤äº8ç§åºæ¬ç±»åä¼ åæ°æ¯å¼ä¼ éï¼å¶ä»çç±»å¯¹è±¡ä¼ åæ°é½æ¯å¼ç¨ï¼æä»¬ææ¶åä¸å¸æå¨æ¹æ³éå°åæ°æ¹åï¼è¿æ¯å°±éè¦å¨ç±»ä¸­å¤åcloneæ¹æ³ï¼å®ç°æ·±å¤å¶ï¼ã\n\ncloneæ¯å¦ä½å®æçå¢ï¼objectå¨å¯¹æä¸ªå¯¹è±¡å®æ½cloneæ¶å¯¹å¶æ¯ä¸æ æç¥çï¼å®ä»ä»æ¯ç®åå°æ§è¡åå¯¹åçcopyï¼è¿å°±æ¯shallow cloneãè¿æ ·ï¼é®é¢å°±æ¥äºå¯ã\n\nä»¥employeeä¸ºä¾ï¼å®éé¢æä¸ä¸ªåhiredayä¸æ¯åºæ¬æ°æ®ç±»åçåéï¼èæ¯ä¸ä¸ªreferenceåéï¼ç»è¿cloneä¹åå°±ä¼äº§çä¸ä¸ªæ°çdateåçreferenceï¼\n\nå®ååå§å¯¹è±¡ä¸­å¯¹åºçåæååä¸ä¸ªdateå¯¹è±¡ï¼è¿æ ·åéç±»å°±ååå§ç±»å±äº«äºä¸é¨åä¿¡æ¯ï¼èè¿æ ·æ¾ç¶æ¯ä¸å©çï¼è¿ç¨ä¸å¾æç¤ºï¼\n\n\n\nè¿ä¸ªæ¶åæä»¬å°±éè¦è¿è¡deep cloneäºï¼å¯¹é£äºéåºæ¬ç±»åçåè¿è¡ç¹æ®çå¤çï¼ä¾å¦æ¬ä¾ä¸­ç hiredayãæä»¬å¯ä»¥éæ°å®ä¹cloneæ¹æ³ï¼å¯¹hiredayåç¹æ®å¤çï¼å¦ä¸ä»£ç æç¤ºï¼\n\nclass employee implements cloneable {\n    public object clone() throws clonenotsupportedexception {\n        employee cloned = (employee) super.clone();\n        cloned.hireday = (date) hireday.clone()\n        return cloned;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\ncloneæ¹æ³çä¿æ¤æºå¶\n\nå¨objectä¸­clone()æ¯è¢«å£°æä¸ºprotectedçï¼è¿æ ·åæ¯æä¸å®çéççï¼ä»¥employeeç±»ä¸ºä¾ï¼éè¿å£°æä¸ºprotectedï¼å°±å¯ä»¥ä¿è¯åªæemployeeç±»éé¢æè½âåéâemployeeå¯¹è±¡ã\n\ncloneæ¹æ³çä½¿ç¨\n\nä»ä¹æ¶åä½¿ç¨shallow cloneï¼ä»ä¹æ¶åä½¿ç¨deep cloneï¼è¿ä¸ªä¸»è¦çå·ä½å¯¹è±¡çåæ¯ä»ä¹æ§è´¨çï¼åºæ¬åå«è¿æ¯reference variable\n\nè°ç¨clone()æ¹æ³çå¯¹è±¡æå±çç±»(class)å¿é¡»implements clonableæ¥å£ï¼å¦åå¨è°ç¨cloneæ¹æ³çæ¶å ä¼æåºclonenotsupportedexception\n\næ¨èï¼ æµåé(shallowclone)åæ·±åé(deepclone)åºå«ä»¥åå®ç°\n\n\n# 2 tostring()æ¹æ³\n\npublic string tostring() {\n\treturn getclass().getname() + "@" + integer.tohexstring(hashcode());\n}\n\n\n1\n2\n3\n\n\nobject ç±»ç tostring æ¹æ³è¿åä¸ä¸ªå­ç¬¦ä¸²ï¼è¯¥å­ç¬¦ä¸²ç±ç±»åï¼å¯¹è±¡æ¯è¯¥ç±»çä¸ä¸ªå®ä¾ï¼ãat æ è®°ç¬¦â@â åæ­¤å¯¹è±¡åå¸ç çæ ç¬¦å·åå­è¿å¶è¡¨ç¤ºç»æã\n\nè¯¥æ¹æ³ç¨å¾æ¯è¾å¤ï¼ä¸è¬å­ç±»é½æè¦çã\n\npublic static void main(string[] args){\n    object o1 = new object();\n    system.out.println(o1.tostring());\n}\n\n\n1\n2\n3\n4\n\n\n\n# 3 getclass()æ¹æ³\n\npublic final native class<?> getclass();\n\n\n1\n\n\nè¿åæ¬¡objectçè¿è¡æ¶ç±»ç±»åã\n\nä¸å¯éåï¼è¦è°ç¨çè¯ï¼ä¸è¬ågetname()èåä½¿ç¨ï¼å¦getclass().getname();\n\npublic static void main(string[] args) {\n    object o = new object();\n    system.out.println(o.getclass());\n    //class java.lang.object\n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# 4 finalize()æ¹æ³\n\nprotected void finalize() throws throwable { }\n\n\n1\n\n\nè¯¥æ¹æ³ç¨äºéæ¾èµæºãå ä¸ºæ æ³ç¡®å®è¯¥æ¹æ³ä»ä¹æ¶åè¢«è°ç¨ï¼å¾å°ä½¿ç¨ã\n\njavaåè®¸å¨ç±»ä¸­å®ä¹ä¸ä¸ªåä¸ºfinalize()çæ¹æ³ãå®çå·¥ä½åçæ¯ï¼ä¸æ¦åå¾åæ¶å¨åå¤å¥½éæ¾å¯¹è±¡å ç¨çå­å¨ç©ºé´ï¼å°é¦åè°ç¨å¶finalize()æ¹æ³ãå¹¶ä¸å¨ä¸ä¸æ¬¡åå¾åæ¶å¨ä½åçæ¶ï¼æä¼çæ­£åæ¶å¯¹è±¡å ç¨çåå­ã\n\nå³äºåå¾åæ¶ï¼æä¸ç¹éè¦è®°ä½ï¼\n\n1ãå¯¹è±¡å¯è½ä¸è¢«åå¾åæ¶ãåªè¦ç¨åºæ²¡ææ¿ä¸´å­å¨ç©ºé´ç¨å®çé£ä¸å»ï¼å¯¹è±¡å ç¨çç©ºé´å°±æ»ä¹å¾ä¸å°éæ¾ã\n\n2ãåå¾åæ¶å¹¶ä¸ç­äºâææâã\n\nç§æ®ï¼ææå½æ°(destructor) ä¸æé å½æ°ç¸åï¼å½å¯¹è±¡ç»æå¶çå½å¨æï¼å¦å¯¹è±¡æå¨çå½æ°å·²è°ç¨å®æ¯æ¶ï¼ç³»ç»èªå¨æ§è¡ææå½æ°ãææå½æ°å¾å¾ç¨æ¥åâæ¸çååâ çå·¥ä½ï¼ä¾å¦å¨å»ºç«å¯¹è±¡æ¶ç¨newå¼è¾äºä¸çåå­ç©ºé´ï¼deleteä¼èªå¨è°ç¨ææå½æ°åéæ¾åå­ï¼ã\n\n3ãåå¾åæ¶åªä¸åå­æå³ãä½¿ç¨åå¾åæ¶çå¯ä¸åå æ¯ä¸ºäºåæ¶ç¨åºä¸åä½¿ç¨çåå­ã\n\nfinalize()çç¨éï¼\n\næ è®ºå¯¹è±¡æ¯å¦ä½åå»ºçï¼åå¾åæ¶å¨é½ä¼è´è´£éæ¾å¯¹è±¡å æ®çææåå­ã\n\nè¿å°±å°å¯¹finalize()çéæ±éå¶å°ä¸ç§ç¹æ®æåµï¼å³éè¿æç§åå»ºå¯¹è±¡æ¹å¼ä»¥å¤çæ¹å¼ä¸ºå¯¹è±¡åéäºå­å¨ç©ºé´ãä¸è¿è¿ç§æåµä¸è¬åçå¨ä½¿ç¨âæ¬å°æ¹æ³âçæåµä¸ï¼æ¬å°æ¹æ³æ¯ä¸ç§å¨javaä¸­è°ç¨éjavaä»£ç çæ¹å¼ã\n\n\n# 5 equals()æ¹æ³\n\npublic boolean equals(object obj) {\n\treturn (this == obj);\n}\n\n\n1\n2\n3\n\n\nobjectä¸­çequalsæ¹æ³æ¯ç´æ¥å¤æ­thisåobjæ¬èº«çå¼æ¯å¦ç¸ç­ï¼å³ç¨æ¥å¤æ­è°ç¨equalsçå¯¹è±¡åå½¢å objæå¼ç¨çå¯¹è±¡æ¯å¦æ¯åä¸å¯¹è±¡\n\næè°åä¸å¯¹è±¡å°±æ¯æåå­ä¸­åä¸åå­å¨ååï¼å¦æthisåobjæåçæ¯åä¸ååå­å¯¹è±¡ï¼åè¿åtrueï¼å¦æthisåobjæåçä¸æ¯åä¸ååå­ï¼åè¿åfalseã\n\næ³¨æï¼å³ä¾¿æ¯åå®¹å®å¨ç¸ç­çä¸¤åä¸åçåå­å¯¹è±¡ï¼ä¹è¿åfalseã\n\nå¦ææ¯åä¸ååå­ï¼åobjectä¸­çequalsæ¹æ³è¿åtrueï¼å¦ææ¯ä¸åçåå­ï¼åè¿åfalse\n\nå¦æå¸æä¸ååå­ä½ç¸ååå®¹çä¸¤ä¸ªå¯¹è±¡equalsæ¶è¿åtrueï¼åæä»¬éè¦éåç¶ç±»çequalæ¹æ³\n\nstringç±»å·²ç»éåäºobjectä¸­çequalsæ¹æ³ï¼è¿æ ·å°±æ¯æ¯è¾åå®¹æ¯å¦ç¸ç­äºï¼\n\næ¥çstringç±»æºç equalsæ¹æ³\n\npublic boolean equals(object anobject) {\n    if (this == anobject) {\n        return true;\n    }\n    if (anobject instanceof string) {\n        string anotherstring = (string)anobject;\n        int n = value.length;\n        if (n == anotherstring.value.length) {\n            char v1[] = value;\n            char v2[] = anotherstring.value;\n            int i = 0;\n            while (n-- != 0) {\n                if (v1[i] != v2[i])\n                    return false;\n                i++;\n            }\n            return true;\n        }\n    }\n    return false;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# 6 hashcode()æ¹æ³\n\npublic native int hashcode();\n\n\n1\n\n\nè¿åè¯¥å¯¹è±¡çåå¸ç å¼ã\n\nè¯¥æ¹æ³ç¨äºåå¸æ¥æ¾ï¼å¯ä»¥åå°å¨æ¥æ¾ä¸­ä½¿ç¨equalsçæ¬¡æ°ï¼éåäºequalsæ¹æ³ä¸è¬é½è¦éå hashcodeæ¹æ³ãè¿ä¸ªæ¹æ³å¨ä¸äºå·æåå¸åè½çcollectionä¸­ç¨å°ã\n\nä¸è¬å¿é¡»æ»¡è¶³obj1.equals(obj2)==trueãå¯ä»¥æ¨åºobj1.hashcode() == obj2.hashcode()ï¼ä½æ¯ hashcodeç¸ç­ä¸ä¸å®å°±æ»¡è¶³equalsãä¸è¿ä¸ºäºæé«æçï¼åºè¯¥å°½éä½¿ä¸é¢ä¸¤ä¸ªæ¡ä»¶æ¥è¿ç­ä»·ã\n\n\n# 7 wait()æ¹æ³\n\npublic final void wait(long timeoutmillis, int nanos) throws interruptedexception {\n    if (timeoutmillis < 0) {\n        throw new illegalargumentexception("timeoutmillis value is negative");\n    }\n\n    if (nanos < 0 || nanos > 999999) {\n        throw new illegalargumentexception(\n                            "nanosecond timeout value out of range");\n    }\n\n    if (nanos > 0 && timeoutmillis < long.max_value) {\n        timeoutmillis++;\n    }\n\n    wait(timeoutmillis);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nå¯ä»¥çå°æä¸ç§éè½½ï¼waitä»ä¹ææå¢ï¼\n\n\n\næ¹æ³ä¸­çå¼å¸¸ï¼\n\n\n\nwaitæ¹æ³å°±æ¯ä½¿å½åçº¿ç¨ç­å¾è¯¥å¯¹è±¡çéï¼å½åçº¿ç¨å¿é¡»æ¯è¯¥å¯¹è±¡çæ¥æèï¼ä¹å°±æ¯å·æè¯¥å¯¹è±¡çéã\n\nwait()æ¹æ³ä¸ç´ç­å¾ï¼ç´å°è·å¾éæèè¢«ä¸­æ­ãwait(long timeout)è®¾å®ä¸ä¸ªè¶æ¶é´é\n\nå¦æå¨è§å®æ¶é´åæ²¡æè·å¾éå°±è¿åã\n\nè°ç¨è¯¥æ¹æ³åå½åçº¿ç¨è¿å¥ç¡ç ç¶æï¼ç´å°ä»¥ä¸äºä»¶åçã\n\nï¼1ï¼å¶ä»çº¿ç¨è°ç¨äºè¯¥å¯¹è±¡çnotifyæ¹æ³ã ï¼2ï¼å¶ä»çº¿ç¨è°ç¨äºè¯¥å¯¹è±¡çnotifyallæ¹æ³ã ï¼3ï¼å¶ä»çº¿ç¨è°ç¨äºinterruptä¸­æ­è¯¥çº¿ç¨ã ï¼4ï¼æ¶é´é´éå°äºã\n\næ­¤æ¶è¯¥çº¿ç¨å°±å¯ä»¥è¢«è°åº¦äºï¼å¦ææ¯è¢«ä¸­æ­çè¯å°±æåºä¸ä¸ªinterruptedexceptionå¼å¸¸ã\n\n\n# 8 notify()æ¹æ³\n\npublic final native void notify();\n\n\n1\n\n\nè¯¥æ¹æ³å¤éå¨è¯¥å¯¹è±¡ä¸ç­å¾çæä¸ªçº¿ç¨ã\n\npublic final native void notifyall();\n\n\n1\n\n\nè¯¥æ¹æ³å¤éå¨è¯¥å¯¹è±¡ä¸ç­å¾çææçº¿ç¨ã\n\n\n# åè£ç±»\n\n\n# 1ãåè£ç±»ä»ç»\n\nè½ç¶ java è¯­è¨æ¯å¸åçé¢åå¯¹è±¡ç¼ç¨è¯­è¨ï¼ä½å¶ä¸­çå«ç§åºæ¬æ°æ®ç±»åå¹¶ä¸æ¯æé¢åå¯¹è±¡ç¼ç¨ï¼åºæ¬ç±»åçæ°æ®ä¸å·å¤âå¯¹è±¡âçç¹æ§ââä¸æºå¸¦å±æ§ãæ²¡ææ¹æ³å¯è°ç¨ã æ²¿ç¨å®ä»¬åªæ¯ä¸ºäºè¿åäººç±»æ ¹æ·±èåºçä¹ æ¯ï¼å¹¶çç¡®è½ç®åãææå°è¿è¡å¸¸è§æ°æ®å¤çã\n\nè¿ç§åå©äºéé¢åå¯¹è±¡ææ¯çåæ³ææ¶ä¹ä¼å¸¦æ¥ä¸ä¾¿ï¼æ¯å¦å¼ç¨ç±»åæ°æ®åç»§æ¿äº object ç±»çç¹æ§ï¼è¦è½¬æ¢ä¸º string ç±»åï¼ç»å¸¸æè¿ç§éè¦ï¼æ¶åªè¦ç®åè°ç¨ object ç±»ä¸­å®ä¹çtostring()å³å¯ï¼èåºæ¬æ°æ®ç±»åè½¬æ¢ä¸º string ç±»ååè¦éº»ç¦å¾å¤ãä¸ºè§£å³æ­¤ç±»é®é¢ ï¼javaä¸ºæ¯ç§åºæ¬æ°æ®ç±»ååå«è®¾è®¡äºå¯¹åºçç±»ï¼ç§°ä¹ä¸ºåè£ç±»(wrapper classes)ï¼ä¹æææç§°ä¸ºå¤è¦ç±»ææ°æ®ç±»åç±»ã\n\nåºæ¬æ°æ®ç±»å    å¯¹åºçåè£ç±»\nbyte      byte\nshort     short\nint       integer\nlong      long\nchar      character\nfloat     float\ndouble    double\nboolean   boolean\n\næ¯ä¸ªåè£ç±»çå¯¹è±¡å¯ä»¥å°è£ä¸ä¸ªç¸åºçåºæ¬ç±»åçæ°æ®ï¼å¹¶æä¾äºå¶å®ä¸äºæç¨çæ¹æ³ãåè£ç±»å¯¹è±¡ä¸ ç»åå»ºï¼å¶åå®¹ï¼æå°è£çåºæ¬ç±»åæ°æ®å¼ï¼ä¸å¯æ¹åã\n\nåºæ¬ç±»ååå¯¹åºçåè£ç±»å¯ä»¥ç¸äºè£æ¢ï¼\n\n * ç±åºæ¬ç±»ååå¯¹åºçåè£ç±»è½¬æ¢ç§°ä¸ºè£ç®±ï¼ä¾å¦æ int åè£æ integer ç±»çå¯¹è±¡ï¼\n * åè£ç±»åå¯¹åºçåºæ¬ç±»åè½¬æ¢ç§°ä¸ºæç®±ï¼ä¾å¦æ integer ç±»çå¯¹è±¡éæ°ç®åä¸º intã\n\n\n# 2ãåè£ç±»çåºç¨\n\n1ã å®ç° int å integer çç¸äºè½¬æ¢\n\nå¯ä»¥éè¿ integer ç±»çæé æ¹æ³å° int è£ç®±ï¼éè¿ integer ç±»ç intvalue æ¹æ³å° integer æç®±ã\n\npublic static void main(string[] args) {\n    int m = 500;\n    integer obj = new integer(m); // æå¨è£ç®±\n    int n = obj.intvalue(); // æå¨æç®±\n    system.out.println("n = " + n);\n    \n    integer obj1 = new integer(500);\n    system.out.println("obj ç­ä»·äº obj1ï¼" + obj.equals(obj1));\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n2ã å°å­ç¬¦ä¸²è½¬æ¢ä¸ºæ´æ°\n\ninteger ç±»æä¸ä¸ªéæç paseint() æ¹æ³ï¼å¯ä»¥å°å­ç¬¦ä¸²è½¬æ¢ä¸ºæ´æ°ï¼è¯­æ³ä¸ºï¼\n\nparseint(string s, int radix);\n//s ä¸ºè¦è½¬æ¢çå­ç¬¦ä¸²ï¼radix ä¸ºè¿å¶ï¼å¯éï¼é»è®¤ä¸ºåè¿å¶ã\n\n\n1\n2\n\n\nä¸é¢çä»£ç å°ä¼åè¯ä½ ä»ä¹æ ·çå­ç¬¦ä¸²å¯ä»¥è½¬æ¢ä¸ºæ´æ°ï¼\n\npublic static void main(string[] args) {\n    string[] strs = {"123", "123abc", "abc123", "abcxyz"};\n    for (string str : strs) {\n        try {\n            int m = integer.parseint(str, 10);\n            system.out.println(str + " å¯ä»¥è½¬æ¢ä¸ºæ´æ° " + m);\n        } catch (exception e) {\n            system.out.println(str + " æ æ³è½¬æ¢ä¸ºæ´æ°");\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nç»æï¼\n\n> 123 å¯ä»¥è½¬æ¢ä¸ºæ´æ° 123 123abc æ æ³è½¬æ¢ä¸ºæ´æ° abc123 æ æ³è½¬æ¢ä¸ºæ´æ° abcxyz æ æ³è½¬æ¢ä¸ºæ´æ°\n\n\n# 3ãå°æ´æ°è½¬æ¢ä¸ºå­ç¬¦ä¸²\n\ninteger ç±»æä¸ä¸ªéæç tostring() æ¹æ³ï¼å¯ä»¥å°æ´æ°è½¬æ¢ä¸ºå­ç¬¦ä¸²ãæèç´æ¥å¨æ´æ°åé¢å ç©ºå­ç¬¦ä¸²ï¼\n\npublic static void main(string[] args) {\n    int m = 500;\n    string s = integer.tostring(m);\n    \n    string s2 = m +"";\n    system.out.println("s = " + s);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 3ãèªå¨æç®±åè£ç®±\n\nä¸é¢çä¾å­é½éè¦æå¨å®ä¾åä¸ä¸ªåè£ç±»ï¼ç§°ä¸ºæå¨æç®±è£ç®±ãjava 1.5(5.0) ä¹åå¿é¡»æå¨æç®±è£ç®±ã\n\njava 1.5 ä¹åå¯ä»¥èªå¨æç®±è£ç®±ï¼ä¹å°±æ¯å¨è¿è¡åºæ¬æ°æ®ç±»ååå¯¹åºçåè£ç±»è½¬æ¢æ¶ï¼ç³»ç»å°èªå¨è¿è¡ï¼è¿å°å¤§å¤§æ¹ä¾¿ç¨åºåçä»£ç ä¹¦åã\n\npublic static void main(string[] args) {\n    int m = 500;\n    integer obj = m; // èªå¨è£ç®±\n    int n = obj; // èªå¨æç®±\n    system.out.println("n = " + n);\n    integer obj1 = 500;\n    system.out.println("obj ç­ä»·äº obj1ï¼" + obj.equals(obj1));\n}\n//ç»æï¼\n// n = 500\n// obj ç­ä»·äº obj1ï¼true\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nèªå¨è£ç®±ä¸æç®±çåè½äºå®ä¸æ¯ç¼è¯å¨æ¥å¸®æ¨çå¿ï¼ç¼è¯å¨å¨ç¼è¯æ¶æä¾æ¨æç¼åçè¯­æ³ï¼å³å®æ¯å¦è¿è¡è£ç®±ææç®±å¨ä½ãä¾å¦ï¼\n\ninteger i = 100;\n//ç¸å½äºç¼è¯å¨èªå¨ä¸ºæ¨ä½ä»¥ä¸çè¯­æ³ç¼è¯ï¼\ninteger i = new integer(100);\n\n\n1\n2\n3\n\n\næä»¥èªå¨è£ç®±ä¸æç®±çåè½æ¯æè°çâç¼è¯å¨èç³â(compiler sugar)ï¼è½ç¶ä½¿ç¨è¿ä¸ªåè½å¾æ¹ä¾¿ï¼ä½å¨ç¨åºè¿è¡é¶æ®µä½ è¦äºè§£javaçè¯­ä¹ãä¾å¦ä¸é¢çç¨åºæ¯å¯ä»¥éè¿ç¼è¯çï¼\n\ninteger i = null;\nint j = i;\n\n\n1\n2\n\n\nè¿æ ·çè¯­æ³å¨ç¼è¯æ¶ææ¯åæ³çï¼ä½æ¯å¨è¿è¡æ¶æä¼æéè¯¯ï¼å ä¸ºè¿ç§åæ³ç¸å½äºï¼\n\ninteger i = null;\nint j = i.intvalue();\n\n\n1\n2\n\n\nnullè¡¨ç¤ºi æ²¡æåèè³ä»»ä½çå¯¹è±¡å®ä½ï¼å®å¯ä»¥åæ³å°æå®ç»å¯¹è±¡åèåç§°ãç±äºå®éä¸ i å¹¶æ²¡æåèè³ä»»ä½çå¯¹è±¡ï¼æä»¥ä¹å°±ä¸å¯è½æä½intvalue()æ¹æ³ï¼è¿æ ·ä¸é¢çåæ³å¨è¿è¡æ¶ä¼åºç°nullpointerexception éè¯¯ã\n\nèªå¨æç®±è£ç®±æ¯å¸¸ç¨çä¸ä¸ªåè½ï¼éè¦éç¹ææ¡ã\n\nä¸è¬å°ï¼å½éè¦ä½¿ç¨æ°å­çæ¶åï¼æä»¬éå¸¸ä½¿ç¨åç½®æ°æ®ç±»åï¼å¦ï¼byteãintãlongãdouble ç­ãç¶èï¼å¨å®éå¼åè¿ç¨ä¸­ï¼æä»¬ç»å¸¸ä¼éå°éè¦ä½¿ç¨å¯¹è±¡ï¼èä¸æ¯åç½®æ°æ®ç±»åçæå½¢ãä¸ºäºè§£å³è¿ä¸ªé®é¢ï¼java è¯­è¨ä¸ºæ¯ä¸ä¸ªåç½®æ°æ®ç±»åæä¾äºå¯¹åºçåè£ç±»ã\n\nææçåè£ç±»ï¼integerãlongãbyteãdoubleãfloatãshortï¼é½æ¯æ½è±¡ç±» number çå­ç±»ã\n\n\n# mathç±»\n\njava ç math åå«äºç¨äºæ§è¡åºæ¬æ°å­¦è¿ç®çå±æ§åæ¹æ³ï¼å¦åç­ææ°ãå¯¹æ°ãå¹³æ¹æ ¹åä¸è§å½æ°ã\n\nmath çæ¹æ³é½è¢«å®ä¹ä¸º static å½¢å¼ï¼éè¿ math ç±»å¯ä»¥å¨ä¸»å½æ°ä¸­ç´æ¥è°ç¨\n\nãæ¼ç¤ºï¼æ¥çmathç±»çæºç ã\n\npublic final class math{\n\t//æ°å­¦æ¹æ³\n}\n\n\n1\n2\n3\n\n\nãå¸¸ç¨å¼ä¸å½æ°ã\n\nmath.pi è®°å½çåå¨ç math.e è®°å½eçå¸¸é\n\nmathä¸­è¿æä¸äºç±»ä¼¼çå¸¸éï¼é½æ¯ä¸äºå·¥ç¨æ°å­¦å¸¸ç¨éã\n\nmath.abs æ±ç»å¯¹å¼ math.sin æ­£å¼¦å½æ° math.asin åæ­£å¼¦å½æ° math.cos ä½å¼¦å½æ° math.acos åä½å¼¦å½æ° math.tan æ­£åå½æ° math.atan åæ­£åå½æ° math.atan2 åçåæ­£åå½æ° math.todegrees å¼§åº¦è½¬åä¸ºè§åº¦ math.toradians è§åº¦è½¬åä¸ºå¼§åº¦ math.ceil å¾å°ä¸å°äºææ°çæå¤§æ´æ° math.floor å¾å°ä¸å¤§äºææ°çæå¤§æ´æ° math.ieeeremainder æ±ä½ math.max æ±ä¸¤æ°ä¸­æå¤§ math.min æ±ä¸¤æ°ä¸­æå° math.sqrt æ±å¼æ¹ math.pow æ±ææ°çä»»ææ¬¡æ¹, æåºarithmeticexceptionå¤çæº¢åºå¼å¸¸\n\nmath.exp æ±eçä»»ææ¬¡æ¹ math.log10 ä»¥10ä¸ºåºçå¯¹æ° math.log èªç¶å¯¹æ° math.rint æ±è·ç¦»ææ°æè¿çæ´æ°ï¼å¯è½æ¯ææ°å¤§ï¼ä¹å¯è½æ¯å®å°ï¼ math.round åä¸ï¼è¿åintåæèlongåï¼ä¸ä¸ä¸ªå½æ°è¿ådoubleåï¼ math.random è¿å0ï¼1ä¹é´çä¸ä¸ªéæºæ°\n\npublic static void main(string[] args) {\n    /**\n     *math.sqrt()//è®¡ç®å¹³æ¹æ ¹\n     *math.cbrt()//è®¡ç®ç«æ¹æ ¹\n     *math.pow(a, b)//è®¡ç®açbæ¬¡æ¹\n     *math.max( , );//è®¡ç®æå¤§å¼\n     *math.min( , );//è®¡ç®æå°å¼\n     */\n    system.out.println(math.sqrt(16)); //4.0\n    system.out.println(math.cbrt(8)); //2.0\n    system.out.println(math.pow(3, 2)); //9.0\n    system.out.println(math.max(2.3, 4.5));//4.5\n    system.out.println(math.min(2.3, 4.5));//2.3\n    /**\n     * absæ±ç»å¯¹å¼\n     */\n    system.out.println(math.abs(-10.4)); //10.4\n    system.out.println(math.abs(10.1)); //10.1\n    /**\n     * ceilå¤©è±æ¿çææï¼å°±æ¯è¿åå¤§çå¼\n     */\n    system.out.println(math.ceil(-10.1)); //-10.0\n    system.out.println(math.ceil(10.7)); //11.0\n    system.out.println(math.ceil(-0.7)); //-0.0\n    system.out.println(math.ceil(0.0)); //0.0\n    system.out.println(math.ceil(-0.0)); //-0.0\n    system.out.println(math.ceil(-1.7)); //-1.0\n    /**\n     * floorå°æ¿çææï¼å°±æ¯è¿åå°çå¼\n     */\n    system.out.println(math.floor(-10.1)); //-11.0\n    system.out.println(math.floor(10.7)); //10.0\n    system.out.println(math.floor(-0.7)); //-1.0\n    system.out.println(math.floor(0.0)); //0.0\n    system.out.println(math.floor(-0.0)); //-0.0\n    /**\n     * random åå¾ä¸ä¸ªå¤§äºæèç­äº0.0å°äºä¸ç­äº1.0çéæºæ° [0,1)\n     */\n    system.out.println(math.random()); //å°äº1å¤§äº0çdoubleç±»åçæ°\n    system.out.println(math.random() + 1);//å¤§äº1å°äº2çdoubleç±»åçæ°\n    /**\n     * rint åèäºå¥ï¼è¿ådoubleå¼\n     * æ³¨æ.5çæ¶åä¼åå¶æ° å¼å¸¸çå°´å°¬=ã=\n     */\n    system.out.println(math.rint(10.1)); //10.0\n    system.out.println(math.rint(10.7)); //11.0\n    system.out.println(math.rint(11.5)); //12.0\n    system.out.println(math.rint(10.5)); //10.0\n    system.out.println(math.rint(10.51)); //11.0\n    system.out.println(math.rint(-10.5)); //-10.0\n    system.out.println(math.rint(-11.5)); //-12.0\n    system.out.println(math.rint(-10.51)); //-11.0\n    system.out.println(math.rint(-10.6)); //-11.0\n    system.out.println(math.rint(-10.2)); //-10.0\n    /**\n     * round åèäºå¥ï¼floatæ¶è¿åintå¼ï¼doubleæ¶è¿ålongå¼\n     */\n    system.out.println(math.round(10.1)); //10\n    system.out.println(math.round(10.7)); //11\n    system.out.println(math.round(10.5)); //11\n    system.out.println(math.round(10.51)); //11\n    system.out.println(math.round(-10.5)); //-10\n    system.out.println(math.round(-10.51)); //-11\n    system.out.println(math.round(-10.6)); //-11\n    system.out.println(math.round(-10.2)); //-10\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n\n\n\n# randomç±»\n\njavaä¸­å­å¨çä¸¤ç§randomå½æ°ï¼\n\n1ãjava.lang.math.random;\n\nè°ç¨è¿ä¸ªmath.random()å½æ°è½å¤è¿åå¸¦æ­£å·çdoubleå¼ï¼è¯¥å¼å¤§äºç­äº0.0ä¸å°äº1.0ï¼å³åå¼èå´æ¯ [0.0,1.0)çå·¦é­å³å¼åºé´ï¼è¿åå¼æ¯ä¸ä¸ªä¼ªéæºéæ©çæ°ï¼å¨è¯¥èå´åï¼è¿ä¼¼ï¼åååå¸ãä¾å­å¦ä¸ï¼\n\npublic static void main(string[] args) {\n    // ç»ææ¯ä¸ªdoubleç±»åçå¼ï¼åºé´ä¸º[0.0,1.0ï¼\n    system.out.println("math.random()=" + math.random());\n    int num = (int) (math.random() * 3);\n    // æ³¨æä¸è¦åæ(int)math.random()*3ï¼è¿ä¸ªç»æä¸º0æ1ï¼å ä¸ºåæ§è¡äºå¼ºå¶è½¬æ¢\n    system.out.println("num=" + num);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n2ãjava.util.random\n\nä¸é¢æ¯random()çä¸¤ç§æé æ¹æ³ï¼\n\nrandom()ï¼åå»ºä¸ä¸ªæ°çéæºæ°çæå¨ random(long seed)ï¼ä½¿ç¨åä¸ª long ç§å­åå»ºä¸ä¸ªæ°çéæºæ°çæå¨ã\n\nä½ å¨åå»ºä¸ä¸ªrandomå¯¹è±¡çæ¶åå¯ä»¥ç»å®ä»»æä¸ä¸ªåæ³çç§å­æ°ï¼ç§å­æ°åªæ¯éæºç®æ³çèµ·æºæ°å­ï¼åçæçéæºæ°çåºé´æ²¡æä»»ä½å³ç³»ã\n\nå¦ä¸é¢çjavaä»£ç ï¼\n\nãæ¼ç¤ºä¸ã\n\nå¨æ²¡å¸¦åæ°æé å½æ°çæçrandomå¯¹è±¡çç§å­æ¯å½åç³»ç»æ¶é´çæ¯«ç§æ°ã\n\nrand.nextint(100)ä¸­ç100æ¯éæºæ°çä¸é,äº§ççéæºæ°ä¸º0-100çæ´æ°ï¼ä¸åæ¬100ã\n\npublic static void main(string[] args) {\n    random rand = new random();\n    int i = rand.nextint(100);\n    system.out.println(i);\n}\n\n\n1\n2\n3\n4\n5\n\n\nãæ¼ç¤ºäºã\n\nå¯¹äºç§å­ç¸åçrandomå¯¹è±¡ï¼å¤æ¬¡æ§è¡åçæçéæºæ°åºåæ¯ä¸æ ·çã\n\npublic static void main(string[] args) {\n    random ran1 = new random(25);\n    system.out.println("ä½¿ç¨ç§å­ä¸º25çrandomå¯¹è±¡çæ[0,100)åéæºæ´æ°åºå: ");\n    for (int i = 0; i < 10; i++) {\n        system.out.print(ran1.nextint(100) + " ");\n    }\n    system.out.println();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nãæ¹æ³æè¦ã\n\n 1.  protected int next(int bits)ï¼çæä¸ä¸ä¸ªä¼ªéæºæ°ã\n 2.  boolean nextboolean()ï¼è¿åä¸ä¸ä¸ªä¼ªéæºæ°ï¼å®æ¯åèªæ­¤éæºæ°çæå¨åºåçåååå¸ç booleanå¼ã\n 3.  void nextbytes(byte[] bytes)ï¼çæéæºå­èå¹¶å°å¶ç½®äºç¨æ·æä¾ç byte æ°ç»ä¸­ã\n 4.  double nextdouble()ï¼è¿åä¸ä¸ä¸ªä¼ªéæºæ°ï¼å®æ¯åèªæ­¤éæºæ°çæå¨åºåçãå¨0.0å1.0ä¹é´ åååå¸ç doubleå¼ã\n 5.  float nextfloat()ï¼è¿åä¸ä¸ä¸ªä¼ªéæºæ°ï¼å®æ¯åèªæ­¤éæºæ°çæå¨åºåçãå¨0.0å1.0ä¹é´åååå¸floatå¼ã\n 6.  double nextgaussian()ï¼è¿åä¸ä¸ä¸ªä¼ªéæºæ°ï¼å®æ¯åèªæ­¤éæºæ°çæå¨åºåçãåé«æ¯ï¼âæ­£æâï¼åå¸çdoubleå¼ï¼å¶å¹³åå¼æ¯0.0æ åå·®æ¯1.0ã\n 7.  int nextint()ï¼è¿åä¸ä¸ä¸ªä¼ªéæºæ°ï¼å®æ¯æ­¤éæºæ°çæå¨çåºåä¸­åååå¸ç int å¼ã\n 8.  int nextint(int n)ï¼è¿åä¸ä¸ªä¼ªéæºæ°ï¼å®æ¯åèªæ­¤éæºæ°çæå¨åºåçãå¨ï¼åæ¬åæå®å¼ï¼ä¸åæ¬ï¼ä¹é´åååå¸çintå¼ã\n 9.  long nextlong()ï¼è¿åä¸ä¸ä¸ªä¼ªéæºæ°ï¼å®æ¯åèªæ­¤éæºæ°çæå¨åºåçåååå¸ç long å¼ã\n 10. void setseed(long seed)ï¼ä½¿ç¨åä¸ª long ç§å­è®¾ç½®æ­¤éæºæ°çæå¨çç§å­ã\n\nãä¾å­ã\n\n 1. çæ[0,1.0)åºé´çå°æ°ï¼double d1 = r.nextdouble();\n 2. çæ[0,5.0)åºé´çå°æ°ï¼double d2 = r.nextdouble() * 5;\n 3. çæ[1,2.5)åºé´çå°æ°ï¼double d3 = r.nextdouble() * 1.5 + 1;\n 4. çæ[0,10)åºé´çæ´æ°ï¼int n2 = r.nextint(10);\n\n\n# æ¥ææ¶é´ç±»\n\n\n# 1 dateç±»\n\njava.util åæä¾äº date ç±»æ¥å°è£å½åçæ¥æåæ¶é´ã\n\ndate ç±»æä¾ä¸¤ä¸ªæé å½æ°æ¥å®ä¾å date å¯¹è±¡ã\n\nç¬¬ä¸ä¸ªæé å½æ°ä½¿ç¨å½åæ¥æåæ¶é´æ¥åå§åå¯¹è±¡ã\n\ndate()\n\n\n1\n\n\nç¬¬äºä¸ªæé å½æ°æ¥æ¶ä¸ä¸ªåæ°ï¼è¯¥åæ°æ¯ä»1970å¹´1æ1æ¥èµ·çæ¯«ç§æ°ã\n\ndate(long millisec)\n\n\n1\n\n\ndateå¯¹è±¡åå»ºä»¥åï¼å¯ä»¥è°ç¨ä¸é¢çæ¹æ³ã\n\nåºå·   æ¹æ³åæè¿°\n1    boolean after(date date)\n     è¥å½è°ç¨æ­¤æ¹æ³çdateå¯¹è±¡å¨æå®æ¥æä¹åè¿åtrue,å¦åè¿åfalseã\n2    boolean before(date date)\n     è¥å½è°ç¨æ­¤æ¹æ³çdateå¯¹è±¡å¨æå®æ¥æä¹åè¿åtrue,å¦åè¿åfalseã\n3    object clone( ) è¿åæ­¤å¯¹è±¡çå¯æ¬ã\n4    int compareto(date date)\n     æ¯è¾å½è°ç¨æ­¤æ¹æ³çdateå¯¹è±¡åæå®æ¥æãä¸¤èç¸ç­æ¶åè¿å0ãè°ç¨å¯¹è±¡å¨æå®æ¥æä¹ååè¿åè´æ°ãè°ç¨å¯¹è±¡å¨æå®æ¥æä¹ååè¿åæ­£æ°ã\n5    int compareto(object obj) è¥objæ¯dateç±»ååæä½ç­åäºcompareto(date)\n     ãå¦åå®æåºclasscastexceptionã\n6    boolean equals(object date)\n     å½è°ç¨æ­¤æ¹æ³çdateå¯¹è±¡åæå®æ¥æç¸ç­æ¶åè¿åtrue,å¦åè¿åfalseã\n7    long gettime( ) è¿åèª 1970 å¹´ 1 æ 1 æ¥ 00:00:00 gmt ä»¥æ¥æ­¤ date\n     å¯¹è±¡è¡¨ç¤ºçæ¯«ç§æ°ã\n8    int hashcode( ) è¿åæ­¤å¯¹è±¡çåå¸ç å¼ã\n9    void settime(long time) ç¨èª1970å¹´1æ1æ¥00:00:00\n     gmtä»¥åtimeæ¯«ç§æ°è®¾ç½®æ¶é´åæ¥æã\n10   string tostring( ) ææ­¤ date å¯¹è±¡è½¬æ¢ä¸ºä»¥ä¸å½¢å¼ç stringï¼ dow mon dd\n     hh:mm:ss zzz yyyy å¶ä¸­ï¼ dow æ¯ä¸å¨ä¸­çæä¸å¤© (sun, mon, tue, wed, thu,\n     fri, sat)ã\n\nãæ¼ç¤ºï¼è·åå½åæ¥ææ¶é´ã\n\njavaä¸­è·åå½åæ¥æåæ¶é´å¾ç®åï¼ä½¿ç¨ date å¯¹è±¡ç tostring() æ¹æ³æ¥æå°å½åæ¥æåæ¶é´\n\npublic static void main(string args[]) {\n    // åå§å date å¯¹è±¡\n    date date = new date();\n\n    // ä½¿ç¨ tostring() å½æ°æ¾ç¤ºæ¥ææ¶é´\n    system.out.println(date.tostring());\n    //tue mar 30 10:24:19 cst 2021\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nãæ¼ç¤ºï¼æ¥ææ¯è¾ã\n\nä½¿ç¨ gettime() æ¹æ³è·åä¸¤ä¸ªæ¥æï¼èª1970å¹´1æ1æ¥ç»åçæ¯«ç§æ°å¼ï¼ï¼ç¶åæ¯è¾è¿ä¸¤ä¸ªå¼ã\n\npublic static void main(string[] args) {\n    // åå§å date å¯¹è±¡\n    date date = new date();\n\n    long time = date.gettime();\n    long time2 = date.gettime();\n    system.out.println(time==time2);//true\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nä½¿ç¨æ¹æ³ before()ï¼after() å equals()ãä¾å¦ï¼ä¸ä¸ªæç12å·æ¯18å·æ©ï¼å new date(99, 2, 12).before(new date (99, 2, 18)) è¿åtrueã\n\npublic static void main(string[] args) {\n    boolean before = new date(99, 01, 05).before(new date(99, 11, 16));\n    system.out.println(before);\n}\n\n\n1\n2\n3\n4\n\n\n\n# 2ãsimpledateformat\n\næ ¼å¼åæ¥æ\n\nsimpledateformat æ¯ä¸ä¸ªä»¥è¯­è¨ç¯å¢ææçæ¹å¼æ¥æ ¼å¼åååææ¥æçç±»ãsimpledateformat åè®¸ä½ éæ©ä»»ä½ç¨æ·èªå®ä¹æ¥ææ¶é´æ ¼å¼æ¥è¿è¡ãä¾å¦ï¼\n\npublic static void main(string args[]) {\n    date dnow = new date( );\n    simpledateformat ft = new simpledateformat ("yyyy-mm-dd hh:mm:ss");\n    system.out.println("å½åæ¶é´ä¸º: " + ft.format(dnow));\n}\n\n\n1\n2\n3\n4\n5\n\n\nå¶ä¸­ yyyy æ¯å®æ´çå¬åå¹´ï¼mm æ¯æä»½ï¼dd æ¯æ¥æï¼hh:mm:ss æ¯æ¶ãåãç§ã\n\næ³¨æï¼æçæ ¼å¼å¤§åï¼æçæ ¼å¼å°åï¼ä¾å¦ mm æ¯æä»½ï¼mm æ¯åï¼hh æ¯ 24 å°æ¶å¶ï¼è hh æ¯ 12 å°æ¶å¶ã\n\næ¶é´æ¨¡å¼å­ç¬¦ä¸²ç¨æ¥æå®æ¶é´æ ¼å¼ãå¨æ­¤æ¨¡å¼ä¸­ï¼ææç ascii å­æ¯è¢«ä¿çä¸ºæ¨¡å¼å­æ¯ï¼å®ä¹å¦ä¸ï¼\n\nå­æ¯   æè¿°                     ç¤ºä¾\ng    çºªåæ è®°                   ad\ny    åä½å¹´ä»½                   2001\nm    æä»½                     july or 07\nd    ä¸ä¸ªæçæ¥æ                 10\nh    a.m./p.m. (1~12)æ ¼å¼å°æ¶   12\nh    ä¸å¤©ä¸­çå°æ¶ (0~23)          22\nm    åéæ°                    30\ns    ç§æ°                     55\ns    æ¯«ç§æ°                    234\ne    ææå                     tuesday\nd    ä¸å¹´ä¸­çæ¥å­                 360\nf    ä¸ä¸ªæä¸­ç¬¬å å¨çå¨å              2 (second wed. in july)\nw    ä¸å¹´ä¸­ç¬¬å å¨                 40\nw    ä¸ä¸ªæä¸­ç¬¬å å¨                1\na    a.m./p.m. æ è®°           pm\nk    ä¸å¤©ä¸­çå°æ¶(1~24)           24\nk    a.m./p.m. (0~11)æ ¼å¼å°æ¶   10\nz    æ¶åº                     eastern standard time\n\'    æå­å®çç¬¦                  delimiter\n"    åå¼å·                    `\n\nãæ¼ç¤ºï¼ä½¿ç¨printfæ ¼å¼åæ¥æã\n\njava æ ¼å¼åè¾åº printf ä¾å­ï¼https://www.runoob.com/w3cnote/java-printf-formate-demo.html\n\nprintf æ¹æ³å¯ä»¥å¾è½»æ¾å°æ ¼å¼åæ¶é´åæ¥æãä½¿ç¨ä¸¤ä¸ªå­æ¯æ ¼å¼ï¼å®ä»¥ %t å¼å¤´å¹¶ä¸ä»¥ä¸é¢è¡¨æ ¼ä¸­çä¸ä¸ªå­æ¯ç»å°¾ã\n\npublic static void main(string[] args) {\n    // åå§å date å¯¹è±¡\n    date date = new date();\n    //cçä½¿ç¨\n    system.out.printf("å¨é¨æ¥æåæ¶é´ä¿¡æ¯ï¼%tc%n",date);\n    //fçä½¿ç¨\n    system.out.printf("å¹´-æ-æ¥æ ¼å¼ï¼%tf%n",date);\n    //dçä½¿ç¨\n    system.out.printf("æ/æ¥/å¹´æ ¼å¼ï¼%td%n",date);\n    //rçä½¿ç¨\n    system.out.printf("hh:mm:ss pmæ ¼å¼ï¼12æ¶å¶ï¼ï¼%tr%n",date);\n    //tçä½¿ç¨\n    system.out.printf("hh:mm:ssæ ¼å¼ï¼24æ¶å¶ï¼ï¼%tt%n",date);\n    //rçä½¿ç¨\n    system.out.printf("hh:mmæ ¼å¼ï¼24æ¶å¶ï¼ï¼%tr",date);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nç»æï¼\n\n> å¨é¨æ¥æåæ¶é´ä¿¡æ¯ï¼å¨äº 3æ 30 10:37:02 cst 2021 å¹´-æ-æ¥æ ¼å¼ï¼2021-03-30 æ/æ¥/å¹´æ ¼å¼ï¼03/30/21 hh:mm:ss pmæ ¼å¼ï¼12æ¶å¶ï¼ï¼10:37:02 ä¸å hh:mm:ssæ ¼å¼ï¼24æ¶å¶ï¼ï¼10:37:02 hh:mmæ ¼å¼ï¼24æ¶å¶ï¼ï¼10:37\n\nãæ¶é´ä¼ç ï¼ä¼ç (sleep)ã\n\nsleep()ä½¿å½åçº¿ç¨è¿å¥åæ»ç¶æï¼é»å¡å½åçº¿ç¨ï¼ï¼è®©åºcpuçä½¿ç¨ãç®çæ¯ä¸è®©å½åçº¿ç¨ç¬èªé¸å è¯¥è¿ç¨æè·çcpuèµæºï¼ä»¥çä¸å®æ¶é´ç»å¶ä»çº¿ç¨æ§è¡çæºä¼ã\n\nä½ å¯ä»¥è®©ç¨åºä¼ç ä¸æ¯«ç§çæ¶é´æèå°æ¨çè®¡ç®æºçå¯¿å½é¿çä»»ææ®µæ¶é´ãä¾å¦ï¼ä¸é¢çç¨åºä¼ä¼ç 3ç§ï¼\n\npublic static void main(string args[]) {\n    try {\n        system.out.println(new date( ) + "\\n");\n        thread.sleep(1000*3); // ä¼ç 3ç§\n        system.out.println(new date( ) + "\\n");\n    } catch (exception e) {\n        system.out.println("got an exception!");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 3ãcalendarç±»\n\næä»¬ç°å¨å·²ç»è½å¤æ ¼å¼åå¹¶åå»ºä¸ä¸ªæ¥æå¯¹è±¡äºï¼ä½æ¯æä»¬å¦ä½æè½è®¾ç½®åè·åæ¥ææ°æ®çç¹å®é¨åå¢ï¼æ¯å¦è¯´å°æ¶ï¼æ¥ï¼æèåé? æä»¬åå¦ä½å¨æ¥æçè¿äºé¨åå ä¸æèåå»å¼å¢? ç­æ¡æ¯ä½¿ç¨calendarç±»ãdateä¸­æå¾å¤æ¹æ³é½å·²ç»åºå¼äºï¼\n\ncalendarç±»çåè½è¦æ¯dateç±»å¼ºå¤§å¾å¤ï¼èä¸å¨å®ç°æ¹å¼ä¸ä¹æ¯dateç±»è¦å¤æä¸äºã\n\ncalendarç±»æ¯ä¸ä¸ªæ½è±¡ç±»ï¼å¨å®éä½¿ç¨æ¶å®ç°ç¹å®çå­ç±»çå¯¹è±¡ï¼åå»ºå¯¹è±¡çè¿ç¨å¯¹ç¨åºåæ¥è¯´æ¯éæçï¼åªéè¦ä½¿ç¨getinstanceæ¹æ³åå»ºå³å¯ã\n\nåå»ºä¸ä¸ªä»£è¡¨ç³»ç»å½åæ¥æçcalendarå¯¹è±¡\n\npublic static void main(string args[]) {\n    calendar c = calendar.getinstance();//é»è®¤æ¯å½åæ¥æ\n    system.out.println(c);\n}\n\n\n1\n2\n3\n4\n\n\nè¾åºï¼\n\n> java.util.gregoriancalendar[time=1617072097924,arefieldsset=true,areallfieldsset=true,lenient=true,zone=sun.util.calendar.zoneinfo[id="asia/shanghai",offset=28800000,dstsavings=0,usedaylight=false,transitions=31,lastrule=null],firstdayofweek=1,minimaldaysinfirstweek=1,era=1,year=2021,month=2,week_of_year=14,week_of_month=5,day_of_month=30,day_of_year=89,day_of_week=3,day_of_week_in_month=5,am_pm=0,hour=10,hour_of_day=10,minute=41,second=37,millisecond=924,zone_offset=28800000,dst_offset=0]\n\nåå»ºä¸ä¸ªæå®æ¥æçcalendarå¯¹è±¡\n\nä½¿ç¨calendarç±»ä»£è¡¨ç¹å®çæ¶é´ï¼éè¦é¦ååå»ºä¸ä¸ªcalendarçå¯¹è±¡ï¼ç¶ååè®¾å®è¯¥å¯¹è±¡ä¸­çå¹´ææ¥åæ°æ¥å®æã\n\n//åå»ºä¸ä¸ªä»£è¡¨2019å¹´4æ27æ¥çcalendarå¯¹è±¡\ncalendar c1 = calendar.getinstance();\nc1.set(2019, 4 - 1, 27);\n\n\n1\n2\n3\n\n\ncalendarç±»å¯¹è±¡å­æ®µç±»å\n\ncalendarç±»ä¸­ç¨ä»¥ä¸è¿äºå¸¸éè¡¨ç¤ºä¸åçæä¹ï¼jdkåçå¾å¤ç±»å¶å®é½æ¯éç¨çè¿ç§ææ³\n\nå¸¸é                      æè¿°\ncalendar.year           å¹´ä»½\ncalendar.month          æä»½\ncalendar.date           æ¥æ\ncalendar.day_of_month   æ¥æï¼åä¸é¢çå­æ®µæä¹å®å¨ç¸å\ncalendar.hour           12å°æ¶å¶çå°æ¶\ncalendar.hour_of_day    24å°æ¶å¶çå°æ¶\ncalendar.minute         åé\ncalendar.second         ç§\ncalendar.day_of_week    ææå \n\n// è·å¾å¹´ä»½\nint year = c1.get(calendar.year);\n// è·å¾æä»½\nint month = c1.get(calendar.month) + 1;\n// è·å¾æ¥æ\nint date = c1.get(calendar.date);\n// è·å¾å°æ¶\nint hour = c1.get(calendar.hour_of_day);\n// è·å¾åé\nint minute = c1.get(calendar.minute);\n// è·å¾ç§\nint second = c1.get(calendar.second);\n// è·å¾ææå ï¼æ³¨æï¼è¿ä¸ªä¸dateç±»æ¯ä¸åçï¼ï¼1ä»£è¡¨æææ¥ã2ä»£è¡¨ææ1ã3ä»£è¡¨ææäºï¼ä»¥æ­¤ç±»æ¨ï¼\nint day = c1.get(calendar.day_of_week);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nè®¾ç½®å®æ´æ¥æ\n\ncalendar c1 = calendar.getinstance();\nc1.set(2009, 6 - 1, 12);//æcalendarå¯¹è±¡c1çå¹´ææ¥åå«è®¾è¿ä¸ºï¼2009ã6ã12\n\n\n1\n2\n\n\nè®¾ç½®æä¸ªå­æ®µ\n\nc1.set(calendar.date,10);\nc1.set(calendar.year,2008);\n//å¶ä»å­æ®µå±æ§setçæä¹ä»¥æ­¤ç±»æ¨\n\n\n1\n2\n3\n\n\naddè®¾ç½®\n\n//æc1å¯¹è±¡çæ¥æå ä¸10ï¼ä¹å°±æ¯c1ä¹å°±è¡¨ç¤ºä¸º10å¤©åçæ¥æï¼å¶å®ææçæ°å¼ä¼è¢«éæ°è®¡ç®\nc1.add(calendar.date, 10);\n//æc1å¯¹è±¡çæ¥æåå»10ï¼ä¹å°±æ¯c1ä¹å°±è¡¨ç¤ºä¸º10å¤©åçæ¥æï¼å¶å®ææçæ°å¼ä¼è¢«éæ°è®¡ç®\nc1.add(calendar.date, -10);\n\n\n1\n2\n3\n4\n\n\nãæ¼ç¤ºï¼gregoriancalendarã\n\npublic static void main(string[] args) {\n    string months[] = {\n            "jan", "feb", "mar", "apr",\n            "may", "jun", "jul", "aug",\n            "sep", "oct", "nov", "dec"};\n\n    int year;\n    // åå§å gregorian æ¥å\n    // ä½¿ç¨å½åæ¶é´åæ¥æ\n    // é»è®¤ä¸ºæ¬å°æ¶é´åæ¶åº\n    gregoriancalendar gcalendar = new gregoriancalendar();\n    // æ¾ç¤ºå½åæ¶é´åæ¥æçä¿¡æ¯\n    system.out.print("date: ");\n    system.out.print(months[gcalendar.get(calendar.month)]);\n    system.out.print(" " + gcalendar.get(calendar.date) + " ");\n    system.out.println(year = gcalendar.get(calendar.year));\n    system.out.print("time: ");\n    system.out.print(gcalendar.get(calendar.hour) + ":");\n    system.out.print(gcalendar.get(calendar.minute) + ":");\n    system.out.println(gcalendar.get(calendar.second));\n\n    // æµè¯å½åå¹´ä»½æ¯å¦ä¸ºé°å¹´\n    if (gcalendar.isleapyear(year)) {\n        system.out.println("å½åå¹´ä»½æ¯é°å¹´");\n    } else {\n        system.out.println("å½åå¹´ä»½ä¸æ¯é°å¹´");\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\nè¾åºï¼\n\n> date: mar 30 2021 time: 10:49:35 å½åå¹´ä»½ä¸æ¯é°å¹´\n\næ³¨æï¼calenderçæä»½æ¯ä»0å¼å§çï¼ä½æ¥æåå¹´ä»½æ¯ä»1å¼å§ç\n\nãæ¼ç¤ºã\n\npublic static void main(string[] args) {\n    calendar c1 = calendar.getinstance();\n    c1.set(2017, 1, 1);\n    system.out.println(c1.get(calendar.year)\n            + "-" + c1.get(calendar.month)\n            + "-" + c1.get(calendar.date));\n    c1.set(2017, 1, 0);\n    system.out.println(c1.get(calendar.year)\n            + "-" + c1.get(calendar.month)\n            + "-" + c1.get(calendar.date));\n}\n/*\nè¾åº\n2017-1-1\n2017-0-31\n    /*\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nå¯è§ï¼å°æ¥æè®¾ä¸º0ä»¥åï¼æä»½åæäºä¸ä¸ªæï¼ä½æä»½å¯ä»¥ä¸º0ï¼ææä»½æ¹ä¸º2è¯è¯ï¼\n\npublic static void main(string[] args) {\n    calendar c1 = calendar.getinstance();\n    c1.set(2017, 2, 1);\n    system.out.println(c1.get(calendar.year)\n            + "-" + c1.get(calendar.month)\n            + "-" + c1.get(calendar.date));\n    c1.set(2017, 2, 0);\n    system.out.println(c1.get(calendar.year)\n            + "-" + c1.get(calendar.month)\n            + "-" + c1.get(calendar.date));\n}\n/*\nè¾åº\n2017-2-1\n2017-1-28\n*/\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nå¯ä»¥çå°ä¸ä¸ªæçæåä¸å¤©æ¯28å·ï¼æä»¥calendar.monthä¸º1çæ¶åæ¯2æ ã\n\n\n# stringç±»\n\n\n# 1ãstringæ¦è¿°\n\nå¨apiä¸­æ¯è¿æ ·æè¿°ï¼\n\nstring ç±»ä»£è¡¨å­ç¬¦ä¸²ãjava ç¨åºä¸­çææå­ç¬¦ä¸²å­é¢å¼ï¼å¦ "abc" ï¼é½ä½ä¸ºæ­¤ç±»çå®ä¾å®ç°ã å­ç¬¦ä¸²æ¯å¸¸éï¼å®ä»¬çå¼å¨åå»ºä¹åä¸è½æ´æ¹ãå­ç¬¦ä¸²ç¼å²åºæ¯æå¯åçå­ç¬¦ä¸²ãå ä¸º string å¯¹è±¡æ¯ä¸å¯åçï¼ æä»¥å¯ä»¥å±äº«ã\n\nãæ¼ç¤ºï¼æ¥çstringæºç ã\n\npublic final class string\nimplements java.io.serializable, comparable<string>, charsequence {\n    \n}\n\n\n1\n2\n3\n4\n\n\nãstringçæååéã\n\n//stringçå±æ§å¼\nprivate final char value[];\n\n//æ°ç»è¢«ä½¿ç¨çå¼å§ä½ç½®\nprivate final int offset;\n\n//stringä¸­åç´ çä¸ªæ°\nprivate final int count;\n\n//stringç±»åçhashå¼\nprivate int hash; // default to 0\n\nprivate static final long serialversionuid = -6849794470754667710l;\nprivate static final objectstreamfield[] serialpersistentfields =\nnew objectstreamfield[0];\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nä»æºç çåºstringåºå±ä½¿ç¨ä¸ä¸ªå­ç¬¦æ°ç»æ¥ç»´æ¤çã\n\næååéå¯ä»¥ç¥éstringç±»çå¼æ¯finalç±»åçï¼ä¸è½è¢«æ¹åçï¼æä»¥åªè¦ä¸ä¸ªå¼æ¹åå°±ä¼çæä¸ä¸ªæ°ç stringç±»åå¯¹è±¡ï¼å­å¨stringæ°æ®ä¹ä¸ä¸å®ä»æ°ç»çç¬¬0ä¸ªåç´ å¼å§çï¼èæ¯ä»offsetææçåç´ å¼å§ã\n\nãstringçæé æ¹æ³ã\n\nstring()\n//åå§åä¸ä¸ªæ°åå»ºç string å¯¹è±¡ï¼ä½¿å¶è¡¨ç¤ºä¸ä¸ªç©ºå­ç¬¦åºåã\n    \nstring(byte[] bytes)\n//éè¿ä½¿ç¨å¹³å°çé»è®¤å­ç¬¦éè§£ç æå®ç byte æ°ç»ï¼æé ä¸ä¸ªæ°ç stringã\n    \nstring(byte[] bytes, charset charset)\n//éè¿ä½¿ç¨æå®ç charset è§£ç æå®ç byte æ°ç»ï¼æé ä¸ä¸ªæ°ç stringã\n    \nstring(byte[] bytes, int offset, int length)\n//éè¿ä½¿ç¨å¹³å°çé»è®¤å­ç¬¦éè§£ç æå®ç byte å­æ°ç»ï¼æé ä¸ä¸ªæ°ç stringã\n    \nstring(byte[] bytes, int offset, int length, charset charset)\n//éè¿ä½¿ç¨æå®ç charset è§£ç æå®ç byte å­æ°ç»ï¼æé ä¸ä¸ªæ°ç stringã\n    \nstring(byte[] bytes, int offset, int length, string charsetname)\n//éè¿ä½¿ç¨æå®çå­ç¬¦éè§£ç æå®ç byte å­æ°ç»ï¼æé ä¸ä¸ªæ°ç stringã\n    \nstring(byte[] bytes, string charsetname)\n//éè¿ä½¿ç¨æå®ç charset è§£ç æå®ç byte æ°ç»ï¼æé ä¸ä¸ªæ°ç stringã\n    \nstring(char[] value)\n//åéä¸ä¸ªæ°ç stringï¼ä½¿å¶è¡¨ç¤ºå­ç¬¦æ°ç»åæ°ä¸­å½ååå«çå­ç¬¦åºåã\n    \nstring(char[] value, int offset, int count)\n//åéä¸ä¸ªæ°ç stringï¼å®åå«åèªå­ç¬¦æ°ç»åæ°ä¸ä¸ªå­æ°ç»çå­ç¬¦ã\n    \nstring(int[] codepoints, int offset, int count)\n//åéä¸ä¸ªæ°ç stringï¼å®åå« unicode ä»£ç ç¹æ°ç»åæ°ä¸ä¸ªå­æ°ç»çå­ç¬¦ã\n    \nstring(string original)\n//åå§åä¸ä¸ªæ°åå»ºç string å¯¹è±¡ï¼ä½¿å¶è¡¨ç¤ºä¸ä¸ªä¸åæ°ç¸åçå­ç¬¦åºåï¼æ¢å¥è¯è¯´ï¼æ°åå»ºçå­ç¬¦ä¸²æ¯è¯¥åæ°å­ç¬¦ä¸²çå¯æ¬ã\n    \nstring(stringbuffer buffer)\n//åéä¸ä¸ªæ°çå­ç¬¦ä¸²ï¼å®åå«å­ç¬¦ä¸²ç¼å²åºåæ°ä¸­å½ååå«çå­ç¬¦åºåã\n    \nstring(stringbuilder builder)\n//åéä¸ä¸ªæ°çå­ç¬¦ä¸²ï¼å®åå«å­ç¬¦ä¸²çæå¨åæ°ä¸­å½ååå«çå­ç¬¦åºåã\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\n\n# 2ãåå»ºå­ç¬¦ä¸²å¯¹è±¡æ¹å¼\n\nç´æ¥èµå¼æ¹å¼åå»ºå¯¹è±¡æ¯å¨æ¹æ³åºçå¸¸éæ± \n\nstring str="hello";//ç´æ¥èµå¼çæ¹å¼\n\n\n1\n\n\néè¿æé æ¹æ³åå»ºå­ç¬¦ä¸²å¯¹è±¡æ¯å¨å åå­\n\nstring str=new string("hello");//å®ä¾åçæ¹å¼\n\n\n1\n\n\nãä¸¤ç§å®ä¾åæ¹å¼çæ¯è¾ã\n\nç¼åä»£ç æ¯è¾\n\npublic static void main(string[] args) {\n    string str1 = "lance";\n    string str2 = new string("lance");\n    string str3 = str2; //å¼ç¨ä¼ éï¼str3ç´æ¥æåst2çå åå­å°å\n    string str4 = "lance";\n    /**\n     * ==:\n     * åºæ¬æ°æ®ç±»åï¼æ¯è¾çæ¯åºæ¬æ°æ®ç±»åçå¼æ¯å¦ç¸å\n     * å¼ç¨æ°æ®ç±»åï¼æ¯è¾çæ¯å¼ç¨æ°æ®ç±»åçå°åå¼æ¯å¦ç¸å\n     * æä»¥å¨è¿éçè¯ï¼stringç±»å¯¹è±¡==æ¯è¾ï¼æ¯è¾çæ¯å°åï¼èä¸æ¯åå®¹\n     */\n    system.out.println(str1 == str2);//false\n    system.out.println(str1 == str3);//false\n    system.out.println(str3 == str2);//true\n    system.out.println(str1 == str4);//true\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nåå­å¾åæ\n\n\n\nå¯è½è¿éè¿æ¯ä¸å¤ææ¾ï¼æé æ¹æ³å®ä¾åæ¹å¼çåå­å¾ï¼string str = new string("hello");\n\n\n\nå½æä»¬åä¸æ¬¡çnewä¸ä¸ªstringå¯¹è±¡æ¶ï¼\n\n\n\nãå­ç¬¦ä¸²å¸¸éæ± ã\n\nå¨å­ç¬¦ä¸²ä¸­ï¼å¦æéç¨ç´æ¥èµå¼çæ¹å¼ï¼string str="lance"ï¼è¿è¡å¯¹è±¡çå®ä¾åï¼åä¼å°å¿åå¯¹è±¡ âlanceâæ¾å¥å¯¹è±¡æ± ï¼æ¯å½ä¸ä¸æ¬¡å¯¹ä¸åçå¯¹è±¡è¿è¡ç´æ¥èµå¼çæ¶åä¼ç´æ¥å©ç¨æ± ä¸­åæçå¿åå¯¹è±¡ï¼æä»¬å¯ä»¥ç¨å¯¹è±¡æå·¥å¥æ± ï¼\n\npublic static void main(string args[]){\n    string str = new string("lance").intern();//å¯¹å¿åå¯¹è±¡è¿è¡æå·¥å¥æ± æä½\n    string str1 = "lance";\n    system.out.println(str==str1);//true\n}\n\n\n1\n2\n3\n4\n5\n\n\nãä¸¤ç§å®ä¾åæ¹å¼çåºå«ã\n\n 1. ç´æ¥èµå¼ï¼string str = "hello"ï¼\n    \n    åªå¼è¾ä¸åå åå­ç©ºé´ï¼å¹¶ä¸ä¼èªå¨å¥æ± ï¼ä¸ä¼äº§çåå¾ã\n\n 2. æé æ¹æ³ï¼string str= new string("hello");ï¼\n    \n    ä¼å¼è¾ä¸¤åå åå­ç©ºé´ï¼å¶ä¸­ä¸åå åå­ä¼åæåå¾è¢«ç³»ç»åæ¶ï¼èä¸ä¸è½å¤èªå¨å¥æ± ï¼éè¦éè¿public string intern();æ¹æ³è¿è¡æå·¥å¥æ± ã\n\n 3. å¨å¼åçè¿ç¨ä¸­ä¸ä¼éç¨æé æ¹æ³è¿è¡å­ç¬¦ä¸²çå®ä¾åã\n\nãé¿åç©ºæåã\n\né¦åäºè§£ï¼ == åpublic boolean equals()æ¯è¾å­ç¬¦ä¸²çåºå«\n\n==å¨å¯¹å­ç¬¦ä¸²æ¯è¾çæ¶åï¼å¯¹æ¯çæ¯åå­å°åï¼èequalsæ¯è¾çæ¯å­ç¬¦ä¸²åå®¹ï¼å¨å¼åçè¿ç¨ä¸­ï¼ equals()éè¿æ¥ååæ°ï¼å¯ä»¥é¿åç©ºæåã\n\nstring str = null;\nif(str.equals("hello")){//æ­¤æ¶ä¼åºç°ç©ºæåå¼å¸¸\n\n}\n\nif("hello".equals(str)){//æ­¤æ¶equalsä¼å¤çnullå¼ï¼å¯ä»¥é¿åç©ºæåå¼å¸¸\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nstringç±»å¯¹è±¡ä¸æ¦å£°æåä¸å¯ä»¥æ¹åï¼èæ¹åçåªæ¯å°åï¼åæ¥çå­ç¬¦ä¸²è¿æ¯å­å¨çï¼å¹¶ä¸äº§çåå¾\n\n\n\n\n# 3ãstringå¸¸ç¨çæ¹æ³\n\n\n\n# stringçå¤æ­\n\n> boolean equals(object obj)ï¼æ¯è¾å­ç¬¦ä¸²çåå®¹æ¯å¦ç¸å boolean equalsignorecase(string str)ï¼ æ¯è¾å­ç¬¦ä¸²çåå®¹æ¯å¦ç¸å,å¿½ç¥å¤§å°å boolean startswith(string str)ï¼ å¤æ­å­ç¬¦ä¸²å¯¹è±¡æ¯å¦ä»¥æå®çstrå¼å¤´ boolean endswith(string str)ï¼ å¤æ­å­ç¬¦ä¸²å¯¹è±¡æ¯å¦ä»¥æå®çstrç»å°¾\n\næ¼ç¤ºï¼\n\npublic static void main(string[] args) {\n    // åå»ºå­ç¬¦ä¸²å¯¹è±¡\n    string s1 = "hello";\n    string s2 = "hello";\n    string s3 = "hello";\n    \n    // boolean equals(object obj):æ¯è¾å­ç¬¦ä¸²çåå®¹æ¯å¦ç¸å\n    system.out.println(s1.equals(s2)); //true\n    system.out.println(s1.equals(s3)); //false\n    system.out.println("-----------");\n    \n    // boolean equalsignorecase(string str):æ¯è¾å­ç¬¦ä¸²çåå®¹æ¯å¦ç¸å,å¿½ç¥å¤§å°å\n    system.out.println(s1.equalsignorecase(s2)); //true\n    system.out.println(s1.equalsignorecase(s3)); //true\n    system.out.println("-----------");\n    \n    // boolean startswith(string str):å¤æ­å­ç¬¦ä¸²å¯¹è±¡æ¯å¦ä»¥æå®çstrå¼å¤´\n    system.out.println(s1.startswith("he")); //true\n    system.out.println(s1.startswith("ll")); //false\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n# stringçæªå\n\n> int length():è·åå­ç¬¦ä¸²çé¿åº¦ï¼å¶å®ä¹å°±æ¯å­ç¬¦ä¸ªæ° char charat(int index):è·åæå®ç´¢å¼å¤çå­ç¬¦ int indexof(string str):è·åstrå¨å­ç¬¦ä¸²å¯¹è±¡ä¸­ç¬¬ä¸æ¬¡åºç°çç´¢å¼ string substring(int start):ä»startå¼å§æªåå­ç¬¦ä¸² string substring(int start,int end):ä»startå¼å§ï¼å°endç»ææªåå­ç¬¦ä¸²ãåæ¬startï¼ä¸åæ¬end\n\næ¼ç¤º\n\npublic static void main(string args[]) {\n    // åå»ºå­ç¬¦ä¸²å¯¹è±¡\n    string s = "helloworld";\n    // int length():è·åå­ç¬¦ä¸²çé¿åº¦ï¼å¶å®ä¹å°±æ¯å­ç¬¦ä¸ªæ°\n    system.out.println(s.length()); //10\n    system.out.println("--------");\n    // char charat(int index):è·åæå®ç´¢å¼å¤çå­ç¬¦\n    system.out.println(s.charat(0)); //h\n    system.out.println(s.charat(1)); //e\n    system.out.println("--------");\n    // int indexof(string str):è·åstrå¨å­ç¬¦ä¸²å¯¹è±¡ä¸­ç¬¬ä¸æ¬¡åºç°çç´¢å¼\n    system.out.println(s.indexof("l")); //2\n    system.out.println(s.indexof("owo")); //4\n    system.out.println(s.indexof("ak")); //-1\n    system.out.println("--------");\n    // string substring(int start):ä»startå¼å§æªåå­ç¬¦ä¸²\n    system.out.println(s.substring(0)); //helloworld\n    system.out.println(s.substring(5)); //world\n    system.out.println("--------");\n    // string substring(int start,int end):ä»startå¼å§ï¼å°endç»ææªåå­ç¬¦ä¸²\n    system.out.println(s.substring(0, s.length())); //helloworld\n    system.out.println(s.substring(3, 8)); //lowor\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n# stringçè½¬æ¢\n\n> char[] tochararray()ï¼æå­ç¬¦ä¸²è½¬æ¢ä¸ºå­ç¬¦æ°ç» string tolowercase()ï¼æå­ç¬¦ä¸²è½¬æ¢ä¸ºå°åå­ç¬¦ä¸² string touppercase()ï¼æå­ç¬¦ä¸²è½¬æ¢ä¸ºå¤§åå­ç¬¦ä¸²\n\næ¼ç¤º\n\npublic static void main(string args[]) {\n\t// åå»ºå­ç¬¦ä¸²å¯¹è±¡\n    string s = "abcde";\n    \n    // char[] tochararray():æå­ç¬¦ä¸²è½¬æ¢ä¸ºå­ç¬¦æ°ç»\n    char[] chs = s.tochararray();\n    for (int x = 0; x < chs.length; x++) {\n        system.out.println(chs[x]);\n    }\n    \n    system.out.println("-----------");\n    \n    // string tolowercase():æå­ç¬¦ä¸²è½¬æ¢ä¸ºå°åå­ç¬¦ä¸²\n    system.out.println("helloworld".tolowercase());\n    // string touppercase():æå­ç¬¦ä¸²è½¬æ¢ä¸ºå¤§åå­ç¬¦ä¸²\n    system.out.println("helloworld".touppercase());\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n# å¶ä»æ¹æ³\n\n> å»é¤å­ç¬¦ä¸²ä¸¤ç«¯ç©ºæ ¼ï¼string trim()\n> \n> æç§æå®ç¬¦å·åå²å­ç¬¦ä¸²ï¼string[] split(string str)\n\npublic static void main(string args[]) {\n    // åå»ºå­ç¬¦ä¸²å¯¹è±¡\n    string s1 = "helloworld";\n    string s2 = " helloworld ";\n    string s3 = " hello world ";\n    system.out.println("---" + s1 + "---");\n    system.out.println("---" + s1.trim() + "---");\n    system.out.println("---" + s2 + "---");\n    system.out.println("---" + s2.trim() + "---");\n    system.out.println("---" + s3 + "---");\n    system.out.println("---" + s3.trim() + "---");\n    system.out.println("-------------------");\n    \n    // string[] split(string str)\n    // åå»ºå­ç¬¦ä¸²å¯¹è±¡\n    string s4 = "aa,bb,cc";\n    string[] strarray = s4.split(",");\n    for (int x = 0; x < strarray.length; x++) {\n        system.out.println(strarray[x]);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# 4ãstringçä¸å¯åæ§\n\nå½æä»¬å»éè¯»æºä»£ç çæ¶åï¼ä¼åç°æè¿æ ·çä¸å¥è¯ï¼\n\n> strings are constant; their values cannot be changed after they are created.\n\nææå°±æ¯è¯´ï¼stringæ¯ä¸ªå¸¸éï¼ä»ä¸åºçå°±æ³¨å®ä¸å¯å\n\nææ³å¤§å®¶åºè¯¥å°±ç¥éä¸ºä»ä¹stringä¸å¯åäºï¼stringç±»è¢«finalä¿®é¥°ï¼å®æ¹æ³¨éè¯´æåå»ºåä¸è½è¢«æ¹åï¼ä½ æ¯ä¸ºä»ä¹stringè¦ä½¿ç¨finalä¿®é¥°å¢ï¼\n\näºè§£ä¸ä¸ªç»å¸çé¢è¯é¢\n\npublic static void main(string[] args) {\n    string a = "abc";\n    string b = "abc";\n    string c = new string("abc");\n    system.out.println(a==b); //true\n    system.out.println(a.equals(b)); //true\n    system.out.println(a==c); //false\n    system.out.println(a.equals(c)); //true\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n\nå ä¸ºstringå¤ªè¿å¸¸ç¨ï¼javaç±»åºçè®¾è®¡èå¨å®ç°æ¶åäºä¸ªå°å°çååï¼å³éç¨äºäº«åæ¨¡å¼ï¼æ¯å½çæä¸ä¸ªæ°åå®¹çå­ç¬¦ä¸²æ¶ï¼ä»ä»¬é½è¢«æ·»å å°ä¸ä¸ªå±äº«æ± ä¸­ï¼å½ç¬¬äºæ¬¡åæ¬¡çæåæ ·åå®¹çå­ç¬¦ä¸²å®ä¾æ¶ï¼å°±å±äº«æ­¤å¯¹è±¡ï¼èä¸æ¯åå»ºä¸ä¸ªæ°å¯¹è±¡ï¼ä½æ¯è¿æ ·çåæ³ä»ä»éåäºéè¿=ç¬¦å·è¿è¡çåå§åã\n\néè¦è¯´æä¸ç¹çæ¯ï¼å¨objectä¸­ï¼equals()æ¯ç¨æ¥æ¯è¾åå­å°åçï¼ä½æ¯stringéåäºequals()æ¹ æ³ï¼ç¨æ¥æ¯è¾åå®¹çï¼å³ä½¿æ¯ä¸åå°åï¼åªè¦åå®¹ä¸è´ï¼ä¹ä¼è¿åtrueï¼è¿ä¹å°±æ¯ä¸ºä»ä¹a.equals(c)è¿åtrueçåå äºã\n\nstringä¸å¯åçå¥½å¤\n\n * å¯ä»¥å®ç°å¤ä¸ªåéå¼ç¨å åå­ä¸­çåä¸ä¸ªå­ç¬¦ä¸²å®ä¾ï¼é¿ååå»ºçå¼éã\n * æä»¬çç¨åºä¸­å¤§éä½¿ç¨äºstringå­ç¬¦ä¸²ï¼æå¯è½æ¯åºäºå®å¨æ§èèã\n * å¤§å®¶é½ç¥éhashmapä¸­keyä¸ºstringç±»åï¼å¦æå¯åå°åçå¤ä¹å¯æã\n * å½æä»¬å¨ä¼ åçæ¶åï¼ä½¿ç¨ä¸å¯åç±»ä¸éè¦å»èèè°å¯è½ä¼ä¿®æ¹å¶åé¨çå¼ï¼å¦æä½¿ç¨å¯åç±»çè¯ï¼å¯è½éè¦æ¯æ¬¡è®°å¾éæ°æ·è´åºéé¢çå¼ï¼æ§è½ä¼æä¸å®çæå¤±ã\n\n\n# 5ãå­ç¬¦ä¸²å¸¸éæ± \n\nå­ç¬¦ä¸²å¸¸éæ± æ¦è¿°ï¼\n\n1ãå¸¸éæ± è¡¨ï¼constant_pool tableï¼\n\nclassæä»¶ä¸­å­å¨ææå¸¸éï¼åæ¬å­ç¬¦ä¸²ï¼çtableãè¿æ¯classæä»¶ä¸­çåå®¹ï¼è¿ä¸æ¯è¿è¡æ¶çåå®¹ï¼ä¸è¦çè§£å®æ¯ä¸ªæ± å­ï¼å¶å®å°±æ¯classæä»¶ä¸­çå­èç æä»¤ã\n\n2ãè¿è¡æ¶å¸¸éæ± ï¼runtime constant poolï¼\n\njvmåå­ä¸­æ¹æ³åºçä¸é¨åï¼è¿æ¯è¿è¡æ¶çåå®¹ãè¿é¨ååå®¹ï¼ç»å¤§é¨åï¼æ¯éçjvmè¿è¡æ¶åï¼ä»å¸¸éæ± è½¬åèæ¥ï¼æ¯ä¸ªclasså¯¹åºä¸ä¸ªè¿è¡æ¶å¸¸éæ± ãä¸ä¸å¥ä¸­è¯´ç»å¤§é¨åæ¯å ä¸ºï¼é¤äº classä¸­å¸¸éæ± å å®¹ï¼è¿å¯è½åæ¬å¨æçæå¹¶å å¥è¿éçåå®¹ã\n\n3ãå­ç¬¦ä¸²å¸¸éæ± ï¼string poolï¼\n\nè¿é¨åä¹å¨æ¹æ³åºä¸­ï¼ä½ä¸runtime constant poolä¸æ¯ä¸ä¸ªæ¦å¿µï¼string poolæ¯jvmå®ä¾å¨å±å±äº«çï¼å¨å±åªæä¸ä¸ªãjvmè§èè¦æ±è¿å¥è¿éçstringå®ä¾å«âè¢«é©»ççinterned stringâï¼åä¸ªjvmå¯ä»¥æä¸åçå®ç°ï¼hotspotæ¯è®¾ç½®äºä¸ä¸ªåå¸è¡¨stringtableæ¥å¼ç¨å ä¸­çå­ç¬¦ä¸²å®ä¾ï¼è¢«å¼ç¨å°±æ¯è¢«é©»çã\n\nãäº¨åæ¨¡å¼ã\n\nå¶å®å­ç¬¦ä¸²å¸¸éæ± è¿ä¸ªé®é¢æ¶åå°ä¸ä¸ªè®¾è®¡æ¨¡å¼ï¼å«âäº«åæ¨¡å¼âï¼é¡¾åæä¹ - - - > å±äº«åç´ æ¨¡å¼ ä¹å°±æ¯è¯´ï¼ä¸ä¸ªç³»ç»ä¸­å¦ææå¤å¤ç¨å°äºç¸åçä¸ä¸ªåç´ ï¼é£ä¹æä»¬åºè¯¥åªå­å¨ä¸ä»½æ­¤åç´ ï¼èè®©ææå°æ¹é½å¼ç¨è¿ä¸ä¸ªåç´ \n\njavaä¸­stringé¨åå°±æ¯æ ¹æ®äº«åæ¨¡å¼è®¾è®¡çï¼èé£ä¸ªå­å¨åç´ çå°æ¹å°±å«åâå­ç¬¦ä¸²å¸¸éæ±  - string poolâ\n\nãè¯¦ç»åæã\n\nint x = 10;\nstring y = "hello";\n\n\n1\n2\n\n\nâ  é¦åï¼ 10å "hello"ä¼å¨ç»è¿javacï¼æèå¶ä»ç¼è¯å¨ï¼ç¼è¯è¿ååä¸ºclassæä»¶ä¸­ constant_pool table çåå®¹\n\nâ¡ å½æä»¬çç¨åºè¿è¡æ¶ï¼ä¹å°±æ¯è¯´jvmè¿è¡æ¶ï¼æ¯ä¸ªclass constant_pool table ä¸­çåå®¹ä¼è¢«å è½½å°jvmåå­ä¸­çæ¹æ³åºä¸­åèªclassç runtime constant poolã\n\nâ¢ ä¸ä¸ªæ²¡æè¢«string poolåå«çruntime constant poolä¸­çå­ç¬¦ä¸²ï¼è¿éæ¯"hello"ï¼ä¼è¢«å å¥å° string poolä¸­ï¼hosspotä½¿ç¨hashtableå¼ç¨æ¹å¼ï¼ï¼æ­¥éª¤å¦ä¸ï¼\n\n 1. å¨java heapï¼å ï¼ä¸­æ ¹æ®"hello"å­é¢écreateä¸ä¸ªå­ç¬¦ä¸²å¯¹è±¡\n\n 2. å°å­é¢é"hello"ä¸å­ç¬¦ä¸²å¯¹è±¡çå¼ç¨å¨hashtableä¸­å³èèµ·æ¥é® - å¼\n    \n    å½¢å¼æ¯ï¼"hello" = å¯¹è±¡çå¼ç¨å°åã\n\nå¦å¤æ¥è¯´ï¼å½ä¸ä¸ªæ°çå­ç¬¦ä¸²åºç°å¨runtime constant poolä¸­æ¶æä¹å¤æ­éä¸éè¦å¨java heapä¸­åå»º æ°å¯¹è±¡å¢ï¼\n\nç­ç¥æ¯è¿æ ·ï¼ä¼åå»æ ¹æ®equalsæ¥æ¯è¾runtime constant poolä¸­çè¿ä¸ªå­ç¬¦ä¸²æ¯å¦åstring poolä¸­æä¸ä¸ªæ¯ç¸ç­çï¼ä¹å°±æ¯æ¾æ¯å¦å·²ç»å­å¨ï¼ï¼å¦ææé£ä¹å°±ä¸åå»ºï¼ç´æ¥ä½¿ç¨å¶å¼ç¨ï¼åä¹ï¼å°±å¦åä¸é¢çç¬¬ä¸æ­¥ã\n\nå¦æ­¤ï¼å°±å®ç°äºäº«åæ¨¡å¼ï¼æé«çåå­å©ç¨æçã\n\nä¸¾ä¾ï¼\n\n> ä½¿ç¨string s = new string("hello");ä¼åå»ºå ä¸ªå¯¹è±¡ ç­ï¼ä¼åå»º2ä¸ªå¯¹è±¡\n> \n> é¦åï¼åºç°äºå­é¢é"hello"ï¼é£ä¹å»string poolä¸­æ¥æ¾æ¯å¦æç¸åå­ç¬¦ä¸²å­å¨ï¼å ä¸ºç¨åºå°±è¿ä¸è¡ä»£ç æä»¥è¯å®æ²¡æï¼é£ä¹å°±å¨java heapä¸­ç¨å­é¢é"hello"é¦ååå»º1ä¸ªstringå¯¹è±¡ã\n> \n> æ¥çï¼new string("hello")ï¼å³é®å­newåå¨java heapä¸­åå»ºäº1ä¸ªå¯¹è±¡ï¼ç¶åè°ç¨æ¥æ¶string åæ°çæé å¨è¿è¡äºåå§åãæç»sçå¼ç¨æ¯è¿ä¸ªstringå¯¹è±¡.\n\n\n# stringbuilderåstringbuffer\n\n\n# 1ãæ¦è¿°\n\nãæ¼ç¤ºï¼æ¥çæºç åapiææ¡£ã\n\npublic final class stringbuilder\n    extends abstractstringbuilder\n    implements java.io.serializable, charsequence{\n    \n}\n\n\n1\n2\n3\n4\n5\n\n\nstringbuilder æ¯ä¸ä¸ªå¯åçå­ç¬¦åºåãå®ç»§æ¿äºabstractstringbuilderï¼å®ç°äºcharsequenceæ¥å£ã stringbuffer ä¹æ¯ç»§æ¿äºabstractstringbuilderçå­ç±»ï¼ ä½æ¯ï¼stringbuilderåstringbufferä¸åï¼åèæ¯éçº¿ç¨å®å¨çï¼åèæ¯çº¿ç¨å®å¨çã\n\nstringbuilder å charsequenceä¹é´çå³ç³»å¾å¦ä¸ï¼\n\n\n\nãæºç æ¦è§ã\n\npackage java.lang;\npublic final class stringbuilder\n    extends abstractstringbuilder\n    implements java.io.serializable, charsequence {\n    \n    static final long serialversionuid = 4383685877147921099l;\n    // æé å½æ°ãé»è®¤çå­ç¬¦æ°ç»å¤§å°æ¯16ã\n    public stringbuilder() {\n        super(16);\n    }\n    \n    // æé å½æ°ãæå®stringbuilderçå­ç¬¦æ°ç»å¤§å°æ¯capacityã\n        public stringbuilder(int capacity) {\n        super(capacity);\n    }\n    \n    // æé å½æ°ãæå®å­ç¬¦æ°ç»å¤§å°=stré¿åº¦+15ï¼ä¸å°strçå¼èµå¼å°å½åå­ç¬¦æ°ç»ä¸­ã\n    public stringbuilder(string str) {\n        super(str.length() + 16);\n        append(str);\n    }\n    \n    // æé å½æ°ãæå®å­ç¬¦æ°ç»å¤§å°=seqé¿åº¦+15ï¼ä¸å°seqçå¼èµå¼å°å½åå­ç¬¦æ°ç»ä¸­ã\n    public stringbuilder(charsequence seq) {\n        this(seq.length() + 16);\n        append(seq);\n    }\n    \n    // è¿½å âå¯¹è±¡objå¯¹åºçå­ç¬¦ä¸²âãstring.valueof(obj)å®éä¸æ¯è°ç¨obj.tostring()\n    public stringbuilder append(object obj) {\n        return append(string.valueof(obj));\n    }\n    \n    // è¿½å âstrâã\n    public stringbuilder append(string str) {\n        super.append(str);\n        return this;\n    }\n    \n      // è¿½å âsbçåå®¹âã\n    private stringbuilder append(stringbuilder sb) {\n        if (sb == null)\n        \treturn append("null");\n        int len = sb.length();\n        int newcount = count + len;\n        if (newcount > value.length)\n        \texpandcapacity(newcount);\n        sb.getchars(0, len, value, count);\n        count = newcount;\n        return this;\n    }\n    \n    // è¿½å âsbçåå®¹âã\n    public stringbuilder append(stringbuffer sb) {\n        super.append(sb);\n        return this;\n    }\n    \n    // è¿½å âsçåå®¹âã\n    public stringbuilder append(charsequence s) {\n        if (s == null)\n            s = "null";\n        if (s instanceof string)\n            return this.append((string)s);\n        if (s instanceof stringbuffer)\n            return this.append((stringbuffer)s);\n        if (s instanceof stringbuilder)\n            return this.append((stringbuilder)s);\n        return this.append(s, 0, s.length());\n    }\n\n    // è¿½å âsä»start(åæ¬)å°end(ä¸åæ¬)çåå®¹âã\n    public stringbuilder append(charsequence s, int start, int end) {\n        super.append(s, start, end);\n        return this;\n    }\n    \n    // è¿½å âstrå­ç¬¦æ°ç»å¯¹åºçå­ç¬¦ä¸²â\n    public stringbuilder append(char[] str) {\n        super.append(str);\n        return this;\n    }\n    \n    // è¿½å âsträ»offsetå¼å§çåå®¹ï¼åå®¹é¿åº¦æ¯lenâ\n    public stringbuilder append(char[] str, int offset, int len) {\n        super.append(str, offset, len);\n        return this;\n    }\n    \n    // è¿½å âbå¯¹åºçå­ç¬¦ä¸²â\n    public stringbuilder append(boolean b) {\n        super.append(b);\n        return this;\n    }\n    \n    // è¿½å âcâ\n    public stringbuilder append(char c) {\n        super.append(c);\n        return this;\n    }\n    \n    // è¿½å âiâ\n    public stringbuilder append(int i) {\n        super.append(i);\n        return this;\n    }\n    \n    // è¿½å âlngâ\n    public stringbuilder append(long lng) {\n        super.append(lng);\n        return this;\n    }\n    \n    // è¿½å âfâ\n    public stringbuilder append(float f) {\n        super.append(f);\n        return this;\n    }\n    \n    // è¿½å âdâ\n    public stringbuilder append(double d) {\n        super.append(d);\n        return this;\n    }\n    \n    // è¿½å âcodepointâ\n    public stringbuilder appendcodepoint(int codepoint) {\n        super.appendcodepoint(codepoint);\n        return this;\n    }\n    \n    // å é¤âä»start(åæ¬)å°endçåå®¹â\n    public stringbuilder delete(int start, int end) {\n        super.delete(start, end);\n        return this;\n    }\n    \n    // å é¤âä½ç½®indexçåå®¹â\n    public stringbuilder deletecharat(int index) {\n        super.deletecharat(index);\n        return this;\n    }\n    \n    // âç¨stræ¿æ¢stringbuilderä¸­ä»start(åæ¬)å°end(ä¸åæ¬)çåå®¹â\n    public stringbuilder replace(int start, int end, string str) {\n        super.replace(start, end, str);\n        return this;\n    }\n    \n    // âå¨stringbuilderçä½ç½®indexå¤æå¥âsträ¸­ä»offsetå¼å§çåå®¹âï¼æå¥åå®¹é¿åº¦æ¯lenâ\n    public stringbuilder insert(int index, char[] str, int offset,\n    int len)\n    {\n        super.insert(index, str, offset, len);\n        return this;\n    }\n    \n    // âå¨stringbuilderçä½ç½®offsetå¤æå¥objå¯¹åºçå­ç¬¦ä¸²â\n    public stringbuilder insert(int offset, object obj) {\n    \treturn insert(offset, string.valueof(obj));\n    }\n    \n    // âå¨stringbuilderçä½ç½®offsetå¤æå¥strâ\n    public stringbuilder insert(int offset, string str) {\n        super.insert(offset, str);\n        return this;\n    }\n    \n    // âå¨stringbuilderçä½ç½®offsetå¤æå¥strâ\n    public stringbuilder insert(int offset, char[] str) {\n        super.insert(offset, str);\n        return this;\n    }\n    \n    // âå¨stringbuilderçä½ç½®dstoffsetå¤æå¥sâ\n    public stringbuilder insert(int dstoffset, charsequence s) {\n        if (s == null)\n       \t \ts = "null";\n        if (s instanceof string)\n        \treturn this.insert(dstoffset, (string)s);\n        return this.insert(dstoffset, s, 0, s.length());\n    }\n    \n    // âå¨stringbuilderçä½ç½®dstoffsetå¤æå¥\'sä¸­ä»startå°endçåå®¹\'â\n    public stringbuilder insert(int dstoffset, charsequence s,\n    int start, int end)\n    {\n        super.insert(dstoffset, s, start, end);\n        return this;\n    }\n    \n    // âå¨stringbuilderçä½ç½®offsetå¤æå¥bâ\n    public stringbuilder insert(int offset, boolean b) {\n        super.insert(offset, b);\n        return this;\n    }\n    \n    // âå¨stringbuilderçä½ç½®offsetå¤æå¥câ\n    public stringbuilder insert(int offset, char c) {\n        super.insert(offset, c);\n        return this;\n    }\n    \n    // âå¨stringbuilderçä½ç½®offsetå¤æå¥iâ\n    public stringbuilder insert(int offset, int i) {\n    \treturn insert(offset, string.valueof(i));\n    }\n\n    // âå¨stringbuilderçä½ç½®offsetå¤æå¥lâ\n    public stringbuilder insert(int offset, long l) {\n    \treturn insert(offset, string.valueof(l));\n    }\n    \n    // âå¨stringbuilderçä½ç½®offsetå¤æå¥fâ\n    public stringbuilder insert(int offset, float f) {\n    \treturn insert(offset, string.valueof(f));\n    }\n    \n    // âå¨stringbuilderçä½ç½®offsetå¤æå¥dâ\n    public stringbuilder insert(int offset, double d) {\n   \t\t return insert(offset, string.valueof(d));\n    }\t\n    \n    // è¿åâstrâå¨stringbuilderçä½ç½®\n    public int indexof(string str) {\n   \t\t return indexof(str, 0);\n    }\n    \n    // ä»fromindexå¼å§æ¥æ¾ï¼è¿åâstrâå¨stringbuilderçä½ç½®\n    public int indexof(string str, int fromindex) {\n        return string.indexof(value, 0, count,\n        \tstr.tochararray(), 0, str.length(),fromindex);\n    }\n    \n    // ä»åååæ¥æ¾ï¼è¿åâstrâå¨stringbuilderçä½ç½®\n    public int lastindexof(string str) {\n   \t\t return lastindexof(str, count);\n    }\n    \n    // ä»fromindexå¼å§ï¼ä»åååæ¥æ¾ï¼è¿åâstrâå¨stringbuilderçä½ç½®\n    public int lastindexof(string str, int fromindex) {\n    return string.lastindexof(value, 0, count,\n    \tstr.tochararray(), 0, str.length(),fromindex);\n    }\n    \n    // åè½¬stringbuilder\n    public stringbuilder reverse() {\n        super.reverse();\n        return this;\n    }\n    \n    public string tostring() {\n    // create a copy, don\'t share the array\n    \treturn new string(value, 0, count);\n    }\n    \n    // åºååå¯¹åºçåå¥å½æ°\n    private void writeobject(java.io.objectoutputstream s)\n        throws java.io.ioexception {\n            s.defaultwriteobject();\n            s.writeint(count);\n            s.writeobject(value);\n    }\n    \n        // åºååå¯¹åºçè¯»åå½æ°\n    private void readobject(java.io.objectinputstream s)\n        throws java.io.ioexception, classnotfoundexception {\n            s.defaultreadobject();\n            count = s.readint();\n            value = (char[]) s.readobject();\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n157\n158\n159\n160\n161\n162\n163\n164\n165\n166\n167\n168\n169\n170\n171\n172\n173\n174\n175\n176\n177\n178\n179\n180\n181\n182\n183\n184\n185\n186\n187\n188\n189\n190\n191\n192\n193\n194\n195\n196\n197\n198\n199\n200\n201\n202\n203\n204\n205\n206\n207\n208\n209\n210\n211\n212\n213\n214\n215\n216\n217\n218\n219\n220\n221\n222\n223\n224\n225\n226\n227\n228\n229\n230\n231\n232\n233\n234\n235\n236\n237\n238\n239\n240\n241\n242\n243\n244\n245\n246\n247\n248\n249\n250\n251\n252\n253\n254\n255\n256\n257\n258\n259\n260\n261\n262\n263\n264\n265\n266\n267\n268\n269\n270\n271\n\n\n\n# 2ãå¸¸ç¨æ¹æ³\n\n# insert\n\npublic static void main(string[] args) {\n    stringbuilder sbuilder = new stringbuilder();\n    // å¨ä½ç½®0å¤æå¥å­ç¬¦æ°ç»\n    sbuilder.insert(0, new char[]{\'a\', \'b\', \'c\', \'d\', \'e\'});\n    // å¨ä½ç½®0å¤æå¥å­ç¬¦æ°ç»ã0è¡¨ç¤ºå­ç¬¦æ°ç»èµ·å§ä½ç½®ï¼3è¡¨ç¤ºé¿åº¦\n    sbuilder.insert(0, new char[]{\'a\', \'b\', \'c\', \'d\', \'e\'}, 0, 3);\n    // å¨ä½ç½®0å¤æå¥float\n    sbuilder.insert(0, 1.414f);\n    // å¨ä½ç½®0å¤æå¥double\n    sbuilder.insert(0, 3.14159d);\n    // å¨ä½ç½®0å¤æå¥boolean\n    sbuilder.insert(0, true);\n    // å¨ä½ç½®0å¤æå¥char\n    sbuilder.insert(0, \'\\n\');\n    // å¨ä½ç½®0å¤æå¥int\n    sbuilder.insert(0, 100);\n    // å¨ä½ç½®0å¤æå¥long\n    sbuilder.insert(0, 12345l);\n    // å¨ä½ç½®0å¤æå¥stringbuilderå¯¹è±¡\n    sbuilder.insert(0, new stringbuilder("stringbuilder"));\n    // å¨ä½ç½®0å¤æå¥stringbuilderå¯¹è±¡ã6è¡¨ç¤ºè¢«å¨ä½ç½®0å¤æå¥å¯¹è±¡çèµ·å§ä½ç½®(åæ¬)ï¼13æ¯ç»æä½ç½®(ä¸åæ¬)\n    sbuilder.insert(0, new stringbuilder("stringbuilder"), 6, 13);\n    // å¨ä½ç½®0å¤æå¥stringbufferå¯¹è±¡ã\n    sbuilder.insert(0, new stringbuffer("stringbuffer"));\n    // å¨ä½ç½®0å¤æå¥stringbufferå¯¹è±¡ã6è¡¨ç¤ºè¢«å¨ä½ç½®0å¤æå¥å¯¹è±¡çèµ·å§ä½ç½®(åæ¬)ï¼12æ¯ç»æä½ç½®(ä¸åæ¬)\n    sbuilder.insert(0, new stringbuffer("stringbuffer"), 6, 12);\n    // å¨ä½ç½®0å¤æå¥stringå¯¹è±¡ã\n    sbuilder.insert(0, "string");\n    // å¨ä½ç½®0å¤æå¥stringå¯¹è±¡ã1è¡¨ç¤ºè¢«å¨ä½ç½®0å¤æå¥å¯¹è±¡çèµ·å§ä½ç½®(åæ¬)ï¼6æ¯ç»æä½ç½®(ä¸åæ¬)\n    sbuilder.insert(0, "0123456789", 1, 6);\n    sbuilder.insert(0, \'\\n\');\n    \n    // å¨ä½ç½®0å¤æå¥objectå¯¹è±¡ãæ­¤å¤ä»¥hashmapä¸ºä¾\n    hashmap map = new hashmap();\n    map.put("1", "one");\n    map.put("2", "two");\n    map.put("3", "three");\n    \n    sbuilder.insert(0, map);\n    \n    system.out.printf("%s\\n\\n", sbuilder);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n\n# append\n\npublic static void main(string[] args) {\n    stringbuilder sbuilder = new stringbuilder();\n    // è¿½å å­ç¬¦æ°ç»\n    sbuilder.append(new char[]{\'a\', \'b\', \'c\', \'d\', \'e\'});\n    // è¿½å å­ç¬¦æ°ç»ã0è¡¨ç¤ºå­ç¬¦æ°ç»èµ·å§ä½ç½®ï¼3è¡¨ç¤ºé¿åº¦\n    sbuilder.append(new char[]{\'a\', \'b\', \'c\', \'d\', \'e\'}, 0, 3);\n    // è¿½å float\n    sbuilder.append(1.414f);\n    // è¿½å double\n    sbuilder.append(3.14159d);\n    // è¿½å boolean\n    sbuilder.append(true);\n    // è¿½å char\n    sbuilder.append(\'\\n\');\n    // è¿½å int\n    sbuilder.append(100);\n    // è¿½å long\n    sbuilder.append(12345l);\n    // è¿½å stringbuilderå¯¹è±¡\n    sbuilder.append(new stringbuilder("stringbuilder"));\n    // è¿½å stringbuilderå¯¹è±¡ã6è¡¨ç¤ºè¢«è¿½å å¯¹è±¡çèµ·å§ä½ç½®(åæ¬)ï¼13æ¯ç»æä½ç½®(ä¸åæ¬)\n    sbuilder.append(new stringbuilder("stringbuilder"), 6, 13);\n    // è¿½å stringbufferå¯¹è±¡ã\n    sbuilder.append(new stringbuffer("stringbuffer"));\n    // è¿½å stringbufferå¯¹è±¡ã6è¡¨ç¤ºè¢«è¿½å å¯¹è±¡çèµ·å§ä½ç½®(åæ¬)ï¼12æ¯ç»æä½ç½®(ä¸åæ¬)\n    sbuilder.append(new stringbuffer("stringbuffer"), 6, 12);\n    // è¿½å stringå¯¹è±¡ã\n    sbuilder.append("string");\n    // è¿½å stringå¯¹è±¡ã1è¡¨ç¤ºè¢«è¿½å å¯¹è±¡çèµ·å§ä½ç½®(åæ¬)ï¼6æ¯ç»æä½ç½®(ä¸åæ¬)\n    sbuilder.append("0123456789", 1, 6);\n\n    sbuilder.append(\'\\n\');\n\n    // è¿½å objectå¯¹è±¡ãæ­¤å¤ä»¥hashmapä¸ºä¾\n    hashmap map = new hashmap();\n    map.put("1", "one");\n    map.put("2", "two");\n    map.put("3", "three");\n    sbuilder.append(map);\n    sbuilder.append(\'\\n\');\n\n    // è¿½å unicodeç¼ç \n    sbuilder.appendcodepoint(0x5b57); // 0x5b57æ¯âå­âçunicodeç¼ç \n    sbuilder.appendcodepoint(0x7b26); // 0x7b26æ¯âç¬¦âçunicodeç¼ç \n    sbuilder.appendcodepoint(0x7f16); // 0x7f16æ¯âç¼âçunicodeç¼ç \n    sbuilder.appendcodepoint(0x7801); // 0x7801æ¯âç âçunicodeç¼ç \n\n    system.out.printf("%s\\n\\n", sbuilder);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n\n\n# replace\n\npublic static void main(string[] args) {\n    stringbuilder sbuilder;\n    \n    sbuilder = new stringbuilder("0123456789");\n    sbuilder.replace(0, 3, "abcde");\n    system.out.printf("sbuilder=%s\\n", sbuilder);\n\n    sbuilder = new stringbuilder("0123456789");\n    sbuilder.reverse();\n    system.out.printf("sbuilder=%s\\n", sbuilder);\n\n    sbuilder = new stringbuilder("0123456789");\n    sbuilder.setcharat(0, \'m\');\n    system.out.printf("sbuilder=%s\\n", sbuilder);\n    system.out.println();\n    /*\n    sbuilder=abcde3456789\n    sbuilder=9876543210\n    sbuilder=m123456789\n*/\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n# delete\n\npublic static void main(string[] args) {\n    stringbuilder sbuilder = new stringbuilder("0123456789");\n\n    // å é¤ä½ç½®0çå­ç¬¦ï¼å©ä½å­ç¬¦æ¯â123456789âã\n    sbuilder.deletecharat(0);\n    // å é¤ä½ç½®3(åæ¬)å°ä½ç½®6(ä¸åæ¬)ä¹é´çå­ç¬¦ï¼å©ä½å­ç¬¦æ¯â123789âã\n    sbuilder.delete(3, 6);\n\n    // è·åsbä¸­ä»ä½ç½®1å¼å§çå­ç¬¦ä¸²\n    string str1 = sbuilder.substring(1);\n    // è·åsbä¸­ä»ä½ç½®3(åæ¬)å°ä½ç½®5(ä¸åæ¬)ä¹é´çå­ç¬¦ä¸²\n    string str2 = sbuilder.substring(3, 5);\n    // è·åsbä¸­ä»ä½ç½®3(åæ¬)å°ä½ç½®5(ä¸åæ¬)ä¹é´çå­ç¬¦ä¸²ï¼è·åçå¯¹è±¡æ¯charsequenceå¯¹è±¡ï¼æ­¤å¤è½¬åä¸ºstring\n    string str3 = (string) sbuilder.subsequence(3, 5);\n    \n    system.out.printf("sbuilder=%s\\nstr1=%s\\nstr2=%s\\nstr3=%s\\n",\n            sbuilder, str1, str2, str3);\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n# index\n\npublic static void main(string[] args) {\n    stringbuilder sbuilder = new stringbuilder("abcabcabcabcabcabcabcabc");\n    \n    system.out.printf("sbuilder=%s\\n", sbuilder);\n    \n    // 1. ä»åå¾åï¼æ¾åº"bc"ç¬¬ä¸æ¬¡åºç°çä½ç½®\n    system.out.printf("%-30s = %d\\n", "sbuilder.indexof(\\"bc\\")", sbuilder.indexof("bc"));\n    \n    // 2. ä»ä½ç½®5å¼å§ï¼ä»åå¾åï¼æ¾åº"bc"ç¬¬ä¸æ¬¡åºç°çä½ç½®\n    system.out.printf("%-30s = %d\\n", "sbuilder.indexof(\\"bc\\", 5)", sbuilder.indexof("bc", 5));\n    \n    // 3. ä»åå¾åï¼æ¾åº"bc"ç¬¬ä¸æ¬¡åºç°çä½ç½®\n    system.out.printf("%-30s = %d\\n", "sbuilder.lastindexof(\\"bc\\")", sbuilder.lastindexof("bc"));\n    \n    // 4. ä»ä½ç½®4å¼å§ï¼ä»åå¾åï¼æ¾åº"bc"ç¬¬ä¸æ¬¡åºç°çä½ç½®\n    system.out.printf("%-30s = %d\\n", "sbuilder.lastindexof(\\"bc\\", 4)", sbuilder.lastindexof("bc", 4));\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n# å¶ä»api\n\npublic static void main(string[] args) {\n    stringbuilder sbuilder = new stringbuilder("0123456789");\n\n    int cap = sbuilder.capacity();\n    system.out.printf("cap=%d\\n", cap);\n\n    /*\n    capacity()è¿åçæ¯å­ç¬¦ä¸²ç¼å²åºçå®¹é\n    stringbuffer( ); åé16ä¸ªå­ç¬¦çç¼å²åº\n    stringbuffer( int len ); åélenä¸ªå­ç¬¦çç¼å²åº\n    stringbuffer( string s ); é¤äºæç§sçå¤§å°åéç©ºé´å¤,ååé16ä¸ª å­ç¬¦çç¼å²åº\n    ä½ çstringbufferæ¯ç¨å­ç¬¦æé çï¼"0123456789"çé¿åº¦æ¯10å¦å¤ååé16ä¸ªå­ç¬¦ï¼æä»¥ä¸å±æ¯26ã\n    */\n\n    char c = sbuilder.charat(6);\n    system.out.printf("c=%c\\n", c);\n    \n    char[] carr = new char[4];\n    sbuilder.getchars(3, 7, carr, 0);\n    for (int i = 0; i < carr.length; i++) {\n        system.out.printf("carr[%d]=%c ", i, carr[i]);\n    }\n    system.out.println();\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# 3ãstringbuffer\n\nåstringbuliderç¨æ³å·®ä¸å¤ï¼ä¸è¿å¤ä»ç»ï¼ä¸»è¦çä¸ä¸ä¸èçåºå«\n\nstringbufferæ¯çº¿ç¨å®å¨çï¼æ¨èå¨å¤çº¿ç¨éä½¿ç¨ã\n\n\n# 4ãå°ç»\n\nstringãstringbufferãstringbuilderä¹é´çåºå«\n\né¦åéè¦è¯´æçæ¯ï¼\n\n * string å­ç¬¦ä¸²å¸¸é\n * stringbuffer å­ç¬¦ä¸²åéï¼çº¿ç¨å®å¨ï¼\n * stringbuilder å­ç¬¦ä¸²åéï¼éçº¿ç¨å®å¨ï¼\n\nå¨å¤§å¤æ°æåµä¸ä¸èå¨æ§è¡éåº¦æ¹é¢çæ¯è¾ï¼stringbuilder > stringbuffer > string\n\nè§£éï¼\n\nstring ç±»åå stringbuffer ç±»åçä¸»è¦æ§è½åºå«å¶å®å¨äº string æ¯ä¸å¯åçå¯¹è±¡ï¼å æ­¤å¨æ¯æ¬¡å¯¹ string ç±»åè¿è¡æ¹åçæ¶åå¶å®é½ç­åäºçæäºä¸ä¸ªæ°ç string å¯¹è±¡ï¼ç¶åå°æéæåæ°ç string å¯¹è±¡ï¼æä»¥ç»å¸¸æ¹ååå®¹çå­ç¬¦ä¸²æå¥½ä¸è¦ç¨ string ï¼å ä¸ºæ¯æ¬¡çæå¯¹è±¡é½ä¼å¯¹ç³»ç»æ§è½äº§çå½±åï¼ç¹å«å½åå­ä¸­æ å¼ç¨å¯¹è±¡å¤äºä»¥åï¼ jvm ç gc å°±ä¼å¼å§å·¥ä½ï¼é£éåº¦æ¯ä¸å®ä¼ç¸å½æ¢çã\n\nèå¦ææ¯ä½¿ç¨ stringbuffer ç±»åç»æå°±ä¸ä¸æ ·äºï¼æ¯æ¬¡ç»æé½ä¼å¯¹ stringbuffer å¯¹è±¡æ¬èº«è¿è¡æä½ï¼èä¸æ¯çææ°çå¯¹è±¡ï¼åæ¹åå¯¹è±¡å¼ç¨ãæä»¥å¨ä¸è¬æåµä¸æä»¬æ¨èä½¿ç¨ stringbuffer ï¼ç¹å«æ¯å­ç¬¦ä¸²å¯¹è±¡ç»å¸¸æ¹åçæåµä¸ã\n\nä¸ºä»ä¹æ¯å¤§å¤æ°æåµå¢ï¼\n\nå¨æäºç¹å«æåµä¸ï¼ string å¯¹è±¡çå­ç¬¦ä¸²æ¼æ¥å¶å®æ¯è¢« jvm è§£éæäº stringbuffer å¯¹è±¡çæ¼æ¥ï¼ æä»¥è¿äºæ¶å string å¯¹è±¡çéåº¦å¹¶ä¸ä¼æ¯ stringbuffer å¯¹è±¡æ¢ï¼èç¹å«æ¯ä»¥ä¸çå­ç¬¦ä¸²å¯¹è±¡çæä¸­ï¼ string æçæ¯è¿è¦æ¯ stringbuffer å¿«çï¼\n\nstring s1 = âthis is only aâ + â simpleâ + â testâ;\nstringbuffer sb = new stringbuilder(âthis is only aâ).append(âsimpleâ).append(â testâ);\n\n\n1\n2\n\n\nä½ ä¼å¾æè®¶çåç°ï¼çæ string s1 å¯¹è±¡çéåº¦ç®ç´å¤ªå¿«äºï¼èè¿ä¸ªæ¶å stringbuffer å±ç¶éåº¦ä¸æ ¹æ¬ ä¸ç¹é½ä¸å ä¼å¿ãå¶å®è¿æ¯ jvm çä¸ä¸ªææï¼å¨ jvm ç¼éï¼è¿ä¸ª\n\nstring s1 = âthis is only aâ + â simpleâ + âtestâ;\n\nå¶å®å°±æ¯ï¼string s1 = âthis is only a simple testâ;\n\næä»¥å½ç¶ä¸éè¦å¤ªå¤çæ¶é´äºãä½å¤§å®¶è¿éè¦æ³¨æçæ¯ï¼å¦æä½ çå­ç¬¦ä¸²æ¯æ¥èªå¦å¤ç string å¯¹è±¡ çè¯ï¼éåº¦å°±æ²¡é£ä¹å¿«äºï¼è­¬å¦ï¼\n\n> string s2 = âthis is only aâ; string s3 = â simpleâ; string s4 = â testâ;\n\nå¤§é¨åæåµä¸stringbuilderçéåº¦è¦å¤§äºstringbufferï¼\n\njava.lang.stringbuilderä¸ä¸ªå¯åçå­ç¬¦åºåæ¯5.0æ°å¢çãï¼å¤§å¤æ°æåµä¸å°±æ¯æä»¬æ¯å¨åçº¿ç¨ä¸è¿è¡çæä½ï¼æä»¥å¤§å¤æ°æåµä¸æ¯å»ºè®®ç¨stringbuilderèä¸ç¨stringbufferçï¼æ­¤ç±»æä¾ä¸ä¸ªä¸ stringbuffer å¼å®¹ç apiï¼ä½ä¸ä¿è¯åæ­¥ãè¯¥ç±»è¢«è®¾è®¡ç¨ä½ stringbuffer çä¸ä¸ªç®ææ¿æ¢ï¼ç¨å¨å­ç¬¦ä¸²ç¼å²åºè¢«åä¸ª çº¿ç¨ä½¿ç¨çæ¶åï¼è¿ç§æåµå¾æ®éï¼ãå¦æå¯è½ï¼å»ºè®®ä¼åéç¨è¯¥ç±»ï¼å ä¸ºå¨å¤§å¤æ°å®ç°ä¸­ï¼å®æ¯ stringbuffer è¦å¿«ãä¸¤èçæ¹æ³åºæ¬ç¸åã\n\nå¯¹äºä¸èä½¿ç¨çæ»ç»ï¼\n\n * å¦æè¦æä½å°éçæ°æ®ç¨ ï¼string\n * åçº¿ç¨æä½å­ç¬¦ä¸²ç¼å²åº ä¸æä½å¤§éæ°æ® ï¼stringbuilder\n * å¤çº¿ç¨æä½å­ç¬¦ä¸²ç¼å²åº ä¸æä½å¤§éæ°æ® ï¼ stringbuffer\n\n\n# 5ãé¢è¯é¢çåç­\n\nstringbuilder ä¸stringbufferçåºå«ï¼stringbuilderä¸stringçåºå«ã\n\n1ï¼stringbuilderæçé«ï¼çº¿ç¨ä¸å®å¨ï¼stringbufferå¯¹æ¯ä¹ä¸æ²¡å®é«ï¼çº¿ç¨å®å¨ã\n\n2ï¼stringæ¯ä¸å¯åå­ç¬¦ä¸²ï¼stringbuilderæ¯å¯åå­ç¬¦ä¸²ãä¸ºä»ä¹æè¿æ ·çå·®å¼ï¼å¯ä»¥æ·±å¥æºç å»è§£æï¼ æ¯å¦stringç±»åç priver final char value[] ç­æ¹æ³çåå ã\n\n3ï¼å¦ææ¯ç®åçå£°æä¸ä¸ªå­ç¬¦ä¸²æ²¡æåç»­è¿å¤çæä½ï¼ä½¿ç¨string,stringbuilderåå¯ï¼è¥åç»­å¯¹å­ç¬¦ç©¿åé¢ç¹çæ·»å ï¼å é¤æä½,æèæ¯å¨å¾ªç¯å½ä¸­å¨æçæ¹åå­ç¬¦ç©¿çé¿åº¦åºè¯¥ç¨stringbuilderãä½¿ç¨string ä¼äº§çå¤ä½çå­ç¬¦ä¸²ï¼å ç¨åå­ç©ºé´ã\n\n\n# fileç±»\n\n\n# 1ãfileç±»çåºæ¬ç¨æ³\n\njava.io.fileç±»ï¼æä»¶åç®å½è·¯å¾åçæ½è±¡è¡¨ç¤ºå½¢å¼ã\n\nfileç±»çå¸¸è§æé æ¹æ³ï¼\n\npublic file(string pathname)\n\n\n1\n\n\nä»¥pathnameä¸ºè·¯å¾åå»ºfileå¯¹è±¡ï¼å¦æpathnameæ¯ç¸å¯¹è·¯å¾ï¼åé»è®¤çå½åè·¯å¾å¨ç³»ç»å±æ§user.dir ä¸­å­å¨ã\n\nfileçéæå±æ§string separatorå­å¨äºå½åç³»ç»çè·¯å¾åéç¬¦ã\n\néè¿fileå¯¹è±¡å¯ä»¥è®¿é®æä»¶çå±æ§ã\n\npublic boolean canread()\npublic boolean exists()\npublic boolean isfile()\npublic long lastmodified()\npublic string getname()\npublic boolean canwrite()\npublic boolean isdirectory()\npublic boolean ishidden()\npublic long length()\npublic string getpath()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\néè¿fileå¯¹è±¡åå»ºç©ºæä»¶æç®å½ï¼å¨è¯¥å¯¹è±¡ææçæä»¶æç®å½ä¸å­å¨çæåµä¸ï¼ã\n\npublic boolean createnewfile()throws ioexception\npublic boolean delete()\npublic boolean mkdir()ï¼ mkdirs()\n\n\n1\n2\n3\n\n\nå¸¸è§æé å¨ï¼æ¹æ³\n\nimport java.io.file;\nimport java.io.ioexception;\npublic class testfile {\n    /**\n    * fileæä»¶ç±» 1.ä»£è¡¨æä»¶ 2.ä»£è¡¨ç®å½\n    */\n    public static void main(string[] args) {\n        file f = new file("d:/src3/testobject.java");\n        file f2 = new file("d:/src3");\n        file f3 = new file(f2, "testfile.java");\n        file f4 = new file(f2, "testfile666.java");\n        file f5 = new file("d:/src3/aa/bb/cc/dd");\n        //f5.mkdirs();\n        f5.delete();\n\n        try {\n            f4.createnewfile();\n            system.out.println("æä»¶åå»ºæåï¼");\n        } catch (ioexception e) {\n            e.printstacktrace();\n        }\n        if (f.isfile()) {\n            system.out.println("æ¯ä¸ä¸ªæä»¶ï¼");\n        }\n        if (f2.isdirectory()) {\n            system.out.println("æ¯ä¸ä¸ªç®å½ï¼");\n        }\n        if (f3.isfile()) {\n            system.out.println("æ¯ä¸ä¸ªæä»¶å¥¥");\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"éåæ¦åº",frontmatter:{title:"éåæ¦åº",date:"2021-04-16T16:19:25.000Z",permalink:"/java/se/collection/synopsis",categories:["java","java-se","éåæ¡æ¶"]},regularPath:"/01.Java/05.Java-%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/01.%E9%9B%86%E5%90%88%E6%A6%82%E5%BA%8F.html",relativePath:"01.Java/05.Java-éåæ¡æ¶/01.éåæ¦åº.md",key:"v-79afdc49",path:"/java/se/collection/synopsis/",headers:[{level:2,title:"éåæ¦åº",slug:"éåæ¦åº",normalizedTitle:"éåæ¦åº",charIndex:2},{level:3,title:"1ãä¸ºä»ä¹ä½¿ç¨éåæ¡æ¶ï¼",slug:"_1ãä¸ºä»ä¹ä½¿ç¨éåæ¡æ¶",normalizedTitle:"1ãä¸ºä»ä¹ä½¿ç¨éåæ¡æ¶ï¼",charIndex:11},{level:3,title:"2ãéåæ¡æ¶åå«çåå®¹",slug:"_2ãéåæ¡æ¶åå«çåå®¹",normalizedTitle:"2ãéåæ¡æ¶åå«çåå®¹",charIndex:234}],headersStr:"éåæ¦åº 1ãä¸ºä»ä¹ä½¿ç¨éåæ¡æ¶ï¼ 2ãéåæ¡æ¶åå«çåå®¹",content:"# éåæ¦åº\n\n\n# 1ãä¸ºä»ä¹ä½¿ç¨éåæ¡æ¶ï¼\n\nåè®¾ï¼ä¸ä¸ªç­çº§æ30ä¸ªäººï¼æä»¬éè¦å­å¨å­¦åçä¿¡æ¯ï¼æ¯ä¸æ¯æä»¬å¯ä»¥ç¨ä¸ä¸ªä¸ç»´æ°ç»å°±è§£å³äºï¼\n\né£æ¢ä¸ä¸ªé®é¢ï¼ä¸ä¸ªç½ç«æ¯å¤©è¦å­å¨çæ°é»ä¿¡æ¯ï¼æä»¬ç¥éæ°é»æ¯å¯ä»¥å®æ¶åå¸çï¼æä»¬å¹¶ä¸ç¥ééè¦å¤å¤§çç©ºé´å»å­å¨ï¼æè¦æ¯å»è®¾ç½®ä¸ä¸ªå¾å¤§çæ°ç»ï¼è¦æ¯æ²¡æå­æ»¡ï¼æèä¸å¤ç¨ï¼é½ä¼å½±åæä»¬ï¼åèæµªè´¹çç©ºé´ï¼åèå½±åäºä¸å¡ï¼\n\nå¦æå¹¶ä¸ç¥éç¨åºè¿è¡æ¶ä¼éè¦å¤å°å¯¹è±¡ï¼æèéè¦æ´å¤æçæ¹å¼å­å¨å¯¹è±¡ï¼é£æä»¬å°±å¯ä»¥ä½¿ç¨Javaçéåæ¡æ¶ï¼\n\n\n# 2ãéåæ¡æ¶åå«çåå®¹\n\nJavaéåæ¡æ¶æä¾äºä¸å¥æ§è½ä¼è¯ï¼ä½¿ç¨æ¹ä¾¿çæ¥å£åç±»ï¼ä»ä»¬ä½äºjava.utilåä¸­ã\n\næ¥å£åå·ä½ç±»\n\n\n\nç®æ³\n\nCollections ç±»æä¾äºå¯¹éåè¿è¡æåºï¼éåç­å¤ç§ç®æ³å®ç°ï¼\n\nãéä¸­ä¹éã\n\n * Collection æ¥å£å­å¨ä¸ç»ä¸å¯ä¸ï¼æ åºçå¯¹è±¡\n\n * List æ¥å£å­å¨ä¸ç»ä¸å¯ä¸ï¼æåºçå¯¹è±¡ã\n\n * Set æ¥å£å­å¨ä¸ç»å¯ä¸ï¼æ åºçå¯¹è±¡\n\n * Map æ¥å£å­å¨ä¸ç»é®å¼å¯¹è±¡ï¼æä¾keyå°valueçæ å°\n\n * ArrayListå®ç°äºé¿åº¦å¯åçæ°ç»ï¼å¨åå­ä¸­åéè¿ç»­çç©ºé´ãéååç´ åéæºè®¿é®åç´ çæçæ¯è¾é«\n   \n   \n   \n   \n\n * LinkedListéç¨é¾è¡¨å­å¨æ¹å¼ãæå¥ãå é¤åç´ æ¶æçæ¯è¾é«\n   \n   \n   \n   \n\n * HashSet:éç¨åå¸ç®æ³å®ç°çSet\n   \n   HashSetçåºå±æ¯ç¨HashMapå®ç°çï¼å æ­¤æ¥è¯¢æçè¾é«ï¼ç±äºéç¨hashCodeç®æ³ç´æ¥ç¡®å® åç´ çåå­å°åï¼å¢å æçä¹æºé«çã",normalizedContent:"# éåæ¦åº\n\n\n# 1ãä¸ºä»ä¹ä½¿ç¨éåæ¡æ¶ï¼\n\nåè®¾ï¼ä¸ä¸ªç­çº§æ30ä¸ªäººï¼æä»¬éè¦å­å¨å­¦åçä¿¡æ¯ï¼æ¯ä¸æ¯æä»¬å¯ä»¥ç¨ä¸ä¸ªä¸ç»´æ°ç»å°±è§£å³äºï¼\n\né£æ¢ä¸ä¸ªé®é¢ï¼ä¸ä¸ªç½ç«æ¯å¤©è¦å­å¨çæ°é»ä¿¡æ¯ï¼æä»¬ç¥éæ°é»æ¯å¯ä»¥å®æ¶åå¸çï¼æä»¬å¹¶ä¸ç¥ééè¦å¤å¤§çç©ºé´å»å­å¨ï¼æè¦æ¯å»è®¾ç½®ä¸ä¸ªå¾å¤§çæ°ç»ï¼è¦æ¯æ²¡æå­æ»¡ï¼æèä¸å¤ç¨ï¼é½ä¼å½±åæä»¬ï¼åèæµªè´¹çç©ºé´ï¼åèå½±åäºä¸å¡ï¼\n\nå¦æå¹¶ä¸ç¥éç¨åºè¿è¡æ¶ä¼éè¦å¤å°å¯¹è±¡ï¼æèéè¦æ´å¤æçæ¹å¼å­å¨å¯¹è±¡ï¼é£æä»¬å°±å¯ä»¥ä½¿ç¨javaçéåæ¡æ¶ï¼\n\n\n# 2ãéåæ¡æ¶åå«çåå®¹\n\njavaéåæ¡æ¶æä¾äºä¸å¥æ§è½ä¼è¯ï¼ä½¿ç¨æ¹ä¾¿çæ¥å£åç±»ï¼ä»ä»¬ä½äºjava.utilåä¸­ã\n\næ¥å£åå·ä½ç±»\n\n\n\nç®æ³\n\ncollections ç±»æä¾äºå¯¹éåè¿è¡æåºï¼éåç­å¤ç§ç®æ³å®ç°ï¼\n\nãéä¸­ä¹éã\n\n * collection æ¥å£å­å¨ä¸ç»ä¸å¯ä¸ï¼æ åºçå¯¹è±¡\n\n * list æ¥å£å­å¨ä¸ç»ä¸å¯ä¸ï¼æåºçå¯¹è±¡ã\n\n * set æ¥å£å­å¨ä¸ç»å¯ä¸ï¼æ åºçå¯¹è±¡\n\n * map æ¥å£å­å¨ä¸ç»é®å¼å¯¹è±¡ï¼æä¾keyå°valueçæ å°\n\n * arraylistå®ç°äºé¿åº¦å¯åçæ°ç»ï¼å¨åå­ä¸­åéè¿ç»­çç©ºé´ãéååç´ åéæºè®¿é®åç´ çæçæ¯è¾é«\n   \n   \n   \n   \n\n * linkedlistéç¨é¾è¡¨å­å¨æ¹å¼ãæå¥ãå é¤åç´ æ¶æçæ¯è¾é«\n   \n   \n   \n   \n\n * hashset:éç¨åå¸ç®æ³å®ç°çset\n   \n   hashsetçåºå±æ¯ç¨hashmapå®ç°çï¼å æ­¤æ¥è¯¢æçè¾é«ï¼ç±äºéç¨hashcodeç®æ³ç´æ¥ç¡®å® åç´ çåå­å°åï¼å¢å æçä¹æºé«çã",charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"ArrayList",frontmatter:{title:"ArrayList",date:"2021-04-16T16:19:25.000Z",permalink:"/java/se/collection/ArrayList",categories:["java","java-se","éåæ¡æ¶"]},regularPath:"/01.Java/05.Java-%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/02.ArrayList.html",relativePath:"01.Java/05.Java-éåæ¡æ¶/02.ArrayList.md",key:"v-2831c459",path:"/java/se/collection/ArrayList/",headers:[{level:2,title:"ArrayListæ¦è¿°",slug:"arraylistæ¦è¿°",normalizedTitle:"arraylistæ¦è¿°",charIndex:16},{level:2,title:"ArrayListçæ°æ®ç»æ",slug:"arraylistçæ°æ®ç»æ",normalizedTitle:"arraylistçæ°æ®ç»æ",charIndex:426},{level:2,title:"ArrayListæºç åæ",slug:"arraylistæºç åæ",normalizedTitle:"arraylistæºç åæ",charIndex:605},{level:3,title:"1ãç»§æ¿ç»æåå±æ¬¡å³ç³»",slug:"_1ãç»§æ¿ç»æåå±æ¬¡å³ç³»",normalizedTitle:"1ãç»§æ¿ç»æåå±æ¬¡å³ç³»",charIndex:623},{level:3,title:"2ãç±»ä¸­çå±æ§",slug:"_2ãç±»ä¸­çå±æ§",normalizedTitle:"2ãç±»ä¸­çå±æ§",charIndex:1815},{level:3,title:"3ãæé æ¹æ³",slug:"_3ãæé æ¹æ³",normalizedTitle:"3ãæé æ¹æ³",charIndex:2478},{level:3,title:"4ãæ ¸å¿æ¹æ³-add",slug:"_4ãæ ¸å¿æ¹æ³-add",normalizedTitle:"4ãæ ¸å¿æ¹æ³-add",charIndex:4792},{level:3,title:"5ãæ ¸å¿æ¹æ³-remove",slug:"_5ãæ ¸å¿æ¹æ³-remove",normalizedTitle:"5ãæ ¸å¿æ¹æ³-remove",charIndex:10215},{level:3,title:"6ãå¶ä»æ¹æ³",slug:"_6ãå¶ä»æ¹æ³",normalizedTitle:"6ãå¶ä»æ¹æ³",charIndex:13701},{level:2,title:"ArrayListå®è·µ",slug:"arraylistå®è·µ",normalizedTitle:"arraylistå®è·µ",charIndex:14838}],headersStr:"ArrayListæ¦è¿° ArrayListçæ°æ®ç»æ ArrayListæºç åæ 1ãç»§æ¿ç»æåå±æ¬¡å³ç³» 2ãç±»ä¸­çå±æ§ 3ãæé æ¹æ³ 4ãæ ¸å¿æ¹æ³-add 5ãæ ¸å¿æ¹æ³-remove 6ãå¶ä»æ¹æ³ ArrayListå®è·µ",content:'# ArrayList\n\n\n# ArrayListæ¦è¿°\n\nArrayListæ¯å¯ä»¥å¨æå¢é¿åç¼©åçç´¢å¼åºåï¼å®æ¯åºäºæ°ç»å®ç°çListç±»ã\n\nè¯¥ç±»å°è£äºä¸ä¸ªå¨æååéçObject[]æ°ç»ï¼æ¯ä¸ä¸ªç±»å¯¹è±¡é½æä¸ä¸ªcapacityãå®¹éãå±æ§ï¼è¡¨ç¤ºå®ä»¬æå°è£çObject[]æ°ç»çé¿åº¦ï¼å½åArrayListä¸­æ·»å åç´ æ¶ï¼è¯¥å±æ§å¼ä¼èªå¨å¢å ãå¦ææ³ ArrayListä¸­æ·»å å¤§éåç´ ï¼å¯ä½¿ç¨ensureCapacityæ¹æ³ä¸æ¬¡æ§å¢å capacityï¼å¯ä»¥åå°å¢å éåéçæ¬¡æ°æé«æ§è½ã\n\nArrayListçç¨æ³åVectoråç±»ä¼¼ï¼ä½æ¯Vectoræ¯ä¸ä¸ªè¾èçéåï¼å·æå¾å¤ç¼ºç¹ï¼ä¸å»ºè®®ä½¿ç¨ã\n\nå¦å¤ï¼ArrayListåVectorçåºå«æ¯ï¼ArrayListæ¯çº¿ç¨ä¸å®å¨çï¼å½å¤æ¡çº¿ç¨è®¿é®åä¸ä¸ªArrayListéåæ¶ï¼ç¨åºéè¦æå¨ä¿è¯è¯¥éåçåæ­¥æ§ï¼èVectoråæ¯çº¿ç¨å®å¨çã\n\nArrayListåCollectionçå³ç³»ï¼\n\n\n\n\n# ArrayListçæ°æ®ç»æ\n\nåæä¸ä¸ªç±»çæ¶åï¼æ°æ®ç»æå¾å¾æ¯å®ççµé­æå¨ï¼çè§£åºå±çæ°æ®ç»æå¶å®å°±çè§£äºè¯¥ç±»çå®ç°æ è·¯ï¼å·ä½çå®ç°ç»èåå·ä½åæã\n\nArrayListçæ°æ®ç»ææ¯ï¼\n\n\n\nè¯´æï¼åºå±çæ°æ®ç»æå°±æ¯æ°ç»ï¼æ°ç»åç´ ç±»åä¸ºObjectç±»åï¼å³å¯ä»¥å­æ¾ææç±»åæ°æ®ãæä»¬å¯¹ ArrayListç±»çå®ä¾çææçæä½åºå±é½æ¯åºäºæ°ç»çã\n\n\n# ArrayListæºç åæ\n\n\n# 1ãç»§æ¿ç»æåå±æ¬¡å³ç³»\n\nIDEAå¿«æ·é®ï¼Ctrl+H\n\n\n\npublic class ArrayList<E> extends AbstractList<E>\nimplements List<E>, RandomAccess, Cloneable, java.io.Serializable{\n    \n}\n\n\n1\n2\n3\n4\n\n\næä»¬çä¸ä¸ArrayListçç»§æ¿ç»æï¼\n\nArrayList extends AbstractList AbstractList extends AbstractCollection\n\nææç±»é½ç»§æ¿Object æä»¥ArrayListçç»§æ¿ç»æå°±æ¯ä¸å¾è¿æ ·ã\n\nãåæã\n\nä¸ºä»ä¹è¦åç»§æ¿AbstractListï¼èè®©AbstractListåå®ç°Listï¼èä¸æ¯è®©ArrayListç´æ¥å®ç°Listï¼\n\nè¿éæ¯æä¸ä¸ªææ³ï¼æ¥å£ä¸­å¨é½æ¯æ½è±¡çæ¹æ³ï¼èæ½è±¡ç±»ä¸­å¯ä»¥ææ½è±¡æ¹æ³ï¼è¿å¯ä»¥æå·ä½çå®ç°æ¹æ³ï¼æ­£æ¯å©ç¨äºè¿ä¸ç¹ï¼è®©AbstractListæ¯å®ç°æ¥å£ä¸­ä¸äºéç¨çæ¹æ³ï¼èå·ä½çç±»ï¼å¦ArrayListå°±ç»§æ¿è¿ä¸ªAbstractListç±»ï¼æ¿å°ä¸äºéç¨çæ¹æ³ï¼ç¶åèªå·±å¨å®ç°ä¸äºèªå·±ç¹æçæ¹æ³ï¼è¿æ ·ä¸æ¥ï¼è®©ä»£ç æ´ç®æ´ï¼å°±ç»§æ¿ç»ææåºå±çç±»ä¸­éç¨çæ¹æ³é½æ½ååºæ¥ï¼åä¸èµ·å®ç°äºï¼åå°éå¤ä»£ç ãæä»¥ä¸è¬çå° ä¸ä¸ªç±»ä¸é¢è¿æä¸ä¸ªæ½è±¡ç±»ï¼åºè¯¥å°±æ¯è¿ä¸ªä½ç¨ã\n\nArrayListå®ç°äºåªäºæ¥å£ï¼\n\nListæ¥å£ï¼æä»¬ä¼åºç°è¿æ ·ä¸ä¸ªçé®ï¼å¨æ¥çäºArrayListçç¶ç±» AbstractListä¹å®ç°äºListæ¥å£ï¼é£ä¸ºä»ä¹å­ç±»ArrayListè¿æ¯å»å®ç°ä¸éå¢ï¼\n\nè¿æ¯æ³ä¸éçå°æ¹ï¼æ¥èµææ¾ç¤ºï¼æçäººè¯´æ¯ä¸ºäºæ¥çä»£ç æ¹ä¾¿ï¼ä½¿è§çèä¸ç®äºç¶ï¼è¯´æ³ä¸ ä¸ï¼ä½æ¯ä¸ä¸ªè®©ææè§åççï¼ä½æ¯å¨stackOverFlowä¸­æ¾å°äºç­æ¡ï¼è¿éå¶å®å¾æè¶£ã\n\nå¼åè¿ä¸ªcollection çä½èJoshè¯´ï¼\n\nè¿å¶å®æ¯ä¸ä¸ªmistake[å¤±è¯¯]ï¼å ä¸ºä»åè¿ä»£ç çæ¶åè§å¾è¿ä¸ªä¼æç¨å¤ï¼ä½æ¯å¶å®å¹¶æ²¡ä»ä¹ç¨ï¼ä½å ä¸ºæ²¡ä»ä¹å½±åï¼å°±ä¸ç´çå°äºç°å¨ã\n\nRandomAccessæ¥å£ï¼è¿ä¸ªæ¯ä¸ä¸ªæ è®°æ§æ¥å£ï¼éè¿æ¥çapiææ¡£ï¼å®çä½ç¨å°±æ¯ç¨æ¥å¿«ééæºå­åï¼ æå³æççé®é¢ï¼å¨å®ç°äºè¯¥æ¥å£çè¯ï¼é£ä¹ä½¿ç¨æ®éçforå¾ªç¯æ¥éåï¼æ§è½æ´é«ï¼ä¾å¦ArrayListãèæ²¡æå®ç°è¯¥æ¥å£çè¯ï¼ä½¿ç¨Iteratoræ¥è¿­ä»£ï¼è¿æ ·æ§è½æ´é«ï¼ä¾å¦linkedListãæä»¥è¿ä¸ªæ è®°æ§åªæ¯ä¸ºäº è®©æä»¬ç¥éæä»¬ç¨ä»ä¹æ ·çæ¹å¼å»è·åæ°æ®æ§è½æ´å¥½ã\n\nCloneableæ¥å£ï¼å®ç°äºè¯¥æ¥å£ï¼å°±å¯ä»¥ä½¿ç¨Object.Clone()æ¹æ³äºã\n\nSerializableæ¥å£ï¼å®ç°è¯¥åºååæ¥å£ï¼è¡¨æè¯¥ç±»å¯ä»¥è¢«åºååï¼ä»ä¹æ¯åºååï¼ç®åçè¯´ï¼å°±æ¯è½å¤ ä»ç±»åæå­èæµä¼ è¾ï¼ç¶åè¿è½ä»å­èæµåæåæ¥çç±»ã\n\n\n# 2ãç±»ä¸­çå±æ§\n\npublic class ArrayList<E> extends AbstractList<E>\nimplements List<E>, RandomAccess, Cloneable, java.io.Serializable\n    {\n    // çæ¬å·\n    private static final long serialVersionUID = 8683452581122892189L;\n    // ç¼ºçå®¹é\n    private static final int DEFAULT_CAPACITY = 10;\n    // ç©ºå¯¹è±¡æ°ç»\n    private static final Object[] EMPTY_ELEMENTDATA = {};\n    // ç¼ºçç©ºå¯¹è±¡æ°ç»\n    private static final Object[] DEFAULTCAPACITY_EMPTY_ELEMENTDATA = {};\n    // åç´ æ°ç»\n    transient Object[] elementData;\n    // å®éåç´ å¤§å°ï¼é»è®¤ä¸º0\n    private int size;\n    // æå¤§æ°ç»å®¹é\n    private static final int MAX_ARRAY_SIZE = Integer.MAX_VALUE - 8;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# 3ãæé æ¹æ³\n\n\n\næ åæé æ¹æ³\n\n/*\n    Constructs an empty list with an initial capacity of ten.\n    è¿éå°±è¯´æäºé»è®¤ä¼ç»10çå¤§å°ï¼æä»¥è¯´ä¸å¼å§arrayListçå®¹éæ¯10.\n*/\n//ArrayListä¸­å¨å­æ°æ®çå¶å®å°±æ¯ä¸ä¸ªæ°ç»ï¼è¿ä¸ªæ°ç»å°±æ¯elementData.\npublic ArrayList() {\n    super(); //è°ç¨ç¶ç±»ä¸­çæ åæé æ¹æ³ï¼ç¶ç±»ä¸­çæ¯ä¸ªç©ºçæé æ¹æ³\n    this.elementData = EMPTY_ELEMENTDATA;\n    //EMPTY_ELEMENTDATAï¼æ¯ä¸ªç©ºçObject[]ï¼ å°elementDataåå§åï¼elementDataä¹æ¯ä¸ªObject[]ç±»åãç©ºçObject[]ä¼ç»é»è®¤å¤§å°10ï¼ç­ä¼ä¼è§£éä»ä¹æ¶åèµå¼çã\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\næåæé æ¹æ³1\n\n/*\nConstructs an empty list with the specified initial capacity.\næé å·ææå®åå§å®¹éçç©ºåè¡¨ã\n\n@param initialCapacity the initial capacity of the list\nåå§å®¹éåè¡¨çåå§å®¹é\n\n@throws IllegalArgumentException if the specified initial capacity is negative\nå¦ææå®çåå§å®¹éä¸ºè´ï¼åä¸ºIllegalArgumentException\n*/\n\npublic ArrayList(int initialCapacity) {\n    if (initialCapacity > 0) {\n        //å°èªå®ä¹çå®¹éå¤§å°å½æåå§å initialCapacity çå¤§å°\n        this.elementData = new Object[initialCapacity];\n    } else if (initialCapacity == 0) {\n        this.elementData = EMPTY_ELEMENTDATA; //ç­åäºæ åæé æ¹æ³\n    } else {\n        //å¤æ­å¦æèªå®ä¹å¤§å°çå®¹éå°äº0ï¼åæ¥ä¸é¢è¿ä¸ªéæ³æ°æ®å¼å¸¸\n        throw new IllegalArgumentException("Illegal Capacity: "+initialCapacity);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\næåæé æ¹æ³ 2\n\n/*\n    Constructs a list containing the elements of the specified collection,in the order they are returned by the collection\'s iterator.\n    æç§éåè¿­ä»£å¨è¿ååç´ çé¡ºåºæé åå«æå®éåçåç´ çåè¡¨ã\n    @param c the collection whose elements are to be placed into this list\n    @throws NullPointerException if the specified collection is null\n*/\npublic ArrayList(Collection<? extends E> c) {\n    elementData = c.toArray(); //è½¬æ¢ä¸ºæ°ç»\n    //æ¯ä¸ªéåçtoarray()çå®ç°æ¹æ³ä¸ä¸æ ·ï¼æä»¥éè¦å¤æ­ä¸ä¸ï¼å¦æä¸æ¯Object[].classç±»åï¼é£ä¹ä¹éè¦ä½¿ç¨ArrayListä¸­çæ¹æ³å»æ¹é ä¸ä¸ã\n    if ((size = elementData.length) != 0) {\n   \t\t // c.toArray might (incorrectly) not return Object[] (see 6260652)\n   \t\t if (elementData.getClass() != Object[].class)\n    \t\t elementData = Arrays.copyOf(elementData, size, Object[].class);\n    } else {\n        // replace with empty array.\n    \tthis.elementData = EMPTY_ELEMENTDATA;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nè¿ä¸ªæé æ¹æ³ä¸å¸¸ç¨ï¼ä¸¾ä¸ªä¾å­å°±è½æç½ä»ä¹ææ\n\nä¸¾ä¸ªä¾å­ï¼ Strudent exends Person ï¼ ArrayListã Personè¿éå°±æ¯æ³å ï¼ æè¿æä¸ä¸ªCollectionã ç±äºè¿ä¸ªStudentç»§æ¿äºPersonï¼é£ä¹æ ¹æ®è¿ä¸ªæé æ¹æ³ï¼æå°±å¯ä»¥æè¿ä¸ªCollectionè½¬æ¢ä¸ºArrayList ï¼ è¿å°±æ¯è¿ä¸ªæé æ¹æ³çä½ç¨ ã\n\nãæ»ç»ãArrayListçæé æ¹æ³å°±åä¸ä»¶äºæï¼å°±æ¯åå§åä¸ä¸å¨å­æ°æ®çå®¹å¨ï¼å¶å®æ¬è´¨ä¸å°±æ¯ä¸ä¸ªæ° ç»ï¼å¨å¶ä¸­å°±å«elementDataã\n\n\n# 4ãæ ¸å¿æ¹æ³-add\n\nalt+7 æ¥çæ¹æ³åè¡¨ï¼ctrl+å·¦é® éä¸­addè¿å»åæ¥ç\n\nboolean add(E)\n\n/**\n* Appends the specified element to the end of this list.\n* æ·»å ä¸ä¸ªç¹å®çåç´ å°listçæ«å°¾ã\n* @param e element to be appended to this list\n* @return <tt>true</tt> (as specified by {@link Collection#add})\n*/\npublic boolean add(E e) {\n    //ç¡®å®åé¨å®¹éæ¯å¦å¤äºï¼sizeæ¯æ°ç»ä¸­æ°æ®çä¸ªæ°ï¼å ä¸ºè¦æ·»å ä¸ä¸ªåç´ ï¼æä»¥size+1ï¼åå¤æ­size+1çè¿ä¸ªæ°æ°ç»è½å¦æ¾å¾ä¸ï¼å°±å¨è¿ä¸ªæ¹æ³ä¸­å»å¤æ­æ¯å¦æ°ç».lengthæ¯å¦å¤ç¨äºã\n    ensureCapacityInternal(size + 1); // Increments modCount!!\n    elementData[size++] = e; //å¨æ°æ®ä¸­æ­£ç¡®çä½ç½®ä¸æ¾ä¸åç´ eï¼å¹¶ä¸size++\n    return true;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nãåæï¼ensureCapacityInternal(xxx); ç¡®å®åé¨å®¹éçæ¹æ³ã\n\nprivate void ensureCapacityInternal(int minCapacity) {\n\tensureExplicitCapacity(calculateCapacity(elementData, minCapacity));\n}\n\nprivate static int calculateCapacity(Object[] elementData, int minCapacity){\n    //çï¼å¤æ­åå§åçelementDataæ¯ä¸æ¯ç©ºçæ°ç»ï¼ä¹å°±æ¯æ²¡æé¿åº¦\n    if (elementData == DEFAULTCAPACITY_EMPTY_ELEMENTDATA) {\n        //å ä¸ºå¦ææ¯ç©ºçè¯ï¼minCapacity=size+1ï¼å¶å®å°±æ¯ç­äº1ï¼ç©ºçæ°ç»æ²¡æé¿åº¦å°±å­æ¾ä¸äºï¼æä»¥å°±å°minCapacityåæ10ï¼ä¹å°±æ¯é»è®¤å¤§å°ï¼ä½æ¯å¨è¿éï¼è¿æ²¡æçæ­£çåå§åè¿ä¸ªelementDataçå¤§å°ã\n        return Math.max(DEFAULT_CAPACITY, minCapacity);\n    }\n    //ç¡®è®¤å®éçå®¹éï¼ä¸é¢åªæ¯å°minCapacity=10ï¼è¿ä¸ªæ¹æ³å°±æ¯çæ­£çå¤æ­elementDataæ¯å¦å¤ç¨\n    return minCapacity;\n}\n\nprivate void ensureExplicitCapacity(int minCapacity) {\n    modCount++;\n    //  overflow-conscious code\n    //minCapacityå¦æå¤§äºäºå®éelementDataçé¿åº¦ï¼é£ä¹å°±è¯´æelementDataæ°ç»çé¿åº¦ä¸å¤ç¨ï¼ä¸å¤ç¨é£ä¹å°±è¦å¢å elementDataçlengthãè¿éæçåå­¦å°±ä¼æ¨¡ç³minCapacityå°åºæ¯ä»ä¹å¢ï¼è¿éç»ä½ ä»¬åæä¸ä¸\n    /*\n    ç¬¬ä¸ç§æåµï¼ç±äºelementDataåå§åæ¶æ¯ç©ºçæ°ç»ï¼é£ä¹ç¬¬ä¸æ¬¡addçæ¶åï¼minCapacity=size+1ï¼ä¹å°±minCapacity=1ï¼å¨ä¸ä¸ä¸ªæ¹æ³(ç¡®å®åé¨å®¹éensureCapacityInternal)å°±ä¼å¤æ­åºæ¯ç©ºçæ°ç»ï¼å°±ä¼ç»å°minCapacity=10ï¼å°è¿ä¸æ­¥ä¸ºæ­¢ï¼è¿æ²¡ææ¹åelementDataçå¤§å°ã\n    \n\tç¬¬äºç§æåµï¼elementDataä¸æ¯ç©ºçæ°ç»äºï¼é£ä¹å¨addçæ¶åï¼minCapacity=size+1ï¼ä¹å°±æ¯minCapacityä»£è¡¨çelementDataä¸­å¢å ä¹åçå®éæ°æ®ä¸ªæ°ï¼æ¿çå®å¤æ­elementDataçlengthæ¯å¦å¤ç¨ï¼å¦ælengthä¸å¤ç¨ï¼é£ä¹è¯å®è¦æ©å¤§å®¹éï¼ä¸ç¶å¢å çè¿ä¸ªåç´ å°±ä¼æº¢åºã\n*/\n    if (minCapacity - elementData.length > 0)\n\t\tgrow(minCapacity);\n}\n//arrayListæ ¸å¿çæ¹æ³ï¼è½æ©å±æ°ç»å¤§å°ççæ­£ç§å¯ã\nprivate void grow(int minCapacity) {\n    // overflow-conscious code\n    \n    //å°æ©ååçelementDataå¤§å°ç»oldCapacity\n    int oldCapacity = elementData.length;\n    \n    //newCapacityå°±æ¯1.5åçoldCapacity\n    int newCapacity = oldCapacity + (oldCapacity >> 1);\n    \n    //è¿å¥è¯å°±æ¯éåºäºelementDataå°±ç©ºæ°ç»çæ¶åï¼length=0ï¼é£ä¹oldCapacity=0ï¼newCapacity=0ï¼æä»¥è¿ä¸ªå¤æ­æç«ï¼å¨è¿éå°±æ¯çæ­£çåå§åelementDataçå¤§å°äºï¼å°±æ¯ä¸º10.åé¢çå·¥ä½é½æ¯åå¤å·¥ä½ã\n    if (newCapacity - minCapacity < 0)\n\t\tnewCapacity = minCapacity;\n    \n    //å¦ænewCapacityè¶è¿äºæå¤§çå®¹ééå¶ï¼å°±è°ç¨hugeCapacityï¼ä¹å°±æ¯å°è½ç»çæå¤§å¼ç»newCapacity\n    if (newCapacity - MAX_ARRAY_SIZE > 0)\n        newCapacity = hugeCapacity(minCapacity);\n    // minCapacity is usually close to size, so this is a win:\n    //æ°çå®¹éå¤§å°å·²ç»ç¡®å®å¥½äºï¼å°±copyæ°ç»ï¼æ¹åå®¹éå¤§å°å¯ã\n    elementData = Arrays.copyOf(elementData, newCapacity);\n}\n    \n\n//è¿ä¸ªå°±æ¯ä¸é¢ç¨å°çæ¹æ³ï¼å¾ç®åï¼å°±æ¯ç¨æ¥èµæå¤§å¼\nprivate static int hugeCapacity(int minCapacity) {\n    if (minCapacity < 0) // overflow\n        throw new OutOfMemoryError();\n    \n//å¦æminCapacityé½å¤§äºMAX_ARRAY_SIZEï¼é£ä¹å°±Integer.MAX_VALUEè¿åï¼åä¹å°MAX_ARRAY_SIZEè¿åãå ä¸ºmaxCapacityæ¯ä¸åçminCapacityï¼å¯è½æ©åçå¤ªå¤§äºï¼å°±ç¨minCapacityæ¥å¤æ­äºã\n\n//Integer.MAX_VALUE:2147483647 MAX_ARRAY_SIZEï¼2147483639 ä¹å°±æ¯è¯´æå¤§ä¹å°±è½ç»å°ç¬¬ä¸ä¸ªæ°å¼ãè¿æ¯è¶è¿äºè¿ä¸ªéå¶ï¼å°±è¦æº¢åºäºãç¸å½äºarraylistç»äºä¸¤å±é²æ¤ã    \n    return (minCapacity > MAX_ARRAY_SIZE) ?\n        Integer.MAX_VALUE :\n    MAX_ARRAY_SIZE;\n}\n\n    \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n\n\nvoid add(intï¼E)\n\npublic void add(int index, E element) {\n    //æ£æ¥indexä¹å°±æ¯æå¥çä½ç½®æ¯å¦åçã\n    rangeCheckForAdd(index);\n    \n    ensureCapacityInternal(size + 1); // Increments modCount!!\n    \n    //è¿ä¸ªæ¹æ³å°±æ¯ç¨æ¥å¨æå¥åç´ ä¹åï¼è¦å°indexä¹åçåç´ é½å¾åç§»ä¸ä½ï¼\n    System.arraycopy(elementData, index, elementData, index + 1,\n    \t\t\t\t\tsize - index);\n    \n    //å¨ç®æ ä½ç½®ä¸å­æ¾åç´ \n    elementData[index] = element;\n    size++;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nãåæï¼rangeCheckForAdd(index)ã\n\nprivate void rangeCheckForAdd(int index) {\n    //æå¥çä½ç½®è¯å®ä¸è½å¤§äºsize åå°äº0\n    if (index > size || index < 0)\n        //å¦ææ¯ï¼å°±æ¥è¿ä¸ªè¶çå¼å¸¸\n        throw new IndexOutOfBoundsException(outOfBoundsMsg(index));\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nãSystem.arraycopy(...)ï¼å°±æ¯å°elementDataå¨æå¥ä½ç½®åçææåç´ ï¼å¾åé¢ç§»ä¸ä½ã\n\npublic static void arraycopy(Object src,\n            int srcPos,\n            Object dest,\n            int destPos,\n            int length)\n\n    //srcï¼æºå¯¹è±¡\n    //srcPosï¼æºå¯¹è±¡å¯¹è±¡çèµ·å§ä½ç½®\n    //destï¼ç®æ å¯¹è±¡\n    //destPostï¼ç®æ å¯¹è±¡çèµ·å§ä½ç½®\n    //lengthï¼ä»èµ·å§ä½ç½®å¾åå¤å¶çé¿åº¦ã\n  \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\næ³¨éè§£è¯»ï¼\n\nè¿æ®µçå¤§æ¦ææå°±æ¯è§£éè¿ä¸ªæ¹æ³çç¨æ³ï¼å¤å¶srcå°destï¼å¤å¶çä½ç½®æ¯ä»srcçsrcPostå¼å§ï¼å°srcPost+length-1çä½ç½®ç»æï¼å¤å¶å°destPostä¸ï¼ä»destPostå¼å§å°destPost+length-1çä½ç½®ä¸\n\n\n\nåè¯ä½ å¤å¶çä¸ç§æåµï¼å¦æAåBæ¯ä¸æ ·çï¼é£ä¹åå°Aå¤å¶å°ä¸´æ¶æ°ç»Cï¼ç¶åéè¿Cå¤å¶å°Bï¼ç¨äºä¸ä¸ªç¬¬ä¸æ¹åæ°\n\n\n\nè¿ä¸å¤§æ®µï¼å°±æ¯æ¥è¯´æä¼åºç°çä¸äºé®é¢ï¼NullPointerExceptionåIndexOutOfBoundsException è¿æArrayStoreException è¿ä¸ä¸ªå¼å¸¸åºç°çåå ã\n\n\n\nè¿éæè¿°äºä¸ç§ç¹æ®çæåµï¼å°±æ¯å½Açé¿åº¦å¤§äºBçé¿åº¦çæ¶åï¼ä¼å¤å¶ä¸é¨åï¼èä¸æ¯å®å¨å¤±è´¥ã\n\n\n\nè¿äºæ¯åæ°åè¡¨çè§£éåå¼å¸¸\n\n\n\nð±è¯»å«äººæºç æ¯ä»¶å¾å¤´ç¼çäºï¼æ°æä¼ç¨å°±è¡ï¼åçç­ä»¥ååæ¥å¤ä¹ çæ¶ååç~\n\nãæ»ç»ã\n\næ­£å¸¸æåµä¸ä¼æ©å®¹1.5åï¼ç¹æ®æåµä¸ï¼æ°æ©å±æ°ç»å¤§å°å·²ç»è¾¾å°äºæå¤§å¼ï¼ååªåæå¤§å¼ã\n\nå½æä»¬è°ç¨addæ¹æ³æ¶ï¼å®éä¸çå½æ°è°ç¨å¦ä¸ï¼\n\n\n\nè¯´æï¼ç¨åºè°ç¨addï¼å®éä¸è¿ä¼è¿è¡ä¸ç³»åè°ç¨ï¼å¯è½ä¼è°ç¨å°growï¼growå¯è½ä¼è°ç¨hugeCapacityã\n\nãä¸¾ä¾ã\n\nList<Integer> lists = new ArrayList<Integer>;\nlists.add(8);\n\n\n1\n2\n\n\nè¯´æï¼åå§ålistså¤§å°ä¸º0ï¼è°ç¨çArrayList()åæé å½æ°ï¼é£ä¹å¨è°ç¨lists.add(8)æ¹æ³æ¶ï¼ä¼ç»è¿ææ · çæ­¥éª¤å¢ï¼ä¸å¾ç»åºäºè¯¥ç¨åºæ§è¡è¿ç¨åæåä¸æåçelementDataçå¤§å°ã\n\n\n\nè¯´æï¼æä»¬å¯ä»¥çå°ï¼å¨addæ¹æ³ä¹åå¼å§elementData = {}ï¼è°ç¨addæ¹æ³æ¶ä¼ç»§ç»­è°ç¨ï¼ç´è³ growï¼æåelementDataçå¤§å°åä¸º10ï¼ä¹ååè¿åå°addå½æ°ï¼æ8æ¾å¨elementData[0]ä¸­ã\n\nãä¸¾ä¾è¯´æäºã\n\nList<Integer> lists = new ArrayList<Integer>(6);\nlists.add(8);\n\n\n1\n2\n\n\nè¯´æï¼è°ç¨çArrayList(int)åæé å½æ°ï¼é£ä¹elementDataè¢«åå§åä¸ºå¤§å°ä¸º6çObjectæ°ç»ï¼å¨è°ç¨add(8)æ¹æ³æ¶ï¼å·ä½çæ­¥éª¤å¦ä¸ï¼\n\n\n\nè¯´æï¼æä»¬å¯ä»¥ç¥éï¼å¨è°ç¨addæ¹æ³ä¹åï¼elementDataçå¤§å°å·²ç»ä¸º6ï¼ä¹ååè¿è¡ä¼ éï¼ä¸ä¼è¿è¡ æ©å®¹å¤çã\n\næ¨èæç« ç³»åï¼ ãéåæ¡æ¶ãJDK1.8æºç åæä¹HashMapï¼ä¸ï¼\n\n\n# 5ãæ ¸å¿æ¹æ³-remove\n\nå¶å®è¿å ä¸ªå é¤æ¹æ³é½æ¯ç±»ä¼¼çãæä»¬éæ©å ä¸ªè®²ï¼å¶ä¸­fastRemove(int)æ¹æ³æ¯privateçï¼æ¯æä¾ç» remove(Object)è¿ä¸ªæ¹æ³ç¨çã\n\nremove(int)ï¼éè¿å é¤æå®ä½ç½®ä¸çåç´ \n\npublic E remove(int index) {\n    rangeCheck(index);//æ£æ¥indexçåçæ§\n    \n    modCount++;//è¿ä¸ªä½ç¨å¾å¤ï¼æ¯å¦ç¨æ¥æ£æµå¿«éå¤±è´¥çä¸ç§æ å¿ã\n    E oldValue = elementData(index);//éè¿ç´¢å¼ç´æ¥æ¾å°è¯¥åç´ \n    \n    int numMoved = size - index - 1;//è®¡ç®è¦ç§»å¨çä½æ°ã\n    if (numMoved > 0)\n    \t//è¿ä¸ªæ¹æ³ä¹å·²ç»è§£éè¿äºï¼å°±æ¯ç¨æ¥ç§»å¨åç´ çã\n    \tSystem.arraycopy(elementData, index+1, elementData, index,numMoved);\n    //å°--sizeä¸çä½ç½®èµå¼ä¸ºnullï¼è®©gc(åå¾åæ¶æºå¶)æ´å¿«çåæ¶å®ã\n    elementData[--size] = null; // clear to let GC do its work\n    //è¿åå é¤çåç´ ã\n    return oldValue;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nremove(Object)ï¼è¿ä¸ªæ¹æ³å¯ä»¥çåºæ¥ï¼arrayListæ¯å¯ä»¥å­æ¾nullå¼\n\n//éè¿åç´ æ¥å é¤è¯¥åç´ ï¼å°±ä¾æ¬¡éåï¼å¦ææè¿ä¸ªåç´ ï¼å°±å°è¯¥åç´ çç´¢å¼ä¼ ç»fastRemobe(index)ï¼ä½¿ç¨è¿ä¸ªæ¹æ³æ¥å é¤è¯¥åç´ ï¼\n//fastRemove(index)æ¹æ³çåé¨è·remove(index)çå®ç°å ä¹ä¸æ ·ï¼è¿éæä¸»è¦æ¯ç¥éarrayListå¯ä»¥å­å¨nullå¼\npublic boolean remove(Object o) {\n    if (o == null) {\n    \tfor (int index = 0; index < size; index++)\n        \tif (elementData[index] == null) {\n                fastRemove(index);\n                return true;\n    \t\t}\n    } else {\n        for (int index = 0; index < size; index++)\n            if (o.equals(elementData[index])) {\n                fastRemove(index);\n                return true;\n            }\n    }\n    return false;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nclear()ï¼å°elementDataä¸­æ¯ä¸ªåç´ é½èµå¼ä¸ºnullï¼ç­å¾åå¾åæ¶å°è¿ä¸ªç»åæ¶æï¼æä»¥å«clear\n\npublic void clear() {\n    modCount++;\n    \n    // clear to let GC do its work\n    for (int i = 0; i < size; i++)\n    \telementData[i] = null;\n    size = 0;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nremoveAll(collection c)\n\npublic boolean removeAll(Collection<?> c) {\n\treturn batchRemove(c, false);//æ¹éå é¤\n}\n\n\n1\n2\n3\n\n\nbatchRemove(xx,xx)ï¼ç¨äºä¸¤ä¸ªæ¹æ³ï¼ä¸ä¸ªremoveAll()ï¼å®åªæ¸æ¥æå®éåä¸­çåç´ ï¼retainAll() ç¨æ¥æµè¯ä¸¤ä¸ªéåæ¯å¦æäº¤éã\n\n//è¿ä¸ªæ¹æ³ï¼ç¨äºä¸¤å¤å°æ¹ï¼å¦æcomplementä¸ºfalseï¼åç¨äºremoveAllå¦æä¸ºtrueï¼åç»retainAll()ç¨ï¼retainAllï¼ï¼æ¯ç¨æ¥æ£æµä¸¤ä¸ªéåæ¯å¦æäº¤éçã\n\nprivate boolean batchRemove(Collection<?> c, boolean complement) {\n        final Object[] elementData = this.elementData; //å°åéåï¼è®°åä¸ºA\n        int r = 0, w = 0;  //rç¨æ¥æ§å¶å¾ªç¯ï¼wæ¯è®°å½æå¤å°ä¸ªäº¤é\n        boolean modified = false;\n        try {\n            for (; r < size; r++)\n                //åæ°ä¸­çéåCä¸æ¬¡æ£æµéåAä¸­çåç´ æ¯å¦æï¼\n                if (c.contains(elementData[r]) == complement)\n                    //æçè¯ï¼å°±ç»éåA\n                    elementData[w++] = elementData[r];\n        } finally {\n            // Preserve behavioral compatibility with AbstractCollection,\n            // even if c.contains() throws.\n            //å¦æcontainsæ¹æ³ä½¿ç¨è¿ç¨æ¥å¼å¸¸\n            if (r != size) {\n                //å°å©ä¸çåç´ é½èµå¼ç»éåAï¼\n                System.arraycopy(elementData, r,\n                                 elementData, w,\n                                 size - r);\n                w += size - r;\n            }\n            if (w != size) {\n                // clear to let GC do its work\n                //è¿éæä¸¤ä¸ªç¨éï¼å¨removeAll()æ¶ï¼wä¸ç´ä¸º0ï¼å°±ç´æ¥è·clearä¸æ ·ï¼å¨æ¯ä¸ºnullã\n                //retainAll()ï¼æ²¡æä¸ä¸ªäº¤éè¿åtrueï¼æäº¤éä½ä¸å¨äº¤ä¹è¿åtrueï¼èä¸¤ä¸ªéåç¸ç­çæ¶åï¼è¿åfalseï¼æä»¥ä¸è½æ ¹æ®è¿åå¼æ¥ç¡®è®¤ä¸¤ä¸ªéåæ¯å¦æäº¤éï¼èæ¯éè¿åéåçå¤§å°æ¯å¦åçæ¹åæ¥å¤æ­ï¼å¦æåéåä¸­è¿æåç´ ï¼åä»£è¡¨æäº¤éï¼èåéåæ²¡æåç´ äºï¼è¯´æä¸¤ä¸ªéåæ²¡æäº¤éã\n\n                for (int i = w; i < size; i++)\n                    elementData[i] = null;\n                modCount += size - w;\n                size = w;\n                modified = true;\n            }\n        }\n        return modified;\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n\n\næ»ç»ï¼removeå½æ°ï¼ç¨æ·ç§»é¤æå®ä¸æ çåç´ ï¼æ­¤æ¶ä¼ææå®ä¸æ å°æ°ç»æ«å°¾çåç´ ååç§»å¨ä¸ä¸ªå ä½ï¼å¹¶ä¸ä¼ææ°ç»æåä¸ä¸ªåç´ è®¾ç½®ä¸ºnullï¼è¿æ ·æ¯ä¸ºäºæ¹ä¾¿ä¹åå°æ´ä¸ªæ°ç»ä¸è¢«ä½¿ç¨æ¶ï¼ä¼è¢«GCï¼å¯ ä»¥ä½ä¸ºå°çæå·§ä½¿ç¨ã\n\n\n# 6ãå¶ä»æ¹æ³\n\nset()æ¹æ³\n\nè¯´æï¼è®¾å®æå®ä¸æ ç´¢å¼çåç´ å¼\n\npublic E set(int index, E element) {\n    // æ£éªç´¢å¼æ¯å¦åæ³\n    rangeCheck(index);\n    // æ§å¼\n    E oldValue = elementData(index);\n    // èµæ°å¼\n    elementData[index] = element;\n    // è¿åæ§å¼\n    return oldValue;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nindexOf()æ¹æ³\n\nè¯´æï¼ä»å¤´å¼å§æ¥æ¾ä¸æå®åç´ ç¸ç­çåç´ ï¼æ³¨æï¼æ¯å¯ä»¥æ¥æ¾nullåç´ çï¼æå³çArrayListä¸­å¯ä»¥å­æ¾nullåç´ çãä¸æ­¤å½æ°å¯¹åºçlastIndexOfï¼è¡¨ç¤ºä»å°¾é¨å¼å§æ¥æ¾ã\n\n// ä»é¦å¼å§æ¥æ¾æ°ç»éé¢æ¯å¦å­å¨æå®åç´ \npublic int indexOf(Object o) {\n    if (o == null) { // æ¥æ¾çåç´ ä¸ºç©º\n        for (int i = 0; i < size; i++) // éåæ°ç»ï¼æ¾å°ç¬¬ä¸ä¸ªä¸ºç©ºçåç´ ï¼è¿åä¸æ \n        \tif (elementData[i]==null)\n        \t\treturn i;\n    } else { // æ¥æ¾çåç´ ä¸ä¸ºç©º\n        for (int i = 0; i < size; i++) // éåæ°ç»ï¼æ¾å°ç¬¬ä¸ä¸ªåæå®åç´ ç¸ç­çåç´ ï¼è¿åä¸æ \n        if (o.equals(elementData[i]))\n        \treturn i;\n    }\n    // æ²¡ææ¾å°ï¼è¿åç©º\n    return -1;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nget()æ¹æ³\n\npublic E get(int index) {\n    // æ£éªç´¢å¼æ¯å¦åæ³\n    rangeCheck(index);\n    return elementData(index);\n}\n\n\n1\n2\n3\n4\n5\n\n\nè¯´æï¼getå½æ°ä¼æ£æ¥ç´¢å¼å¼æ¯å¦åæ³ï¼åªæ£æ¥æ¯å¦å¤§äºsizeï¼èæ²¡ææ£æ¥æ¯å¦å°äº0ï¼ï¼å¼å¾æ³¨æç æ¯ï¼å¨getå½æ°ä¸­å­å¨elementå½æ°ï¼elementå½æ°ç¨äºè¿åå·ä½çåç´ ï¼å·ä½å½æ°å¦ä¸ï¼\n\nE elementData(int index) {\n\treturn (E) elementData[index];\n}\n\n\n1\n2\n3\n\n\nè¯´æï¼è¿åçå¼é½ç»è¿äºåä¸è½¬åï¼Object -> Eï¼ï¼è¿äºæ¯å¯¹æä»¬åºç¨ç¨åºå±è½çå°ç»èã\n\n\n# ArrayListå®è·µ\n\né®é¢ï¼æä»¬ç°å¨æ4åªå°çï¼æä»¬å¦ä½å­å¨å®çä¿¡æ¯ï¼è·åæ»æ°ï¼å¹¶è½å¤éæ¡æå°ççä¿¡æ¯ï¼\n\nåæï¼éè¿List æ¥å£çå®ç°ç±»ArrayList å®ç°è¯¥éæ±ã\n\n * åç´ ä¸ªæ°ä¸ç¡®å®\n * è¦æ±è·å¾åç´ çå®éä¸ªæ°\n * æç§å­å¨é¡ºåºè·åå¹¶æå°åç´ ä¿¡æ¯\n\nclass Dog {\n    private String name;\n    //æé ãããsetãgetããããtoStringï¼ï¼\n}\n\n\n1\n2\n3\n4\n\n\npublic class TestArrayList {\n    public static void main(String[] args) {\n        //åå»ºArrayListå¯¹è±¡ , å¹¶å­å¨çç\n        List dogs = new ArrayList();\n        \n        dogs.add(new Dog("å°çä¸å·"));\n        dogs.add(new Dog("å°çäºå·"));\n        dogs.add(new Dog("å°çä¸å·"));\n        dogs.add(2,new Dog("å°çåå·"));// æ·»å å°æå®ä½ç½®\n        \n        // .size() ï¼ ArrayListå¤§å°\n        System.out.println("å±è®¡æ" + dogs.size() + "æ¡ççã");\n        System.out.println("åå«æ¯ï¼");\n        \n        // .get(i) ï¼ éä¸ªè·åä¸ªåç´ \n        for (int i = 0; i < dogs.size(); i++) {\n            Dog dog = (Dog) dogs.get(i);\n            System.out.println(dog.getName());\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\né®é¢èæ³ï¼\n\n * å é¤ç¬¬ä¸ä¸ªçç ï¼removeï¼indexï¼\n * å é¤æå®ä½ç½®ççç ï¼removeï¼objectï¼\n * å¤æ­éåä¸­æ¯å¦åå«æå®çç ï¼ containsï¼objectï¼\n\nåæï¼ä½¿ç¨Listæ¥å£æä¾çremove()ãcontains()æ¹æ³\n\nãå¸¸ç¨æ¹æ³ã\n\n\n\n\n# æ»ç»\n\n1ï¼arrayListå¯ä»¥å­æ¾nullã 2ï¼arrayListæ¬è´¨ä¸å°±æ¯ä¸ä¸ªelementDataæ°ç»ã 3ï¼arrayListåºå«äºæ°ç»çå°æ¹å¨äºè½å¤èªå¨æ©å±å¤§å°ï¼å¶ä¸­å³é®çæ¹æ³å°±æ¯gorw()æ¹æ³ã 4ï¼arrayListä¸­removeAll(collection c)åclear()çåºå«å°±æ¯removeAllå¯ä»¥å é¤æ¹éæå®çåç´ ï¼èclearæ¯å¨æ¯å é¤éåä¸­çåç´ ã 5ï¼arrayListç±äºæ¬è´¨æ¯æ°ç»ï¼æä»¥å®å¨æ°æ®çæ¥è¯¢æ¹é¢ä¼å¾å¿«ï¼èå¨æå¥å é¤è¿äºæ¹é¢ï¼æ§è½ä¸éå¾ å¤ï¼æç§»å¨å¾å¤æ°æ®æè½è¾¾å°åºæçææ 6ï¼arrayListå®ç°äºRandomAccessï¼æä»¥å¨éåå®çæ¶åæ¨èä½¿ç¨forå¾ªç¯ã',normalizedContent:'# arraylist\n\n\n# arraylistæ¦è¿°\n\narraylistæ¯å¯ä»¥å¨æå¢é¿åç¼©åçç´¢å¼åºåï¼å®æ¯åºäºæ°ç»å®ç°çlistç±»ã\n\nè¯¥ç±»å°è£äºä¸ä¸ªå¨æååéçobject[]æ°ç»ï¼æ¯ä¸ä¸ªç±»å¯¹è±¡é½æä¸ä¸ªcapacityãå®¹éãå±æ§ï¼è¡¨ç¤ºå®ä»¬æå°è£çobject[]æ°ç»çé¿åº¦ï¼å½åarraylistä¸­æ·»å åç´ æ¶ï¼è¯¥å±æ§å¼ä¼èªå¨å¢å ãå¦ææ³ arraylistä¸­æ·»å å¤§éåç´ ï¼å¯ä½¿ç¨ensurecapacityæ¹æ³ä¸æ¬¡æ§å¢å capacityï¼å¯ä»¥åå°å¢å éåéçæ¬¡æ°æé«æ§è½ã\n\narraylistçç¨æ³åvectoråç±»ä¼¼ï¼ä½æ¯vectoræ¯ä¸ä¸ªè¾èçéåï¼å·æå¾å¤ç¼ºç¹ï¼ä¸å»ºè®®ä½¿ç¨ã\n\nå¦å¤ï¼arrayliståvectorçåºå«æ¯ï¼arraylistæ¯çº¿ç¨ä¸å®å¨çï¼å½å¤æ¡çº¿ç¨è®¿é®åä¸ä¸ªarraylistéåæ¶ï¼ç¨åºéè¦æå¨ä¿è¯è¯¥éåçåæ­¥æ§ï¼èvectoråæ¯çº¿ç¨å®å¨çã\n\narrayliståcollectionçå³ç³»ï¼\n\n\n\n\n# arraylistçæ°æ®ç»æ\n\nåæä¸ä¸ªç±»çæ¶åï¼æ°æ®ç»æå¾å¾æ¯å®ççµé­æå¨ï¼çè§£åºå±çæ°æ®ç»æå¶å®å°±çè§£äºè¯¥ç±»çå®ç°æ è·¯ï¼å·ä½çå®ç°ç»èåå·ä½åæã\n\narraylistçæ°æ®ç»ææ¯ï¼\n\n\n\nè¯´æï¼åºå±çæ°æ®ç»æå°±æ¯æ°ç»ï¼æ°ç»åç´ ç±»åä¸ºobjectç±»åï¼å³å¯ä»¥å­æ¾ææç±»åæ°æ®ãæä»¬å¯¹ arraylistç±»çå®ä¾çææçæä½åºå±é½æ¯åºäºæ°ç»çã\n\n\n# arraylistæºç åæ\n\n\n# 1ãç»§æ¿ç»æåå±æ¬¡å³ç³»\n\nideaå¿«æ·é®ï¼ctrl+h\n\n\n\npublic class arraylist<e> extends abstractlist<e>\nimplements list<e>, randomaccess, cloneable, java.io.serializable{\n    \n}\n\n\n1\n2\n3\n4\n\n\næä»¬çä¸ä¸arraylistçç»§æ¿ç»æï¼\n\narraylist extends abstractlist abstractlist extends abstractcollection\n\nææç±»é½ç»§æ¿object æä»¥arraylistçç»§æ¿ç»æå°±æ¯ä¸å¾è¿æ ·ã\n\nãåæã\n\nä¸ºä»ä¹è¦åç»§æ¿abstractlistï¼èè®©abstractliståå®ç°listï¼èä¸æ¯è®©arraylistç´æ¥å®ç°listï¼\n\nè¿éæ¯æä¸ä¸ªææ³ï¼æ¥å£ä¸­å¨é½æ¯æ½è±¡çæ¹æ³ï¼èæ½è±¡ç±»ä¸­å¯ä»¥ææ½è±¡æ¹æ³ï¼è¿å¯ä»¥æå·ä½çå®ç°æ¹æ³ï¼æ­£æ¯å©ç¨äºè¿ä¸ç¹ï¼è®©abstractlistæ¯å®ç°æ¥å£ä¸­ä¸äºéç¨çæ¹æ³ï¼èå·ä½çç±»ï¼å¦arraylistå°±ç»§æ¿è¿ä¸ªabstractlistç±»ï¼æ¿å°ä¸äºéç¨çæ¹æ³ï¼ç¶åèªå·±å¨å®ç°ä¸äºèªå·±ç¹æçæ¹æ³ï¼è¿æ ·ä¸æ¥ï¼è®©ä»£ç æ´ç®æ´ï¼å°±ç»§æ¿ç»ææåºå±çç±»ä¸­éç¨çæ¹æ³é½æ½ååºæ¥ï¼åä¸èµ·å®ç°äºï¼åå°éå¤ä»£ç ãæä»¥ä¸è¬çå° ä¸ä¸ªç±»ä¸é¢è¿æä¸ä¸ªæ½è±¡ç±»ï¼åºè¯¥å°±æ¯è¿ä¸ªä½ç¨ã\n\narraylistå®ç°äºåªäºæ¥å£ï¼\n\nlistæ¥å£ï¼æä»¬ä¼åºç°è¿æ ·ä¸ä¸ªçé®ï¼å¨æ¥çäºarraylistçç¶ç±» abstractlistä¹å®ç°äºlistæ¥å£ï¼é£ä¸ºä»ä¹å­ç±»arraylistè¿æ¯å»å®ç°ä¸éå¢ï¼\n\nè¿æ¯æ³ä¸éçå°æ¹ï¼æ¥èµææ¾ç¤ºï¼æçäººè¯´æ¯ä¸ºäºæ¥çä»£ç æ¹ä¾¿ï¼ä½¿è§çèä¸ç®äºç¶ï¼è¯´æ³ä¸ ä¸ï¼ä½æ¯ä¸ä¸ªè®©ææè§åççï¼ä½æ¯å¨stackoverflowä¸­æ¾å°äºç­æ¡ï¼è¿éå¶å®å¾æè¶£ã\n\nå¼åè¿ä¸ªcollection çä½èjoshè¯´ï¼\n\nè¿å¶å®æ¯ä¸ä¸ªmistake[å¤±è¯¯]ï¼å ä¸ºä»åè¿ä»£ç çæ¶åè§å¾è¿ä¸ªä¼æç¨å¤ï¼ä½æ¯å¶å®å¹¶æ²¡ä»ä¹ç¨ï¼ä½å ä¸ºæ²¡ä»ä¹å½±åï¼å°±ä¸ç´çå°äºç°å¨ã\n\nrandomaccessæ¥å£ï¼è¿ä¸ªæ¯ä¸ä¸ªæ è®°æ§æ¥å£ï¼éè¿æ¥çapiææ¡£ï¼å®çä½ç¨å°±æ¯ç¨æ¥å¿«ééæºå­åï¼ æå³æççé®é¢ï¼å¨å®ç°äºè¯¥æ¥å£çè¯ï¼é£ä¹ä½¿ç¨æ®éçforå¾ªç¯æ¥éåï¼æ§è½æ´é«ï¼ä¾å¦arraylistãèæ²¡æå®ç°è¯¥æ¥å£çè¯ï¼ä½¿ç¨iteratoræ¥è¿­ä»£ï¼è¿æ ·æ§è½æ´é«ï¼ä¾å¦linkedlistãæä»¥è¿ä¸ªæ è®°æ§åªæ¯ä¸ºäº è®©æä»¬ç¥éæä»¬ç¨ä»ä¹æ ·çæ¹å¼å»è·åæ°æ®æ§è½æ´å¥½ã\n\ncloneableæ¥å£ï¼å®ç°äºè¯¥æ¥å£ï¼å°±å¯ä»¥ä½¿ç¨object.clone()æ¹æ³äºã\n\nserializableæ¥å£ï¼å®ç°è¯¥åºååæ¥å£ï¼è¡¨æè¯¥ç±»å¯ä»¥è¢«åºååï¼ä»ä¹æ¯åºååï¼ç®åçè¯´ï¼å°±æ¯è½å¤ ä»ç±»åæå­èæµä¼ è¾ï¼ç¶åè¿è½ä»å­èæµåæåæ¥çç±»ã\n\n\n# 2ãç±»ä¸­çå±æ§\n\npublic class arraylist<e> extends abstractlist<e>\nimplements list<e>, randomaccess, cloneable, java.io.serializable\n    {\n    // çæ¬å·\n    private static final long serialversionuid = 8683452581122892189l;\n    // ç¼ºçå®¹é\n    private static final int default_capacity = 10;\n    // ç©ºå¯¹è±¡æ°ç»\n    private static final object[] empty_elementdata = {};\n    // ç¼ºçç©ºå¯¹è±¡æ°ç»\n    private static final object[] defaultcapacity_empty_elementdata = {};\n    // åç´ æ°ç»\n    transient object[] elementdata;\n    // å®éåç´ å¤§å°ï¼é»è®¤ä¸º0\n    private int size;\n    // æå¤§æ°ç»å®¹é\n    private static final int max_array_size = integer.max_value - 8;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# 3ãæé æ¹æ³\n\n\n\næ åæé æ¹æ³\n\n/*\n    constructs an empty list with an initial capacity of ten.\n    è¿éå°±è¯´æäºé»è®¤ä¼ç»10çå¤§å°ï¼æä»¥è¯´ä¸å¼å§arraylistçå®¹éæ¯10.\n*/\n//arraylistä¸­å¨å­æ°æ®çå¶å®å°±æ¯ä¸ä¸ªæ°ç»ï¼è¿ä¸ªæ°ç»å°±æ¯elementdata.\npublic arraylist() {\n    super(); //è°ç¨ç¶ç±»ä¸­çæ åæé æ¹æ³ï¼ç¶ç±»ä¸­çæ¯ä¸ªç©ºçæé æ¹æ³\n    this.elementdata = empty_elementdata;\n    //empty_elementdataï¼æ¯ä¸ªç©ºçobject[]ï¼ å°elementdataåå§åï¼elementdataä¹æ¯ä¸ªobject[]ç±»åãç©ºçobject[]ä¼ç»é»è®¤å¤§å°10ï¼ç­ä¼ä¼è§£éä»ä¹æ¶åèµå¼çã\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\næåæé æ¹æ³1\n\n/*\nconstructs an empty list with the specified initial capacity.\næé å·ææå®åå§å®¹éçç©ºåè¡¨ã\n\n@param initialcapacity the initial capacity of the list\nåå§å®¹éåè¡¨çåå§å®¹é\n\n@throws illegalargumentexception if the specified initial capacity is negative\nå¦ææå®çåå§å®¹éä¸ºè´ï¼åä¸ºillegalargumentexception\n*/\n\npublic arraylist(int initialcapacity) {\n    if (initialcapacity > 0) {\n        //å°èªå®ä¹çå®¹éå¤§å°å½æåå§å initialcapacity çå¤§å°\n        this.elementdata = new object[initialcapacity];\n    } else if (initialcapacity == 0) {\n        this.elementdata = empty_elementdata; //ç­åäºæ åæé æ¹æ³\n    } else {\n        //å¤æ­å¦æèªå®ä¹å¤§å°çå®¹éå°äº0ï¼åæ¥ä¸é¢è¿ä¸ªéæ³æ°æ®å¼å¸¸\n        throw new illegalargumentexception("illegal capacity: "+initialcapacity);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\næåæé æ¹æ³ 2\n\n/*\n    constructs a list containing the elements of the specified collection,in the order they are returned by the collection\'s iterator.\n    æç§éåè¿­ä»£å¨è¿ååç´ çé¡ºåºæé åå«æå®éåçåç´ çåè¡¨ã\n    @param c the collection whose elements are to be placed into this list\n    @throws nullpointerexception if the specified collection is null\n*/\npublic arraylist(collection<? extends e> c) {\n    elementdata = c.toarray(); //è½¬æ¢ä¸ºæ°ç»\n    //æ¯ä¸ªéåçtoarray()çå®ç°æ¹æ³ä¸ä¸æ ·ï¼æä»¥éè¦å¤æ­ä¸ä¸ï¼å¦æä¸æ¯object[].classç±»åï¼é£ä¹ä¹éè¦ä½¿ç¨arraylistä¸­çæ¹æ³å»æ¹é ä¸ä¸ã\n    if ((size = elementdata.length) != 0) {\n   \t\t // c.toarray might (incorrectly) not return object[] (see 6260652)\n   \t\t if (elementdata.getclass() != object[].class)\n    \t\t elementdata = arrays.copyof(elementdata, size, object[].class);\n    } else {\n        // replace with empty array.\n    \tthis.elementdata = empty_elementdata;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nè¿ä¸ªæé æ¹æ³ä¸å¸¸ç¨ï¼ä¸¾ä¸ªä¾å­å°±è½æç½ä»ä¹ææ\n\nä¸¾ä¸ªä¾å­ï¼ strudent exends person ï¼ arraylistã personè¿éå°±æ¯æ³å ï¼ æè¿æä¸ä¸ªcollectionã ç±äºè¿ä¸ªstudentç»§æ¿äºpersonï¼é£ä¹æ ¹æ®è¿ä¸ªæé æ¹æ³ï¼æå°±å¯ä»¥æè¿ä¸ªcollectionè½¬æ¢ä¸ºarraylist ï¼ è¿å°±æ¯è¿ä¸ªæé æ¹æ³çä½ç¨ ã\n\nãæ»ç»ãarraylistçæé æ¹æ³å°±åä¸ä»¶äºæï¼å°±æ¯åå§åä¸ä¸å¨å­æ°æ®çå®¹å¨ï¼å¶å®æ¬è´¨ä¸å°±æ¯ä¸ä¸ªæ° ç»ï¼å¨å¶ä¸­å°±å«elementdataã\n\n\n# 4ãæ ¸å¿æ¹æ³-add\n\nalt+7 æ¥çæ¹æ³åè¡¨ï¼ctrl+å·¦é® éä¸­addè¿å»åæ¥ç\n\nboolean add(e)\n\n/**\n* appends the specified element to the end of this list.\n* æ·»å ä¸ä¸ªç¹å®çåç´ å°listçæ«å°¾ã\n* @param e element to be appended to this list\n* @return <tt>true</tt> (as specified by {@link collection#add})\n*/\npublic boolean add(e e) {\n    //ç¡®å®åé¨å®¹éæ¯å¦å¤äºï¼sizeæ¯æ°ç»ä¸­æ°æ®çä¸ªæ°ï¼å ä¸ºè¦æ·»å ä¸ä¸ªåç´ ï¼æä»¥size+1ï¼åå¤æ­size+1çè¿ä¸ªæ°æ°ç»è½å¦æ¾å¾ä¸ï¼å°±å¨è¿ä¸ªæ¹æ³ä¸­å»å¤æ­æ¯å¦æ°ç».lengthæ¯å¦å¤ç¨äºã\n    ensurecapacityinternal(size + 1); // increments modcount!!\n    elementdata[size++] = e; //å¨æ°æ®ä¸­æ­£ç¡®çä½ç½®ä¸æ¾ä¸åç´ eï¼å¹¶ä¸size++\n    return true;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nãåæï¼ensurecapacityinternal(xxx); ç¡®å®åé¨å®¹éçæ¹æ³ã\n\nprivate void ensurecapacityinternal(int mincapacity) {\n\tensureexplicitcapacity(calculatecapacity(elementdata, mincapacity));\n}\n\nprivate static int calculatecapacity(object[] elementdata, int mincapacity){\n    //çï¼å¤æ­åå§åçelementdataæ¯ä¸æ¯ç©ºçæ°ç»ï¼ä¹å°±æ¯æ²¡æé¿åº¦\n    if (elementdata == defaultcapacity_empty_elementdata) {\n        //å ä¸ºå¦ææ¯ç©ºçè¯ï¼mincapacity=size+1ï¼å¶å®å°±æ¯ç­äº1ï¼ç©ºçæ°ç»æ²¡æé¿åº¦å°±å­æ¾ä¸äºï¼æä»¥å°±å°mincapacityåæ10ï¼ä¹å°±æ¯é»è®¤å¤§å°ï¼ä½æ¯å¨è¿éï¼è¿æ²¡æçæ­£çåå§åè¿ä¸ªelementdataçå¤§å°ã\n        return math.max(default_capacity, mincapacity);\n    }\n    //ç¡®è®¤å®éçå®¹éï¼ä¸é¢åªæ¯å°mincapacity=10ï¼è¿ä¸ªæ¹æ³å°±æ¯çæ­£çå¤æ­elementdataæ¯å¦å¤ç¨\n    return mincapacity;\n}\n\nprivate void ensureexplicitcapacity(int mincapacity) {\n    modcount++;\n    //  overflow-conscious code\n    //mincapacityå¦æå¤§äºäºå®éelementdataçé¿åº¦ï¼é£ä¹å°±è¯´æelementdataæ°ç»çé¿åº¦ä¸å¤ç¨ï¼ä¸å¤ç¨é£ä¹å°±è¦å¢å elementdataçlengthãè¿éæçåå­¦å°±ä¼æ¨¡ç³mincapacityå°åºæ¯ä»ä¹å¢ï¼è¿éç»ä½ ä»¬åæä¸ä¸\n    /*\n    ç¬¬ä¸ç§æåµï¼ç±äºelementdataåå§åæ¶æ¯ç©ºçæ°ç»ï¼é£ä¹ç¬¬ä¸æ¬¡addçæ¶åï¼mincapacity=size+1ï¼ä¹å°±mincapacity=1ï¼å¨ä¸ä¸ä¸ªæ¹æ³(ç¡®å®åé¨å®¹éensurecapacityinternal)å°±ä¼å¤æ­åºæ¯ç©ºçæ°ç»ï¼å°±ä¼ç»å°mincapacity=10ï¼å°è¿ä¸æ­¥ä¸ºæ­¢ï¼è¿æ²¡ææ¹åelementdataçå¤§å°ã\n    \n\tç¬¬äºç§æåµï¼elementdataä¸æ¯ç©ºçæ°ç»äºï¼é£ä¹å¨addçæ¶åï¼mincapacity=size+1ï¼ä¹å°±æ¯mincapacityä»£è¡¨çelementdataä¸­å¢å ä¹åçå®éæ°æ®ä¸ªæ°ï¼æ¿çå®å¤æ­elementdataçlengthæ¯å¦å¤ç¨ï¼å¦ælengthä¸å¤ç¨ï¼é£ä¹è¯å®è¦æ©å¤§å®¹éï¼ä¸ç¶å¢å çè¿ä¸ªåç´ å°±ä¼æº¢åºã\n*/\n    if (mincapacity - elementdata.length > 0)\n\t\tgrow(mincapacity);\n}\n//arraylistæ ¸å¿çæ¹æ³ï¼è½æ©å±æ°ç»å¤§å°ççæ­£ç§å¯ã\nprivate void grow(int mincapacity) {\n    // overflow-conscious code\n    \n    //å°æ©ååçelementdataå¤§å°ç»oldcapacity\n    int oldcapacity = elementdata.length;\n    \n    //newcapacityå°±æ¯1.5åçoldcapacity\n    int newcapacity = oldcapacity + (oldcapacity >> 1);\n    \n    //è¿å¥è¯å°±æ¯éåºäºelementdataå°±ç©ºæ°ç»çæ¶åï¼length=0ï¼é£ä¹oldcapacity=0ï¼newcapacity=0ï¼æä»¥è¿ä¸ªå¤æ­æç«ï¼å¨è¿éå°±æ¯çæ­£çåå§åelementdataçå¤§å°äºï¼å°±æ¯ä¸º10.åé¢çå·¥ä½é½æ¯åå¤å·¥ä½ã\n    if (newcapacity - mincapacity < 0)\n\t\tnewcapacity = mincapacity;\n    \n    //å¦ænewcapacityè¶è¿äºæå¤§çå®¹ééå¶ï¼å°±è°ç¨hugecapacityï¼ä¹å°±æ¯å°è½ç»çæå¤§å¼ç»newcapacity\n    if (newcapacity - max_array_size > 0)\n        newcapacity = hugecapacity(mincapacity);\n    // mincapacity is usually close to size, so this is a win:\n    //æ°çå®¹éå¤§å°å·²ç»ç¡®å®å¥½äºï¼å°±copyæ°ç»ï¼æ¹åå®¹éå¤§å°å¯ã\n    elementdata = arrays.copyof(elementdata, newcapacity);\n}\n    \n\n//è¿ä¸ªå°±æ¯ä¸é¢ç¨å°çæ¹æ³ï¼å¾ç®åï¼å°±æ¯ç¨æ¥èµæå¤§å¼\nprivate static int hugecapacity(int mincapacity) {\n    if (mincapacity < 0) // overflow\n        throw new outofmemoryerror();\n    \n//å¦æmincapacityé½å¤§äºmax_array_sizeï¼é£ä¹å°±integer.max_valueè¿åï¼åä¹å°max_array_sizeè¿åãå ä¸ºmaxcapacityæ¯ä¸åçmincapacityï¼å¯è½æ©åçå¤ªå¤§äºï¼å°±ç¨mincapacityæ¥å¤æ­äºã\n\n//integer.max_value:2147483647 max_array_sizeï¼2147483639 ä¹å°±æ¯è¯´æå¤§ä¹å°±è½ç»å°ç¬¬ä¸ä¸ªæ°å¼ãè¿æ¯è¶è¿äºè¿ä¸ªéå¶ï¼å°±è¦æº¢åºäºãç¸å½äºarraylistç»äºä¸¤å±é²æ¤ã    \n    return (mincapacity > max_array_size) ?\n        integer.max_value :\n    max_array_size;\n}\n\n    \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n\n\nvoid add(intï¼e)\n\npublic void add(int index, e element) {\n    //æ£æ¥indexä¹å°±æ¯æå¥çä½ç½®æ¯å¦åçã\n    rangecheckforadd(index);\n    \n    ensurecapacityinternal(size + 1); // increments modcount!!\n    \n    //è¿ä¸ªæ¹æ³å°±æ¯ç¨æ¥å¨æå¥åç´ ä¹åï¼è¦å°indexä¹åçåç´ é½å¾åç§»ä¸ä½ï¼\n    system.arraycopy(elementdata, index, elementdata, index + 1,\n    \t\t\t\t\tsize - index);\n    \n    //å¨ç®æ ä½ç½®ä¸å­æ¾åç´ \n    elementdata[index] = element;\n    size++;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nãåæï¼rangecheckforadd(index)ã\n\nprivate void rangecheckforadd(int index) {\n    //æå¥çä½ç½®è¯å®ä¸è½å¤§äºsize åå°äº0\n    if (index > size || index < 0)\n        //å¦ææ¯ï¼å°±æ¥è¿ä¸ªè¶çå¼å¸¸\n        throw new indexoutofboundsexception(outofboundsmsg(index));\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nãsystem.arraycopy(...)ï¼å°±æ¯å°elementdataå¨æå¥ä½ç½®åçææåç´ ï¼å¾åé¢ç§»ä¸ä½ã\n\npublic static void arraycopy(object src,\n            int srcpos,\n            object dest,\n            int destpos,\n            int length)\n\n    //srcï¼æºå¯¹è±¡\n    //srcposï¼æºå¯¹è±¡å¯¹è±¡çèµ·å§ä½ç½®\n    //destï¼ç®æ å¯¹è±¡\n    //destpostï¼ç®æ å¯¹è±¡çèµ·å§ä½ç½®\n    //lengthï¼ä»èµ·å§ä½ç½®å¾åå¤å¶çé¿åº¦ã\n  \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\næ³¨éè§£è¯»ï¼\n\nè¿æ®µçå¤§æ¦ææå°±æ¯è§£éè¿ä¸ªæ¹æ³çç¨æ³ï¼å¤å¶srcå°destï¼å¤å¶çä½ç½®æ¯ä»srcçsrcpostå¼å§ï¼å°srcpost+length-1çä½ç½®ç»æï¼å¤å¶å°destpostä¸ï¼ä»destpostå¼å§å°destpost+length-1çä½ç½®ä¸\n\n\n\nåè¯ä½ å¤å¶çä¸ç§æåµï¼å¦æaåbæ¯ä¸æ ·çï¼é£ä¹åå°aå¤å¶å°ä¸´æ¶æ°ç»cï¼ç¶åéè¿cå¤å¶å°bï¼ç¨äºä¸ä¸ªç¬¬ä¸æ¹åæ°\n\n\n\nè¿ä¸å¤§æ®µï¼å°±æ¯æ¥è¯´æä¼åºç°çä¸äºé®é¢ï¼nullpointerexceptionåindexoutofboundsexception è¿æarraystoreexception è¿ä¸ä¸ªå¼å¸¸åºç°çåå ã\n\n\n\nè¿éæè¿°äºä¸ç§ç¹æ®çæåµï¼å°±æ¯å½açé¿åº¦å¤§äºbçé¿åº¦çæ¶åï¼ä¼å¤å¶ä¸é¨åï¼èä¸æ¯å®å¨å¤±è´¥ã\n\n\n\nè¿äºæ¯åæ°åè¡¨çè§£éåå¼å¸¸\n\n\n\nð±è¯»å«äººæºç æ¯ä»¶å¾å¤´ç¼çäºï¼æ°æä¼ç¨å°±è¡ï¼åçç­ä»¥ååæ¥å¤ä¹ çæ¶ååç~\n\nãæ»ç»ã\n\næ­£å¸¸æåµä¸ä¼æ©å®¹1.5åï¼ç¹æ®æåµä¸ï¼æ°æ©å±æ°ç»å¤§å°å·²ç»è¾¾å°äºæå¤§å¼ï¼ååªåæå¤§å¼ã\n\nå½æä»¬è°ç¨addæ¹æ³æ¶ï¼å®éä¸çå½æ°è°ç¨å¦ä¸ï¼\n\n\n\nè¯´æï¼ç¨åºè°ç¨addï¼å®éä¸è¿ä¼è¿è¡ä¸ç³»åè°ç¨ï¼å¯è½ä¼è°ç¨å°growï¼growå¯è½ä¼è°ç¨hugecapacityã\n\nãä¸¾ä¾ã\n\nlist<integer> lists = new arraylist<integer>;\nlists.add(8);\n\n\n1\n2\n\n\nè¯´æï¼åå§ålistså¤§å°ä¸º0ï¼è°ç¨çarraylist()åæé å½æ°ï¼é£ä¹å¨è°ç¨lists.add(8)æ¹æ³æ¶ï¼ä¼ç»è¿ææ · çæ­¥éª¤å¢ï¼ä¸å¾ç»åºäºè¯¥ç¨åºæ§è¡è¿ç¨åæåä¸æåçelementdataçå¤§å°ã\n\n\n\nè¯´æï¼æä»¬å¯ä»¥çå°ï¼å¨addæ¹æ³ä¹åå¼å§elementdata = {}ï¼è°ç¨addæ¹æ³æ¶ä¼ç»§ç»­è°ç¨ï¼ç´è³ growï¼æåelementdataçå¤§å°åä¸º10ï¼ä¹ååè¿åå°addå½æ°ï¼æ8æ¾å¨elementdata[0]ä¸­ã\n\nãä¸¾ä¾è¯´æäºã\n\nlist<integer> lists = new arraylist<integer>(6);\nlists.add(8);\n\n\n1\n2\n\n\nè¯´æï¼è°ç¨çarraylist(int)åæé å½æ°ï¼é£ä¹elementdataè¢«åå§åä¸ºå¤§å°ä¸º6çobjectæ°ç»ï¼å¨è°ç¨add(8)æ¹æ³æ¶ï¼å·ä½çæ­¥éª¤å¦ä¸ï¼\n\n\n\nè¯´æï¼æä»¬å¯ä»¥ç¥éï¼å¨è°ç¨addæ¹æ³ä¹åï¼elementdataçå¤§å°å·²ç»ä¸º6ï¼ä¹ååè¿è¡ä¼ éï¼ä¸ä¼è¿è¡ æ©å®¹å¤çã\n\næ¨èæç« ç³»åï¼ ãéåæ¡æ¶ãjdk1.8æºç åæä¹hashmapï¼ä¸ï¼\n\n\n# 5ãæ ¸å¿æ¹æ³-remove\n\nå¶å®è¿å ä¸ªå é¤æ¹æ³é½æ¯ç±»ä¼¼çãæä»¬éæ©å ä¸ªè®²ï¼å¶ä¸­fastremove(int)æ¹æ³æ¯privateçï¼æ¯æä¾ç» remove(object)è¿ä¸ªæ¹æ³ç¨çã\n\nremove(int)ï¼éè¿å é¤æå®ä½ç½®ä¸çåç´ \n\npublic e remove(int index) {\n    rangecheck(index);//æ£æ¥indexçåçæ§\n    \n    modcount++;//è¿ä¸ªä½ç¨å¾å¤ï¼æ¯å¦ç¨æ¥æ£æµå¿«éå¤±è´¥çä¸ç§æ å¿ã\n    e oldvalue = elementdata(index);//éè¿ç´¢å¼ç´æ¥æ¾å°è¯¥åç´ \n    \n    int nummoved = size - index - 1;//è®¡ç®è¦ç§»å¨çä½æ°ã\n    if (nummoved > 0)\n    \t//è¿ä¸ªæ¹æ³ä¹å·²ç»è§£éè¿äºï¼å°±æ¯ç¨æ¥ç§»å¨åç´ çã\n    \tsystem.arraycopy(elementdata, index+1, elementdata, index,nummoved);\n    //å°--sizeä¸çä½ç½®èµå¼ä¸ºnullï¼è®©gc(åå¾åæ¶æºå¶)æ´å¿«çåæ¶å®ã\n    elementdata[--size] = null; // clear to let gc do its work\n    //è¿åå é¤çåç´ ã\n    return oldvalue;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nremove(object)ï¼è¿ä¸ªæ¹æ³å¯ä»¥çåºæ¥ï¼arraylistæ¯å¯ä»¥å­æ¾nullå¼\n\n//éè¿åç´ æ¥å é¤è¯¥åç´ ï¼å°±ä¾æ¬¡éåï¼å¦ææè¿ä¸ªåç´ ï¼å°±å°è¯¥åç´ çç´¢å¼ä¼ ç»fastremobe(index)ï¼ä½¿ç¨è¿ä¸ªæ¹æ³æ¥å é¤è¯¥åç´ ï¼\n//fastremove(index)æ¹æ³çåé¨è·remove(index)çå®ç°å ä¹ä¸æ ·ï¼è¿éæä¸»è¦æ¯ç¥éarraylistå¯ä»¥å­å¨nullå¼\npublic boolean remove(object o) {\n    if (o == null) {\n    \tfor (int index = 0; index < size; index++)\n        \tif (elementdata[index] == null) {\n                fastremove(index);\n                return true;\n    \t\t}\n    } else {\n        for (int index = 0; index < size; index++)\n            if (o.equals(elementdata[index])) {\n                fastremove(index);\n                return true;\n            }\n    }\n    return false;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nclear()ï¼å°elementdataä¸­æ¯ä¸ªåç´ é½èµå¼ä¸ºnullï¼ç­å¾åå¾åæ¶å°è¿ä¸ªç»åæ¶æï¼æä»¥å«clear\n\npublic void clear() {\n    modcount++;\n    \n    // clear to let gc do its work\n    for (int i = 0; i < size; i++)\n    \telementdata[i] = null;\n    size = 0;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nremoveall(collection c)\n\npublic boolean removeall(collection<?> c) {\n\treturn batchremove(c, false);//æ¹éå é¤\n}\n\n\n1\n2\n3\n\n\nbatchremove(xx,xx)ï¼ç¨äºä¸¤ä¸ªæ¹æ³ï¼ä¸ä¸ªremoveall()ï¼å®åªæ¸æ¥æå®éåä¸­çåç´ ï¼retainall() ç¨æ¥æµè¯ä¸¤ä¸ªéåæ¯å¦æäº¤éã\n\n//è¿ä¸ªæ¹æ³ï¼ç¨äºä¸¤å¤å°æ¹ï¼å¦æcomplementä¸ºfalseï¼åç¨äºremoveallå¦æä¸ºtrueï¼åç»retainall()ç¨ï¼retainallï¼ï¼æ¯ç¨æ¥æ£æµä¸¤ä¸ªéåæ¯å¦æäº¤éçã\n\nprivate boolean batchremove(collection<?> c, boolean complement) {\n        final object[] elementdata = this.elementdata; //å°åéåï¼è®°åä¸ºa\n        int r = 0, w = 0;  //rç¨æ¥æ§å¶å¾ªç¯ï¼wæ¯è®°å½æå¤å°ä¸ªäº¤é\n        boolean modified = false;\n        try {\n            for (; r < size; r++)\n                //åæ°ä¸­çéåcä¸æ¬¡æ£æµéåaä¸­çåç´ æ¯å¦æï¼\n                if (c.contains(elementdata[r]) == complement)\n                    //æçè¯ï¼å°±ç»éåa\n                    elementdata[w++] = elementdata[r];\n        } finally {\n            // preserve behavioral compatibility with abstractcollection,\n            // even if c.contains() throws.\n            //å¦æcontainsæ¹æ³ä½¿ç¨è¿ç¨æ¥å¼å¸¸\n            if (r != size) {\n                //å°å©ä¸çåç´ é½èµå¼ç»éåaï¼\n                system.arraycopy(elementdata, r,\n                                 elementdata, w,\n                                 size - r);\n                w += size - r;\n            }\n            if (w != size) {\n                // clear to let gc do its work\n                //è¿éæä¸¤ä¸ªç¨éï¼å¨removeall()æ¶ï¼wä¸ç´ä¸º0ï¼å°±ç´æ¥è·clearä¸æ ·ï¼å¨æ¯ä¸ºnullã\n                //retainall()ï¼æ²¡æä¸ä¸ªäº¤éè¿åtrueï¼æäº¤éä½ä¸å¨äº¤ä¹è¿åtrueï¼èä¸¤ä¸ªéåç¸ç­çæ¶åï¼è¿åfalseï¼æä»¥ä¸è½æ ¹æ®è¿åå¼æ¥ç¡®è®¤ä¸¤ä¸ªéåæ¯å¦æäº¤éï¼èæ¯éè¿åéåçå¤§å°æ¯å¦åçæ¹åæ¥å¤æ­ï¼å¦æåéåä¸­è¿æåç´ ï¼åä»£è¡¨æäº¤éï¼èåéåæ²¡æåç´ äºï¼è¯´æä¸¤ä¸ªéåæ²¡æäº¤éã\n\n                for (int i = w; i < size; i++)\n                    elementdata[i] = null;\n                modcount += size - w;\n                size = w;\n                modified = true;\n            }\n        }\n        return modified;\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n\n\næ»ç»ï¼removeå½æ°ï¼ç¨æ·ç§»é¤æå®ä¸æ çåç´ ï¼æ­¤æ¶ä¼ææå®ä¸æ å°æ°ç»æ«å°¾çåç´ ååç§»å¨ä¸ä¸ªå ä½ï¼å¹¶ä¸ä¼ææ°ç»æåä¸ä¸ªåç´ è®¾ç½®ä¸ºnullï¼è¿æ ·æ¯ä¸ºäºæ¹ä¾¿ä¹åå°æ´ä¸ªæ°ç»ä¸è¢«ä½¿ç¨æ¶ï¼ä¼è¢«gcï¼å¯ ä»¥ä½ä¸ºå°çæå·§ä½¿ç¨ã\n\n\n# 6ãå¶ä»æ¹æ³\n\nset()æ¹æ³\n\nè¯´æï¼è®¾å®æå®ä¸æ ç´¢å¼çåç´ å¼\n\npublic e set(int index, e element) {\n    // æ£éªç´¢å¼æ¯å¦åæ³\n    rangecheck(index);\n    // æ§å¼\n    e oldvalue = elementdata(index);\n    // èµæ°å¼\n    elementdata[index] = element;\n    // è¿åæ§å¼\n    return oldvalue;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nindexof()æ¹æ³\n\nè¯´æï¼ä»å¤´å¼å§æ¥æ¾ä¸æå®åç´ ç¸ç­çåç´ ï¼æ³¨æï¼æ¯å¯ä»¥æ¥æ¾nullåç´ çï¼æå³çarraylistä¸­å¯ä»¥å­æ¾nullåç´ çãä¸æ­¤å½æ°å¯¹åºçlastindexofï¼è¡¨ç¤ºä»å°¾é¨å¼å§æ¥æ¾ã\n\n// ä»é¦å¼å§æ¥æ¾æ°ç»éé¢æ¯å¦å­å¨æå®åç´ \npublic int indexof(object o) {\n    if (o == null) { // æ¥æ¾çåç´ ä¸ºç©º\n        for (int i = 0; i < size; i++) // éåæ°ç»ï¼æ¾å°ç¬¬ä¸ä¸ªä¸ºç©ºçåç´ ï¼è¿åä¸æ \n        \tif (elementdata[i]==null)\n        \t\treturn i;\n    } else { // æ¥æ¾çåç´ ä¸ä¸ºç©º\n        for (int i = 0; i < size; i++) // éåæ°ç»ï¼æ¾å°ç¬¬ä¸ä¸ªåæå®åç´ ç¸ç­çåç´ ï¼è¿åä¸æ \n        if (o.equals(elementdata[i]))\n        \treturn i;\n    }\n    // æ²¡ææ¾å°ï¼è¿åç©º\n    return -1;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nget()æ¹æ³\n\npublic e get(int index) {\n    // æ£éªç´¢å¼æ¯å¦åæ³\n    rangecheck(index);\n    return elementdata(index);\n}\n\n\n1\n2\n3\n4\n5\n\n\nè¯´æï¼getå½æ°ä¼æ£æ¥ç´¢å¼å¼æ¯å¦åæ³ï¼åªæ£æ¥æ¯å¦å¤§äºsizeï¼èæ²¡ææ£æ¥æ¯å¦å°äº0ï¼ï¼å¼å¾æ³¨æç æ¯ï¼å¨getå½æ°ä¸­å­å¨elementå½æ°ï¼elementå½æ°ç¨äºè¿åå·ä½çåç´ ï¼å·ä½å½æ°å¦ä¸ï¼\n\ne elementdata(int index) {\n\treturn (e) elementdata[index];\n}\n\n\n1\n2\n3\n\n\nè¯´æï¼è¿åçå¼é½ç»è¿äºåä¸è½¬åï¼object -> eï¼ï¼è¿äºæ¯å¯¹æä»¬åºç¨ç¨åºå±è½çå°ç»èã\n\n\n# arraylistå®è·µ\n\né®é¢ï¼æä»¬ç°å¨æ4åªå°çï¼æä»¬å¦ä½å­å¨å®çä¿¡æ¯ï¼è·åæ»æ°ï¼å¹¶è½å¤éæ¡æå°ççä¿¡æ¯ï¼\n\nåæï¼éè¿list æ¥å£çå®ç°ç±»arraylist å®ç°è¯¥éæ±ã\n\n * åç´ ä¸ªæ°ä¸ç¡®å®\n * è¦æ±è·å¾åç´ çå®éä¸ªæ°\n * æç§å­å¨é¡ºåºè·åå¹¶æå°åç´ ä¿¡æ¯\n\nclass dog {\n    private string name;\n    //æé ãããsetãgetããããtostringï¼ï¼\n}\n\n\n1\n2\n3\n4\n\n\npublic class testarraylist {\n    public static void main(string[] args) {\n        //åå»ºarraylistå¯¹è±¡ , å¹¶å­å¨çç\n        list dogs = new arraylist();\n        \n        dogs.add(new dog("å°çä¸å·"));\n        dogs.add(new dog("å°çäºå·"));\n        dogs.add(new dog("å°çä¸å·"));\n        dogs.add(2,new dog("å°çåå·"));// æ·»å å°æå®ä½ç½®\n        \n        // .size() ï¼ arraylistå¤§å°\n        system.out.println("å±è®¡æ" + dogs.size() + "æ¡ççã");\n        system.out.println("åå«æ¯ï¼");\n        \n        // .get(i) ï¼ éä¸ªè·åä¸ªåç´ \n        for (int i = 0; i < dogs.size(); i++) {\n            dog dog = (dog) dogs.get(i);\n            system.out.println(dog.getname());\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\né®é¢èæ³ï¼\n\n * å é¤ç¬¬ä¸ä¸ªçç ï¼removeï¼indexï¼\n * å é¤æå®ä½ç½®ççç ï¼removeï¼objectï¼\n * å¤æ­éåä¸­æ¯å¦åå«æå®çç ï¼ containsï¼objectï¼\n\nåæï¼ä½¿ç¨listæ¥å£æä¾çremove()ãcontains()æ¹æ³\n\nãå¸¸ç¨æ¹æ³ã\n\n\n\n\n# æ»ç»\n\n1ï¼arraylistå¯ä»¥å­æ¾nullã 2ï¼arraylistæ¬è´¨ä¸å°±æ¯ä¸ä¸ªelementdataæ°ç»ã 3ï¼arrayliståºå«äºæ°ç»çå°æ¹å¨äºè½å¤èªå¨æ©å±å¤§å°ï¼å¶ä¸­å³é®çæ¹æ³å°±æ¯gorw()æ¹æ³ã 4ï¼arraylistä¸­removeall(collection c)åclear()çåºå«å°±æ¯removeallå¯ä»¥å é¤æ¹éæå®çåç´ ï¼èclearæ¯å¨æ¯å é¤éåä¸­çåç´ ã 5ï¼arraylistç±äºæ¬è´¨æ¯æ°ç»ï¼æä»¥å®å¨æ°æ®çæ¥è¯¢æ¹é¢ä¼å¾å¿«ï¼èå¨æå¥å é¤è¿äºæ¹é¢ï¼æ§è½ä¸éå¾ å¤ï¼æç§»å¨å¾å¤æ°æ®æè½è¾¾å°åºæçææ 6ï¼arraylistå®ç°äºrandomaccessï¼æä»¥å¨éåå®çæ¶åæ¨èä½¿ç¨forå¾ªç¯ã',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"LinkedList",frontmatter:{title:"LinkedList",date:"2021-04-16T16:19:25.000Z",permalink:"/java/se/collection/LinkedList",categories:["java","java-se","éåæ¡æ¶"]},regularPath:"/01.Java/05.Java-%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/03.LinkedList.html",relativePath:"01.Java/05.Java-éåæ¡æ¶/03.LinkedList.md",key:"v-053d84f2",path:"/java/se/collection/LinkedList/",headers:[{level:2,title:"å¼å¥",slug:"å¼å¥",normalizedTitle:"å¼å¥",charIndex:17},{level:2,title:"LinkedListæ¦è¿°",slug:"linkedlistæ¦è¿°",normalizedTitle:"linkedlistæ¦è¿°",charIndex:203},{level:2,title:"é¾è¡¨çæ°æ®ç»æ",slug:"é¾è¡¨çæ°æ®ç»æ",normalizedTitle:"é¾è¡¨çæ°æ®ç»æ",charIndex:606},{level:2,title:"LinkedListæºç åæ",slug:"linkedlistæºç åæ",normalizedTitle:"linkedlistæºç åæ",charIndex:1109},{level:3,title:"1ãLinkedListçç¹æ§",slug:"_1ãlinkedlistçç¹æ§",normalizedTitle:"1ãlinkedlistçç¹æ§",charIndex:1152},{level:3,title:"2ãç»§æ¿ç»æä»¥åå±æ¬¡å³ç³»",slug:"_2ãç»§æ¿ç»æä»¥åå±æ¬¡å³ç³»",normalizedTitle:"2ãç»§æ¿ç»æä»¥åå±æ¬¡å³ç³»",charIndex:2157},{level:3,title:"3ãç±»çå±æ§",slug:"_3ãç±»çå±æ§",normalizedTitle:"3ãç±»çå±æ§",charIndex:4102},{level:3,title:"4ãæé æ¹æ³",slug:"_4ãæé æ¹æ³",normalizedTitle:"4ãæé æ¹æ³",charIndex:4494},{level:3,title:"5ãåé¨ç±»ï¼Nodeï¼",slug:"_5ãåé¨ç±»-node",normalizedTitle:"5ãåé¨ç±»ï¼nodeï¼",charIndex:4789},{level:3,title:"6ãæ ¸å¿æ¹æ³",slug:"_6ãæ ¸å¿æ¹æ³",normalizedTitle:"6ãæ ¸å¿æ¹æ³",charIndex:5212},{level:4,title:"add()æ¹æ³",slug:"add-æ¹æ³",normalizedTitle:"add()æ¹æ³",charIndex:5222},{level:4,title:"addAll()æ¹æ³",slug:"addall-æ¹æ³",normalizedTitle:"addall()æ¹æ³",charIndex:6150},{level:4,title:"remove(Object o)",slug:"remove-object-o",normalizedTitle:"remove(object o)",charIndex:10345},{level:4,title:"get(index)",slug:"get-index",normalizedTitle:"get(index)",charIndex:12664},{level:4,title:"indexOf(Object o)",slug:"indexof-object-o",normalizedTitle:"indexof(object o)",charIndex:13694},{level:3,title:"7ãLinkedListçè¿­ä»£å¨",slug:"_7ãlinkedlistçè¿­ä»£å¨",normalizedTitle:"7ãlinkedlistçè¿­ä»£å¨",charIndex:14230},{level:2,title:"æ»ç»",slug:"æ»ç»",normalizedTitle:"æ»ç»",charIndex:2012}],headersStr:"å¼å¥ LinkedListæ¦è¿° é¾è¡¨çæ°æ®ç»æ LinkedListæºç åæ 1ãLinkedListçç¹æ§ 2ãç»§æ¿ç»æä»¥åå±æ¬¡å³ç³» 3ãç±»çå±æ§ 4ãæé æ¹æ³ 5ãåé¨ç±»ï¼Nodeï¼ 6ãæ ¸å¿æ¹æ³ add()æ¹æ³ addAll()æ¹æ³ remove(Object o) get(index) indexOf(Object o) 7ãLinkedListçè¿­ä»£å¨ æ»ç»",content:'# LinkedList\n\n\n# å¼å¥\n\né®é¢ï¼å¨éåçä»»ä½ä½ç½®ï¼å¤´é¨ï¼ä¸­é´ï¼å°¾é¨ï¼æ·»å ï¼è·åï¼å é¤ççå¯¹è±¡ï¼\n\næå¥ï¼å é¤æä½é¢ç¹æ¶ï¼å¯ä½¿ç¨LinkedListæ¥æé«æç\n\nLinkedListæä¾å¯¹å¤´é¨åå°¾é¨åç´ è¿è¡æ·»å åå é¤æä½çæ¹æ³ï¼\n\n\n\nLinkedListçç¹æ®æ¹æ³\n\n\n\néåæ¡æ¶æä½å¥½å¤ï¼ Javaéåæ¡æ¶ä¸­åå«åªäºæ¥å£åç±»ï¼ ArrayListåLinkedListæä½å¼åï¼\n\n\n# LinkedListæ¦è¿°\n\næä»¬é½ç¥éå®çåºå±æ¯ç±é¾è¡¨å®ç°çï¼æä»¥æä»¬è¦æç½ä»ä¹æ¯é¾è¡¨ï¼\n\n\n\nLinkedListæ¯ä¸ç§å¯ä»¥å¨ä»»ä½ä½ç½®è¿è¡é«æå°æå¥åç§»é¤æä½çæåºåºåï¼å®æ¯åºäºååé¾è¡¨å®ç°çã\n\nLinkedList æ¯ä¸ä¸ªç»§æ¿äºAbstractSequentialListçååé¾è¡¨ãå®ä¹å¯ä»¥è¢«å½ä½å æ ãéåæåç«¯éåè¿è¡æä½ã\n\nLinkedList å®ç° List æ¥å£ï¼è½å¯¹å®è¿è¡éåæä½ã\n\nLinkedList å®ç° Deque æ¥å£ï¼å³è½å°LinkedListå½ä½åç«¯éåä½¿ç¨ã\n\nLinkedList å®ç°äºCloneableæ¥å£ï¼å³è¦çäºå½æ°clone()ï¼è½åéã\n\nLinkedList å®ç°java.io.Serializableæ¥å£ï¼è¿æå³çLinkedListæ¯æåºååï¼è½éè¿åºååå»ä¼ è¾ã\n\nLinkedList æ¯éåæ­¥çã\n\næ¨èæç« ï¼LinkListè¯¦è§£\n\n\n# é¾è¡¨çæ°æ®ç»æ\n\nååé¾è¡¨ï¼\n\nelementï¼ç¨æ¥å­æ¾åç´ \n\nnextï¼ç¨æ¥æåä¸ä¸ä¸ªèç¹åç´ \n\néè¿æ¯ä¸ªç»ç¹çæéæåä¸ä¸ä¸ªç»ç¹ä»èé¾æ¥èµ·æ¥çç»æï¼æåä¸ä¸ªèç¹çnextæånullã\n\n\n\nååå¾ªç¯é¾è¡¨ï¼\n\nelementãnext è·åé¢ä¸æ ·ï¼å¨ååé¾è¡¨çæåä¸ä¸ªèç¹çnextä¼æåå¤´èç¹ï¼èä¸æ¯æånullï¼è¿æ ·å­æä¸ä¸ªç¯\n\n\n\nååé¾è¡¨ï¼\n\nelementï¼å­æ¾åç´ \n\npreï¼ç¨æ¥æååä¸ä¸ªåç´ \n\nnextï¼æååä¸ä¸ªåç´ \n\nååé¾è¡¨æ¯åå«ä¸¤ä¸ªæéçï¼preæååä¸ä¸ªèç¹ï¼nextæååä¸ä¸ªèç¹ï¼ä½æ¯ç¬¬ä¸ä¸ªèç¹headçpreæånullï¼æåä¸ä¸ªèç¹çtailæånullã\n\n\n\nååå¾ªç¯é¾è¡¨ï¼\n\nelementãpreãnext è·åé¢çä¸æ ·\n\nç¬¬ä¸ä¸ªèç¹çpreæåæåä¸ä¸ªèç¹ï¼æåä¸ä¸ªèç¹çnextæåç¬¬ä¸ä¸ªèç¹ï¼ä¹å½¢æä¸ä¸ªâç¯âã\n\n\n\nãLinkedListçæ°æ®ç»æã\n\n\n\nå¦ä¸å¾æç¤ºï¼LinkedListåºå±ä½¿ç¨çååé¾è¡¨ç»æï¼æä¸ä¸ªå¤´ç»ç¹åä¸ä¸ªå°¾ç»ç¹ï¼ååé¾è¡¨æå³çæä»¬å¯ä»¥ä»å¤´å¼å§æ­£åéåï¼æèæ¯ä»å°¾å¼å§éåéåï¼å¹¶ä¸å¯ä»¥éå¯¹å¤´é¨åå°¾é¨è¿è¡ç¸åºçæä½ã\n\n\n# LinkedListæºç åæ\n\næ¥ä¸æ¥åå°äºå¤§å®¶åæ¬¢çè¯»æºç ç¯è**ð**\n\n\n# 1ãLinkedListçç¹æ§\n\nå¨æä»¬å¹³å¸¸ä¸­ï¼æä»¬åªç¥éä¸äºå¸¸è¯æ§çç¹ç¹ï¼\n\n1ï¼æ¯éè¿é¾è¡¨å®ç°ç 2ï¼å¦æå¨é¢ç¹çæå¥ï¼æèå é¤æ°æ®æ¶ï¼å°±ç¨linkedListæ§è½ä¼æ´å¥½ã\n\né£æä»¬éè¿APIå»æ¥çå®çä¸äºç¹æ§\n\n> Doubly-linked list implementation of the List and Deque interfaces. Implements all optional list operations, and permits all elements (including null).\n> \n> è¿åè¯æä»¬ï¼linkedListæ¯ä¸ä¸ªååé¾è¡¨ï¼å¹¶ä¸å®ç°äºListåDequeæ¥å£ä¸­ææçåè¡¨æä½ï¼å¹¶ä¸è½å­å¨ä»»ä½åç´ ï¼åæ¬nullï¼è¿éæä»¬å¯ä»¥ç¥élinkedListé¤äºå¯ä»¥å½é¾è¡¨ä½¿ç¨ï¼è¿å¯ä»¥å½ä½éåä½¿ç¨ï¼å¹¶è½è¿è¡ç¸åºçæä½ã\n> \n> All of the operations perform as could be expected for a doubly-linked list. Operations that index into the list will traverse the list from the beginning or the end, whichever is closer to the specified index.\n> \n> è¿ä¸ªåè¯æä»¬ï¼linkedListå¨æ§è¡ä»»ä½æä½çæ¶åï¼é½å¿é¡»åéåæ­¤åè¡¨æ¥é è¿éè¿indexæ¥æ¾æä»¬æéè¦ççå¼ãéä¿ç¹è®²ï¼è¿å°±åè¯äºæä»¬è¿ä¸ªæ¯é¡ºåºå­åï¼æ¯æ¬¡æä½å¿é¡»åæå¼å§å°ç»æçé¡ºåºéåï¼éæºå­åï¼å°±æ¯arrayListï¼è½å¤éè¿indexãéä¾¿è®¿é®å¶ä¸­çä»»æä½ç½®çæ°æ®ï¼è¿å°±æ¯éæºåè¡¨çææã\n\n3ï¼apiä¸­æ¥ä¸æ¥è®²çä¸å¤§å ï¼å°±æ¯è¯´ælinkedListæ¯ä¸ä¸ªéçº¿ç¨å®å¨ç(å¼æ­¥)ï¼å¶ä¸­å¨æä½Interatoræ¶ï¼ å¦ææ¹ååè¡¨ç»æ(adddeleteç­)ï¼ä¼åçfail-fastã\n\néè¿APIåæ¬¡æ»ç»ä¸ä¸LinkedListçç¹æ§ï¼\n\n 1. å¼æ­¥ï¼ä¹å°±æ¯éçº¿ç¨å®å¨\n\n 2. ååé¾è¡¨ãç±äºå®ç°äºliståDequeæ¥å£ï¼è½å¤å½ä½éåæ¥ä½¿ç¨ã\n    \n    é¾è¡¨ï¼æ¥è¯¢æçä¸é«ï¼ä½æ¯æå¥åå é¤è¿ç§æä½æ§è½å¥½ã\n\n 3. æ¯é¡ºåºå­åç»æï¼æ³¨æåéæºå­åç»æä¸¤ä¸ªæ¦å¿µææ¸æ¥ï¼\n\n\n# 2ãç»§æ¿ç»æä»¥åå±æ¬¡å³ç³»\n\nctrl+h\n\n\n\næä»¬å¯ä»¥çå°ï¼linkedListå¨æåºå±ï¼è¯´æä»çåè½æä¸ºå¼ºå¤§ï¼å¹¶ä¸ç»å¿çè¿ä¼åç°ï¼arrayListæåå±ï¼è¿éå¤äºä¸å±AbstractSequentialListçæ½è±¡ç±»ï¼ä¸ºä»ä¹å¢ï¼\n\néè¿APIæä»¬ä¼åç°ï¼\n\n1ï¼åå°å®ç°é¡ºåºå­åï¼ä¾å¦LinkedListï¼è¿ç§ç±»çå·¥ä½ï¼éä¿çè®²å°±æ¯æ¹ä¾¿ï¼æ½è±¡åºç±»ä¼¼LinkedListè¿ç§ç±»çä¸äºå±åçæ¹æ³\n\n2ï¼æ¢ç¶æäºä¸é¢è¿å¥è¯ï¼é£ä¹ä»¥åå¦æèªå·±æ³å®ç°é¡ºåºå­åè¿ç§ç¹æ§çç±»(å°±æ¯é¾è¡¨å½¢å¼)ï¼é£ä¹å°±ç»§æ¿è¿ä¸ªAbstractSequentialListæ½è±¡ç±»ï¼å¦ææ³åæ°ç»é£æ ·çéæºå­åçç±»ï¼é£ä¹å°±å»å®ç°AbstracListæ½è±¡ç±»ã\n\n3ï¼è¿æ ·çåå±ï¼å°±å¾ç¬¦åæä»¬æ½è±¡çæ¦å¿µï¼è¶å¨é«å¤çç±»ï¼å°±è¶æ½è±¡ï¼å¾å¨åºå±çç±»ï¼å°±è¶æèªå·±ç¬ç¹çä¸ªæ§ãèªå·±è¦æ¢æ¢é¢ä¼è¿ç§ææ³ã\n\n4ï¼LinkedListçç±»ç»§æ¿ç»æå¾æææï¼æä»¬çéè¦çæ¯Dequeæ¥å£ï¼Dequeæ¥å£è¡¨ç¤ºæ¯ä¸ä¸ªåç«¯éåï¼é£ä¹ä¹æå³çLinkedListæ¯åç«¯éåçä¸ç§å®ç°ï¼æä»¥ï¼åºäºåç«¯éåçæä½å¨LinkedListä¸­å¨é¨ææã\n\npublic abstract class AbstractSequentialList<E>\nextends AbstractList<E>\n\n\n1\n2\n\n\n\n\nç¬¬ä¸æ®µï¼\n\n> è¿éç¬¬ä¸æ®µå°±è§£éäºè¿ä¸ªç±»çä½ç¨ï¼è¿ä¸ªç±»ä¸ºå®ç°listæ¥å£æä¾äºä¸äºéè¦çæ¹æ³ï¼ å°½æå¤§åªåå»åå°å®ç°è¿ä¸ªâé¡ºåºå­åâçç¹æ§çæ°æ®å­å¨(ä¾å¦é¾è¡¨)çä»ä¹ éæºå­åæ°æ®(ä¾å¦æ°ç»)çç±»åºè¯¥ä¼åä½¿ç¨AbstractList ä»ä¸é¢å°±å¯ä»¥å¤§æ¦ç¥éï¼AbstractSwquentialListè¿ä¸ªç±»æ¯ä¸ºäºåå°LinkedListè¿ç§é¡ºåºå­åçç±»çä»£ç å¤æåº¦èæ½è±¡çä¸ä¸ªç±»ï¼\n\nç¬¬äºæ®µï¼\n\n> è¿ä¸æ®µå¤§æ¦è®²çå°±æ¯è¿ä¸ªAbstractSequentialListè¿ä¸ªç±»åAbstractListè¿ä¸ªç±»æ¯å®å¨ç¸å çãæ¯å¦getãaddè¿ä¸ªæ¹æ³çå®ç°\n\nç¬¬ä¸æ®µï¼\n\n> è¿éå°±æ¯è®²ä¸äºæä»¬èªå·±è¦ç»§æ¿è¯¥ç±»ï¼è¯¥åäºä»ä¹äºæï¼ä¸äºè§èã\n\nãæ¥å£å®ç°åæã\n\npublic class LinkedList<E>\n    extends AbstractSequentialList<E>\n    implements List<E>, Deque<E>, Cloneable, java.io.Serializable\n    {\n    \n    }\n\n\n1\n2\n3\n4\n5\n6\n\n\n 1. Listæ¥å£ï¼åè¡¨ï¼addãsetãç­ä¸äºå¯¹åè¡¨è¿è¡æä½çæ¹æ³\n\n 2. Dequeæ¥å£ï¼æéåçåç§ç¹æ§ï¼\n\n 3. Cloneableæ¥å£ï¼è½å¤å¤å¶ï¼ä½¿ç¨é£ä¸ªcopyæ¹æ³ã\n\n 4. Serializableæ¥å£ï¼è½å¤åºååã\n\n 5. åºè¯¥æ³¨æå°æ²¡æRandomAccessï¼é£ä¹å°±æ¨èä½¿ç¨iteratorï¼å¨å¶ä¸­å°±æä¸ä¸ªforeachï¼å¢å¼ºçforå¾ªç¯ï¼å¶ä¸­åçä¹å°±æ¯iteratorï¼æä»¬å¨ä½¿ç¨çæ¶åï¼ä½¿ç¨foreachæèiteratoré½å¯ä»¥ã\n    \n    iteratorï¼\n    \n    public static void method() {\n        List<String> l = new ArrayList<>();\n    \n        l.add("hello");\n        l.add(0, "123");\n        l.add("789");\n        l.set(0, "456");\n        l.remove(0);\n    \n        ListIterator<String> lit = l.listIterator();\n        while (lit.hasNext()) {\n            String next = lit.next();\n    //            l.add("111");\n            lit.add("111");\n            System.out.println(next);\n    \n        }\n        System.out.println(l);\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    \n\n\n# 3ãç±»çå±æ§\n\npublic class LinkedList<E>\n    extends AbstractSequentialList<E>\n    implements List<E>, Deque<E>, Cloneable, java.io.Serializable\n{\n    // å®éåç´ ä¸ªæ°\n    transient int size = 0;\n    // å¤´ç»ç¹\n    transient Node<E> first;\n    // å°¾ç»ç¹\n    transient Node<E> last;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nLinkedListçå±æ§éå¸¸ç®åï¼ä¸ä¸ªå¤´ç»ç¹ãä¸ä¸ªå°¾ç»ç¹ãä¸ä¸ªè¡¨ç¤ºé¾è¡¨ä¸­å®éåç´ ä¸ªæ°çåéãæ³¨æï¼ å¤´ç»ç¹ãå°¾ç»ç¹é½ætransientå³é®å­ä¿®é¥°ï¼è¿ä¹æå³çå¨åºååæ¶è¯¥åæ¯ä¸ä¼åºååçã\n\n\n# 4ãæé æ¹æ³\n\nä¸¤ä¸ªæé æ¹æ³(ä¸¤ä¸ªæé æ¹æ³é½æ¯è§èè§å®éè¦åçï¼\n\nãç©ºåæé å½æ°ã\n\npublic LinkedList() {\n    \n}\n\n\n1\n2\n3\n\n\nãæåæé å½æ°ã\n\n//å°éåcä¸­çåä¸ªåç´ æå»ºæLinkedListé¾è¡¨ã\npublic LinkedList(Collection<? extends E> c) {\n    // è°ç¨æ åæé å½æ°\n    this();\n    // æ·»å éåä¸­ææçåç´ \n    addAll(c);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nè¯´æï¼ä¼è°ç¨æ åæé å½æ°ï¼å¹¶ä¸ä¼æéåä¸­ææçåç´ æ·»å å°LinkedListä¸­ã\n\n\n# 5ãåé¨ç±»ï¼Nodeï¼\n\n//æ ¹æ®åé¢ä»ç»ååé¾è¡¨å°±ç¥éè¿ä¸ªä»£è¡¨ä»ä¹äºï¼linkedListçå¥¥ç§å°±å¨è¿éã\nprivate static class Node<E> {\n    E item; // æ°æ®åï¼å½åèç¹çå¼ï¼\n    Node<E> next; // åç»§ï¼æåå½åä¸ä¸ªèç¹çåä¸ä¸ªèç¹ï¼\n    Node<E> prev; // åé©±ï¼æåå½åèç¹çåä¸ä¸ªèç¹ï¼\n    \n    // æé å½æ°ï¼èµå¼åé©±åç»§\n    Node(Node<E> prev, E element, Node<E> next) {\n        this.item = element;\n        this.next = next;\n        this.prev = prev;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nè¯´æï¼åé¨ç±»Nodeå°±æ¯å®éçç»ç¹ï¼ç¨äºå­æ¾å®éåç´ çå°æ¹ã\n\n\n# 6ãæ ¸å¿æ¹æ³\n\n# add()æ¹æ³\n\npublic boolean add(E e) {\n    // æ·»å å°æ«å°¾\n    linkLast(e);\n    return true;\n}\n\n\n1\n2\n3\n4\n5\n\n\nè¯´æï¼addå½æ°ç¨äºåLinkedListä¸­æ·»å ä¸ä¸ªåç´ ï¼å¹¶ä¸æ·»å å°é¾è¡¨å°¾é¨ãå·ä½æ·»å å°å°¾é¨çé»è¾æ¯ç± linkLastå½æ°å®æçã\n\nãLinkLast(XXXXX)ã\n\n/**\n * Links e as last element.\n */\nvoid linkLast(E e) {\n    final Node<E> l = last; //ä¸´æ¶èç¹l(Lçå°å)ä¿å­lastï¼ä¹å°±æ¯læåäºæåä¸ä¸ªèç¹\n    final Node<E> newNode = new Node<>(l, e, null);////å°eå°è£ä¸ºèç¹ï¼å¹¶ä¸e.prevæåäºæåä¸ä¸ªèç¹\n    last = newNode;//newNodeæä¸ºäºæåä¸ä¸ªèç¹ï¼æä»¥lastæåäºå®\n    if (l == null)//å¤æ­æ¯ä¸æ¯ä¸å¼å§é¾è¡¨ä¸­å°±ä»ä¹é½æ²¡æï¼å¦ææ²¡æï¼ånewNodeå°±æä¸ºäºç¬¬ä¸ä¸ªèç¹ï¼firstålasté½è¦æåå®\n        first = newNode;\n    else  //æ­£å¸¸çå¨æåä¸ä¸ªèç¹åè¿½å ï¼é£ä¹ååçæåä¸ä¸ªèç¹çnextå°±è¦æåç°å¨çæ­£çæåä¸ä¸ªèç¹ï¼ååçæåä¸ä¸ªèç¹å°±åæäºåæ°ç¬¬äºä¸ªèç¹\n        l.next = newNode;\n    size++; ;//æ·»å ä¸ä¸ªèç¹ï¼sizeèªå¢\n    modCount++;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nè¯´æï¼å¯¹äºæ·»å ä¸ä¸ªåç´ è³é¾è¡¨ä¸­ä¼è°ç¨addæ¹æ³ -> linkLastæ¹æ³ã\n\nãä¸¾ä¾ä¸ã\n\nList<Integer> lists = new LinkedList<Integer>();\nlists.add(5);\nlists.add(6);\n\n\n1\n2\n3\n\n\né¦åè°ç¨æ åæé å½æ°ï¼ä¹åæ·»å åç´ 5ï¼ä¹ååæ·»å åç´ 6ãå·ä½çç¤ºæå¾å¦ä¸ï¼\n\n\n\nä¸å¾çè¡¨æäºå¨æ§è¡æ¯ä¸æ¡è¯­å¥åï¼é¾è¡¨å¯¹åºçç¶æã\n\n# addAll()æ¹æ³\n\naddAllæä¸¤ä¸ªéè½½å½æ°ï¼addAll(Collection)ååaddAll(int, Collection) åï¼æä»¬å¹³æ¶ä¹ æ¯è°ç¨çaddAll(Collection)åä¼è½¬åä¸ºaddAll(int, Collection)åã\n\npublic boolean addAll(Collection<? extends E> c) {\n//ç»§ç»­å¾ä¸ç\nreturn addAll(size, c);\n}\n\n\n1\n2\n3\n4\n\n\naddAll(sizeï¼c)ï¼è¿ä¸ªæ¹æ³ï¼è½åå«ä¸ç§æåµä¸çæ·»å ï¼æä»¬è¿éåæçåªæ¯æé æ¹æ³ï¼ç©ºé¾è¡¨çæåµï¼ççæ¶ååªéè¦æç§ä¸åçæåµåæä¸å»å°±è¡äºã\n\n//çæ­£æ ¸å¿çå°æ¹å°±æ¯è¿éäºï¼è®°å¾æä»¬ä¼ è¿æ¥çæ¯sizeï¼c\npublic boolean addAll(int index, Collection<? extends E> c) {\n    //æ£æ¥indexè¿ä¸ªæ¯å¦ä¸ºåçãè¿ä¸ªå¾ç®åï¼èªå·±ç¹è¿å»çä¸å°±æç½äºã\n    checkPositionIndex(index);\n\t//å°éåcè½¬æ¢ä¸ºObjectæ°ç» a\n    Object[] a = c.toArray();\n    //æ°ç»açé¿åº¦numNewï¼ä¹å°±æ¯ç±å¤å°ä¸ªåç´ \n    int numNew = a.length;\n    if (numNew == 0)\n        //éåcæ¯ä¸ªç©ºçï¼ç´æ¥è¿åfalseï¼ä»ä¹ä¹ä¸åã\n        return false;\n\t//éåcæ¯éç©ºçï¼å®ä¹ä¸¤ä¸ªèç¹(åé¨ç±»)ï¼æ¯ä¸ªèç¹é½æä¸ä¸ªå±æ§ï¼itemãnextãprevãæ³¨æï¼ä¸è¦ç®¡è¿ä¸¤ä¸ªä»ä¹å«ä¹ï¼å°±æ¯ç¨æ¥åä¸´æ¶å­å¨èç¹çãè¿ä¸ªNodeçä¸é¢ä¸æ­¥çæºç åæï¼Nodeå°±æ¯linkedListçææ ¸å¿çå®ç°ï¼å¯ä»¥ç´æ¥åè·³ä¸ä¸ä¸ªå»çNodeçåæ\n    Node<E> pred, succ;\n    //æé æ¹æ³ä¸­ä¼ è¿æ¥çå°±æ¯index==size\n    if (index == size) {\n        //linkedListä¸­ä¸ä¸ªå±æ§ï¼sizeãfirstãlastã sizeï¼é¾è¡¨ä¸­çåç´ ä¸ªæ°ãfirstï¼å¤´èç¹ lastï¼å°¾èç¹ï¼å°±ä¸¤ç§æåµè½è¿æ¥è¿é\n        //æåµä¸ãï¼æé æ¹æ³åå»ºçä¸ä¸ªç©ºçé¾è¡¨ï¼é£ä¹size=0ï¼lastãåfirsté½ä¸ºnullãlinkedListä¸­æ¯ç©ºçãä»ä¹èç¹é½æ²¡æãsucc=nullãpred=last=null\n        \n        //æåµäºãï¼é¾è¡¨ä¸­æèç¹ï¼sizeå°±ä¸æ¯ä¸º0ï¼firstålasté½åå«æåç¬¬ä¸ä¸ªèç¹ï¼åæåä¸ä¸ªèç¹ï¼å¨æåä¸ä¸ªèç¹ä¹åè¿½å åç´ ï¼å°±å¾è®°å½ä¸ä¸æåä¸ä¸ªèç¹æ¯ä»ä¹ï¼æä»¥ælastä¿å­å°predä¸´æ¶èç¹ä¸­ã\n\n        succ = null;\n        pred = last;\n    } else {\n        //æåµä¸ãindexï¼=sizeï¼è¯´æä¸æ¯åé¢ä¸¤ç§æåµï¼èæ¯å¨é¾è¡¨ä¸­é´æå¥åç´ ï¼é£ä¹å°±å¾ç¥éindexä¸çèç¹æ¯è°ï¼ä¿å­å°succä¸´æ¶èç¹ä¸­ï¼ç¶åå°succçåä¸ä¸ªèç¹ä¿å­å°predä¸­ï¼è¿æ ·ä¿å­äºè¿ä¸¤ä¸ªèç¹ï¼å°±è½å¤åç¡®çæå¥èç¹äº\n        //ä¸¾ä¸ªç®åçä¾å­ï¼æ2ä¸ªä½ç½®ï¼1ã2ãå¦ææ³ææ°æ®å°ç¬¬äºä¸ªä½ç½®ï¼ååé¾è¡¨ä¸­ï¼å°±éè¦ç¥éç¬¬ä¸ä¸ªä½ç½®æ¯è°ï¼åä½ç½®ä¹å°±æ¯ç¬¬äºä¸ªä½ç½®ä¸æ¯è°ï¼ç¶åæè½å°èªå·±æå°ç¬¬äºä¸ªä½ç½®ä¸ãå¦æè¿éè¿ä¸æç½ï¼åçä¸ä¸æç« å¼å¤´å¯¹äºåç§é¾è¡¨çå é¤ï¼addæä½æ¯æä¹å®ç°çã\n        succ = node(index);\n        pred = succ.prev;\n    }\n\t//åé¢çåå¤å·¥ä½åå®äºï¼å°éåæ°ç»aä¸­çåç´ ï¼å°è£ä¸ºä¸ä¸ªä¸ªèç¹ã\n    for (Object o : a) {\n        @SuppressWarnings("unchecked") E e = (E) o;\n        //predå°±æ¯ä¹åææå»ºå¥½çï¼å¯è½ä¸ºnullãä¹å¯è½ä¸ä¸ºnullï¼ä¸ºnullçè¯å°±æ¯å±äºæåµä¸ãä¸ä¸ºnullåå¯è½æ¯æåµäºãæèæåµä¸\n\n        Node<E> newNode = new Node<>(pred, e, null);\n        //å¦æpred==nullï¼è¯´ææ¯æåµä¸ï¼æé æ¹æ³ï¼æ¯ååå»ºçä¸ä¸ªç©ºé¾è¡¨ï¼æ­¤æ¶çnewNodeå°±å½ä½ç¬¬ä¸ä¸ªèç¹ï¼æä»¥ænewNodeç»firstå¤´èç¹\n        if (pred == null)\n            first = newNode;\n        else\n            //å¦æpredï¼=nullï¼è¯´æå¯è½æ¯æåµ2æèæåµ3ï¼å¦ææ¯æåµ2ï¼predå°±æ¯lastï¼é£ä¹å¨æåä¸ä¸ªèç¹ä¹åè¿½å å°newNodeï¼å¦ææ¯æåµ3ï¼å¨ä¸­é´æå¥ï¼predä¸ºåindexèç¹ä¹åçä¸ä¸ªèç¹ï¼å°å®çnextæåæå¥çèç¹ï¼ä¹æ¯å¯¹ç\n            pred.next = newNode;\n        //ç¶åå°predæ¢ænewNodeï¼æ³¨æï¼è¿ä¸ªä¸å¨elseä¹ä¸­ï¼è¯·çæ¸æ¥äºã\n        pred = newNode;\n    }\n\n    if (succ == null) {\n        /*å¦æsucc==nullï¼è¯´ææ¯æåµä¸æèæåµäºï¼\n\t\tæåµä¸ãæé æ¹æ³ï¼ä¹å°±æ¯ååå»ºçä¸ä¸ªç©ºé¾è¡¨ï¼predå·²ç»æ¯newNodeäºï¼last=newNodeï¼æä»¥linkedListçfirstãlasté½æåç¬¬ä¸ä¸ªèç¹ã\n\t\tæåµäºãå¨æåèåä¹åè¿½å èç¹ï¼é£ä¹ååçlastå°±åºè¯¥æåç°å¨çæåä¸ä¸ªèç¹\näºï¼å°±æ¯newNodeã*/\n        last = pred;\n    } else {\n        //å¦æsuccï¼=nullï¼è¯´æå¯è½æ¯æåµä¸ãå¨ä¸­é´æå¥èç¹ï¼ä¸¾ä¾è¯´æè¿å ä¸ªåæ°çæä¹ï¼æ1ã2ä¸¤ä¸ªèç¹ï¼ç°å¨æ³å¨ç¬¬äºä¸ªä½ç½®æå¥èç¹newNodeï¼æ ¹æ®åé¢çä»£ç ï¼pred=newNodeï¼succ=2ï¼å¹¶ä¸1.next=newNodeï¼å·²ç»æå»ºå¥½äºï¼pred.next=succï¼ç¸å½äºå¨newNode.next =2ï¼ succ.prev = predï¼ç¸å½äº 2.prev = newNodeï¼ è¿æ ·ä¸æ¥ï¼è¿ç§æåå³ç³»å°±å®æäºãfirstålastä¸ç¨åï¼å ä¸ºå¤´èç¹åå°¾èç¹æ²¡å\n        pred.next = succ;\n        succ.prev = pred;\n    }\n\t//å¢å äºå ä¸ªåç´ ï¼å°±æ size = size +numNew å°±å¯ä»¥äº\n    size += numNew;\n    modCount++;\n    return true;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n\n\nè¯´æï¼åæ°ä¸­çindexè¡¨ç¤ºå¨ç´¢å¼ä¸æ ä¸ºindexçç»ç¹ï¼å®éä¸æ¯ç¬¬index + 1ä¸ªç»ç¹ï¼çåé¢æå¥ã\n\nå¨addAllå½æ°ä¸­ï¼addAllå½æ°ä¸­è¿ä¼è°ç¨å°nodeå½æ°ï¼getå½æ°ä¹ä¼è°ç¨å°nodeå½æ°ï¼æ­¤å½æ°æ¯æ ¹æ®ç´¢å¼ä¸æ æ¾å°è¯¥ç»ç¹å¹¶è¿åï¼å·ä½ä»£ç å¦ä¸ï¼\n\nNode<E> node(int index) {\n    // assert isElementIndex(index);\n\t// å¤æ­æå¥çä½ç½®å¨é¾è¡¨ååæ®µæèæ¯ååæ®µ\n    if (index < (size >> 1)) {// æå¥ä½ç½®å¨ååæ®µ\n        Node<E> x = first;\n        for (int i = 0; i < index; i++)// ä»å¤´ç»ç¹å¼å§æ­£åéå\n            x = x.next;\n        return x;// è¿åè¯¥ç»ç¹\n    } else {// æå¥ä½ç½®å¨ååæ®µ\n        Node<E> x = last;\n        for (int i = size - 1; i > index; i--)// ä»å°¾ç»ç¹å¼å§ååéå\n            x = x.prev;\n        return x;// è¿åè¯¥ç»ç¹\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nè¯´æï¼å¨æ ¹æ®ç´¢å¼æ¥æ¾ç»ç¹æ¶ï¼ä¼æä¸ä¸ªå°ä¼åï¼ç»ç¹å¨ååæ®µåä»å¤´å¼å§éåï¼å¨ååæ®µåä»å°¾å¼å§éåï¼è¿æ ·å°±ä¿è¯äºåªéè¦éåæå¤ä¸åç»ç¹å°±å¯ä»¥æ¾å°æå®ç´¢å¼çç»ç¹ã\n\nä¸¾ä¾è¯´æè°ç¨addAllå½æ°åçé¾è¡¨ç¶æï¼\n\nList<Integer> lists = new LinkedList<Integer>();\nlists.add(5);\nlists.addAll(0, Arrays.asList(2, 3, 4, 5));\n\n\n1\n2\n3\n\n\nä¸è¿°ä»£ç åé¨çé¾è¡¨ç»æå¦ä¸ï¼\n\n\n\naddAll()ä¸­çä¸ä¸ªé®é¢ï¼\n\nå¨addAllå½æ°ä¸­ï¼ä¼ å¥ä¸ä¸ªéååæ°åæå¥ä½ç½®ï¼ç¶åå°éåè½¬åä¸ºæ°ç»ï¼ç¶ååéåæ°ç»ï¼æ¨ä¸ªæ·»å æ°ç»çåç´ ï¼ä½æ¯é®é¢æ¥äºï¼ä¸ºä»ä¹è¦åè½¬åä¸ºæ°ç»åè¿è¡éåï¼èä¸æ¯ç´æ¥éåéåå¢ï¼\n\nä»ææä¸ä¸¤èæ¯å®å¨ç­ä»·çï¼é½å¯ä»¥è¾¾å°éåçææãå³äºä¸ºä»ä¹è¦è½¬åä¸ºæ°ç»çé®é¢ï¼æçæèå¦ ä¸ï¼\n\n 1. å¦æç´æ¥éåéåçè¯ï¼é£ä¹å¨éåè¿ç¨ä¸­éè¦æå¥åç´ ï¼å¨å ä¸åéåå­ç©ºé´ï¼ä¿®æ¹æéåï¼è¿ä¸ªè¿ç¨ä¸­å°±ä¼ä¸ç´å ç¨çè¿ä¸ªéåï¼èèæ­£ç¡®åæ­¥çè¯ï¼å¶ä»çº¿ç¨åªè½ä¸ç´ç­å¾ã\n 2. å¦æè½¬åä¸ºæ°ç»ï¼åªéè¦éåéåï¼èéåéåè¿ç¨ä¸­ä¸éè¦é¢å¤çæä½ï¼æä»¥å ç¨çæ¶é´ç¸å¯¹æ¯è¾ç­çï¼è¿æ ·å°±å©äºå¶ä»çº¿ç¨å°½å¿«çä½¿ç¨è¿ä¸ªéåãè¯´ç½äºï¼å°±æ¯æå©äºæé«å¤çº¿ç¨è®¿é®è¯¥éåçæçï¼å°½å¯è½ç­æ¶é´çé»å¡ã\n\n# remove(Object o)\n\n/**\n * Removes the first occurrence of the specified element from this list,\n * if it is present.  If this list does not contain the element, it is\n * unchanged.  More formally, removes the element with the lowest index\n * {@code i} such that\n * <tt>(o==null&nbsp;?&nbsp;get(i)==null&nbsp;:&nbsp;o.equals(get(i)))</tt>\n * (if such an element exists).  Returns {@code true} if this list\n * contained the specified element (or equivalently, if this list\n * changed as a result of the call).\n *\n * @param o element to be removed from this list, if present\n * @return {@code true} if this list contained the specified element\n */\n\n///é¦åéè¿çä¸é¢çæ³¨éï¼æä»¬å¯ä»¥ç¥éï¼å¦ææä»¬è¦ç§»é¤çå¼å¨é¾è¡¨ä¸­å­å¨å¤ä¸ªä¸æ ·çå¼ï¼é£ä¹æä»¬ä¼ç§»é¤indexæå°çé£ä¸ªï¼ä¹å°±æ¯æåæ¾å°çé£ä¸ªå¼ï¼å¦æä¸å­å¨è¿ä¸ªå¼ï¼é£ä¹ä»ä¹ä¹ä¸åã\npublic boolean remove(Object o) {\n    //è¿éå¯ä»¥çå°ï¼linkedListä¹è½å­å¨null\n    if (o == null) {\n        //å¾ªç¯éåé¾è¡¨ï¼ç´å°æ¾å°nullå¼ï¼ç¶åä½¿ç¨unlinkç§»é¤è¯¥å¼ãä¸é¢çè¿ä¸ªelseä¸­ä¹ä¸æ ·\n        for (Node<E> x = first; x != null; x = x.next) {\n            if (x.item == null) {\n                unlink(x);\n                return true;\n            }\n        }\n    } else {\n        for (Node<E> x = first; x != null; x = x.next) {\n            if (o.equals(x.item)) {\n                unlink(x);\n                return true;\n            }\n        }\n    }\n    return false;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\nãunlink(xxxx)ã\n\n// Unlinks non-null node x.\n//ä¸è½ä¼ ä¸ä¸ªnullå¼è¿ï¼æ³¨æï¼çä¹åè¦æ³¨æä¹åçnextãprevè¿äºé½æ¯è°ã\nE unlink(Node<E> x) {\n    // assert x != null;\n    //æ¿å°èç¹xçä¸ä¸ªå±æ§\n    final E element = x.item;\n    final Node<E> next = x.next;\n    final Node<E> prev = x.prev;\n\t\n    //è¿éå¼å§å¾ä¸å°±è¿è¡ç§»é¤è¯¥åç´ ä¹åçæä½ï¼ä¹å°±æ¯ææååªä¸ªèç¹æå®ã\n    if (prev == null) {\n        //è¯´æç§»é¤çèç¹æ¯å¤´èç¹ï¼åfirstå¤´èç¹åºè¯¥æåä¸ä¸ä¸ªèç¹\n        first = next;\n    } else {\n        //ä¸æ¯å¤´èç¹ï¼prev.next=nextï¼æ1ã2ã3ï¼å°1.nextæå3\n        prev.next = next;\n        //ç¶åè§£é¤xèç¹çåæåã\n        x.prev = null;\n    }\n\n    if (next == null) {\n        //è¯´æç§»é¤çèç¹æ¯å°¾èç¹\n        last = prev;\n    } else {\n        //ä¸æ¯å°¾èç¹ï¼æ1ã2ã3ï¼å°3.prevæå1. ç¶åå°2.next=è§£é¤æåã\n        next.prev = prev;\n        x.next = null;\n    }\n\n    //xçååæåé½ä¸ºnulläºï¼ä¹æitemä¸ºnullï¼è®©gcåæ¶å®\n    x.item = null;\n    size--;//ç§»é¤ä¸ä¸ªèç¹ï¼sizeèªå\n    modCount++;\n    return element;//ç±äºä¸å¼å§å·²ç»ä¿å­äºxçå¼å°elementï¼æä»¥è¿åã\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\n# get(index)\n\nãget(index)æ¥è¯¢åç´ çæ¹æ³ã\n\n/**\n    * Returns the element at the specified position in this list.\n    *\n    * @param index index of the element to return\n    * @return the element at the specified position in this list\n    * @throws IndexOutOfBoundsException {@inheritDoc}\n*/\n//è¿éæ²¡æä»ä¹ï¼éç¹è¿æ¯å¨node(index)ä¸­\npublic E get(int index) {\n    checkElementIndex(index);\n    return node(index).item;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nãnode(index)ã\n\n/**\n* Returns the (non-null) Node at the specified element index.\n*/\n//è¿éæ¥è¯¢ä½¿ç¨çæ¯åä»ä¸­é´åä¸åæ¥æ¾\nNode<E> node(int index) {\n    // assert isElementIndex(index);\n    //"<<":*2çå æ¬¡æ¹ â>>â:/2çå æ¬¡æ¹ï¼ä¾å¦ï¼size<<1ï¼size*2ç1æ¬¡æ¹ï¼\n    //è¿ä¸ªifä¸­å°±æ¯æ¥è¯¢ååé¨å\n    if (index < (size >> 1)) {//index<size/2\n        Node<E> x = first;\n        for (int i = 0; i < index; i++)\n            x = x.next;\n        return x;\n    } else {//ååé¨åæ²¡æ¾å°ï¼æä»¥æ¾ååé¨å\n        Node<E> x = last;\n        for (int i = size - 1; i > index; i--)\n            x = x.prev;\n        return x;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n# indexOf(Object o)\n\n//è¿ä¸ªå¾ç®åï¼å°±æ¯éè¿å®ä½åç´ æ¥æ¥æ¾å°è¯¥åç´ å¨é¾è¡¨ä¸­çä½ç½®ãè·removeä¸­çä»£ç ç±»ä¼¼ï¼åªæ¯è¿åç±»åä¸ä¸æ ·ã\npublic int indexOf(Object o) {\n    int index = 0;\n    if (o == null) {\n        for (Node<E> x = first; x != null; x = x.next) {\n            if (x.item == null)\n                return index;\n            index++;\n        }\n    } else {\n        for (Node<E> x = first; x != null; x = x.next) {\n            if (o.equals(x.item))\n                return index;\n            index++;\n        }\n    }\n    return -1;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# 7ãLinkedListçè¿­ä»£å¨\n\nå¨LinkedListä¸­é¤äºæä¸ä¸ªNodeçåé¨ç±»å¤ï¼åºè¯¥è¿è½çå°å¦å¤ä¸¤ä¸ªåé¨ç±»ï¼é£å°±æ¯ListItrï¼è¿æä¸ä¸ªæ¯DescendingIteratorã\n\nãListItråé¨ç±»ã\n\nprivate class ListItr implements ListIterator<E> {\n}\n\n\n1\n2\n\n\nçä¸ä¸ä»çç»§æ¿ç»æï¼åç°åªç»§æ¿äºä¸ä¸ªListIteratorï¼å°ListIteratorä¸­ä¸çï¼\n\n\n\nçå°æ¹æ³åä¹åï¼å°±åç°ä¸æ­¢æååè¿­ä»£çæ¹æ³ï¼è¿æååè¿­ä»£çæ¹æ³ï¼æä»¥æä»¬å°±ç¥éäºè¿ä¸ªListItr è¿ä¸ªåé¨ç±»å¹²åç¨çäºï¼å°±æ¯è½è®©linkedListä¸åè½ååè¿­ä»£ï¼ä¹è½ååè¿­ä»£ã\n\nçä¸ä¸ListIträ¸­çæ¹æ³ï¼å¯ä»¥åç°ï¼å¨è¿­ä»£çè¿ç¨ä¸­ï¼è¿è½ç§»é¤ãä¿®æ¹ãæ·»å å¼å¾æä½ã\n\n\n\nãDescendingIteratoråé¨ç±»ã\n\nprivate class DescendingIterator implements Iterator<E> {\n    //çä¸ä¸è¿ä¸ªç±»ï¼è¿æ¯è°ç¨çListItrï¼ä½ç¨æ¯å°è£ä¸ä¸Iträ¸­å ä¸ªæ¹æ³ï¼è®©ä½¿ç¨èä»¥æ­£å¸¸çæç»´å»åä»£ç ï¼ä¾å¦ï¼å¨ä»åå¾åéåçæ¶åï¼ä¹æ¯è·ä»åå¾åéåä¸æ ·ï¼ä½¿ç¨nextç­æä½ï¼èä¸ç¨ä½¿ç¨ç¹æ®çpreviousã\n    private final ListItr itr = new ListItr(size());\n    public boolean hasNext() {\n        return itr.hasPrevious();\n    }\n    public E next() {\n        return itr.previous();\n    }\n    public void remove() {\n        itr.remove();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# æ»ç»\n\n 1. linkedListæ¬è´¨ä¸æ¯ä¸ä¸ªååé¾è¡¨ï¼éè¿ä¸ä¸ªNodeåé¨ç±»å®ç°çè¿ç§é¾è¡¨ç»æ\n 2. è½å­å¨nullå¼\n 3. è·arrayListç¸æ¯è¾ï¼å°±çæ­£çç¥éäºï¼LinkedListå¨å é¤åå¢å ç­æä½ä¸æ§è½å¥½ï¼èArrayListå¨æ¥è¯¢çæ§è½ä¸å¥½\n 4. . ä»æºç ä¸­çï¼å®ä¸å­å¨å®¹éä¸è¶³çæåµ\n 5. . linkedListä¸åè½å¤ååè¿­ä»£ï¼è¿è½ååè¿­ä»£ï¼å¹¶ä¸å¨è¿­ä»£çè¿ç¨ä¸­ï¼å¯ä»¥ä¿®æ¹å¼ãæ·»å å¼ãè¿è½ç§»é¤å¼ã\n 6. linkedListä¸åè½å½é¾è¡¨ï¼è¿è½å½éåä½¿ç¨ï¼è¿ä¸ªå°±æ¯å ä¸ºå®ç°äºDequeæ¥å£ã\n\nä»£ç å¨ LinkedListæºç åæä¸­3ãç±»çå±æ§',normalizedContent:'# linkedlist\n\n\n# å¼å¥\n\né®é¢ï¼å¨éåçä»»ä½ä½ç½®ï¼å¤´é¨ï¼ä¸­é´ï¼å°¾é¨ï¼æ·»å ï¼è·åï¼å é¤ççå¯¹è±¡ï¼\n\næå¥ï¼å é¤æä½é¢ç¹æ¶ï¼å¯ä½¿ç¨linkedlistæ¥æé«æç\n\nlinkedlistæä¾å¯¹å¤´é¨åå°¾é¨åç´ è¿è¡æ·»å åå é¤æä½çæ¹æ³ï¼\n\n\n\nlinkedlistçç¹æ®æ¹æ³\n\n\n\néåæ¡æ¶æä½å¥½å¤ï¼ javaéåæ¡æ¶ä¸­åå«åªäºæ¥å£åç±»ï¼ arraylistålinkedlistæä½å¼åï¼\n\n\n# linkedlistæ¦è¿°\n\næä»¬é½ç¥éå®çåºå±æ¯ç±é¾è¡¨å®ç°çï¼æä»¥æä»¬è¦æç½ä»ä¹æ¯é¾è¡¨ï¼\n\n\n\nlinkedlistæ¯ä¸ç§å¯ä»¥å¨ä»»ä½ä½ç½®è¿è¡é«æå°æå¥åç§»é¤æä½çæåºåºåï¼å®æ¯åºäºååé¾è¡¨å®ç°çã\n\nlinkedlist æ¯ä¸ä¸ªç»§æ¿äºabstractsequentiallistçååé¾è¡¨ãå®ä¹å¯ä»¥è¢«å½ä½å æ ãéåæåç«¯éåè¿è¡æä½ã\n\nlinkedlist å®ç° list æ¥å£ï¼è½å¯¹å®è¿è¡éåæä½ã\n\nlinkedlist å®ç° deque æ¥å£ï¼å³è½å°linkedlistå½ä½åç«¯éåä½¿ç¨ã\n\nlinkedlist å®ç°äºcloneableæ¥å£ï¼å³è¦çäºå½æ°clone()ï¼è½åéã\n\nlinkedlist å®ç°java.io.serializableæ¥å£ï¼è¿æå³çlinkedlistæ¯æåºååï¼è½éè¿åºååå»ä¼ è¾ã\n\nlinkedlist æ¯éåæ­¥çã\n\næ¨èæç« ï¼linklistè¯¦è§£\n\n\n# é¾è¡¨çæ°æ®ç»æ\n\nååé¾è¡¨ï¼\n\nelementï¼ç¨æ¥å­æ¾åç´ \n\nnextï¼ç¨æ¥æåä¸ä¸ä¸ªèç¹åç´ \n\néè¿æ¯ä¸ªç»ç¹çæéæåä¸ä¸ä¸ªç»ç¹ä»èé¾æ¥èµ·æ¥çç»æï¼æåä¸ä¸ªèç¹çnextæånullã\n\n\n\nååå¾ªç¯é¾è¡¨ï¼\n\nelementãnext è·åé¢ä¸æ ·ï¼å¨ååé¾è¡¨çæåä¸ä¸ªèç¹çnextä¼æåå¤´èç¹ï¼èä¸æ¯æånullï¼è¿æ ·å­æä¸ä¸ªç¯\n\n\n\nååé¾è¡¨ï¼\n\nelementï¼å­æ¾åç´ \n\npreï¼ç¨æ¥æååä¸ä¸ªåç´ \n\nnextï¼æååä¸ä¸ªåç´ \n\nååé¾è¡¨æ¯åå«ä¸¤ä¸ªæéçï¼preæååä¸ä¸ªèç¹ï¼nextæååä¸ä¸ªèç¹ï¼ä½æ¯ç¬¬ä¸ä¸ªèç¹headçpreæånullï¼æåä¸ä¸ªèç¹çtailæånullã\n\n\n\nååå¾ªç¯é¾è¡¨ï¼\n\nelementãpreãnext è·åé¢çä¸æ ·\n\nç¬¬ä¸ä¸ªèç¹çpreæåæåä¸ä¸ªèç¹ï¼æåä¸ä¸ªèç¹çnextæåç¬¬ä¸ä¸ªèç¹ï¼ä¹å½¢æä¸ä¸ªâç¯âã\n\n\n\nãlinkedlistçæ°æ®ç»æã\n\n\n\nå¦ä¸å¾æç¤ºï¼linkedliståºå±ä½¿ç¨çååé¾è¡¨ç»æï¼æä¸ä¸ªå¤´ç»ç¹åä¸ä¸ªå°¾ç»ç¹ï¼ååé¾è¡¨æå³çæä»¬å¯ä»¥ä»å¤´å¼å§æ­£åéåï¼æèæ¯ä»å°¾å¼å§éåéåï¼å¹¶ä¸å¯ä»¥éå¯¹å¤´é¨åå°¾é¨è¿è¡ç¸åºçæä½ã\n\n\n# linkedlistæºç åæ\n\næ¥ä¸æ¥åå°äºå¤§å®¶åæ¬¢çè¯»æºç ç¯è**ð**\n\n\n# 1ãlinkedlistçç¹æ§\n\nå¨æä»¬å¹³å¸¸ä¸­ï¼æä»¬åªç¥éä¸äºå¸¸è¯æ§çç¹ç¹ï¼\n\n1ï¼æ¯éè¿é¾è¡¨å®ç°ç 2ï¼å¦æå¨é¢ç¹çæå¥ï¼æèå é¤æ°æ®æ¶ï¼å°±ç¨linkedlistæ§è½ä¼æ´å¥½ã\n\né£æä»¬éè¿apiå»æ¥çå®çä¸äºç¹æ§\n\n> doubly-linked list implementation of the list and deque interfaces. implements all optional list operations, and permits all elements (including null).\n> \n> è¿åè¯æä»¬ï¼linkedlistæ¯ä¸ä¸ªååé¾è¡¨ï¼å¹¶ä¸å®ç°äºlistådequeæ¥å£ä¸­ææçåè¡¨æä½ï¼å¹¶ä¸è½å­å¨ä»»ä½åç´ ï¼åæ¬nullï¼è¿éæä»¬å¯ä»¥ç¥élinkedlisté¤äºå¯ä»¥å½é¾è¡¨ä½¿ç¨ï¼è¿å¯ä»¥å½ä½éåä½¿ç¨ï¼å¹¶è½è¿è¡ç¸åºçæä½ã\n> \n> all of the operations perform as could be expected for a doubly-linked list. operations that index into the list will traverse the list from the beginning or the end, whichever is closer to the specified index.\n> \n> è¿ä¸ªåè¯æä»¬ï¼linkedlistå¨æ§è¡ä»»ä½æä½çæ¶åï¼é½å¿é¡»åéåæ­¤åè¡¨æ¥é è¿éè¿indexæ¥æ¾æä»¬æéè¦ççå¼ãéä¿ç¹è®²ï¼è¿å°±åè¯äºæä»¬è¿ä¸ªæ¯é¡ºåºå­åï¼æ¯æ¬¡æä½å¿é¡»åæå¼å§å°ç»æçé¡ºåºéåï¼éæºå­åï¼å°±æ¯arraylistï¼è½å¤éè¿indexãéä¾¿è®¿é®å¶ä¸­çä»»æä½ç½®çæ°æ®ï¼è¿å°±æ¯éæºåè¡¨çææã\n\n3ï¼apiä¸­æ¥ä¸æ¥è®²çä¸å¤§å ï¼å°±æ¯è¯´ælinkedlistæ¯ä¸ä¸ªéçº¿ç¨å®å¨ç(å¼æ­¥)ï¼å¶ä¸­å¨æä½interatoræ¶ï¼ å¦ææ¹ååè¡¨ç»æ(adddeleteç­)ï¼ä¼åçfail-fastã\n\néè¿apiåæ¬¡æ»ç»ä¸ä¸linkedlistçç¹æ§ï¼\n\n 1. å¼æ­¥ï¼ä¹å°±æ¯éçº¿ç¨å®å¨\n\n 2. ååé¾è¡¨ãç±äºå®ç°äºlistådequeæ¥å£ï¼è½å¤å½ä½éåæ¥ä½¿ç¨ã\n    \n    é¾è¡¨ï¼æ¥è¯¢æçä¸é«ï¼ä½æ¯æå¥åå é¤è¿ç§æä½æ§è½å¥½ã\n\n 3. æ¯é¡ºåºå­åç»æï¼æ³¨æåéæºå­åç»æä¸¤ä¸ªæ¦å¿µææ¸æ¥ï¼\n\n\n# 2ãç»§æ¿ç»æä»¥åå±æ¬¡å³ç³»\n\nctrl+h\n\n\n\næä»¬å¯ä»¥çå°ï¼linkedlistå¨æåºå±ï¼è¯´æä»çåè½æä¸ºå¼ºå¤§ï¼å¹¶ä¸ç»å¿çè¿ä¼åç°ï¼arraylistæåå±ï¼è¿éå¤äºä¸å±abstractsequentiallistçæ½è±¡ç±»ï¼ä¸ºä»ä¹å¢ï¼\n\néè¿apiæä»¬ä¼åç°ï¼\n\n1ï¼åå°å®ç°é¡ºåºå­åï¼ä¾å¦linkedlistï¼è¿ç§ç±»çå·¥ä½ï¼éä¿çè®²å°±æ¯æ¹ä¾¿ï¼æ½è±¡åºç±»ä¼¼linkedlistè¿ç§ç±»çä¸äºå±åçæ¹æ³\n\n2ï¼æ¢ç¶æäºä¸é¢è¿å¥è¯ï¼é£ä¹ä»¥åå¦æèªå·±æ³å®ç°é¡ºåºå­åè¿ç§ç¹æ§çç±»(å°±æ¯é¾è¡¨å½¢å¼)ï¼é£ä¹å°±ç»§æ¿è¿ä¸ªabstractsequentiallistæ½è±¡ç±»ï¼å¦ææ³åæ°ç»é£æ ·çéæºå­åçç±»ï¼é£ä¹å°±å»å®ç°abstraclistæ½è±¡ç±»ã\n\n3ï¼è¿æ ·çåå±ï¼å°±å¾ç¬¦åæä»¬æ½è±¡çæ¦å¿µï¼è¶å¨é«å¤çç±»ï¼å°±è¶æ½è±¡ï¼å¾å¨åºå±çç±»ï¼å°±è¶æèªå·±ç¬ç¹çä¸ªæ§ãèªå·±è¦æ¢æ¢é¢ä¼è¿ç§ææ³ã\n\n4ï¼linkedlistçç±»ç»§æ¿ç»æå¾æææï¼æä»¬çéè¦çæ¯dequeæ¥å£ï¼dequeæ¥å£è¡¨ç¤ºæ¯ä¸ä¸ªåç«¯éåï¼é£ä¹ä¹æå³çlinkedlistæ¯åç«¯éåçä¸ç§å®ç°ï¼æä»¥ï¼åºäºåç«¯éåçæä½å¨linkedlistä¸­å¨é¨ææã\n\npublic abstract class abstractsequentiallist<e>\nextends abstractlist<e>\n\n\n1\n2\n\n\n\n\nç¬¬ä¸æ®µï¼\n\n> è¿éç¬¬ä¸æ®µå°±è§£éäºè¿ä¸ªç±»çä½ç¨ï¼è¿ä¸ªç±»ä¸ºå®ç°listæ¥å£æä¾äºä¸äºéè¦çæ¹æ³ï¼ å°½æå¤§åªåå»åå°å®ç°è¿ä¸ªâé¡ºåºå­åâçç¹æ§çæ°æ®å­å¨(ä¾å¦é¾è¡¨)çä»ä¹ éæºå­åæ°æ®(ä¾å¦æ°ç»)çç±»åºè¯¥ä¼åä½¿ç¨abstractlist ä»ä¸é¢å°±å¯ä»¥å¤§æ¦ç¥éï¼abstractswquentiallistè¿ä¸ªç±»æ¯ä¸ºäºåå°linkedlistè¿ç§é¡ºåºå­åçç±»çä»£ç å¤æåº¦èæ½è±¡çä¸ä¸ªç±»ï¼\n\nç¬¬äºæ®µï¼\n\n> è¿ä¸æ®µå¤§æ¦è®²çå°±æ¯è¿ä¸ªabstractsequentiallistè¿ä¸ªç±»åabstractlistè¿ä¸ªç±»æ¯å®å¨ç¸å çãæ¯å¦getãaddè¿ä¸ªæ¹æ³çå®ç°\n\nç¬¬ä¸æ®µï¼\n\n> è¿éå°±æ¯è®²ä¸äºæä»¬èªå·±è¦ç»§æ¿è¯¥ç±»ï¼è¯¥åäºä»ä¹äºæï¼ä¸äºè§èã\n\nãæ¥å£å®ç°åæã\n\npublic class linkedlist<e>\n    extends abstractsequentiallist<e>\n    implements list<e>, deque<e>, cloneable, java.io.serializable\n    {\n    \n    }\n\n\n1\n2\n3\n4\n5\n6\n\n\n 1. listæ¥å£ï¼åè¡¨ï¼addãsetãç­ä¸äºå¯¹åè¡¨è¿è¡æä½çæ¹æ³\n\n 2. dequeæ¥å£ï¼æéåçåç§ç¹æ§ï¼\n\n 3. cloneableæ¥å£ï¼è½å¤å¤å¶ï¼ä½¿ç¨é£ä¸ªcopyæ¹æ³ã\n\n 4. serializableæ¥å£ï¼è½å¤åºååã\n\n 5. åºè¯¥æ³¨æå°æ²¡ærandomaccessï¼é£ä¹å°±æ¨èä½¿ç¨iteratorï¼å¨å¶ä¸­å°±æä¸ä¸ªforeachï¼å¢å¼ºçforå¾ªç¯ï¼å¶ä¸­åçä¹å°±æ¯iteratorï¼æä»¬å¨ä½¿ç¨çæ¶åï¼ä½¿ç¨foreachæèiteratoré½å¯ä»¥ã\n    \n    iteratorï¼\n    \n    public static void method() {\n        list<string> l = new arraylist<>();\n    \n        l.add("hello");\n        l.add(0, "123");\n        l.add("789");\n        l.set(0, "456");\n        l.remove(0);\n    \n        listiterator<string> lit = l.listiterator();\n        while (lit.hasnext()) {\n            string next = lit.next();\n    //            l.add("111");\n            lit.add("111");\n            system.out.println(next);\n    \n        }\n        system.out.println(l);\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    \n\n\n# 3ãç±»çå±æ§\n\npublic class linkedlist<e>\n    extends abstractsequentiallist<e>\n    implements list<e>, deque<e>, cloneable, java.io.serializable\n{\n    // å®éåç´ ä¸ªæ°\n    transient int size = 0;\n    // å¤´ç»ç¹\n    transient node<e> first;\n    // å°¾ç»ç¹\n    transient node<e> last;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nlinkedlistçå±æ§éå¸¸ç®åï¼ä¸ä¸ªå¤´ç»ç¹ãä¸ä¸ªå°¾ç»ç¹ãä¸ä¸ªè¡¨ç¤ºé¾è¡¨ä¸­å®éåç´ ä¸ªæ°çåéãæ³¨æï¼ å¤´ç»ç¹ãå°¾ç»ç¹é½ætransientå³é®å­ä¿®é¥°ï¼è¿ä¹æå³çå¨åºååæ¶è¯¥åæ¯ä¸ä¼åºååçã\n\n\n# 4ãæé æ¹æ³\n\nä¸¤ä¸ªæé æ¹æ³(ä¸¤ä¸ªæé æ¹æ³é½æ¯è§èè§å®éè¦åçï¼\n\nãç©ºåæé å½æ°ã\n\npublic linkedlist() {\n    \n}\n\n\n1\n2\n3\n\n\nãæåæé å½æ°ã\n\n//å°éåcä¸­çåä¸ªåç´ æå»ºælinkedlisté¾è¡¨ã\npublic linkedlist(collection<? extends e> c) {\n    // è°ç¨æ åæé å½æ°\n    this();\n    // æ·»å éåä¸­ææçåç´ \n    addall(c);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nè¯´æï¼ä¼è°ç¨æ åæé å½æ°ï¼å¹¶ä¸ä¼æéåä¸­ææçåç´ æ·»å å°linkedlistä¸­ã\n\n\n# 5ãåé¨ç±»ï¼nodeï¼\n\n//æ ¹æ®åé¢ä»ç»ååé¾è¡¨å°±ç¥éè¿ä¸ªä»£è¡¨ä»ä¹äºï¼linkedlistçå¥¥ç§å°±å¨è¿éã\nprivate static class node<e> {\n    e item; // æ°æ®åï¼å½åèç¹çå¼ï¼\n    node<e> next; // åç»§ï¼æåå½åä¸ä¸ªèç¹çåä¸ä¸ªèç¹ï¼\n    node<e> prev; // åé©±ï¼æåå½åèç¹çåä¸ä¸ªèç¹ï¼\n    \n    // æé å½æ°ï¼èµå¼åé©±åç»§\n    node(node<e> prev, e element, node<e> next) {\n        this.item = element;\n        this.next = next;\n        this.prev = prev;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nè¯´æï¼åé¨ç±»nodeå°±æ¯å®éçç»ç¹ï¼ç¨äºå­æ¾å®éåç´ çå°æ¹ã\n\n\n# 6ãæ ¸å¿æ¹æ³\n\n# add()æ¹æ³\n\npublic boolean add(e e) {\n    // æ·»å å°æ«å°¾\n    linklast(e);\n    return true;\n}\n\n\n1\n2\n3\n4\n5\n\n\nè¯´æï¼addå½æ°ç¨äºålinkedlistä¸­æ·»å ä¸ä¸ªåç´ ï¼å¹¶ä¸æ·»å å°é¾è¡¨å°¾é¨ãå·ä½æ·»å å°å°¾é¨çé»è¾æ¯ç± linklastå½æ°å®æçã\n\nãlinklast(xxxxx)ã\n\n/**\n * links e as last element.\n */\nvoid linklast(e e) {\n    final node<e> l = last; //ä¸´æ¶èç¹l(lçå°å)ä¿å­lastï¼ä¹å°±æ¯læåäºæåä¸ä¸ªèç¹\n    final node<e> newnode = new node<>(l, e, null);////å°eå°è£ä¸ºèç¹ï¼å¹¶ä¸e.prevæåäºæåä¸ä¸ªèç¹\n    last = newnode;//newnodeæä¸ºäºæåä¸ä¸ªèç¹ï¼æä»¥lastæåäºå®\n    if (l == null)//å¤æ­æ¯ä¸æ¯ä¸å¼å§é¾è¡¨ä¸­å°±ä»ä¹é½æ²¡æï¼å¦ææ²¡æï¼ånewnodeå°±æä¸ºäºç¬¬ä¸ä¸ªèç¹ï¼firstålasté½è¦æåå®\n        first = newnode;\n    else  //æ­£å¸¸çå¨æåä¸ä¸ªèç¹åè¿½å ï¼é£ä¹ååçæåä¸ä¸ªèç¹çnextå°±è¦æåç°å¨çæ­£çæåä¸ä¸ªèç¹ï¼ååçæåä¸ä¸ªèç¹å°±åæäºåæ°ç¬¬äºä¸ªèç¹\n        l.next = newnode;\n    size++; ;//æ·»å ä¸ä¸ªèç¹ï¼sizeèªå¢\n    modcount++;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nè¯´æï¼å¯¹äºæ·»å ä¸ä¸ªåç´ è³é¾è¡¨ä¸­ä¼è°ç¨addæ¹æ³ -> linklastæ¹æ³ã\n\nãä¸¾ä¾ä¸ã\n\nlist<integer> lists = new linkedlist<integer>();\nlists.add(5);\nlists.add(6);\n\n\n1\n2\n3\n\n\né¦åè°ç¨æ åæé å½æ°ï¼ä¹åæ·»å åç´ 5ï¼ä¹ååæ·»å åç´ 6ãå·ä½çç¤ºæå¾å¦ä¸ï¼\n\n\n\nä¸å¾çè¡¨æäºå¨æ§è¡æ¯ä¸æ¡è¯­å¥åï¼é¾è¡¨å¯¹åºçç¶æã\n\n# addall()æ¹æ³\n\naddallæä¸¤ä¸ªéè½½å½æ°ï¼addall(collection)ååaddall(int, collection) åï¼æä»¬å¹³æ¶ä¹ æ¯è°ç¨çaddall(collection)åä¼è½¬åä¸ºaddall(int, collection)åã\n\npublic boolean addall(collection<? extends e> c) {\n//ç»§ç»­å¾ä¸ç\nreturn addall(size, c);\n}\n\n\n1\n2\n3\n4\n\n\naddall(sizeï¼c)ï¼è¿ä¸ªæ¹æ³ï¼è½åå«ä¸ç§æåµä¸çæ·»å ï¼æä»¬è¿éåæçåªæ¯æé æ¹æ³ï¼ç©ºé¾è¡¨çæåµï¼ççæ¶ååªéè¦æç§ä¸åçæåµåæä¸å»å°±è¡äºã\n\n//çæ­£æ ¸å¿çå°æ¹å°±æ¯è¿éäºï¼è®°å¾æä»¬ä¼ è¿æ¥çæ¯sizeï¼c\npublic boolean addall(int index, collection<? extends e> c) {\n    //æ£æ¥indexè¿ä¸ªæ¯å¦ä¸ºåçãè¿ä¸ªå¾ç®åï¼èªå·±ç¹è¿å»çä¸å°±æç½äºã\n    checkpositionindex(index);\n\t//å°éåcè½¬æ¢ä¸ºobjectæ°ç» a\n    object[] a = c.toarray();\n    //æ°ç»açé¿åº¦numnewï¼ä¹å°±æ¯ç±å¤å°ä¸ªåç´ \n    int numnew = a.length;\n    if (numnew == 0)\n        //éåcæ¯ä¸ªç©ºçï¼ç´æ¥è¿åfalseï¼ä»ä¹ä¹ä¸åã\n        return false;\n\t//éåcæ¯éç©ºçï¼å®ä¹ä¸¤ä¸ªèç¹(åé¨ç±»)ï¼æ¯ä¸ªèç¹é½æä¸ä¸ªå±æ§ï¼itemãnextãprevãæ³¨æï¼ä¸è¦ç®¡è¿ä¸¤ä¸ªä»ä¹å«ä¹ï¼å°±æ¯ç¨æ¥åä¸´æ¶å­å¨èç¹çãè¿ä¸ªnodeçä¸é¢ä¸æ­¥çæºç åæï¼nodeå°±æ¯linkedlistçææ ¸å¿çå®ç°ï¼å¯ä»¥ç´æ¥åè·³ä¸ä¸ä¸ªå»çnodeçåæ\n    node<e> pred, succ;\n    //æé æ¹æ³ä¸­ä¼ è¿æ¥çå°±æ¯index==size\n    if (index == size) {\n        //linkedlistä¸­ä¸ä¸ªå±æ§ï¼sizeãfirstãlastã sizeï¼é¾è¡¨ä¸­çåç´ ä¸ªæ°ãfirstï¼å¤´èç¹ lastï¼å°¾èç¹ï¼å°±ä¸¤ç§æåµè½è¿æ¥è¿é\n        //æåµä¸ãï¼æé æ¹æ³åå»ºçä¸ä¸ªç©ºçé¾è¡¨ï¼é£ä¹size=0ï¼lastãåfirsté½ä¸ºnullãlinkedlistä¸­æ¯ç©ºçãä»ä¹èç¹é½æ²¡æãsucc=nullãpred=last=null\n        \n        //æåµäºãï¼é¾è¡¨ä¸­æèç¹ï¼sizeå°±ä¸æ¯ä¸º0ï¼firstålasté½åå«æåç¬¬ä¸ä¸ªèç¹ï¼åæåä¸ä¸ªèç¹ï¼å¨æåä¸ä¸ªèç¹ä¹åè¿½å åç´ ï¼å°±å¾è®°å½ä¸ä¸æåä¸ä¸ªèç¹æ¯ä»ä¹ï¼æä»¥ælastä¿å­å°predä¸´æ¶èç¹ä¸­ã\n\n        succ = null;\n        pred = last;\n    } else {\n        //æåµä¸ãindexï¼=sizeï¼è¯´æä¸æ¯åé¢ä¸¤ç§æåµï¼èæ¯å¨é¾è¡¨ä¸­é´æå¥åç´ ï¼é£ä¹å°±å¾ç¥éindexä¸çèç¹æ¯è°ï¼ä¿å­å°succä¸´æ¶èç¹ä¸­ï¼ç¶åå°succçåä¸ä¸ªèç¹ä¿å­å°predä¸­ï¼è¿æ ·ä¿å­äºè¿ä¸¤ä¸ªèç¹ï¼å°±è½å¤åç¡®çæå¥èç¹äº\n        //ä¸¾ä¸ªç®åçä¾å­ï¼æ2ä¸ªä½ç½®ï¼1ã2ãå¦ææ³ææ°æ®å°ç¬¬äºä¸ªä½ç½®ï¼ååé¾è¡¨ä¸­ï¼å°±éè¦ç¥éç¬¬ä¸ä¸ªä½ç½®æ¯è°ï¼åä½ç½®ä¹å°±æ¯ç¬¬äºä¸ªä½ç½®ä¸æ¯è°ï¼ç¶åæè½å°èªå·±æå°ç¬¬äºä¸ªä½ç½®ä¸ãå¦æè¿éè¿ä¸æç½ï¼åçä¸ä¸æç« å¼å¤´å¯¹äºåç§é¾è¡¨çå é¤ï¼addæä½æ¯æä¹å®ç°çã\n        succ = node(index);\n        pred = succ.prev;\n    }\n\t//åé¢çåå¤å·¥ä½åå®äºï¼å°éåæ°ç»aä¸­çåç´ ï¼å°è£ä¸ºä¸ä¸ªä¸ªèç¹ã\n    for (object o : a) {\n        @suppresswarnings("unchecked") e e = (e) o;\n        //predå°±æ¯ä¹åææå»ºå¥½çï¼å¯è½ä¸ºnullãä¹å¯è½ä¸ä¸ºnullï¼ä¸ºnullçè¯å°±æ¯å±äºæåµä¸ãä¸ä¸ºnullåå¯è½æ¯æåµäºãæèæåµä¸\n\n        node<e> newnode = new node<>(pred, e, null);\n        //å¦æpred==nullï¼è¯´ææ¯æåµä¸ï¼æé æ¹æ³ï¼æ¯ååå»ºçä¸ä¸ªç©ºé¾è¡¨ï¼æ­¤æ¶çnewnodeå°±å½ä½ç¬¬ä¸ä¸ªèç¹ï¼æä»¥ænewnodeç»firstå¤´èç¹\n        if (pred == null)\n            first = newnode;\n        else\n            //å¦æpredï¼=nullï¼è¯´æå¯è½æ¯æåµ2æèæåµ3ï¼å¦ææ¯æåµ2ï¼predå°±æ¯lastï¼é£ä¹å¨æåä¸ä¸ªèç¹ä¹åè¿½å å°newnodeï¼å¦ææ¯æåµ3ï¼å¨ä¸­é´æå¥ï¼predä¸ºåindexèç¹ä¹åçä¸ä¸ªèç¹ï¼å°å®çnextæåæå¥çèç¹ï¼ä¹æ¯å¯¹ç\n            pred.next = newnode;\n        //ç¶åå°predæ¢ænewnodeï¼æ³¨æï¼è¿ä¸ªä¸å¨elseä¹ä¸­ï¼è¯·çæ¸æ¥äºã\n        pred = newnode;\n    }\n\n    if (succ == null) {\n        /*å¦æsucc==nullï¼è¯´ææ¯æåµä¸æèæåµäºï¼\n\t\tæåµä¸ãæé æ¹æ³ï¼ä¹å°±æ¯ååå»ºçä¸ä¸ªç©ºé¾è¡¨ï¼predå·²ç»æ¯newnodeäºï¼last=newnodeï¼æä»¥linkedlistçfirstãlasté½æåç¬¬ä¸ä¸ªèç¹ã\n\t\tæåµäºãå¨æåèåä¹åè¿½å èç¹ï¼é£ä¹ååçlastå°±åºè¯¥æåç°å¨çæåä¸ä¸ªèç¹\näºï¼å°±æ¯newnodeã*/\n        last = pred;\n    } else {\n        //å¦æsuccï¼=nullï¼è¯´æå¯è½æ¯æåµä¸ãå¨ä¸­é´æå¥èç¹ï¼ä¸¾ä¾è¯´æè¿å ä¸ªåæ°çæä¹ï¼æ1ã2ä¸¤ä¸ªèç¹ï¼ç°å¨æ³å¨ç¬¬äºä¸ªä½ç½®æå¥èç¹newnodeï¼æ ¹æ®åé¢çä»£ç ï¼pred=newnodeï¼succ=2ï¼å¹¶ä¸1.next=newnodeï¼å·²ç»æå»ºå¥½äºï¼pred.next=succï¼ç¸å½äºå¨newnode.next =2ï¼ succ.prev = predï¼ç¸å½äº 2.prev = newnodeï¼ è¿æ ·ä¸æ¥ï¼è¿ç§æåå³ç³»å°±å®æäºãfirstålastä¸ç¨åï¼å ä¸ºå¤´èç¹åå°¾èç¹æ²¡å\n        pred.next = succ;\n        succ.prev = pred;\n    }\n\t//å¢å äºå ä¸ªåç´ ï¼å°±æ size = size +numnew å°±å¯ä»¥äº\n    size += numnew;\n    modcount++;\n    return true;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n\n\nè¯´æï¼åæ°ä¸­çindexè¡¨ç¤ºå¨ç´¢å¼ä¸æ ä¸ºindexçç»ç¹ï¼å®éä¸æ¯ç¬¬index + 1ä¸ªç»ç¹ï¼çåé¢æå¥ã\n\nå¨addallå½æ°ä¸­ï¼addallå½æ°ä¸­è¿ä¼è°ç¨å°nodeå½æ°ï¼getå½æ°ä¹ä¼è°ç¨å°nodeå½æ°ï¼æ­¤å½æ°æ¯æ ¹æ®ç´¢å¼ä¸æ æ¾å°è¯¥ç»ç¹å¹¶è¿åï¼å·ä½ä»£ç å¦ä¸ï¼\n\nnode<e> node(int index) {\n    // assert iselementindex(index);\n\t// å¤æ­æå¥çä½ç½®å¨é¾è¡¨ååæ®µæèæ¯ååæ®µ\n    if (index < (size >> 1)) {// æå¥ä½ç½®å¨ååæ®µ\n        node<e> x = first;\n        for (int i = 0; i < index; i++)// ä»å¤´ç»ç¹å¼å§æ­£åéå\n            x = x.next;\n        return x;// è¿åè¯¥ç»ç¹\n    } else {// æå¥ä½ç½®å¨ååæ®µ\n        node<e> x = last;\n        for (int i = size - 1; i > index; i--)// ä»å°¾ç»ç¹å¼å§ååéå\n            x = x.prev;\n        return x;// è¿åè¯¥ç»ç¹\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nè¯´æï¼å¨æ ¹æ®ç´¢å¼æ¥æ¾ç»ç¹æ¶ï¼ä¼æä¸ä¸ªå°ä¼åï¼ç»ç¹å¨ååæ®µåä»å¤´å¼å§éåï¼å¨ååæ®µåä»å°¾å¼å§éåï¼è¿æ ·å°±ä¿è¯äºåªéè¦éåæå¤ä¸åç»ç¹å°±å¯ä»¥æ¾å°æå®ç´¢å¼çç»ç¹ã\n\nä¸¾ä¾è¯´æè°ç¨addallå½æ°åçé¾è¡¨ç¶æï¼\n\nlist<integer> lists = new linkedlist<integer>();\nlists.add(5);\nlists.addall(0, arrays.aslist(2, 3, 4, 5));\n\n\n1\n2\n3\n\n\nä¸è¿°ä»£ç åé¨çé¾è¡¨ç»æå¦ä¸ï¼\n\n\n\naddall()ä¸­çä¸ä¸ªé®é¢ï¼\n\nå¨addallå½æ°ä¸­ï¼ä¼ å¥ä¸ä¸ªéååæ°åæå¥ä½ç½®ï¼ç¶åå°éåè½¬åä¸ºæ°ç»ï¼ç¶ååéåæ°ç»ï¼æ¨ä¸ªæ·»å æ°ç»çåç´ ï¼ä½æ¯é®é¢æ¥äºï¼ä¸ºä»ä¹è¦åè½¬åä¸ºæ°ç»åè¿è¡éåï¼èä¸æ¯ç´æ¥éåéåå¢ï¼\n\nä»ææä¸ä¸¤èæ¯å®å¨ç­ä»·çï¼é½å¯ä»¥è¾¾å°éåçææãå³äºä¸ºä»ä¹è¦è½¬åä¸ºæ°ç»çé®é¢ï¼æçæèå¦ ä¸ï¼\n\n 1. å¦æç´æ¥éåéåçè¯ï¼é£ä¹å¨éåè¿ç¨ä¸­éè¦æå¥åç´ ï¼å¨å ä¸åéåå­ç©ºé´ï¼ä¿®æ¹æéåï¼è¿ä¸ªè¿ç¨ä¸­å°±ä¼ä¸ç´å ç¨çè¿ä¸ªéåï¼èèæ­£ç¡®åæ­¥çè¯ï¼å¶ä»çº¿ç¨åªè½ä¸ç´ç­å¾ã\n 2. å¦æè½¬åä¸ºæ°ç»ï¼åªéè¦éåéåï¼èéåéåè¿ç¨ä¸­ä¸éè¦é¢å¤çæä½ï¼æä»¥å ç¨çæ¶é´ç¸å¯¹æ¯è¾ç­çï¼è¿æ ·å°±å©äºå¶ä»çº¿ç¨å°½å¿«çä½¿ç¨è¿ä¸ªéåãè¯´ç½äºï¼å°±æ¯æå©äºæé«å¤çº¿ç¨è®¿é®è¯¥éåçæçï¼å°½å¯è½ç­æ¶é´çé»å¡ã\n\n# remove(object o)\n\n/**\n * removes the first occurrence of the specified element from this list,\n * if it is present.  if this list does not contain the element, it is\n * unchanged.  more formally, removes the element with the lowest index\n * {@code i} such that\n * <tt>(o==null&nbsp;?&nbsp;get(i)==null&nbsp;:&nbsp;o.equals(get(i)))</tt>\n * (if such an element exists).  returns {@code true} if this list\n * contained the specified element (or equivalently, if this list\n * changed as a result of the call).\n *\n * @param o element to be removed from this list, if present\n * @return {@code true} if this list contained the specified element\n */\n\n///é¦åéè¿çä¸é¢çæ³¨éï¼æä»¬å¯ä»¥ç¥éï¼å¦ææä»¬è¦ç§»é¤çå¼å¨é¾è¡¨ä¸­å­å¨å¤ä¸ªä¸æ ·çå¼ï¼é£ä¹æä»¬ä¼ç§»é¤indexæå°çé£ä¸ªï¼ä¹å°±æ¯æåæ¾å°çé£ä¸ªå¼ï¼å¦æä¸å­å¨è¿ä¸ªå¼ï¼é£ä¹ä»ä¹ä¹ä¸åã\npublic boolean remove(object o) {\n    //è¿éå¯ä»¥çå°ï¼linkedlistä¹è½å­å¨null\n    if (o == null) {\n        //å¾ªç¯éåé¾è¡¨ï¼ç´å°æ¾å°nullå¼ï¼ç¶åä½¿ç¨unlinkç§»é¤è¯¥å¼ãä¸é¢çè¿ä¸ªelseä¸­ä¹ä¸æ ·\n        for (node<e> x = first; x != null; x = x.next) {\n            if (x.item == null) {\n                unlink(x);\n                return true;\n            }\n        }\n    } else {\n        for (node<e> x = first; x != null; x = x.next) {\n            if (o.equals(x.item)) {\n                unlink(x);\n                return true;\n            }\n        }\n    }\n    return false;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\nãunlink(xxxx)ã\n\n// unlinks non-null node x.\n//ä¸è½ä¼ ä¸ä¸ªnullå¼è¿ï¼æ³¨æï¼çä¹åè¦æ³¨æä¹åçnextãprevè¿äºé½æ¯è°ã\ne unlink(node<e> x) {\n    // assert x != null;\n    //æ¿å°èç¹xçä¸ä¸ªå±æ§\n    final e element = x.item;\n    final node<e> next = x.next;\n    final node<e> prev = x.prev;\n\t\n    //è¿éå¼å§å¾ä¸å°±è¿è¡ç§»é¤è¯¥åç´ ä¹åçæä½ï¼ä¹å°±æ¯ææååªä¸ªèç¹æå®ã\n    if (prev == null) {\n        //è¯´æç§»é¤çèç¹æ¯å¤´èç¹ï¼åfirstå¤´èç¹åºè¯¥æåä¸ä¸ä¸ªèç¹\n        first = next;\n    } else {\n        //ä¸æ¯å¤´èç¹ï¼prev.next=nextï¼æ1ã2ã3ï¼å°1.nextæå3\n        prev.next = next;\n        //ç¶åè§£é¤xèç¹çåæåã\n        x.prev = null;\n    }\n\n    if (next == null) {\n        //è¯´æç§»é¤çèç¹æ¯å°¾èç¹\n        last = prev;\n    } else {\n        //ä¸æ¯å°¾èç¹ï¼æ1ã2ã3ï¼å°3.prevæå1. ç¶åå°2.next=è§£é¤æåã\n        next.prev = prev;\n        x.next = null;\n    }\n\n    //xçååæåé½ä¸ºnulläºï¼ä¹æitemä¸ºnullï¼è®©gcåæ¶å®\n    x.item = null;\n    size--;//ç§»é¤ä¸ä¸ªèç¹ï¼sizeèªå\n    modcount++;\n    return element;//ç±äºä¸å¼å§å·²ç»ä¿å­äºxçå¼å°elementï¼æä»¥è¿åã\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\n# get(index)\n\nãget(index)æ¥è¯¢åç´ çæ¹æ³ã\n\n/**\n    * returns the element at the specified position in this list.\n    *\n    * @param index index of the element to return\n    * @return the element at the specified position in this list\n    * @throws indexoutofboundsexception {@inheritdoc}\n*/\n//è¿éæ²¡æä»ä¹ï¼éç¹è¿æ¯å¨node(index)ä¸­\npublic e get(int index) {\n    checkelementindex(index);\n    return node(index).item;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nãnode(index)ã\n\n/**\n* returns the (non-null) node at the specified element index.\n*/\n//è¿éæ¥è¯¢ä½¿ç¨çæ¯åä»ä¸­é´åä¸åæ¥æ¾\nnode<e> node(int index) {\n    // assert iselementindex(index);\n    //"<<":*2çå æ¬¡æ¹ â>>â:/2çå æ¬¡æ¹ï¼ä¾å¦ï¼size<<1ï¼size*2ç1æ¬¡æ¹ï¼\n    //è¿ä¸ªifä¸­å°±æ¯æ¥è¯¢ååé¨å\n    if (index < (size >> 1)) {//index<size/2\n        node<e> x = first;\n        for (int i = 0; i < index; i++)\n            x = x.next;\n        return x;\n    } else {//ååé¨åæ²¡æ¾å°ï¼æä»¥æ¾ååé¨å\n        node<e> x = last;\n        for (int i = size - 1; i > index; i--)\n            x = x.prev;\n        return x;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n# indexof(object o)\n\n//è¿ä¸ªå¾ç®åï¼å°±æ¯éè¿å®ä½åç´ æ¥æ¥æ¾å°è¯¥åç´ å¨é¾è¡¨ä¸­çä½ç½®ãè·removeä¸­çä»£ç ç±»ä¼¼ï¼åªæ¯è¿åç±»åä¸ä¸æ ·ã\npublic int indexof(object o) {\n    int index = 0;\n    if (o == null) {\n        for (node<e> x = first; x != null; x = x.next) {\n            if (x.item == null)\n                return index;\n            index++;\n        }\n    } else {\n        for (node<e> x = first; x != null; x = x.next) {\n            if (o.equals(x.item))\n                return index;\n            index++;\n        }\n    }\n    return -1;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# 7ãlinkedlistçè¿­ä»£å¨\n\nå¨linkedlistä¸­é¤äºæä¸ä¸ªnodeçåé¨ç±»å¤ï¼åºè¯¥è¿è½çå°å¦å¤ä¸¤ä¸ªåé¨ç±»ï¼é£å°±æ¯listitrï¼è¿æä¸ä¸ªæ¯descendingiteratorã\n\nãlistitråé¨ç±»ã\n\nprivate class listitr implements listiterator<e> {\n}\n\n\n1\n2\n\n\nçä¸ä¸ä»çç»§æ¿ç»æï¼åç°åªç»§æ¿äºä¸ä¸ªlistiteratorï¼å°listiteratorä¸­ä¸çï¼\n\n\n\nçå°æ¹æ³åä¹åï¼å°±åç°ä¸æ­¢æååè¿­ä»£çæ¹æ³ï¼è¿æååè¿­ä»£çæ¹æ³ï¼æä»¥æä»¬å°±ç¥éäºè¿ä¸ªlistitr è¿ä¸ªåé¨ç±»å¹²åç¨çäºï¼å°±æ¯è½è®©linkedlistä¸åè½ååè¿­ä»£ï¼ä¹è½ååè¿­ä»£ã\n\nçä¸ä¸listiträ¸­çæ¹æ³ï¼å¯ä»¥åç°ï¼å¨è¿­ä»£çè¿ç¨ä¸­ï¼è¿è½ç§»é¤ãä¿®æ¹ãæ·»å å¼å¾æä½ã\n\n\n\nãdescendingiteratoråé¨ç±»ã\n\nprivate class descendingiterator implements iterator<e> {\n    //çä¸ä¸è¿ä¸ªç±»ï¼è¿æ¯è°ç¨çlistitrï¼ä½ç¨æ¯å°è£ä¸ä¸iträ¸­å ä¸ªæ¹æ³ï¼è®©ä½¿ç¨èä»¥æ­£å¸¸çæç»´å»åä»£ç ï¼ä¾å¦ï¼å¨ä»åå¾åéåçæ¶åï¼ä¹æ¯è·ä»åå¾åéåä¸æ ·ï¼ä½¿ç¨nextç­æä½ï¼èä¸ç¨ä½¿ç¨ç¹æ®çpreviousã\n    private final listitr itr = new listitr(size());\n    public boolean hasnext() {\n        return itr.hasprevious();\n    }\n    public e next() {\n        return itr.previous();\n    }\n    public void remove() {\n        itr.remove();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# æ»ç»\n\n 1. linkedlistæ¬è´¨ä¸æ¯ä¸ä¸ªååé¾è¡¨ï¼éè¿ä¸ä¸ªnodeåé¨ç±»å®ç°çè¿ç§é¾è¡¨ç»æ\n 2. è½å­å¨nullå¼\n 3. è·arraylistç¸æ¯è¾ï¼å°±çæ­£çç¥éäºï¼linkedlistå¨å é¤åå¢å ç­æä½ä¸æ§è½å¥½ï¼èarraylistå¨æ¥è¯¢çæ§è½ä¸å¥½\n 4. . ä»æºç ä¸­çï¼å®ä¸å­å¨å®¹éä¸è¶³çæåµ\n 5. . linkedlistä¸åè½å¤ååè¿­ä»£ï¼è¿è½ååè¿­ä»£ï¼å¹¶ä¸å¨è¿­ä»£çè¿ç¨ä¸­ï¼å¯ä»¥ä¿®æ¹å¼ãæ·»å å¼ãè¿è½ç§»é¤å¼ã\n 6. linkedlistä¸åè½å½é¾è¡¨ï¼è¿è½å½éåä½¿ç¨ï¼è¿ä¸ªå°±æ¯å ä¸ºå®ç°äºdequeæ¥å£ã\n\nä»£ç å¨ linkedlistæºç åæä¸­3ãç±»çå±æ§',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"VevtoråStack",frontmatter:{title:"VevtoråStack",date:"2021-04-16T16:19:25.000Z",permalink:"/java/se/collection/Vevtor-Stack/",categories:["java","java-se","éåæ¡æ¶"]},regularPath:"/01.Java/05.Java-%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/04.Vevtor%E5%92%8CStack.html",relativePath:"01.Java/05.Java-éåæ¡æ¶/04.VevtoråStack.md",key:"v-b2628b0c",path:"/java/se/collection/Vevtor-Stack/",headers:[{level:3,title:"1ãVectoræ¦è¿°",slug:"_1ãvectoræ¦è¿°",normalizedTitle:"1ãvectoræ¦è¿°",charIndex:560},{level:3,title:"2ãVectoræºç åæ",slug:"_2ãvectoræºç åæ",normalizedTitle:"2ãvectoræºç åæ",charIndex:1038},{level:4,title:"æé æ¹æ³",slug:"æé æ¹æ³",normalizedTitle:"æé æ¹æ³",charIndex:1264},{level:4,title:"æ ¸å¿æ¹æ³",slug:"æ ¸å¿æ¹æ³",normalizedTitle:"æ ¸å¿æ¹æ³",charIndex:3926},{level:3,title:"3ãStack",slug:"_3ãstack",normalizedTitle:"3ãstack",charIndex:6064},{level:3,title:"4ãæ»ç»VectoråStack",slug:"_4ãæ»ç»vectoråstack",normalizedTitle:"4ãæ»ç»vectoråstack",charIndex:6276}],headersStr:"1ãVectoræ¦è¿° 2ãVectoræºç åæ æé æ¹æ³ æ ¸å¿æ¹æ³ 3ãStack 4ãæ»ç»VectoråStack",content:'# VevtoråStack\n\nåé¢åäºä¸ç¯å³äºçæ¯LinkedListçé¤äºå®çæ°æ®ç»æç¨å¾®æä¸ç¹å¤æä¹å¤ï¼å¶ä»çé½å¾å¥½çè§£çãè¿ ä¸ç¯è¯´çå¤§å®¶å¨å¼åä¸­å¾å°å»ç¨å°ï¼æçæ¶åä¹å¯è½æ¯ä¼ç¨å°çï¼äºè§£å°±è¡ã\n\næ³¨æå¨å­¦ä¹ è¿ä¸ç¯ä¹åï¼éè¦æå¤çº¿ç¨çç¥è¯ï¼\n\n1ï¼éæºå¶ï¼å¯¹è±¡éãæ¹æ³éãç±»é\n\nå¯¹è±¡éå°±æ¯æ¹æ³éï¼å°±æ¯å¨ä¸ä¸ªç±»ä¸­çæ¹æ³ä¸å ä¸synchronizedå³é®å­ï¼è¿å°±æ¯ç»è¿ä¸ªæ¹æ³å éäºã\n\nç±»éï¼éçæ¯æ´ä¸ªç±»ï¼å½æå¤ä¸ªçº¿ç¨æ¥å£°æè¿ä¸ªç±»çå¯¹è±¡çæ¶åå°ä¼è¢«é»å¡ï¼ç´å°æ¥æè¿ä¸ªç±»éçå¯¹è±¡è¢«éæ¯æèä¸»å¨éæ¾äºç±»éãè¿ä¸ªæ¶åå¨è¢«é»å¡ä½ççº¿ç¨è¢«æéåºä¸ä¸ªå æè¯¥ç±»éï¼å£°æè¯¥ç±»çå¯¹è±¡ã å¶ä»çº¿ç¨ç»§ç»­è¢«é»å¡ä½ãä¾å¦ï¼å¨ç±»Aä¸æå³é®å­synchronizedï¼é£ä¹å°±æ¯ç»ç±»Aå äºç±»éï¼çº¿ç¨1ç¬¬ä¸ ä¸ªå£°ææ­¤ç±»çå®ä¾ï¼åçº¿ç¨1æ¿å°äºè¯¥ç±»éï¼çº¿ç¨2å¨æ³å£°æç±»Açå¯¹è±¡ï¼å°±ä¼è¢«é»å¡ã\n\n2ï¼å¨æ¬æä¸­ï¼ä½¿ç¨çæ¯æ¹æ³éã\n\n3ï¼æ¯ä¸ªå¯¹è±¡åªæä¸æéï¼æçº¿ç¨Aï¼çº¿ç¨Bï¼è¿æä¸ä¸ªéåCç±»ï¼çº¿ç¨Aæä½Cæ¿å°äºéåä¸­çéï¼å¨éåCä¸­æç¨synchronizedå³é®å­ä¿®é¥°çï¼ï¼å¹¶ä¸è¿æ²¡ææ§è¡å®ï¼é£ä¹çº¿ç¨Aå°±ä¸ä¼éæ¾éï¼å½è½®å°çº¿ç¨Bå»æä½éåCä¸­çæ¹æ³æ¶ ï¼åç°éè¢«äººæ¿èµ°äºï¼æä»¥çº¿ç¨Båªè½ç­å¾é£ä¸ªæ¿å°éççº¿ç¨ä½¿ç¨å®ï¼ç¶åæè½æ¿å°éè¿è¡ç¸åºçæä½ã\n\n\n# 1ãVectoræ¦è¿°\n\n\n\néè¿APIä¸­å¯ä»¥ç¥éï¼\n\n 1. Vectoræ¯ä¸ä¸ªå¯ååé¿åº¦çæ°ç»\n 2. Vectorå¢å é¿åº¦éè¿çæ¯capacityåcapacityIncrementè¿ä¸¤ä¸ªåéï¼ç®åè¿ä¸ç¥éå¦ä½å®ç°èªå¨ æ©å¢çï¼ç­ä¼æºç åæ\n 3. Vectorä¹å¯ä»¥è·å¾iteratorålistIteratorè¿ä¸¤ä¸ªè¿­ä»£å¨ï¼å¹¶ä¸ä»ä»¬åççæ¯fail-fastï¼èä¸æ¯failsafeï¼æ³¨æè¿éï¼ä¸è¦è§å¾è¿ä¸ªvectoræ¯çº¿ç¨å®å¨å°±æéäºï¼å·ä½åæå¨ä¸é¢ä¼è¯´\n 4. Vectoræ¯ä¸ä¸ªçº¿ç¨å®å¨çç±»ï¼å¦æä½¿ç¨éè¦çº¿ç¨å®å¨å°±ä½¿ç¨Vectorï¼å¦æä¸éè¦ï¼å°±ä½¿ç¨arrayList\n 5. VectoråArrayListå¾ç±»ä¼¼ï¼å°±å°è®¸çä¸ä¸æ ·ï¼ä»å®ç»§æ¿çç±»åå®ç°çæ¥å£æ¥çï¼è·arrayListä¸æ¨¡ä¸ æ ·ã\n\næ³¨æï¼java1.5æ¨åºçjava.uitl.concurrentåï¼ä¸ºäºè§£å³å¤æçå¹¶åé®é¢çãæä»¥å¼åä¸­ï¼ä¸å»ºè®®ç¨vectorï¼åå å¨æç« çç»æä¼æè§£éï¼éè¦çº¿ç¨å®å¨çéåç±»ç´æ¥ç¨java.util.concurrentåä¸çç±»ã\n\n\n# 2ãVectoræºç åæ\n\npublic class Vector<E>\n    extends AbstractList<E>\n    implements List<E>, RandomAccess, Cloneable, java.io.Serializable\n    {\n    \n\t}\n\n\n1\n2\n3\n4\n5\n6\n\n\næä»¬åç°Vectorçç»§æ¿å³ç³»åå±æ¬¡ç»æåArrayListä¸­çä¸æ¨¡ä¸æ ·ï¼å¿è®°çå¯ä»¥å»ArrayListæ é¢æ¥çï¼\n\n# æé æ¹æ³\n\nä¸å±æåä¸ªæé æ¹æ³ã\n\næé æ¹æ³ä½ç¨ï¼\n\n * åå§åå­å¨åç´ çå®¹å¨ï¼ä¹å°±æ¯æ°ç»ï¼elementDataï¼\n * åå§åcapacityIncrementçå¤§å°ï¼é»è®¤æ¯0ï¼è¿ä¸ªçä½ç¨å°±æ¯æ©å±æ°ç»çæ¶åï¼å¢é¿çå¤§å°ï¼ä¸º0 åæ¯æ¬¡æ©å±2å\n\nVector()ï¼ç©ºæé \n\n/**\n * Constructs an empty vector so that its internal data array\n * has size {@code 10} and its standard capacity increment is\n * zero.\n */\n///çæ³¨éï¼è¿ä¸ªæ¯ä¸ä¸ªç©ºçVectoræé æ¹æ³ï¼æä»¥è®©ä»ä½¿ç¨åç½®çæ°ç»ï¼è¿éè¿ä¸ç¥éä»ä¹æ¯åç½®çæ°ç»ï¼çå®è°ç¨äºèªèº«å¦å¤ä¸ä¸ªå¸¦ä¸ä¸ªåæ°çæé å¨\npublic Vector() {\n    this(10);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nVector(int)\n\n/**\n * Constructs an empty vector with the specified initial capacity and\n * with its capacity increment equal to zero.\n *\n * @param   initialCapacity   the initial capacity of the vector\n * @throws IllegalArgumentException if the specified initial capacity\n *         is negative\n */\n//æ³¨éè¯´ï¼ç»ç©ºçcectoræé å¨ç¨åå¸¦æä¸ä¸ªç¹å®åå§åå®¹éç¨çï¼å¹¶ä¸åè°ç¨äºå¦å¤ä¸ä¸ªå¸¦ä¸¤ä¸ªåæ°çæé å¨ï¼å¹¶ä¸ç»å®¹éå¢é¿å¼(capacityIncrement=0)ä¸º0ï¼æ¥çvectorä¸­çåéå¯ä»¥åç°capacityIncrementæ¯ä¸ä¸ªæååé\n\npublic Vector(int initialCapacity) {\n    this(initialCapacity, 0);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nector(intï¼int)\n\n/**\n * Constructs an empty vector with the specified initial capacity and\n * capacity increment.\n *\n * @param   initialCapacity     the initial capacity of the vector\n * @param   capacityIncrement   the amount by which the capacity is\n *                              increased when the vector overflows\n * @throws IllegalArgumentException if the specified initial capacity\n *         is negative\n */\n//æå»ºä¸ä¸ªæç¹å®çåå§åå®¹éåå®¹éå¢é¿å¼çç©ºçVectorï¼\npublic Vector(int initialCapacity, int capacityIncrement) {\n    super();//è°ç¨ç¶ç±»çæé ï¼æ¯ä¸ªç©ºæé \n    if (initialCapacity < 0)//å°äº0ï¼ä¼æ¥éæ³åæ°å¼å¸¸ï¼ä¸åæ³çå®¹é\n        throw new IllegalArgumentException("Illegal Capacity: "+\n                                           initialCapacity);\n    this.elementData = new Object[initialCapacity];//elementDataæ¯ä¸ä¸ªæååéæ°ç»ï¼åå§åå®ï¼å¹¶ç»å®åå§åé¿åº¦ãé»è®¤å°±æ¯10ï¼é¤éèªå·±ç»å¼ã\n    this.capacityIncrement = capacityIncrement;//capacityIncrementçæææ¯å¦æè¦æ©å¢æ°ç»ï¼æ¯æ¬¡å¢é¿è¯¥å¼ï¼å¦æè¯¥å¼ä¸º0ï¼é£æ°ç»å°±åä¸ºä¸¤åçåé¿åº¦ï¼è¿ä¸ªä¹åä¼åæå°\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nVector(Collection c)\n\n/**\n * Constructs a vector containing the elements of the specified\n * collection, in the order they are returned by the collection\'s\n * iterator.\n *\n * @param c the collection whose elements are to be placed into this\n *       vector\n * @throws NullPointerException if the specified collection is null\n * @since   1.2\n */\n//å°éåcåä¸ºVectorï¼è¿åVectorçè¿­ä»£å¨ã\npublic Vector(Collection<? extends E> c) {\n    elementData = c.toArray();\n    elementCount = elementData.length;\n    // c.toArray might (incorrectly) not return Object[] (see 6260652)\n    if (elementData.getClass() != Object[].class)\n        elementData = Arrays.copyOf(elementData, elementCount, Object[].class);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n# æ ¸å¿æ¹æ³\n\nadd()æ¹æ³\n\n/**\n * Appends the specified element to the end of this Vector.\n *\n * @param e element to be appended to this Vector\n * @return {@code true} (as specified by {@link Collection#add})\n * @since 1.2\n */\n\n//å°±æ¯å¨vectorä¸­çæ«å°¾è¿½å åç´ ãä½æ¯çæ¹æ³ï¼synchronizedï¼æç½äºä¸ºä»ä¹vectoræ¯çº¿ç¨å®å¨çï¼å ä¸ºå¨æ¹æ³åé¢å äºsynchronizedå³é®å­ï¼ç»è¯¥æ¹æ³å éäºï¼åªä¸ªçº¿ç¨åè°ç¨å®ï¼å¶å®çº¿ç¨å°±å¾ç­çï¼å¦æä¸æ¸æ¥çå°±å»ççå¤çº¿ç¨çç¥è¯ï¼å°åé¢æä¹ä¼ä¸ä¸æ»ç»çã\npublic synchronized boolean add(E e) {\n    modCount++;\n    //éè¿arrayListçæºç åæç»éªï¼è¿ä¸ªæ¹æ³åºè¯¥æ¯å¨å¢å åç´ åï¼æ£æ¥å®¹éæ¯å¦å¤ç¨\n    ensureCapacityHelper(elementCount + 1);\n    elementData[elementCount++] = e;\n    return true;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nensureCapacityHelper(int)\n\n/**\n * This implements the unsynchronized semantics of ensureCapacity.\n * Synchronized methods in this class can internally call this\n * method for ensuring capacity without incurring the cost of an\n * extra synchronization.\n *\n * @see #ensureCapacity(int)\n */\n////è¿éæ³¨éè§£éï¼è¿ä¸ªæ¹æ³æ¯å¼æ­¥(ä¹å°±æ¯è½è¢«å¤ä¸ªçº¿ç¨åæ¶è®¿é®)çï¼åå æ¯ä¸ºäºè®©åæ­¥æ¹æ³é½è½è°ç¨å°è¿ä¸ªæ£æµå®¹éçæ¹æ³ï¼æ¯å¦addçåæ¶ï¼å¦ä¸ä¸ªçº¿ç¨è°ç¨äºaddçéè½½æ¹æ³ï¼é£ä¹ä¸¤ä¸ªé½éè¦åæ¶æ¥è¯¢å®¹éå¤ä¸å¤ï¼æä»¥è¿ä¸ªå°±ä¸éè¦ç¨synchronizedä¿®é¥°äºãå ä¸ºä¸ä¼åççº¿ç¨ä¸å®å¨çé®é¢\nprivate void ensureCapacityHelper(int minCapacity) {\n    // overflow-conscious code\n    if (minCapacity - elementData.length > 0)\n        //å®¹éä¸å¤ï¼å°±æ©å¢ï¼æ ¸å¿æ¹æ³\n        grow(minCapacity);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\ngrow(int)\n\n//çä¸ä¸è¿ä¸ªæ¹æ³ï¼å¶å®è·arrayListä¸æ ·ï¼å¯ä¸çä¸åå°±æ¯å¨æ©å¢æ°ç»çæ¹å¼ä¸ä¸æ ·ï¼å¦æcapacityIncrementä¸ä¸º0ï¼é£ä¹å¢é¿çé¿åº¦å°±æ¯capacityIncrementï¼å¦æä¸º0ï¼é£ä¹æ©å¢ä¸º2åçåå®¹é\n    \nprivate void grow(int minCapacity) {\n    // overflow-conscious code\n    int oldCapacity = elementData.length;\n    int newCapacity = oldCapacity + ((capacityIncrement > 0) ?\n                                     capacityIncrement : oldCapacity);\n    if (newCapacity - minCapacity < 0)\n        newCapacity = minCapacity;\n    if (newCapacity - MAX_ARRAY_SIZE > 0)\n        newCapacity = hugeCapacity(minCapacity);\n    elementData = Arrays.copyOf(elementData, newCapacity);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nåªè¦è½ççæArrayListï¼è¿ä¸ªå°±æ¯å¨æ¯ä¸ªæ¹æ³ä¸æ¯arrayListå¤äºä¸ä¸ªsynchronizedï¼å¶ä»é½ä¸ æ ·ãè¿éå°±ä¸ååæäºï¼\n\npublic synchronized E get(int index) {\n    if (index >= elementCount)\n    \tthrow new ArrayIndexOutOfBoundsException(index);\n    \n    return elementData(index);\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 3ãStack\n\nç°å¨æ¥ççVectorçå­ç±»Stackï¼å­¦è¿æ°æ®ç»æé½ç¥éï¼è¿ä¸ªå°±æ¯æ çææãé£ä¹è¯¥ç±»å°±æ¯è·æ çç¨æ³ä¸ æ ·äº\n\nclass Stack<E> extends Vector<E> {}\n\n\n1\n\n\néè¿æ¥çä»çæ¹æ³ï¼åæ¥çapiææ¡£ï¼å¾å®¹æå°±è½ç¥éä»çç¹æ§ãå°±å ä¸ªæä½ï¼åºæ ï¼å¥æ ç­ï¼æé æ¹æ³ä¹æ¯ç©ºçï¼ç¨çè¿æ¯æ°ç»ï¼ç¶ç±»ä¸­çæé ï¼è·ç¶ç±»ä¸æ ·çæ©å¢æ¹å¼ï¼å¹¶ä¸å®çæ¹æ³ä¹æ¯åæ­¥çï¼æä»¥ä¹æ¯çº¿ç¨å®å¨ã\n\n\n\n\n# 4ãæ»ç»VectoråStack\n\nãVectoræ»ç»ï¼éè¿æºç åæï¼ã\n\n 1. Vectorçº¿ç¨å®å¨æ¯å ä¸ºå®çæ¹æ³é½å äºsynchronizedå³é®å­\n 2. Vectorçæ¬è´¨æ¯ä¸ä¸ªæ°ç»ï¼ç¹ç¹è½æ¯è½å¤èªå¨æ©å¢ï¼æ©å¢çæ¹å¼è·capacityIncrementçå¼æå³\n 3. å®ä¹ä¼fail-fastï¼è¿æä¸ä¸ªfail-safeä¸¤ä¸ªçåºå«å¨ä¸é¢çlistæ»ç»ä¸­ä¼è®²å°ã\n\nãStackçæ»ç»ã\n\n 1. å¯¹æ çä¸äºæä½ï¼åè¿ååº\n 2. åºå±ä¹æ¯ç¨æ°ç»å®ç°çï¼å ä¸ºç»§æ¿äºVector\n 3. ä¹æ¯çº¿ç¨å®å¨ç',normalizedContent:'# vevtoråstack\n\nåé¢åäºä¸ç¯å³äºçæ¯linkedlistçé¤äºå®çæ°æ®ç»æç¨å¾®æä¸ç¹å¤æä¹å¤ï¼å¶ä»çé½å¾å¥½çè§£çãè¿ ä¸ç¯è¯´çå¤§å®¶å¨å¼åä¸­å¾å°å»ç¨å°ï¼æçæ¶åä¹å¯è½æ¯ä¼ç¨å°çï¼äºè§£å°±è¡ã\n\næ³¨æå¨å­¦ä¹ è¿ä¸ç¯ä¹åï¼éè¦æå¤çº¿ç¨çç¥è¯ï¼\n\n1ï¼éæºå¶ï¼å¯¹è±¡éãæ¹æ³éãç±»é\n\nå¯¹è±¡éå°±æ¯æ¹æ³éï¼å°±æ¯å¨ä¸ä¸ªç±»ä¸­çæ¹æ³ä¸å ä¸synchronizedå³é®å­ï¼è¿å°±æ¯ç»è¿ä¸ªæ¹æ³å éäºã\n\nç±»éï¼éçæ¯æ´ä¸ªç±»ï¼å½æå¤ä¸ªçº¿ç¨æ¥å£°æè¿ä¸ªç±»çå¯¹è±¡çæ¶åå°ä¼è¢«é»å¡ï¼ç´å°æ¥æè¿ä¸ªç±»éçå¯¹è±¡è¢«éæ¯æèä¸»å¨éæ¾äºç±»éãè¿ä¸ªæ¶åå¨è¢«é»å¡ä½ççº¿ç¨è¢«æéåºä¸ä¸ªå æè¯¥ç±»éï¼å£°æè¯¥ç±»çå¯¹è±¡ã å¶ä»çº¿ç¨ç»§ç»­è¢«é»å¡ä½ãä¾å¦ï¼å¨ç±»aä¸æå³é®å­synchronizedï¼é£ä¹å°±æ¯ç»ç±»aå äºç±»éï¼çº¿ç¨1ç¬¬ä¸ ä¸ªå£°ææ­¤ç±»çå®ä¾ï¼åçº¿ç¨1æ¿å°äºè¯¥ç±»éï¼çº¿ç¨2å¨æ³å£°æç±»açå¯¹è±¡ï¼å°±ä¼è¢«é»å¡ã\n\n2ï¼å¨æ¬æä¸­ï¼ä½¿ç¨çæ¯æ¹æ³éã\n\n3ï¼æ¯ä¸ªå¯¹è±¡åªæä¸æéï¼æçº¿ç¨aï¼çº¿ç¨bï¼è¿æä¸ä¸ªéåcç±»ï¼çº¿ç¨aæä½cæ¿å°äºéåä¸­çéï¼å¨éåcä¸­æç¨synchronizedå³é®å­ä¿®é¥°çï¼ï¼å¹¶ä¸è¿æ²¡ææ§è¡å®ï¼é£ä¹çº¿ç¨aå°±ä¸ä¼éæ¾éï¼å½è½®å°çº¿ç¨bå»æä½éåcä¸­çæ¹æ³æ¶ ï¼åç°éè¢«äººæ¿èµ°äºï¼æä»¥çº¿ç¨båªè½ç­å¾é£ä¸ªæ¿å°éççº¿ç¨ä½¿ç¨å®ï¼ç¶åæè½æ¿å°éè¿è¡ç¸åºçæä½ã\n\n\n# 1ãvectoræ¦è¿°\n\n\n\néè¿apiä¸­å¯ä»¥ç¥éï¼\n\n 1. vectoræ¯ä¸ä¸ªå¯ååé¿åº¦çæ°ç»\n 2. vectorå¢å é¿åº¦éè¿çæ¯capacityåcapacityincrementè¿ä¸¤ä¸ªåéï¼ç®åè¿ä¸ç¥éå¦ä½å®ç°èªå¨ æ©å¢çï¼ç­ä¼æºç åæ\n 3. vectorä¹å¯ä»¥è·å¾iteratorålistiteratorè¿ä¸¤ä¸ªè¿­ä»£å¨ï¼å¹¶ä¸ä»ä»¬åççæ¯fail-fastï¼èä¸æ¯failsafeï¼æ³¨æè¿éï¼ä¸è¦è§å¾è¿ä¸ªvectoræ¯çº¿ç¨å®å¨å°±æéäºï¼å·ä½åæå¨ä¸é¢ä¼è¯´\n 4. vectoræ¯ä¸ä¸ªçº¿ç¨å®å¨çç±»ï¼å¦æä½¿ç¨éè¦çº¿ç¨å®å¨å°±ä½¿ç¨vectorï¼å¦æä¸éè¦ï¼å°±ä½¿ç¨arraylist\n 5. vectoråarraylistå¾ç±»ä¼¼ï¼å°±å°è®¸çä¸ä¸æ ·ï¼ä»å®ç»§æ¿çç±»åå®ç°çæ¥å£æ¥çï¼è·arraylistä¸æ¨¡ä¸ æ ·ã\n\næ³¨æï¼java1.5æ¨åºçjava.uitl.concurrentåï¼ä¸ºäºè§£å³å¤æçå¹¶åé®é¢çãæä»¥å¼åä¸­ï¼ä¸å»ºè®®ç¨vectorï¼åå å¨æç« çç»æä¼æè§£éï¼éè¦çº¿ç¨å®å¨çéåç±»ç´æ¥ç¨java.util.concurrentåä¸çç±»ã\n\n\n# 2ãvectoræºç åæ\n\npublic class vector<e>\n    extends abstractlist<e>\n    implements list<e>, randomaccess, cloneable, java.io.serializable\n    {\n    \n\t}\n\n\n1\n2\n3\n4\n5\n6\n\n\næä»¬åç°vectorçç»§æ¿å³ç³»åå±æ¬¡ç»æåarraylistä¸­çä¸æ¨¡ä¸æ ·ï¼å¿è®°çå¯ä»¥å»arraylistæ é¢æ¥çï¼\n\n# æé æ¹æ³\n\nä¸å±æåä¸ªæé æ¹æ³ã\n\næé æ¹æ³ä½ç¨ï¼\n\n * åå§åå­å¨åç´ çå®¹å¨ï¼ä¹å°±æ¯æ°ç»ï¼elementdataï¼\n * åå§åcapacityincrementçå¤§å°ï¼é»è®¤æ¯0ï¼è¿ä¸ªçä½ç¨å°±æ¯æ©å±æ°ç»çæ¶åï¼å¢é¿çå¤§å°ï¼ä¸º0 åæ¯æ¬¡æ©å±2å\n\nvector()ï¼ç©ºæé \n\n/**\n * constructs an empty vector so that its internal data array\n * has size {@code 10} and its standard capacity increment is\n * zero.\n */\n///çæ³¨éï¼è¿ä¸ªæ¯ä¸ä¸ªç©ºçvectoræé æ¹æ³ï¼æä»¥è®©ä»ä½¿ç¨åç½®çæ°ç»ï¼è¿éè¿ä¸ç¥éä»ä¹æ¯åç½®çæ°ç»ï¼çå®è°ç¨äºèªèº«å¦å¤ä¸ä¸ªå¸¦ä¸ä¸ªåæ°çæé å¨\npublic vector() {\n    this(10);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nvector(int)\n\n/**\n * constructs an empty vector with the specified initial capacity and\n * with its capacity increment equal to zero.\n *\n * @param   initialcapacity   the initial capacity of the vector\n * @throws illegalargumentexception if the specified initial capacity\n *         is negative\n */\n//æ³¨éè¯´ï¼ç»ç©ºçcectoræé å¨ç¨åå¸¦æä¸ä¸ªç¹å®åå§åå®¹éç¨çï¼å¹¶ä¸åè°ç¨äºå¦å¤ä¸ä¸ªå¸¦ä¸¤ä¸ªåæ°çæé å¨ï¼å¹¶ä¸ç»å®¹éå¢é¿å¼(capacityincrement=0)ä¸º0ï¼æ¥çvectorä¸­çåéå¯ä»¥åç°capacityincrementæ¯ä¸ä¸ªæååé\n\npublic vector(int initialcapacity) {\n    this(initialcapacity, 0);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nector(intï¼int)\n\n/**\n * constructs an empty vector with the specified initial capacity and\n * capacity increment.\n *\n * @param   initialcapacity     the initial capacity of the vector\n * @param   capacityincrement   the amount by which the capacity is\n *                              increased when the vector overflows\n * @throws illegalargumentexception if the specified initial capacity\n *         is negative\n */\n//æå»ºä¸ä¸ªæç¹å®çåå§åå®¹éåå®¹éå¢é¿å¼çç©ºçvectorï¼\npublic vector(int initialcapacity, int capacityincrement) {\n    super();//è°ç¨ç¶ç±»çæé ï¼æ¯ä¸ªç©ºæé \n    if (initialcapacity < 0)//å°äº0ï¼ä¼æ¥éæ³åæ°å¼å¸¸ï¼ä¸åæ³çå®¹é\n        throw new illegalargumentexception("illegal capacity: "+\n                                           initialcapacity);\n    this.elementdata = new object[initialcapacity];//elementdataæ¯ä¸ä¸ªæååéæ°ç»ï¼åå§åå®ï¼å¹¶ç»å®åå§åé¿åº¦ãé»è®¤å°±æ¯10ï¼é¤éèªå·±ç»å¼ã\n    this.capacityincrement = capacityincrement;//capacityincrementçæææ¯å¦æè¦æ©å¢æ°ç»ï¼æ¯æ¬¡å¢é¿è¯¥å¼ï¼å¦æè¯¥å¼ä¸º0ï¼é£æ°ç»å°±åä¸ºä¸¤åçåé¿åº¦ï¼è¿ä¸ªä¹åä¼åæå°\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nvector(collection c)\n\n/**\n * constructs a vector containing the elements of the specified\n * collection, in the order they are returned by the collection\'s\n * iterator.\n *\n * @param c the collection whose elements are to be placed into this\n *       vector\n * @throws nullpointerexception if the specified collection is null\n * @since   1.2\n */\n//å°éåcåä¸ºvectorï¼è¿åvectorçè¿­ä»£å¨ã\npublic vector(collection<? extends e> c) {\n    elementdata = c.toarray();\n    elementcount = elementdata.length;\n    // c.toarray might (incorrectly) not return object[] (see 6260652)\n    if (elementdata.getclass() != object[].class)\n        elementdata = arrays.copyof(elementdata, elementcount, object[].class);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n# æ ¸å¿æ¹æ³\n\nadd()æ¹æ³\n\n/**\n * appends the specified element to the end of this vector.\n *\n * @param e element to be appended to this vector\n * @return {@code true} (as specified by {@link collection#add})\n * @since 1.2\n */\n\n//å°±æ¯å¨vectorä¸­çæ«å°¾è¿½å åç´ ãä½æ¯çæ¹æ³ï¼synchronizedï¼æç½äºä¸ºä»ä¹vectoræ¯çº¿ç¨å®å¨çï¼å ä¸ºå¨æ¹æ³åé¢å äºsynchronizedå³é®å­ï¼ç»è¯¥æ¹æ³å éäºï¼åªä¸ªçº¿ç¨åè°ç¨å®ï¼å¶å®çº¿ç¨å°±å¾ç­çï¼å¦æä¸æ¸æ¥çå°±å»ççå¤çº¿ç¨çç¥è¯ï¼å°åé¢æä¹ä¼ä¸ä¸æ»ç»çã\npublic synchronized boolean add(e e) {\n    modcount++;\n    //éè¿arraylistçæºç åæç»éªï¼è¿ä¸ªæ¹æ³åºè¯¥æ¯å¨å¢å åç´ åï¼æ£æ¥å®¹éæ¯å¦å¤ç¨\n    ensurecapacityhelper(elementcount + 1);\n    elementdata[elementcount++] = e;\n    return true;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nensurecapacityhelper(int)\n\n/**\n * this implements the unsynchronized semantics of ensurecapacity.\n * synchronized methods in this class can internally call this\n * method for ensuring capacity without incurring the cost of an\n * extra synchronization.\n *\n * @see #ensurecapacity(int)\n */\n////è¿éæ³¨éè§£éï¼è¿ä¸ªæ¹æ³æ¯å¼æ­¥(ä¹å°±æ¯è½è¢«å¤ä¸ªçº¿ç¨åæ¶è®¿é®)çï¼åå æ¯ä¸ºäºè®©åæ­¥æ¹æ³é½è½è°ç¨å°è¿ä¸ªæ£æµå®¹éçæ¹æ³ï¼æ¯å¦addçåæ¶ï¼å¦ä¸ä¸ªçº¿ç¨è°ç¨äºaddçéè½½æ¹æ³ï¼é£ä¹ä¸¤ä¸ªé½éè¦åæ¶æ¥è¯¢å®¹éå¤ä¸å¤ï¼æä»¥è¿ä¸ªå°±ä¸éè¦ç¨synchronizedä¿®é¥°äºãå ä¸ºä¸ä¼åççº¿ç¨ä¸å®å¨çé®é¢\nprivate void ensurecapacityhelper(int mincapacity) {\n    // overflow-conscious code\n    if (mincapacity - elementdata.length > 0)\n        //å®¹éä¸å¤ï¼å°±æ©å¢ï¼æ ¸å¿æ¹æ³\n        grow(mincapacity);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\ngrow(int)\n\n//çä¸ä¸è¿ä¸ªæ¹æ³ï¼å¶å®è·arraylistä¸æ ·ï¼å¯ä¸çä¸åå°±æ¯å¨æ©å¢æ°ç»çæ¹å¼ä¸ä¸æ ·ï¼å¦æcapacityincrementä¸ä¸º0ï¼é£ä¹å¢é¿çé¿åº¦å°±æ¯capacityincrementï¼å¦æä¸º0ï¼é£ä¹æ©å¢ä¸º2åçåå®¹é\n    \nprivate void grow(int mincapacity) {\n    // overflow-conscious code\n    int oldcapacity = elementdata.length;\n    int newcapacity = oldcapacity + ((capacityincrement > 0) ?\n                                     capacityincrement : oldcapacity);\n    if (newcapacity - mincapacity < 0)\n        newcapacity = mincapacity;\n    if (newcapacity - max_array_size > 0)\n        newcapacity = hugecapacity(mincapacity);\n    elementdata = arrays.copyof(elementdata, newcapacity);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nåªè¦è½ççæarraylistï¼è¿ä¸ªå°±æ¯å¨æ¯ä¸ªæ¹æ³ä¸æ¯arraylistå¤äºä¸ä¸ªsynchronizedï¼å¶ä»é½ä¸ æ ·ãè¿éå°±ä¸ååæäºï¼\n\npublic synchronized e get(int index) {\n    if (index >= elementcount)\n    \tthrow new arrayindexoutofboundsexception(index);\n    \n    return elementdata(index);\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 3ãstack\n\nç°å¨æ¥ççvectorçå­ç±»stackï¼å­¦è¿æ°æ®ç»æé½ç¥éï¼è¿ä¸ªå°±æ¯æ çææãé£ä¹è¯¥ç±»å°±æ¯è·æ çç¨æ³ä¸ æ ·äº\n\nclass stack<e> extends vector<e> {}\n\n\n1\n\n\néè¿æ¥çä»çæ¹æ³ï¼åæ¥çapiææ¡£ï¼å¾å®¹æå°±è½ç¥éä»çç¹æ§ãå°±å ä¸ªæä½ï¼åºæ ï¼å¥æ ç­ï¼æé æ¹æ³ä¹æ¯ç©ºçï¼ç¨çè¿æ¯æ°ç»ï¼ç¶ç±»ä¸­çæé ï¼è·ç¶ç±»ä¸æ ·çæ©å¢æ¹å¼ï¼å¹¶ä¸å®çæ¹æ³ä¹æ¯åæ­¥çï¼æä»¥ä¹æ¯çº¿ç¨å®å¨ã\n\n\n\n\n# 4ãæ»ç»vectoråstack\n\nãvectoræ»ç»ï¼éè¿æºç åæï¼ã\n\n 1. vectorçº¿ç¨å®å¨æ¯å ä¸ºå®çæ¹æ³é½å äºsynchronizedå³é®å­\n 2. vectorçæ¬è´¨æ¯ä¸ä¸ªæ°ç»ï¼ç¹ç¹è½æ¯è½å¤èªå¨æ©å¢ï¼æ©å¢çæ¹å¼è·capacityincrementçå¼æå³\n 3. å®ä¹ä¼fail-fastï¼è¿æä¸ä¸ªfail-safeä¸¤ä¸ªçåºå«å¨ä¸é¢çlistæ»ç»ä¸­ä¼è®²å°ã\n\nãstackçæ»ç»ã\n\n 1. å¯¹æ çä¸äºæä½ï¼åè¿ååº\n 2. åºå±ä¹æ¯ç¨æ°ç»å®ç°çï¼å ä¸ºç»§æ¿äºvector\n 3. ä¹æ¯çº¿ç¨å®å¨ç',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"HashMap",frontmatter:{title:"HashMap",date:"2021-04-16T16:19:25.000Z",permalink:"/java/se/collection/HashMap/",categories:["java","java-se","éåæ¡æ¶"]},regularPath:"/01.Java/05.Java-%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/06.HashMap.html",relativePath:"01.Java/05.Java-éåæ¡æ¶/06.HashMap.md",key:"v-ba15898e",path:"/java/se/collection/HashMap/",headers:[{level:2,title:"HashMap",slug:"hashmap",normalizedTitle:"hashmap",charIndex:2},{level:3,title:"HashMapå¼å¥",slug:"hashmapå¼å¥",normalizedTitle:"hashmapå¼å¥",charIndex:14},{level:3,title:"HashMaæ°æ®ç»æ",slug:"hashmaæ°æ®ç»æ",normalizedTitle:"hashmaæ°æ®ç»æ",charIndex:1011},{level:4,title:"HashMapå¨JDK1.8ä»¥åæ°æ®ç»æåå­å¨åç",slug:"hashmapå¨jdk1-8ä»¥åæ°æ®ç»æåå­å¨åç",normalizedTitle:"hashmapå¨jdk1.8ä»¥åæ°æ®ç»æåå­å¨åç",charIndex:2023},{level:4,title:"JDK1.8åHashMapçæ°æ®ç»æ",slug:"jdk1-8åhashmapçæ°æ®ç»æ",normalizedTitle:"jdk1.8åhashmapçæ°æ®ç»æ",charIndex:2826},{level:3,title:"HashMapçå±æ§",slug:"hashmapçå±æ§",normalizedTitle:"hashmapçå±æ§",charIndex:2922},{level:3,title:"HashMapçæºç åæ",slug:"hashmapçæºç åæ",normalizedTitle:"hashmapçæºç åæ",charIndex:4473},{level:4,title:"1ãHashMapçå±æ¬¡å³ç³»ä¸ç»§æ¿ç»æ",slug:"_1ãhashmapçå±æ¬¡å³ç³»ä¸ç»§æ¿ç»æ",normalizedTitle:"1ãhashmapçå±æ¬¡å³ç³»ä¸ç»§æ¿ç»æ",charIndex:4489},{level:4,title:"2ãHashMapç±»çå±æ§",slug:"_2ãhashmapç±»çå±æ§",normalizedTitle:"2ãhashmapç±»çå±æ§",charIndex:4882},{level:4,title:"3ãHashMapçæé æ¹æ³",slug:"_3ãhashmapçæé æ¹æ³",normalizedTitle:"3ãhashmapçæé æ¹æ³",charIndex:5915},{level:4,title:"4ãHashMapå¸¸ç¨æ¹æ³",slug:"_4ãhashmapå¸¸ç¨æ¹æ³",normalizedTitle:"4ãhashmapå¸¸ç¨æ¹æ³",charIndex:8679},{level:4,title:"5ãæ»ç»",slug:"_5ãæ»ç»",normalizedTitle:"5ãæ»ç»",charIndex:16219}],headersStr:"HashMap HashMapå¼å¥ HashMaæ°æ®ç»æ HashMapå¨JDK1.8ä»¥åæ°æ®ç»æåå­å¨åç JDK1.8åHashMapçæ°æ®ç»æ HashMapçå±æ§ HashMapçæºç åæ 1ãHashMapçå±æ¬¡å³ç³»ä¸ç»§æ¿ç»æ 2ãHashMapç±»çå±æ§ 3ãHashMapçæé æ¹æ³ 4ãHashMapå¸¸ç¨æ¹æ³ 5ãæ»ç»",content:'# HashMap\n\n\n# HashMapå¼å¥\n\né®é¢ï¼å»ºç«å­¦çå­¦å·åå­¦çå§åé´çé®å¼æ å°ï¼å¹¶éè¿keyå¯¹valueè¿è¡æä½ï¼åºè¯¥å¦ä½å®ç°æ°æ®çå­å¨åæä½å¢ï¼\n\nMapæ¥å£ä¸é¨å¤çé®å¼æ å°æ°æ®çå­å¨ï¼å¯ä»¥æ ¹æ®é®å®ç°å¯¹å¼çæä½ã æå¸¸ç¨çå®ç°ç±»æ¯HashMapã\n\npublic static void main(String[] args) {\n    Map<String,String> map = new HashMap<String,String>();\n    map.put("004","ææ¸ç§");\n    map.put("001","æç½");\n    map.put("003","çç¾²ä¹");\n    map.put("002","æç«");\n\n    System.out.println(map.get("003"));\n\n    //è·åæækey å¼\n    Set<String> keySet = map.keySet();\n    for (String s : keySet){\n        String s1 = map.get(s);\n        System.out.println(s+"    "+s1);\n    }\n\n    //è·åææå¼\n    Collection<String> values = map.values();\n    for (String s : values){\n        System.out.println(s);\n    }\n    \n    //entrySet() è·åå¼\n    Set<Map.Entry<String, String>> entrySet = map.entrySet();\n    for (Map.Entry<String, String> m : entrySet){\n        String key = m.getKey();\n        String value = m.getValue();\n        System.out.println(key+","+value);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n\n# HashMaæ°æ®ç»æ\n\nHashMapæ¯åºäºåå¸è¡¨çMapæ¥å£å®ç°çï¼å®å­å¨çæ¯åå®¹æ¯é®å¼å¯¹æ å°ãæ­¤ç±»ä¸ä¿è¯æ  å°çé¡ºåºï¼åå®åå¸å½æ°å°åç´ éå½çåå¸å¨åæ¡¶ä¹é´ï¼å¯ä¸ºåºæ¬æä½(getåput)æä¾ç¨³å®çæ§è½ã\n\nå¨APIä¸­ç»åºäºç¸åºçå®ä¹ï¼\n\nåå°äºææ¿å¨äººå¿çæºç åæç¯è**ð**\n\n\n\nç¬¬ä¸æ®µï¼\n\n\nåå¸è¡¨åºäºmapæ¥å£çå®ç°ï¼è¿ä¸ªå®ç°æä¾äºmapææçæä½ï¼å¹¶ä¸æä¾äºkeyåvalueï¼å¯ä»¥ä¸º nullï¼(HashMapåHashTableå¤§è´ä¸æ¯ä¸æ ·çï¼é¤äºhashmapæ¯å¼æ­¥çï¼ååè®¸keyåvalueä¸º null)\n\nè¿ä¸ªç±»ä¸ç¡®å®mapä¸­åç´ çä½ç½®ï¼ç¹å«è¦æçæ¯ï¼è¿ä¸ªç±»ä¹ä¸ç¡®å®åç´ çä½ç½®éçæ¶é´ä¼ä¸ä¼ä¿æä¸åã\n\nç¬¬äºæ®µï¼\n\n\nåè®¾åå¸å½æ°å°åç´ åéçåå°äºæ¯ä¸ªæ¡¶ï¼å¶å®å°±æ¯æçæ°ç»ä¸­ä½ç½®ä¸çé¾è¡¨ï¼ä¸­ï¼åè¿ä¸ªå®ç°ä¸ºåºæ¬çæä½(getãput)æä¾äºç¨³å®çæ§è½ï¼è¿­ä»£è¿ä¸ªéåè§å¾éè¦çæ¶é´è·hashMapå®ä¾ï¼key-valueæ å°çæ°éï¼çå®¹éï¼å¨æ¡¶ä¸­ï¼ææ­£æ¯ï¼å æ­¤ï¼å¦æè¿­ä»£çæ§è½å¾éè¦çè¯ï¼å°±ä¸è¦å°åå§å®¹éè®¾ç½®çå¤ªé«æè loadfactorè®¾ç½®çå¤ªä½ï¼ãè¿éçæ¡¶ï¼ç¸å½äºå¨æ°ç»ä¸­æ¯ä¸ªä½ç½®ä¸æ¾ä¸ä¸ªæ¡¶è£åç´ ã\n\nç¬¬ä¸æ®µï¼\n\n\nHashMapçå®ä¾æä¸¤ä¸ªåæ°å½±åæ§è½ï¼åå§åå®¹éï¼initialCapacityï¼åloadFactorå è½½å å­ï¼ å¨åå¸è¡¨ä¸­è¿ä¸ªå®¹éæ¯æ¡¶çæ°éãä¹å°±æ¯æ°ç»çé¿åº¦ãï¼ä¸ä¸ªåå§åå®¹éä»ä»æ¯å¨åå¸è¡¨è¢«åå»ºæ¶å®¹éï¼ å¨å®¹éèªå¨å¢é¿ä¹åå è½½å å­æ¯è¡¡éåå¸è¡¨è¢«åè®¸è¾¾å°çå¤å°çãå½entryçæ°éå¨åå¸è¡¨ä¸­è¶è¿äºå è½½ å å­ä¹ä»¥å½åçå®¹éï¼é£ä¹åå¸è¡¨è¢«ä¿®æ¹ï¼åé¨çæ°æ®ç»æä¼è¢«éæ°å»ºç«ï¼æä»¥åå¸è¡¨æå¤§çº¦ä¸¤åçæ¡¶çæ°é.\n\nç¬¬åæ®µï¼\n\n\néå¸¸æ¥è®²ï¼é»è®¤çå è½½å å­(0.75)è½å¤å¨æ¶é´åç©ºé´ä¸æä¾ä¸ä¸ªå¥½çå¹³è¡¡ï¼æ´é«çå¼ä¼åå°ç©ºé´ä¸çå¼æ¯ä½æ¯ä¼å¢å æ¥è¯¢è±è´¹çæ¶é´ï¼ä½ç°å¨HashMapç±»ä¸­getãputæ¹æ³ä¸ï¼ï¼å½è®¾ç½®åå§åå®¹éæ¶ï¼åºè¯¥èèå°mapä¸­ä¼å­æ¾entryçæ°éåå è½½å å­ï¼ä»¥ä¾¿æå°æ¬¡æ°çè¿è¡rehashæä½ï¼å¦æåå§å®¹éå¤§äºæå¤§æ¡ç®æ°é¤ä»¥å è½½å å­ï¼åä¸ä¼åç rehash æä½ã\n\nç¬¬äºæ®µï¼\n\n\nå¦æå¾å¤æ å°å³ç³»è¦å­å¨å¨ HashMap å®ä¾ä¸­ï¼åç¸å¯¹äºæéæ§è¡èªå¨ç rehash æä½ä»¥å¢å¤§è¡¨ç å®¹éæ¥è¯´ï¼ä½¿ç¨è¶³å¤å¤§çåå§å®¹éåå»ºå®å°ä½¿å¾æ å°å³ç³»è½æ´ææå°å­å¨ã\n\n# HashMapå¨JDK1.8ä»¥åæ°æ®ç»æåå­å¨åç\n\nãé¾è¡¨æ£åã\n\né¦åæä»¬è¦ç¥éä»ä¹æ¯é¾è¡¨æ£åï¼éè¿æ°ç»åé¾è¡¨ç»åå¨ä¸èµ·ä½¿ç¨ï¼å°±å«åé¾è¡¨æ£åãè¿å¶å®å°±æ¯ hashmapå­å¨çåçå¾ã\n\n\n\nãHashMapçæ°æ®ç»æåå­å¨åçã\n\nHashMapçæ°æ®ç»æå°±æ¯ç¨çé¾è¡¨æ£åãé£HashMapåºå±æ¯æä¹æ ·ä½¿ç¨è¿ä¸ªæ°æ®ç»æè¿è¡æ°æ®å­åçå¢ï¼åæä¸¤ä¸ªé¨åï¼\n\nç¬¬ä¸æ­¥ï¼HashMapåé¨æä¸ä¸ªentryçåé¨ç±»ï¼å¶ä¸­æåä¸ªå±æ§ï¼æä»¬è¦å­å¨ä¸ä¸ªå¼ï¼åéè¦ä¸ä¸ªkey åä¸ä¸ªvalueï¼å­å°mapä¸­å°±ä¼åå°keyåvalueä¿å­å¨è¿ä¸ªEntryç±»åå»ºçå¯¹è±¡ä¸­ã\n\nstatic class Entry<K,V> implements Map.Entry<K,V> {\n    final K key; //å°±æ¯æä»¬è¯´çmapçkey\n    V value; //valueå¼ï¼è¿ä¸¤ä¸ªé½ä¸éç\n    Entry<K,V> next;//æåä¸ä¸ä¸ªentryå¯¹è±¡\n    int hash;//éè¿keyç®è¿æ¥çä½ hashcodeå¼ã\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nEntryçç©çæ¨¡åå¾ï¼\n\n\n\nç¬¬äºæ­¥ï¼æé å¥½äºentryå¯¹è±¡ï¼ç¶åå°è¯¥å¯¹è±¡æ¾å¥æ°ç»ä¸­ï¼å¦ä½å­æ¾å°±æ¯è¿hashMapçç²¾åæå¨äºã\n\nå¤§æ¦çä¸ä¸ªå­æ¾è¿ç¨æ¯ï¼éè¿entryå¯¹è±¡ä¸­çhashå¼æ¥ç¡®å®å°è¯¥å¯¹è±¡å­æ¾å¨æ°ç»ä¸­çåªä¸ªä½ç½®ä¸ï¼å¦æå¨è¿ä¸ªä½ç½®ä¸è¿æå¶ä»åç´ ï¼åéè¿é¾è¡¨æ¥å­å¨è¿ä¸ªåç´ ã\n\n\n\nãHashå­æ¾åç´ çè¿ç¨ã\n\néè¿keyãvalueå°è£æä¸ä¸ªentryå¯¹è±¡ï¼ç¶åéè¿keyçå¼æ¥è®¡ç®è¯¥entryçhashå¼ï¼éè¿entryçhashå¼åæ°ç»çé¿åº¦lengthæ¥è®¡ç®åºentryæ¾å¨æ°ç»ä¸­çåªä¸ªä½ç½®ä¸é¢ï¼\n\næ¯æ¬¡å­æ¾é½æ¯å°entryæ¾å¨ç¬¬ä¸ä¸ªä½ç½®ãå¨è¿ä¸ªè¿ç¨ä¸­ï¼å°±æ¯éè¿hashå¼æ¥ç¡®å®å°è¯¥å¯¹è±¡å­æ¾å¨æ°ç»ä¸­ çåªä¸ªä½ç½®ä¸ã\n\n# JDK1.8åHashMapçæ°æ®ç»æ\n\n\n\nä¸å¾å¾å½¢è±¡çå±ç¤ºäºHashMapçæ°æ®ç»æï¼æ°ç»+é¾è¡¨+çº¢é»æ ï¼ï¼æ¡¶ä¸­çç»æå¯è½æ¯é¾è¡¨ï¼ä¹å¯è½æ¯çº¢é»æ ï¼çº¢é»æ çå¼å¥æ¯ä¸ºäºæé«æçã\n\n\n\n\n# HashMapçå±æ§\n\nHashMapçå®ä¾æä¸¤ä¸ªåæ°å½±åå¶æ§è½ã\n\nåå§å®¹éï¼åå¸è¡¨ä¸­æ¡¶çæ°é\n\nå è½½å å­ï¼åå¸è¡¨å¨å¶å®¹éèªå¨å¢å ä¹åå¯ä»¥è¾¾å°å¤æ»¡ï¼çä¸ç§å°ºåº¦\n\nå½åå¸è¡¨ä¸­æ¡ç®æ°è¶åºäºå½åå®¹é*å è½½å å­(å¶å®å°±æ¯HashMapçå®éå®¹é)æ¶ï¼åå¯¹è¯¥åå¸è¡¨è¿è¡ rehashæä½ï¼å°åå¸è¡¨æ©åè³ä¸¤åçæ¡¶æ°ã\n\nJavaä¸­é»è®¤åå§å®¹éä¸º16ï¼å è½½å å­ä¸º0.75ã\n\nstatic final int DEFAULT_INITIAL_CAPACITY = 1 << 4; // aka 16\nstatic final float DEFAULT_LOAD_FACTOR = 0.75f;\n\n\n1\n2\n\n\nãloadFactorå è½½å å­ã\n\nå®ä¹ï¼loadFactorè¯ä¸ºè£è½½å å­ãè£è½½å å­ç¨æ¥è¡¡éHashMapæ»¡çç¨åº¦ãloadFactorçé»è®¤å¼ä¸º 0.75fãè®¡ç®HashMapçå®æ¶è£è½½å å­çæ¹æ³ä¸ºï¼size/capacityï¼èä¸æ¯å ç¨æ¡¶çæ°éå»é¤ä»¥capacityã\n\nloadFactorå è½½å å­æ¯æ§å¶æ°ç»å­æ¾æ°æ®ççå¯ç¨åº¦ï¼loadFactorè¶è¶è¿äº1ï¼é£ä¹æ°ç»ä¸­å­æ¾çæ°æ® (entry)ä¹å°±è¶å¤ï¼ä¹å°±è¶å¯ï¼ä¹å°±æ¯ä¼è®©é¾è¡¨çé¿åº¦å¢å ï¼loadFactorè¶å°ï¼ä¹å°±æ¯è¶è¿äº0ï¼é£ä¹æ°ç»ä¸­å­æ¾çæ°æ®ä¹å°±è¶ç¨ï¼ä¹å°±æ¯å¯è½æ°ç»ä¸­æ¯ä¸ªä½ç½®ä¸å°±æ¾ä¸ä¸ªåç´ ã\n\né£æäººè¯´ï¼å°±æloadFactoråä¸º1æå¥½åï¼å­çæ°æ®å¾å¤ï¼ä½æ¯è¿æ ·ä¼æä¸ä¸ªé®é¢ï¼å°±æ¯æä»¬å¨éè¿keyæ¿å°æä»¬çvalueæ¶ï¼æ¯åéè¿keyçhashcodeå¼ï¼æ¾å°å¯¹åºæ°ç»ä¸­çä½ç½®ï¼å¦æè¯¥ä½ç½®ä¸­æå¾å¤åç´ ï¼åéè¦éè¿equalsæ¥ä¾æ¬¡æ¯è¾é¾è¡¨ä¸­çåç´ ï¼æ¿å°æä»¬çvalueå¼ï¼è¿æ ·è±è´¹çæ§è½å°±å¾é«ï¼å¦æè½è®©æ°ç»ä¸çæ¯ä¸ªä½ç½®å°½éåªæä¸ä¸ªåç´ æå¥½ï¼æä»¬å°±è½ç´æ¥å¾å°valueå¼äºï¼æä»¥æäººåä¼è¯´ï¼é£æloadFactoråå¾å¾å°ä¸å°±å¥½äºï¼ä½æ¯å¦æåå¾å¤ªå°ï¼å¨æ°ç»ä¸­çä½ç½®å°±ä¼å¤ªç¨ï¼ä¹å°±æ¯åæ£çå¤ªå¼ï¼æµªè´¹å¾å¤ç©ºé´ï¼è¿æ ·ä¹ä¸å¥½ï¼æä»¥å¨hashMap ä¸­loadFactorçåå§å¼å°±æ¯0.75ï¼ä¸è¬æåµä¸ä¸éè¦æ´æ¹å®ã\n\nstatic final float DEFAULT_LOAD_FACTOR = 0.75f;\n\n\n1\n\n\nãæ¡¶ã\n\næ ¹æ®åé¢ç»çHashMapå­å¨çæ°æ®ç»æå¾ï¼ä½ è¿æ ·æ³ï¼æ°ç»ä¸­æ¯ä¸ä¸ªä½ç½®ä¸é½æ¾æä¸ä¸ªæ¡¶ï¼æ¯ä¸ªæ¡¶é å°±æ¯è£ä¸ä¸ªé¾è¡¨ï¼é¾è¡¨ä¸­å¯ä»¥æå¾å¤ä¸ªåç´ (entry)ï¼è¿å°±æ¯æ¡¶çææãä¹å°±ç¸å½äºæåç´ é½æ¾å¨æ¡¶ä¸­ã\n\nãcapacityã\n\ncapacityè¯ä¸ºå®¹éä»£è¡¨çæ°ç»çå®¹éï¼ä¹å°±æ¯æ°ç»çé¿åº¦ï¼åæ¶ä¹æ¯HashMapä¸­æ¡¶çä¸ªæ°ãé»è®¤å¼æ¯ 16ã\n\nä¸è¬ç¬¬ä¸æ¬¡æ©å®¹æ¶ä¼æ©å®¹å°64ï¼ä¹åå¥½åæ¯2åãæ»ä¹ï¼å®¹éé½æ¯2çå¹ã\n\nstatic final int DEFAULT_INITIAL_CAPACITY = 1 << 4; // aka 16\n\n\n1\n\n\nãsizeçå«ä¹ã\n\nsizeå°±æ¯å¨è¯¥HashMapçå®ä¾ä¸­å®éå­å¨çåç´ çä¸ªæ°\n\nãthresholdçä½ç¨ã\n\nint threshold;\n\n\n1\n\n\nthreshold = capacity * loadFactorï¼å½Size>=thresholdçæ¶åï¼é£ä¹å°±è¦èèå¯¹æ°ç»çæ©å¢äºï¼ä¹å°±æ¯è¯´ï¼è¿ä¸ªçææå°±æ¯è¡¡éæ°ç»æ¯å¦éè¦æ©å¢çä¸ä¸ªæ åã\n\næ³¨æè¿éè¯´çæ¯èèï¼å ä¸ºå®éä¸è¦æ©å¢æ°ç»ï¼é¤äºè¿ä¸ªsize>=thresholdæ¡ä»¶å¤ï¼è¿éè¦å¦å¤ä¸ä¸ªæ¡ ä»¶ã\n\nä»ä¹æ¶åä¼æ©å¢æ°ç»çå¤§å°ï¼å¨putä¸ä¸ªåç´ æ¶åsize>=thresholdå¹¶ä¸è¿è¦å¨å¯¹åºæ°ç»ä½ç½®ä¸æåç´ ï¼ è¿æè½æ©å¢æ°ç»ã\n\næä»¬éè¿ä¸å¼ HashMapçæ°æ®ç»æå¾æ¥åæï¼\n\n\n\n\n# HashMapçæºç åæ\n\n# 1ãHashMapçå±æ¬¡å³ç³»ä¸ç»§æ¿ç»æ\n\nãHashMapç»§æ¿ç»æã\n\n\n\nä¸é¢å°±ç»§æ¿äºä¸ä¸ªabstractMapï¼ä¹å°±æ¯ç¨æ¥åè½»å®ç°Mapæ¥å£çç¼åè´æã\n\nãå®ç°æ¥å£ã\n\npublic class HashMap<K,V> extends AbstractMap<K,V>\nimplements Map<K,V>, Cloneable, Serializable {\n    \n}\n\n\n1\n2\n3\n4\n\n\nMap<K,V>ï¼å¨AbstractMapæ½è±¡ç±»ä¸­å·²ç»å®ç°è¿çæ¥å£ï¼è¿éåå®ç°ï¼å®éä¸æ¯å¤ä½çãä½æ¯ä¸ªéåé½æè¿æ ·çéè¯¯ï¼ä¹æ²¡è¿å¤§å½±å\n\nCloneableï¼è½å¤ä½¿ç¨Clone()æ¹æ³ï¼å¨HashMapä¸­ï¼å®ç°çæ¯æµå±æ¬¡æ·è´ï¼å³å¯¹æ·è´å¯¹è±¡çæ¹åä¼å½±å è¢«æ·è´çå¯¹è±¡ã\n\nSerializableï¼è½å¤ä½¿ä¹åºååï¼å³å¯ä»¥å°HashMapå¯¹è±¡ä¿å­è³æ¬å°ï¼ä¹åå¯ä»¥æ¢å¤ç¶æã\n\n# 2ãHashMapç±»çå±æ§\n\npublic class HashMap<K,V> extends AbstractMap<K,V> implements Map<K,V>,Cloneable, Serializable {\n    // åºåå·\n    private static final long serialVersionUID = 362498820763181265L;\n    // é»è®¤çåå§å®¹éæ¯16\n    static final int DEFAULT_INITIAL_CAPACITY = 1 << 4;\n    // æå¤§å®¹é\n    static final int MAXIMUM_CAPACITY = 1 << 30;\n    // é»è®¤çå¡«åå å­\n    static final float DEFAULT_LOAD_FACTOR = 0.75f;\n    // å½æ¡¶(bucket)ä¸çç»ç¹æ°å¤§äºè¿ä¸ªå¼æ¶ä¼è½¬æçº¢é»æ \n    static final int TREEIFY_THRESHOLD = 8;\n    // å½æ¡¶(bucket)ä¸çç»ç¹æ°å°äºè¿ä¸ªå¼æ¶æ è½¬é¾è¡¨\n    static final int UNTREEIFY_THRESHOLD = 6;\n    // æ¡¶ä¸­ç»æè½¬åä¸ºçº¢é»æ å¯¹åºçtableçæå°å¤§å°\n    static final int MIN_TREEIFY_CAPACITY = 64;\n    // å­å¨åç´ çæ°ç»ï¼æ»æ¯2çå¹æ¬¡å\n    transient Node<k,v>[] table;\n    // å­æ¾å·ä½åç´ çé\n    transient Set<map.entry<k,v>> entrySet;\n    // å­æ¾åç´ çä¸ªæ°ï¼æ³¨æè¿ä¸ªä¸ç­äºæ°ç»çé¿åº¦ã\n    transient int size;\n    // æ¯æ¬¡æ©å®¹åæ´æ¹mapç»æçè®¡æ°å¨\n    transient int modCount;\n    // ä¸´çå¼ å½å®éå¤§å°(å®¹é*å¡«åå å­)è¶è¿ä¸´çå¼æ¶ï¼ä¼è¿è¡æ©å®¹\n    int threshold;\n    // å¡«åå å­\n    final float loadFactor;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n# 3ãHashMapçæé æ¹æ³\n\næåä¸ªæé æ¹æ³ï¼æé æ¹æ³çä½ç¨å°±æ¯è®°å½ä¸ä¸16è¿ä¸ªæ°ç»thresholdï¼è¿ä¸ªæ°å¼æç»ä¼å½ä½ç¬¬ä¸æ¬¡ç»çé¿åº¦ãï¼ååå§åå è½½å å­ãæ³¨æï¼hashMapä¸­tableæ°ç»ä¸å¼å§å°±å·²ç»æ¯ä¸ªæ²¡æé¿åº¦çæ°ç»äºã\n\næé æ¹æ³ä¸­ï¼å¹¶æ²¡æåå§åæ°ç»çå¤§å°ï¼æ°ç»å¨ä¸å¼å§å°±å·²ç»è¢«åå»ºäºï¼æé æ¹æ³åªåä¸¤ä»¶äºæï¼ä¸ä¸ª æ¯åå§åå è½½å å­ï¼å¦ä¸ä¸ªæ¯ç¨thresholdè®°å½ä¸æ°ç»åå§åçå¤§å°ãæ³¨ææ¯è®°å½ã\n\nãHashMap()ã\n\n//çä¸é¢çæ³¨éå°±å·²ç»ç¥éï¼DEFAULT_INITIAL_CAPACITY=16ï¼DEFAULT_LOAD_FACTOR=0.75\n//åå§åå®¹éï¼ä¹å°±æ¯åå§åæ°ç»çå¤§å°\n//å è½½å å­ï¼æ°ç»ä¸çå­æ¾æ°æ®çå¯ç¨åº¦ã\n\npublic HashMap() {\n\tthis(DEFAULT_INITIAL_CAPACITY, DEFAULT_LOAD_FACTOR);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nãHashMap(int)ã\n\npublic HashMap(int initialCapacity) {\n\tthis(initialCapacity, DEFAULT_LOAD_FACTOR);\n}\n\n\n1\n2\n3\n\n\nãHashMap(int,float)ã\n\npublic HashMap(int initialCapacity, float loadFactor) {\n    // åå§å®¹éä¸è½å°äº0ï¼å¦åæ¥é\n    if (initialCapacity < 0)\n    throw new IllegalArgumentException("Illegal initial capacity: " +\n    \t\t\t\t\t\t\t\t\t\tinitialCapacity);\n    // åå§å®¹éä¸è½å¤§äºæå¤§å¼ï¼å¦åä¸ºæå¤§å¼\n    if (initialCapacity > MAXIMUM_CAPACITY)\n    initialCapacity = MAXIMUM_CAPACITY;\n    // å¡«åå å­ä¸è½å°äºæç­äº0ï¼ä¸è½ä¸ºéæ°å­\n    if (loadFactor <= 0 || Float.isNaN(loadFactor))\n    throw new IllegalArgumentException("Illegal load factor: " +\n    \t\t\t\t\t\t\t\t\t\tloadFactor);\n    // åå§åå¡«åå å­\n    this.loadFactor = loadFactor;\n    // åå§åthresholdå¤§å°\n    this.threshold = tableSizeFor(initialCapacity);\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nãHashMap(Map<? extends K, ? extends V> m) ã\n\npublic HashMap(Map<? extends K, ? extends V> m) {\n    // åå§åå¡«åå å­\n    this.loadFactor = DEFAULT_LOAD_FACTOR;\n    // å°mä¸­çææåç´ æ·»å è³HashMapä¸­\n    putMapEntries(m, false);\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nãputMapEntries(Map<? extends K, ? extends V> m, boolean evict)å½æ°å°mçææåç´ å­å¥æ¬ HashMapå®ä¾ä¸­ã\n\n\n    /**\n     * Implements Map.putAll and Map constructor.\n     *\n     * @param m the map\n     * @param evict false when initially constructing this map, else\n     * true (relayed to method afterNodeInsertion).\n     */\n    final void putMapEntries(Map<? extends K, ? extends V> m, boolean evict) {\n        int s = m.size();\n        if (s > 0) {\n            // å¤æ­tableæ¯å¦å·²ç»åå§å\n            if (table == null) { // pre-size\n                // æªåå§åï¼sä¸ºmçå®éåç´ ä¸ªæ°\n                float ft = ((float)s / loadFactor) + 1.0F;\n                int t = ((ft < (float)MAXIMUM_CAPACITY) ?\n                         (int)ft : MAXIMUM_CAPACITY);\n                // è®¡ç®å¾å°çtå¤§äºéå¼ï¼ååå§åéå¼\n                if (t > threshold)\n                    threshold = tableSizeFor(t);\n            }\n            // å·²åå§åï¼å¹¶ä¸måç´ ä¸ªæ°å¤§äºéå¼ï¼è¿è¡æ©å®¹å¤ç\n            else if (s > threshold)\n                resize();\n            // å°mä¸­çææåç´ æ·»å è³HashMapä¸­\n            for (Map.Entry<? extends K, ? extends V> e : m.entrySet()) {\n                K key = e.getKey();\n                V value = e.getValue();\n                putVal(hash(key), key, value, false, evict);\n            }\n        }\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n# 4ãHashMapå¸¸ç¨æ¹æ³\n\nãput(K key, V value)ã\n\npublic V put(K key, V value) {\nreturn putVal(hash(key), key, value, false, true);\n}\n\n\n1\n2\n3\n\n\nãputVal(int hash, K key, V value, boolean onlyIfAbsent,boolean evict)ã\n\nfinal V putVal(int hash, K key, V value, boolean onlyIfAbsent,\n               boolean evict) {\n    Node<K,V>[] tab; Node<K,V> p; int n, i;\n    // tableæªåå§åæèé¿åº¦ä¸º0ï¼è¿è¡æ©å®¹\n    if ((tab = table) == null || (n = tab.length) == 0)\n        n = (tab = resize()).length;\n    // (n - 1) & hash ç¡®å®åç´ å­æ¾å¨åªä¸ªæ¡¶ä¸­ï¼æ¡¶ä¸ºç©ºï¼æ°çæç»ç¹æ¾å¥æ¡¶ä¸­(æ­¤æ¶ï¼è¿ä¸ªç»ç¹æ¯æ¾å¨æ°ç»ä¸­)\n    if ((p = tab[i = (n - 1) & hash]) == null)\n        tab[i] = newNode(hash, key, value, null);\n    // æ¡¶ä¸­å·²ç»å­å¨åç´ \n    else {\n        Node<K,V> e; K k;\n        // æ¯è¾æ¡¶ä¸­ç¬¬ä¸ä¸ªåç´ (æ°ç»ä¸­çç»ç¹)çhashå¼ç¸ç­ï¼keyç¸ç­\n        if (p.hash == hash &&\n            ((k = p.key) == key || (key != null && key.equals(k))))\n            // å°ç¬¬ä¸ä¸ªåç´ èµå¼ç»eï¼ç¨eæ¥è®°å½\n            e = p;\n        // hashå¼ä¸ç¸ç­ï¼å³keyä¸ç¸ç­ï¼ä¸ºçº¢é»æ ç»ç¹\n        else if (p instanceof TreeNode)\n            // æ¾å¥æ ä¸­\n            e = ((TreeNode<K,V>)p).putTreeVal(this, tab, hash, key, value);\n        // ä¸ºé¾è¡¨ç»ç¹\n        else {\n            // å¨é¾è¡¨ææ«æå¥ç»ç¹\n            for (int binCount = 0; ; ++binCount) {\n                // å°è¾¾é¾è¡¨çå°¾é¨\n                if ((e = p.next) == null) {\n                    // å¨å°¾é¨æå¥æ°ç»ç¹\n                    p.next = newNode(hash, key, value, null);\n                    // ç»ç¹æ°éè¾¾å°éå¼ï¼è½¬åä¸ºçº¢é»æ \n                    if (binCount >= TREEIFY_THRESHOLD - 1) // -1 for 1st\n                        treeifyBin(tab, hash);\n                    // è·³åºå¾ªç¯\n                    break;\n                }\n                // å¤æ­é¾è¡¨ä¸­ç»ç¹çkeyå¼ä¸æå¥çåç´ çkeyå¼æ¯å¦ç¸ç­\n                if (e.hash == hash &&\n                    ((k = e.key) == key || (key != null && key.equals(k))))\n                    // ç¸ç­ï¼è·³åºå¾ªç¯\n                    break;\n                // ç¨äºéåæ¡¶ä¸­çé¾è¡¨ï¼ä¸åé¢çe = p.nextç»åï¼å¯ä»¥éåé¾è¡¨\n                p = e;\n            }\n        }\n        // è¡¨ç¤ºå¨æ¡¶ä¸­æ¾å°keyå¼ãhashå¼ä¸æå¥åç´ ç¸ç­çç»ç¹\n        if (e != null) { // existing mapping for key\n            // è®°å½eçvalue\n            V oldValue = e.value;\n            // onlyIfAbsentä¸ºfalseæèæ§å¼ä¸ºnull\n            if (!onlyIfAbsent || oldValue == null)\n                //ç¨æ°å¼æ¿æ¢æ§å¼\n                e.value = value;\n            // è®¿é®ååè°\n            afterNodeAccess(e);\n            // è¿åæ§å¼\n            return oldValue;\n        }\n    }\n    // ç»ææ§ä¿®æ¹\n    ++modCount;\n    // å®éå¤§å°å¤§äºéå¼åæ©å®¹\n    if (++size > threshold)\n        resize();\n    // æå¥ååè°\n    afterNodeInsertion(evict);\n    return null;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n\n\nHashMapå¹¶æ²¡æç´æ¥æä¾putValæ¥å£ç»ç¨æ·è°ç¨ï¼èæ¯æä¾çputå½æ°ï¼èputå½æ°å°±æ¯éè¿putValæ¥æå¥åç´ çã\n\nãget(Object key)ã\n\npublic V get(Object key) {\n    Node<K,V> e;\n    return (e = getNode(hash(key), key)) == null ? null : e.value;\n}\n\n\n1\n2\n3\n4\n\n\nãgetNode(int hash,Pbject key)ã\n\nfinal Node<K,V> getNode(int hash, Object key) {\n    Node<K,V>[] tab; Node<K,V> first, e; int n; K k;\n    // tableå·²ç»åå§åï¼é¿åº¦å¤§äº0ï¼æ ¹æ®hashå¯»æ¾tableä¸­çé¡¹ä¹ä¸ä¸ºç©º\n    if ((tab = table) != null && (n = tab.length) > 0 &&\n        (first = tab[(n - 1) & hash]) != null) {\n        // æ¡¶ä¸­ç¬¬ä¸é¡¹(æ°ç»åç´ )ç¸ç­\n        if (first.hash == hash && // always check first node\n            ((k = first.key) == key || (key != null && key.equals(k))))\n            return first;\n        // æ¡¶ä¸­ä¸æ­¢ä¸ä¸ªç»ç¹\n        if ((e = first.next) != null) {\n            // ä¸ºçº¢é»æ ç»ç¹\n            if (first instanceof TreeNode)\n                // å¨çº¢é»æ ä¸­æ¥æ¾\n                return ((TreeNode<K,V>)first).getTreeNode(hash, key);\n            // å¦åï¼å¨é¾è¡¨ä¸­æ¥æ¾\n            do {\n                if (e.hash == hash &&\n                    ((k = e.key) == key || (key != null && key.equals(k))))\n                    return e;\n            } while ((e = e.next) != null);\n        }\n    }\n    return null;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\nHashMapå¹¶æ²¡æç´æ¥æä¾getNodeæ¥å£ç»ç¨æ·è°ç¨ï¼èæ¯æä¾çgetå½æ°ï¼ègetå½æ°å°±æ¯éè¿ getNodeæ¥åå¾åç´ çã\n\nãresizeæ¹æ³ã\n\nfinal Node<K,V>[] resize() {\n    // å½åtableä¿å­\n    Node<K,V>[] oldTab = table;\n    // ä¿å­tableå¤§å°\n    int oldCap = (oldTab == null) ? 0 : oldTab.length;\n    // ä¿å­å½åéå¼\n    int oldThr = threshold;\n    int newCap, newThr = 0;\n    // ä¹åtableå¤§å°å¤§äº0\n    if (oldCap > 0) {\n        // ä¹åtableå¤§äºæå¤§å®¹é\n        if (oldCap >= MAXIMUM_CAPACITY) {\n            // éå¼ä¸ºæå¤§æ´å½¢\n            threshold = Integer.MAX_VALUE;\n            return oldTab;\n        }\n        // å®¹éç¿»åï¼ä½¿ç¨å·¦ç§»ï¼æçæ´é«\n        else if ((newCap = oldCap << 1) < MAXIMUM_CAPACITY &&\n                 oldCap >= DEFAULT_INITIAL_CAPACITY)\n            // éå¼ç¿»å\n            newThr = oldThr << 1; // double threshold\n    }\n    // ä¹åéå¼å¤§äº0\n    else if (oldThr > 0) // initial capacity was placed in threshold\n        newCap = oldThr;\n    // oldCap = 0å¹¶ä¸oldThr = 0ï¼ä½¿ç¨ç¼ºçå¼ï¼å¦ä½¿ç¨HashMap()æé å½æ°ï¼ä¹ååæå¥ä¸ä¸ªåç´ ä¼è°ç¨resizeå½æ°ï¼ä¼è¿å¥è¿ä¸æ­¥ï¼\n    else {               // zero initial threshold signifies using defaults\n        newCap = DEFAULT_INITIAL_CAPACITY;\n        newThr = (int)(DEFAULT_LOAD_FACTOR * DEFAULT_INITIAL_CAPACITY);\n    }\n    // æ°éå¼ä¸º0\n    if (newThr == 0) {\n        float ft = (float)newCap * loadFactor;\n        newThr = (newCap < MAXIMUM_CAPACITY && ft < (float)MAXIMUM_CAPACITY ?\n                  (int)ft : Integer.MAX_VALUE);\n    }\n    threshold = newThr;\n    @SuppressWarnings({"rawtypes","unchecked"})\n    // åå§åtable\n    Node<K,V>[] newTab = (Node<K,V>[])new Node[newCap];\n    table = newTab;\n    // ä¹åçtableå·²ç»åå§åè¿\n    if (oldTab != null) {\n        // å¤å¶åç´ ï¼éæ°è¿è¡hash\n        for (int j = 0; j < oldCap; ++j) {\n            Node<K,V> e;\n            if ((e = oldTab[j]) != null) {\n                oldTab[j] = null;\n                if (e.next == null)\n                    newTab[e.hash & (newCap - 1)] = e;\n                else if (e instanceof TreeNode)\n                    ((TreeNode<K,V>)e).split(this, newTab, j, oldCap);\n                else { // preserve order\n                    Node<K,V> loHead = null, loTail = null;\n                    Node<K,V> hiHead = null, hiTail = null;\n                    Node<K,V> next;\n                    // å°åä¸æ¡¶ä¸­çåç´ æ ¹æ®(e.hash & oldCap)æ¯å¦ä¸º0è¿è¡åå²ï¼åæä¸¤ä¸ªä¸åçé¾è¡¨ï¼å®ærehash\n                    do {\n                        next = e.next;\n                        if ((e.hash & oldCap) == 0) {\n                            if (loTail == null)\n                                loHead = e;\n                            else\n                                loTail.next = e;\n                            loTail = e;\n                        }\n                        else {\n                            if (hiTail == null)\n                                hiHead = e;\n                            else\n                                hiTail.next = e;\n                            hiTail = e;\n                        }\n                    } while ((e = next) != null);\n                    if (loTail != null) {\n                        loTail.next = null;\n                        newTab[j] = loHead;\n                    }\n                    if (hiTail != null) {\n                        hiTail.next = null;\n                        newTab[j + oldCap] = hiHead;\n                    }\n                }\n            }\n        }\n    }\n    return newTab;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n\n\nè¿è¡æ©å®¹ï¼ä¼ä¼´éçä¸æ¬¡éæ°hashåéï¼å¹¶ä¸ä¼éåhashè¡¨ä¸­ææçåç´ ï¼æ¯éå¸¸èæ¶çãå¨ç¼åç¨åºä¸­ï¼è¦å°½éé¿åresizeã\n\nå¨resizeååresizeåçåç´ å¸å±å¦ä¸:\n\n\n\nä¸å¾åªæ¯éå¯¹äºæ°ç»ä¸æ ä¸º2çæ¡¶ä¸­çåä¸ªåç´ å¨æ©å®¹åçåéå¸å±ï¼å¶ä»åä¸ªæ¡¶ä¸­çåç´ å¸å±å¯ä»¥ä»¥æ­¤ç±»æ¨ã\n\n# 5ãæ»ç»\n\nãå³äºæ°ç»æ©å®¹ã\n\nä»putValæºä»£ç ä¸­æä»¬å¯ä»¥ç¥éï¼å½æå¥ä¸ä¸ªåç´ çæ¶åsizeå°±å 1ï¼è¥sizeå¤§äºthresholdçæ¶åï¼å°±ä¼è¿è¡æ©å®¹ãåè®¾æä»¬çcapacityå¤§å°ä¸º32ï¼loadFatorä¸º0.75ï¼åthresholdä¸º24 = 32 * 0.75ï¼\n\næ­¤æ¶ï¼æå¥äº25ä¸ªåç´ ï¼å¹¶ä¸æå¥çè¿25ä¸ªåç´ é½å¨åä¸ä¸ªæ¡¶ä¸­ï¼æ¡¶ä¸­çæ°æ®ç»æä¸ºçº¢é»æ ï¼åè¿ æ31ä¸ªæ¡¶æ¯ç©ºçï¼ä¹ä¼è¿è¡æ©å®¹å¤çï¼å¶å®ï¼æ­¤æ¶ï¼è¿æ31ä¸ªæ¡¶æ¯ç©ºçï¼å¥½åä¼¼ä¹ä¸éè¦è¿è¡æ©å®¹å¤ çï¼ä½æ¯æ¯éè¦æ©å®¹å¤ççï¼å ä¸ºæ­¤æ¶æä»¬çcapacityå¤§å°å¯è½ä¸éå½ãæä»¬åé¢ç¥éï¼æ©å®¹å¤çä¼é åææçåç´ ï¼æ¶é´å¤æåº¦å¾é«ï¼åé¢æä»¬è¿ç¥éï¼ç»è¿ä¸æ¬¡æ©å®¹å¤çåï¼åç´ ä¼æ´å ååçåå¸å¨å ä¸ªæ¡¶ä¸­ï¼ä¼æåè®¿é®æçãæä»¥ï¼è¯´å°½éé¿åè¿è¡æ©å®¹å¤çï¼ä¹å°±æå³çï¼éååç´ æå¸¦æ¥çåå¤å¤§äº åç´ å¨æ¡¶ä¸­åååå¸æå¸¦æ¥çå¥½å¤ã\n\nãæ»ç»ã\n\n 1. è¦ç¥éhashMapå¨JDK1.8ä»¥åæ¯ä¸ä¸ªé¾è¡¨æ£åè¿æ ·ä¸ä¸ªæ°æ®ç»æï¼èå¨JDK1.8ä»¥åæ¯ä¸ä¸ªæ°ç»å  é¾è¡¨å çº¢é»æ çæ°æ®ç»æã\n 2. éè¿æºç çå­¦ä¹ ï¼hashMapæ¯ä¸ä¸ªè½å¿«ééè¿keyè·åå°valueå¼å¾ä¸ä¸ªéåï¼åå æ¯åé¨ä½¿ç¨ç æ¯hashæ¥æ¾å¼å¾æ¹æ³ã',normalizedContent:'# hashmap\n\n\n# hashmapå¼å¥\n\né®é¢ï¼å»ºç«å­¦çå­¦å·åå­¦çå§åé´çé®å¼æ å°ï¼å¹¶éè¿keyå¯¹valueè¿è¡æä½ï¼åºè¯¥å¦ä½å®ç°æ°æ®çå­å¨åæä½å¢ï¼\n\nmapæ¥å£ä¸é¨å¤çé®å¼æ å°æ°æ®çå­å¨ï¼å¯ä»¥æ ¹æ®é®å®ç°å¯¹å¼çæä½ã æå¸¸ç¨çå®ç°ç±»æ¯hashmapã\n\npublic static void main(string[] args) {\n    map<string,string> map = new hashmap<string,string>();\n    map.put("004","ææ¸ç§");\n    map.put("001","æç½");\n    map.put("003","çç¾²ä¹");\n    map.put("002","æç«");\n\n    system.out.println(map.get("003"));\n\n    //è·åæækey å¼\n    set<string> keyset = map.keyset();\n    for (string s : keyset){\n        string s1 = map.get(s);\n        system.out.println(s+"    "+s1);\n    }\n\n    //è·åææå¼\n    collection<string> values = map.values();\n    for (string s : values){\n        system.out.println(s);\n    }\n    \n    //entryset() è·åå¼\n    set<map.entry<string, string>> entryset = map.entryset();\n    for (map.entry<string, string> m : entryset){\n        string key = m.getkey();\n        string value = m.getvalue();\n        system.out.println(key+","+value);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n\n# hashmaæ°æ®ç»æ\n\nhashmapæ¯åºäºåå¸è¡¨çmapæ¥å£å®ç°çï¼å®å­å¨çæ¯åå®¹æ¯é®å¼å¯¹æ å°ãæ­¤ç±»ä¸ä¿è¯æ  å°çé¡ºåºï¼åå®åå¸å½æ°å°åç´ éå½çåå¸å¨åæ¡¶ä¹é´ï¼å¯ä¸ºåºæ¬æä½(getåput)æä¾ç¨³å®çæ§è½ã\n\nå¨apiä¸­ç»åºäºç¸åºçå®ä¹ï¼\n\nåå°äºææ¿å¨äººå¿çæºç åæç¯è**ð**\n\n\n\nç¬¬ä¸æ®µï¼\n\n\nåå¸è¡¨åºäºmapæ¥å£çå®ç°ï¼è¿ä¸ªå®ç°æä¾äºmapææçæä½ï¼å¹¶ä¸æä¾äºkeyåvalueï¼å¯ä»¥ä¸º nullï¼(hashmapåhashtableå¤§è´ä¸æ¯ä¸æ ·çï¼é¤äºhashmapæ¯å¼æ­¥çï¼ååè®¸keyåvalueä¸º null)\n\nè¿ä¸ªç±»ä¸ç¡®å®mapä¸­åç´ çä½ç½®ï¼ç¹å«è¦æçæ¯ï¼è¿ä¸ªç±»ä¹ä¸ç¡®å®åç´ çä½ç½®éçæ¶é´ä¼ä¸ä¼ä¿æä¸åã\n\nç¬¬äºæ®µï¼\n\n\nåè®¾åå¸å½æ°å°åç´ åéçåå°äºæ¯ä¸ªæ¡¶ï¼å¶å®å°±æ¯æçæ°ç»ä¸­ä½ç½®ä¸çé¾è¡¨ï¼ä¸­ï¼åè¿ä¸ªå®ç°ä¸ºåºæ¬çæä½(getãput)æä¾äºç¨³å®çæ§è½ï¼è¿­ä»£è¿ä¸ªéåè§å¾éè¦çæ¶é´è·hashmapå®ä¾ï¼key-valueæ å°çæ°éï¼çå®¹éï¼å¨æ¡¶ä¸­ï¼ææ­£æ¯ï¼å æ­¤ï¼å¦æè¿­ä»£çæ§è½å¾éè¦çè¯ï¼å°±ä¸è¦å°åå§å®¹éè®¾ç½®çå¤ªé«æè loadfactorè®¾ç½®çå¤ªä½ï¼ãè¿éçæ¡¶ï¼ç¸å½äºå¨æ°ç»ä¸­æ¯ä¸ªä½ç½®ä¸æ¾ä¸ä¸ªæ¡¶è£åç´ ã\n\nç¬¬ä¸æ®µï¼\n\n\nhashmapçå®ä¾æä¸¤ä¸ªåæ°å½±åæ§è½ï¼åå§åå®¹éï¼initialcapacityï¼åloadfactorå è½½å å­ï¼ å¨åå¸è¡¨ä¸­è¿ä¸ªå®¹éæ¯æ¡¶çæ°éãä¹å°±æ¯æ°ç»çé¿åº¦ãï¼ä¸ä¸ªåå§åå®¹éä»ä»æ¯å¨åå¸è¡¨è¢«åå»ºæ¶å®¹éï¼ å¨å®¹éèªå¨å¢é¿ä¹åå è½½å å­æ¯è¡¡éåå¸è¡¨è¢«åè®¸è¾¾å°çå¤å°çãå½entryçæ°éå¨åå¸è¡¨ä¸­è¶è¿äºå è½½ å å­ä¹ä»¥å½åçå®¹éï¼é£ä¹åå¸è¡¨è¢«ä¿®æ¹ï¼åé¨çæ°æ®ç»æä¼è¢«éæ°å»ºç«ï¼æä»¥åå¸è¡¨æå¤§çº¦ä¸¤åçæ¡¶çæ°é.\n\nç¬¬åæ®µï¼\n\n\néå¸¸æ¥è®²ï¼é»è®¤çå è½½å å­(0.75)è½å¤å¨æ¶é´åç©ºé´ä¸æä¾ä¸ä¸ªå¥½çå¹³è¡¡ï¼æ´é«çå¼ä¼åå°ç©ºé´ä¸çå¼æ¯ä½æ¯ä¼å¢å æ¥è¯¢è±è´¹çæ¶é´ï¼ä½ç°å¨hashmapç±»ä¸­getãputæ¹æ³ä¸ï¼ï¼å½è®¾ç½®åå§åå®¹éæ¶ï¼åºè¯¥èèå°mapä¸­ä¼å­æ¾entryçæ°éåå è½½å å­ï¼ä»¥ä¾¿æå°æ¬¡æ°çè¿è¡rehashæä½ï¼å¦æåå§å®¹éå¤§äºæå¤§æ¡ç®æ°é¤ä»¥å è½½å å­ï¼åä¸ä¼åç rehash æä½ã\n\nç¬¬äºæ®µï¼\n\n\nå¦æå¾å¤æ å°å³ç³»è¦å­å¨å¨ hashmap å®ä¾ä¸­ï¼åç¸å¯¹äºæéæ§è¡èªå¨ç rehash æä½ä»¥å¢å¤§è¡¨ç å®¹éæ¥è¯´ï¼ä½¿ç¨è¶³å¤å¤§çåå§å®¹éåå»ºå®å°ä½¿å¾æ å°å³ç³»è½æ´ææå°å­å¨ã\n\n# hashmapå¨jdk1.8ä»¥åæ°æ®ç»æåå­å¨åç\n\nãé¾è¡¨æ£åã\n\né¦åæä»¬è¦ç¥éä»ä¹æ¯é¾è¡¨æ£åï¼éè¿æ°ç»åé¾è¡¨ç»åå¨ä¸èµ·ä½¿ç¨ï¼å°±å«åé¾è¡¨æ£åãè¿å¶å®å°±æ¯ hashmapå­å¨çåçå¾ã\n\n\n\nãhashmapçæ°æ®ç»æåå­å¨åçã\n\nhashmapçæ°æ®ç»æå°±æ¯ç¨çé¾è¡¨æ£åãé£hashmapåºå±æ¯æä¹æ ·ä½¿ç¨è¿ä¸ªæ°æ®ç»æè¿è¡æ°æ®å­åçå¢ï¼åæä¸¤ä¸ªé¨åï¼\n\nç¬¬ä¸æ­¥ï¼hashmapåé¨æä¸ä¸ªentryçåé¨ç±»ï¼å¶ä¸­æåä¸ªå±æ§ï¼æä»¬è¦å­å¨ä¸ä¸ªå¼ï¼åéè¦ä¸ä¸ªkey åä¸ä¸ªvalueï¼å­å°mapä¸­å°±ä¼åå°keyåvalueä¿å­å¨è¿ä¸ªentryç±»åå»ºçå¯¹è±¡ä¸­ã\n\nstatic class entry<k,v> implements map.entry<k,v> {\n    final k key; //å°±æ¯æä»¬è¯´çmapçkey\n    v value; //valueå¼ï¼è¿ä¸¤ä¸ªé½ä¸éç\n    entry<k,v> next;//æåä¸ä¸ä¸ªentryå¯¹è±¡\n    int hash;//éè¿keyç®è¿æ¥çä½ hashcodeå¼ã\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nentryçç©çæ¨¡åå¾ï¼\n\n\n\nç¬¬äºæ­¥ï¼æé å¥½äºentryå¯¹è±¡ï¼ç¶åå°è¯¥å¯¹è±¡æ¾å¥æ°ç»ä¸­ï¼å¦ä½å­æ¾å°±æ¯è¿hashmapçç²¾åæå¨äºã\n\nå¤§æ¦çä¸ä¸ªå­æ¾è¿ç¨æ¯ï¼éè¿entryå¯¹è±¡ä¸­çhashå¼æ¥ç¡®å®å°è¯¥å¯¹è±¡å­æ¾å¨æ°ç»ä¸­çåªä¸ªä½ç½®ä¸ï¼å¦æå¨è¿ä¸ªä½ç½®ä¸è¿æå¶ä»åç´ ï¼åéè¿é¾è¡¨æ¥å­å¨è¿ä¸ªåç´ ã\n\n\n\nãhashå­æ¾åç´ çè¿ç¨ã\n\néè¿keyãvalueå°è£æä¸ä¸ªentryå¯¹è±¡ï¼ç¶åéè¿keyçå¼æ¥è®¡ç®è¯¥entryçhashå¼ï¼éè¿entryçhashå¼åæ°ç»çé¿åº¦lengthæ¥è®¡ç®åºentryæ¾å¨æ°ç»ä¸­çåªä¸ªä½ç½®ä¸é¢ï¼\n\næ¯æ¬¡å­æ¾é½æ¯å°entryæ¾å¨ç¬¬ä¸ä¸ªä½ç½®ãå¨è¿ä¸ªè¿ç¨ä¸­ï¼å°±æ¯éè¿hashå¼æ¥ç¡®å®å°è¯¥å¯¹è±¡å­æ¾å¨æ°ç»ä¸­ çåªä¸ªä½ç½®ä¸ã\n\n# jdk1.8åhashmapçæ°æ®ç»æ\n\n\n\nä¸å¾å¾å½¢è±¡çå±ç¤ºäºhashmapçæ°æ®ç»æï¼æ°ç»+é¾è¡¨+çº¢é»æ ï¼ï¼æ¡¶ä¸­çç»æå¯è½æ¯é¾è¡¨ï¼ä¹å¯è½æ¯çº¢é»æ ï¼çº¢é»æ çå¼å¥æ¯ä¸ºäºæé«æçã\n\n\n\n\n# hashmapçå±æ§\n\nhashmapçå®ä¾æä¸¤ä¸ªåæ°å½±åå¶æ§è½ã\n\nåå§å®¹éï¼åå¸è¡¨ä¸­æ¡¶çæ°é\n\nå è½½å å­ï¼åå¸è¡¨å¨å¶å®¹éèªå¨å¢å ä¹åå¯ä»¥è¾¾å°å¤æ»¡ï¼çä¸ç§å°ºåº¦\n\nå½åå¸è¡¨ä¸­æ¡ç®æ°è¶åºäºå½åå®¹é*å è½½å å­(å¶å®å°±æ¯hashmapçå®éå®¹é)æ¶ï¼åå¯¹è¯¥åå¸è¡¨è¿è¡ rehashæä½ï¼å°åå¸è¡¨æ©åè³ä¸¤åçæ¡¶æ°ã\n\njavaä¸­é»è®¤åå§å®¹éä¸º16ï¼å è½½å å­ä¸º0.75ã\n\nstatic final int default_initial_capacity = 1 << 4; // aka 16\nstatic final float default_load_factor = 0.75f;\n\n\n1\n2\n\n\nãloadfactorå è½½å å­ã\n\nå®ä¹ï¼loadfactorè¯ä¸ºè£è½½å å­ãè£è½½å å­ç¨æ¥è¡¡éhashmapæ»¡çç¨åº¦ãloadfactorçé»è®¤å¼ä¸º 0.75fãè®¡ç®hashmapçå®æ¶è£è½½å å­çæ¹æ³ä¸ºï¼size/capacityï¼èä¸æ¯å ç¨æ¡¶çæ°éå»é¤ä»¥capacityã\n\nloadfactorå è½½å å­æ¯æ§å¶æ°ç»å­æ¾æ°æ®ççå¯ç¨åº¦ï¼loadfactorè¶è¶è¿äº1ï¼é£ä¹æ°ç»ä¸­å­æ¾çæ°æ® (entry)ä¹å°±è¶å¤ï¼ä¹å°±è¶å¯ï¼ä¹å°±æ¯ä¼è®©é¾è¡¨çé¿åº¦å¢å ï¼loadfactorè¶å°ï¼ä¹å°±æ¯è¶è¿äº0ï¼é£ä¹æ°ç»ä¸­å­æ¾çæ°æ®ä¹å°±è¶ç¨ï¼ä¹å°±æ¯å¯è½æ°ç»ä¸­æ¯ä¸ªä½ç½®ä¸å°±æ¾ä¸ä¸ªåç´ ã\n\né£æäººè¯´ï¼å°±æloadfactoråä¸º1æå¥½åï¼å­çæ°æ®å¾å¤ï¼ä½æ¯è¿æ ·ä¼æä¸ä¸ªé®é¢ï¼å°±æ¯æä»¬å¨éè¿keyæ¿å°æä»¬çvalueæ¶ï¼æ¯åéè¿keyçhashcodeå¼ï¼æ¾å°å¯¹åºæ°ç»ä¸­çä½ç½®ï¼å¦æè¯¥ä½ç½®ä¸­æå¾å¤åç´ ï¼åéè¦éè¿equalsæ¥ä¾æ¬¡æ¯è¾é¾è¡¨ä¸­çåç´ ï¼æ¿å°æä»¬çvalueå¼ï¼è¿æ ·è±è´¹çæ§è½å°±å¾é«ï¼å¦æè½è®©æ°ç»ä¸çæ¯ä¸ªä½ç½®å°½éåªæä¸ä¸ªåç´ æå¥½ï¼æä»¬å°±è½ç´æ¥å¾å°valueå¼äºï¼æä»¥æäººåä¼è¯´ï¼é£æloadfactoråå¾å¾å°ä¸å°±å¥½äºï¼ä½æ¯å¦æåå¾å¤ªå°ï¼å¨æ°ç»ä¸­çä½ç½®å°±ä¼å¤ªç¨ï¼ä¹å°±æ¯åæ£çå¤ªå¼ï¼æµªè´¹å¾å¤ç©ºé´ï¼è¿æ ·ä¹ä¸å¥½ï¼æä»¥å¨hashmap ä¸­loadfactorçåå§å¼å°±æ¯0.75ï¼ä¸è¬æåµä¸ä¸éè¦æ´æ¹å®ã\n\nstatic final float default_load_factor = 0.75f;\n\n\n1\n\n\nãæ¡¶ã\n\næ ¹æ®åé¢ç»çhashmapå­å¨çæ°æ®ç»æå¾ï¼ä½ è¿æ ·æ³ï¼æ°ç»ä¸­æ¯ä¸ä¸ªä½ç½®ä¸é½æ¾æä¸ä¸ªæ¡¶ï¼æ¯ä¸ªæ¡¶é å°±æ¯è£ä¸ä¸ªé¾è¡¨ï¼é¾è¡¨ä¸­å¯ä»¥æå¾å¤ä¸ªåç´ (entry)ï¼è¿å°±æ¯æ¡¶çææãä¹å°±ç¸å½äºæåç´ é½æ¾å¨æ¡¶ä¸­ã\n\nãcapacityã\n\ncapacityè¯ä¸ºå®¹éä»£è¡¨çæ°ç»çå®¹éï¼ä¹å°±æ¯æ°ç»çé¿åº¦ï¼åæ¶ä¹æ¯hashmapä¸­æ¡¶çä¸ªæ°ãé»è®¤å¼æ¯ 16ã\n\nä¸è¬ç¬¬ä¸æ¬¡æ©å®¹æ¶ä¼æ©å®¹å°64ï¼ä¹åå¥½åæ¯2åãæ»ä¹ï¼å®¹éé½æ¯2çå¹ã\n\nstatic final int default_initial_capacity = 1 << 4; // aka 16\n\n\n1\n\n\nãsizeçå«ä¹ã\n\nsizeå°±æ¯å¨è¯¥hashmapçå®ä¾ä¸­å®éå­å¨çåç´ çä¸ªæ°\n\nãthresholdçä½ç¨ã\n\nint threshold;\n\n\n1\n\n\nthreshold = capacity * loadfactorï¼å½size>=thresholdçæ¶åï¼é£ä¹å°±è¦èèå¯¹æ°ç»çæ©å¢äºï¼ä¹å°±æ¯è¯´ï¼è¿ä¸ªçææå°±æ¯è¡¡éæ°ç»æ¯å¦éè¦æ©å¢çä¸ä¸ªæ åã\n\næ³¨æè¿éè¯´çæ¯èèï¼å ä¸ºå®éä¸è¦æ©å¢æ°ç»ï¼é¤äºè¿ä¸ªsize>=thresholdæ¡ä»¶å¤ï¼è¿éè¦å¦å¤ä¸ä¸ªæ¡ ä»¶ã\n\nä»ä¹æ¶åä¼æ©å¢æ°ç»çå¤§å°ï¼å¨putä¸ä¸ªåç´ æ¶åsize>=thresholdå¹¶ä¸è¿è¦å¨å¯¹åºæ°ç»ä½ç½®ä¸æåç´ ï¼ è¿æè½æ©å¢æ°ç»ã\n\næä»¬éè¿ä¸å¼ hashmapçæ°æ®ç»æå¾æ¥åæï¼\n\n\n\n\n# hashmapçæºç åæ\n\n# 1ãhashmapçå±æ¬¡å³ç³»ä¸ç»§æ¿ç»æ\n\nãhashmapç»§æ¿ç»æã\n\n\n\nä¸é¢å°±ç»§æ¿äºä¸ä¸ªabstractmapï¼ä¹å°±æ¯ç¨æ¥åè½»å®ç°mapæ¥å£çç¼åè´æã\n\nãå®ç°æ¥å£ã\n\npublic class hashmap<k,v> extends abstractmap<k,v>\nimplements map<k,v>, cloneable, serializable {\n    \n}\n\n\n1\n2\n3\n4\n\n\nmap<k,v>ï¼å¨abstractmapæ½è±¡ç±»ä¸­å·²ç»å®ç°è¿çæ¥å£ï¼è¿éåå®ç°ï¼å®éä¸æ¯å¤ä½çãä½æ¯ä¸ªéåé½æè¿æ ·çéè¯¯ï¼ä¹æ²¡è¿å¤§å½±å\n\ncloneableï¼è½å¤ä½¿ç¨clone()æ¹æ³ï¼å¨hashmapä¸­ï¼å®ç°çæ¯æµå±æ¬¡æ·è´ï¼å³å¯¹æ·è´å¯¹è±¡çæ¹åä¼å½±å è¢«æ·è´çå¯¹è±¡ã\n\nserializableï¼è½å¤ä½¿ä¹åºååï¼å³å¯ä»¥å°hashmapå¯¹è±¡ä¿å­è³æ¬å°ï¼ä¹åå¯ä»¥æ¢å¤ç¶æã\n\n# 2ãhashmapç±»çå±æ§\n\npublic class hashmap<k,v> extends abstractmap<k,v> implements map<k,v>,cloneable, serializable {\n    // åºåå·\n    private static final long serialversionuid = 362498820763181265l;\n    // é»è®¤çåå§å®¹éæ¯16\n    static final int default_initial_capacity = 1 << 4;\n    // æå¤§å®¹é\n    static final int maximum_capacity = 1 << 30;\n    // é»è®¤çå¡«åå å­\n    static final float default_load_factor = 0.75f;\n    // å½æ¡¶(bucket)ä¸çç»ç¹æ°å¤§äºè¿ä¸ªå¼æ¶ä¼è½¬æçº¢é»æ \n    static final int treeify_threshold = 8;\n    // å½æ¡¶(bucket)ä¸çç»ç¹æ°å°äºè¿ä¸ªå¼æ¶æ è½¬é¾è¡¨\n    static final int untreeify_threshold = 6;\n    // æ¡¶ä¸­ç»æè½¬åä¸ºçº¢é»æ å¯¹åºçtableçæå°å¤§å°\n    static final int min_treeify_capacity = 64;\n    // å­å¨åç´ çæ°ç»ï¼æ»æ¯2çå¹æ¬¡å\n    transient node<k,v>[] table;\n    // å­æ¾å·ä½åç´ çé\n    transient set<map.entry<k,v>> entryset;\n    // å­æ¾åç´ çä¸ªæ°ï¼æ³¨æè¿ä¸ªä¸ç­äºæ°ç»çé¿åº¦ã\n    transient int size;\n    // æ¯æ¬¡æ©å®¹åæ´æ¹mapç»æçè®¡æ°å¨\n    transient int modcount;\n    // ä¸´çå¼ å½å®éå¤§å°(å®¹é*å¡«åå å­)è¶è¿ä¸´çå¼æ¶ï¼ä¼è¿è¡æ©å®¹\n    int threshold;\n    // å¡«åå å­\n    final float loadfactor;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n# 3ãhashmapçæé æ¹æ³\n\næåä¸ªæé æ¹æ³ï¼æé æ¹æ³çä½ç¨å°±æ¯è®°å½ä¸ä¸16è¿ä¸ªæ°ç»thresholdï¼è¿ä¸ªæ°å¼æç»ä¼å½ä½ç¬¬ä¸æ¬¡ç»çé¿åº¦ãï¼ååå§åå è½½å å­ãæ³¨æï¼hashmapä¸­tableæ°ç»ä¸å¼å§å°±å·²ç»æ¯ä¸ªæ²¡æé¿åº¦çæ°ç»äºã\n\næé æ¹æ³ä¸­ï¼å¹¶æ²¡æåå§åæ°ç»çå¤§å°ï¼æ°ç»å¨ä¸å¼å§å°±å·²ç»è¢«åå»ºäºï¼æé æ¹æ³åªåä¸¤ä»¶äºæï¼ä¸ä¸ª æ¯åå§åå è½½å å­ï¼å¦ä¸ä¸ªæ¯ç¨thresholdè®°å½ä¸æ°ç»åå§åçå¤§å°ãæ³¨ææ¯è®°å½ã\n\nãhashmap()ã\n\n//çä¸é¢çæ³¨éå°±å·²ç»ç¥éï¼default_initial_capacity=16ï¼default_load_factor=0.75\n//åå§åå®¹éï¼ä¹å°±æ¯åå§åæ°ç»çå¤§å°\n//å è½½å å­ï¼æ°ç»ä¸çå­æ¾æ°æ®çå¯ç¨åº¦ã\n\npublic hashmap() {\n\tthis(default_initial_capacity, default_load_factor);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nãhashmap(int)ã\n\npublic hashmap(int initialcapacity) {\n\tthis(initialcapacity, default_load_factor);\n}\n\n\n1\n2\n3\n\n\nãhashmap(int,float)ã\n\npublic hashmap(int initialcapacity, float loadfactor) {\n    // åå§å®¹éä¸è½å°äº0ï¼å¦åæ¥é\n    if (initialcapacity < 0)\n    throw new illegalargumentexception("illegal initial capacity: " +\n    \t\t\t\t\t\t\t\t\t\tinitialcapacity);\n    // åå§å®¹éä¸è½å¤§äºæå¤§å¼ï¼å¦åä¸ºæå¤§å¼\n    if (initialcapacity > maximum_capacity)\n    initialcapacity = maximum_capacity;\n    // å¡«åå å­ä¸è½å°äºæç­äº0ï¼ä¸è½ä¸ºéæ°å­\n    if (loadfactor <= 0 || float.isnan(loadfactor))\n    throw new illegalargumentexception("illegal load factor: " +\n    \t\t\t\t\t\t\t\t\t\tloadfactor);\n    // åå§åå¡«åå å­\n    this.loadfactor = loadfactor;\n    // åå§åthresholdå¤§å°\n    this.threshold = tablesizefor(initialcapacity);\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nãhashmap(map<? extends k, ? extends v> m) ã\n\npublic hashmap(map<? extends k, ? extends v> m) {\n    // åå§åå¡«åå å­\n    this.loadfactor = default_load_factor;\n    // å°mä¸­çææåç´ æ·»å è³hashmapä¸­\n    putmapentries(m, false);\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nãputmapentries(map<? extends k, ? extends v> m, boolean evict)å½æ°å°mçææåç´ å­å¥æ¬ hashmapå®ä¾ä¸­ã\n\n\n    /**\n     * implements map.putall and map constructor.\n     *\n     * @param m the map\n     * @param evict false when initially constructing this map, else\n     * true (relayed to method afternodeinsertion).\n     */\n    final void putmapentries(map<? extends k, ? extends v> m, boolean evict) {\n        int s = m.size();\n        if (s > 0) {\n            // å¤æ­tableæ¯å¦å·²ç»åå§å\n            if (table == null) { // pre-size\n                // æªåå§åï¼sä¸ºmçå®éåç´ ä¸ªæ°\n                float ft = ((float)s / loadfactor) + 1.0f;\n                int t = ((ft < (float)maximum_capacity) ?\n                         (int)ft : maximum_capacity);\n                // è®¡ç®å¾å°çtå¤§äºéå¼ï¼ååå§åéå¼\n                if (t > threshold)\n                    threshold = tablesizefor(t);\n            }\n            // å·²åå§åï¼å¹¶ä¸måç´ ä¸ªæ°å¤§äºéå¼ï¼è¿è¡æ©å®¹å¤ç\n            else if (s > threshold)\n                resize();\n            // å°mä¸­çææåç´ æ·»å è³hashmapä¸­\n            for (map.entry<? extends k, ? extends v> e : m.entryset()) {\n                k key = e.getkey();\n                v value = e.getvalue();\n                putval(hash(key), key, value, false, evict);\n            }\n        }\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n# 4ãhashmapå¸¸ç¨æ¹æ³\n\nãput(k key, v value)ã\n\npublic v put(k key, v value) {\nreturn putval(hash(key), key, value, false, true);\n}\n\n\n1\n2\n3\n\n\nãputval(int hash, k key, v value, boolean onlyifabsent,boolean evict)ã\n\nfinal v putval(int hash, k key, v value, boolean onlyifabsent,\n               boolean evict) {\n    node<k,v>[] tab; node<k,v> p; int n, i;\n    // tableæªåå§åæèé¿åº¦ä¸º0ï¼è¿è¡æ©å®¹\n    if ((tab = table) == null || (n = tab.length) == 0)\n        n = (tab = resize()).length;\n    // (n - 1) & hash ç¡®å®åç´ å­æ¾å¨åªä¸ªæ¡¶ä¸­ï¼æ¡¶ä¸ºç©ºï¼æ°çæç»ç¹æ¾å¥æ¡¶ä¸­(æ­¤æ¶ï¼è¿ä¸ªç»ç¹æ¯æ¾å¨æ°ç»ä¸­)\n    if ((p = tab[i = (n - 1) & hash]) == null)\n        tab[i] = newnode(hash, key, value, null);\n    // æ¡¶ä¸­å·²ç»å­å¨åç´ \n    else {\n        node<k,v> e; k k;\n        // æ¯è¾æ¡¶ä¸­ç¬¬ä¸ä¸ªåç´ (æ°ç»ä¸­çç»ç¹)çhashå¼ç¸ç­ï¼keyç¸ç­\n        if (p.hash == hash &&\n            ((k = p.key) == key || (key != null && key.equals(k))))\n            // å°ç¬¬ä¸ä¸ªåç´ èµå¼ç»eï¼ç¨eæ¥è®°å½\n            e = p;\n        // hashå¼ä¸ç¸ç­ï¼å³keyä¸ç¸ç­ï¼ä¸ºçº¢é»æ ç»ç¹\n        else if (p instanceof treenode)\n            // æ¾å¥æ ä¸­\n            e = ((treenode<k,v>)p).puttreeval(this, tab, hash, key, value);\n        // ä¸ºé¾è¡¨ç»ç¹\n        else {\n            // å¨é¾è¡¨ææ«æå¥ç»ç¹\n            for (int bincount = 0; ; ++bincount) {\n                // å°è¾¾é¾è¡¨çå°¾é¨\n                if ((e = p.next) == null) {\n                    // å¨å°¾é¨æå¥æ°ç»ç¹\n                    p.next = newnode(hash, key, value, null);\n                    // ç»ç¹æ°éè¾¾å°éå¼ï¼è½¬åä¸ºçº¢é»æ \n                    if (bincount >= treeify_threshold - 1) // -1 for 1st\n                        treeifybin(tab, hash);\n                    // è·³åºå¾ªç¯\n                    break;\n                }\n                // å¤æ­é¾è¡¨ä¸­ç»ç¹çkeyå¼ä¸æå¥çåç´ çkeyå¼æ¯å¦ç¸ç­\n                if (e.hash == hash &&\n                    ((k = e.key) == key || (key != null && key.equals(k))))\n                    // ç¸ç­ï¼è·³åºå¾ªç¯\n                    break;\n                // ç¨äºéåæ¡¶ä¸­çé¾è¡¨ï¼ä¸åé¢çe = p.nextç»åï¼å¯ä»¥éåé¾è¡¨\n                p = e;\n            }\n        }\n        // è¡¨ç¤ºå¨æ¡¶ä¸­æ¾å°keyå¼ãhashå¼ä¸æå¥åç´ ç¸ç­çç»ç¹\n        if (e != null) { // existing mapping for key\n            // è®°å½eçvalue\n            v oldvalue = e.value;\n            // onlyifabsentä¸ºfalseæèæ§å¼ä¸ºnull\n            if (!onlyifabsent || oldvalue == null)\n                //ç¨æ°å¼æ¿æ¢æ§å¼\n                e.value = value;\n            // è®¿é®ååè°\n            afternodeaccess(e);\n            // è¿åæ§å¼\n            return oldvalue;\n        }\n    }\n    // ç»ææ§ä¿®æ¹\n    ++modcount;\n    // å®éå¤§å°å¤§äºéå¼åæ©å®¹\n    if (++size > threshold)\n        resize();\n    // æå¥ååè°\n    afternodeinsertion(evict);\n    return null;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n\n\nhashmapå¹¶æ²¡æç´æ¥æä¾putvalæ¥å£ç»ç¨æ·è°ç¨ï¼èæ¯æä¾çputå½æ°ï¼èputå½æ°å°±æ¯éè¿putvalæ¥æå¥åç´ çã\n\nãget(object key)ã\n\npublic v get(object key) {\n    node<k,v> e;\n    return (e = getnode(hash(key), key)) == null ? null : e.value;\n}\n\n\n1\n2\n3\n4\n\n\nãgetnode(int hash,pbject key)ã\n\nfinal node<k,v> getnode(int hash, object key) {\n    node<k,v>[] tab; node<k,v> first, e; int n; k k;\n    // tableå·²ç»åå§åï¼é¿åº¦å¤§äº0ï¼æ ¹æ®hashå¯»æ¾tableä¸­çé¡¹ä¹ä¸ä¸ºç©º\n    if ((tab = table) != null && (n = tab.length) > 0 &&\n        (first = tab[(n - 1) & hash]) != null) {\n        // æ¡¶ä¸­ç¬¬ä¸é¡¹(æ°ç»åç´ )ç¸ç­\n        if (first.hash == hash && // always check first node\n            ((k = first.key) == key || (key != null && key.equals(k))))\n            return first;\n        // æ¡¶ä¸­ä¸æ­¢ä¸ä¸ªç»ç¹\n        if ((e = first.next) != null) {\n            // ä¸ºçº¢é»æ ç»ç¹\n            if (first instanceof treenode)\n                // å¨çº¢é»æ ä¸­æ¥æ¾\n                return ((treenode<k,v>)first).gettreenode(hash, key);\n            // å¦åï¼å¨é¾è¡¨ä¸­æ¥æ¾\n            do {\n                if (e.hash == hash &&\n                    ((k = e.key) == key || (key != null && key.equals(k))))\n                    return e;\n            } while ((e = e.next) != null);\n        }\n    }\n    return null;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\nhashmapå¹¶æ²¡æç´æ¥æä¾getnodeæ¥å£ç»ç¨æ·è°ç¨ï¼èæ¯æä¾çgetå½æ°ï¼ègetå½æ°å°±æ¯éè¿ getnodeæ¥åå¾åç´ çã\n\nãresizeæ¹æ³ã\n\nfinal node<k,v>[] resize() {\n    // å½åtableä¿å­\n    node<k,v>[] oldtab = table;\n    // ä¿å­tableå¤§å°\n    int oldcap = (oldtab == null) ? 0 : oldtab.length;\n    // ä¿å­å½åéå¼\n    int oldthr = threshold;\n    int newcap, newthr = 0;\n    // ä¹åtableå¤§å°å¤§äº0\n    if (oldcap > 0) {\n        // ä¹åtableå¤§äºæå¤§å®¹é\n        if (oldcap >= maximum_capacity) {\n            // éå¼ä¸ºæå¤§æ´å½¢\n            threshold = integer.max_value;\n            return oldtab;\n        }\n        // å®¹éç¿»åï¼ä½¿ç¨å·¦ç§»ï¼æçæ´é«\n        else if ((newcap = oldcap << 1) < maximum_capacity &&\n                 oldcap >= default_initial_capacity)\n            // éå¼ç¿»å\n            newthr = oldthr << 1; // double threshold\n    }\n    // ä¹åéå¼å¤§äº0\n    else if (oldthr > 0) // initial capacity was placed in threshold\n        newcap = oldthr;\n    // oldcap = 0å¹¶ä¸oldthr = 0ï¼ä½¿ç¨ç¼ºçå¼ï¼å¦ä½¿ç¨hashmap()æé å½æ°ï¼ä¹ååæå¥ä¸ä¸ªåç´ ä¼è°ç¨resizeå½æ°ï¼ä¼è¿å¥è¿ä¸æ­¥ï¼\n    else {               // zero initial threshold signifies using defaults\n        newcap = default_initial_capacity;\n        newthr = (int)(default_load_factor * default_initial_capacity);\n    }\n    // æ°éå¼ä¸º0\n    if (newthr == 0) {\n        float ft = (float)newcap * loadfactor;\n        newthr = (newcap < maximum_capacity && ft < (float)maximum_capacity ?\n                  (int)ft : integer.max_value);\n    }\n    threshold = newthr;\n    @suppresswarnings({"rawtypes","unchecked"})\n    // åå§åtable\n    node<k,v>[] newtab = (node<k,v>[])new node[newcap];\n    table = newtab;\n    // ä¹åçtableå·²ç»åå§åè¿\n    if (oldtab != null) {\n        // å¤å¶åç´ ï¼éæ°è¿è¡hash\n        for (int j = 0; j < oldcap; ++j) {\n            node<k,v> e;\n            if ((e = oldtab[j]) != null) {\n                oldtab[j] = null;\n                if (e.next == null)\n                    newtab[e.hash & (newcap - 1)] = e;\n                else if (e instanceof treenode)\n                    ((treenode<k,v>)e).split(this, newtab, j, oldcap);\n                else { // preserve order\n                    node<k,v> lohead = null, lotail = null;\n                    node<k,v> hihead = null, hitail = null;\n                    node<k,v> next;\n                    // å°åä¸æ¡¶ä¸­çåç´ æ ¹æ®(e.hash & oldcap)æ¯å¦ä¸º0è¿è¡åå²ï¼åæä¸¤ä¸ªä¸åçé¾è¡¨ï¼å®ærehash\n                    do {\n                        next = e.next;\n                        if ((e.hash & oldcap) == 0) {\n                            if (lotail == null)\n                                lohead = e;\n                            else\n                                lotail.next = e;\n                            lotail = e;\n                        }\n                        else {\n                            if (hitail == null)\n                                hihead = e;\n                            else\n                                hitail.next = e;\n                            hitail = e;\n                        }\n                    } while ((e = next) != null);\n                    if (lotail != null) {\n                        lotail.next = null;\n                        newtab[j] = lohead;\n                    }\n                    if (hitail != null) {\n                        hitail.next = null;\n                        newtab[j + oldcap] = hihead;\n                    }\n                }\n            }\n        }\n    }\n    return newtab;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n\n\nè¿è¡æ©å®¹ï¼ä¼ä¼´éçä¸æ¬¡éæ°hashåéï¼å¹¶ä¸ä¼éåhashè¡¨ä¸­ææçåç´ ï¼æ¯éå¸¸èæ¶çãå¨ç¼åç¨åºä¸­ï¼è¦å°½éé¿åresizeã\n\nå¨resizeååresizeåçåç´ å¸å±å¦ä¸:\n\n\n\nä¸å¾åªæ¯éå¯¹äºæ°ç»ä¸æ ä¸º2çæ¡¶ä¸­çåä¸ªåç´ å¨æ©å®¹åçåéå¸å±ï¼å¶ä»åä¸ªæ¡¶ä¸­çåç´ å¸å±å¯ä»¥ä»¥æ­¤ç±»æ¨ã\n\n# 5ãæ»ç»\n\nãå³äºæ°ç»æ©å®¹ã\n\nä»putvalæºä»£ç ä¸­æä»¬å¯ä»¥ç¥éï¼å½æå¥ä¸ä¸ªåç´ çæ¶åsizeå°±å 1ï¼è¥sizeå¤§äºthresholdçæ¶åï¼å°±ä¼è¿è¡æ©å®¹ãåè®¾æä»¬çcapacityå¤§å°ä¸º32ï¼loadfatorä¸º0.75ï¼åthresholdä¸º24 = 32 * 0.75ï¼\n\næ­¤æ¶ï¼æå¥äº25ä¸ªåç´ ï¼å¹¶ä¸æå¥çè¿25ä¸ªåç´ é½å¨åä¸ä¸ªæ¡¶ä¸­ï¼æ¡¶ä¸­çæ°æ®ç»æä¸ºçº¢é»æ ï¼åè¿ æ31ä¸ªæ¡¶æ¯ç©ºçï¼ä¹ä¼è¿è¡æ©å®¹å¤çï¼å¶å®ï¼æ­¤æ¶ï¼è¿æ31ä¸ªæ¡¶æ¯ç©ºçï¼å¥½åä¼¼ä¹ä¸éè¦è¿è¡æ©å®¹å¤ çï¼ä½æ¯æ¯éè¦æ©å®¹å¤ççï¼å ä¸ºæ­¤æ¶æä»¬çcapacityå¤§å°å¯è½ä¸éå½ãæä»¬åé¢ç¥éï¼æ©å®¹å¤çä¼é åææçåç´ ï¼æ¶é´å¤æåº¦å¾é«ï¼åé¢æä»¬è¿ç¥éï¼ç»è¿ä¸æ¬¡æ©å®¹å¤çåï¼åç´ ä¼æ´å ååçåå¸å¨å ä¸ªæ¡¶ä¸­ï¼ä¼æåè®¿é®æçãæä»¥ï¼è¯´å°½éé¿åè¿è¡æ©å®¹å¤çï¼ä¹å°±æå³çï¼éååç´ æå¸¦æ¥çåå¤å¤§äº åç´ å¨æ¡¶ä¸­åååå¸æå¸¦æ¥çå¥½å¤ã\n\nãæ»ç»ã\n\n 1. è¦ç¥éhashmapå¨jdk1.8ä»¥åæ¯ä¸ä¸ªé¾è¡¨æ£åè¿æ ·ä¸ä¸ªæ°æ®ç»æï¼èå¨jdk1.8ä»¥åæ¯ä¸ä¸ªæ°ç»å  é¾è¡¨å çº¢é»æ çæ°æ®ç»æã\n 2. éè¿æºç çå­¦ä¹ ï¼hashmapæ¯ä¸ä¸ªè½å¿«ééè¿keyè·åå°valueå¼å¾ä¸ä¸ªéåï¼åå æ¯åé¨ä½¿ç¨ç æ¯hashæ¥æ¾å¼å¾æ¹æ³ã',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"Listæ»ç»",frontmatter:{title:"Listæ»ç»",date:"2021-04-16T16:19:25.000Z",permalink:"/java/se/collection/List-summary/",categories:["java","java-se","éåæ¡æ¶"]},regularPath:"/01.Java/05.Java-%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/05.List%E6%80%BB%E7%BB%93.html",relativePath:"01.Java/05.Java-éåæ¡æ¶/05.Listæ»ç».md",key:"v-797fe2d2",path:"/java/se/collection/List-summary/",headers:[{level:2,title:"Listæ»ç»",slug:"listæ»ç»",normalizedTitle:"listæ»ç»",charIndex:2}],headersStr:"Listæ»ç»",content:"# Listæ»ç»\n\narrayListåLinkedListåºå«\n\n\tarrayListåºå±æ¯ç¨æ°ç»å®ç°çé¡ºåºè¡¨ï¼æ¯éæºå­åç±»åï¼å¯èªå¨æ©å¢ï¼å¹¶ä¸å¨åå§åæ¶ï¼æ°ç»çé¿åº¦æ¯0ï¼åªæå¨å¢å åç´ æ¶ï¼é¿åº¦æä¼å¢å ãé»è®¤æ¯10ï¼ä¸è½æ éæ©å¢ï¼æä¸éï¼å¨æ¥è¯¢æä½çæ¶åæ§è½æ´å¥½\n\n\tLinkedListåºå±æ¯ç¨é¾è¡¨æ¥å®ç°çï¼æ¯ä¸ä¸ªååé¾è¡¨ï¼æ³¨æè¿éä¸æ¯ååå¾ªç¯é¾è¡¨ï¼é¡ºåºå­åç±»åã å¨æºç ä¸­ï¼ä¼¼ä¹æ²¡æåç´ ä¸ªæ°çéå¶ãåºè¯¥è½æ éå¢å ä¸å»ï¼ç´å°åå­æ»¡äºå¨è¿è¡å é¤ï¼å¢å æä½æ¶æ§è½æ´å¥½ã\n\n\nä¸¤ä¸ªé½æ¯çº¿ç¨ä¸å®å¨çï¼å¨iteratoræ¶ï¼ä¼åçfail-fastï¼å¿«éå¤±æã\n\narrayListåVectorçåºå«\n\n\tarrayListçº¿ç¨ä¸å®å¨ï¼å¨ç¨iteratorï¼ä¼åçfail-fast\n\n\tVectorçº¿ç¨å®å¨ï¼å ä¸ºå¨æ¹æ³åå äºSynchronizedå³é®å­ãä¹ä¼åçfail-fast\n\n\nfail-faståfail-safeåºå«åä»ä¹æåµä¸ä¼åç\n\n\tç®åçæ¥è¯´ï¼å¨java.utilä¸çéåé½æ¯åçfail-fastï¼èå¨java.util.concurrentä¸çåççé½æ¯failsafeã\n\n\t1ï¼fail-fast\n\n\nå¿«éå¤±è´¥ï¼ä¾å¦å¨arrayListä¸­ä½¿ç¨è¿­ä»£å¨éåæ¶ï¼æå¦å¤ççº¿ç¨å¯¹arrayListçå­å¨æ°ç»è¿è¡äºæ¹åï¼æ¯å¦addãdeleteãç­ä½¿ä¹åçäºç»æä¸çæ¹åï¼æä»¥Iteratorå°±ä¼å¿«éæ¥ä¸ä¸ª java.util.ConcurrentModificationException å¼å¸¸ï¼å¹¶åä¿®æ¹å¼å¸¸ï¼ï¼è¿å°±æ¯å¿«éå¤±è´¥ã\n\n\t2ï¼fail-safe\n\n\nå®å¨å¤±è´¥ï¼å¨java.util.concurrentä¸çç±»ï¼é½æ¯çº¿ç¨å®å¨çç±»ï¼ä»ä»¬å¨è¿­ä»£çè¿ç¨ä¸­ï¼å¦ææçº¿ç¨è¿è¡ç»æçæ¹åï¼ä¸ä¼æ¥å¼å¸¸ï¼èæ¯æ­£å¸¸éåï¼è¿å°±æ¯å®å¨å¤±è´¥ã\n\n\t3ï¼ä¸ºä»ä¹å¨java.util.concurrentåä¸å¯¹éåæç»æçæ¹åï¼å´ä¸ä¼æ¥å¼å¸¸ï¼\n\n\nå¨concurrentä¸çéåç±»å¢å åç´ çæ¶åä½¿ç¨Arrays.copyOf()æ¥æ·è´å¯æ¬ï¼å¨å¯æ¬ä¸å¢å åç´ ï¼å¦ææå¶ä»çº¿ç¨å¨æ­¤æ¹åäºéåçç»æï¼é£ä¹æ¯å¨å¯æ¬ä¸çæ¹åï¼èä¸æ¯å½±åå°åéåï¼è¿­ä»£å¨è¿æ¯ç§å¸¸é åï¼éåå®ä¹åï¼æ¹ååå¼ç¨æåå¯æ¬ï¼æä»¥æ»çä¸å¥è¯å°±æ¯å¦æå¨æ­¤åä¸çç±»è¿è¡å¢å å é¤ï¼å°±ä¼åºç°ä¸ä¸ªå¯æ¬ãæä»¥è½é²æ­¢fail-fastï¼è¿ç§æºå¶å¹¶ä¸ä¼åºéï¼æä»¥æä»¬å«è¿ç§ç°è±¡ä¸ºfail-safeã\n\n\t4ï¼vectorä¹æ¯çº¿ç¨å®å¨çï¼ä¸ºä»ä¹æ¯fail-fastå¢ï¼\n\n\nè¿éææ¸æ¥ä¸ä¸ªé®é¢ï¼å¹¶ä¸æ¯è¯´çº¿ç¨å®å¨çéåå°±ä¸ä¼æ¥fail-fastï¼èæ¯æ¥fail-safeï¼ä½ å¾ææ¸æ¥åé¢æè¯´ç­æ¡çåçï¼åºç°fail-safeæ¯å ä¸ºä»ä»¬å¨å®ç°å¢å çåºå±æºå¶ä¸ä¸æ ·ï¼å°±åä¸é¢è¯´çï¼ä¼æä¸ä¸ªå¯æ¬ï¼èåarrayListãlinekdListãverctorç­ï¼ä»ä»¬åºå±å°±æ¯å¯¹ççæ­£çå¼ç¨è¿è¡æä½ï¼æä»¥æä¼åçå¼å¸¸ã\n\n\t5ï¼æ¢ç¶æ¯çº¿ç¨å®å¨çï¼ä¸ºä»ä¹å¨è¿­ä»£çæ¶åï¼è¿ä¼æå«ççº¿ç¨æ¥æ¹åå¶éåçç»æå¢(ä¹å°±æ¯å¯¹å¶å é¤åå¢å ç­æä½)ï¼\n\n\né¦åï¼æä»¬è¿­ä»£çæ¶åï¼æ ¹æ¬å°±æ²¡ç¨å°éåä¸­çå é¤ãå¢å ï¼æ¥è¯¢çæä½ï¼å°±æ¿vectoræ¥è¯´ï¼æä»¬é½æ²¡æç¨é£äºå éçæ¹æ³ï¼ä¹å°±æ¯æ¹æ³éæ¾å¨é£æ²¡äººæ¿ï¼å¨è¿­ä»£çè¿ç¨ä¸­ï¼æäººæ¿äºé£æéï¼æä»¬ä¹æ²¡æåæ³ï¼å ä¸ºé£æéå°±æ¾å¨é£è¾¹ã\n\nãä¸¾ä¾è¯´æfail-faståfail-safeçåºå«ã\n\n * fail-fast\n\n\n\n * fail-safe\n\néè¿CopyOnWriteArrayListè¿ä¸ªç±»æ¥åå®éªï¼ä¸ç¨ç®¡è¿ä¸ªç±»çä½ç¨ï¼ä½æ¯ä»ç¡®å®æ²¡ææ¥å¼å¸¸ï¼ å¹¶ä¸è¿éè¿ç¬¬äºæ¬¡æå°ï¼æ¥éªè¯äºä¸é¢æä»¬è¯´åå»ºäºå¯æ¬çäºæã\n\nåçæ¯å¨æ·»å æä½æ¶ä¼åå»ºå¯æ¬ï¼å¨å¯æ¬ä¸è¿è¡æ·»å æä½ï¼ç­è¿­ä»£å¨éåç»æåï¼ä¼å°åå¼ç¨ æ¹ä¸ºå¯æ¬å¼ç¨ï¼æä»¥æä»¬å¨åå»ºäºä¸ä¸ªlistçè¿­ä»£å¨ï¼ç»ææå°çå°±æ¯123444äºï¼\n\nè¯æäºç¡®å®æ¹åæä¸ºäºå¯æ¬å¼ç¨ï¼åé¢ä¸ºä»ä¹æ¯ä¸ä¸ª4ï¼åå æ¯æä»¬å¾ªç¯äº3æ¬¡ï¼ä¸å°±æ·»å äº3 ä¸ª4åãå¦æè¿æè§ä¸ç½çè¯ï¼çä¸addçæºç ã\n\n\n\n\n\nãä¸ºä»ä¹ç°å¨é½ä¸æå¡ä½¿ç¨vectoräºã\n\n1ï¼vectorå®ç°çº¿ç¨å®å¨çæ¹æ³æ¯å¨æ¯ä¸ªæä½æ¹æ³ä¸å éï¼è¿äºéå¹¶ä¸æ¯å¿é¡»è¦çï¼å¨å®éå¼åä¸­ï¼ ä¸è¬é½æ¯éè¿éä¸ç³»åçæä½æ¥å®ç°çº¿ç¨å®å¨ï¼ä¹å°±æ¯è¯´å°éè¦åæ­¥çèµæºæ¾ä¸èµ·å éæ¥ä¿è¯çº¿ç¨å®å¨ã\n\n2ï¼å¦æå¤ä¸ªThreadå¹¶åæ§è¡ä¸ä¸ªå·²ç»å éçæ¹æ³ï¼ä½æ¯å¨è¯¥æ¹æ³ä¸­ï¼åævectorçå­å¨ï¼vectoræ¬èº«å®ç°ä¸­å·²ç»å éäºï¼é£ä¹ç¸å½äºéä¸åå éï¼ä¼é æé¢å¤çå¼éã\n\n3ï¼å°±å¦ä¸é¢ç¬¬ä¸ä¸ªé®é¢æè¯´çï¼vectorè¿æfail-fastçé®é¢ï¼ä¹å°±æ¯è¯´å®ä¹æ æ³ä¿è¯éåå®å¨ï¼å¨éåæ¶åå¾é¢å¤å éï¼åæ¯é¢å¤çå¼éï¼è¿ä¸å¦ç´æ¥ç¨arrayListï¼ç¶ååå éå¢ã\n\næ»ç»ï¼Vectorå¨ä½ ä¸éè¦è¿è¡çº¿ç¨å®å¨çæ¶åï¼ä¹ä¼ç»ä½ å éï¼ä¹å°±å¯¼è´äºé¢å¤å¼éï¼æä»¥å¨ jdk1.5ä¹åå°±è¢«å¼ç¨äºï¼ç°å¨å¦æè¦ç¨å°çº¿ç¨å®å¨çéåï¼é½æ¯ä»java.util.concurrentåä¸å»æ¿ç¸åºçç±»ã",normalizedContent:"# listæ»ç»\n\narraylistålinkedliståºå«\n\n\tarrayliståºå±æ¯ç¨æ°ç»å®ç°çé¡ºåºè¡¨ï¼æ¯éæºå­åç±»åï¼å¯èªå¨æ©å¢ï¼å¹¶ä¸å¨åå§åæ¶ï¼æ°ç»çé¿åº¦æ¯0ï¼åªæå¨å¢å åç´ æ¶ï¼é¿åº¦æä¼å¢å ãé»è®¤æ¯10ï¼ä¸è½æ éæ©å¢ï¼æä¸éï¼å¨æ¥è¯¢æä½çæ¶åæ§è½æ´å¥½\n\n\tlinkedliståºå±æ¯ç¨é¾è¡¨æ¥å®ç°çï¼æ¯ä¸ä¸ªååé¾è¡¨ï¼æ³¨æè¿éä¸æ¯ååå¾ªç¯é¾è¡¨ï¼é¡ºåºå­åç±»åã å¨æºç ä¸­ï¼ä¼¼ä¹æ²¡æåç´ ä¸ªæ°çéå¶ãåºè¯¥è½æ éå¢å ä¸å»ï¼ç´å°åå­æ»¡äºå¨è¿è¡å é¤ï¼å¢å æä½æ¶æ§è½æ´å¥½ã\n\n\nä¸¤ä¸ªé½æ¯çº¿ç¨ä¸å®å¨çï¼å¨iteratoræ¶ï¼ä¼åçfail-fastï¼å¿«éå¤±æã\n\narrayliståvectorçåºå«\n\n\tarraylistçº¿ç¨ä¸å®å¨ï¼å¨ç¨iteratorï¼ä¼åçfail-fast\n\n\tvectorçº¿ç¨å®å¨ï¼å ä¸ºå¨æ¹æ³åå äºsynchronizedå³é®å­ãä¹ä¼åçfail-fast\n\n\nfail-faståfail-safeåºå«åä»ä¹æåµä¸ä¼åç\n\n\tç®åçæ¥è¯´ï¼å¨java.utilä¸çéåé½æ¯åçfail-fastï¼èå¨java.util.concurrentä¸çåççé½æ¯failsafeã\n\n\t1ï¼fail-fast\n\n\nå¿«éå¤±è´¥ï¼ä¾å¦å¨arraylistä¸­ä½¿ç¨è¿­ä»£å¨éåæ¶ï¼æå¦å¤ççº¿ç¨å¯¹arraylistçå­å¨æ°ç»è¿è¡äºæ¹åï¼æ¯å¦addãdeleteãç­ä½¿ä¹åçäºç»æä¸çæ¹åï¼æä»¥iteratorå°±ä¼å¿«éæ¥ä¸ä¸ª java.util.concurrentmodificationexception å¼å¸¸ï¼å¹¶åä¿®æ¹å¼å¸¸ï¼ï¼è¿å°±æ¯å¿«éå¤±è´¥ã\n\n\t2ï¼fail-safe\n\n\nå®å¨å¤±è´¥ï¼å¨java.util.concurrentä¸çç±»ï¼é½æ¯çº¿ç¨å®å¨çç±»ï¼ä»ä»¬å¨è¿­ä»£çè¿ç¨ä¸­ï¼å¦ææçº¿ç¨è¿è¡ç»æçæ¹åï¼ä¸ä¼æ¥å¼å¸¸ï¼èæ¯æ­£å¸¸éåï¼è¿å°±æ¯å®å¨å¤±è´¥ã\n\n\t3ï¼ä¸ºä»ä¹å¨java.util.concurrentåä¸å¯¹éåæç»æçæ¹åï¼å´ä¸ä¼æ¥å¼å¸¸ï¼\n\n\nå¨concurrentä¸çéåç±»å¢å åç´ çæ¶åä½¿ç¨arrays.copyof()æ¥æ·è´å¯æ¬ï¼å¨å¯æ¬ä¸å¢å åç´ ï¼å¦ææå¶ä»çº¿ç¨å¨æ­¤æ¹åäºéåçç»æï¼é£ä¹æ¯å¨å¯æ¬ä¸çæ¹åï¼èä¸æ¯å½±åå°åéåï¼è¿­ä»£å¨è¿æ¯ç§å¸¸é åï¼éåå®ä¹åï¼æ¹ååå¼ç¨æåå¯æ¬ï¼æä»¥æ»çä¸å¥è¯å°±æ¯å¦æå¨æ­¤åä¸çç±»è¿è¡å¢å å é¤ï¼å°±ä¼åºç°ä¸ä¸ªå¯æ¬ãæä»¥è½é²æ­¢fail-fastï¼è¿ç§æºå¶å¹¶ä¸ä¼åºéï¼æä»¥æä»¬å«è¿ç§ç°è±¡ä¸ºfail-safeã\n\n\t4ï¼vectorä¹æ¯çº¿ç¨å®å¨çï¼ä¸ºä»ä¹æ¯fail-fastå¢ï¼\n\n\nè¿éææ¸æ¥ä¸ä¸ªé®é¢ï¼å¹¶ä¸æ¯è¯´çº¿ç¨å®å¨çéåå°±ä¸ä¼æ¥fail-fastï¼èæ¯æ¥fail-safeï¼ä½ å¾ææ¸æ¥åé¢æè¯´ç­æ¡çåçï¼åºç°fail-safeæ¯å ä¸ºä»ä»¬å¨å®ç°å¢å çåºå±æºå¶ä¸ä¸æ ·ï¼å°±åä¸é¢è¯´çï¼ä¼æä¸ä¸ªå¯æ¬ï¼èåarraylistãlinekdlistãverctorç­ï¼ä»ä»¬åºå±å°±æ¯å¯¹ççæ­£çå¼ç¨è¿è¡æä½ï¼æä»¥æä¼åçå¼å¸¸ã\n\n\t5ï¼æ¢ç¶æ¯çº¿ç¨å®å¨çï¼ä¸ºä»ä¹å¨è¿­ä»£çæ¶åï¼è¿ä¼æå«ççº¿ç¨æ¥æ¹åå¶éåçç»æå¢(ä¹å°±æ¯å¯¹å¶å é¤åå¢å ç­æä½)ï¼\n\n\né¦åï¼æä»¬è¿­ä»£çæ¶åï¼æ ¹æ¬å°±æ²¡ç¨å°éåä¸­çå é¤ãå¢å ï¼æ¥è¯¢çæä½ï¼å°±æ¿vectoræ¥è¯´ï¼æä»¬é½æ²¡æç¨é£äºå éçæ¹æ³ï¼ä¹å°±æ¯æ¹æ³éæ¾å¨é£æ²¡äººæ¿ï¼å¨è¿­ä»£çè¿ç¨ä¸­ï¼æäººæ¿äºé£æéï¼æä»¬ä¹æ²¡æåæ³ï¼å ä¸ºé£æéå°±æ¾å¨é£è¾¹ã\n\nãä¸¾ä¾è¯´æfail-faståfail-safeçåºå«ã\n\n * fail-fast\n\n\n\n * fail-safe\n\néè¿copyonwritearraylistè¿ä¸ªç±»æ¥åå®éªï¼ä¸ç¨ç®¡è¿ä¸ªç±»çä½ç¨ï¼ä½æ¯ä»ç¡®å®æ²¡ææ¥å¼å¸¸ï¼ å¹¶ä¸è¿éè¿ç¬¬äºæ¬¡æå°ï¼æ¥éªè¯äºä¸é¢æä»¬è¯´åå»ºäºå¯æ¬çäºæã\n\nåçæ¯å¨æ·»å æä½æ¶ä¼åå»ºå¯æ¬ï¼å¨å¯æ¬ä¸è¿è¡æ·»å æä½ï¼ç­è¿­ä»£å¨éåç»æåï¼ä¼å°åå¼ç¨ æ¹ä¸ºå¯æ¬å¼ç¨ï¼æä»¥æä»¬å¨åå»ºäºä¸ä¸ªlistçè¿­ä»£å¨ï¼ç»ææå°çå°±æ¯123444äºï¼\n\nè¯æäºç¡®å®æ¹åæä¸ºäºå¯æ¬å¼ç¨ï¼åé¢ä¸ºä»ä¹æ¯ä¸ä¸ª4ï¼åå æ¯æä»¬å¾ªç¯äº3æ¬¡ï¼ä¸å°±æ·»å äº3 ä¸ª4åãå¦æè¿æè§ä¸ç½çè¯ï¼çä¸addçæºç ã\n\n\n\n\n\nãä¸ºä»ä¹ç°å¨é½ä¸æå¡ä½¿ç¨vectoräºã\n\n1ï¼vectorå®ç°çº¿ç¨å®å¨çæ¹æ³æ¯å¨æ¯ä¸ªæä½æ¹æ³ä¸å éï¼è¿äºéå¹¶ä¸æ¯å¿é¡»è¦çï¼å¨å®éå¼åä¸­ï¼ ä¸è¬é½æ¯éè¿éä¸ç³»åçæä½æ¥å®ç°çº¿ç¨å®å¨ï¼ä¹å°±æ¯è¯´å°éè¦åæ­¥çèµæºæ¾ä¸èµ·å éæ¥ä¿è¯çº¿ç¨å®å¨ã\n\n2ï¼å¦æå¤ä¸ªthreadå¹¶åæ§è¡ä¸ä¸ªå·²ç»å éçæ¹æ³ï¼ä½æ¯å¨è¯¥æ¹æ³ä¸­ï¼åævectorçå­å¨ï¼vectoræ¬èº«å®ç°ä¸­å·²ç»å éäºï¼é£ä¹ç¸å½äºéä¸åå éï¼ä¼é æé¢å¤çå¼éã\n\n3ï¼å°±å¦ä¸é¢ç¬¬ä¸ä¸ªé®é¢æè¯´çï¼vectorè¿æfail-fastçé®é¢ï¼ä¹å°±æ¯è¯´å®ä¹æ æ³ä¿è¯éåå®å¨ï¼å¨éåæ¶åå¾é¢å¤å éï¼åæ¯é¢å¤çå¼éï¼è¿ä¸å¦ç´æ¥ç¨arraylistï¼ç¶ååå éå¢ã\n\næ»ç»ï¼vectorå¨ä½ ä¸éè¦è¿è¡çº¿ç¨å®å¨çæ¶åï¼ä¹ä¼ç»ä½ å éï¼ä¹å°±å¯¼è´äºé¢å¤å¼éï¼æä»¥å¨ jdk1.5ä¹åå°±è¢«å¼ç¨äºï¼ç°å¨å¦æè¦ç¨å°çº¿ç¨å®å¨çéåï¼é½æ¯ä»java.util.concurrentåä¸å»æ¿ç¸åºçç±»ã",charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"set",frontmatter:{title:"set",date:"2021-04-16T16:19:25.000Z",permalink:"/java/se/collection/set/",categories:["java","java-se","éåæ¡æ¶"]},regularPath:"/01.Java/05.Java-%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/07.Set.html",relativePath:"01.Java/05.Java-éåæ¡æ¶/07.Set.md",key:"v-0210a959",path:"/java/se/collection/set/",headers:[{level:2,title:"Set",slug:"set",normalizedTitle:"set",charIndex:2}],headersStr:"Set",content:'# Set\n\nSetæ³¨éç¬ä¸æ äºçæ§è´¨ï¼è¯¥ä½ç³»éåå¯ä»¥ç¥éæç©æ¯å¦å·²ç»å­å¨äºéåä¸­ï¼ä¸ä¼å­å¨éå¤çåç´ ï¼ç¨äºå­å¨æ åº**ï¼å­å¥åååºçé¡ºåºä¸ä¸å®ç¸åï¼**åç´ ï¼å¼ä¸è½éå¤\n\nå¯¹è±¡çç¸ç­æ§ï¼ å¼ç¨å°å ä¸åä¸ä¸ªå¯¹è±¡çä¸¤ä¸ªå¼ç¨æ¯ç¸ç­çãå¦æå¯¹ä¸¤ä¸ªå¼ç¨è°ç¨hashcodeæ¹æ³ï¼ä¼å¾å°ç¸åçç»æï¼å¦æå¯¹è±¡æå±çç±»æ²¡æè¦çobjectçhashcodeæ¹æ³çè¯ï¼hashcodeä¼è¿åæ¯ä¸ªå¯¹è±¡ç¹æçåºå·ï¼javaæ¯ä¾æ®å¯¹è±¡çåå­å°åè®¡ç®åºçæ­¤åºå·ï¼ï¼æä»¥ä¸¤ä¸ªä¸åçå¯¹è±¡çhashcodeå¼æ¯ä¸å¯è½ç¸ç­çã\n\nå¦ææ³è¦è®©ä¸¤ä¸ªä¸åçPersonå¯¹è±¡è§ä¸ºç¸ç­çï¼å°±å¿é¡»è¦çObjectç»§æ¿ä¸æ¥çhashcodeæ¹æ³åequalsæ¹æ³ï¼å ä¸ºObject hashcodeè¿åçæ¯è¯¥å¯¹è±¡çåå­å°åï¼æä»¥å¿é¡»éåhashcodeæ¹æ³ï¼æè½ä¿è¯ä¸¤ä¸ªä¸åçå¯¹è±¡å·æç¸åçhashcodeï¼åæ¶ä¹éè¦ä¸¤ä¸ªä¸åå¯¹è±¡æ¯è¾equalsæ¹æ³è¿åtrueã\n\nè¯¥éåä¸­æ²¡æç¹æçæ¹æ³ï¼ç´æ¥ç»§æ¿èªCollection\n\n/**\n * Collection\n *      \\--List\n *          æåºï¼å­å¨é¡ºåºåååºé¡ºåºä¸è´ï¼ï¼å¯éå¤\n *      \\--Set\n *          æ åºï¼å­å¨é¡ºåºåååºé¡ºåºä¸ä¸è´ï¼ï¼å¯ä¸\n * HashSet:å®ä¸ä¿è¯setçè¿­ä»£é¡ºåºï¼ç¹å«æ¯å®ä¸ä¿è¯è¯¥é¡ºåºæä¹ä¸å\n * æ³¨æï¼è½ç¶setéåçåç´ æ åºï¼ä½æ¯ï¼ä½ä¸ºéåæ¥è¯´ï¼å®è¯å®æå®èªå·±çå­å¨é¡ºåºï¼\n * èä½ çé¡ºåºæ°å·§åå®çå­å¨é¡ºåºä¸è´ï¼è¿ä»£è¡¨ä¸äºæåºï¼ä½ å¯ä»¥å¤å­å¨ä¸äºæ°æ®å°±è½çå°ææ\n **/\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\næ¡ä¾ï¼setéåæ·»å åç´ å¹¶ä½¿ç¨å¢å¼ºforå¾ªç¯éå\n\npublic static void method1() {\n    Set<String> set = new HashSet<>();\n    set.add("1");\n    set.add("5");\n    set.add("2");\n\n    set.add("5");//éå¤çä¸ä¼æ·»å è¿å»\n    for (String s : set) {\n        System.out.println(s);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\næåè¾åºé¡ºåºæ¯ï¼ 1ã2ã5',normalizedContent:'# set\n\nsetæ³¨éç¬ä¸æ äºçæ§è´¨ï¼è¯¥ä½ç³»éåå¯ä»¥ç¥éæç©æ¯å¦å·²ç»å­å¨äºéåä¸­ï¼ä¸ä¼å­å¨éå¤çåç´ ï¼ç¨äºå­å¨æ åº**ï¼å­å¥åååºçé¡ºåºä¸ä¸å®ç¸åï¼**åç´ ï¼å¼ä¸è½éå¤\n\nå¯¹è±¡çç¸ç­æ§ï¼ å¼ç¨å°å ä¸åä¸ä¸ªå¯¹è±¡çä¸¤ä¸ªå¼ç¨æ¯ç¸ç­çãå¦æå¯¹ä¸¤ä¸ªå¼ç¨è°ç¨hashcodeæ¹æ³ï¼ä¼å¾å°ç¸åçç»æï¼å¦æå¯¹è±¡æå±çç±»æ²¡æè¦çobjectçhashcodeæ¹æ³çè¯ï¼hashcodeä¼è¿åæ¯ä¸ªå¯¹è±¡ç¹æçåºå·ï¼javaæ¯ä¾æ®å¯¹è±¡çåå­å°åè®¡ç®åºçæ­¤åºå·ï¼ï¼æä»¥ä¸¤ä¸ªä¸åçå¯¹è±¡çhashcodeå¼æ¯ä¸å¯è½ç¸ç­çã\n\nå¦ææ³è¦è®©ä¸¤ä¸ªä¸åçpersonå¯¹è±¡è§ä¸ºç¸ç­çï¼å°±å¿é¡»è¦çobjectç»§æ¿ä¸æ¥çhashcodeæ¹æ³åequalsæ¹æ³ï¼å ä¸ºobject hashcodeè¿åçæ¯è¯¥å¯¹è±¡çåå­å°åï¼æä»¥å¿é¡»éåhashcodeæ¹æ³ï¼æè½ä¿è¯ä¸¤ä¸ªä¸åçå¯¹è±¡å·æç¸åçhashcodeï¼åæ¶ä¹éè¦ä¸¤ä¸ªä¸åå¯¹è±¡æ¯è¾equalsæ¹æ³è¿åtrueã\n\nè¯¥éåä¸­æ²¡æç¹æçæ¹æ³ï¼ç´æ¥ç»§æ¿èªcollection\n\n/**\n * collection\n *      \\--list\n *          æåºï¼å­å¨é¡ºåºåååºé¡ºåºä¸è´ï¼ï¼å¯éå¤\n *      \\--set\n *          æ åºï¼å­å¨é¡ºåºåååºé¡ºåºä¸ä¸è´ï¼ï¼å¯ä¸\n * hashset:å®ä¸ä¿è¯setçè¿­ä»£é¡ºåºï¼ç¹å«æ¯å®ä¸ä¿è¯è¯¥é¡ºåºæä¹ä¸å\n * æ³¨æï¼è½ç¶setéåçåç´ æ åºï¼ä½æ¯ï¼ä½ä¸ºéåæ¥è¯´ï¼å®è¯å®æå®èªå·±çå­å¨é¡ºåºï¼\n * èä½ çé¡ºåºæ°å·§åå®çå­å¨é¡ºåºä¸è´ï¼è¿ä»£è¡¨ä¸äºæåºï¼ä½ å¯ä»¥å¤å­å¨ä¸äºæ°æ®å°±è½çå°ææ\n **/\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\næ¡ä¾ï¼setéåæ·»å åç´ å¹¶ä½¿ç¨å¢å¼ºforå¾ªç¯éå\n\npublic static void method1() {\n    set<string> set = new hashset<>();\n    set.add("1");\n    set.add("5");\n    set.add("2");\n\n    set.add("5");//éå¤çä¸ä¼æ·»å è¿å»\n    for (string s : set) {\n        system.out.println(s);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\næåè¾åºé¡ºåºæ¯ï¼ 1ã2ã5',charsets:{cjk:!0},lastUpdated:"2021/05/26, 10:05:00",lastUpdatedTimestamp:1622024154e3},{title:"HashSet",frontmatter:{title:"HashSet",date:"2021-04-16T16:19:25.000Z",permalink:"/java/se/collection/HashSet/",categories:["java","java-se","éåæ¡æ¶"]},regularPath:"/01.Java/05.Java-%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/08.HashSet.html",relativePath:"01.Java/05.Java-éåæ¡æ¶/08.HashSet.md",key:"v-2d5f5839",path:"/java/se/collection/HashSet/",headers:[{level:2,title:"HashSet",slug:"hashset",normalizedTitle:"hashset",charIndex:2},{level:3,title:"å­å¨è§å",slug:"å­å¨è§å",normalizedTitle:"å­å¨è§å",charIndex:288},{level:3,title:"HashSetç¨å¤",slug:"hashsetç¨å¤",normalizedTitle:"hashsetç¨å¤",charIndex:1084},{level:3,title:"LinkedHashSet",slug:"linkedhashset",normalizedTitle:"linkedhashset",charIndex:2625}],headersStr:"HashSet å­å¨è§å HashSetç¨å¤ LinkedHashSet",content:'# HashSet\n\nHashSetæ¯ä¸ä¸ªæ²¡æéå¤åç´ çéåï¼å®å¶å®æ¯ç±HashMapå®ç°çï¼HashMapä¿å­çæ¯å»ºå¼å¯¹ï¼ç¶èæä»¬åªè½åHashSetä¸­æ·»å Keyï¼åå å¨äºHashSetçValueå¶å®é½æ¯åä¸ä¸ªå¯¹è±¡ï¼è¿æ¯HashSetæ·»å åç´ çæ¹æ³ï¼å¯ä»¥çå°è¾å©å®ç°HashSetçmapä¸­çvalueå¶å®é½æ¯Objectç±»çåä¸ä¸ªå¯¹è±¡ã\n\nç¹ç¹ï¼\n\n * åºå±æ°æ®ç»ææ¯åå¸è¡¨\n * å¯¹éåçè¿­ä»£é¡ºåºä¸ä½ä»»ä½ä¿è¯ï¼ä¹å°±æ¯è¯´ä¸ä¿è¯å­å¨åååºçåç´ é¡ºåºä¸è´\n * æ²¡æå¸¦ç´¢å¼çæ¹æ³ï¼æä»¥ä¸è½ä½¿ç¨æ®éforå¾ªç¯éå\n * ç±äºæ¯Setéåï¼æä»¥æ¯ä¸åå«éå¤åç´ çéå\n\n\n# å­å¨è§å\n\n**åå¸è¡¨è¾¹å­æ¾çæ¯åå¸å¼ã**HashSetå­å¨åç´ çé¡ºåºå¹¶ä¸æ¯æç§å­å¥æ¶çé¡ºåºï¼åListæ¾ç¶ä¸åï¼ æ¯æç§åå¸å¼æ¥å­çæä»¥åæ°æ®ä¹æ¯æç§åå¸å¼åå¾ã\n\nHashSetä¸å­å¥éå¤åç´ çè§å.ä½¿ç¨hashcodeåequals\n\nç±äºSetéåæ¯ä¸è½å­å¥éå¤åç´ çéåãé£ä¹HashSetä¹æ¯å·å¤è¿ä¸ç¹æ§çãHashSetå¦ä½æ£æ¥éå¤ï¼HashSetä¼éè¿åç´ çhashcodeï¼ï¼åequalsæ¹æ³è¿è¡å¤æ­åç´ å¸å¦éå¤ã\n\nå½ä½ è¯å¾æå¯¹è±¡å å¥HashSetæ¶ï¼HashSetä¼ä½¿ç¨å¯¹è±¡çhashCodeæ¥å¤æ­å¯¹è±¡å å¥çä½ç½®ãåæ¶ä¹ä¼ä¸å¶ä»å·²ç»å å¥çå¯¹è±¡çhashCodeè¿è¡æ¯è¾ï¼å¦ææ²¡æç¸ç­çhashCodeï¼HashSetå°±ä¼åè®¾å¯¹è±¡æ²¡æéå¤åºç°ã\n\nç®åä¸å¥è¯ï¼å¦æå¯¹è±¡çhashCodeå¼æ¯ä¸åçï¼é£ä¹HashSetä¼è®¤ä¸ºå¯¹è±¡æ¯ä¸å¯è½ç¸ç­çã\n\nå æ­¤æä»¬èªå®ä¹ç±»çæ¶åéè¦éåhashCodeï¼æ¥ç¡®ä¿å¯¹è±¡å·æç¸åçhashCodeå¼ã\n\nå¦æåç´ (å¯¹è±¡)çhashCodeå¼ç¸åï¼æ¯ä¸æ¯å°±æ æ³å­å¥HashSetä¸­äºï¼å½ç¶ä¸æ¯ï¼ä¼ç»§ç»­ä½¿ç¨equals è¿è¡æ¯è¾ãå¦æ equalsä¸ºtrue é£ä¹HashSetè®¤ä¸ºæ°å å¥çå¯¹è±¡éå¤äºï¼æä»¥å å¥å¤±è´¥ãå¦æequals ä¸ºfalseé£ä¹HashSet è®¤ä¸ºæ°å å¥çå¯¹è±¡æ²¡æéå¤ï¼æ°åç´ å¯ä»¥å­å¥ã\n\næ»ç»ï¼\n\nåç´ çåå¸å¼æ¯éè¿åç´ çhashcodeæ¹æ³æ¥è·åç, HashSeté¦åå¤æ­ä¸¤ä¸ªåç´ çåå¸å¼ï¼å¦æåå¸å¼ä¸æ ·ï¼æ¥çä¼æ¯è¾equalsæ¹æ³ å¦æ equlsç»æä¸ºtrue ï¼HashSetå°±è§ä¸ºåä¸ä¸ªåç´ ãå¦æequals ä¸ºfalseå°±ä¸æ¯åä¸ä¸ªåç´ ã\n\nåå¸å¼ç¸åequalsä¸ºfalseçåç´ æ¯æä¹å­å¨å¢,å°±æ¯å¨åæ ·çåå¸å¼ä¸é¡ºå»¶ï¼å¯ä»¥è®¤ä¸ºåå¸å¼ç¸åçåç´ æ¾å¨ä¸ä¸ªåå¸æ¡¶ä¸­ï¼ãä¹å°±æ¯åå¸ä¸æ ·çå­ä¸åã\n\n\n# HashSetç¨å¤\n\né®é¢ï¼ç°å¨æä¸æ¹æ°æ®ï¼è¦æ±ä¸è½éå¤å­å¨åç´ ï¼èä¸è¦æåºãArrayList ã LinkedListä¸è½å»é¤éå¤æ°æ®ãHashSetå¯ä»¥å»é¤éå¤ï¼ä½æ¯æ¯æ åºã\n\næä»¥è¿æ¶åå°±è¦ä½¿ç¨TreeSetäº\n\næ¡ä¾ï¼åå»ºä¸ä¸ªå­¦çç±»ï¼å¹¶éåequalsåhashcode\n\nimport java.util.Objects;\n\npublic class HashSetStudent {\n    public String name;\n    public int age;\n\n    public HashSetStudent(String name, int age) {\n        this.name = name;\n        this.age = age;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        HashSetStudent that = (HashSetStudent) o;\n        return age == that.age && Objects.equals(name, that.name);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(name, age);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\nä»£ç ï¼\n\npublic class HashSetTest {\n    public static void main(String[] args) {\n        HashSetStudent s1 = new HashSetStudent("æç½1",15);\n        HashSetStudent s2 = new HashSetStudent("æç½2",16);\n\n        HashSetStudent s3 = new HashSetStudent("æç½1",15);//éå¤å¼ä¸æå¥\n        \n        HashSetStudent s4 = new HashSetStudent("æç½1",10);\n        HashSetStudent s5 = new HashSetStudent("æç½2",10);\n\n        HashSet<HashSetStudent> hs = new HashSet<>();\n        hs.add(s1);\n        hs.add(s2);\n        hs.add(s3);\n        hs.add(s4);\n        hs.add(s5);\n\n        for(HashSetStudent S:hs){\n            System.out.println(S.name+"--"+S.age);\n        }\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\næåè¾åºï¼\n\n> æç½2--10 æç½1--10 æç½1--15 æç½2--16\n\n\n# LinkedHashSet\n\nç¹ç¹ï¼\n\n * åå¸è¡¨åé¾è¡¨å®ç°çSetæ¥å£ï¼å·æå¯é¢æµçè¿­ä»£æ¬¡åº\n * ç±é¾è¡¨ä¿è¯åç´ æåºï¼ä¹å°±æ¯è¯´åç´ çå­å¨åååºé¡ºåºæ¯ä¸è´ç\n * ç±åå¸è¡¨ä¿è¯åç´ å¯ä¸ï¼ä¹å°±æ¯è¯´æ²¡æéå¤çåç´ \n\nå¾è¡¥å......',normalizedContent:'# hashset\n\nhashsetæ¯ä¸ä¸ªæ²¡æéå¤åç´ çéåï¼å®å¶å®æ¯ç±hashmapå®ç°çï¼hashmapä¿å­çæ¯å»ºå¼å¯¹ï¼ç¶èæä»¬åªè½åhashsetä¸­æ·»å keyï¼åå å¨äºhashsetçvalueå¶å®é½æ¯åä¸ä¸ªå¯¹è±¡ï¼è¿æ¯hashsetæ·»å åç´ çæ¹æ³ï¼å¯ä»¥çå°è¾å©å®ç°hashsetçmapä¸­çvalueå¶å®é½æ¯objectç±»çåä¸ä¸ªå¯¹è±¡ã\n\nç¹ç¹ï¼\n\n * åºå±æ°æ®ç»ææ¯åå¸è¡¨\n * å¯¹éåçè¿­ä»£é¡ºåºä¸ä½ä»»ä½ä¿è¯ï¼ä¹å°±æ¯è¯´ä¸ä¿è¯å­å¨åååºçåç´ é¡ºåºä¸è´\n * æ²¡æå¸¦ç´¢å¼çæ¹æ³ï¼æä»¥ä¸è½ä½¿ç¨æ®éforå¾ªç¯éå\n * ç±äºæ¯setéåï¼æä»¥æ¯ä¸åå«éå¤åç´ çéå\n\n\n# å­å¨è§å\n\n**åå¸è¡¨è¾¹å­æ¾çæ¯åå¸å¼ã**hashsetå­å¨åç´ çé¡ºåºå¹¶ä¸æ¯æç§å­å¥æ¶çé¡ºåºï¼ålistæ¾ç¶ä¸åï¼ æ¯æç§åå¸å¼æ¥å­çæä»¥åæ°æ®ä¹æ¯æç§åå¸å¼åå¾ã\n\nhashsetä¸å­å¥éå¤åç´ çè§å.ä½¿ç¨hashcodeåequals\n\nç±äºsetéåæ¯ä¸è½å­å¥éå¤åç´ çéåãé£ä¹hashsetä¹æ¯å·å¤è¿ä¸ç¹æ§çãhashsetå¦ä½æ£æ¥éå¤ï¼hashsetä¼éè¿åç´ çhashcodeï¼ï¼åequalsæ¹æ³è¿è¡å¤æ­åç´ å¸å¦éå¤ã\n\nå½ä½ è¯å¾æå¯¹è±¡å å¥hashsetæ¶ï¼hashsetä¼ä½¿ç¨å¯¹è±¡çhashcodeæ¥å¤æ­å¯¹è±¡å å¥çä½ç½®ãåæ¶ä¹ä¼ä¸å¶ä»å·²ç»å å¥çå¯¹è±¡çhashcodeè¿è¡æ¯è¾ï¼å¦ææ²¡æç¸ç­çhashcodeï¼hashsetå°±ä¼åè®¾å¯¹è±¡æ²¡æéå¤åºç°ã\n\nç®åä¸å¥è¯ï¼å¦æå¯¹è±¡çhashcodeå¼æ¯ä¸åçï¼é£ä¹hashsetä¼è®¤ä¸ºå¯¹è±¡æ¯ä¸å¯è½ç¸ç­çã\n\nå æ­¤æä»¬èªå®ä¹ç±»çæ¶åéè¦éåhashcodeï¼æ¥ç¡®ä¿å¯¹è±¡å·æç¸åçhashcodeå¼ã\n\nå¦æåç´ (å¯¹è±¡)çhashcodeå¼ç¸åï¼æ¯ä¸æ¯å°±æ æ³å­å¥hashsetä¸­äºï¼å½ç¶ä¸æ¯ï¼ä¼ç»§ç»­ä½¿ç¨equals è¿è¡æ¯è¾ãå¦æ equalsä¸ºtrue é£ä¹hashsetè®¤ä¸ºæ°å å¥çå¯¹è±¡éå¤äºï¼æä»¥å å¥å¤±è´¥ãå¦æequals ä¸ºfalseé£ä¹hashset è®¤ä¸ºæ°å å¥çå¯¹è±¡æ²¡æéå¤ï¼æ°åç´ å¯ä»¥å­å¥ã\n\næ»ç»ï¼\n\nåç´ çåå¸å¼æ¯éè¿åç´ çhashcodeæ¹æ³æ¥è·åç, hashseté¦åå¤æ­ä¸¤ä¸ªåç´ çåå¸å¼ï¼å¦æåå¸å¼ä¸æ ·ï¼æ¥çä¼æ¯è¾equalsæ¹æ³ å¦æ equlsç»æä¸ºtrue ï¼hashsetå°±è§ä¸ºåä¸ä¸ªåç´ ãå¦æequals ä¸ºfalseå°±ä¸æ¯åä¸ä¸ªåç´ ã\n\nåå¸å¼ç¸åequalsä¸ºfalseçåç´ æ¯æä¹å­å¨å¢,å°±æ¯å¨åæ ·çåå¸å¼ä¸é¡ºå»¶ï¼å¯ä»¥è®¤ä¸ºåå¸å¼ç¸åçåç´ æ¾å¨ä¸ä¸ªåå¸æ¡¶ä¸­ï¼ãä¹å°±æ¯åå¸ä¸æ ·çå­ä¸åã\n\n\n# hashsetç¨å¤\n\né®é¢ï¼ç°å¨æä¸æ¹æ°æ®ï¼è¦æ±ä¸è½éå¤å­å¨åç´ ï¼èä¸è¦æåºãarraylist ã linkedlistä¸è½å»é¤éå¤æ°æ®ãhashsetå¯ä»¥å»é¤éå¤ï¼ä½æ¯æ¯æ åºã\n\næä»¥è¿æ¶åå°±è¦ä½¿ç¨treesetäº\n\næ¡ä¾ï¼åå»ºä¸ä¸ªå­¦çç±»ï¼å¹¶éåequalsåhashcode\n\nimport java.util.objects;\n\npublic class hashsetstudent {\n    public string name;\n    public int age;\n\n    public hashsetstudent(string name, int age) {\n        this.name = name;\n        this.age = age;\n    }\n\n    @override\n    public boolean equals(object o) {\n        if (this == o) return true;\n        if (o == null || getclass() != o.getclass()) return false;\n        hashsetstudent that = (hashsetstudent) o;\n        return age == that.age && objects.equals(name, that.name);\n    }\n\n    @override\n    public int hashcode() {\n        return objects.hash(name, age);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\nä»£ç ï¼\n\npublic class hashsettest {\n    public static void main(string[] args) {\n        hashsetstudent s1 = new hashsetstudent("æç½1",15);\n        hashsetstudent s2 = new hashsetstudent("æç½2",16);\n\n        hashsetstudent s3 = new hashsetstudent("æç½1",15);//éå¤å¼ä¸æå¥\n        \n        hashsetstudent s4 = new hashsetstudent("æç½1",10);\n        hashsetstudent s5 = new hashsetstudent("æç½2",10);\n\n        hashset<hashsetstudent> hs = new hashset<>();\n        hs.add(s1);\n        hs.add(s2);\n        hs.add(s3);\n        hs.add(s4);\n        hs.add(s5);\n\n        for(hashsetstudent s:hs){\n            system.out.println(s.name+"--"+s.age);\n        }\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\næåè¾åºï¼\n\n> æç½2--10 æç½1--10 æç½1--15 æç½2--16\n\n\n# linkedhashset\n\nç¹ç¹ï¼\n\n * åå¸è¡¨åé¾è¡¨å®ç°çsetæ¥å£ï¼å·æå¯é¢æµçè¿­ä»£æ¬¡åº\n * ç±é¾è¡¨ä¿è¯åç´ æåºï¼ä¹å°±æ¯è¯´åç´ çå­å¨åååºé¡ºåºæ¯ä¸è´ç\n * ç±åå¸è¡¨ä¿è¯åç´ å¯ä¸ï¼ä¹å°±æ¯è¯´æ²¡æéå¤çåç´ \n\nå¾è¡¥å......',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"è¿­ä»£å¨",frontmatter:{title:"è¿­ä»£å¨",date:"2021-04-16T16:19:25.000Z",permalink:"/java/se/collection/iterator/",categories:["java","java-se","éåæ¡æ¶"]},regularPath:"/01.Java/05.Java-%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/10.%E8%BF%AD%E4%BB%A3%E5%99%A8.html",relativePath:"01.Java/05.Java-éåæ¡æ¶/10.è¿­ä»£å¨.md",key:"v-417db3ae",path:"/java/se/collection/iterator/",headers:[{level:2,title:"è¿­ä»£å¨",slug:"è¿­ä»£å¨",normalizedTitle:"è¿­ä»£å¨",charIndex:2}],headersStr:"è¿­ä»£å¨",content:'# è¿­ä»£å¨\n\nææå®ç°äºCollectionæ¥å£çå®¹å¨ç±»é½æä¸ä¸ªiteratoræ¹æ³ç¨ä»¥è¿åä¸ä¸ªå®ç°Iteratoræ¥å£çå¯¹è±¡\n\nIteratorå¯¹è±¡ç§°ä½ä¸ºè¿­ä»£å¨ï¼ç¨ä»¥æ¹ä¾¿çå¯¹å®¹å¨ååç´ çéåæä½ï¼Iteratoræ¥å£å®ä¹äºå¦ä¸æ¹æ³ï¼\n\n * boolean hashNext();//å¤æ­æ¯å¦æåç´ æ²¡æè¢«éå\n * Object next();//è¿åæ¸¸æ å½åä½ç½®çåç´ å¹¶å°æ¸¸æ ç§»å¨å°ä¸ä¸ä¸ªä½ç½®\n * void remove();//å é¤æ¸¸æ å·¦è¾¹çåç´ ï¼å¨æ§è¡å®nextä¹åè¯¥æä½åªè½æ§è¡ä¸æ¬¡\n\né®é¢ï¼å¦ä½éåMapéåå¢ï¼\n\næ¹æ³1ï¼éè¿è¿­ä»£å¨Iteratorå®ç°éå\n\nè·åIterator ï¼Collection æ¥å£çiterator()æ¹æ³\n\nIteratorçæ¹æ³ï¼\n\n * boolean hasNext(): å¤æ­æ¯å¦å­å¨å¦ä¸ä¸ªå¯è®¿é®çåç´ \n * Object next(): è¿åè¦è®¿é®çä¸ä¸ä¸ªåç´ \n\nSet keys = dogMap.keySet(); //ååºæækeyçéå\nIterator it = keys.iterator(); //è·åIteratorå¯¹è±¡\nwhile (it.hasNext()) {\n    String key = (String) it.next(); //ååºkey\n    Dog dog = (Dog) dogMap.get(key); //æ ¹æ®keyååºå¯¹åºçå¼\n    System.out.println(key + "\\t" + dog.getStrain());\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\næ¹æ³2ï¼å¢å¼ºforå¾ªç¯\n\nfor(åç´ ç±»åt åç´ åéx : æ°ç»æéåå¯¹è±¡){\n\tå¼ç¨äºxçjavaè¯­å¥\n}\n\n\n1\n2\n3\n',normalizedContent:'# è¿­ä»£å¨\n\nææå®ç°äºcollectionæ¥å£çå®¹å¨ç±»é½æä¸ä¸ªiteratoræ¹æ³ç¨ä»¥è¿åä¸ä¸ªå®ç°iteratoræ¥å£çå¯¹è±¡\n\niteratorå¯¹è±¡ç§°ä½ä¸ºè¿­ä»£å¨ï¼ç¨ä»¥æ¹ä¾¿çå¯¹å®¹å¨ååç´ çéåæä½ï¼iteratoræ¥å£å®ä¹äºå¦ä¸æ¹æ³ï¼\n\n * boolean hashnext();//å¤æ­æ¯å¦æåç´ æ²¡æè¢«éå\n * object next();//è¿åæ¸¸æ å½åä½ç½®çåç´ å¹¶å°æ¸¸æ ç§»å¨å°ä¸ä¸ä¸ªä½ç½®\n * void remove();//å é¤æ¸¸æ å·¦è¾¹çåç´ ï¼å¨æ§è¡å®nextä¹åè¯¥æä½åªè½æ§è¡ä¸æ¬¡\n\né®é¢ï¼å¦ä½éåmapéåå¢ï¼\n\næ¹æ³1ï¼éè¿è¿­ä»£å¨iteratorå®ç°éå\n\nè·åiterator ï¼collection æ¥å£çiterator()æ¹æ³\n\niteratorçæ¹æ³ï¼\n\n * boolean hasnext(): å¤æ­æ¯å¦å­å¨å¦ä¸ä¸ªå¯è®¿é®çåç´ \n * object next(): è¿åè¦è®¿é®çä¸ä¸ä¸ªåç´ \n\nset keys = dogmap.keyset(); //ååºæækeyçéå\niterator it = keys.iterator(); //è·åiteratorå¯¹è±¡\nwhile (it.hasnext()) {\n    string key = (string) it.next(); //ååºkey\n    dog dog = (dog) dogmap.get(key); //æ ¹æ®keyååºå¯¹åºçå¼\n    system.out.println(key + "\\t" + dog.getstrain());\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\næ¹æ³2ï¼å¢å¼ºforå¾ªç¯\n\nfor(åç´ ç±»åt åç´ åéx : æ°ç»æéåå¯¹è±¡){\n\tå¼ç¨äºxçjavaè¯­å¥\n}\n\n\n1\n2\n3\n',charsets:{cjk:!0},lastUpdated:"2021/05/26, 10:05:00",lastUpdatedTimestamp:1622024154e3},{title:"TreeSet",frontmatter:{title:"TreeSet",date:"2021-04-16T16:19:25.000Z",permalink:"/java/se/collection/TreeSet/",categories:["java","java-se","éåæ¡æ¶"]},regularPath:"/01.Java/05.Java-%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/09.TreeSet.html",relativePath:"01.Java/05.Java-éåæ¡æ¶/09.TreeSet.md",key:"v-43d92dd9",path:"/java/se/collection/TreeSet/",headers:[{level:2,title:"TreeSet",slug:"treeset",normalizedTitle:"treeset",charIndex:2},{level:3,title:"TreeSetèªç¶é¡ºåº",slug:"treesetèªç¶é¡ºåº",normalizedTitle:"treesetèªç¶é¡ºåº",charIndex:737},{level:3,title:"TreeSetèªå®ä¹æåº",slug:"treesetèªå®ä¹æåº",normalizedTitle:"treesetèªå®ä¹æåº",charIndex:1016}],headersStr:"TreeSet TreeSetèªç¶é¡ºåº TreeSetèªå®ä¹æåº",content:'# TreeSet\n\nTreeSetç®ä»\n\nçº¢-é»æ çæ°æ®ç»æï¼é»è®¤å¯¹åç´ è¿è¡èªç¶æåº\n\nTreeSet æ¯ä¸ä¸ªæåºçéåï¼å®çä½ç¨æ¯æä¾æåºçSetéåãå®ç»§æ¿äºAbstractSetæ½è±¡ç±»ï¼å®ç°äºNavigableSet, Cloneable, java.io.Serializableæ¥å£ã\n\nTreeSet ç»§æ¿äºAbstractSetï¼æä»¥å®æ¯ä¸ä¸ªSetéåï¼å·æSetçå±æ§åæ¹æ³ã\n\nTreeSet å®ç°äºNavigableSetæ¥å£ï¼æå³çå®æ¯æä¸ç³»åçå¯¼èªæ¹æ³ãæ¯å¦æ¥æ¾ä¸æå®ç®æ æå¹éé¡¹ã\n\nTreeSet å®ç°äºCloneableæ¥å£ï¼æå³çå®è½è¢«åéã\n\nTreeSet å®ç°äºjava.io.Serializableæ¥å£ï¼æå³çå®æ¯æåºååã\n\nTreeSetæ¯åºäºTreeMapå®ç°çãTreeSetä¸­çåç´ æ¯æ2ç§æåºæ¹å¼ï¼èªç¶æåº æè æ ¹æ®åå»ºTreeSet æ¶æä¾ç Comparator è¿è¡æåºãè¿åå³äºä½¿ç¨çæé æ¹æ³ã\n\nTreeSetä¸ºåºæ¬æä½ï¼addãremove å containsï¼æä¾åä¿è¯ç log(n) æ¶é´å¼éã å¦å¤ï¼TreeSetæ¯éåæ­¥çã å®çiterator æ¹æ³è¿åçè¿­ä»£å¨æ¯fail-fastçã\n\nç¹ç¹ï¼\n\n * åç´ æåºï¼è¿éçé¡ºåºä¸æ¯æå­å¨åååºçé¡ºåºï¼èæ¯æç§ä¸å®çè§åè¿è¡æåºï¼å·ä½æåºæ¹å¼åå³äºæé æ¹æ³\n   \n   TreeSet():æ ¹æ®å¶åç´ çèªç¶éåºè¿è¡æåº\n   \n   TreeSet(Comparator comparator):æ ¹æ®æå®çæ¯è¾å¨è¿è¡æåº\n\n * æ²¡æå¸¦ç´¢å¼çæ¹æ³ï¼æä»¥ä¸è½ä½¿ç¨æ®éforå¾ªç¯éå\n\n * ç±äºæ¯Setéåï¼æä»¥ä¸åå«éå¤åç´ çéå\n\n\n# TreeSetèªç¶é¡ºåº\n\nå³ç±»è¦å®ç°Comparableæ¥å£ï¼å¹¶éåcompareTo()æ¹æ³ï¼TreeSetå¯¹è±¡è°ç¨add()æ¹æ³æ¶ï¼ä¼å°å­å¥çå¯¹è±¡æåä¸ºComparableç±»åï¼ç¶åè°ç¨å¯¹è±¡ä¸­çcompareTo()æ¹æ³è¿è¡æ¯è¾ï¼æ ¹æ®æ¯è¾çè¿åå¼è¿è¡å­å¨ã\n\nå ä¸ºTreeSetåºå±æ¯äºåæ ï¼å½compareToæ¹æ³è¿å0æ¶ï¼ä¸å­å¨ï¼å½compareToæ¹æ³è¿åæ­£æ°æ¶ï¼å­å¥äºåæ çå³å­æ ï¼å½compareToæ¹æ³è¿åè´æ°æ¶ï¼å­å¥äºåæ çå·¦å­æ ãå¦æä¸ä¸ªç±»æ²¡æå®ç°Comparableæ¥å£å°±å°è¯¥ç±»å¯¹è±¡å­å¥TreeSetéåï¼ä¼åçç±»åè½¬æ¢å¼å¸¸ã\n\n\n# TreeSetèªå®ä¹æåº\n\næ¹å¼ä¸ï¼åç´ èªèº«å·å¤æ¯è¾æ§\n\nåç´ èªèº«å·å¤æ¯è¾æ§ï¼éè¦åç´ å®ç°Comparableæ¥å£ï¼éåcompareToæ¹æ³ï¼ä¹å°±æ¯è®©åç´ èªèº«å·å¤æ¯è¾æ§ï¼è¿ç§æ¹å¼å«ååç´ çèªç¶æåºä¹å«åé»è®¤æåºã\n\nè®©åç´ èªèº«å·å¤æ¯è¾æ§\n\nä¹å°±æ¯åç´ éè¦å®ç°Comparableæ¥å£ï¼è¦çcompareTo æ¹æ³ã\n\næ¡ä¾ï¼åå»ºStudentç±»ï¼æå§åï¼å¹´é¾ãå­å¥éååï¼åæ ¹æ®å¹´é¾å¤§å°ï¼åæ ¹æ®å§åæ¥è¿è¡æåºæå¥éåä¸­\n\npublic class Student implements Comparable<Student> {\n    public String name;\n    public int age;\n\n    public Student(String name, int age) {\n        this.name = name;\n        this.age = age;\n    }\n\n    @Override\n    public int compareTo(Student o) {\n        int i = this.age-o.age;\n        int n = i==0?this.name.compareTo(o.name):i;\n        return n;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\néåcompareTo()æ¹æ³ï¼è¿åå¼æä¸ç§æåµ\n\n 1. è¿åå¼ä¸º0ï¼ä¸æå¥éå\n 2. è¿åå¼ä¸º1ï¼å¾åæå¥éå\n 3. è¿åå¼ä¸º-1ï¼å¾åæå¥éå\n\npublic class Demo {\n    public static void main(String[] args) {\n        Student s1 = new Student("xishi",25);\n        Student s2 = new Student("yangyuhuan",29);\n        Student s3 = new Student("diaochan",28);\n        Student s4 = new Student("wangzhaojun",30);\n        Student s5 = new Student("libai",30);\n        Student s6 = new Student("libai",30);\n\n        TreeSet<Student> ts = new TreeSet<>();\n\n        ts.add(s1);\n        ts.add(s2);\n        ts.add(s3);\n        ts.add(s4);\n        ts.add(s5);\n        ts.add(s6);\n\n        for(Student s : ts){\n            System.out.println(s.name+"---"+s.age);\n        }\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\nè®©å®¹å¨èªèº«å·å¤æ¯è¾æ§ï¼èªå®ä¹æ¯è¾å¨ã\n\néæ±ï¼å½åç´ èªèº«ä¸å·å¤æ¯è¾æ§ï¼æèåç´ èªèº«å·å¤çæ¯è¾æ§ä¸æ¯æéçã\n\né£ä¹è¿æ¶åªè½è®©å®¹å¨èªèº«å·å¤ã\n\nå®ä¹ä¸ä¸ªç±»å®ç°Comparator æ¥å£ï¼è¦çcompareæ¹æ³ã\n\nå¹¶å°è¯¥æ¥å£çå­ç±»å¯¹è±¡ä½ä¸ºåæ°ä¼ éç»TreeSetéåçæé å½æ°ã\n\nå½Comparableæ¯è¾æ¹å¼ï¼åComparatoræ¯è¾æ¹å¼åæ¶å­å¨ï¼ä»¥Comparatoræ¯è¾æ¹å¼ä¸ºä¸»ã\n\npublic class Demo5 {\n\tpublic static void main(String[] args) {\n\t\tTreeSet ts = new TreeSet(new MyComparator());\n\t\tts.add(new Book("think in java", 100));\n\t\tts.add(new Book("java æ ¸å¿ææ¯", 75));\n\t\tts.add(new Book("ç°ä»£æä½ç³»ç»", 50));\n\t\tts.add(new Book("javaå°±ä¸æç¨", 35));\n\t\tts.add(new Book("think in java", 100));\n\t\tts.add(new Book("ccc in java", 100));\n \n\t\tSystem.out.println(ts); \n\t}\n}\n \nclass MyComparator implements Comparator {\n \n\tpublic int compare(Object o1, Object o2) {\n\t\tBook b1 = (Book) o1;\n\t\tBook b2 = (Book) o2;\n\t\tSystem.out.println(b1+" comparator "+b2);\n\t\tif (b1.getPrice() > b2.getPrice()) {\n\t\t\treturn 1;\n\t\t}\n\t\tif (b1.getPrice() < b2.getPrice()) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn b1.getName().compareTo(b2.getName());\n\t}\n \n}\n \nclass Book {\n\tprivate String name;\n\tprivate double price;\n \n\tpublic Book() {\n \n\t}\n \n\tpublic String getName() {\n\t\treturn name;\n\t}\n \n\tpublic void setName(String name) {\n\t\tthis.name = name;\n\t}\n \n\tpublic double getPrice() {\n\t\treturn price;\n\t}\n \n\tpublic void setPrice(double price) {\n\t\tthis.price = price;\n\t}\n \n\tpublic Book(String name, double price) {\n \n\t\tthis.name = name;\n\t\tthis.price = price;\n\t}\n \n\t@Override\n\tpublic String toString() {\n\t\treturn "Book [name=" + name + ", price=" + price + "]";\n\t}\n \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n',normalizedContent:'# treeset\n\ntreesetç®ä»\n\nçº¢-é»æ çæ°æ®ç»æï¼é»è®¤å¯¹åç´ è¿è¡èªç¶æåº\n\ntreeset æ¯ä¸ä¸ªæåºçéåï¼å®çä½ç¨æ¯æä¾æåºçsetéåãå®ç»§æ¿äºabstractsetæ½è±¡ç±»ï¼å®ç°äºnavigableset, cloneable, java.io.serializableæ¥å£ã\n\ntreeset ç»§æ¿äºabstractsetï¼æä»¥å®æ¯ä¸ä¸ªsetéåï¼å·æsetçå±æ§åæ¹æ³ã\n\ntreeset å®ç°äºnavigablesetæ¥å£ï¼æå³çå®æ¯æä¸ç³»åçå¯¼èªæ¹æ³ãæ¯å¦æ¥æ¾ä¸æå®ç®æ æå¹éé¡¹ã\n\ntreeset å®ç°äºcloneableæ¥å£ï¼æå³çå®è½è¢«åéã\n\ntreeset å®ç°äºjava.io.serializableæ¥å£ï¼æå³çå®æ¯æåºååã\n\ntreesetæ¯åºäºtreemapå®ç°çãtreesetä¸­çåç´ æ¯æ2ç§æåºæ¹å¼ï¼èªç¶æåº æè æ ¹æ®åå»ºtreeset æ¶æä¾ç comparator è¿è¡æåºãè¿åå³äºä½¿ç¨çæé æ¹æ³ã\n\ntreesetä¸ºåºæ¬æä½ï¼addãremove å containsï¼æä¾åä¿è¯ç log(n) æ¶é´å¼éã å¦å¤ï¼treesetæ¯éåæ­¥çã å®çiterator æ¹æ³è¿åçè¿­ä»£å¨æ¯fail-fastçã\n\nç¹ç¹ï¼\n\n * åç´ æåºï¼è¿éçé¡ºåºä¸æ¯æå­å¨åååºçé¡ºåºï¼èæ¯æç§ä¸å®çè§åè¿è¡æåºï¼å·ä½æåºæ¹å¼åå³äºæé æ¹æ³\n   \n   treeset():æ ¹æ®å¶åç´ çèªç¶éåºè¿è¡æåº\n   \n   treeset(comparator comparator):æ ¹æ®æå®çæ¯è¾å¨è¿è¡æåº\n\n * æ²¡æå¸¦ç´¢å¼çæ¹æ³ï¼æä»¥ä¸è½ä½¿ç¨æ®éforå¾ªç¯éå\n\n * ç±äºæ¯setéåï¼æä»¥ä¸åå«éå¤åç´ çéå\n\n\n# treesetèªç¶é¡ºåº\n\nå³ç±»è¦å®ç°comparableæ¥å£ï¼å¹¶éåcompareto()æ¹æ³ï¼treesetå¯¹è±¡è°ç¨add()æ¹æ³æ¶ï¼ä¼å°å­å¥çå¯¹è±¡æåä¸ºcomparableç±»åï¼ç¶åè°ç¨å¯¹è±¡ä¸­çcompareto()æ¹æ³è¿è¡æ¯è¾ï¼æ ¹æ®æ¯è¾çè¿åå¼è¿è¡å­å¨ã\n\nå ä¸ºtreesetåºå±æ¯äºåæ ï¼å½comparetoæ¹æ³è¿å0æ¶ï¼ä¸å­å¨ï¼å½comparetoæ¹æ³è¿åæ­£æ°æ¶ï¼å­å¥äºåæ çå³å­æ ï¼å½comparetoæ¹æ³è¿åè´æ°æ¶ï¼å­å¥äºåæ çå·¦å­æ ãå¦æä¸ä¸ªç±»æ²¡æå®ç°comparableæ¥å£å°±å°è¯¥ç±»å¯¹è±¡å­å¥treesetéåï¼ä¼åçç±»åè½¬æ¢å¼å¸¸ã\n\n\n# treesetèªå®ä¹æåº\n\næ¹å¼ä¸ï¼åç´ èªèº«å·å¤æ¯è¾æ§\n\nåç´ èªèº«å·å¤æ¯è¾æ§ï¼éè¦åç´ å®ç°comparableæ¥å£ï¼éåcomparetoæ¹æ³ï¼ä¹å°±æ¯è®©åç´ èªèº«å·å¤æ¯è¾æ§ï¼è¿ç§æ¹å¼å«ååç´ çèªç¶æåºä¹å«åé»è®¤æåºã\n\nè®©åç´ èªèº«å·å¤æ¯è¾æ§\n\nä¹å°±æ¯åç´ éè¦å®ç°comparableæ¥å£ï¼è¦çcompareto æ¹æ³ã\n\næ¡ä¾ï¼åå»ºstudentç±»ï¼æå§åï¼å¹´é¾ãå­å¥éååï¼åæ ¹æ®å¹´é¾å¤§å°ï¼åæ ¹æ®å§åæ¥è¿è¡æåºæå¥éåä¸­\n\npublic class student implements comparable<student> {\n    public string name;\n    public int age;\n\n    public student(string name, int age) {\n        this.name = name;\n        this.age = age;\n    }\n\n    @override\n    public int compareto(student o) {\n        int i = this.age-o.age;\n        int n = i==0?this.name.compareto(o.name):i;\n        return n;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\néåcompareto()æ¹æ³ï¼è¿åå¼æä¸ç§æåµ\n\n 1. è¿åå¼ä¸º0ï¼ä¸æå¥éå\n 2. è¿åå¼ä¸º1ï¼å¾åæå¥éå\n 3. è¿åå¼ä¸º-1ï¼å¾åæå¥éå\n\npublic class demo {\n    public static void main(string[] args) {\n        student s1 = new student("xishi",25);\n        student s2 = new student("yangyuhuan",29);\n        student s3 = new student("diaochan",28);\n        student s4 = new student("wangzhaojun",30);\n        student s5 = new student("libai",30);\n        student s6 = new student("libai",30);\n\n        treeset<student> ts = new treeset<>();\n\n        ts.add(s1);\n        ts.add(s2);\n        ts.add(s3);\n        ts.add(s4);\n        ts.add(s5);\n        ts.add(s6);\n\n        for(student s : ts){\n            system.out.println(s.name+"---"+s.age);\n        }\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\nè®©å®¹å¨èªèº«å·å¤æ¯è¾æ§ï¼èªå®ä¹æ¯è¾å¨ã\n\néæ±ï¼å½åç´ èªèº«ä¸å·å¤æ¯è¾æ§ï¼æèåç´ èªèº«å·å¤çæ¯è¾æ§ä¸æ¯æéçã\n\né£ä¹è¿æ¶åªè½è®©å®¹å¨èªèº«å·å¤ã\n\nå®ä¹ä¸ä¸ªç±»å®ç°comparator æ¥å£ï¼è¦çcompareæ¹æ³ã\n\nå¹¶å°è¯¥æ¥å£çå­ç±»å¯¹è±¡ä½ä¸ºåæ°ä¼ éç»treesetéåçæé å½æ°ã\n\nå½comparableæ¯è¾æ¹å¼ï¼åcomparatoræ¯è¾æ¹å¼åæ¶å­å¨ï¼ä»¥comparatoræ¯è¾æ¹å¼ä¸ºä¸»ã\n\npublic class demo5 {\n\tpublic static void main(string[] args) {\n\t\ttreeset ts = new treeset(new mycomparator());\n\t\tts.add(new book("think in java", 100));\n\t\tts.add(new book("java æ ¸å¿ææ¯", 75));\n\t\tts.add(new book("ç°ä»£æä½ç³»ç»", 50));\n\t\tts.add(new book("javaå°±ä¸æç¨", 35));\n\t\tts.add(new book("think in java", 100));\n\t\tts.add(new book("ccc in java", 100));\n \n\t\tsystem.out.println(ts); \n\t}\n}\n \nclass mycomparator implements comparator {\n \n\tpublic int compare(object o1, object o2) {\n\t\tbook b1 = (book) o1;\n\t\tbook b2 = (book) o2;\n\t\tsystem.out.println(b1+" comparator "+b2);\n\t\tif (b1.getprice() > b2.getprice()) {\n\t\t\treturn 1;\n\t\t}\n\t\tif (b1.getprice() < b2.getprice()) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn b1.getname().compareto(b2.getname());\n\t}\n \n}\n \nclass book {\n\tprivate string name;\n\tprivate double price;\n \n\tpublic book() {\n \n\t}\n \n\tpublic string getname() {\n\t\treturn name;\n\t}\n \n\tpublic void setname(string name) {\n\t\tthis.name = name;\n\t}\n \n\tpublic double getprice() {\n\t\treturn price;\n\t}\n \n\tpublic void setprice(double price) {\n\t\tthis.price = price;\n\t}\n \n\tpublic book(string name, double price) {\n \n\t\tthis.name = name;\n\t\tthis.price = price;\n\t}\n \n\t@override\n\tpublic string tostring() {\n\t\treturn "book [name=" + name + ", price=" + price + "]";\n\t}\n \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n',charsets:{cjk:!0},lastUpdated:"2021/05/26, 10:05:00",lastUpdatedTimestamp:1622024154e3},{title:"æ³å",frontmatter:{title:"æ³å",date:"2021-04-16T16:19:25.000Z",permalink:"/java/se/collection/generic-paradigm/",categories:["java","java-se","éåæ¡æ¶"]},regularPath:"/01.Java/05.Java-%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/11.%E6%B3%9B%E5%9E%8B.html",relativePath:"01.Java/05.Java-éåæ¡æ¶/11.æ³å.md",key:"v-28e9210c",path:"/java/se/collection/generic-paradigm/",headers:[{level:2,title:"æ³å",slug:"æ³å",normalizedTitle:"æ³å",charIndex:2}],headersStr:"æ³å",content:"# æ³å\n\nJava æ³åï¼genericsï¼æ¯ JDK 5 ä¸­å¼å¥çä¸ä¸ªæ°ç¹æ§, æ³åæä¾äºç¼è¯æ¶ç±»åå®å¨æ£æµæºå¶ï¼è¯¥æºå¶åè®¸ ç¨åºåå¨ç¼è¯æ¶æ£æµå°éæ³çç±»åã\n\næ³åçæ¬è´¨æ¯åæ°åç±»åï¼ä¹å°±æ¯è¯´ææä½çæ°æ®ç±»åè¢«æå®ä¸ºä¸ä¸ªåæ°ã\n\nå¦ä½è§£å³ä»¥ä¸å¼ºå¶ç±»åè½¬æ¢æ¶å®¹æåºç°çå¼å¸¸é®é¢?\n\nListçget(int index)æ¹æ³è·ååç´  Mapçget(Object key)æ¹æ³è·ååç´  Iteratorçnext()æ¹æ³è·ååç´ \n\nåæï¼éè¿æ³å ï¼ JDK1.5ä½¿ç¨æ³åæ¹åäºéåæ¡æ¶ä¸­çæææ¥å£åç±»\n\n\n\n\n\nï¼ ééç¬¦ï¼ < ? >",normalizedContent:"# æ³å\n\njava æ³åï¼genericsï¼æ¯ jdk 5 ä¸­å¼å¥çä¸ä¸ªæ°ç¹æ§, æ³åæä¾äºç¼è¯æ¶ç±»åå®å¨æ£æµæºå¶ï¼è¯¥æºå¶åè®¸ ç¨åºåå¨ç¼è¯æ¶æ£æµå°éæ³çç±»åã\n\næ³åçæ¬è´¨æ¯åæ°åç±»åï¼ä¹å°±æ¯è¯´ææä½çæ°æ®ç±»åè¢«æå®ä¸ºä¸ä¸ªåæ°ã\n\nå¦ä½è§£å³ä»¥ä¸å¼ºå¶ç±»åè½¬æ¢æ¶å®¹æåºç°çå¼å¸¸é®é¢?\n\nlistçget(int index)æ¹æ³è·ååç´  mapçget(object key)æ¹æ³è·ååç´  iteratorçnext()æ¹æ³è·ååç´ \n\nåæï¼éè¿æ³å ï¼ jdk1.5ä½¿ç¨æ³åæ¹åäºéåæ¡æ¶ä¸­çæææ¥å£åç±»\n\n\n\n\n\nï¼ ééç¬¦ï¼ < ? >",charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"Collectionså·¥å·ç±»",frontmatter:{title:"Collectionså·¥å·ç±»",date:"2021-04-16T16:19:25.000Z",permalink:"/java/se/collection/collections/",categories:["java","java-se","éåæ¡æ¶"]},regularPath:"/01.Java/05.Java-%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/12.Collections%E5%B7%A5%E5%85%B7%E7%B1%BB.html",relativePath:"01.Java/05.Java-éåæ¡æ¶/12.Collectionså·¥å·ç±».md",key:"v-5dded6fa",path:"/java/se/collection/collections/",headers:[{level:2,title:"Collectionså·¥å·ç±»",slug:"collectionså·¥å·ç±»",normalizedTitle:"collectionså·¥å·ç±»",charIndex:2},{level:3,title:"1ãCollectiosæ¦è¿°",slug:"_1ãcollectiosæ¦è¿°",normalizedTitle:"1ãcollectiosæ¦è¿°",charIndex:156},{level:3,title:"2ãæåºæä½",slug:"_2ãæåºæä½",normalizedTitle:"2ãæåºæä½",charIndex:370},{level:3,title:"3ãæ¥æ¾ãæ¿æ¢æä½",slug:"_3ãæ¥æ¾ãæ¿æ¢æä½",normalizedTitle:"3ãæ¥æ¾ãæ¿æ¢æä½",charIndex:2822},{level:3,title:"4ãåæ­¥æ§å¶",slug:"_4ãåæ­¥æ§å¶",normalizedTitle:"4ãåæ­¥æ§å¶",charIndex:4834},{level:3,title:"5ãCollesctionè®¾ç½®ä¸å¯åéå",slug:"_5ãcollesctionè®¾ç½®ä¸å¯åéå",normalizedTitle:"5ãcollesctionè®¾ç½®ä¸å¯åéå",charIndex:5741},{level:3,title:"æ»ç»åæµè¯",slug:"æ»ç»åæµè¯",normalizedTitle:"æ»ç»åæµè¯",charIndex:6858},{level:3,title:"æå°ä¸»æ¡ä¾",slug:"æå°ä¸»æ¡ä¾",normalizedTitle:"æå°ä¸»æ¡ä¾",charIndex:8677}],headersStr:"Collectionså·¥å·ç±» 1ãCollectiosæ¦è¿° 2ãæåºæä½ 3ãæ¥æ¾ãæ¿æ¢æä½ 4ãåæ­¥æ§å¶ 5ãCollesctionè®¾ç½®ä¸å¯åéå æ»ç»åæµè¯ æå°ä¸»æ¡ä¾",content:'# Collectionså·¥å·ç±»\n\nãåè¨ã\n\nJavaæä¾äºä¸ä¸ªæä½SetãListåMapç­éåçå·¥å·ç±»ï¼Collectionsï¼è¯¥å·¥å·ç±»æä¾äºå¤§éæ¹æ³å¯¹éåè¿ è¡æåºãæ¥è¯¢åä¿®æ¹ç­æä½ï¼è¿æä¾äºå°éåå¯¹è±¡ç½®ä¸ºä¸å¯åãå¯¹éåå¯¹è±¡å®ç°åæ­¥æ§å¶ç­æ¹æ³ã\n\nè¿ä¸ªç±»ä¸éè¦åå»ºå¯¹è±¡ï¼åé¨æä¾çé½æ¯éææ¹æ³ã\n\n\n# 1ãCollectiosæ¦è¿°\n\n\n\næ­¤ç±»å®å¨ç±å¨ collection ä¸è¿è¡æä½æè¿å collection çéææ¹æ³ç»æãå®åå«å¨ collection ä¸æä½çå¤æç®æ³ï¼å³âåè£å¨âï¼åè£å¨è¿åç±æå® collection æ¯æçæ° collectionï¼ä»¥åå°æ°å¶ä»åå®¹ãå¦æä¸º æ­¤ç±»çæ¹æ³ææä¾ç collection æç±»å¯¹è±¡ä¸º nullï¼åè¿äºæ¹æ³é½å°æåº NullPointerException ã\n\n\n# 2ãæåºæä½\n\nstatic void reverse(List<?> list)//åè½¬åè¡¨ä¸­åç´ çé¡ºåºã\n\nstatic void shuffle(List<?> list) //å¯¹Listéååç´ è¿è¡éæºæåºã\n\nstatic void sort(List<T> list) //æ ¹æ®åç´ çèªç¶é¡ºåº å¯¹æå®åè¡¨æååºè¿è¡æåº\n\nstatic <T> void sort(List<T> list, Comparator<? super T> c) //æ ¹æ®æå®æ¯è¾å¨äº§ççé¡ºåºå¯¹æå®åè¡¨è¿è¡æåºã\n    \nstatic void swap(List<?> list, int i, int j)   //å¨æå®Listçæå®ä½ç½®i,jå¤äº¤æ¢åç´ ã\n\nstatic void rotate(List<?> list, int distance)\n //å½distanceä¸ºæ­£æ°æ¶ï¼å°Listéåçådistanceä¸ªåç´ âæ´ä½âç§»å°åé¢ï¼å½distanceä¸ºè´æ°æ¶ï¼å°listéåçådistanceä¸ªåç´ âæ´ä½âç§»å°åè¾¹ãè¯¥æ¹æ³ä¸ä¼æ¹åéåçé¿åº¦ã\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nãæ¼ç¤ºã\n\npublic static void main(String[] args) {\n    ArrayList list = new ArrayList();\n    list.add(3);\n    list.add(-2);\n    list.add(9);\n    list.add(5);\n    list.add(-1);\n    list.add(6);\n\n    //è¾åºï¼[3, -2, 9, 5, -1, 6]\n    System.out.println(list);\n    //éååç´ çæ¬¡åºåè½¬\n    Collections.reverse(list);\n    //è¾åºï¼[6, -1, 5, 9, -2, 3]\n    System.out.println(list);\n    //æåºï¼æç§ååºæåº\n    Collections.sort(list);\n    //[-2, -1, 3, 5, 6, 9]\n    System.out.println(list);\n    //æ ¹æ®ä¸æ è¿è¡äº¤æ¢\n    Collections.swap(list, 2, 5);\n    //è¾åºï¼[-2, -1, 9, 5, 6, 3]\n    System.out.println(list);\n    \n    /*//éæºæåº\n    Collections.shuffle(list);\n    //æ¯æ¬¡è¾åºçæ¬¡åºä¸åºå®\n    System.out.println(list);*/\n    \n    //åä¸¤ä¸ªæ´ä½ç§»å¨å°åè¾¹\n    Collections.rotate(list, 2);\n    //è¾åºï¼[6, 9, -2, -1, 3, 5]\n    System.out.println(list);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\nãæ¼ç¤ºã\n\nåå»ºå­¦çéåï¼å å¥æ°æ®ï¼å¹¶èªå®ä¹æåºï¼åæ ¹æ®å¹´é¾ï¼åæ ¹æ®é¦å­æ¯\n\npojoç±»\n\npublic class Student {\n    public String name;\n    public int age;\n\n    public Student(String name, int age) {\n        this.name = name;\n        this.age = age;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\ntestä»£ç \n\npublic static void main(String[] args) {\n    ArrayList<Student> array = new ArrayList<>();\n    Student s1 = new Student("lingqingxia",20);\n    Student s2 = new Student("wangxizhi",30);\n    Student s3 = new Student("libai",25);\n    Student s4 = new Student("dufu",25);\n\t//Student s5 = new Student("dufu",25);\n\n    array.add(s1);\n    array.add(s2);\n    array.add(s3);\n    array.add(s4);\n\t//array.add(s5);\n    Collections.sort(array, new Comparator<Student>() {\n        @Override\n        public int compare(Student o1, Student o2) {\n            int i = o1.age-o2.age;\n            int n = i==0?o1.name.compareTo(o2.name):i;\n            return n;\n        }\n    });\n\n    for (Student s:array){\n        System.out.println(s.name+","+s.age);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# 3ãæ¥æ¾ãæ¿æ¢æä½\n\nãæ¹æ³ã\n\n//ä½¿ç¨äºåæç´¢æ³æç´¢æå®åè¡¨ï¼ä»¥è·å¾æå®å¯¹è±¡å¨Listéåä¸­çç´¢å¼ã\n//æ³¨æï¼æ­¤åå¿é¡»ä¿è¯Listéåä¸­çåç´ å·²ç»å¤äºæåºç¶æã\nstatic <T> int binarySearch(List<? extends Comparable<? super T>> list, T key)\n\n//æ ¹æ®åç´ çèªç¶é¡ºåºï¼è¿åç»å®collection çæå¤§åç´ ã\nstatic Object max(Collection coll)\n\n   \t//æ ¹æ®æå®æ¯è¾å¨äº§ççé¡ºåºï¼è¿åç»å® collection çæå¤§åç´ ã\n    static Object max(Collection coll,Comparator comp)\n\n    //æ ¹æ®åç´ çèªç¶é¡ºåºï¼è¿åç»å®collection çæå°åç´ ã\n    static Object min(Collection coll)\n    \n    //æ ¹æ®æå®æ¯è¾å¨äº§ççé¡ºåºï¼è¿åç»å® collection çæå°åç´ ã\n    static Object min(Collection coll,Comparator comp)\n    \n    ä½¿ç¨æå®åç´ æ¿æ¢æå®åè¡¨ä¸­çææåç´ ã\n    static <T> void fill(List<? super T> list, T obj)\n    \n    //è¿åæå® collection ä¸­ç­äºæå®å¯¹è±¡çåºç°æ¬¡æ°ã\n    static int frequency(Collection<?> c, Object o)\n    \n    //è¿åæå®æºåè¡¨ä¸­ç¬¬ä¸æ¬¡åºç°æå®ç®æ åè¡¨çèµ·å§ä½ç½®ï¼å¦ææ²¡æåºç°è¿æ ·çåè¡¨ï¼åè¿å-1ã\n    static int indexOfSubList(List<?> source, List<?> target) \n    \n    //è¿åæå®æºåè¡¨ä¸­æåä¸æ¬¡åºç°æå®ç®æ åè¡¨çèµ·å§ä½ç½®ï¼å¦ææ²¡æåºç°è¿æ ·çåè¡¨ï¼åè¿å-1ã\n    static int lastIndexOfSubList(List<?> source, List<?> target)\n    \n    //ä½¿ç¨ä¸ä¸ªæ°å¼æ¿æ¢Listå¯¹è±¡çæææ§å¼oldVal\n    static <T> boolean replaceAll(List<T> list, T oldVal, T newVal)\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\nãæ¼ç¤ºï¼å®ä¾ä½¿ç¨æ¥æ¾ãæ¿æ¢æä½ã\n\npublic static void main(String[] args) {\n    ArrayList list = new ArrayList();\n    list.add(3);\n    list.add(-2);\n    list.add(9);\n    list.add(5);\n    list.add(-1);\n    list.add(6);\n    //[3, -2, 9, 5, -1, 6]\n    System.out.println(list);\n    //è¾åºæå¤§åç´ 9\n    System.out.println(Collections.max(list));\n    //è¾åºæå°åç´ ï¼-2\n    System.out.println(Collections.min(list));\n    //å°listä¸­ç-2ç¨1æ¥ä»£æ¿\n    System.out.println(Collections.replaceAll(list, -2, 1));\n    //[3, 1, 9, 5, -1, 6]\n    System.out.println(list);\n    list.add(9);\n    //å¤æ­9å¨éåä¸­åºç°çæ¬¡æ°ï¼è¿å2\n    System.out.println(Collections.frequency(list, 9));\n    //å¯¹éåè¿è¡æåº\n    Collections.sort(list);\n    //[-1, 1, 3, 5, 6, 9, 9]\n    System.out.println(list);\n    //åªææåºåçListéåæå¯ç¨äºåæ³æ¥è¯¢ï¼è¾åº2\n    System.out.println(Collections.binarySearch(list, 3));\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n\n# 4ãåæ­¥æ§å¶\n\nCollectonsæä¾äºå¤ä¸ªsynchronizedXxx()æ¹æ³ï¼è¯¥æ¹æ³å¯ä»¥å°æå®éååè£æçº¿ç¨åæ­¥çéåï¼ä» èè§£å³å¤çº¿ç¨å¹¶åè®¿é®éåæ¶ççº¿ç¨å®å¨é®é¢ã\n\næ­£å¦åé¢ä»ç»çHashSetï¼TreeSetï¼arrayList,LinkedList,HashMap,TreeMapé½æ¯çº¿ç¨ä¸å®å¨çã Collectionsæä¾äºå¤ä¸ªéææ¹æ³å¯ä»¥æä»ä»¬åè£æçº¿ç¨åæ­¥çéåã\n\nãæ¹æ³ã\n\n//è¿åæå® collection æ¯æçåæ­¥ï¼çº¿ç¨å®å¨çï¼collectionã\nstatic <T> Collection<T> synchronizedCollection(Collection<T> c)\n    \n//è¿åæå®åè¡¨æ¯æçåæ­¥ï¼çº¿ç¨å®å¨çï¼åè¡¨ã\nstatic <T> List<T> synchronizedList(List<T> list)\n\n//è¿åç±æå®æ å°æ¯æçåæ­¥ï¼çº¿ç¨å®å¨çï¼æ å°ã\nstatic <K,V> Map<K,V> synchronizedMap(Map<K,V> m)\n\n//è¿åæå® set æ¯æçåæ­¥ï¼çº¿ç¨å®å¨çï¼set\nstatic <T> Set<T> synchronizedSet(Set<T> s)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nãå®ä¾ã\n\npublic static void main(String[] args) {\n    //ä¸é¢ç¨åºåå»ºäºåä¸ªåæ­¥çéåå¯¹è±¡\n    Collection c = Collections.synchronizedCollection(new ArrayList());\n    List list = Collections.synchronizedList(new ArrayList());\n    Set s = Collections.synchronizedSet(new HashSet());\n    Map m = Collections.synchronizedMap(new HashMap());\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 5ãCollesctionè®¾ç½®ä¸å¯åéå\n\nãæ¹æ³ã\n\n//è¿åä¸ä¸ªç©ºçãä¸å¯åçéåå¯¹è±¡ï¼æ­¤å¤çéåæ¢å¯ä»¥æ¯Listï¼ä¹å¯ä»¥æ¯Setï¼è¿å¯ä»¥æ¯Mapã\nemptyXxx()\n\n//è¿åä¸ä¸ªåªåå«æå®å¯¹è±¡ï¼åªæä¸ä¸ªæä¸ä¸ªåç´ ï¼çä¸å¯åçéåå¯¹è±¡ï¼æ­¤å¤çéåå¯ä»¥æ¯ï¼Listï¼Setï¼Mapã\nsingletonXxx()\n    \n//è¿åæå®éåå¯¹è±¡çä¸å¯åè§å¾ï¼æ­¤å¤çéåå¯ä»¥æ¯ï¼Listï¼Setï¼Mapã\nunmodifiableXxx():\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nä¸é¢ä¸ç±»æ¹æ³çåæ°æ¯åæçéåå¯¹è±¡ï¼è¿åå¼æ¯è¯¥éåçâåªè¯»âçæ¬ã\n\nãå®ä¾ã\n\npublic static void main(String[] args) {\n    //åå»ºä¸ä¸ªç©ºçãä¸å¯æ¹åçListå¯¹è±¡\n    List<String> unmodifiableList = Collections.emptyList();\n    //unmodifiableList.add("java");\n    //æ·»å åºç°å¼å¸¸ï¼java.lang.UnsupportedOperationException\n    System.out.println(unmodifiableList);// []\n    //åå»ºä¸ä¸ªåªæä¸ä¸ªåç´ ï¼ä¸ä¸å¯æ¹åçSetå¯¹è±¡\n    Set unmodifiableSet = Collections.singleton("Struts2æå¨æå");\n    //[Struts2æå¨æå]\n    System.out.println(unmodifiableSet);\n    //åå»ºä¸ä¸ªæ®éMapå¯¹è±¡\n    Map scores = new HashMap();\n    scores.put("è¯­æ", 80);\n    scores.put("Java", 82);\n    //è¿åæ®éMapå¯¹è±¡å¯¹åºçä¸å¯åçæ¬\n    Map unmodifiableMap = Collections.unmodifiableMap(scores);\n    //ä¸é¢ä»»æä¸è¡ä»£ç é½å°å¼åUnsupportedOperationExceptionå¼å¸¸\n    unmodifiableList.add("æµè¯åç´ ");\n    unmodifiableSet.add("æµè¯åç´ ");\n    unmodifiableMap.put("è¯­æ", 90);\n    \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# æ»ç»åæµè¯\n\nå®ä½ç±»ï¼Pojo\n\nimport java.util.*;\n\n\npublic class CollectionsTest {\n    public static void main(String[] args) {\n        //åå»ºä¸ä¸ªç©ºçãä¸å¯æ¹åçListå¯¹è±¡\n        List<String> unmodifiableList = Collections.emptyList();\n        //unmodifiableList.add("java");\n        //æ·»å åºç°å¼å¸¸ï¼java.lang.UnsupportedOperationException\n        System.out.println(unmodifiableList);// []\n        //åå»ºä¸ä¸ªåªæä¸ä¸ªåç´ ï¼ä¸ä¸å¯æ¹åçSetå¯¹è±¡\n        Set unmodifiableSet = Collections.singleton("Struts2æå¨æå");\n        //[Struts2æå¨æå]\n        System.out.println(unmodifiableSet);\n        //åå»ºä¸ä¸ªæ®éMapå¯¹è±¡\n        Map scores = new HashMap();\n        scores.put("è¯­æ", 80);\n        scores.put("Java", 82);\n        //è¿åæ®éMapå¯¹è±¡å¯¹åºçä¸å¯åçæ¬\n        Map unmodifiableMap = Collections.unmodifiableMap(scores);\n        //ä¸é¢ä»»æä¸è¡ä»£ç é½å°å¼åUnsupportedOperationExceptionå¼å¸¸\n        unmodifiableList.add("æµè¯åç´ ");\n        unmodifiableSet.add("æµè¯åç´ ");\n        unmodifiableMap.put("è¯­æ", 90);\n\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\næµè¯ç±»ä»£ç å¦ä¸\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Test01 {\n    public static void main(String[] args) throws Exception {\n        //ä¸ä¸ªå¯¹è±¡å¯¹åºäºä¸è¡è®°å½ï¼\n        Employee e1 = new Employee(0301, "çç¥", 3000, "é¡¹ç®é¨", "2017-10");\n        Employee e2 = new Employee(0302, "å°æ", 3500, "æå­¦é¨", "2016-10");\n        Employee e3 = new Employee(0303, "å°çº¢", 3550, "æå­¦é¨", "2016-10");\n        List<Employee> list = new ArrayList<Employee>();\n        list.add(e1);\n        list.add(e2);\n        list.add(e3);\n        printEmpName(list);\n    }\n\n    public static void printEmpName(List<Employee> list) {\n        for (int i = 0; i < list.size(); i++) {\n            System.out.println(list.get(i).getName() + "-" + list.get(i).getHireDate());\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# æå°ä¸»æ¡ä¾\n\nç®æçæ¬\n\npublic static void main(String[] args) {\n    ArrayList<String> array = new ArrayList<>();\n\n    String[] colors = {"æ¹ç", "æ¢è±", "é»æ¡", "çº¢æ¡"};\n    String[] numbers = {"1","2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K"};\n\n    for (String c : colors) {\n        for (String n : numbers) {\n            array.add(c + n);\n        }\n    }\n    array.add("å°ç");\n    array.add("å¤§ç");\n    Collections.shuffle(array);//æ´ç\n\n    //åç\n    ArrayList<String> wj1 = new ArrayList<>();//ç©å®¶1\n    ArrayList<String> wj2 = new ArrayList<>();\n    ArrayList<String> wj3 = new ArrayList<>();\n    ArrayList<String> dp = new ArrayList<>();//åºç\n\n\n    for (int i = 0; i < array.size(); i++) {\n        String s = array.get(i);\n        if (i >= array.size() - 3) {\n            dp.add(s);\n        }else{\n            int i1 = i % 3;\n            switch (i1){\n                case 0:\n                    wj1.add(s);\n                    break;\n                case 1:\n                    wj2.add(s);\n                    break;\n                case 2:\n                    wj3.add(s);\n                    break;\n            }\n        }\n    }\n    //çç\n    System.out.println("åºçï¼"+dp);\n    System.out.println("ç©å®¶1çç"+wj1);\n    System.out.println("ç©å®¶2çç"+wj2);\n    System.out.println("ç©å®¶3çç"+wj3);\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n\n\n> åºçï¼[æ¢è±1, é»æ¡2, çº¢æ¡Q]\n> \n> ç©å®¶1çç[é»æ¡10, å¤§ç, æ¹ç7, æ¢è±5, æ¹ç9, æ¹ç3, é»æ¡4, çº¢æ¡8, æ¢è±4, çº¢æ¡9, çº¢æ¡2, çº¢æ¡4, å°ç, æ¹çK, çº¢æ¡6, é»æ¡6, çº¢æ¡K]\n> \n> ç©å®¶2çç[çº¢æ¡1, çº¢æ¡7, é»æ¡7, æ¹çJ, çº¢æ¡J, æ¢è±3, æ¢è±7, æ¢è±8, æ¢è±9, æ¢è±2, æ¢è±J, çº¢æ¡10, æ¹ç10, é»æ¡5, æ¹ç1, é»æ¡K, é»æ¡Q]\n> \n> ç©å®¶3çç[æ¹ç5, æ¹ç4, é»æ¡9, æ¹ç8, é»æ¡3, æ¹çQ, æ¹ç6, çº¢æ¡5, æ¢è±6, é»æ¡8, é»æ¡1, æ¢è±Q, çº¢æ¡3, æ¢è±10, æ¹ç2, æ¢è±K, é»æ¡J]\n\nå¯ä»¥çå°ï¼è½å®ç°æ´çï¼åçï¼çç\n\nä½æ¯ççé¡ºåºä¸æ¯ä»å°å°å¤§çï¼æä»¬æ¥æ¹è¿ä¸ä¸\n\n\n\n 1. ç¨HashMapé®å¼å¯¹ä»0å°53åºå·ï¼å­å¨ç\n 2. ç¨ArrayListå­ççåºå·\n 3. ç¨TreeSetå­ç©å®¶çççåºå·ï¼TreeSetå¯ä»¥èªå¨æåº\n 4. éè¿TreeSetçåºå·ï¼ä»HashMapä¸­æ¥åç\n\npublic class Poker {\n    public static void main(String[] args) {\n        //ç¼å·ï¼ç\n        HashMap<Integer,String> hm = new HashMap<>();\n        //å¨å­ç¼å·\n        ArrayList<Integer> array = new ArrayList<>();\n\n        String[] colors = {"æ¹ç", "æ¢è±", "é»æ¡", "çº¢æ¡"};\n        String[] numbers = { "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K","A","2"};\n        int index=0;\n        for (String c:colors){\n            for (String n:numbers){\n                hm.put(index,c+n);\n                array.add(index);\n                index++;\n            }\n        }\n        hm.put(index,"å°ç");\n        array.add(index);\n        index++;\n        hm.put(index,"å¤§ç");\n        array.add(index);\n\n        Collections.shuffle(array);//æ´ç\n        //åç\n        TreeSet<Integer> wj1 = new TreeSet<>();//ç©å®¶1\n        TreeSet<Integer> wj2 = new TreeSet<>();\n        TreeSet<Integer> wj3 = new TreeSet<>();\n        TreeSet<Integer> dp  = new TreeSet<>();//åºç\n\n        for (int i = 0; i < array.size(); i++) {\n            Integer s = array.get(i);\n            if (i >= array.size() - 3) {\n                dp.add(s);\n            }else{\n                int i1 = i % 3;\n                switch (i1){\n                    case 0:\n                        wj1.add(s);\n                        break;\n                    case 1:\n                        wj2.add(s);\n                        break;\n                    case 2:\n                        wj3.add(s);\n                        break;\n                }\n            }\n        }\n        lookpoke("ç©å®¶1",wj1 ,hm);\n        lookpoke("ç©å®¶2",wj2 ,hm);\n        lookpoke("ç©å®¶3",wj3 ,hm);\n        lookpoke("åºç",dp ,hm);\n\n    }\n    public  static void lookpoke(String name,TreeSet<Integer> ts,HashMap<Integer,String> hm){\n        System.out.print(name+"ççï¼   ");\n        for (Integer t:ts){\n            System.out.print(hm.get(t)+" ");\n        }\n        System.out.println();\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n',normalizedContent:'# collectionså·¥å·ç±»\n\nãåè¨ã\n\njavaæä¾äºä¸ä¸ªæä½setãliståmapç­éåçå·¥å·ç±»ï¼collectionsï¼è¯¥å·¥å·ç±»æä¾äºå¤§éæ¹æ³å¯¹éåè¿ è¡æåºãæ¥è¯¢åä¿®æ¹ç­æä½ï¼è¿æä¾äºå°éåå¯¹è±¡ç½®ä¸ºä¸å¯åãå¯¹éåå¯¹è±¡å®ç°åæ­¥æ§å¶ç­æ¹æ³ã\n\nè¿ä¸ªç±»ä¸éè¦åå»ºå¯¹è±¡ï¼åé¨æä¾çé½æ¯éææ¹æ³ã\n\n\n# 1ãcollectiosæ¦è¿°\n\n\n\næ­¤ç±»å®å¨ç±å¨ collection ä¸è¿è¡æä½æè¿å collection çéææ¹æ³ç»æãå®åå«å¨ collection ä¸æä½çå¤æç®æ³ï¼å³âåè£å¨âï¼åè£å¨è¿åç±æå® collection æ¯æçæ° collectionï¼ä»¥åå°æ°å¶ä»åå®¹ãå¦æä¸º æ­¤ç±»çæ¹æ³ææä¾ç collection æç±»å¯¹è±¡ä¸º nullï¼åè¿äºæ¹æ³é½å°æåº nullpointerexception ã\n\n\n# 2ãæåºæä½\n\nstatic void reverse(list<?> list)//åè½¬åè¡¨ä¸­åç´ çé¡ºåºã\n\nstatic void shuffle(list<?> list) //å¯¹listéååç´ è¿è¡éæºæåºã\n\nstatic void sort(list<t> list) //æ ¹æ®åç´ çèªç¶é¡ºåº å¯¹æå®åè¡¨æååºè¿è¡æåº\n\nstatic <t> void sort(list<t> list, comparator<? super t> c) //æ ¹æ®æå®æ¯è¾å¨äº§ççé¡ºåºå¯¹æå®åè¡¨è¿è¡æåºã\n    \nstatic void swap(list<?> list, int i, int j)   //å¨æå®listçæå®ä½ç½®i,jå¤äº¤æ¢åç´ ã\n\nstatic void rotate(list<?> list, int distance)\n //å½distanceä¸ºæ­£æ°æ¶ï¼å°listéåçådistanceä¸ªåç´ âæ´ä½âç§»å°åé¢ï¼å½distanceä¸ºè´æ°æ¶ï¼å°listéåçådistanceä¸ªåç´ âæ´ä½âç§»å°åè¾¹ãè¯¥æ¹æ³ä¸ä¼æ¹åéåçé¿åº¦ã\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nãæ¼ç¤ºã\n\npublic static void main(string[] args) {\n    arraylist list = new arraylist();\n    list.add(3);\n    list.add(-2);\n    list.add(9);\n    list.add(5);\n    list.add(-1);\n    list.add(6);\n\n    //è¾åºï¼[3, -2, 9, 5, -1, 6]\n    system.out.println(list);\n    //éååç´ çæ¬¡åºåè½¬\n    collections.reverse(list);\n    //è¾åºï¼[6, -1, 5, 9, -2, 3]\n    system.out.println(list);\n    //æåºï¼æç§ååºæåº\n    collections.sort(list);\n    //[-2, -1, 3, 5, 6, 9]\n    system.out.println(list);\n    //æ ¹æ®ä¸æ è¿è¡äº¤æ¢\n    collections.swap(list, 2, 5);\n    //è¾åºï¼[-2, -1, 9, 5, 6, 3]\n    system.out.println(list);\n    \n    /*//éæºæåº\n    collections.shuffle(list);\n    //æ¯æ¬¡è¾åºçæ¬¡åºä¸åºå®\n    system.out.println(list);*/\n    \n    //åä¸¤ä¸ªæ´ä½ç§»å¨å°åè¾¹\n    collections.rotate(list, 2);\n    //è¾åºï¼[6, 9, -2, -1, 3, 5]\n    system.out.println(list);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\nãæ¼ç¤ºã\n\nåå»ºå­¦çéåï¼å å¥æ°æ®ï¼å¹¶èªå®ä¹æåºï¼åæ ¹æ®å¹´é¾ï¼åæ ¹æ®é¦å­æ¯\n\npojoç±»\n\npublic class student {\n    public string name;\n    public int age;\n\n    public student(string name, int age) {\n        this.name = name;\n        this.age = age;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\ntestä»£ç \n\npublic static void main(string[] args) {\n    arraylist<student> array = new arraylist<>();\n    student s1 = new student("lingqingxia",20);\n    student s2 = new student("wangxizhi",30);\n    student s3 = new student("libai",25);\n    student s4 = new student("dufu",25);\n\t//student s5 = new student("dufu",25);\n\n    array.add(s1);\n    array.add(s2);\n    array.add(s3);\n    array.add(s4);\n\t//array.add(s5);\n    collections.sort(array, new comparator<student>() {\n        @override\n        public int compare(student o1, student o2) {\n            int i = o1.age-o2.age;\n            int n = i==0?o1.name.compareto(o2.name):i;\n            return n;\n        }\n    });\n\n    for (student s:array){\n        system.out.println(s.name+","+s.age);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# 3ãæ¥æ¾ãæ¿æ¢æä½\n\nãæ¹æ³ã\n\n//ä½¿ç¨äºåæç´¢æ³æç´¢æå®åè¡¨ï¼ä»¥è·å¾æå®å¯¹è±¡å¨listéåä¸­çç´¢å¼ã\n//æ³¨æï¼æ­¤åå¿é¡»ä¿è¯listéåä¸­çåç´ å·²ç»å¤äºæåºç¶æã\nstatic <t> int binarysearch(list<? extends comparable<? super t>> list, t key)\n\n//æ ¹æ®åç´ çèªç¶é¡ºåºï¼è¿åç»å®collection çæå¤§åç´ ã\nstatic object max(collection coll)\n\n   \t//æ ¹æ®æå®æ¯è¾å¨äº§ççé¡ºåºï¼è¿åç»å® collection çæå¤§åç´ ã\n    static object max(collection coll,comparator comp)\n\n    //æ ¹æ®åç´ çèªç¶é¡ºåºï¼è¿åç»å®collection çæå°åç´ ã\n    static object min(collection coll)\n    \n    //æ ¹æ®æå®æ¯è¾å¨äº§ççé¡ºåºï¼è¿åç»å® collection çæå°åç´ ã\n    static object min(collection coll,comparator comp)\n    \n    ä½¿ç¨æå®åç´ æ¿æ¢æå®åè¡¨ä¸­çææåç´ ã\n    static <t> void fill(list<? super t> list, t obj)\n    \n    //è¿åæå® collection ä¸­ç­äºæå®å¯¹è±¡çåºç°æ¬¡æ°ã\n    static int frequency(collection<?> c, object o)\n    \n    //è¿åæå®æºåè¡¨ä¸­ç¬¬ä¸æ¬¡åºç°æå®ç®æ åè¡¨çèµ·å§ä½ç½®ï¼å¦ææ²¡æåºç°è¿æ ·çåè¡¨ï¼åè¿å-1ã\n    static int indexofsublist(list<?> source, list<?> target) \n    \n    //è¿åæå®æºåè¡¨ä¸­æåä¸æ¬¡åºç°æå®ç®æ åè¡¨çèµ·å§ä½ç½®ï¼å¦ææ²¡æåºç°è¿æ ·çåè¡¨ï¼åè¿å-1ã\n    static int lastindexofsublist(list<?> source, list<?> target)\n    \n    //ä½¿ç¨ä¸ä¸ªæ°å¼æ¿æ¢listå¯¹è±¡çæææ§å¼oldval\n    static <t> boolean replaceall(list<t> list, t oldval, t newval)\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\nãæ¼ç¤ºï¼å®ä¾ä½¿ç¨æ¥æ¾ãæ¿æ¢æä½ã\n\npublic static void main(string[] args) {\n    arraylist list = new arraylist();\n    list.add(3);\n    list.add(-2);\n    list.add(9);\n    list.add(5);\n    list.add(-1);\n    list.add(6);\n    //[3, -2, 9, 5, -1, 6]\n    system.out.println(list);\n    //è¾åºæå¤§åç´ 9\n    system.out.println(collections.max(list));\n    //è¾åºæå°åç´ ï¼-2\n    system.out.println(collections.min(list));\n    //å°listä¸­ç-2ç¨1æ¥ä»£æ¿\n    system.out.println(collections.replaceall(list, -2, 1));\n    //[3, 1, 9, 5, -1, 6]\n    system.out.println(list);\n    list.add(9);\n    //å¤æ­9å¨éåä¸­åºç°çæ¬¡æ°ï¼è¿å2\n    system.out.println(collections.frequency(list, 9));\n    //å¯¹éåè¿è¡æåº\n    collections.sort(list);\n    //[-1, 1, 3, 5, 6, 9, 9]\n    system.out.println(list);\n    //åªææåºåçlistéåæå¯ç¨äºåæ³æ¥è¯¢ï¼è¾åº2\n    system.out.println(collections.binarysearch(list, 3));\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n\n# 4ãåæ­¥æ§å¶\n\ncollectonsæä¾äºå¤ä¸ªsynchronizedxxx()æ¹æ³ï¼è¯¥æ¹æ³å¯ä»¥å°æå®éååè£æçº¿ç¨åæ­¥çéåï¼ä» èè§£å³å¤çº¿ç¨å¹¶åè®¿é®éåæ¶ççº¿ç¨å®å¨é®é¢ã\n\næ­£å¦åé¢ä»ç»çhashsetï¼treesetï¼arraylist,linkedlist,hashmap,treemapé½æ¯çº¿ç¨ä¸å®å¨çã collectionsæä¾äºå¤ä¸ªéææ¹æ³å¯ä»¥æä»ä»¬åè£æçº¿ç¨åæ­¥çéåã\n\nãæ¹æ³ã\n\n//è¿åæå® collection æ¯æçåæ­¥ï¼çº¿ç¨å®å¨çï¼collectionã\nstatic <t> collection<t> synchronizedcollection(collection<t> c)\n    \n//è¿åæå®åè¡¨æ¯æçåæ­¥ï¼çº¿ç¨å®å¨çï¼åè¡¨ã\nstatic <t> list<t> synchronizedlist(list<t> list)\n\n//è¿åç±æå®æ å°æ¯æçåæ­¥ï¼çº¿ç¨å®å¨çï¼æ å°ã\nstatic <k,v> map<k,v> synchronizedmap(map<k,v> m)\n\n//è¿åæå® set æ¯æçåæ­¥ï¼çº¿ç¨å®å¨çï¼set\nstatic <t> set<t> synchronizedset(set<t> s)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nãå®ä¾ã\n\npublic static void main(string[] args) {\n    //ä¸é¢ç¨åºåå»ºäºåä¸ªåæ­¥çéåå¯¹è±¡\n    collection c = collections.synchronizedcollection(new arraylist());\n    list list = collections.synchronizedlist(new arraylist());\n    set s = collections.synchronizedset(new hashset());\n    map m = collections.synchronizedmap(new hashmap());\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 5ãcollesctionè®¾ç½®ä¸å¯åéå\n\nãæ¹æ³ã\n\n//è¿åä¸ä¸ªç©ºçãä¸å¯åçéåå¯¹è±¡ï¼æ­¤å¤çéåæ¢å¯ä»¥æ¯listï¼ä¹å¯ä»¥æ¯setï¼è¿å¯ä»¥æ¯mapã\nemptyxxx()\n\n//è¿åä¸ä¸ªåªåå«æå®å¯¹è±¡ï¼åªæä¸ä¸ªæä¸ä¸ªåç´ ï¼çä¸å¯åçéåå¯¹è±¡ï¼æ­¤å¤çéåå¯ä»¥æ¯ï¼listï¼setï¼mapã\nsingletonxxx()\n    \n//è¿åæå®éåå¯¹è±¡çä¸å¯åè§å¾ï¼æ­¤å¤çéåå¯ä»¥æ¯ï¼listï¼setï¼mapã\nunmodifiablexxx():\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nä¸é¢ä¸ç±»æ¹æ³çåæ°æ¯åæçéåå¯¹è±¡ï¼è¿åå¼æ¯è¯¥éåçâåªè¯»âçæ¬ã\n\nãå®ä¾ã\n\npublic static void main(string[] args) {\n    //åå»ºä¸ä¸ªç©ºçãä¸å¯æ¹åçlistå¯¹è±¡\n    list<string> unmodifiablelist = collections.emptylist();\n    //unmodifiablelist.add("java");\n    //æ·»å åºç°å¼å¸¸ï¼java.lang.unsupportedoperationexception\n    system.out.println(unmodifiablelist);// []\n    //åå»ºä¸ä¸ªåªæä¸ä¸ªåç´ ï¼ä¸ä¸å¯æ¹åçsetå¯¹è±¡\n    set unmodifiableset = collections.singleton("struts2æå¨æå");\n    //[struts2æå¨æå]\n    system.out.println(unmodifiableset);\n    //åå»ºä¸ä¸ªæ®émapå¯¹è±¡\n    map scores = new hashmap();\n    scores.put("è¯­æ", 80);\n    scores.put("java", 82);\n    //è¿åæ®émapå¯¹è±¡å¯¹åºçä¸å¯åçæ¬\n    map unmodifiablemap = collections.unmodifiablemap(scores);\n    //ä¸é¢ä»»æä¸è¡ä»£ç é½å°å¼åunsupportedoperationexceptionå¼å¸¸\n    unmodifiablelist.add("æµè¯åç´ ");\n    unmodifiableset.add("æµè¯åç´ ");\n    unmodifiablemap.put("è¯­æ", 90);\n    \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# æ»ç»åæµè¯\n\nå®ä½ç±»ï¼pojo\n\nimport java.util.*;\n\n\npublic class collectionstest {\n    public static void main(string[] args) {\n        //åå»ºä¸ä¸ªç©ºçãä¸å¯æ¹åçlistå¯¹è±¡\n        list<string> unmodifiablelist = collections.emptylist();\n        //unmodifiablelist.add("java");\n        //æ·»å åºç°å¼å¸¸ï¼java.lang.unsupportedoperationexception\n        system.out.println(unmodifiablelist);// []\n        //åå»ºä¸ä¸ªåªæä¸ä¸ªåç´ ï¼ä¸ä¸å¯æ¹åçsetå¯¹è±¡\n        set unmodifiableset = collections.singleton("struts2æå¨æå");\n        //[struts2æå¨æå]\n        system.out.println(unmodifiableset);\n        //åå»ºä¸ä¸ªæ®émapå¯¹è±¡\n        map scores = new hashmap();\n        scores.put("è¯­æ", 80);\n        scores.put("java", 82);\n        //è¿åæ®émapå¯¹è±¡å¯¹åºçä¸å¯åçæ¬\n        map unmodifiablemap = collections.unmodifiablemap(scores);\n        //ä¸é¢ä»»æä¸è¡ä»£ç é½å°å¼åunsupportedoperationexceptionå¼å¸¸\n        unmodifiablelist.add("æµè¯åç´ ");\n        unmodifiableset.add("æµè¯åç´ ");\n        unmodifiablemap.put("è¯­æ", 90);\n\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\næµè¯ç±»ä»£ç å¦ä¸\n\nimport java.util.arraylist;\nimport java.util.list;\n\npublic class test01 {\n    public static void main(string[] args) throws exception {\n        //ä¸ä¸ªå¯¹è±¡å¯¹åºäºä¸è¡è®°å½ï¼\n        employee e1 = new employee(0301, "çç¥", 3000, "é¡¹ç®é¨", "2017-10");\n        employee e2 = new employee(0302, "å°æ", 3500, "æå­¦é¨", "2016-10");\n        employee e3 = new employee(0303, "å°çº¢", 3550, "æå­¦é¨", "2016-10");\n        list<employee> list = new arraylist<employee>();\n        list.add(e1);\n        list.add(e2);\n        list.add(e3);\n        printempname(list);\n    }\n\n    public static void printempname(list<employee> list) {\n        for (int i = 0; i < list.size(); i++) {\n            system.out.println(list.get(i).getname() + "-" + list.get(i).gethiredate());\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# æå°ä¸»æ¡ä¾\n\nç®æçæ¬\n\npublic static void main(string[] args) {\n    arraylist<string> array = new arraylist<>();\n\n    string[] colors = {"æ¹ç", "æ¢è±", "é»æ¡", "çº¢æ¡"};\n    string[] numbers = {"1","2", "3", "4", "5", "6", "7", "8", "9", "10", "j", "q", "k"};\n\n    for (string c : colors) {\n        for (string n : numbers) {\n            array.add(c + n);\n        }\n    }\n    array.add("å°ç");\n    array.add("å¤§ç");\n    collections.shuffle(array);//æ´ç\n\n    //åç\n    arraylist<string> wj1 = new arraylist<>();//ç©å®¶1\n    arraylist<string> wj2 = new arraylist<>();\n    arraylist<string> wj3 = new arraylist<>();\n    arraylist<string> dp = new arraylist<>();//åºç\n\n\n    for (int i = 0; i < array.size(); i++) {\n        string s = array.get(i);\n        if (i >= array.size() - 3) {\n            dp.add(s);\n        }else{\n            int i1 = i % 3;\n            switch (i1){\n                case 0:\n                    wj1.add(s);\n                    break;\n                case 1:\n                    wj2.add(s);\n                    break;\n                case 2:\n                    wj3.add(s);\n                    break;\n            }\n        }\n    }\n    //çç\n    system.out.println("åºçï¼"+dp);\n    system.out.println("ç©å®¶1çç"+wj1);\n    system.out.println("ç©å®¶2çç"+wj2);\n    system.out.println("ç©å®¶3çç"+wj3);\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n\n\n> åºçï¼[æ¢è±1, é»æ¡2, çº¢æ¡q]\n> \n> ç©å®¶1çç[é»æ¡10, å¤§ç, æ¹ç7, æ¢è±5, æ¹ç9, æ¹ç3, é»æ¡4, çº¢æ¡8, æ¢è±4, çº¢æ¡9, çº¢æ¡2, çº¢æ¡4, å°ç, æ¹çk, çº¢æ¡6, é»æ¡6, çº¢æ¡k]\n> \n> ç©å®¶2çç[çº¢æ¡1, çº¢æ¡7, é»æ¡7, æ¹çj, çº¢æ¡j, æ¢è±3, æ¢è±7, æ¢è±8, æ¢è±9, æ¢è±2, æ¢è±j, çº¢æ¡10, æ¹ç10, é»æ¡5, æ¹ç1, é»æ¡k, é»æ¡q]\n> \n> ç©å®¶3çç[æ¹ç5, æ¹ç4, é»æ¡9, æ¹ç8, é»æ¡3, æ¹çq, æ¹ç6, çº¢æ¡5, æ¢è±6, é»æ¡8, é»æ¡1, æ¢è±q, çº¢æ¡3, æ¢è±10, æ¹ç2, æ¢è±k, é»æ¡j]\n\nå¯ä»¥çå°ï¼è½å®ç°æ´çï¼åçï¼çç\n\nä½æ¯ççé¡ºåºä¸æ¯ä»å°å°å¤§çï¼æä»¬æ¥æ¹è¿ä¸ä¸\n\n\n\n 1. ç¨hashmapé®å¼å¯¹ä»0å°53åºå·ï¼å­å¨ç\n 2. ç¨arraylistå­ççåºå·\n 3. ç¨treesetå­ç©å®¶çççåºå·ï¼treesetå¯ä»¥èªå¨æåº\n 4. éè¿treesetçåºå·ï¼ä»hashmapä¸­æ¥åç\n\npublic class poker {\n    public static void main(string[] args) {\n        //ç¼å·ï¼ç\n        hashmap<integer,string> hm = new hashmap<>();\n        //å¨å­ç¼å·\n        arraylist<integer> array = new arraylist<>();\n\n        string[] colors = {"æ¹ç", "æ¢è±", "é»æ¡", "çº¢æ¡"};\n        string[] numbers = { "3", "4", "5", "6", "7", "8", "9", "10", "j", "q", "k","a","2"};\n        int index=0;\n        for (string c:colors){\n            for (string n:numbers){\n                hm.put(index,c+n);\n                array.add(index);\n                index++;\n            }\n        }\n        hm.put(index,"å°ç");\n        array.add(index);\n        index++;\n        hm.put(index,"å¤§ç");\n        array.add(index);\n\n        collections.shuffle(array);//æ´ç\n        //åç\n        treeset<integer> wj1 = new treeset<>();//ç©å®¶1\n        treeset<integer> wj2 = new treeset<>();\n        treeset<integer> wj3 = new treeset<>();\n        treeset<integer> dp  = new treeset<>();//åºç\n\n        for (int i = 0; i < array.size(); i++) {\n            integer s = array.get(i);\n            if (i >= array.size() - 3) {\n                dp.add(s);\n            }else{\n                int i1 = i % 3;\n                switch (i1){\n                    case 0:\n                        wj1.add(s);\n                        break;\n                    case 1:\n                        wj2.add(s);\n                        break;\n                    case 2:\n                        wj3.add(s);\n                        break;\n                }\n            }\n        }\n        lookpoke("ç©å®¶1",wj1 ,hm);\n        lookpoke("ç©å®¶2",wj2 ,hm);\n        lookpoke("ç©å®¶3",wj3 ,hm);\n        lookpoke("åºç",dp ,hm);\n\n    }\n    public  static void lookpoke(string name,treeset<integer> ts,hashmap<integer,string> hm){\n        system.out.print(name+"ççï¼   ");\n        for (integer t:ts){\n            system.out.print(hm.get(t)+" ");\n        }\n        system.out.println();\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"JUCå­¦ä¹ ç¬è®°ï¼ä¸ï¼",frontmatter:{title:"JUCå­¦ä¹ ç¬è®°ï¼ä¸ï¼",permalink:"/java/se/thread/1",date:"2021-05-15T18:09:11.000Z"},regularPath:"/01.Java/07.Java-%E5%A4%9A%E7%BA%BF%E7%A8%8B/02.JUC%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html",relativePath:"01.Java/07.Java-å¤çº¿ç¨/02.JUCå­¦ä¹ ç¬è®°.md",key:"v-90469700",path:"/java/se/thread/1/",headers:[{level:2,title:"1ãç®ä»",slug:"_1ãç®ä»",normalizedTitle:"1ãç®ä»",charIndex:3},{level:3,title:"ä»ä¹æ¯JUC",slug:"ä»ä¹æ¯juc",normalizedTitle:"ä»ä¹æ¯juc",charIndex:13},{level:3,title:"è¿ç¨åçº¿ç¨",slug:"è¿ç¨åçº¿ç¨",normalizedTitle:"è¿ç¨åçº¿ç¨",charIndex:25},{level:2,title:"2ãLocké",slug:"_2ãlocké",normalizedTitle:"2ãlocké",charIndex:34},{level:3,title:"synchronizedé",slug:"synchronizedé",normalizedTitle:"synchronizedé",charIndex:47},{level:3,title:"Lock é",slug:"lock-é",normalizedTitle:"lock é",charIndex:66},{level:3,title:"åºå«",slug:"åºå«",normalizedTitle:"åºå«",charIndex:78},{level:2,title:"3ãçäº§èåæ¶è´¹è",slug:"_3ãçäº§èåæ¶è´¹è",normalizedTitle:"3ãçäº§èåæ¶è´¹è",charIndex:84},{level:3,title:"synchroinzed",slug:"synchroinzed",normalizedTitle:"synchroinzed",charIndex:99},{level:3,title:"lock",slug:"lock",normalizedTitle:"lock",charIndex:117},{level:3,title:"æç§çº¿ç¨é¡ºåºæ§è¡",slug:"æç§çº¿ç¨é¡ºåºæ§è¡",normalizedTitle:"æç§çº¿ç¨é¡ºåºæ§è¡",charIndex:127},{level:2,title:"4ã8éçç°è±¡",slug:"_4ã8éçç°è±¡",normalizedTitle:"4ã8éçç°è±¡",charIndex:139},{level:3,title:"é®é¢ä¸",slug:"é®é¢ä¸",normalizedTitle:"é®é¢ä¸",charIndex:152},{level:3,title:"é®é¢äº",slug:"é®é¢äº",normalizedTitle:"é®é¢äº",charIndex:161},{level:3,title:"é®é¢ä¸",slug:"é®é¢ä¸",normalizedTitle:"é®é¢ä¸",charIndex:170},{level:3,title:"é®é¢å",slug:"é®é¢å",normalizedTitle:"é®é¢å",charIndex:179},{level:3,title:"é®é¢äº",slug:"é®é¢äº",normalizedTitle:"é®é¢äº",charIndex:188},{level:3,title:"é®é¢å­",slug:"é®é¢å­",normalizedTitle:"é®é¢å­",charIndex:197},{level:3,title:"é®é¢ä¸",slug:"é®é¢ä¸",normalizedTitle:"é®é¢ä¸",charIndex:206},{level:3,title:"é®é¢å«",slug:"é®é¢å«",normalizedTitle:"é®é¢å«",charIndex:215},{level:3,title:"å°ç»",slug:"å°ç»",normalizedTitle:"å°ç»",charIndex:224},{level:2,title:"5ãå¤çº¿ç¨ä¸éåç±»çä¸å®å¨",slug:"_5ãå¤çº¿ç¨ä¸éåç±»çä¸å®å¨",normalizedTitle:"5ãå¤çº¿ç¨ä¸éåç±»çä¸å®å¨",charIndex:230},{level:3,title:"list",slug:"list",normalizedTitle:"list",charIndex:249},{level:3,title:"set",slug:"set",normalizedTitle:"set",charIndex:259},{level:3,title:"map",slug:"map",normalizedTitle:"map",charIndex:268},{level:2,title:"6ãCallable",slug:"_6ãcallable",normalizedTitle:"6ãcallable",charIndex:275},{level:3,title:"åºç¡å¥é¨",slug:"åºç¡å¥é¨",normalizedTitle:"åºç¡å¥é¨",charIndex:291},{level:3,title:"å¤ä¸ªçº¿ç¨è°ç¨",slug:"å¤ä¸ªçº¿ç¨è°ç¨",normalizedTitle:"å¤ä¸ªçº¿ç¨è°ç¨",charIndex:301},{level:3,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:313},{level:2,title:"7ãå¸¸ç¨è¾å©ç±»",slug:"_7ãå¸¸ç¨è¾å©ç±»",normalizedTitle:"7ãå¸¸ç¨è¾å©ç±»",charIndex:321},{level:3,title:"CountDownLatch",slug:"countdownlatch",normalizedTitle:"countdownlatch",charIndex:334},{level:3,title:"CyclicBarrier",slug:"cyclicbarrier",normalizedTitle:"cyclicbarrier",charIndex:354},{level:3,title:"Semaphore",slug:"semaphore",normalizedTitle:"semaphore",charIndex:373},{level:2,title:"8ãè¯»åé",slug:"_8ãè¯»åé",normalizedTitle:"8ãè¯»åé",charIndex:386},{level:2,title:"9ãé»å¡éå",slug:"_9ãé»å¡éå",normalizedTitle:"9ãé»å¡éå",charIndex:395},{level:3,title:"é»å¡éåç®ä»",slug:"é»å¡éåç®ä»",normalizedTitle:"é»å¡éåç®ä»",charIndex:407},{level:3,title:"é»å¡éåçç¨å¤",slug:"é»å¡éåçç¨å¤",normalizedTitle:"é»å¡éåçç¨å¤",charIndex:419},{level:3,title:"æ¥å£æ¶æå¾",slug:"æ¥å£æ¶æå¾",normalizedTitle:"æ¥å£æ¶æå¾",charIndex:432},{level:3,title:"APIçä½¿ç¨",slug:"apiçä½¿ç¨",normalizedTitle:"apiçä½¿ç¨",charIndex:443}],headersStr:"1ãç®ä» ä»ä¹æ¯JUC è¿ç¨åçº¿ç¨ 2ãLocké synchronizedé Lock é åºå« 3ãçäº§èåæ¶è´¹è synchroinzed lock æç§çº¿ç¨é¡ºåºæ§è¡ 4ã8éçç°è±¡ é®é¢ä¸ é®é¢äº é®é¢ä¸ é®é¢å é®é¢äº é®é¢å­ é®é¢ä¸ é®é¢å« å°ç» 5ãå¤çº¿ç¨ä¸éåç±»çä¸å®å¨ list set map 6ãCallable åºç¡å¥é¨ å¤ä¸ªçº¿ç¨è°ç¨ åèèµæ 7ãå¸¸ç¨è¾å©ç±» CountDownLatch CyclicBarrier Semaphore 8ãè¯»åé 9ãé»å¡éå é»å¡éåç®ä» é»å¡éåçç¨å¤ æ¥å£æ¶æå¾ APIçä½¿ç¨",content:' * 1ãç®ä»\n   * ä»ä¹æ¯JUC\n   * è¿ç¨åçº¿ç¨\n * 2ãLocké\n   * synchronizedé\n   * Lock é\n   * åºå«\n * 3ãçäº§èåæ¶è´¹è\n   * synchroinzed\n   * lock\n   * æç§çº¿ç¨é¡ºåºæ§è¡\n * 4ã8éçç°è±¡\n   * é®é¢ä¸\n   * é®é¢äº\n   * é®é¢ä¸\n   * é®é¢å\n   * é®é¢äº\n   * é®é¢å­\n   * é®é¢ä¸\n   * é®é¢å«\n   * å°ç»\n * 5ãå¤çº¿ç¨ä¸éåç±»çä¸å®å¨\n   * list\n   * set\n   * map\n * 6ãCallable\n   * åºç¡å¥é¨\n   * å¤ä¸ªçº¿ç¨è°ç¨\n   * åèèµæ\n * 7ãå¸¸ç¨è¾å©ç±»\n   * CountDownLatch\n   * CyclicBarrier\n   * Semaphore\n * 8ãè¯»åé\n * 9ãé»å¡éå\n   * é»å¡éåç®ä»\n   * é»å¡éåçç¨å¤\n   * æ¥å£æ¶æå¾\n   * APIçä½¿ç¨\n\n\n\nçç¥JUCè§é¢æç¨ï¼https://www.bilibili.com/video/BV1B7411L7tE\n\n\n# 1ãç®ä»\n\n\n# ä»ä¹æ¯JUC\n\nJUCæ¯java.util.concurrent çç®åï¼å¨å¹¶åç¼ç¨ä¸­ä½¿ç¨çå·¥å·ç±»ã\n\nå¨jdkå®æ¹æåä¸­å¯ä»¥çå°jucç¸å³çjaråæä¸ä¸ªã\n\nç¨ä¸­ææ¦æ¬ä¸ä¸ï¼JUCçææå°±æ¯javaå¹¶åç¼ç¨å·¥å·å\n\nå®ç°å¤çº¿ç¨æä¸ç§æ¹å¼ï¼ThreadãRunnableãCallableï¼å¶ä¸­Callableå°±ä½äºconcurrentåä¸\n\n\n# è¿ç¨åçº¿ç¨\n\n> è¿ç¨ / çº¿ç¨æ¯ä»ä¹ï¼\n\nè¿ç¨ï¼è¿ç¨æ¯ä¸ä¸ªå·æä¸å®ç¬ç«åè½çç¨åºå³äºæä¸ªæ°æ®éåçä¸æ¬¡è¿è¡æ´»å¨ãå®æ¯æä½ç³»ç»å¨ææ§è¡çåºæ¬ååï¼å¨ä¼ ç»çæä½ç³»ç»ä¸­ï¼è¿ç¨æ¢æ¯åºæ¬çåéååï¼ä¹æ¯åºæ¬çæ§è¡ååã\n\nçº¿ç¨ï¼éå¸¸å¨ä¸ä¸ªè¿ç¨ä¸­å¯ä»¥åå«è¥å¹²ä¸ªçº¿ç¨ï¼å½ç¶ä¸ä¸ªè¿ç¨ä¸­è³å°æä¸ä¸ªçº¿ç¨ï¼ä¸ç¶æ²¡æå­å¨çæä¹ï¼çº¿ç¨å¯ä»¥å©ç¨è¿ç¨æææ¥æçèµæºãå¨å¼å¥çº¿ç¨çæä½ç³»ç»ä¸­ï¼éå¸¸é½æ¯æè¿ç¨ä½ä¸ºåéèµæºçåºæ¬åä½ï¼èæçº¿ç¨ä½ä¸ºç¬ç«è¿è¡åç¬ç«è°åº¦çåºæ¬åä½ï¼ç±äºçº¿ç¨æ¯è¿ç¨å°ï¼åºæ¬ä¸ä¸æ¥æç³»ç»èµæºï¼ æå¯¹å®çè°åº¦æä»åºçå¼éå°±ä¼å°å¾å¤ï¼è½æ´é«æçæé«ç³»ç»å¤ä¸ªç¨åºé´å¹¶åæ§è¡çç¨åº¦ã\n\nç½è¯ï¼\n\nè¿ç¨ï¼å°±æ¯æä½ç³»ç»ä¸­è¿è¡çä¸ä¸ªç¨åºï¼QQ.exeï¼music.exeï¼word.exe ï¼è¿å°±æ¯å¤ä¸ªè¿ç¨\n\nçº¿ç¨ï¼æ¯ä¸ªè¿ç¨ä¸­é½å­å¨ä¸ä¸ªæèå¤ä¸ªçº¿ç¨ï¼æ¯å¦ç¨wordåæç« æ¶ï¼å°±ä¼æä¸ä¸ªçº¿ç¨é»é»å¸®ä½ å®æ¶èªå¨ä¿å­ã\n\n> å¹¶å / å¹¶è¡æ¯ä»ä¹ï¼\n\nåå¹¶åç¼ç¨ä¹åï¼å¿é¡»é¦åçè§£ä»ä¹æ¯å¹¶åï¼ä»ä¹æ¯å¹¶è¡ã\n\nå¹¶ååå¹¶è¡æ¯ä¸¤ä¸ªéå¸¸å®¹ææ··æ·çæ¦å¿µãå®ä»¬é½å¯ä»¥è¡¨ç¤ºä¸¤ä¸ªæå¤ä¸ªä»»å¡ä¸èµ·æ§è¡ï¼ä½æ¯åéç¹æç¹ä¸åãå¹¶ååéäºå¤ä¸ªä»»å¡äº¤æ¿æ§è¡ï¼èå¤ä¸ªä»»å¡ä¹é´æå¯è½è¿æ¯ä¸²è¡çãå¹¶åæ¯é»è¾ä¸çåæ¶åçï¼simultaneousï¼ï¼èå¹¶è¡æ¯ç©çä¸çåæ¶åçãç¶èå¹¶è¡çåéç¹å¨äºâåæ¶æ§è¡âã\n\nä¸¥æ ¼æä¹ä¸æ¥è¯´ï¼å¹¶è¡çå¤ä¸ªä»»å¡æ¯çå®çåæ¶æ§è¡ï¼èå¯¹äºå¹¶åæ¥è¯´ï¼è¿ä¸ªè¿ç¨åªæ¯äº¤æ¿çï¼ä¸ä¼è¿è¡ä»»å¡ä¸,ä¸ä¼å¿åè¿è¡ä»»å¡äºï¼ç³»ç»ä¼ä¸åå°å¨ä¸¤èé´åæ¢ãä½å¯¹äºå¤é¨è§å¯èæ¥è¯´ï¼å³ä½¿å¤ä¸ªä»»å¡æ¯ä¸²è¡å¹¶åçï¼ä¹ä¼é ææ¯å¤ä¸ªä»»å¡å¹¶è¡æ§è¡çéè§ã\n\nå®éä¸ï¼å¦æç³»ç»ååªæä¸ä¸ªCPUï¼èç°å¨èä½¿ç¨å¤çº¿ç¨æèå¤çº¿ç¨ä»»å¡ï¼é£ä¹çå®ç¯å¢ä¸­è¿äºä»»å¡ä¸å¯è½çå®å¹¶è¡çï¼æ¯ç«ä¸ä¸ªCPUä¸æ¬¡åªè½æ§è¡ä¸æ¡æä»¤ï¼è¿ç§æåµä¸å¤çº¿ç¨æèå¤çº¿ç¨ä»»å¡å°±æ¯å¹¶åçï¼èä¸æ¯å¹¶è¡ï¼æä½ç³»ç»ä¼ä¸åçåæ¢ä»»å¡ãçæ­£çå¹¶åä¹åªè½å¤åºç°å¨æ¥æå¤ä¸ªCPUçç³»ç»ä¸­ï¼å¤æ ¸CPUï¼ã\n\nå¹¶åçå¨æºï¼å¨è®¡ç®è½åæå®çæåµä¸å¤çæ´å¤çä»»å¡, å°±åæä»¬çå¤§è, è®¡ç®è½åç¸å¯¹æå®, è¦å¨ä¸å¤©ä¸­å¤çæ´å¤çé®é¢, æä»¬å°±å¿é¡»å·å¤å¤ä»»å¡çè½å. ç°å®å·¥ä½ä¸­æå¾å¤äºæå¯è½ä¼ä¸­æ­ä½ çå½åä»»å¡, å¤çè¿ç§å¤ä»»å¡çè½åå°±æ¯ä½ çå¹¶åè½åã\n\nå¹¶è¡çå¨æºï¼ç¨æ´å¤çCPUæ ¸å¿æ´å¿«çå®æä»»å¡. å°±åä¸ä¸ªå¢é, ä¸ä¸ªèè¢ä¸å¤ç¨äº, ä¸ä¸ªå¢éæ¥ä¸èµ·å¤ç ä¸ä¸ªä»»å¡ã\n\nä¾å­ï¼ ä½ åé¥­åå°ä¸åï¼çµè¯æ¥äºï¼ä½ ä¸ç´å°åå®äºä»¥åæå»æ¥ï¼è¿å°±è¯´æä½ ä¸æ¯æå¹¶åä¹ä¸æ¯æå¹¶è¡ã ä½ åé¥­åå°ä¸åï¼çµè¯æ¥äºï¼ä½ åäºä¸æ¥æ¥äºçµè¯ï¼æ¥å®åç»§ç»­åé¥­ï¼è¿è¯´æä½ æ¯æå¹¶åã ï¼ä¸ä¸å®æ¯ åæ¶çï¼ ä½ åé¥­åå°ä¸åï¼çµè¯æ¥äºï¼ä½ ä¸è¾¹æçµè¯ä¸è¾¹åé¥­ï¼è¿è¯´æä½ æ¯æå¹¶è¡ã æä»¥å¹¶åç¼ç¨çç®æ æ¯ååçå©ç¨å¤çå¨çæ¯ä¸ä¸ªæ ¸ï¼ä»¥è¾¾å°æé«çå¤çæ§è½ã\n\n> çº¿ç¨çç¶æ\n\nJavaççº¿ç¨æ6ç§ç¶æï¼å¯ä»¥åææºç ï¼\n\npublic enum State {\n    //çº¿ç¨ååå»º\n    NEW,\n    \n    //å¨JVMä¸­æ­£å¨è¿è¡ççº¿ç¨\n    RUNNABLE,\n    \n    //çº¿ç¨å¤äºé»å¡ç¶æï¼ç­å¾çè§éï¼å¯ä»¥éæ°è¿è¡åæ­¥ä»£ç åä¸­æ§è¡\n    BLOCKED,\n    \n    //ç­å¾ç¶æ\n    WAITING,\n    \n    //è°ç¨sleep() join() wait()æ¹æ³å¯è½å¯¼è´çº¿ç¨å¤äºç­å¾ç¶æ\n    TIMED_WAITING,\n    \n    //çº¿ç¨æ§è¡å®æ¯ï¼å·²ç»éåº\n    TERMINATED;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n\n> wait / sleep çåºå«\n\n1ãæ¥èªä¸åçç±»\n\nè¿ä¸¤ä¸ªæ¹æ³æ¥èªä¸åçç±»åå«æ¯ï¼sleepæ¥èªThreadç±»ï¼åwaitæ¥èªObjectç±»ã\n\nsleepæ¯Threadçéæç±»æ¹æ³ï¼è°è°ç¨çè°å»ç¡è§ï¼å³ä½¿å¨açº¿ç¨éè°ç¨äºbçsleepæ¹æ³ï¼å®éä¸è¿æ¯aå»ç¡è§ï¼è¦è®©bçº¿ç¨ç¡è§è¦å¨bçä»£ç ä¸­è°ç¨sleepã\n\n2ãææ²¡æéæ¾é(éæ¾èµæº)\n\næä¸»è¦æ¯sleepæ¹æ³æ²¡æéæ¾é\n\nèwaitæ¹æ³éæ¾äºéï¼ä½¿å¾å¶ä»çº¿ç¨å¯ä»¥ä½¿ç¨åæ­¥æ§å¶åæèæ¹æ³ã\n\nsleepæ¯çº¿ç¨è¢«è°ç¨æ¶ï¼å çcpuå»ç¡è§ï¼å¶ä»çº¿ç¨ä¸è½å ç¨cpuï¼osè®¤ä¸ºè¯¥çº¿ç¨æ­£å¨å·¥ä½ï¼ä¸ä¼è®©åºç³»ç»èµæºï¼waitæ¯è¿å¥ç­å¾æ± ç­å¾ï¼è®©åºç³»ç»èµæºï¼å¶ä»çº¿ç¨å¯ä»¥å ç¨cpuã\n\nsleep(100L)æ¯å ç¨cpuï¼çº¿ç¨ä¼ç 100æ¯«ç§ï¼å¶ä»è¿ç¨ä¸è½åå ç¨cpuèµæºï¼waitï¼100Lï¼æ¯è¿å¥ç­å¾æ± ä¸­ç­å¾ï¼äº¤åºcpuç­ç³»ç»èµæºä¾å¶ä»è¿ç¨ä½¿ç¨ï¼å¨è¿100æ¯«ç§ä¸­ï¼è¯¥çº¿ç¨å¯ä»¥è¢«å¶ä»çº¿ç¨notifyï¼ä½ä¸åçæ¯å¶ä»å¨ç­å¾æ± ä¸­ççº¿ç¨ä¸è¢«notifyä¸ä¼åºæ¥ï¼ä½è¿ä¸ªçº¿ç¨å¨ç­å¾100æ¯«ç§åä¼èªå¨è¿å¥å°±ç»ªéåç­å¾ç³»ç»åéèµæºï¼æ¢å¥è¯è¯´ï¼sleepï¼100ï¼å¨100æ¯«ç§åè¯å®ä¼è¿è¡ï¼ä½waitå¨100æ¯«ç§åè¿æç­å¾osè°ç¨åéèµæºï¼æä»¥wait100çåæ­¢è¿è¡æ¶é´æ¯ä¸ç¡®å®çï¼ä½è³å°æ¯100æ¯«ç§ã å°±æ¯è¯´sleepææ¶é´éå¶çå°±åé¹éä¸æ ·å°æ¶åå°±å«äºï¼èwaitæ¯æ éæçé¤éç¨æ·ä¸»å¨notifyã\n\n3ãä½¿ç¨èå´ä¸å\n\nwaitï¼notifyånotifyAllåªè½å¨åæ­¥æ§å¶æ¹æ³æèåæ­¥æ§å¶åéé¢ä½¿ç¨ï¼èsleepå¯ä»¥å¨ä»»ä½å°æ¹ä½¿ç¨\n\nsynchronized(x){\n    //æèwait()\n    x.notify()\n}\n\n\n1\n2\n3\n4\n\n\n4ãæ¯å¦éè¦æè·å¼å¸¸\n\nsleepå¿é¡»æè·å¼å¸¸ï¼èwaitï¼notifyånotifyAllä¸éè¦æè·å¼å¸¸\n\n\n# 2ãLocké\n\n\n# synchronizedé\n\npublic class SaleTicketTest1 {\n    /*\n     * é¢ç®ï¼ä¸ä¸ªå®ç¥¨å ååº 30å¼ ç¥¨\n     * å¤çº¿ç¨ç¼ç¨çä¼ä¸çº§å¥è·¯ï¼\n     * 1. å¨é«åèä½è¦åçåæä¸ï¼ çº¿ç¨ æä½(å¯¹å¤æ´é²çè°ç¨æ¹æ³) èµæºç±»\n     */\n\n    public static void main(String[] args) {\n        Ticket ticket = new Ticket();\n\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                for (int i = 1; i <= 40; i++) {\n                    ticket.saleTicket();\n                }\n            }\n        }, "A").start();\n\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                for (int i = 1; i <=40; i++) {\n                    ticket.saleTicket();\n                }\n            }\n        }, "B").start();\n\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                for (int i = 1; i <= 40; i++) {\n                    ticket.saleTicket();\n                }\n            }\n        }, "C").start();\n\n    }\n    \n}\n\nclass Ticket { // èµæºç±»\n    private int number = 30;\n\n    public synchronized void saleTicket() {\n        if (number > 0) {\n            System.out.println(Thread.currentThread().getName() + "ååºç¬¬ " + (number--) + "ç¥¨,è¿å©ä¸:" + number);\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n\n\n\n# Lock é\n\npublic class SaleTicketTest2 {\n    public static void main(String[] args) {\n        Ticket2 ticket2 = new Ticket2();\n\n        new Thread(() -> {\n            for (int i = 1; i <= 40; i++) {\n                ticket2.saleTicket();\n            }\n        }, "A").start();\n\n        new Thread(() -> {\n            for (int i = 1; i <= 40; i++) {\n                ticket2.saleTicket();\n            }\n        }, "B").start();\n\n        new Thread(() -> {\n            for (int i = 1; i <= 40; i++) {\n                ticket2.saleTicket();\n            }\n        }, "C").start();\n\n    }\n}\n\nclass Ticket2 { // èµæºç±»\n    private Lock lock = new ReentrantLock();\n\n    private int number = 30;\n\n    public void saleTicket() {\n        lock.lock();\n\n        try {\n            if (number > 0) {\n                System.out.println(Thread.currentThread().getName() + "ååºç¬¬ " + (number--) + "ç¥¨,è¿å©ä¸:" + number);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            lock.unlock();\n        }\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n\n\n\n# åºå«\n\n 1. é¦åsynchronizedæ¯javaåç½®å³é®å­ï¼å¨jvmå±é¢ï¼Lockæ¯ä¸ªjavaç±»ï¼\n 2. synchronizedæ æ³å¤æ­æ¯å¦è·åéçç¶æï¼Lockå¯ä»¥å¤æ­æ¯å¦è·åå°éï¼\n 3. synchronizedä¼èªå¨éæ¾é(a çº¿ç¨æ§è¡å®åæ­¥ä»£ç ä¼éæ¾é ï¼b çº¿ç¨æ§è¡è¿ç¨ä¸­åçå¼å¸¸ä¼éæ¾ é)ï¼Lockéå¨finallyä¸­æå·¥éæ¾éï¼unlock()æ¹æ³éæ¾éï¼ï¼å¦åå®¹æé æçº¿ç¨æ­»éï¼\n 4. ç¨synchronizedå³é®å­çä¸¤ä¸ªçº¿ç¨1åçº¿ç¨2ï¼å¦æå½åçº¿ç¨1è·å¾éï¼çº¿ç¨2çº¿ç¨ç­å¾ãå¦æçº¿ç¨1 é»å¡ï¼çº¿ç¨2åä¼ä¸ç´ç­å¾ä¸å»ï¼èLockéå°±ä¸ä¸å®ä¼ç­å¾ä¸å»ï¼å¦æå°è¯è·åä¸å°éï¼çº¿ç¨å¯ä»¥ ä¸ç¨ä¸ç´ç­å¾å°±ç»æäºï¼\n 5. synchronizedçéå¯éå¥ãä¸å¯ä¸­æ­ãéå¬å¹³ï¼èLockéå¯éå¥ãå¯å¤æ­ãå¯å¬å¹³ï¼ä¸¤èçå¯ï¼\n 6. Lockééåå¤§éåæ­¥çä»£ç çåæ­¥é®é¢ï¼synchronizedééåä»£ç å°éçåæ­¥é®é¢ã\n\n\n# 3ãçäº§èåæ¶è´¹è\n\n\n# synchroinzed\n\nçäº§èåæ¶è´¹è synchroinzed ç\n\npublic class ProducerConsumer {\n    /**\n     * é¢ç®ï¼ç°å¨ä¸¤ä¸ªçº¿ç¨ï¼å¯ä»¥æä½åå§å¼ä¸º0çä¸ä¸ªåé\n     * å®ç°ä¸ä¸ªçº¿ç¨å¯¹è¯¥åé + 1ï¼ä¸ä¸ªçº¿ç¨å¯¹è¯¥åé -1\n     * å®ç°äº¤æ¿10æ¬¡\n     * <p>\n     * è¯çªï¼\n     * 1. é«åèä½è¦åçåæä¸ï¼çº¿ç¨æä½èµæºç±»\n     * 2. å¤æ­ ãå¹²æ´»ãéç¥\n     */\n\n    public static void main(String[] args) {\n        Data data = new Data();\n\n        //Açº¿ç¨å¢å \n        new Thread(() -> {\n            for (int i = 1; i <= 10; i++) {\n                try {\n                    data.increment();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        }, "A").start();\n\n        //Bçº¿ç¨åå°\n        new Thread(() -> {\n            for (int i = 1; i <= 10; i++) {\n                try {\n                    data.decrement();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        }, "B").start();\n    }\n}\n\nclass Data {\n    private int number = 0;\n\n    public synchronized void increment() throws InterruptedException {\n        // å¤æ­è¯¥ä¸è¯¥è¿ä¸ªçº¿ç¨å\n        if (number != 0) {\n            this.wait();\n        }\n        // å¹²æ´»\n        number++;\n        System.out.println(Thread.currentThread().getName() + "\\t" + number);\n        // éç¥\n        this.notifyAll();\n    }\n\n    public synchronized void decrement() throws InterruptedException {\n        // å¤æ­è¯¥ä¸è¯¥è¿ä¸ªçº¿ç¨å\n        if (number == 0) {\n            this.wait();\n        }\n        // å¹²æ´»\n        number--;\n        System.out.println(Thread.currentThread().getName() + "\\t" + number);\n        // éç¥\n        this.notifyAll();\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n\n\né®é¢åçº§ï¼é²æ­¢èåå¤éï¼4ä¸ªçº¿ç¨ï¼ä¸¤ä¸ªå ï¼ä¸¤ä¸ªå\n\nãéç¹ãif å while\n\npublic class ProducerConsumerPlus {\n    /**\n     * é¢ç®ï¼ç°å¨åä¸ªçº¿ç¨ï¼å¯ä»¥æä½åå§å¼ä¸º0çä¸ä¸ªåé\n     * å®ç°ä¸¤ä¸ªçº¿ç¨å¯¹è¯¥åé + 1ï¼ä¸¤ä¸ªçº¿ç¨å¯¹è¯¥åé -1\n     * å®ç°äº¤æ¿10æ¬¡\n     *\n     * è¯çªï¼\n     * 1. é«åèä½è¦åçåæä¸ï¼çº¿ç¨æä½èµæºç±»\n     * 2. å¤æ­ ãå¹²æ´»ãéç¥\n     * 3. å¤çº¿ç¨äº¤äºä¸­ï¼å¿é¡»è¦é²æ­¢å¤çº¿ç¨çèåå¤éï¼å³ï¼å¤æ­ä¸è½ç¨ifï¼åªè½ç¨whileï¼\n     */\n\n    public static void main(String[] args) {\n        Data2 data = new Data2();\n\n        //Açº¿ç¨å¢å \n        new Thread(() -> {\n            for (int i = 1; i <= 10; i++) {\n                try {\n                    data.increment();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        }, "A").start();\n\n        //Bçº¿ç¨åå°\n        new Thread(() -> {\n            for (int i = 1; i <= 10; i++) {\n                try {\n                    data.decrement();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        }, "B").start();\n\n        new Thread(() -> {\n            for (int i = 1; i <= 10; i++) {\n                try {\n                    data.increment();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        }, "C").start();\n\n        new Thread(() -> {\n            for (int i = 1; i <= 10; i++) {\n                try {\n                    data.decrement();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        }, "D").start();\n    }\n}\n\nclass Data2 {\n    private int number = 0;\n\n    public synchronized void increment() throws InterruptedException {\n        // å¤æ­è¯¥ä¸è¯¥è¿ä¸ªçº¿ç¨å\n        while (number != 0) {\n            this.wait();\n        }\n        // å¹²æ´»\n        number++;\n        System.out.println(Thread.currentThread().getName() + "\\t" + number);\n        // éç¥\n        this.notifyAll();\n    }\n\n    public synchronized void decrement() throws InterruptedException {\n        // å¤æ­è¯¥ä¸è¯¥è¿ä¸ªçº¿ç¨å\n        while (number == 0) {\n            this.wait();\n        }\n        // å¹²æ´»\n        number--;\n        System.out.println(Thread.currentThread().getName() + "\\t" + number);\n        // éç¥\n        this.notifyAll();\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n\n\n\n# lock\n\npublic class ProducerConsumerPlus {\n    /**\n     * é¢ç®ï¼ç°å¨åä¸ªçº¿ç¨ï¼å¯ä»¥æä½åå§å¼ä¸º0çä¸ä¸ªåé\n     * å®ç°ä¸¤ä¸ªçº¿ç¨å¯¹è¯¥åé + 1ï¼ä¸¤ä¸ªçº¿ç¨å¯¹è¯¥åé -1\n     * å®ç°äº¤æ¿10æ¬¡\n     * <p>\n     * è¯çªï¼\n     * 1. é«åèä½è¦åçåæä¸ï¼çº¿ç¨æä½èµæºç±»\n     * 2. å¤æ­ ãå¹²æ´»ãéç¥\n     * 3. å¤çº¿ç¨äº¤äºä¸­ï¼å¿é¡»è¦é²æ­¢å¤çº¿ç¨çèåå¤éï¼å³ï¼å¤æ­ä¸è½ç¨ifï¼åªè½ç¨whileï¼\n     */\n\n    public static void main(String[] args) {\n        Data2 data = new Data2();\n\n        //Açº¿ç¨å¢å \n        new Thread(() -> {\n            for (int i = 1; i <= 10; i++) {\n                try {\n                    data.increment();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        }, "A").start();\n\n        //Bçº¿ç¨åå°\n        new Thread(() -> {\n            for (int i = 1; i <= 10; i++) {\n                try {\n                    data.decrement();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        }, "B").start();\n\n        new Thread(() -> {\n            for (int i = 1; i <= 10; i++) {\n                try {\n                    data.increment();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        }, "C").start();\n\n        new Thread(() -> {\n            for (int i = 1; i <= 10; i++) {\n                try {\n                    data.decrement();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        }, "D").start();\n    }\n}\n\nclass Data2 {\n    private int number = 0;\n    private Lock lock = new ReentrantLock();\n    private Condition condition = lock.newCondition();\n\n    public void increment() throws InterruptedException {\n\n        lock.lock();\n        try {\n            // å¤æ­è¯¥ä¸è¯¥è¿ä¸ªçº¿ç¨å\n            while (number != 0) {\n                condition.await();\n            }\n            // å¹²æ´»\n            number++;\n            System.out.println(Thread.currentThread().getName() + "\\t" + number);\n            // éç¥\n            condition.signalAll();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        } finally {\n            lock.unlock();\n        }\n    }\n\n    public void decrement() throws InterruptedException {\n        lock.lock();\n        try {\n            // å¤æ­è¯¥ä¸è¯¥è¿ä¸ªçº¿ç¨å\n            while (number == 0) {\n                condition.await();\n            }\n            // å¹²æ´»\n            number--;\n            System.out.println(Thread.currentThread().getName() + "\\t" + number);\n            // éç¥\n            condition.signalAll();\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            lock.unlock();\n        }\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n\n\nä»¥ä¸åçç¨åºå¹¶ä¸ä¼æç§ABCDçº¿ç¨é¡ºåºï¼åªä¼æç§ âçäº§â âæ¶è´¹âé¡ºåº\n\n\n# æç§çº¿ç¨é¡ºåºæ§è¡\n\nç²¾ç¡®éç¥é¡ºåºè®¿é®\n\npublic class c {\n    /**\n     * é¢ç®ï¼å¤çº¿ç¨ä¹é´æé¡ºåºè°ç¨ï¼å®ç° A->B->C\n     * éç¹ï¼æ å¿ä½\n     */\n\n    public static void main(String[] args) {\n        Resources resources = new Resources();\n\n        new Thread(() -> {\n            for (int i = 1; i <= 10; i++) {\n                resources.a();\n            }\n\n        }, "A").start();\n\n        new Thread(() -> {\n            for (int i = 1; i <= 10; i++) {\n                resources.b();\n            }\n\n        }, "B").start();\n\n        new Thread(() -> {\n            for (int i = 1; i <= 10; i++) {\n                resources.c();\n            }\n\n        }, "C").start();\n\n    }\n}\n\nclass Resources {\n    private int number = 1; // 1A 2B 3C\n    private Lock lock = new ReentrantLock();\n    private Condition condition1 = lock.newCondition();\n    private Condition condition2 = lock.newCondition();\n    private Condition condition3 = lock.newCondition();\n\n    public void a() {\n        lock.lock();\n        try {\n            // å¤æ­\n            while (number != 1) {\n                condition1.await();\n            }\n            // å¹²æ´»\n            System.out.println(Thread.currentThread().getName());\n            // éç¥,æå®çå¹²æ´»ï¼\n            number = 2;\n            condition2.signal();\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            lock.unlock();\n        }\n    }\n\n    public void b() {\n        lock.lock();\n        try {\n            // å¤æ­\n            while (number != 2) {\n                condition2.await();\n            }\n            // å¹²æ´»\n            System.out.println(Thread.currentThread().getName() );\n\n            // éç¥,æå®çå¹²æ´»ï¼\n            number = 3;\n            condition3.signal();\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            lock.unlock();\n        }\n    }\n\n    public void c() {\n        lock.lock();\n        try {\n            // å¤æ­\n            while (number != 3) {\n                condition3.await();\n            }\n            // å¹²æ´»\n            System.out.println(Thread.currentThread().getName());\n\n            // éç¥,æå®çå¹²æ´»ï¼\n            number = 1;\n            condition1.signal();\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            lock.unlock();\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n\n\n\n# 4ã8éçç°è±¡\n\n\n# é®é¢ä¸\n\n1ãæ åè®¿é®ï¼è¯·é®åæå°é®ä»¶è¿æ¯ç­ä¿¡ï¼\n\npackage com.oddfar.lock8;\n\nimport java.util.concurrent.TimeUnit;\n\npublic class A {\n    /**\n     * å¤çº¿ç¨ç8é\n     * 1ãæ åè®¿é®ï¼è¯·é®åæå°é®ä»¶è¿æ¯ç­ä¿¡ï¼\n     */\n    public static void main(String[] args) throws InterruptedException {\n        Phone phone = new Phone();\n        new Thread(() -> {\n            try {\n                phone.sendEmail();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }, "A").start();\n\n        //ä¼ç ä¸ç§\n        //Thread.sleep(1000);\n        TimeUnit.SECONDS.sleep(1);\n        \n        new Thread(() -> {\n            try {\n                phone.sendSMS();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }, "B").start();\n\n    }\n}\n\nclass Phone {\n    public synchronized void sendEmail(){\n        System.out.println("sendEmail");\n    }\n\n    public synchronized void sendSMS(){\n        System.out.println("sendSMS");\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n\n\nç­æ¡ï¼sendEmail\n\nç»è®ºï¼è¢«synchronizedä¿®é¥°çæ¹æ³ï¼éçå¯¹è±¡æ¯æ¹æ³çè°ç¨èãå ä¸ºä¸¤ä¸ªæ¹æ³çè°ç¨èæ¯åä¸ä¸ªï¼æä»¥ä¸¤ä¸ªæ¹æ³ç¨çæ¯åä¸ä¸ªéï¼åè°ç¨æ¹æ³çåæ§è¡ã\n\n\n# é®é¢äº\n\n2ãé®ä»¶æ¹æ³æå4ç§éï¼è¯·é®åæå°é®ä»¶è¿æ¯ç­ä¿¡ï¼\n\npackage com.oddfar.lock8;\n\nimport java.util.concurrent.TimeUnit;\n\npublic class B {\n    /**\n     * å¤çº¿ç¨ç8é\n     * 2ãé®ä»¶æ¹æ³æå4ç§éï¼è¯·é®åæå°é®ä»¶è¿æ¯ç­ä¿¡ï¼\n     */\n    public static void main(String[] args) throws InterruptedException {\n        Phone2 phone = new Phone2();\n        new Thread(() -> {\n            try {\n                phone.sendEmail();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }, "A").start();\n\n        TimeUnit.SECONDS.sleep(1);\n\n        new Thread(() -> {\n            try {\n                phone.sendSMS();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }, "B").start();\n\n    }\n}\n\nclass Phone2 {\n    public synchronized void sendEmail() throws Exception {\n        TimeUnit.SECONDS.sleep(4);\n        System.out.println("sendEmail");\n    }\n\n    public synchronized void sendSMS(){\n        System.out.println("sendSMS");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n\nç­æ¡ï¼sendEmail\n\nç»è®ºï¼è¢«synchronizedä¿®é¥°çæ¹æ³ï¼éçå¯¹è±¡æ¯æ¹æ³çè°ç¨èãå ä¸ºä¸¤ä¸ªæ¹æ³çè°ç¨èæ¯åä¸ä¸ªï¼æä»¥ä¸¤ä¸ªæ¹æ³ç¨çæ¯åä¸ä¸ªéï¼åè°ç¨æ¹æ³çåæ§è¡ï¼ç¬¬äºä¸ªæ¹æ³åªæå¨ç¬¬ä¸ä¸ªæ¹æ³æ§è¡å®éæ¾éä¹åæè½æ§è¡ã\n\n\n# é®é¢ä¸\n\n3ãæ°å¢ä¸ä¸ªæ®éæ¹æ³hello()ä¸å éï¼è¯·é®åæå°é®ä»¶è¿æ¯helloï¼\n\npackage com.oddfar.lock8;\n\nimport java.util.concurrent.TimeUnit;\n\n/**\n * @author zhiyuan\n */\npublic class C {\n    /**\n     * å¤çº¿ç¨ç8é\n     * 3ãæ°å¢ä¸ä¸ªæ®éæ¹æ³hello()ä¸å éï¼è¯·é®åæå°é®ä»¶è¿æ¯helloï¼\n     */\n    public static void main(String[] args) throws InterruptedException {\n        Phone3 phone = new Phone3();\n        new Thread(() -> {\n            try {\n                phone.sendEmail();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }, "A").start();\n\n        TimeUnit.SECONDS.sleep(1);\n\n        new Thread(() -> {\n            try {\n                phone.hello();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }, "B").start();\n\n    }\n}\n\nclass Phone3 {\n    public synchronized void sendEmail() throws Exception {\n        TimeUnit.SECONDS.sleep(4);\n        System.out.println("sendEmail");\n    }\n    \n    // æ²¡æ synchronizedï¼æ²¡æ static å°±æ¯æ®éæ¹å¼\n    public void hello() {\n        System.out.println("Hello");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n\n\nç­æ¡ï¼Hello\n\nç»è®ºï¼å¦æä¸ä¸ªæ¹æ³æ²¡æè¢«synchronizedä¿®é¥°ï¼ä¸æ¯åæ­¥æ¹æ³ï¼ä¸åéçå½±åï¼æä»¥ä¸éè¦ç­å¾ã\n\n\n# é®é¢å\n\n4ãä¸¤ä¸ªææºï¼ä¸ä¸ªææºåé®ä»¶ï¼å¦ä¸ä¸ªåç­ä¿¡ï¼è¯·é®åæ§è¡sendEmail è¿æ¯ sendSMS\n\npackage com.oddfar.lock8;\n\nimport java.util.concurrent.TimeUnit;\n\npublic class D {\n    /**\n     * å¤çº¿ç¨ç8é\n     * 4ãä¸¤ä¸ªææºï¼è¯·é®åæ§è¡sendEmail è¿æ¯ sendSMS\n     */\n    public static void main(String[] args) throws InterruptedException {\n        Phone4 phone = new Phone4();\n        Phone4 phone2 = new Phone4();\n\n        new Thread(() -> {\n            try {\n                phone.sendEmail();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }, "A").start();\n\n        TimeUnit.SECONDS.sleep(1);\n\n        new Thread(() -> {\n            try {\n                phone2.sendSMS();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }, "B").start();\n\n    }\n}\n\nclass Phone4 {\n    public synchronized void sendEmail() throws Exception {\n        TimeUnit.SECONDS.sleep(4);\n        System.out.println("sendEmail");\n    }\n\n    public synchronized void sendSMS() {\n        System.out.println("sendSMS");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n\n\nç­æ¡ï¼åæ§è¡âsendSMSâ\n\nç»è®ºï¼è¢«synchronizedä¿®é¥°çæ¹æ³ï¼éçå¯¹è±¡æ¯æ¹æ³çè°ç¨èãç¨äºä¸¤ä¸ªå¯¹è±¡è°ç¨åèªçæ¹æ³ï¼æä»¥ä¸¤ä¸ªæ¹æ³çè°ç¨èä¸æ¯åä¸ä¸ªï¼äºæ¯ä¸¤ä¸ªæ¹æ³ç¨çä¸æ¯åä¸ä¸ªéï¼åè°ç¨çæ¹æ³ä¸éè¦ç­å¾åè°ç¨çæ¹æ³ã\n\n\n# é®é¢äº\n\n5ãä¸¤ä¸ªéæåæ­¥æ¹æ³ï¼åä¸é¨ææºï¼è¯·é®åæå°é®ä»¶è¿æ¯ç­ä¿¡ï¼\n\npackage com.oddfar.lock8;\n\nimport java.util.concurrent.TimeUnit;\n\npublic class E {\n    /**\n     * å¤çº¿ç¨ç8é\n     * 5ãä¸¤ä¸ªéæåæ­¥æ¹æ³ï¼åä¸é¨ææºï¼è¯·é®åæå°é®ä»¶è¿æ¯ç­ä¿¡ï¼\n     */\n    public static void main(String[] args) throws InterruptedException {\n        Phone5 phone = new Phone5();\n\n        new Thread(() -> {\n            try {\n                phone.sendEmail();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }, "A").start();\n\n        TimeUnit.SECONDS.sleep(1);\n\n        new Thread(() -> {\n            try {\n                phone.sendSMS();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }, "B").start();\n\n    }\n}\n\nclass Phone5 {\n    public static synchronized void sendEmail() throws Exception {\n        TimeUnit.SECONDS.sleep(4);\n        System.out.println("sendEmail");\n    }\n\n    public static synchronized void sendSMS() {\n        System.out.println("sendSMS");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\nç­æ¡ï¼åæ§è¡âsendEmailâ\n\nç»è®ºï¼è¢«synchronizedåstaticä¿®é¥°çæ¹æ³ï¼éçå¯¹è±¡æ¯ç±»çclassæ¨¡æ¿å¯¹è±¡ï¼è¿ä¸ªåå¨å±å¯ä¸ï¼ä¸¤ä¸ªæ¹æ³é½è¢«staticä¿®é¥°äºï¼æä»¥ä¸¤ä¸ªæ¹æ³ç¨çæ¯åä¸ä¸ªéï¼åè°ç¨çæ¹æ³éè¦ç­å¾åè°ç¨çæ¹æ³ã\n\n\n# é®é¢å­\n\n6ãä¸¤ä¸ªéæåæ­¥æ¹æ³ï¼2é¨ææºï¼ä¸ä¸ªææºåé®ä»¶ï¼å¦ä¸ä¸ªåç­ä¿¡ï¼è¯·é®åæå°é®ä»¶è¿æ¯ç­ä¿¡ï¼\n\npackage com.oddfar.lock8;\n\nimport java.util.concurrent.TimeUnit;\n\n/**\n * @author zhiyuan\n */\npublic class F {\n    /**\n     * å¤çº¿ç¨ç8é\n     * 6ãä¸¤ä¸ªéæåæ­¥æ¹æ³ï¼2é¨ææºï¼ä¸ä¸ªææºåé®ä»¶ï¼å¦ä¸ä¸ªåç­ä¿¡ï¼è¯·é®åæå°é®ä»¶è¿æ¯ç­ä¿¡ï¼\n     */\n    public static void main(String[] args) throws InterruptedException {\n        Phone6 phone = new Phone6();\n\n        Phone6 phone2 = new Phone6();\n\n        new Thread(() -> {\n            try {\n                phone.sendEmail();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }, "A").start();\n\n        TimeUnit.SECONDS.sleep(1);\n\n        new Thread(() -> {\n            try {\n                phone2.sendSMS();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }, "B").start();\n\n    }\n}\n\nclass Phone6 {\n    public static synchronized void sendEmail() throws Exception {\n        TimeUnit.SECONDS.sleep(4);\n        System.out.println("sendEmail");\n    }\n\n    public static synchronized void sendSMS() {\n        System.out.println("sendSMS");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n\n\nç­æ¡ï¼åè¾åºâsendEmailâ\n\nç»è®ºï¼è¢«synchronizedåstaticä¿®é¥°çæ¹æ³ï¼éçå¯¹è±¡å°±æ¯Classæ¨¡æ¿å¯¹è±¡ï¼è¿ä¸ªåå¨å±å¯ä¸ï¼æä»¥è¯´è¿éæ¯åä¸ä¸ª\n\n\n# é®é¢ä¸\n\n7ãä¸ä¸ªæ®éåæ­¥æ¹æ³ï¼ä¸ä¸ªéæåæ­¥æ¹æ³ï¼åä¸é¨ææºï¼è¯·é®åæå°é®ä»¶è¿æ¯ç­ä¿¡ï¼\n\npackage com.oddfar.lock8;\n\nimport java.util.concurrent.TimeUnit;\n\npublic class G {\n    /**\n     * å¤çº¿ç¨ç8é\n     * 7ãä¸ä¸ªæ®éåæ­¥æ¹æ³ï¼ä¸ä¸ªéæåæ­¥æ¹æ³ï¼åä¸é¨ææºï¼è¯·é®åæå°é®ä»¶è¿æ¯ç­ä¿¡ï¼\n     */\n    public static void main(String[] args) throws InterruptedException {\n        Phone7 phone = new Phone7();\n\n        new Thread(() -> {\n            try {\n                phone.sendEmail();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }, "A").start();\n\n        TimeUnit.SECONDS.sleep(1);\n\n        new Thread(() -> {\n            try {\n                phone.sendSMS();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }, "B").start();\n\n    }\n}\n\nclass Phone7 {\n    public static synchronized void sendEmail() throws Exception {\n        TimeUnit.SECONDS.sleep(4);\n        System.out.println("sendEmail");\n    }\n\n    public synchronized void sendSMS() {\n        System.out.println("sendSMS");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\nç­æ¡ï¼åæ§è¡âsendSMSâ\n\nç»è®ºï¼synchronized éçæ¯è¿ä¸ªè°ç¨çå¯¹è±¡ãè¢«synchronizedåstaticä¿®é¥°çæ¹æ³ï¼éçæ¯è¿ä¸ªç±»çClassæ¨¡æ¿ ãè¿éæ¯ä¸¤ä¸ªéï¼\n\n\n# é®é¢å«\n\n8ãä¸ä¸ªæ®éåæ­¥æ¹æ³ï¼ä¸ä¸ªéæåæ­¥æ¹æ³ï¼2é¨ææºï¼ä¸ä¸ªåé®ä»¶ï¼ä¸ä¸ªåç­ä¿¡ï¼è¯·é®åªä¸ªåæ§è¡ï¼\n\npackage com.oddfar.lock8;\n\nimport java.util.concurrent.TimeUnit;\n\n/**\n * @author zhiyuan\n */\npublic class H {\n    /**\n     * å¤çº¿ç¨ç8é\n     * 8ãä¸ä¸ªæ®éåæ­¥æ¹æ³ï¼ä¸ä¸ªéæåæ­¥æ¹æ³ï¼2é¨ææºï¼ä¸ä¸ªåé®ä»¶ï¼ä¸ä¸ªåç­ä¿¡ï¼è¯·é®åæå°é®ä»¶è¿æ¯ç­ä¿¡ï¼\n     */\n    public static void main(String[] args) throws InterruptedException {\n        Phone8 phone = new Phone8();\n        Phone8 phone2 = new Phone8();\n\n        new Thread(() -> {\n            try {\n                phone.sendEmail();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }, "A").start();\n\n        TimeUnit.SECONDS.sleep(1);\n\n        new Thread(() -> {\n            try {\n                phone2.sendSMS();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }, "B").start();\n\n    }\n}\n\nclass Phone8 {\n    public static synchronized void sendEmail() throws Exception {\n        TimeUnit.SECONDS.sleep(4);\n        System.out.println("sendEmail");\n    }\n\n    public synchronized void sendSMS() {\n        System.out.println("sendSMS");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n\n\nç­æ¡ï¼sendSMS\n\nç»è®ºï¼è¢«synchronizedåstaticä¿®é¥°çæ¹æ³ï¼éçå¯¹è±¡æ¯ç±»çclasså¯¹è±¡ãä»è¢«synchronizedä¿®é¥°çæ¹æ³ï¼éçå¯¹è±¡æ¯æ¹æ³çè°ç¨èãå³ä¾¿æ¯ç¨åä¸ä¸ªå¯¹è±¡è°ç¨ä¸¤ä¸ªæ¹æ³ï¼éçå¯¹è±¡ä¹ä¸æ¯åä¸ä¸ªï¼æä»¥ä¸¤ä¸ªæ¹æ³ç¨çä¸æ¯åä¸ä¸ªéï¼åè°ç¨çæ¹æ³ä¸éè¦ç­å¾åè°ç¨çæ¹æ³ã\n\n\n# å°ç»\n\n1ãnew this è°ç¨çè¿ä¸ªå¯¹è±¡ï¼æ¯ä¸ä¸ªå·ä½çå¯¹è±¡ï¼\n\n2ãstatic class å¯ä¸çä¸ä¸ªæ¨¡æ¿ï¼\n\nä¸ä¸ªå¯¹è±¡éé¢å¦ææå¤ä¸ªsynchronizedæ¹æ³ï¼æä¸ªæ¶å»åï¼åªè¦ä¸ä¸ªçº¿ç¨å»è°ç¨å¶ä¸­ä¸ä¸ªsynchronized æ¹æ³äºï¼å¶ä»ççº¿ç¨é½è¦ç­å¾ï¼æ¢å¥è¯è¯´ï¼å¨æä¸ªæ¶å»åï¼åªè½æå¯ä¸ä¸ä¸ªçº¿ç¨å»è®¿é®è¿äº synchronizedæ¹æ³ï¼éçæ¯å½åå¯¹è±¡thisï¼è¢«éå®åï¼å¶ä»ççº¿ç¨é½ä¸è½è¿å¥å°å½åå¯¹è±¡çå¶ä»ç synchronizedæ¹æ³\n\nå ä¸ªæ®éæ¹æ³ååç°ååæ­¥éæ å³ï¼æ¢æä¸¤ä¸ªå¯¹è±¡åï¼ä¸æ¯åä¸æéï¼æåµåå\n\né½æ¢æéæåæ­¥æ¹æ³åï¼æåµåååäºãææçééæçåæ­¥æ¹æ³ç¨çé½æ¯åä¸æéï¼éçclassæ¨¡æ¿ï¼\n\nå·ä½çè¡¨ç°ä¸ºä»¥ä¸ä¸ç§å½¢å¼ï¼\n\n * å¯¹äºæ®éåæ­¥æ¹æ³ï¼éçæ¯å½åå®ä¾å¯¹è±¡\n\n * å¯¹äºéæåæ­¥æ¹æ³ï¼éçæ¯å½åçClasså¯¹è±¡ã\n\n * å¯¹äºåæ­¥æ¹æ³åï¼éæ¯synchronizedæ¬å·éé¢çéç½®å¯¹è±¡\n\nå½ä¸ä¸ªçº¿ç¨è¯å¾è®¿é®åæ­¥ä»£ç åæ¶ï¼ä»é¦åå¿é¡»å¾å°éï¼éåºæèæ¯æåºå¼å¸¸æ¶å¿é¡»éæ¾éï¼ä¹å°±æ¯è¯´ å¦æä¸ä¸ªå®ä¾å¯¹è±¡çééæåæ­¥æ¹æ³è·åéåï¼è¯¥å®ä¾å¯¹è±¡çå¶ä»ééæåæ­¥æ¹æ³å¿é¡»ç­å¾è·åéçæ¹æ³éæ¾éåæè½è·åéï¼å¯ä»¥æ¯å«çå®ä¾å¯¹è±¡éééæåæ­¥æ¹æ³å ä¸ºè·è¯¥å®ä¾å¯¹è±¡çééæåæ­¥æ¹æ³ç¨ çæ¯ä¸åçéï¼æä»¥å¿é¡»ç­å¾è¯¥å®ä¾å¯¹è±¡å·²ç»è·åéçééæåæ­¥æ¹æ³éæ¾éå°±å¯ä»¥è·åä»ä»¬èªå·±ç éã\n\nææçéæåæ­¥æ¹æ³ç¨çä¹æ¯åä¸æéï¼ç±»å¯¹è±¡æ¬èº«ï¼ ï¼è¿ä¸¤æéçæ¯ä¸¤ä¸ªä¸åçå¯¹è±¡ï¼æä»¥éæçåæ­¥æ¹æ³ä¸ééæçåæ­¥æ¹æ³ä¹é´æ¯ä¸ä¼æç«äºæ¡ä»¶çï¼ä½æ¯ä¸æ¦ä¸ä¸ªéæåæ­¥æ¹æ³è·åéåï¼å¶ä»çéæåæ­¥æ¹æ³é½å¿é¡»ç­å¾è¯¥æ¹æ³éæ¾éåæè½è·åéï¼èä¸æ¯åä¸ä¸ªå®ä¾å¯¹è±¡çéæåæ­¥æ¹æ³ä¹é´ï¼è¿æ¯ä¸åçå®ä¾å¯¹è±¡çéæåæ­¥æ¹æ³ä¹é´ï¼åªè¦ä»ä»¬ç¨ä¸ä¸ªçæ¯åä¸ä¸ªç±»çå®ä¾å¯¹è±¡ã\n\n\n# 5ãå¤çº¿ç¨ä¸éåç±»çä¸å®å¨\n\n\n# list\n\nå¤çº¿ç¨ä¸\n\npublic class ListTest {\n    public static void main(String[] args) {\n        List<String> list = new ArrayList<>();\n        // å¯¹æ¯3ä¸ªçº¿ç¨ å 30ä¸ªçº¿ç¨ï¼çåºå«\n        for (int i = 1; i <= 30; i++) {\n            new Thread(() -> {\n                list.add(UUID.randomUUID().toString().substring(0, 8));\n                System.out.println(list);\n            }, String.valueOf(i)).start();\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nè¿è¡æ¥éï¼java.util.ConcurrentModificationException\n\nå¯¼è´åå ï¼add æ¹æ³æ²¡æå é\n\nè§£å³æ¹æ¡ï¼\n\n/**\n * æ¢ä¸ä¸ªéåç±»\n *  1ãList<String> list = new Vector<>(); JDK1.0 å°±å­å¨äºï¼\n *  2ãList<String> list = Collections.synchronizedList(new ArrayList<>());\n *  3ãList<String> list = new CopyOnWriteArrayList<>();\n */\npublic class ListTest {\n    public static void main(String[] args) {\n\n        List<String> list = new CopyOnWriteArrayList<>();\n\n        for (int i = 1; i <= 30; i++) {\n            new Thread(() -> {\n                list.add(UUID.randomUUID().toString().substring(0, 8));\n                System.out.println(list);\n            }, String.valueOf(i)).start();\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nåå¥æ¶å¤å¶ï¼CopyOnWriteï¼ææ³\n\nåå¥æ¶å¤å¶ï¼CopyOnWriteï¼ç®ç§°COWï¼ææ³æ¯è®¡ç®æºç¨åºè®¾è®¡é¢åä¸­çä¸ç§ä¼åç­ç¥ãå¶æ ¸å¿ææ³æ¯ï¼å¦ææå¤ä¸ªè°ç¨èï¼Callersï¼åæ¶è¦æ±ç¸åçèµæºï¼å¦åå­æèæ¯ç£çä¸çæ°æ®å­å¨ï¼ï¼ä»ä»¬ä¼å±åè·åç¸åçæéæåç¸åçèµæºï¼ç´å°æä¸ªè°ç¨èè§å¾ä¿®æ¹èµæºåå®¹æ¶ï¼ç³»ç»æä¼çæ­£å¤å¶ä¸ä»½ä¸ç¨å¯æ¬ï¼private copyï¼ç»è¯¥è°ç¨èï¼èå¶ä»è°ç¨èæè§å°çæåçèµæºä»ç¶ä¿æä¸åãè¿è¿ç¨å¯¹å¶ä»çè°ç¨èé½æ¯éæçï¼transparentlyï¼ãæ­¤åæ³ä¸»è¦çä¼ç¹æ¯å¦æè°ç¨èæ²¡æä¿®æ¹èµæºï¼å°±ä¸ä¼æå¯æ¬ ï¼private copyï¼è¢«åå»ºï¼å æ­¤å¤ä¸ªè°ç¨èåªæ¯è¯»åæä½æ¶å¯ä»¥å±äº«åä¸ä»½èµæºã\n\nCopyOnWriteArrayListä¸ºä»ä¹å¹¶åå®å¨ä¸æ§è½æ¯Vectorå¥½\n\nVectoræ¯å¢å æ¹æ¥æ¹æ³é½å äºsynchronizedï¼ä¿è¯åæ­¥ï¼ä½æ¯æ¯ä¸ªæ¹æ³æ§è¡çæ¶åé½è¦å»è·å¾éï¼æ§è½å°±ä¼å¤§å¤§ä¸éï¼èCopyOnWriteArrayList åªæ¯å¨å¢å æ¹ä¸å éï¼ä½æ¯è¯»ä¸å éï¼å¨è¯»æ¹é¢çæ§è½å°±å¥½äºVectorï¼CopyOnWriteArrayListæ¯æè¯»å¤åå°çå¹¶åæåµã\n\n\n# set\n\n/**\n * 1ãSet<String> set = Collections.synchronizedSet(new HashSet<>());\n * 2ãSet<String> set = new CopyOnWriteArraySet();\n */\npublic class SetTest {\n    public static void main(String[] args) {\n\n        Set<String> set = new CopyOnWriteArraySet();\n\n        for (int i = 1; i <= 30; i++) {\n            new Thread(() -> {\n                set.add(UUID.randomUUID().toString().substring(0, 8));\n                System.out.println(set);\n            }, String.valueOf(i)).start();\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# map\n\nhashMapåºå±æ¯æ°ç»+é¾è¡¨+çº¢é»æ \n\nMap<String,String> map = new HashMap<>();\n// ç­ä»·äº\nMap<String,String> map = new HashMap<>(16,0.75);\n// å·¥ä½ä¸­ï¼å¸¸å¸¸ä¼èªå·±æ ¹æ®ä¸å¡æ¥ååæ°ï¼æé«æç\n\n\n1\n2\n3\n4\n\n\nmapä¸å®å¨æµè¯ï¼\n\npublic class MapSet {\n    public static void main(String[] args) {\n        Map<String, String> map = new HashMap<>();\n\n        for (int i = 1; i <= 30; i++) {\n            new Thread(() -> {\n                map.put(Thread.currentThread().getName(),\n                        UUID.randomUUID().toString().substring(0, 8));\n                System.out.println(map);\n            }, String.valueOf(i)).start();\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nè§£å³ï¼\n\nMap<String,String> map = new ConcurrentHashMap<>();\n\n\n1\n\n\n\n# 6ãCallable\n\næä»¬å·²ç»ç¥éJavaä¸­å¸¸ç¨çä¸¤ç§çº¿ç¨å®ç°æ¹å¼ï¼åå«æ¯ç»§æ¿Threadç±»åå®ç°Runnableæ¥å£ã\n\n\n\nä»ä¸å¾ä¸­ï¼æä»¬å¯ä»¥çå°ï¼ç¬¬ä¸ç§å®ç°Callableæ¥å£ççº¿ç¨ï¼èä¸è¿å¸¦æè¿åå¼çãæä»¬æ¥å¯¹æ¯ä¸å®ç°Runnableåå®ç°Callableæ¥å£çä¸¤ç§æ¹å¼ä¸åç¹ï¼\n\n1ï¼éè¦å®ç°çæ¹æ³åç§°ä¸ä¸æ ·ï¼ä¸ä¸ªrunæ¹æ³ï¼ä¸ä¸ªcallæ¹æ³\n\n2ï¼è¿åå¼ä¸åï¼ä¸ä¸ªvoidæ è¿åå¼ï¼ä¸ä¸ªå¸¦æè¿åå¼çãå¶ä¸­è¿åå¼çç±»ååæ³åVæ¯ä¸è´çã\n\n3ï¼å¼å¸¸ï¼ä¸ä¸ªæ éæåºå¼å¸¸ï¼ä¸ä¸ªéè¦æåºå¼å¸¸ã\n\n\n# åºç¡å¥é¨\n\npublic class CallableDemo {\n    public static void main(String[] args) throws Exception {\n        MyThread myThread = new MyThread();\n        FutureTask futureTask = new FutureTask(myThread); // ééç±»\n        Thread t1 = new Thread(futureTask, "A"); // è°ç¨æ§è¡\n        t1.start();\n        Integer result = (Integer) futureTask.get(); // è·åè¿åå¼\n        System.out.println(result);\n    }\n}\n\nclass MyThread implements Callable<Integer> {\n    @Override\n    public Integer call() throws Exception {\n        System.out.println("call è¢«è°ç¨");\n        return 1024;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n\n\n# å¤ä¸ªçº¿ç¨è°ç¨\n\npublic class CallableDemo {\n    public static void main(String[] args) throws Exception {\n        MyThread myThread = new MyThread();\n        FutureTask futureTask = new FutureTask(myThread); // ééç±»\n\n        new Thread(futureTask, "A").start(); // è°ç¨æ§è¡\n        // ç¬¬äºæ¬¡è°ç¨æ§è¡ï¼å¨åä¸ä¸ªfutureTaskå¯¹è±¡ï¼ä¸è¾åºç»æï¼å¯çè§£ä¸ºâç¼å­â\n        new Thread(futureTask, "B").start(); \n\n        //get æ¹æ³è·å¾è¿åç»æ! ä¸è¬æ¾å¨æåä¸è¡ï¼å¦åå¯è½ä¼é»å¡\n        Integer result = (Integer) futureTask.get(); // è·åè¿åå¼\n        System.out.println(result);\n    }\n}\n\nclass MyThread implements Callable<Integer> {\n    @Override\n    public Integer call() throws Exception {\n        System.out.println(Thread.currentThread().getName() + "\\tcall è¢«è°ç¨");\n        TimeUnit.SECONDS.sleep(2);\n        return 1024;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# åèèµæ\n\n * https://baijiahao.baidu.com/s?id=1666820818587296272\n\n\n# 7ãå¸¸ç¨è¾å©ç±»\n\n\n# CountDownLatch\n\nâåè®¡æ¶éå­å¨â\n\nä¾å¦ï¼æ§è¡å®6ä¸ªçº¿ç¨è¾åºæ§è¡å®æ¯\n\npublic class CountDownLatchDemo {\n    public static void main(String[] args) throws InterruptedException {\n        // è®¡æ°å¨\n        CountDownLatch countDownLatch = new CountDownLatch(6);\n        for (int i = 1; i <= 6; i++) {\n            new Thread(() -> {\n                System.out.println(Thread.currentThread().getName() + "\\tStart");\n                countDownLatch.countDown(); // è®¡æ°å¨-1\n            }, String.valueOf(i)).start();\n        }\n        //é»å¡ç­å¾è®¡æ°å¨å½é¶\n        countDownLatch.await();\n        System.out.println(Thread.currentThread().getName() + "\\tEnd");\n    }\n    \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nCountDownLatch ä¸»è¦æä¸¤ä¸ªæ¹æ³ï¼å½ä¸ä¸ªæå¤ä¸ªçº¿ç¨è°ç¨ await æ¹æ³æ¶ï¼è¿äºçº¿ç¨ä¼é»å¡\n\nå¶ä»çº¿ç¨è°ç¨CountDown()æ¹æ³ä¼å°è®¡æ°å¨å1ï¼è°ç¨CountDownæ¹æ³ççº¿ç¨ä¸ä¼é»å¡ï¼\n\nå½è®¡æ°å¨åä¸º0æ¶ï¼await æ¹æ³é»å¡ççº¿ç¨ä¼è¢«å¤éï¼ç»§ç»­æ§è¡\n\n\n# CyclicBarrier\n\nç¿»è¯ï¼CyclicBarrier ç¯±æ \n\nä½ç¨ï¼åä¸é¢çåæ³ç¸åï¼è¿éæ¯å æ³ï¼å¥½æ¯éé½7ä¸ªé¾ç å¬å¤ç¥é¾ï¼æèäººå°é½äºåå¼ä¼ï¼\n\npublic class CyclicBarrierDemo {\n    public static void main(String[] args) {\n        // CyclicBarrier(int parties, Runnable barrierAction)\n        CyclicBarrier cyclicBarrier = new CyclicBarrier(7, () -> {\n            System.out.println("å¬å¤ç¥é¾æå");\n        });\n\n        for (int i = 1; i <= 7; i++) {\n            final int tempInt = i;\n            new Thread(() -> {\n                System.out.println(Thread.currentThread().getName() + \n                        "æ¶éäºç¬¬" + tempInt + "é¢é¾ç ");\n\n                try {\n                    cyclicBarrier.await(); // ç­å¾\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                } catch (BrokenBarrierException e) {\n                    e.printStackTrace();\n                }\n\n            }).start();\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# Semaphore\n\nç¿»è¯ï¼Semaphore ä¿¡å·é;ä¿¡å·ç¯;ä¿¡å·\n\nä¸¾ä¸ªâæ¢è½¦ä½âçä¾å­\n\npublic class SemaphoreDemo {\n    public static void main(String[] args) {\n        // æ¨¡æèµæºç±»ï¼æ3ä¸ªç©ºè½¦ä½\n        Semaphore semaphore = new Semaphore(3);\n        for (int i = 1; i <= 6; i++) { // æ¨¡æ6ä¸ªè½¦\n            new Thread(() -> {\n                try {\n                    semaphore.acquire(); // acquire å¾å°\n                    System.out.println(Thread.currentThread().getName() + " æ¢å°äºè½¦ä½");\n                    TimeUnit.SECONDS.sleep(3); // å3ç§é\n                    System.out.println(Thread.currentThread().getName() + " ç¦»å¼äºè½¦ä½");\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                } finally {\n                    semaphore.release(); // éæ¾è¿ä¸ªä½ç½®\n                }\n            }, String.valueOf(i)).start();\n        }\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\nå¨ä¿¡å·éä¸æä»¬å®ä¹ä¸¤ç§æä½ï¼\n\n * acquireï¼è·åï¼\n   \n   å½ä¸ä¸ªçº¿ç¨è°ç¨ acquire æä½æ¶ï¼ä»è¦ä¹éè¿æåè·åä¿¡å·éï¼ä¿¡å·é-1ï¼\n   \n   è¦ä¹ä¸ç´ç­ä¸å»ï¼ç´å°æçº¿ç¨éæ¾ä¿¡å·éï¼æè¶æ¶\n\n * release ï¼éæ¾ï¼\n   \n   ä¼å°ä¿¡å·éçå¼ + 1ï¼ç¶åå¤éç­å¾ççº¿ç¨\n\nä¿¡å·éä¸»è¦ç¨äºä¸¤ä¸ªç®çï¼ä¸ä¸ªæ¯ç¨äºå¤ä¸ªå±äº«èµæºçäºæ¥ä½¿ç¨ï¼å¦ä¸ä¸ªç¨äºå¹¶åçº¿ç¨æ°çæ§å¶ã\n\n\n# 8ãè¯»åé\n\nReadWriteLock\n\nç¬å éï¼åéï¼ï¼æè¯¥éä¸æ¬¡åªè½è¢«ä¸ä¸ªçº¿ç¨éææãå¯¹äºReentranrLockå Synchronized èè¨é½æ¯ç¬å éã\n\nå±äº«éï¼è¯»éï¼ï¼è¯¥éå¯è¢«å¤ä¸ªçº¿ç¨æææã\n\nå¯¹äºReentrantReadWriteLockå¶è¯»éæ¶å±äº«éï¼åéæ¯ç¬å éï¼è¯»éçå±äº«éå¯ä¿è¯å¹¶åè¯»æ¯éå¸¸é«æçã\n\npublic class ReadWriteLockDemo {\n    /**\n     * å¤ä¸ªçº¿ç¨åæ¶è¯»ä¸ä¸ªèµæºç±»æ²¡æä»»ä½é®é¢ï¼æä»¥ä¸ºäºæ»¡è¶³å¹¶åéï¼è¯»åå±äº«èµæºåºè¯¥å¯ä»¥åæ¶è¿è¡ã\n     * ä½æ¯ï¼å¦ææä¸ä¸ªçº¿ç¨æ³å»åå±äº«èµæºï¼å°±ä¸åºè¯¥åæå¶ä»çº¿ç¨å¯ä»¥å¯¹è¯¥èµæºè¿è¡è¯»æåã\n     * 1. è¯»-è¯» å¯ä»¥å±å­\n     * 2. è¯»-å ä¸è½å±å­\n     * 3. å-å ä¸è½å±å­\n     */\n    public static void main(String[] args) {\n        MyCacheLock myCache = new MyCacheLock();\n        // å\n        for (int i = 1; i <= 5; i++) {\n            final int tempInt = i;\n            new Thread(() -> {\n                myCache.put(tempInt + "", tempInt + "");\n            }, String.valueOf(i)).start();\n        }\n\n        // è¯»\n        for (int i = 1; i <= 5; i++) {\n            final int tempInt = i;\n            new Thread(() -> {\n                myCache.get(tempInt + "");\n            }, String.valueOf(i)).start();\n        }\n    }\n\n}\n\n// æµè¯åç°é®é¢: åå¥çæ¶åï¼è¿æ²¡åå¥å®æï¼ä¼å­å¨å¶ä»çåå¥ï¼é æé®é¢\nclass MyCache {\n    private volatile Map<String, Object> map = new HashMap<>();\n\n    public void put(String key, Object value) {\n        System.out.println(Thread.currentThread().getName() + " åå¥" + key);\n        map.put(key, value);\n        System.out.println(Thread.currentThread().getName() + " åå¥æå!");\n    }\n\n    public void get(String key) {\n        System.out.println(Thread.currentThread().getName() + " è¯»å" + key);\n        Object result = map.get(key);\n        System.out.println(Thread.currentThread().getName() + " è¯»åç»æï¼" + result);\n    }\n}\n\n// å é\nclass MyCacheLock {\n    private volatile Map<String, Object> map = new HashMap<>();\n    private ReadWriteLock readWriteLock = new ReentrantReadWriteLock(); // è¯»åé\n\n    public void put(String key, Object value) {\n        // åé\n        readWriteLock.writeLock().lock();\n        try {\n            System.out.println(Thread.currentThread().getName() + " åå¥" + key);\n            map.put(key, value);\n            System.out.println(Thread.currentThread().getName() + " åå¥æå!");\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            //è§£é\n            readWriteLock.writeLock().unlock();\n        }\n    }\n\n    public void get(String key) {\n        // è¯»é\n        readWriteLock.readLock().lock();\n        try {\n            System.out.println(Thread.currentThread().getName() + " è¯»å" + key);\n            Object result = map.get(key);\n            System.out.println(Thread.currentThread().getName() + " è¯»åç»æï¼" + result);\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            readWriteLock.readLock().unlock();\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n\n\n\n# 9ãé»å¡éå\n\nInterface  BlockingQueue<E>\n\n\n1\n\n\n\n# é»å¡éåç®ä»\n\né»å¡ï¼å¿é¡»è¦é»å¡ãä¸å¾ä¸é»å¡\n\né»å¡éåæ¯ä¸ä¸ªéåï¼å¨æ°æ®ç»æä¸­èµ·çä½ç¨å¦ä¸å¾ï¼\n\n\n\nå½éåæ¯ç©ºçï¼ä»éåä¸­è·ååç´ çæä½å°ä¼è¢«é»å¡ã\n\nå½éåæ¯æ»¡çï¼ä»éåä¸­æ·»å åç´ çæä½å°ä¼è¢«é»å¡ã\n\nè¯å¾ä»ç©ºçéåä¸­è·ååç´ ççº¿ç¨å°ä¼è¢«é»å¡ï¼ç´å°å¶ä»çº¿ç¨å¾ç©ºçéåæå¥æ°çåç´ ã\n\nè¯å¾åå·²æ»¡çéåä¸­æ·»å æ°åç´ ççº¿ç¨å°ä¼è¢«é»å¡ï¼ç´å°å¶ä»çº¿ç¨ä»éåä¸­ç§»é¤ä¸ä¸ªæå¤ä¸ªåç´ æèå®å¨æ¸ç©ºï¼ä½¿éååå¾ç©ºé²èµ·æ¥å¹¶åç»­æ°å¢ã\n\n\n# é»å¡éåçç¨å¤\n\nå¨å¤çº¿ç¨é¢åï¼æè°é»å¡ï¼å¨æäºæåµä¸ä¼æèµ·çº¿ç¨ï¼å³é»å¡ï¼ï¼ä¸æ¦æ¡ä»¶æ»¡è¶³ï¼è¢«æèµ·ççº¿ç¨åä¼èª å¨è¢«å¤èµ·ã\n\nä¸ºä»ä¹éè¦ BlockingQueueï¼\n\nå¥½å¤æ¯æä»¬ä¸éè¦å³å¿ä»ä¹æ¶åéè¦é»å¡çº¿ç¨ï¼ä»ä¹æ¶åéè¦å¤éçº¿ç¨ï¼å ä¸ºè¿ä¸åBlockingQueue é½ ç»ä½ ä¸æååäºã\n\nå¨ concurrent ååå¸ä»¥åï¼å¨å¤çº¿ç¨ç¯å¢ä¸ï¼æä»¬æ¯ä¸ªç¨åºåé½å¿é¡»èªå·±å»æ§å¶è¿äºç»èï¼å°¤å¶è¿è¦å¼é¡¾æçåçº¿ç¨å®å¨ï¼èè¿ä¼ç»æä»¬çç¨åºå¸¦æ¥ä¸å°çå¤æåº¦ã\n\n\n# æ¥å£æ¶æå¾\n\n\n\n * ArrayBlockingQueue\n   \n   ç±æ°ç»ç»æç»æçæçé»å¡éåã\n\n * LinkedBlockingQueue\n   \n   ç±é¾è¡¨ç»æç»æçæçï¼é»è®¤å¼ä¸ºï¼integer.MAX_VALUEï¼é»å¡éåã\n\n * PriorityBlockingQueue\n   \n   æ¯æä¼åçº§æåºçæ çé»å¡éå\n\n * DelayQueue\n   \n   ä½¿ç¨ä¼åçº§éåå®ç°çå»¶è¿æ çé»å¡éåã\n\n * SynchronousQueue\n   \n   ä¸å­å¨åç´ çé»å¡éåï¼ä¹å³åä¸ªåç´ çéåã\n\n * LinkedTransferQueue\n   \n   ç±é¾è¡¨ç»æçæ çé»å¡éå\n\n * LinkedBlockingDeque\n   \n   ç±é¾è¡¨ç»æçååé»å¡éåã\n\n\n# APIçä½¿ç¨\n\næ¹æ³\\å¤çæ¹å¼   æåºå¼å¸¸        è¿åç¹æ®å¼      ä¸ç´é»å¡     è¶æ¶éåº\næå¥æ¹æ³      add(e)      offer(e)   put(e)   offer(e,time,unit)\nç§»é¤æ¹æ³      remove()    poll()     take()   poll(time,unit)\næ£æ¥æ¹æ³      element()   peek()     ä¸å¯ç¨      ä¸å¯ç¨\n\nè§£éï¼\n\n * æåºå¼å¸¸\n\nå½é»å¡éåæ»¡æ¶ï¼åå¾éåéaddæå¥åç´ ä¼æåº IllegalStateException: Queue full\n\nå½é»å¡éåç©ºæ¶ï¼åå¾éåéremoveç§»é¤åç´ ä¼æ NoSuchElementException`\n\n * è¿åç¹æ®å¼\n\næå¥æ¹æ³ï¼æåè¿åtrueï¼å¤±è´¥åfalse\n\nç§»é¤æ¹æ³ï¼æåè¿åéååç´ ï¼éåéæ²¡æåè¿ånull\n\n * ä¸ç´é»å¡\n\nå½é»å¡éåæ»¡æ¶ï¼çäº§èçº¿ç¨ç»§ç»­å¾éåéputåç´ ï¼éåä¼ä¸ç´é»å¡çäº§èçº¿ç¨ç´å°putæ°æ®æååºä¸­æ­éåº\n\nå½é»å¡éåç©ºæ¶ï¼æ¶è´¹èçº¿ç¨ä»éåétakeåç´ ï¼éåä¼ä¸ç´é»å¡æ¶è´¹èçº¿ç¨ç´å°éåå¯ç¨\n\n * è¶æ¶éåº\n\nå½é»å¡éåæ»¡æ¶ï¼éåä¼é»å¡çäº§èçº¿ç¨ä¸å®æ¶é´ï¼è¶è¿éæ¶åçäº§èçº¿ç¨ä¼éåº\n\næåºå¼å¸¸\n\npackage com.oddfar.bq;\n\nimport java.util.concurrent.ArrayBlockingQueue;\n\n/**\n * @author zhiyuan\n */\npublic class BlockingQueueDemo {\n\n    public static void main(String[] args) {\n        // éåå¤§å°\n        ArrayBlockingQueue blockingQueue = new ArrayBlockingQueue<>(3);\n        System.out.println(blockingQueue.add("a"));\n        System.out.println(blockingQueue.add("b"));\n        System.out.println(blockingQueue.add("c"));\n\n        //java.lang.IllegalStateException: Queue full\n//        System.out.println(blockingQueue.add("d"));\n\n        System.out.println("é¦åç´ ï¼" + blockingQueue.element()); // æ£æµéåéé¦åç´ ï¼\n        // public E remove() è¿åå¼Eï¼å°±æ¯ç§»é¤çå¼\n        System.out.println(blockingQueue.remove()); //a\n        System.out.println(blockingQueue.remove()); //b\n        System.out.println(blockingQueue.remove()); //c\n        // java.util.NoSuchElementException\n//        System.out.println(blockingQueue.remove());\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\nè¿åç¹æ®å¼\n\npublic class BlockingQueueDemo2 {\n    public static void main(String[] args) {\n        // éåå¤§å°\n        ArrayBlockingQueue blockingQueue = new ArrayBlockingQueue<>(3);\n\n        System.out.println(blockingQueue.offer("a")); // true\n        System.out.println(blockingQueue.offer("b")); // true\n        System.out.println(blockingQueue.offer("c")); // true\n        //System.out.println(blockingQueue.offer("d")); // false\n\n        System.out.println("é¦åç´ ï¼" + blockingQueue.peek()); // æ£æµéåéé¦åç´ ï¼\n\n        // public E poll()\n        System.out.println(blockingQueue.poll()); // a\n        System.out.println(blockingQueue.poll()); // b\n        System.out.println(blockingQueue.poll()); // c\n        System.out.println(blockingQueue.poll()); // null\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nä¸ç´é»å¡\n\npublic class BlockingQueueDemo3 {\n    public static void main(String[] args) throws InterruptedException {\n        // éåå¤§å°\n        ArrayBlockingQueue blockingQueue = new ArrayBlockingQueue<>(3);\n\n        // ä¸ç´é»å¡\n        blockingQueue.put("a");\n        blockingQueue.put("b");\n        blockingQueue.put("c");\n//         blockingQueue.put("d");\n        System.out.println(blockingQueue.take()); // a\n        System.out.println(blockingQueue.take()); // b\n        System.out.println(blockingQueue.take()); // c\n        System.out.println(blockingQueue.take()); // é»å¡ä¸åæ­¢ç­å¾\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nè¶æ¶éåº\n\npublic class BlockingQueueDemo4 {\n    public static void main(String[] args) throws InterruptedException {\n        // éåå¤§å°\n        ArrayBlockingQueue blockingQueue = new ArrayBlockingQueue<>(3);\n\n        // ä¸ç´é»å¡\n        blockingQueue.put("a");\n        blockingQueue.put("b");\n        blockingQueue.put("c");\n        blockingQueue.offer("d",2L, TimeUnit.SECONDS); // ç­å¾2ç§è¶æ¶éåº\n\n        System.out.println(blockingQueue.take()); // a\n        System.out.println(blockingQueue.take()); // b\n        System.out.println(blockingQueue.take()); // c\n        System.out.println(blockingQueue.take()); // é»å¡ä¸åæ­¢ç­å¾\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n',normalizedContent:' * 1ãç®ä»\n   * ä»ä¹æ¯juc\n   * è¿ç¨åçº¿ç¨\n * 2ãlocké\n   * synchronizedé\n   * lock é\n   * åºå«\n * 3ãçäº§èåæ¶è´¹è\n   * synchroinzed\n   * lock\n   * æç§çº¿ç¨é¡ºåºæ§è¡\n * 4ã8éçç°è±¡\n   * é®é¢ä¸\n   * é®é¢äº\n   * é®é¢ä¸\n   * é®é¢å\n   * é®é¢äº\n   * é®é¢å­\n   * é®é¢ä¸\n   * é®é¢å«\n   * å°ç»\n * 5ãå¤çº¿ç¨ä¸éåç±»çä¸å®å¨\n   * list\n   * set\n   * map\n * 6ãcallable\n   * åºç¡å¥é¨\n   * å¤ä¸ªçº¿ç¨è°ç¨\n   * åèèµæ\n * 7ãå¸¸ç¨è¾å©ç±»\n   * countdownlatch\n   * cyclicbarrier\n   * semaphore\n * 8ãè¯»åé\n * 9ãé»å¡éå\n   * é»å¡éåç®ä»\n   * é»å¡éåçç¨å¤\n   * æ¥å£æ¶æå¾\n   * apiçä½¿ç¨\n\n\n\nçç¥jucè§é¢æç¨ï¼https://www.bilibili.com/video/bv1b7411l7te\n\n\n# 1ãç®ä»\n\n\n# ä»ä¹æ¯juc\n\njucæ¯java.util.concurrent çç®åï¼å¨å¹¶åç¼ç¨ä¸­ä½¿ç¨çå·¥å·ç±»ã\n\nå¨jdkå®æ¹æåä¸­å¯ä»¥çå°jucç¸å³çjaråæä¸ä¸ªã\n\nç¨ä¸­ææ¦æ¬ä¸ä¸ï¼jucçææå°±æ¯javaå¹¶åç¼ç¨å·¥å·å\n\nå®ç°å¤çº¿ç¨æä¸ç§æ¹å¼ï¼threadãrunnableãcallableï¼å¶ä¸­callableå°±ä½äºconcurrentåä¸\n\n\n# è¿ç¨åçº¿ç¨\n\n> è¿ç¨ / çº¿ç¨æ¯ä»ä¹ï¼\n\nè¿ç¨ï¼è¿ç¨æ¯ä¸ä¸ªå·æä¸å®ç¬ç«åè½çç¨åºå³äºæä¸ªæ°æ®éåçä¸æ¬¡è¿è¡æ´»å¨ãå®æ¯æä½ç³»ç»å¨ææ§è¡çåºæ¬ååï¼å¨ä¼ ç»çæä½ç³»ç»ä¸­ï¼è¿ç¨æ¢æ¯åºæ¬çåéååï¼ä¹æ¯åºæ¬çæ§è¡ååã\n\nçº¿ç¨ï¼éå¸¸å¨ä¸ä¸ªè¿ç¨ä¸­å¯ä»¥åå«è¥å¹²ä¸ªçº¿ç¨ï¼å½ç¶ä¸ä¸ªè¿ç¨ä¸­è³å°æä¸ä¸ªçº¿ç¨ï¼ä¸ç¶æ²¡æå­å¨çæä¹ï¼çº¿ç¨å¯ä»¥å©ç¨è¿ç¨æææ¥æçèµæºãå¨å¼å¥çº¿ç¨çæä½ç³»ç»ä¸­ï¼éå¸¸é½æ¯æè¿ç¨ä½ä¸ºåéèµæºçåºæ¬åä½ï¼èæçº¿ç¨ä½ä¸ºç¬ç«è¿è¡åç¬ç«è°åº¦çåºæ¬åä½ï¼ç±äºçº¿ç¨æ¯è¿ç¨å°ï¼åºæ¬ä¸ä¸æ¥æç³»ç»èµæºï¼ æå¯¹å®çè°åº¦æä»åºçå¼éå°±ä¼å°å¾å¤ï¼è½æ´é«æçæé«ç³»ç»å¤ä¸ªç¨åºé´å¹¶åæ§è¡çç¨åº¦ã\n\nç½è¯ï¼\n\nè¿ç¨ï¼å°±æ¯æä½ç³»ç»ä¸­è¿è¡çä¸ä¸ªç¨åºï¼qq.exeï¼music.exeï¼word.exe ï¼è¿å°±æ¯å¤ä¸ªè¿ç¨\n\nçº¿ç¨ï¼æ¯ä¸ªè¿ç¨ä¸­é½å­å¨ä¸ä¸ªæèå¤ä¸ªçº¿ç¨ï¼æ¯å¦ç¨wordåæç« æ¶ï¼å°±ä¼æä¸ä¸ªçº¿ç¨é»é»å¸®ä½ å®æ¶èªå¨ä¿å­ã\n\n> å¹¶å / å¹¶è¡æ¯ä»ä¹ï¼\n\nåå¹¶åç¼ç¨ä¹åï¼å¿é¡»é¦åçè§£ä»ä¹æ¯å¹¶åï¼ä»ä¹æ¯å¹¶è¡ã\n\nå¹¶ååå¹¶è¡æ¯ä¸¤ä¸ªéå¸¸å®¹ææ··æ·çæ¦å¿µãå®ä»¬é½å¯ä»¥è¡¨ç¤ºä¸¤ä¸ªæå¤ä¸ªä»»å¡ä¸èµ·æ§è¡ï¼ä½æ¯åéç¹æç¹ä¸åãå¹¶ååéäºå¤ä¸ªä»»å¡äº¤æ¿æ§è¡ï¼èå¤ä¸ªä»»å¡ä¹é´æå¯è½è¿æ¯ä¸²è¡çãå¹¶åæ¯é»è¾ä¸çåæ¶åçï¼simultaneousï¼ï¼èå¹¶è¡æ¯ç©çä¸çåæ¶åçãç¶èå¹¶è¡çåéç¹å¨äºâåæ¶æ§è¡âã\n\nä¸¥æ ¼æä¹ä¸æ¥è¯´ï¼å¹¶è¡çå¤ä¸ªä»»å¡æ¯çå®çåæ¶æ§è¡ï¼èå¯¹äºå¹¶åæ¥è¯´ï¼è¿ä¸ªè¿ç¨åªæ¯äº¤æ¿çï¼ä¸ä¼è¿è¡ä»»å¡ä¸,ä¸ä¼å¿åè¿è¡ä»»å¡äºï¼ç³»ç»ä¼ä¸åå°å¨ä¸¤èé´åæ¢ãä½å¯¹äºå¤é¨è§å¯èæ¥è¯´ï¼å³ä½¿å¤ä¸ªä»»å¡æ¯ä¸²è¡å¹¶åçï¼ä¹ä¼é ææ¯å¤ä¸ªä»»å¡å¹¶è¡æ§è¡çéè§ã\n\nå®éä¸ï¼å¦æç³»ç»ååªæä¸ä¸ªcpuï¼èç°å¨èä½¿ç¨å¤çº¿ç¨æèå¤çº¿ç¨ä»»å¡ï¼é£ä¹çå®ç¯å¢ä¸­è¿äºä»»å¡ä¸å¯è½çå®å¹¶è¡çï¼æ¯ç«ä¸ä¸ªcpuä¸æ¬¡åªè½æ§è¡ä¸æ¡æä»¤ï¼è¿ç§æåµä¸å¤çº¿ç¨æèå¤çº¿ç¨ä»»å¡å°±æ¯å¹¶åçï¼èä¸æ¯å¹¶è¡ï¼æä½ç³»ç»ä¼ä¸åçåæ¢ä»»å¡ãçæ­£çå¹¶åä¹åªè½å¤åºç°å¨æ¥æå¤ä¸ªcpuçç³»ç»ä¸­ï¼å¤æ ¸cpuï¼ã\n\nå¹¶åçå¨æºï¼å¨è®¡ç®è½åæå®çæåµä¸å¤çæ´å¤çä»»å¡, å°±åæä»¬çå¤§è, è®¡ç®è½åç¸å¯¹æå®, è¦å¨ä¸å¤©ä¸­å¤çæ´å¤çé®é¢, æä»¬å°±å¿é¡»å·å¤å¤ä»»å¡çè½å. ç°å®å·¥ä½ä¸­æå¾å¤äºæå¯è½ä¼ä¸­æ­ä½ çå½åä»»å¡, å¤çè¿ç§å¤ä»»å¡çè½åå°±æ¯ä½ çå¹¶åè½åã\n\nå¹¶è¡çå¨æºï¼ç¨æ´å¤çcpuæ ¸å¿æ´å¿«çå®æä»»å¡. å°±åä¸ä¸ªå¢é, ä¸ä¸ªèè¢ä¸å¤ç¨äº, ä¸ä¸ªå¢éæ¥ä¸èµ·å¤ç ä¸ä¸ªä»»å¡ã\n\nä¾å­ï¼ ä½ åé¥­åå°ä¸åï¼çµè¯æ¥äºï¼ä½ ä¸ç´å°åå®äºä»¥åæå»æ¥ï¼è¿å°±è¯´æä½ ä¸æ¯æå¹¶åä¹ä¸æ¯æå¹¶è¡ã ä½ åé¥­åå°ä¸åï¼çµè¯æ¥äºï¼ä½ åäºä¸æ¥æ¥äºçµè¯ï¼æ¥å®åç»§ç»­åé¥­ï¼è¿è¯´æä½ æ¯æå¹¶åã ï¼ä¸ä¸å®æ¯ åæ¶çï¼ ä½ åé¥­åå°ä¸åï¼çµè¯æ¥äºï¼ä½ ä¸è¾¹æçµè¯ä¸è¾¹åé¥­ï¼è¿è¯´æä½ æ¯æå¹¶è¡ã æä»¥å¹¶åç¼ç¨çç®æ æ¯ååçå©ç¨å¤çå¨çæ¯ä¸ä¸ªæ ¸ï¼ä»¥è¾¾å°æé«çå¤çæ§è½ã\n\n> çº¿ç¨çç¶æ\n\njavaççº¿ç¨æ6ç§ç¶æï¼å¯ä»¥åææºç ï¼\n\npublic enum state {\n    //çº¿ç¨ååå»º\n    new,\n    \n    //å¨jvmä¸­æ­£å¨è¿è¡ççº¿ç¨\n    runnable,\n    \n    //çº¿ç¨å¤äºé»å¡ç¶æï¼ç­å¾çè§éï¼å¯ä»¥éæ°è¿è¡åæ­¥ä»£ç åä¸­æ§è¡\n    blocked,\n    \n    //ç­å¾ç¶æ\n    waiting,\n    \n    //è°ç¨sleep() join() wait()æ¹æ³å¯è½å¯¼è´çº¿ç¨å¤äºç­å¾ç¶æ\n    timed_waiting,\n    \n    //çº¿ç¨æ§è¡å®æ¯ï¼å·²ç»éåº\n    terminated;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n\n> wait / sleep çåºå«\n\n1ãæ¥èªä¸åçç±»\n\nè¿ä¸¤ä¸ªæ¹æ³æ¥èªä¸åçç±»åå«æ¯ï¼sleepæ¥èªthreadç±»ï¼åwaitæ¥èªobjectç±»ã\n\nsleepæ¯threadçéæç±»æ¹æ³ï¼è°è°ç¨çè°å»ç¡è§ï¼å³ä½¿å¨açº¿ç¨éè°ç¨äºbçsleepæ¹æ³ï¼å®éä¸è¿æ¯aå»ç¡è§ï¼è¦è®©bçº¿ç¨ç¡è§è¦å¨bçä»£ç ä¸­è°ç¨sleepã\n\n2ãææ²¡æéæ¾é(éæ¾èµæº)\n\næä¸»è¦æ¯sleepæ¹æ³æ²¡æéæ¾é\n\nèwaitæ¹æ³éæ¾äºéï¼ä½¿å¾å¶ä»çº¿ç¨å¯ä»¥ä½¿ç¨åæ­¥æ§å¶åæèæ¹æ³ã\n\nsleepæ¯çº¿ç¨è¢«è°ç¨æ¶ï¼å çcpuå»ç¡è§ï¼å¶ä»çº¿ç¨ä¸è½å ç¨cpuï¼osè®¤ä¸ºè¯¥çº¿ç¨æ­£å¨å·¥ä½ï¼ä¸ä¼è®©åºç³»ç»èµæºï¼waitæ¯è¿å¥ç­å¾æ± ç­å¾ï¼è®©åºç³»ç»èµæºï¼å¶ä»çº¿ç¨å¯ä»¥å ç¨cpuã\n\nsleep(100l)æ¯å ç¨cpuï¼çº¿ç¨ä¼ç 100æ¯«ç§ï¼å¶ä»è¿ç¨ä¸è½åå ç¨cpuèµæºï¼waitï¼100lï¼æ¯è¿å¥ç­å¾æ± ä¸­ç­å¾ï¼äº¤åºcpuç­ç³»ç»èµæºä¾å¶ä»è¿ç¨ä½¿ç¨ï¼å¨è¿100æ¯«ç§ä¸­ï¼è¯¥çº¿ç¨å¯ä»¥è¢«å¶ä»çº¿ç¨notifyï¼ä½ä¸åçæ¯å¶ä»å¨ç­å¾æ± ä¸­ççº¿ç¨ä¸è¢«notifyä¸ä¼åºæ¥ï¼ä½è¿ä¸ªçº¿ç¨å¨ç­å¾100æ¯«ç§åä¼èªå¨è¿å¥å°±ç»ªéåç­å¾ç³»ç»åéèµæºï¼æ¢å¥è¯è¯´ï¼sleepï¼100ï¼å¨100æ¯«ç§åè¯å®ä¼è¿è¡ï¼ä½waitå¨100æ¯«ç§åè¿æç­å¾osè°ç¨åéèµæºï¼æä»¥wait100çåæ­¢è¿è¡æ¶é´æ¯ä¸ç¡®å®çï¼ä½è³å°æ¯100æ¯«ç§ã å°±æ¯è¯´sleepææ¶é´éå¶çå°±åé¹éä¸æ ·å°æ¶åå°±å«äºï¼èwaitæ¯æ éæçé¤éç¨æ·ä¸»å¨notifyã\n\n3ãä½¿ç¨èå´ä¸å\n\nwaitï¼notifyånotifyallåªè½å¨åæ­¥æ§å¶æ¹æ³æèåæ­¥æ§å¶åéé¢ä½¿ç¨ï¼èsleepå¯ä»¥å¨ä»»ä½å°æ¹ä½¿ç¨\n\nsynchronized(x){\n    //æèwait()\n    x.notify()\n}\n\n\n1\n2\n3\n4\n\n\n4ãæ¯å¦éè¦æè·å¼å¸¸\n\nsleepå¿é¡»æè·å¼å¸¸ï¼èwaitï¼notifyånotifyallä¸éè¦æè·å¼å¸¸\n\n\n# 2ãlocké\n\n\n# synchronizedé\n\npublic class saletickettest1 {\n    /*\n     * é¢ç®ï¼ä¸ä¸ªå®ç¥¨å ååº 30å¼ ç¥¨\n     * å¤çº¿ç¨ç¼ç¨çä¼ä¸çº§å¥è·¯ï¼\n     * 1. å¨é«åèä½è¦åçåæä¸ï¼ çº¿ç¨ æä½(å¯¹å¤æ´é²çè°ç¨æ¹æ³) èµæºç±»\n     */\n\n    public static void main(string[] args) {\n        ticket ticket = new ticket();\n\n        new thread(new runnable() {\n            @override\n            public void run() {\n                for (int i = 1; i <= 40; i++) {\n                    ticket.saleticket();\n                }\n            }\n        }, "a").start();\n\n        new thread(new runnable() {\n            @override\n            public void run() {\n                for (int i = 1; i <=40; i++) {\n                    ticket.saleticket();\n                }\n            }\n        }, "b").start();\n\n        new thread(new runnable() {\n            @override\n            public void run() {\n                for (int i = 1; i <= 40; i++) {\n                    ticket.saleticket();\n                }\n            }\n        }, "c").start();\n\n    }\n    \n}\n\nclass ticket { // èµæºç±»\n    private int number = 30;\n\n    public synchronized void saleticket() {\n        if (number > 0) {\n            system.out.println(thread.currentthread().getname() + "ååºç¬¬ " + (number--) + "ç¥¨,è¿å©ä¸:" + number);\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n\n\n\n# lock é\n\npublic class saletickettest2 {\n    public static void main(string[] args) {\n        ticket2 ticket2 = new ticket2();\n\n        new thread(() -> {\n            for (int i = 1; i <= 40; i++) {\n                ticket2.saleticket();\n            }\n        }, "a").start();\n\n        new thread(() -> {\n            for (int i = 1; i <= 40; i++) {\n                ticket2.saleticket();\n            }\n        }, "b").start();\n\n        new thread(() -> {\n            for (int i = 1; i <= 40; i++) {\n                ticket2.saleticket();\n            }\n        }, "c").start();\n\n    }\n}\n\nclass ticket2 { // èµæºç±»\n    private lock lock = new reentrantlock();\n\n    private int number = 30;\n\n    public void saleticket() {\n        lock.lock();\n\n        try {\n            if (number > 0) {\n                system.out.println(thread.currentthread().getname() + "ååºç¬¬ " + (number--) + "ç¥¨,è¿å©ä¸:" + number);\n            }\n        } catch (exception e) {\n            e.printstacktrace();\n        } finally {\n            lock.unlock();\n        }\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n\n\n\n# åºå«\n\n 1. é¦åsynchronizedæ¯javaåç½®å³é®å­ï¼å¨jvmå±é¢ï¼lockæ¯ä¸ªjavaç±»ï¼\n 2. synchronizedæ æ³å¤æ­æ¯å¦è·åéçç¶æï¼lockå¯ä»¥å¤æ­æ¯å¦è·åå°éï¼\n 3. synchronizedä¼èªå¨éæ¾é(a çº¿ç¨æ§è¡å®åæ­¥ä»£ç ä¼éæ¾é ï¼b çº¿ç¨æ§è¡è¿ç¨ä¸­åçå¼å¸¸ä¼éæ¾ é)ï¼lockéå¨finallyä¸­æå·¥éæ¾éï¼unlock()æ¹æ³éæ¾éï¼ï¼å¦åå®¹æé æçº¿ç¨æ­»éï¼\n 4. ç¨synchronizedå³é®å­çä¸¤ä¸ªçº¿ç¨1åçº¿ç¨2ï¼å¦æå½åçº¿ç¨1è·å¾éï¼çº¿ç¨2çº¿ç¨ç­å¾ãå¦æçº¿ç¨1 é»å¡ï¼çº¿ç¨2åä¼ä¸ç´ç­å¾ä¸å»ï¼èlockéå°±ä¸ä¸å®ä¼ç­å¾ä¸å»ï¼å¦æå°è¯è·åä¸å°éï¼çº¿ç¨å¯ä»¥ ä¸ç¨ä¸ç´ç­å¾å°±ç»æäºï¼\n 5. synchronizedçéå¯éå¥ãä¸å¯ä¸­æ­ãéå¬å¹³ï¼èlockéå¯éå¥ãå¯å¤æ­ãå¯å¬å¹³ï¼ä¸¤èçå¯ï¼\n 6. lockééåå¤§éåæ­¥çä»£ç çåæ­¥é®é¢ï¼synchronizedééåä»£ç å°éçåæ­¥é®é¢ã\n\n\n# 3ãçäº§èåæ¶è´¹è\n\n\n# synchroinzed\n\nçäº§èåæ¶è´¹è synchroinzed ç\n\npublic class producerconsumer {\n    /**\n     * é¢ç®ï¼ç°å¨ä¸¤ä¸ªçº¿ç¨ï¼å¯ä»¥æä½åå§å¼ä¸º0çä¸ä¸ªåé\n     * å®ç°ä¸ä¸ªçº¿ç¨å¯¹è¯¥åé + 1ï¼ä¸ä¸ªçº¿ç¨å¯¹è¯¥åé -1\n     * å®ç°äº¤æ¿10æ¬¡\n     * <p>\n     * è¯çªï¼\n     * 1. é«åèä½è¦åçåæä¸ï¼çº¿ç¨æä½èµæºç±»\n     * 2. å¤æ­ ãå¹²æ´»ãéç¥\n     */\n\n    public static void main(string[] args) {\n        data data = new data();\n\n        //açº¿ç¨å¢å \n        new thread(() -> {\n            for (int i = 1; i <= 10; i++) {\n                try {\n                    data.increment();\n                } catch (interruptedexception e) {\n                    e.printstacktrace();\n                }\n            }\n        }, "a").start();\n\n        //bçº¿ç¨åå°\n        new thread(() -> {\n            for (int i = 1; i <= 10; i++) {\n                try {\n                    data.decrement();\n                } catch (interruptedexception e) {\n                    e.printstacktrace();\n                }\n            }\n        }, "b").start();\n    }\n}\n\nclass data {\n    private int number = 0;\n\n    public synchronized void increment() throws interruptedexception {\n        // å¤æ­è¯¥ä¸è¯¥è¿ä¸ªçº¿ç¨å\n        if (number != 0) {\n            this.wait();\n        }\n        // å¹²æ´»\n        number++;\n        system.out.println(thread.currentthread().getname() + "\\t" + number);\n        // éç¥\n        this.notifyall();\n    }\n\n    public synchronized void decrement() throws interruptedexception {\n        // å¤æ­è¯¥ä¸è¯¥è¿ä¸ªçº¿ç¨å\n        if (number == 0) {\n            this.wait();\n        }\n        // å¹²æ´»\n        number--;\n        system.out.println(thread.currentthread().getname() + "\\t" + number);\n        // éç¥\n        this.notifyall();\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n\n\né®é¢åçº§ï¼é²æ­¢èåå¤éï¼4ä¸ªçº¿ç¨ï¼ä¸¤ä¸ªå ï¼ä¸¤ä¸ªå\n\nãéç¹ãif å while\n\npublic class producerconsumerplus {\n    /**\n     * é¢ç®ï¼ç°å¨åä¸ªçº¿ç¨ï¼å¯ä»¥æä½åå§å¼ä¸º0çä¸ä¸ªåé\n     * å®ç°ä¸¤ä¸ªçº¿ç¨å¯¹è¯¥åé + 1ï¼ä¸¤ä¸ªçº¿ç¨å¯¹è¯¥åé -1\n     * å®ç°äº¤æ¿10æ¬¡\n     *\n     * è¯çªï¼\n     * 1. é«åèä½è¦åçåæä¸ï¼çº¿ç¨æä½èµæºç±»\n     * 2. å¤æ­ ãå¹²æ´»ãéç¥\n     * 3. å¤çº¿ç¨äº¤äºä¸­ï¼å¿é¡»è¦é²æ­¢å¤çº¿ç¨çèåå¤éï¼å³ï¼å¤æ­ä¸è½ç¨ifï¼åªè½ç¨whileï¼\n     */\n\n    public static void main(string[] args) {\n        data2 data = new data2();\n\n        //açº¿ç¨å¢å \n        new thread(() -> {\n            for (int i = 1; i <= 10; i++) {\n                try {\n                    data.increment();\n                } catch (interruptedexception e) {\n                    e.printstacktrace();\n                }\n            }\n        }, "a").start();\n\n        //bçº¿ç¨åå°\n        new thread(() -> {\n            for (int i = 1; i <= 10; i++) {\n                try {\n                    data.decrement();\n                } catch (interruptedexception e) {\n                    e.printstacktrace();\n                }\n            }\n        }, "b").start();\n\n        new thread(() -> {\n            for (int i = 1; i <= 10; i++) {\n                try {\n                    data.increment();\n                } catch (interruptedexception e) {\n                    e.printstacktrace();\n                }\n            }\n        }, "c").start();\n\n        new thread(() -> {\n            for (int i = 1; i <= 10; i++) {\n                try {\n                    data.decrement();\n                } catch (interruptedexception e) {\n                    e.printstacktrace();\n                }\n            }\n        }, "d").start();\n    }\n}\n\nclass data2 {\n    private int number = 0;\n\n    public synchronized void increment() throws interruptedexception {\n        // å¤æ­è¯¥ä¸è¯¥è¿ä¸ªçº¿ç¨å\n        while (number != 0) {\n            this.wait();\n        }\n        // å¹²æ´»\n        number++;\n        system.out.println(thread.currentthread().getname() + "\\t" + number);\n        // éç¥\n        this.notifyall();\n    }\n\n    public synchronized void decrement() throws interruptedexception {\n        // å¤æ­è¯¥ä¸è¯¥è¿ä¸ªçº¿ç¨å\n        while (number == 0) {\n            this.wait();\n        }\n        // å¹²æ´»\n        number--;\n        system.out.println(thread.currentthread().getname() + "\\t" + number);\n        // éç¥\n        this.notifyall();\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n\n\n\n# lock\n\npublic class producerconsumerplus {\n    /**\n     * é¢ç®ï¼ç°å¨åä¸ªçº¿ç¨ï¼å¯ä»¥æä½åå§å¼ä¸º0çä¸ä¸ªåé\n     * å®ç°ä¸¤ä¸ªçº¿ç¨å¯¹è¯¥åé + 1ï¼ä¸¤ä¸ªçº¿ç¨å¯¹è¯¥åé -1\n     * å®ç°äº¤æ¿10æ¬¡\n     * <p>\n     * è¯çªï¼\n     * 1. é«åèä½è¦åçåæä¸ï¼çº¿ç¨æä½èµæºç±»\n     * 2. å¤æ­ ãå¹²æ´»ãéç¥\n     * 3. å¤çº¿ç¨äº¤äºä¸­ï¼å¿é¡»è¦é²æ­¢å¤çº¿ç¨çèåå¤éï¼å³ï¼å¤æ­ä¸è½ç¨ifï¼åªè½ç¨whileï¼\n     */\n\n    public static void main(string[] args) {\n        data2 data = new data2();\n\n        //açº¿ç¨å¢å \n        new thread(() -> {\n            for (int i = 1; i <= 10; i++) {\n                try {\n                    data.increment();\n                } catch (interruptedexception e) {\n                    e.printstacktrace();\n                }\n            }\n        }, "a").start();\n\n        //bçº¿ç¨åå°\n        new thread(() -> {\n            for (int i = 1; i <= 10; i++) {\n                try {\n                    data.decrement();\n                } catch (interruptedexception e) {\n                    e.printstacktrace();\n                }\n            }\n        }, "b").start();\n\n        new thread(() -> {\n            for (int i = 1; i <= 10; i++) {\n                try {\n                    data.increment();\n                } catch (interruptedexception e) {\n                    e.printstacktrace();\n                }\n            }\n        }, "c").start();\n\n        new thread(() -> {\n            for (int i = 1; i <= 10; i++) {\n                try {\n                    data.decrement();\n                } catch (interruptedexception e) {\n                    e.printstacktrace();\n                }\n            }\n        }, "d").start();\n    }\n}\n\nclass data2 {\n    private int number = 0;\n    private lock lock = new reentrantlock();\n    private condition condition = lock.newcondition();\n\n    public void increment() throws interruptedexception {\n\n        lock.lock();\n        try {\n            // å¤æ­è¯¥ä¸è¯¥è¿ä¸ªçº¿ç¨å\n            while (number != 0) {\n                condition.await();\n            }\n            // å¹²æ´»\n            number++;\n            system.out.println(thread.currentthread().getname() + "\\t" + number);\n            // éç¥\n            condition.signalall();\n        } catch (interruptedexception e) {\n            e.printstacktrace();\n        } finally {\n            lock.unlock();\n        }\n    }\n\n    public void decrement() throws interruptedexception {\n        lock.lock();\n        try {\n            // å¤æ­è¯¥ä¸è¯¥è¿ä¸ªçº¿ç¨å\n            while (number == 0) {\n                condition.await();\n            }\n            // å¹²æ´»\n            number--;\n            system.out.println(thread.currentthread().getname() + "\\t" + number);\n            // éç¥\n            condition.signalall();\n        } catch (exception e) {\n            e.printstacktrace();\n        } finally {\n            lock.unlock();\n        }\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n\n\nä»¥ä¸åçç¨åºå¹¶ä¸ä¼æç§abcdçº¿ç¨é¡ºåºï¼åªä¼æç§ âçäº§â âæ¶è´¹âé¡ºåº\n\n\n# æç§çº¿ç¨é¡ºåºæ§è¡\n\nç²¾ç¡®éç¥é¡ºåºè®¿é®\n\npublic class c {\n    /**\n     * é¢ç®ï¼å¤çº¿ç¨ä¹é´æé¡ºåºè°ç¨ï¼å®ç° a->b->c\n     * éç¹ï¼æ å¿ä½\n     */\n\n    public static void main(string[] args) {\n        resources resources = new resources();\n\n        new thread(() -> {\n            for (int i = 1; i <= 10; i++) {\n                resources.a();\n            }\n\n        }, "a").start();\n\n        new thread(() -> {\n            for (int i = 1; i <= 10; i++) {\n                resources.b();\n            }\n\n        }, "b").start();\n\n        new thread(() -> {\n            for (int i = 1; i <= 10; i++) {\n                resources.c();\n            }\n\n        }, "c").start();\n\n    }\n}\n\nclass resources {\n    private int number = 1; // 1a 2b 3c\n    private lock lock = new reentrantlock();\n    private condition condition1 = lock.newcondition();\n    private condition condition2 = lock.newcondition();\n    private condition condition3 = lock.newcondition();\n\n    public void a() {\n        lock.lock();\n        try {\n            // å¤æ­\n            while (number != 1) {\n                condition1.await();\n            }\n            // å¹²æ´»\n            system.out.println(thread.currentthread().getname());\n            // éç¥,æå®çå¹²æ´»ï¼\n            number = 2;\n            condition2.signal();\n        } catch (exception e) {\n            e.printstacktrace();\n        } finally {\n            lock.unlock();\n        }\n    }\n\n    public void b() {\n        lock.lock();\n        try {\n            // å¤æ­\n            while (number != 2) {\n                condition2.await();\n            }\n            // å¹²æ´»\n            system.out.println(thread.currentthread().getname() );\n\n            // éç¥,æå®çå¹²æ´»ï¼\n            number = 3;\n            condition3.signal();\n        } catch (exception e) {\n            e.printstacktrace();\n        } finally {\n            lock.unlock();\n        }\n    }\n\n    public void c() {\n        lock.lock();\n        try {\n            // å¤æ­\n            while (number != 3) {\n                condition3.await();\n            }\n            // å¹²æ´»\n            system.out.println(thread.currentthread().getname());\n\n            // éç¥,æå®çå¹²æ´»ï¼\n            number = 1;\n            condition1.signal();\n        } catch (exception e) {\n            e.printstacktrace();\n        } finally {\n            lock.unlock();\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n\n\n\n# 4ã8éçç°è±¡\n\n\n# é®é¢ä¸\n\n1ãæ åè®¿é®ï¼è¯·é®åæå°é®ä»¶è¿æ¯ç­ä¿¡ï¼\n\npackage com.oddfar.lock8;\n\nimport java.util.concurrent.timeunit;\n\npublic class a {\n    /**\n     * å¤çº¿ç¨ç8é\n     * 1ãæ åè®¿é®ï¼è¯·é®åæå°é®ä»¶è¿æ¯ç­ä¿¡ï¼\n     */\n    public static void main(string[] args) throws interruptedexception {\n        phone phone = new phone();\n        new thread(() -> {\n            try {\n                phone.sendemail();\n            } catch (exception e) {\n                e.printstacktrace();\n            }\n        }, "a").start();\n\n        //ä¼ç ä¸ç§\n        //thread.sleep(1000);\n        timeunit.seconds.sleep(1);\n        \n        new thread(() -> {\n            try {\n                phone.sendsms();\n            } catch (exception e) {\n                e.printstacktrace();\n            }\n        }, "b").start();\n\n    }\n}\n\nclass phone {\n    public synchronized void sendemail(){\n        system.out.println("sendemail");\n    }\n\n    public synchronized void sendsms(){\n        system.out.println("sendsms");\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n\n\nç­æ¡ï¼sendemail\n\nç»è®ºï¼è¢«synchronizedä¿®é¥°çæ¹æ³ï¼éçå¯¹è±¡æ¯æ¹æ³çè°ç¨èãå ä¸ºä¸¤ä¸ªæ¹æ³çè°ç¨èæ¯åä¸ä¸ªï¼æä»¥ä¸¤ä¸ªæ¹æ³ç¨çæ¯åä¸ä¸ªéï¼åè°ç¨æ¹æ³çåæ§è¡ã\n\n\n# é®é¢äº\n\n2ãé®ä»¶æ¹æ³æå4ç§éï¼è¯·é®åæå°é®ä»¶è¿æ¯ç­ä¿¡ï¼\n\npackage com.oddfar.lock8;\n\nimport java.util.concurrent.timeunit;\n\npublic class b {\n    /**\n     * å¤çº¿ç¨ç8é\n     * 2ãé®ä»¶æ¹æ³æå4ç§éï¼è¯·é®åæå°é®ä»¶è¿æ¯ç­ä¿¡ï¼\n     */\n    public static void main(string[] args) throws interruptedexception {\n        phone2 phone = new phone2();\n        new thread(() -> {\n            try {\n                phone.sendemail();\n            } catch (exception e) {\n                e.printstacktrace();\n            }\n        }, "a").start();\n\n        timeunit.seconds.sleep(1);\n\n        new thread(() -> {\n            try {\n                phone.sendsms();\n            } catch (exception e) {\n                e.printstacktrace();\n            }\n        }, "b").start();\n\n    }\n}\n\nclass phone2 {\n    public synchronized void sendemail() throws exception {\n        timeunit.seconds.sleep(4);\n        system.out.println("sendemail");\n    }\n\n    public synchronized void sendsms(){\n        system.out.println("sendsms");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n\nç­æ¡ï¼sendemail\n\nç»è®ºï¼è¢«synchronizedä¿®é¥°çæ¹æ³ï¼éçå¯¹è±¡æ¯æ¹æ³çè°ç¨èãå ä¸ºä¸¤ä¸ªæ¹æ³çè°ç¨èæ¯åä¸ä¸ªï¼æä»¥ä¸¤ä¸ªæ¹æ³ç¨çæ¯åä¸ä¸ªéï¼åè°ç¨æ¹æ³çåæ§è¡ï¼ç¬¬äºä¸ªæ¹æ³åªæå¨ç¬¬ä¸ä¸ªæ¹æ³æ§è¡å®éæ¾éä¹åæè½æ§è¡ã\n\n\n# é®é¢ä¸\n\n3ãæ°å¢ä¸ä¸ªæ®éæ¹æ³hello()ä¸å éï¼è¯·é®åæå°é®ä»¶è¿æ¯helloï¼\n\npackage com.oddfar.lock8;\n\nimport java.util.concurrent.timeunit;\n\n/**\n * @author zhiyuan\n */\npublic class c {\n    /**\n     * å¤çº¿ç¨ç8é\n     * 3ãæ°å¢ä¸ä¸ªæ®éæ¹æ³hello()ä¸å éï¼è¯·é®åæå°é®ä»¶è¿æ¯helloï¼\n     */\n    public static void main(string[] args) throws interruptedexception {\n        phone3 phone = new phone3();\n        new thread(() -> {\n            try {\n                phone.sendemail();\n            } catch (exception e) {\n                e.printstacktrace();\n            }\n        }, "a").start();\n\n        timeunit.seconds.sleep(1);\n\n        new thread(() -> {\n            try {\n                phone.hello();\n            } catch (exception e) {\n                e.printstacktrace();\n            }\n        }, "b").start();\n\n    }\n}\n\nclass phone3 {\n    public synchronized void sendemail() throws exception {\n        timeunit.seconds.sleep(4);\n        system.out.println("sendemail");\n    }\n    \n    // æ²¡æ synchronizedï¼æ²¡æ static å°±æ¯æ®éæ¹å¼\n    public void hello() {\n        system.out.println("hello");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n\n\nç­æ¡ï¼hello\n\nç»è®ºï¼å¦æä¸ä¸ªæ¹æ³æ²¡æè¢«synchronizedä¿®é¥°ï¼ä¸æ¯åæ­¥æ¹æ³ï¼ä¸åéçå½±åï¼æä»¥ä¸éè¦ç­å¾ã\n\n\n# é®é¢å\n\n4ãä¸¤ä¸ªææºï¼ä¸ä¸ªææºåé®ä»¶ï¼å¦ä¸ä¸ªåç­ä¿¡ï¼è¯·é®åæ§è¡sendemail è¿æ¯ sendsms\n\npackage com.oddfar.lock8;\n\nimport java.util.concurrent.timeunit;\n\npublic class d {\n    /**\n     * å¤çº¿ç¨ç8é\n     * 4ãä¸¤ä¸ªææºï¼è¯·é®åæ§è¡sendemail è¿æ¯ sendsms\n     */\n    public static void main(string[] args) throws interruptedexception {\n        phone4 phone = new phone4();\n        phone4 phone2 = new phone4();\n\n        new thread(() -> {\n            try {\n                phone.sendemail();\n            } catch (exception e) {\n                e.printstacktrace();\n            }\n        }, "a").start();\n\n        timeunit.seconds.sleep(1);\n\n        new thread(() -> {\n            try {\n                phone2.sendsms();\n            } catch (exception e) {\n                e.printstacktrace();\n            }\n        }, "b").start();\n\n    }\n}\n\nclass phone4 {\n    public synchronized void sendemail() throws exception {\n        timeunit.seconds.sleep(4);\n        system.out.println("sendemail");\n    }\n\n    public synchronized void sendsms() {\n        system.out.println("sendsms");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n\n\nç­æ¡ï¼åæ§è¡âsendsmsâ\n\nç»è®ºï¼è¢«synchronizedä¿®é¥°çæ¹æ³ï¼éçå¯¹è±¡æ¯æ¹æ³çè°ç¨èãç¨äºä¸¤ä¸ªå¯¹è±¡è°ç¨åèªçæ¹æ³ï¼æä»¥ä¸¤ä¸ªæ¹æ³çè°ç¨èä¸æ¯åä¸ä¸ªï¼äºæ¯ä¸¤ä¸ªæ¹æ³ç¨çä¸æ¯åä¸ä¸ªéï¼åè°ç¨çæ¹æ³ä¸éè¦ç­å¾åè°ç¨çæ¹æ³ã\n\n\n# é®é¢äº\n\n5ãä¸¤ä¸ªéæåæ­¥æ¹æ³ï¼åä¸é¨ææºï¼è¯·é®åæå°é®ä»¶è¿æ¯ç­ä¿¡ï¼\n\npackage com.oddfar.lock8;\n\nimport java.util.concurrent.timeunit;\n\npublic class e {\n    /**\n     * å¤çº¿ç¨ç8é\n     * 5ãä¸¤ä¸ªéæåæ­¥æ¹æ³ï¼åä¸é¨ææºï¼è¯·é®åæå°é®ä»¶è¿æ¯ç­ä¿¡ï¼\n     */\n    public static void main(string[] args) throws interruptedexception {\n        phone5 phone = new phone5();\n\n        new thread(() -> {\n            try {\n                phone.sendemail();\n            } catch (exception e) {\n                e.printstacktrace();\n            }\n        }, "a").start();\n\n        timeunit.seconds.sleep(1);\n\n        new thread(() -> {\n            try {\n                phone.sendsms();\n            } catch (exception e) {\n                e.printstacktrace();\n            }\n        }, "b").start();\n\n    }\n}\n\nclass phone5 {\n    public static synchronized void sendemail() throws exception {\n        timeunit.seconds.sleep(4);\n        system.out.println("sendemail");\n    }\n\n    public static synchronized void sendsms() {\n        system.out.println("sendsms");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\nç­æ¡ï¼åæ§è¡âsendemailâ\n\nç»è®ºï¼è¢«synchronizedåstaticä¿®é¥°çæ¹æ³ï¼éçå¯¹è±¡æ¯ç±»çclassæ¨¡æ¿å¯¹è±¡ï¼è¿ä¸ªåå¨å±å¯ä¸ï¼ä¸¤ä¸ªæ¹æ³é½è¢«staticä¿®é¥°äºï¼æä»¥ä¸¤ä¸ªæ¹æ³ç¨çæ¯åä¸ä¸ªéï¼åè°ç¨çæ¹æ³éè¦ç­å¾åè°ç¨çæ¹æ³ã\n\n\n# é®é¢å­\n\n6ãä¸¤ä¸ªéæåæ­¥æ¹æ³ï¼2é¨ææºï¼ä¸ä¸ªææºåé®ä»¶ï¼å¦ä¸ä¸ªåç­ä¿¡ï¼è¯·é®åæå°é®ä»¶è¿æ¯ç­ä¿¡ï¼\n\npackage com.oddfar.lock8;\n\nimport java.util.concurrent.timeunit;\n\n/**\n * @author zhiyuan\n */\npublic class f {\n    /**\n     * å¤çº¿ç¨ç8é\n     * 6ãä¸¤ä¸ªéæåæ­¥æ¹æ³ï¼2é¨ææºï¼ä¸ä¸ªææºåé®ä»¶ï¼å¦ä¸ä¸ªåç­ä¿¡ï¼è¯·é®åæå°é®ä»¶è¿æ¯ç­ä¿¡ï¼\n     */\n    public static void main(string[] args) throws interruptedexception {\n        phone6 phone = new phone6();\n\n        phone6 phone2 = new phone6();\n\n        new thread(() -> {\n            try {\n                phone.sendemail();\n            } catch (exception e) {\n                e.printstacktrace();\n            }\n        }, "a").start();\n\n        timeunit.seconds.sleep(1);\n\n        new thread(() -> {\n            try {\n                phone2.sendsms();\n            } catch (exception e) {\n                e.printstacktrace();\n            }\n        }, "b").start();\n\n    }\n}\n\nclass phone6 {\n    public static synchronized void sendemail() throws exception {\n        timeunit.seconds.sleep(4);\n        system.out.println("sendemail");\n    }\n\n    public static synchronized void sendsms() {\n        system.out.println("sendsms");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n\n\nç­æ¡ï¼åè¾åºâsendemailâ\n\nç»è®ºï¼è¢«synchronizedåstaticä¿®é¥°çæ¹æ³ï¼éçå¯¹è±¡å°±æ¯classæ¨¡æ¿å¯¹è±¡ï¼è¿ä¸ªåå¨å±å¯ä¸ï¼æä»¥è¯´è¿éæ¯åä¸ä¸ª\n\n\n# é®é¢ä¸\n\n7ãä¸ä¸ªæ®éåæ­¥æ¹æ³ï¼ä¸ä¸ªéæåæ­¥æ¹æ³ï¼åä¸é¨ææºï¼è¯·é®åæå°é®ä»¶è¿æ¯ç­ä¿¡ï¼\n\npackage com.oddfar.lock8;\n\nimport java.util.concurrent.timeunit;\n\npublic class g {\n    /**\n     * å¤çº¿ç¨ç8é\n     * 7ãä¸ä¸ªæ®éåæ­¥æ¹æ³ï¼ä¸ä¸ªéæåæ­¥æ¹æ³ï¼åä¸é¨ææºï¼è¯·é®åæå°é®ä»¶è¿æ¯ç­ä¿¡ï¼\n     */\n    public static void main(string[] args) throws interruptedexception {\n        phone7 phone = new phone7();\n\n        new thread(() -> {\n            try {\n                phone.sendemail();\n            } catch (exception e) {\n                e.printstacktrace();\n            }\n        }, "a").start();\n\n        timeunit.seconds.sleep(1);\n\n        new thread(() -> {\n            try {\n                phone.sendsms();\n            } catch (exception e) {\n                e.printstacktrace();\n            }\n        }, "b").start();\n\n    }\n}\n\nclass phone7 {\n    public static synchronized void sendemail() throws exception {\n        timeunit.seconds.sleep(4);\n        system.out.println("sendemail");\n    }\n\n    public synchronized void sendsms() {\n        system.out.println("sendsms");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\nç­æ¡ï¼åæ§è¡âsendsmsâ\n\nç»è®ºï¼synchronized éçæ¯è¿ä¸ªè°ç¨çå¯¹è±¡ãè¢«synchronizedåstaticä¿®é¥°çæ¹æ³ï¼éçæ¯è¿ä¸ªç±»çclassæ¨¡æ¿ ãè¿éæ¯ä¸¤ä¸ªéï¼\n\n\n# é®é¢å«\n\n8ãä¸ä¸ªæ®éåæ­¥æ¹æ³ï¼ä¸ä¸ªéæåæ­¥æ¹æ³ï¼2é¨ææºï¼ä¸ä¸ªåé®ä»¶ï¼ä¸ä¸ªåç­ä¿¡ï¼è¯·é®åªä¸ªåæ§è¡ï¼\n\npackage com.oddfar.lock8;\n\nimport java.util.concurrent.timeunit;\n\n/**\n * @author zhiyuan\n */\npublic class h {\n    /**\n     * å¤çº¿ç¨ç8é\n     * 8ãä¸ä¸ªæ®éåæ­¥æ¹æ³ï¼ä¸ä¸ªéæåæ­¥æ¹æ³ï¼2é¨ææºï¼ä¸ä¸ªåé®ä»¶ï¼ä¸ä¸ªåç­ä¿¡ï¼è¯·é®åæå°é®ä»¶è¿æ¯ç­ä¿¡ï¼\n     */\n    public static void main(string[] args) throws interruptedexception {\n        phone8 phone = new phone8();\n        phone8 phone2 = new phone8();\n\n        new thread(() -> {\n            try {\n                phone.sendemail();\n            } catch (exception e) {\n                e.printstacktrace();\n            }\n        }, "a").start();\n\n        timeunit.seconds.sleep(1);\n\n        new thread(() -> {\n            try {\n                phone2.sendsms();\n            } catch (exception e) {\n                e.printstacktrace();\n            }\n        }, "b").start();\n\n    }\n}\n\nclass phone8 {\n    public static synchronized void sendemail() throws exception {\n        timeunit.seconds.sleep(4);\n        system.out.println("sendemail");\n    }\n\n    public synchronized void sendsms() {\n        system.out.println("sendsms");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n\n\nç­æ¡ï¼sendsms\n\nç»è®ºï¼è¢«synchronizedåstaticä¿®é¥°çæ¹æ³ï¼éçå¯¹è±¡æ¯ç±»çclasså¯¹è±¡ãä»è¢«synchronizedä¿®é¥°çæ¹æ³ï¼éçå¯¹è±¡æ¯æ¹æ³çè°ç¨èãå³ä¾¿æ¯ç¨åä¸ä¸ªå¯¹è±¡è°ç¨ä¸¤ä¸ªæ¹æ³ï¼éçå¯¹è±¡ä¹ä¸æ¯åä¸ä¸ªï¼æä»¥ä¸¤ä¸ªæ¹æ³ç¨çä¸æ¯åä¸ä¸ªéï¼åè°ç¨çæ¹æ³ä¸éè¦ç­å¾åè°ç¨çæ¹æ³ã\n\n\n# å°ç»\n\n1ãnew this è°ç¨çè¿ä¸ªå¯¹è±¡ï¼æ¯ä¸ä¸ªå·ä½çå¯¹è±¡ï¼\n\n2ãstatic class å¯ä¸çä¸ä¸ªæ¨¡æ¿ï¼\n\nä¸ä¸ªå¯¹è±¡éé¢å¦ææå¤ä¸ªsynchronizedæ¹æ³ï¼æä¸ªæ¶å»åï¼åªè¦ä¸ä¸ªçº¿ç¨å»è°ç¨å¶ä¸­ä¸ä¸ªsynchronized æ¹æ³äºï¼å¶ä»ççº¿ç¨é½è¦ç­å¾ï¼æ¢å¥è¯è¯´ï¼å¨æä¸ªæ¶å»åï¼åªè½æå¯ä¸ä¸ä¸ªçº¿ç¨å»è®¿é®è¿äº synchronizedæ¹æ³ï¼éçæ¯å½åå¯¹è±¡thisï¼è¢«éå®åï¼å¶ä»ççº¿ç¨é½ä¸è½è¿å¥å°å½åå¯¹è±¡çå¶ä»ç synchronizedæ¹æ³\n\nå ä¸ªæ®éæ¹æ³ååç°ååæ­¥éæ å³ï¼æ¢æä¸¤ä¸ªå¯¹è±¡åï¼ä¸æ¯åä¸æéï¼æåµåå\n\né½æ¢æéæåæ­¥æ¹æ³åï¼æåµåååäºãææçééæçåæ­¥æ¹æ³ç¨çé½æ¯åä¸æéï¼éçclassæ¨¡æ¿ï¼\n\nå·ä½çè¡¨ç°ä¸ºä»¥ä¸ä¸ç§å½¢å¼ï¼\n\n * å¯¹äºæ®éåæ­¥æ¹æ³ï¼éçæ¯å½åå®ä¾å¯¹è±¡\n\n * å¯¹äºéæåæ­¥æ¹æ³ï¼éçæ¯å½åçclasså¯¹è±¡ã\n\n * å¯¹äºåæ­¥æ¹æ³åï¼éæ¯synchronizedæ¬å·éé¢çéç½®å¯¹è±¡\n\nå½ä¸ä¸ªçº¿ç¨è¯å¾è®¿é®åæ­¥ä»£ç åæ¶ï¼ä»é¦åå¿é¡»å¾å°éï¼éåºæèæ¯æåºå¼å¸¸æ¶å¿é¡»éæ¾éï¼ä¹å°±æ¯è¯´ å¦æä¸ä¸ªå®ä¾å¯¹è±¡çééæåæ­¥æ¹æ³è·åéåï¼è¯¥å®ä¾å¯¹è±¡çå¶ä»ééæåæ­¥æ¹æ³å¿é¡»ç­å¾è·åéçæ¹æ³éæ¾éåæè½è·åéï¼å¯ä»¥æ¯å«çå®ä¾å¯¹è±¡éééæåæ­¥æ¹æ³å ä¸ºè·è¯¥å®ä¾å¯¹è±¡çééæåæ­¥æ¹æ³ç¨ çæ¯ä¸åçéï¼æä»¥å¿é¡»ç­å¾è¯¥å®ä¾å¯¹è±¡å·²ç»è·åéçééæåæ­¥æ¹æ³éæ¾éå°±å¯ä»¥è·åä»ä»¬èªå·±ç éã\n\nææçéæåæ­¥æ¹æ³ç¨çä¹æ¯åä¸æéï¼ç±»å¯¹è±¡æ¬èº«ï¼ ï¼è¿ä¸¤æéçæ¯ä¸¤ä¸ªä¸åçå¯¹è±¡ï¼æä»¥éæçåæ­¥æ¹æ³ä¸ééæçåæ­¥æ¹æ³ä¹é´æ¯ä¸ä¼æç«äºæ¡ä»¶çï¼ä½æ¯ä¸æ¦ä¸ä¸ªéæåæ­¥æ¹æ³è·åéåï¼å¶ä»çéæåæ­¥æ¹æ³é½å¿é¡»ç­å¾è¯¥æ¹æ³éæ¾éåæè½è·åéï¼èä¸æ¯åä¸ä¸ªå®ä¾å¯¹è±¡çéæåæ­¥æ¹æ³ä¹é´ï¼è¿æ¯ä¸åçå®ä¾å¯¹è±¡çéæåæ­¥æ¹æ³ä¹é´ï¼åªè¦ä»ä»¬ç¨ä¸ä¸ªçæ¯åä¸ä¸ªç±»çå®ä¾å¯¹è±¡ã\n\n\n# 5ãå¤çº¿ç¨ä¸éåç±»çä¸å®å¨\n\n\n# list\n\nå¤çº¿ç¨ä¸\n\npublic class listtest {\n    public static void main(string[] args) {\n        list<string> list = new arraylist<>();\n        // å¯¹æ¯3ä¸ªçº¿ç¨ å 30ä¸ªçº¿ç¨ï¼çåºå«\n        for (int i = 1; i <= 30; i++) {\n            new thread(() -> {\n                list.add(uuid.randomuuid().tostring().substring(0, 8));\n                system.out.println(list);\n            }, string.valueof(i)).start();\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nè¿è¡æ¥éï¼java.util.concurrentmodificationexception\n\nå¯¼è´åå ï¼add æ¹æ³æ²¡æå é\n\nè§£å³æ¹æ¡ï¼\n\n/**\n * æ¢ä¸ä¸ªéåç±»\n *  1ãlist<string> list = new vector<>(); jdk1.0 å°±å­å¨äºï¼\n *  2ãlist<string> list = collections.synchronizedlist(new arraylist<>());\n *  3ãlist<string> list = new copyonwritearraylist<>();\n */\npublic class listtest {\n    public static void main(string[] args) {\n\n        list<string> list = new copyonwritearraylist<>();\n\n        for (int i = 1; i <= 30; i++) {\n            new thread(() -> {\n                list.add(uuid.randomuuid().tostring().substring(0, 8));\n                system.out.println(list);\n            }, string.valueof(i)).start();\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nåå¥æ¶å¤å¶ï¼copyonwriteï¼ææ³\n\nåå¥æ¶å¤å¶ï¼copyonwriteï¼ç®ç§°cowï¼ææ³æ¯è®¡ç®æºç¨åºè®¾è®¡é¢åä¸­çä¸ç§ä¼åç­ç¥ãå¶æ ¸å¿ææ³æ¯ï¼å¦ææå¤ä¸ªè°ç¨èï¼callersï¼åæ¶è¦æ±ç¸åçèµæºï¼å¦åå­æèæ¯ç£çä¸çæ°æ®å­å¨ï¼ï¼ä»ä»¬ä¼å±åè·åç¸åçæéæåç¸åçèµæºï¼ç´å°æä¸ªè°ç¨èè§å¾ä¿®æ¹èµæºåå®¹æ¶ï¼ç³»ç»æä¼çæ­£å¤å¶ä¸ä»½ä¸ç¨å¯æ¬ï¼private copyï¼ç»è¯¥è°ç¨èï¼èå¶ä»è°ç¨èæè§å°çæåçèµæºä»ç¶ä¿æä¸åãè¿è¿ç¨å¯¹å¶ä»çè°ç¨èé½æ¯éæçï¼transparentlyï¼ãæ­¤åæ³ä¸»è¦çä¼ç¹æ¯å¦æè°ç¨èæ²¡æä¿®æ¹èµæºï¼å°±ä¸ä¼æå¯æ¬ ï¼private copyï¼è¢«åå»ºï¼å æ­¤å¤ä¸ªè°ç¨èåªæ¯è¯»åæä½æ¶å¯ä»¥å±äº«åä¸ä»½èµæºã\n\ncopyonwritearraylistä¸ºä»ä¹å¹¶åå®å¨ä¸æ§è½æ¯vectorå¥½\n\nvectoræ¯å¢å æ¹æ¥æ¹æ³é½å äºsynchronizedï¼ä¿è¯åæ­¥ï¼ä½æ¯æ¯ä¸ªæ¹æ³æ§è¡çæ¶åé½è¦å»è·å¾éï¼æ§è½å°±ä¼å¤§å¤§ä¸éï¼ècopyonwritearraylist åªæ¯å¨å¢å æ¹ä¸å éï¼ä½æ¯è¯»ä¸å éï¼å¨è¯»æ¹é¢çæ§è½å°±å¥½äºvectorï¼copyonwritearraylistæ¯æè¯»å¤åå°çå¹¶åæåµã\n\n\n# set\n\n/**\n * 1ãset<string> set = collections.synchronizedset(new hashset<>());\n * 2ãset<string> set = new copyonwritearrayset();\n */\npublic class settest {\n    public static void main(string[] args) {\n\n        set<string> set = new copyonwritearrayset();\n\n        for (int i = 1; i <= 30; i++) {\n            new thread(() -> {\n                set.add(uuid.randomuuid().tostring().substring(0, 8));\n                system.out.println(set);\n            }, string.valueof(i)).start();\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# map\n\nhashmapåºå±æ¯æ°ç»+é¾è¡¨+çº¢é»æ \n\nmap<string,string> map = new hashmap<>();\n// ç­ä»·äº\nmap<string,string> map = new hashmap<>(16,0.75);\n// å·¥ä½ä¸­ï¼å¸¸å¸¸ä¼èªå·±æ ¹æ®ä¸å¡æ¥ååæ°ï¼æé«æç\n\n\n1\n2\n3\n4\n\n\nmapä¸å®å¨æµè¯ï¼\n\npublic class mapset {\n    public static void main(string[] args) {\n        map<string, string> map = new hashmap<>();\n\n        for (int i = 1; i <= 30; i++) {\n            new thread(() -> {\n                map.put(thread.currentthread().getname(),\n                        uuid.randomuuid().tostring().substring(0, 8));\n                system.out.println(map);\n            }, string.valueof(i)).start();\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nè§£å³ï¼\n\nmap<string,string> map = new concurrenthashmap<>();\n\n\n1\n\n\n\n# 6ãcallable\n\næä»¬å·²ç»ç¥éjavaä¸­å¸¸ç¨çä¸¤ç§çº¿ç¨å®ç°æ¹å¼ï¼åå«æ¯ç»§æ¿threadç±»åå®ç°runnableæ¥å£ã\n\n\n\nä»ä¸å¾ä¸­ï¼æä»¬å¯ä»¥çå°ï¼ç¬¬ä¸ç§å®ç°callableæ¥å£ççº¿ç¨ï¼èä¸è¿å¸¦æè¿åå¼çãæä»¬æ¥å¯¹æ¯ä¸å®ç°runnableåå®ç°callableæ¥å£çä¸¤ç§æ¹å¼ä¸åç¹ï¼\n\n1ï¼éè¦å®ç°çæ¹æ³åç§°ä¸ä¸æ ·ï¼ä¸ä¸ªrunæ¹æ³ï¼ä¸ä¸ªcallæ¹æ³\n\n2ï¼è¿åå¼ä¸åï¼ä¸ä¸ªvoidæ è¿åå¼ï¼ä¸ä¸ªå¸¦æè¿åå¼çãå¶ä¸­è¿åå¼çç±»ååæ³åvæ¯ä¸è´çã\n\n3ï¼å¼å¸¸ï¼ä¸ä¸ªæ éæåºå¼å¸¸ï¼ä¸ä¸ªéè¦æåºå¼å¸¸ã\n\n\n# åºç¡å¥é¨\n\npublic class callabledemo {\n    public static void main(string[] args) throws exception {\n        mythread mythread = new mythread();\n        futuretask futuretask = new futuretask(mythread); // ééç±»\n        thread t1 = new thread(futuretask, "a"); // è°ç¨æ§è¡\n        t1.start();\n        integer result = (integer) futuretask.get(); // è·åè¿åå¼\n        system.out.println(result);\n    }\n}\n\nclass mythread implements callable<integer> {\n    @override\n    public integer call() throws exception {\n        system.out.println("call è¢«è°ç¨");\n        return 1024;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n\n\n# å¤ä¸ªçº¿ç¨è°ç¨\n\npublic class callabledemo {\n    public static void main(string[] args) throws exception {\n        mythread mythread = new mythread();\n        futuretask futuretask = new futuretask(mythread); // ééç±»\n\n        new thread(futuretask, "a").start(); // è°ç¨æ§è¡\n        // ç¬¬äºæ¬¡è°ç¨æ§è¡ï¼å¨åä¸ä¸ªfuturetaskå¯¹è±¡ï¼ä¸è¾åºç»æï¼å¯çè§£ä¸ºâç¼å­â\n        new thread(futuretask, "b").start(); \n\n        //get æ¹æ³è·å¾è¿åç»æ! ä¸è¬æ¾å¨æåä¸è¡ï¼å¦åå¯è½ä¼é»å¡\n        integer result = (integer) futuretask.get(); // è·åè¿åå¼\n        system.out.println(result);\n    }\n}\n\nclass mythread implements callable<integer> {\n    @override\n    public integer call() throws exception {\n        system.out.println(thread.currentthread().getname() + "\\tcall è¢«è°ç¨");\n        timeunit.seconds.sleep(2);\n        return 1024;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# åèèµæ\n\n * https://baijiahao.baidu.com/s?id=1666820818587296272\n\n\n# 7ãå¸¸ç¨è¾å©ç±»\n\n\n# countdownlatch\n\nâåè®¡æ¶éå­å¨â\n\nä¾å¦ï¼æ§è¡å®6ä¸ªçº¿ç¨è¾åºæ§è¡å®æ¯\n\npublic class countdownlatchdemo {\n    public static void main(string[] args) throws interruptedexception {\n        // è®¡æ°å¨\n        countdownlatch countdownlatch = new countdownlatch(6);\n        for (int i = 1; i <= 6; i++) {\n            new thread(() -> {\n                system.out.println(thread.currentthread().getname() + "\\tstart");\n                countdownlatch.countdown(); // è®¡æ°å¨-1\n            }, string.valueof(i)).start();\n        }\n        //é»å¡ç­å¾è®¡æ°å¨å½é¶\n        countdownlatch.await();\n        system.out.println(thread.currentthread().getname() + "\\tend");\n    }\n    \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\ncountdownlatch ä¸»è¦æä¸¤ä¸ªæ¹æ³ï¼å½ä¸ä¸ªæå¤ä¸ªçº¿ç¨è°ç¨ await æ¹æ³æ¶ï¼è¿äºçº¿ç¨ä¼é»å¡\n\nå¶ä»çº¿ç¨è°ç¨countdown()æ¹æ³ä¼å°è®¡æ°å¨å1ï¼è°ç¨countdownæ¹æ³ççº¿ç¨ä¸ä¼é»å¡ï¼\n\nå½è®¡æ°å¨åä¸º0æ¶ï¼await æ¹æ³é»å¡ççº¿ç¨ä¼è¢«å¤éï¼ç»§ç»­æ§è¡\n\n\n# cyclicbarrier\n\nç¿»è¯ï¼cyclicbarrier ç¯±æ \n\nä½ç¨ï¼åä¸é¢çåæ³ç¸åï¼è¿éæ¯å æ³ï¼å¥½æ¯éé½7ä¸ªé¾ç å¬å¤ç¥é¾ï¼æèäººå°é½äºåå¼ä¼ï¼\n\npublic class cyclicbarrierdemo {\n    public static void main(string[] args) {\n        // cyclicbarrier(int parties, runnable barrieraction)\n        cyclicbarrier cyclicbarrier = new cyclicbarrier(7, () -> {\n            system.out.println("å¬å¤ç¥é¾æå");\n        });\n\n        for (int i = 1; i <= 7; i++) {\n            final int tempint = i;\n            new thread(() -> {\n                system.out.println(thread.currentthread().getname() + \n                        "æ¶éäºç¬¬" + tempint + "é¢é¾ç ");\n\n                try {\n                    cyclicbarrier.await(); // ç­å¾\n                } catch (interruptedexception e) {\n                    e.printstacktrace();\n                } catch (brokenbarrierexception e) {\n                    e.printstacktrace();\n                }\n\n            }).start();\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# semaphore\n\nç¿»è¯ï¼semaphore ä¿¡å·é;ä¿¡å·ç¯;ä¿¡å·\n\nä¸¾ä¸ªâæ¢è½¦ä½âçä¾å­\n\npublic class semaphoredemo {\n    public static void main(string[] args) {\n        // æ¨¡æèµæºç±»ï¼æ3ä¸ªç©ºè½¦ä½\n        semaphore semaphore = new semaphore(3);\n        for (int i = 1; i <= 6; i++) { // æ¨¡æ6ä¸ªè½¦\n            new thread(() -> {\n                try {\n                    semaphore.acquire(); // acquire å¾å°\n                    system.out.println(thread.currentthread().getname() + " æ¢å°äºè½¦ä½");\n                    timeunit.seconds.sleep(3); // å3ç§é\n                    system.out.println(thread.currentthread().getname() + " ç¦»å¼äºè½¦ä½");\n                } catch (interruptedexception e) {\n                    e.printstacktrace();\n                } finally {\n                    semaphore.release(); // éæ¾è¿ä¸ªä½ç½®\n                }\n            }, string.valueof(i)).start();\n        }\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\nå¨ä¿¡å·éä¸æä»¬å®ä¹ä¸¤ç§æä½ï¼\n\n * acquireï¼è·åï¼\n   \n   å½ä¸ä¸ªçº¿ç¨è°ç¨ acquire æä½æ¶ï¼ä»è¦ä¹éè¿æåè·åä¿¡å·éï¼ä¿¡å·é-1ï¼\n   \n   è¦ä¹ä¸ç´ç­ä¸å»ï¼ç´å°æçº¿ç¨éæ¾ä¿¡å·éï¼æè¶æ¶\n\n * release ï¼éæ¾ï¼\n   \n   ä¼å°ä¿¡å·éçå¼ + 1ï¼ç¶åå¤éç­å¾ççº¿ç¨\n\nä¿¡å·éä¸»è¦ç¨äºä¸¤ä¸ªç®çï¼ä¸ä¸ªæ¯ç¨äºå¤ä¸ªå±äº«èµæºçäºæ¥ä½¿ç¨ï¼å¦ä¸ä¸ªç¨äºå¹¶åçº¿ç¨æ°çæ§å¶ã\n\n\n# 8ãè¯»åé\n\nreadwritelock\n\nç¬å éï¼åéï¼ï¼æè¯¥éä¸æ¬¡åªè½è¢«ä¸ä¸ªçº¿ç¨éææãå¯¹äºreentranrlockå synchronized èè¨é½æ¯ç¬å éã\n\nå±äº«éï¼è¯»éï¼ï¼è¯¥éå¯è¢«å¤ä¸ªçº¿ç¨æææã\n\nå¯¹äºreentrantreadwritelockå¶è¯»éæ¶å±äº«éï¼åéæ¯ç¬å éï¼è¯»éçå±äº«éå¯ä¿è¯å¹¶åè¯»æ¯éå¸¸é«æçã\n\npublic class readwritelockdemo {\n    /**\n     * å¤ä¸ªçº¿ç¨åæ¶è¯»ä¸ä¸ªèµæºç±»æ²¡æä»»ä½é®é¢ï¼æä»¥ä¸ºäºæ»¡è¶³å¹¶åéï¼è¯»åå±äº«èµæºåºè¯¥å¯ä»¥åæ¶è¿è¡ã\n     * ä½æ¯ï¼å¦ææä¸ä¸ªçº¿ç¨æ³å»åå±äº«èµæºï¼å°±ä¸åºè¯¥åæå¶ä»çº¿ç¨å¯ä»¥å¯¹è¯¥èµæºè¿è¡è¯»æåã\n     * 1. è¯»-è¯» å¯ä»¥å±å­\n     * 2. è¯»-å ä¸è½å±å­\n     * 3. å-å ä¸è½å±å­\n     */\n    public static void main(string[] args) {\n        mycachelock mycache = new mycachelock();\n        // å\n        for (int i = 1; i <= 5; i++) {\n            final int tempint = i;\n            new thread(() -> {\n                mycache.put(tempint + "", tempint + "");\n            }, string.valueof(i)).start();\n        }\n\n        // è¯»\n        for (int i = 1; i <= 5; i++) {\n            final int tempint = i;\n            new thread(() -> {\n                mycache.get(tempint + "");\n            }, string.valueof(i)).start();\n        }\n    }\n\n}\n\n// æµè¯åç°é®é¢: åå¥çæ¶åï¼è¿æ²¡åå¥å®æï¼ä¼å­å¨å¶ä»çåå¥ï¼é æé®é¢\nclass mycache {\n    private volatile map<string, object> map = new hashmap<>();\n\n    public void put(string key, object value) {\n        system.out.println(thread.currentthread().getname() + " åå¥" + key);\n        map.put(key, value);\n        system.out.println(thread.currentthread().getname() + " åå¥æå!");\n    }\n\n    public void get(string key) {\n        system.out.println(thread.currentthread().getname() + " è¯»å" + key);\n        object result = map.get(key);\n        system.out.println(thread.currentthread().getname() + " è¯»åç»æï¼" + result);\n    }\n}\n\n// å é\nclass mycachelock {\n    private volatile map<string, object> map = new hashmap<>();\n    private readwritelock readwritelock = new reentrantreadwritelock(); // è¯»åé\n\n    public void put(string key, object value) {\n        // åé\n        readwritelock.writelock().lock();\n        try {\n            system.out.println(thread.currentthread().getname() + " åå¥" + key);\n            map.put(key, value);\n            system.out.println(thread.currentthread().getname() + " åå¥æå!");\n        } catch (exception e) {\n            e.printstacktrace();\n        } finally {\n            //è§£é\n            readwritelock.writelock().unlock();\n        }\n    }\n\n    public void get(string key) {\n        // è¯»é\n        readwritelock.readlock().lock();\n        try {\n            system.out.println(thread.currentthread().getname() + " è¯»å" + key);\n            object result = map.get(key);\n            system.out.println(thread.currentthread().getname() + " è¯»åç»æï¼" + result);\n        } catch (exception e) {\n            e.printstacktrace();\n        } finally {\n            readwritelock.readlock().unlock();\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n\n\n\n# 9ãé»å¡éå\n\ninterface  blockingqueue<e>\n\n\n1\n\n\n\n# é»å¡éåç®ä»\n\né»å¡ï¼å¿é¡»è¦é»å¡ãä¸å¾ä¸é»å¡\n\né»å¡éåæ¯ä¸ä¸ªéåï¼å¨æ°æ®ç»æä¸­èµ·çä½ç¨å¦ä¸å¾ï¼\n\n\n\nå½éåæ¯ç©ºçï¼ä»éåä¸­è·ååç´ çæä½å°ä¼è¢«é»å¡ã\n\nå½éåæ¯æ»¡çï¼ä»éåä¸­æ·»å åç´ çæä½å°ä¼è¢«é»å¡ã\n\nè¯å¾ä»ç©ºçéåä¸­è·ååç´ ççº¿ç¨å°ä¼è¢«é»å¡ï¼ç´å°å¶ä»çº¿ç¨å¾ç©ºçéåæå¥æ°çåç´ ã\n\nè¯å¾åå·²æ»¡çéåä¸­æ·»å æ°åç´ ççº¿ç¨å°ä¼è¢«é»å¡ï¼ç´å°å¶ä»çº¿ç¨ä»éåä¸­ç§»é¤ä¸ä¸ªæå¤ä¸ªåç´ æèå®å¨æ¸ç©ºï¼ä½¿éååå¾ç©ºé²èµ·æ¥å¹¶åç»­æ°å¢ã\n\n\n# é»å¡éåçç¨å¤\n\nå¨å¤çº¿ç¨é¢åï¼æè°é»å¡ï¼å¨æäºæåµä¸ä¼æèµ·çº¿ç¨ï¼å³é»å¡ï¼ï¼ä¸æ¦æ¡ä»¶æ»¡è¶³ï¼è¢«æèµ·ççº¿ç¨åä¼èª å¨è¢«å¤èµ·ã\n\nä¸ºä»ä¹éè¦ blockingqueueï¼\n\nå¥½å¤æ¯æä»¬ä¸éè¦å³å¿ä»ä¹æ¶åéè¦é»å¡çº¿ç¨ï¼ä»ä¹æ¶åéè¦å¤éçº¿ç¨ï¼å ä¸ºè¿ä¸åblockingqueue é½ ç»ä½ ä¸æååäºã\n\nå¨ concurrent ååå¸ä»¥åï¼å¨å¤çº¿ç¨ç¯å¢ä¸ï¼æä»¬æ¯ä¸ªç¨åºåé½å¿é¡»èªå·±å»æ§å¶è¿äºç»èï¼å°¤å¶è¿è¦å¼é¡¾æçåçº¿ç¨å®å¨ï¼èè¿ä¼ç»æä»¬çç¨åºå¸¦æ¥ä¸å°çå¤æåº¦ã\n\n\n# æ¥å£æ¶æå¾\n\n\n\n * arrayblockingqueue\n   \n   ç±æ°ç»ç»æç»æçæçé»å¡éåã\n\n * linkedblockingqueue\n   \n   ç±é¾è¡¨ç»æç»æçæçï¼é»è®¤å¼ä¸ºï¼integer.max_valueï¼é»å¡éåã\n\n * priorityblockingqueue\n   \n   æ¯æä¼åçº§æåºçæ çé»å¡éå\n\n * delayqueue\n   \n   ä½¿ç¨ä¼åçº§éåå®ç°çå»¶è¿æ çé»å¡éåã\n\n * synchronousqueue\n   \n   ä¸å­å¨åç´ çé»å¡éåï¼ä¹å³åä¸ªåç´ çéåã\n\n * linkedtransferqueue\n   \n   ç±é¾è¡¨ç»æçæ çé»å¡éå\n\n * linkedblockingdeque\n   \n   ç±é¾è¡¨ç»æçååé»å¡éåã\n\n\n# apiçä½¿ç¨\n\næ¹æ³\\å¤çæ¹å¼   æåºå¼å¸¸        è¿åç¹æ®å¼      ä¸ç´é»å¡     è¶æ¶éåº\næå¥æ¹æ³      add(e)      offer(e)   put(e)   offer(e,time,unit)\nç§»é¤æ¹æ³      remove()    poll()     take()   poll(time,unit)\næ£æ¥æ¹æ³      element()   peek()     ä¸å¯ç¨      ä¸å¯ç¨\n\nè§£éï¼\n\n * æåºå¼å¸¸\n\nå½é»å¡éåæ»¡æ¶ï¼åå¾éåéaddæå¥åç´ ä¼æåº illegalstateexception: queue full\n\nå½é»å¡éåç©ºæ¶ï¼åå¾éåéremoveç§»é¤åç´ ä¼æ nosuchelementexception`\n\n * è¿åç¹æ®å¼\n\næå¥æ¹æ³ï¼æåè¿åtrueï¼å¤±è´¥åfalse\n\nç§»é¤æ¹æ³ï¼æåè¿åéååç´ ï¼éåéæ²¡æåè¿ånull\n\n * ä¸ç´é»å¡\n\nå½é»å¡éåæ»¡æ¶ï¼çäº§èçº¿ç¨ç»§ç»­å¾éåéputåç´ ï¼éåä¼ä¸ç´é»å¡çäº§èçº¿ç¨ç´å°putæ°æ®æååºä¸­æ­éåº\n\nå½é»å¡éåç©ºæ¶ï¼æ¶è´¹èçº¿ç¨ä»éåétakeåç´ ï¼éåä¼ä¸ç´é»å¡æ¶è´¹èçº¿ç¨ç´å°éåå¯ç¨\n\n * è¶æ¶éåº\n\nå½é»å¡éåæ»¡æ¶ï¼éåä¼é»å¡çäº§èçº¿ç¨ä¸å®æ¶é´ï¼è¶è¿éæ¶åçäº§èçº¿ç¨ä¼éåº\n\næåºå¼å¸¸\n\npackage com.oddfar.bq;\n\nimport java.util.concurrent.arrayblockingqueue;\n\n/**\n * @author zhiyuan\n */\npublic class blockingqueuedemo {\n\n    public static void main(string[] args) {\n        // éåå¤§å°\n        arrayblockingqueue blockingqueue = new arrayblockingqueue<>(3);\n        system.out.println(blockingqueue.add("a"));\n        system.out.println(blockingqueue.add("b"));\n        system.out.println(blockingqueue.add("c"));\n\n        //java.lang.illegalstateexception: queue full\n//        system.out.println(blockingqueue.add("d"));\n\n        system.out.println("é¦åç´ ï¼" + blockingqueue.element()); // æ£æµéåéé¦åç´ ï¼\n        // public e remove() è¿åå¼eï¼å°±æ¯ç§»é¤çå¼\n        system.out.println(blockingqueue.remove()); //a\n        system.out.println(blockingqueue.remove()); //b\n        system.out.println(blockingqueue.remove()); //c\n        // java.util.nosuchelementexception\n//        system.out.println(blockingqueue.remove());\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\nè¿åç¹æ®å¼\n\npublic class blockingqueuedemo2 {\n    public static void main(string[] args) {\n        // éåå¤§å°\n        arrayblockingqueue blockingqueue = new arrayblockingqueue<>(3);\n\n        system.out.println(blockingqueue.offer("a")); // true\n        system.out.println(blockingqueue.offer("b")); // true\n        system.out.println(blockingqueue.offer("c")); // true\n        //system.out.println(blockingqueue.offer("d")); // false\n\n        system.out.println("é¦åç´ ï¼" + blockingqueue.peek()); // æ£æµéåéé¦åç´ ï¼\n\n        // public e poll()\n        system.out.println(blockingqueue.poll()); // a\n        system.out.println(blockingqueue.poll()); // b\n        system.out.println(blockingqueue.poll()); // c\n        system.out.println(blockingqueue.poll()); // null\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nä¸ç´é»å¡\n\npublic class blockingqueuedemo3 {\n    public static void main(string[] args) throws interruptedexception {\n        // éåå¤§å°\n        arrayblockingqueue blockingqueue = new arrayblockingqueue<>(3);\n\n        // ä¸ç´é»å¡\n        blockingqueue.put("a");\n        blockingqueue.put("b");\n        blockingqueue.put("c");\n//         blockingqueue.put("d");\n        system.out.println(blockingqueue.take()); // a\n        system.out.println(blockingqueue.take()); // b\n        system.out.println(blockingqueue.take()); // c\n        system.out.println(blockingqueue.take()); // é»å¡ä¸åæ­¢ç­å¾\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nè¶æ¶éåº\n\npublic class blockingqueuedemo4 {\n    public static void main(string[] args) throws interruptedexception {\n        // éåå¤§å°\n        arrayblockingqueue blockingqueue = new arrayblockingqueue<>(3);\n\n        // ä¸ç´é»å¡\n        blockingqueue.put("a");\n        blockingqueue.put("b");\n        blockingqueue.put("c");\n        blockingqueue.offer("d",2l, timeunit.seconds); // ç­å¾2ç§è¶æ¶éåº\n\n        system.out.println(blockingqueue.take()); // a\n        system.out.println(blockingqueue.take()); // b\n        system.out.println(blockingqueue.take()); // c\n        system.out.println(blockingqueue.take()); // é»å¡ä¸åæ­¢ç­å¾\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"JUCå­¦ä¹ ç¬è®°ï¼ä¸ï¼",frontmatter:{title:"JUCå­¦ä¹ ç¬è®°ï¼ä¸ï¼",permalink:"/java/se/thread/2",date:"2021-05-17T18:01:25.000Z"},regularPath:"/01.Java/07.Java-%E5%A4%9A%E7%BA%BF%E7%A8%8B/05.JUC%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html",relativePath:"01.Java/07.Java-å¤çº¿ç¨/05.JUCå­¦ä¹ ç¬è®°.md",key:"v-6079c7fa",path:"/java/se/thread/2/",headers:[{level:2,title:"11ãçº¿ç¨æ± ",slug:"_11ãçº¿ç¨æ± ",normalizedTitle:"11ãçº¿ç¨æ± ",charIndex:3},{level:3,title:"ExecutorService",slug:"executorservice",normalizedTitle:"executorservice",charIndex:15},{level:3,title:"ThreadPoolExecutor",slug:"threadpoolexecutor",normalizedTitle:"threadpoolexecutor",charIndex:36},{level:2,title:"12ãåå¤§å½æ°å¼æ¥å£",slug:"_12ãåå¤§å½æ°å¼æ¥å£",normalizedTitle:"12ãåå¤§å½æ°å¼æ¥å£",charIndex:58},{level:2,title:"13ãStreamæµå¼è®¡ç®",slug:"_13ãstreamæµå¼è®¡ç®",normalizedTitle:"13ãstreamæµå¼è®¡ç®",charIndex:72},{level:2,title:"14ãåæ¯åå¹¶",slug:"_14ãåæ¯åå¹¶",normalizedTitle:"14ãåæ¯åå¹¶",charIndex:89},{level:2,title:"15ãå¼æ­¥åè°",slug:"_15ãå¼æ­¥åè°",normalizedTitle:"15ãå¼æ­¥åè°",charIndex:100},{level:2,title:"16ãJMM",slug:"_16ãjmm",normalizedTitle:"16ãjmm",charIndex:111},{level:2,title:"17ãvolatile",slug:"_17ãvolatile",normalizedTitle:"17ãvolatile",charIndex:121},{level:2,title:"18ãåä¾æ¨¡å¼",slug:"_18ãåä¾æ¨¡å¼",normalizedTitle:"18ãåä¾æ¨¡å¼",charIndex:136},{level:3,title:"é¥¿æ±å¼",slug:"é¥¿æ±å¼",normalizedTitle:"é¥¿æ±å¼",charIndex:149},{level:3,title:"ææ±å¼",slug:"ææ±å¼",normalizedTitle:"ææ±å¼",charIndex:158},{level:3,title:"éæåé¨ç±»",slug:"éæåé¨ç±»",normalizedTitle:"éæåé¨ç±»",charIndex:167},{level:3,title:"ä¸æ¶çåå°",slug:"ä¸æ¶çåå°",normalizedTitle:"ä¸æ¶çåå°",charIndex:178},{level:3,title:"æä¸¾",slug:"æä¸¾",normalizedTitle:"æä¸¾",charIndex:189},{level:2,title:"19ãCAS",slug:"_19ãcas",normalizedTitle:"19ãcas",charIndex:195},{level:2,title:"20ãåå­å¼ç¨",slug:"_20ãåå­å¼ç¨",normalizedTitle:"20ãåå­å¼ç¨",charIndex:205},{level:2,title:"21ãJavaé",slug:"_21ãjavaé",normalizedTitle:"21ãjavaé",charIndex:216},{level:3,title:"å¬å¹³ééå¬å¹³é",slug:"å¬å¹³ééå¬å¹³é",normalizedTitle:"å¬å¹³ééå¬å¹³é",charIndex:230},{level:3,title:"å¯éå¥é",slug:"å¯éå¥é",normalizedTitle:"å¯éå¥é",charIndex:243},{level:3,title:"èªæé",slug:"èªæé",normalizedTitle:"èªæé",charIndex:253},{level:3,title:"æ­»é",slug:"æ­»é",normalizedTitle:"æ­»é",charIndex:262}],headersStr:"11ãçº¿ç¨æ±  ExecutorService ThreadPoolExecutor 12ãåå¤§å½æ°å¼æ¥å£ 13ãStreamæµå¼è®¡ç® 14ãåæ¯åå¹¶ 15ãå¼æ­¥åè° 16ãJMM 17ãvolatile 18ãåä¾æ¨¡å¼ é¥¿æ±å¼ ææ±å¼ éæåé¨ç±» ä¸æ¶çåå° æä¸¾ 19ãCAS 20ãåå­å¼ç¨ 21ãJavaé å¬å¹³ééå¬å¹³é å¯éå¥é èªæé æ­»é",content:' * 11ãçº¿ç¨æ± \n   * ExecutorService\n   * ThreadPoolExecutor\n * 12ãåå¤§å½æ°å¼æ¥å£\n * 13ãStreamæµå¼è®¡ç®\n * 14ãåæ¯åå¹¶\n * 15ãå¼æ­¥åè°\n * 16ãJMM\n * 17ãvolatile\n * 18ãåä¾æ¨¡å¼\n   * é¥¿æ±å¼\n   * ææ±å¼\n   * éæåé¨ç±»\n   * ä¸æ¶çåå°\n   * æä¸¾\n * 19ãCAS\n * 20ãåå­å¼ç¨\n * 21ãJavaé\n   * å¬å¹³ééå¬å¹³é\n   * å¯éå¥é\n   * èªæé\n   * æ­»é\n\n\n\n\n# 11ãçº¿ç¨æ± \n\næ± åææ¯\n\nç¨åºçè¿è¡ï¼å¶æ¬è´¨ä¸ï¼æ¯å¯¹ç³»ç»èµæº(CPUãåå­ãç£çãç½ç»ç­ç­)çä½¿ç¨ãå¦ä½é«æçä½¿ç¨è¿äºèµæº æ¯æä»¬ç¼ç¨ä¼åæ¼è¿çä¸ä¸ªæ¹åãä»å¤©è¯´ççº¿ç¨æ± å°±æ¯ä¸ç§å¯¹CPUå©ç¨çä¼åææ®µã\n\néè¿å­¦ä¹ çº¿ç¨æ± åçï¼æç½æææ± åææ¯çåºæ¬è®¾è®¡æè·¯ãéå°å¶ä»ç¸ä¼¼é®é¢å¯ä»¥è§£å³ã\n\nåé¢æå°ä¸ä¸ªåè¯ââæ± åææ¯ï¼é£ä¹å°åºä»ä¹æ¯æ± åææ¯å¢ ?\n\næ± åææ¯ç®åç¹æ¥è¯´ï¼å°±æ¯æåä¿å­å¤§éçèµæºï¼ä»¥å¤ä¸æ¶ä¹éãå¨æºå¨èµæºæéçæåµä¸ï¼ä½¿ç¨æ± å ææ¯å¯ä»¥å¤§å¤§çæé«èµæºçå©ç¨çï¼æåæ§è½ç­ã\n\nå¨ç¼ç¨é¢åï¼æ¯è¾å¸åçæ± åææ¯æï¼çº¿ç¨æ± ãè¿æ¥æ± ãåå­æ± ãå¯¹è±¡æ± ç­ã\n\næä»¬éè¿åå»ºä¸ä¸ªçº¿ç¨å¯¹è±¡ï¼å¹¶ä¸å®ç°Runnableæ¥å£å°±å¯ä»¥å®ç°ä¸ä¸ªç®åççº¿ç¨ãå¯ä»¥å©ç¨ä¸å¤æ ¸ CPUãå½ä¸ä¸ªä»»å¡ç»æï¼å½åçº¿ç¨å°±æ¥æ¶ã\n\nä½å¾å¤æ¶åï¼æä»¬ä¸æ­¢ä¼æ§è¡ä¸ä¸ªä»»å¡ãå¦ææ¯æ¬¡é½æ¯å¦æ­¤çåå»ºçº¿ç¨->æ§è¡ä»»å¡->éæ¯çº¿ç¨ï¼ä¼é æå¾å¤§çæ§è½å¼éã\n\né£è½å¦ä¸ä¸ªçº¿ç¨åå»ºåï¼æ§è¡å®ä¸ä¸ªä»»å¡åï¼åå»æ§è¡å¦ä¸ä¸ªä»»å¡ï¼èä¸æ¯éæ¯ãè¿å°±æ¯çº¿ç¨æ± ã\n\nè¿ä¹å°±æ¯æ± åææ¯çææ³ï¼éè¿é¢ååå»ºå¥½å¤ä¸ªçº¿ç¨ï¼æ¾å¨æ± ä¸­ï¼è¿æ ·å¯ä»¥å¨éè¦ä½¿ç¨çº¿ç¨çæ¶åç´æ¥è·åï¼é¿åå¤æ¬¡éå¤åå»ºãéæ¯å¸¦æ¥çå¼éã\n\nä¸ºä»ä¹ä½¿ç¨çº¿ç¨æ± \n\n10 å¹´ååæ ¸CPUçµèï¼åçå¤çº¿ç¨ï¼åé©¬æå¢å°ä¸ç©å¤ä¸ªç ï¼CPU éè¦æ¥ååæ¢ã\n\nç°å¨æ¯å¤æ ¸çµèï¼å¤ä¸ªçº¿ç¨åèªè·å¨ç¬ç«çCPUä¸ï¼ä¸ç¨åæ¢æçé«ã\n\nçº¿ç¨æ± çä¼å¿ï¼\n\nçº¿ç¨æ± åçå·¥ä½ä¸»è¦æ¯ï¼æ§å¶è¿è¡ççº¿ç¨æ°éï¼å¤çè¿ç¨ä¸­å°ä»»å¡æ¾å¥éåï¼ç¶åå¨çº¿ç¨åå»ºåå¯å¨è¿ äºä»»å¡ï¼å¦æçº¿ç¨æ°éè¶è¿äºæå¤§æ°éï¼è¶åºæ°éççº¿ç¨æéç­åï¼ç­å¶ä»çº¿ç¨æ§è¡å®æ¯ï¼åä»éåä¸­ååºä»»å¡æ¥æ§è¡ã\n\nå®çä¸»è¦ç¹ç¹ä¸ºï¼çº¿ç¨å¤ç¨ï¼æ§å¶æå¤§å¹¶åæ°ï¼ç®¡ççº¿ç¨ã\n\nç¬¬ä¸ï¼éä½èµæºæ¶èï¼éè¿éå¤å©ç¨å·²åå»ºççº¿ç¨éä½çº¿ç¨åå»ºåéæ¯é æçæ¶èã\n\nç¬¬äºï¼æé«ååºéåº¦ãå½ä»»å¡å°è¾¾æ¶ï¼ä»»å¡å¯ä»¥ä¸éè¦ç­å¾çº¿ç¨åå»ºå°±è½ç«å³æ§è¡ã\n\nç¬¬ä¸ï¼æé«çº¿ç¨çå¯ç®¡çæ§ï¼çº¿ç¨æ¯ç¨ç¼ºèµæºï¼å¦ææ éå¶çåå»ºï¼ä¸ä»ä¼æ¶èç³»ç»èµæºï¼è¿ä¼éä½ç³»ç»çç¨³å®æ§ï¼ä½¿ç¨çº¿ç¨æ± å¯ä»¥è¿è¡ç»ä¸åéï¼è°ä¼åçæ§ã\n\n\n# ExecutorService\n\nçº¿ç¨æ± çä¸å¤§æ¹æ³\n\nJavaä¸­ççº¿ç¨æ± æ¯éè¿ Executor æ¡æ¶å®ç°çï¼è¯¥æ¡æ¶ä¸­ç¨å°äº Executor ï¼Executorsï¼ ExecutorServiceï¼ThreadPoolExecutor è¿å ä¸ªç±»ã\n\n\n\nä¸å¤§æ¹æ³è¯´æï¼\n\n * Executors.newFixedThreadPool(int)\n   \n   æ§è¡é¿æä»»å¡æ§è½å¥½ï¼åå»ºä¸ä¸ªçº¿ç¨æ± ï¼ä¸æ± æNä¸ªåºå®ççº¿ç¨ï¼æåºå®çº¿ç¨æ°ççº¿ç¨ã\n\n * Executors.newSingleThreadExecutor()\n   \n   åªæä¸ä¸ªçº¿ç¨\n\n * Executors.newCachedThreadPool()\n   \n   æ§è¡å¾å¤ç­æå¼æ­¥ä»»å¡ï¼çº¿ç¨æ± æ ¹æ®éè¦åå»ºæ°çº¿ç¨ï¼ä½å¨åæå»ºççº¿ç¨å¯ç¨æ¶å°éç¨ä»ä»¬ã å¯æ©å®¹ï¼éå¼ºåå¼º\n\npublic class MyThreadPoolDemo {\n    public static void main(String[] args) {\n        /** 1ãæ± å­å¤§å° 5 \n         * æ¨¡ææ10ä¸ªé¡¾å®¢è¿æ¥é¶è¡åçä¸å¡ï¼æ± å­ä¸­åªæ5ä¸ªå·¥ä½äººååçä¸å¡\n         */\n//        ExecutorService threadPool = Executors.newFixedThreadPool(5);\n\n\n        /** 2ãæä¸åªæä¸ä¸ªåºå®ççº¿ç¨\n         * æ¨¡ææ10ä¸ªé¡¾å®¢è¿æ¥é¶è¡åçä¸å¡ï¼æ± å­ä¸­åªæ1ä¸ªå·¥ä½äººååçä¸å¡\n         */\n//        ExecutorService threadPool =  Executors.newSingleThreadExecutor();\n        \n        /**  3ãä¸æ± Nçº¿ç¨ï¼å¯æ©å®¹ä¼¸ç¼©\n         * æ¨¡ææ10ä¸ªé¡¾å®¢è¿æ¥é¶è¡åçä¸å¡ï¼æ± å­ä¸­Nä¸ªå·¥ä½äººååçä¸å¡\n         */\n        ExecutorService threadPool = Executors.newCachedThreadPool();\n        \n        try {\n            for (int i = 1; i <= 10; i++) {\n                threadPool.execute(() -> {\n                    System.out.println(Thread.currentThread().getName() + " åçä¸å¡");\n                });\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            threadPool.shutdown(); // ç¨å®è®°å¾å³é­\n        }\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n\n# ThreadPoolExecutor\n\nThreadPoolExecutor ä¸å¤§åæ°\n\næ¥çä¸å¤§æ¹æ³çè°ç¨æºç ï¼åç°æ¬è´¨é½æ¯è°ç¨äº new ThreadPoolExecutor ( 7 å¤§åæ° )\n\npublic ThreadPoolExecutor(int corePoolSize,\n                          int maximumPoolSize,\n                          long keepAliveTime,\n                          TimeUnit unit,\n                          BlockingQueue<Runnable> workQueue,\n                          ThreadFactory threadFactory,\n                          RejectedExecutionHandler handler) {\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n1ãcorePollSize\n\næ ¸å¿çº¿ç¨æ°ãå¨åå»ºäºçº¿ç¨æ± åï¼çº¿ç¨ä¸­æ²¡æä»»ä½çº¿ç¨ï¼ç­å°æä»»å¡å°æ¥æ¶æåå»ºçº¿ç¨å»æ§è¡ä»»å¡ãé»è®¤æåµä¸ï¼å¨åå»ºäºçº¿ç¨æ± åï¼çº¿ç¨æ± ä¸­ççº¿ç¨æ°ä¸º0ï¼å½æä»»å¡æ¥ä¹åï¼å°±ä¼åå»ºä¸ä¸ªçº¿ç¨å»æ§è¡ä»»å¡ï¼å½çº¿ç¨æ± ä¸­ççº¿ç¨æ°ç®è¾¾å° corePoolSize åï¼å°±ä¼æå°è¾¾çä»»å¡æ¾å°ç¼å­éåå½ä¸­ã\n\n2ãmaximumPoolSize\n\næå¤§çº¿ç¨æ°ãè¡¨æçº¿ç¨ä¸­æå¤è½å¤åå»ºççº¿ç¨æ°éï¼æ­¤å¼å¿é¡»å¤§äºç­äº1ã\n\n3ãkeepAliveTime\n\nç©ºé²ççº¿ç¨ä¿ççæ¶é´ï¼è¾¾å°è¿ä¸ªæ¶é´åï¼èªå¨éæ¾\n\n4ãTimeUnit\n\nç©ºé²çº¿ç¨çä¿çæ¶é´åä½ã\n\nTimeUnit.DAYS; //å¤©\nTimeUnit.HOURS; //å°æ¶\nTimeUnit.MINUTES; //åé\nTimeUnit.SECONDS; //ç§\nTimeUnit.MILLISECONDS; //æ¯«ç§\nTimeUnit.MICROSECONDS; //å¾®å¦\nTimeUnit.NANOSECONDS; //çº³ç§\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n5ãBlockingQueue<Runnable> workQueue\n\né»å¡éåï¼å­å¨ç­å¾æ§è¡çä»»å¡ãåæ°æArrayBlockingQueueã LinkedBlockingQueueãSynchronousQueueå¯éã\n\n6ãThreadFactory\n\nçº¿ç¨å·¥åï¼ç¨æ¥åå»ºçº¿ç¨ï¼ä¸è¬é»è®¤å³å¯\n\n7ãRejectedExecutionHandler\n\néåå·²æ»¡ï¼èä¸ä»»å¡éå¤§äºæå¤§çº¿ç¨çå¼å¸¸å¤çç­ç¥ãæä»¥ä¸åå¼\n\nThreadPoolExecutor.AbortPolicy:ä¸¢å¼ä»»å¡å¹¶æåºRejectedExecutionExceptionå¼å¸¸ã\nThreadPoolExecutor.DiscardPolicyï¼ä¹æ¯ä¸¢å¼ä»»å¡ï¼ä½æ¯ä¸æåºå¼å¸¸ã\nThreadPoolExecutor.DiscardOldestPolicyï¼ä¸¢å¼éåæåé¢çä»»å¡ï¼ç¶åéæ°å°è¯æ§è¡ä»»å¡ï¼éå¤æ­¤è¿ç¨ï¼\nThreadPoolExecutor.CallerRunsPolicyï¼ç±è°ç¨çº¿ç¨å¤çè¯¥ä»»å¡\n\n\n1\n2\n3\n4\n\n\nThreadPoolExecutorå±å·¥ä½åç\n\n\n\nä¸¾ä¾ï¼8ä¸ªäººè¿é¶è¡åçä¸å¡\n\n1ã1~2äººè¢«åçï¼æ ¸å¿å¤§å°coreï¼\n\n2ã3~5äººè¿å¥éåï¼Queueï¼\n\n3ã6~8äººå°æå¤§çº¿ç¨æ± ï¼æ©å®¹å¤§å°maxï¼\n\n4ãåæäººè¿æ¥å°±è¦è¢«æç»ç­ç¥æ¥åäº\n\n\n\n1ãå¨åå»ºäºçº¿ç¨æ± åï¼å¼å§ç­å¾è¯·æ±ã\n\n2ãå½è°ç¨execute()æ¹æ³æ·»å ä¸ä¸ªè¯·æ±ä»»å¡æ¶ï¼çº¿ç¨æ± ä¼ååºå¦ä¸å¤æ­ï¼\n\n * å¦ææ­£å¨è¿è¡ççº¿ç¨æ°éå°äºcorePoolSizeï¼é£ä¹é©¬ä¸åå»ºçº¿ç¨è¿è¡è¿ä¸ªä»»å¡\n * å¦ææ­£å¨è¿è¡ççº¿ç¨æ°éå¤§äºæç­äºcorePoolSizeï¼é£ä¹å°è¿ä¸ªä»»å¡æ¾å¥éå\n * å¦æè¿ä¸ªæ¶åéåæ»¡äºä¸æ­£å¨è¿è¡ççº¿ç¨æ°éè¿å°äºmaximumPoolSizeï¼é£ä¹è¿æ¯è¦åå»ºé æ ¸å¿çº¿ç¨ç«å»è¿è¡è¿ä¸ªä»»å¡\n * å¦æéåæ»¡äºä¸æ­£å¨è¿è¡ççº¿ç¨æ°éå¤§äºæç­äº1Sizeï¼é£ä¹çº¿ç¨æ± ä¼å¯å¨é¥±åæç»ç­ç¥æ¥æ§è¡ã\n\n3ãå½ä¸ä¸ªçº¿ç¨å®æä»»å¡æ¶ï¼å®ä¼ä»éåä¸­åä¸ä¸ä¸ªä»»å¡æ¥æ§è¡\n\n4ã å½ä¸ä¸ªçº¿ç¨æ äºå¯åè¶è¿ä¸å®çæ¶é´(keepAliveTime)æ¶ï¼çº¿ç¨ä¼å¤æ­ï¼\n\nå¦æå½åè¿è¡ççº¿ç¨æ°å¤§äºcorePollSizeï¼é£ä¹è¿ä¸ªçº¿ç¨å°±è¢«åæã\n\næä»¥çº¿ç¨æ± çææä»»å¡å®æåï¼å®æç»ä¼æ¶ç¼©å° corePoolSize çå¤§å°ã\n\nçº¿ç¨æ± ç¨åªä¸ªï¼çäº§ä¸­å¦ä½è®¾ç½®åçåæ°\n\nExecutors ä¸­ JDK å·²ç»ç»ä½ æä¾äºï¼ä¸ºä»ä¹ä¸ç¨ï¼\n\n\n\nä»£ç æµè¯ï¼\n\nçº¿ç¨æ± çæç»ç­ç¥ï¼\n\nRejectedExecutionHandler rejected = null;\n\n//é»è®¤ï¼éåæ»¡äºä¸¢ä»»å¡ï¼æåºå¼å¸¸\nrejected = new ThreadPoolExecutor.AbortPolicy();\n//éåæ»¡äºä¸¢ä»»å¡ï¼ä¸æåºå¼å¸¸ãå¦æåè®¸ä»»å¡ä¸¢å¤±è¿æ¯æå¥½çã\nrejected = new ThreadPoolExecutor.DiscardPolicy();\n//å°ææ©è¿å¥éåçä»»å¡å ï¼ä¹ååå°è¯å å¥éå\nrejected = new ThreadPoolExecutor.DiscardOldestPolicy();\n////å¦ææ·»å å°çº¿ç¨æ± å¤±è´¥ï¼é£ä¹ä¸»çº¿ç¨ä¼èªå·±å»æ§è¡è¯¥ä»»å¡ï¼åé\nrejected = new ThreadPoolExecutor.CallerRunsPolicy();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\npublic class MyThreadPoolDemo2 {\n\n    public static void main(String[] args) {\n\n\n        // èªå®ä¹ ThreadPoolExecutor\n        ExecutorService threadPool = new ThreadPoolExecutor(\n                2,\n                Runtime.getRuntime().availableProcessors(),\n                2L,\n                TimeUnit.SECONDS,\n                new LinkedBlockingDeque<>(3),\n                Executors.defaultThreadFactory(),\n                new ThreadPoolExecutor.DiscardPolicy());\n        try {\n            // æ¨¡ææ6,7,8,9,10ä¸ªé¡¾å®¢è¿æ¥é¶è¡åçä¸å¡ï¼è§å¯ç»ææåµ\n            // æå¤§å®¹éä¸ºï¼maximumPoolSize + workQueue = æå¤§å®¹éæ°\n            for (int i = 1; i <= 19; i++) {\n                int num = i;\n                threadPool.execute(() -> {\n                    System.out.println(num + " " + Thread.currentThread().getName() + " ok");\n                });\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            threadPool.shutdown(); // ç¨å®è®°å¾å³é­\n        }\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\nçº¿ç¨æ¯å¦è¶å¤è¶å¥½ï¼\n\nä¸ä¸ªè®¡ç®ä¸ºä¸»çç¨åºï¼ä¸ä¸ä¸ç¹ç§°ä¸ºCPUå¯éåç¨åºï¼ãå¤çº¿ç¨è·çæ¶åï¼å¯ä»¥ååå©ç¨èµ·ææç cpu æ ¸å¿ï¼æ¯å¦è¯´4ä¸ªæ ¸å¿çcpuï¼å¼4ä¸ªçº¿ç¨çæ¶åï¼å¯ä»¥åæ¶è·4ä¸ªçº¿ç¨çè¿ç®ä»»å¡ï¼æ­¤æ¶æ¯æå¤§æçãä½æ¯å¦æçº¿ç¨è¿è¿è¶åºcpuæ ¸å¿æ°éåèä¼ä½¿å¾ä»»å¡æçä¸éï¼å ä¸ºé¢ç¹çåæ¢çº¿ç¨ä¹æ¯è¦æ¶èæ¶é´çãå æ­¤å¯¹äºcpuå¯éåçä»»å¡æ¥è¯´ï¼çº¿ç¨æ°ç­äºcpuæ°æ¯æå¥½çäºã\n\nå¦ææ¯ä¸ä¸ªç£çæç½ç»ä¸ºä¸»çç¨åºï¼IOå¯éåï¼ãä¸ä¸ªçº¿ç¨å¤å¨IOç­å¾çæ¶åï¼å¦ä¸ä¸ªçº¿ç¨è¿å¯ä»¥å¨ CPUéé¢è·ï¼ææ¶åCPUé²çæ²¡äºå¹²ï¼ææççº¿ç¨é½å¨ç­çIOï¼è¿æ¶åä»ä»¬å°±æ¯åæ¶çäºï¼èåçº¿ç¨çè¯æ­¤æ¶è¿æ¯å¨ä¸ä¸ªä¸ä¸ªç­å¾çãæä»¬é½ç¥éIOçéåº¦æ¯èµ·CPUæ¥æ¯æ¢å°ä»¤äººåæçãæä»¥å¼å¤çº¿ç¨ï¼æ¯ æ¹è¯´å¤çº¿ç¨ç½ç»ä¼ è¾ï¼å¤çº¿ç¨å¾ä¸åçç®å½åæä»¶ï¼ç­ç­ãæ­¤æ¶çº¿ç¨æ°ç­äºIOä»»å¡æ°æ¯æä½³çã\n\n\n# 12ãåå¤§å½æ°å¼æ¥å£\n\nå¨java.util.functionåä¸ï¼Java åç½®æ ¸å¿åå¤§å½æ°å¼æ¥å£ï¼å¯ä»¥ä½¿ç¨lambdaè¡¨è¾¾å¼\n\n\n\nå½æ°åæ¥å£ï¼æä¸ä¸ªè¾å¥ï¼æä¸ä¸ªè¾åº\n\nFunction\n\npackage com.oddfar.function;\n\nimport java.util.function.Function;\n\n/**\n * @author zhiyuan\n */\npublic class Demo01 {\n    public static void main(String[] args) {\n//        Function<String,Integer> function = new Function<String,Integer>() {\n//            @Override\n//            public Integer apply(String s) {\n//                return s.length();\n//            }\n//        };\n\n        Function<String,Integer> function = (s)->{return  s.length();};\n\n        System.out.println(function.apply("abc"));\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\næ­å®åæ¥å£ï¼æä¸ä¸ªè¾å¥åæ°ï¼è¿ååªæå¸å°å¼ã\n\nPredicate\n\npublic class Demo02 {\n    public static void main(String[] args) {\n//        Predicate<String> predicate = new Predicate<String>() {\n//            @Override\n//            public boolean test(String s) {\n//                return s.isEmpty();\n//            }\n//        };\n        Predicate<String> predicate = (s)->{return s.isEmpty();};\n\n        System.out.println(predicate.test("abc"));\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\næ¶è´¹åæ¥å£ï¼æä¸ä¸ªè¾å¥åæ°ï¼æ²¡æè¿åå¼\n\nConsumer\n\npublic class Demo03 {\n    public static void main(String[] args) {\n\n//        Consumer<String> consumer = new Consumer<String>() {\n//            @Override\n//            public void accept(String s) {\n//                System.out.println(s);\n//            }\n//        };\n        Consumer<String> consumer = s -> { System.out.println(s); };\n        consumer.accept("abc");\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nä¾ç»åæ¥å£ï¼æ²¡æè¾å¥åæ°ï¼åªæè¿ååæ°\n\nSupplier\n\npublic class Demo04 {\n    public static void main(String[] args) {\n//        Supplier<String> supplier = new Supplier<String>() {\n//            @Override\n//            public String get() {\n//                return null;\n//            }\n//        };\n        Supplier<String> supplier = () -> { return "abc";};\n        System.out.println(supplier.get());\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# 13ãStreamæµå¼è®¡ç®\n\næµï¼Streamï¼å°åºæ¯ä»ä¹å¢ï¼\n\næ¯æ°æ®æ¸ éï¼ç¨äºæä½æ°æ®æºï¼éåãæ°ç»ç­ï¼æçæçåç´ åºåã\n\nâéåè®²çæ¯æ°æ®ï¼æµè®²çæ¯è®¡ç®ï¼â\n\nç¹ç¹ï¼\n\n * Stream èªå·±ä¸ä¼å­å¨åç´ \n\n * Stream ä¸ä¼æ¹åæºå¯¹è±¡ï¼ç¸åï¼ä»ä»¬ä¼è¿åä¸ä¸ªææç»æçæ°Streamã\n\n * Stream æä½æ¯å»¶è¿æ§è¡çãè¿æå³çä»ä»¬ä¼ç­å°éè¦ç»æçæ¶åææ§è¡ã\n\n\n\nä»£ç ä¸¾ä¾\n\nUserå®ä½ç±»\n\npublic class User {\n    private int id;\n    private String userName;\n    private int age;\n    //getãsetãæå/æ åæé å¨ãtoString\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nStreamç®æ³é¢\n\npackage com.oddfar.stream;\n\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\n/**\n * é¢ç®ï¼è¯·æç§ç»åºæ°æ®ï¼æ¾åºåæ¶æ»¡è¶³ä»¥ä¸æ¡ä»¶çç¨æ·\n * ä¹å³ä»¥ä¸æ¡ä»¶ï¼\n * 1ãå¨é¨æ»¡è¶³å¶æ°ID\n * 2ãå¹´é¾å¤§äº24\n * 3ãç¨æ·åè½¬ä¸ºå¤§å\n * 4ãç¨æ·åå­æ¯åæåº\n * 5ãåªè¾åºä¸ä¸ªç¨æ·åå­ limit\n */\npublic class StreamDemo {\n    public static void main(String[] args) {\n        User u1 = new User(11, "a", 23);\n        User u2 = new User(12, "b", 24);\n        User u3 = new User(13, "c", 22);\n        User u4 = new User(14, "d", 28);\n        User u5 = new User(16, "e", 26);\n        List<User> list = Arrays.asList(u1, u2, u3, u4, u5);\n\n        /**\n         * 1. é¦åæä»¬éè¦å° list è½¬åä¸ºstreamæµ\n         * 2. ç¶åå°ç¨æ·è¿æ»¤åºæ¥ï¼è¿éç¨å°ä¸ä¸ªå½æ°å¼æ¥å£ Predicate<? super T>ï¼æä»¬å¯ä»¥ä½¿ç¨lambdaè¡¨è¾¾å¼ç®å\n         * 3. è¿éé¢ä¼ éçåæ°ï¼å°±æ¯Streamæµçæ³åç±»åï¼ä¹å°±æ¯Userï¼æä»¥ï¼è¿éå¯ä»¥ç´æ¥è¿åç¨æ·idä¸ºå¶æ°çç¨æ·ä¿¡æ¯;\n         * 4. éè¿forEachè¿è¡éåï¼ç´æ¥ç®åè¾åº System.out::println\n         */\n        list.stream()\n                .filter(u -> {\n                    return u.getId() % 2 == 0;\n                })\n                .filter(u -> {\n                    return u.getAge() > 24;\n                })\n                .map(u -> {\n                    return u.getUserName().toUpperCase();\n                })\n                //.sorted() //é»è®¤æ­£æåº èªå·±ç¨ compareTo æ¯è¾\n                .sorted((o1, o2) -> {\n                    return o2.compareTo(o1);\n                })\n                .limit(1)\n                .forEach(System.out::println);\n\n\n        // mapè§£éï¼\n        List<Integer> list2 = Arrays.asList(1, 2, 3);\n        list2 = list2.stream().map(x -> {\n            return x * 2;\n        }).collect(Collectors.toList());\n\n        for (Integer element : list2) {\n            System.out.println(element);\n        }\n        \n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n\n\n\n# 14ãåæ¯åå¹¶\n\nä»ä¹æ¯ForkJoin\n\nä»JDK1.7å¼å§ï¼Javaæä¾ Fork/Join æ¡æ¶ç¨äºå¹¶è¡æ§è¡ä»»å¡ï¼å®çææ³å°±æ¯è®²ä¸ä¸ªå¤§ä»»å¡åå²æè¥å¹²å°ä»»å¡ï¼æç»æ±æ»æ¯ä¸ªå°ä»»å¡çç»æå¾å°è¿ä¸ªå¤§ä»»å¡çç»æã\n\nè¿ç§ææ³åMapReduceå¾åï¼input --\x3e split --\x3e map --\x3e reduce --\x3e outputï¼\n\nä¸»è¦æä¸¤æ­¥ï¼\n\n * ç¬¬ä¸ãä»»å¡åå\n * ç¬¬äºãç»æåå¹¶\n\n\n\nå®çæ¨¡åå¤§è´æ¯è¿æ ·çï¼çº¿ç¨æ± ä¸­çæ¯ä¸ªçº¿ç¨é½æèªå·±çå·¥ä½éå\n\nï¼PSï¼è¿ä¸ç¹åThreadPoolExecutor ä¸åï¼ThreadPoolExecutoræ¯ææçº¿ç¨å¬ç¨ä¸ä¸ªå·¥ä½éåï¼ææçº¿ç¨é½ä»è¿ä¸ªå·¥ä½éåä¸­åä»»å¡ï¼\n\nå½ èªå·±éåä¸­çä»»å¡é½å®æä»¥åï¼ä¼ä»å¶å®çº¿ç¨çå·¥ä½éåä¸­å·ä¸ä¸ªä»»å¡æ§è¡ï¼è¿æ ·å¯ä»¥ååå©ç¨èµæºã\n\nå·¥ä½çªå\n\nå¦å¤ï¼forkjoinæä¸ä¸ªå·¥ä½çªåçæ¦å¿µãç®åçè§£ï¼å°±æ¯ä¸ä¸ªå·¥ä½çº¿ç¨ä¸ä¼ç»´æ¤ä¸ä¸ªåå«å¤ä¸ªå­ä»»å¡çåç«¯éåãèå¯¹äºæ¯ä¸ªå·¥ä½çº¿ç¨æ¥è¯´ï¼ä¼ä»å¤´é¨å°å°¾é¨ä¾æ¬¡æ§è¡ä»»å¡ãè¿æ¶ï¼æ»ä¼æä¸äºçº¿ç¨æ§è¡çéåº¦è¾å¿«ï¼å¾å¿«å°±æææä»»å¡æ¶èå®äºãé£è¿ä¸ªæ¶åæä¹åå¢ï¼æ»ä¸è½ç©ºç­çå§ï¼å¤æµªè´¹èµæºåã\n\nå·¥ä½çªåï¼work-stealingï¼ç®æ³æ¯ææä¸ªçº¿ç¨ä»å¶ä»éåéçªåä»»å¡æ¥æ§è¡ãå·¥ä½çªåçè¿è¡æµç¨å¾å¦ä¸ï¼\n\n\n\né£ä¹ä¸ºä»ä¹éè¦ä½¿ç¨å·¥ä½çªåç®æ³å¢ï¼\n\nåå¦æä»¬éè¦åä¸ä¸ªæ¯è¾å¤§çä»»å¡ï¼æä»¬å¯ä»¥æè¿ä¸ªä»»å¡åå²ä¸ºè¥å¹²äºä¸ä¾èµçå­ä»»å¡ï¼ä¸ºäºåå°çº¿ç¨é´çç«äºï¼äºæ¯æè¿äºå­ä»»å¡åå«æ¾å°ä¸åçéåéï¼å¹¶ä¸ºæ¯ä¸ªéååå»ºä¸ä¸ªåç¬ççº¿ç¨æ¥æ§è¡éåéçä»»å¡ï¼çº¿ç¨åéåä¸ä¸å¯¹åºï¼æ¯å¦Açº¿ç¨è´è´£å¤çAéåéçä»»å¡ãä½æ¯æççº¿ç¨ä¼åæèªå·±éåéçä»»å¡å¹²å®ï¼èå¶ä»çº¿ç¨å¯¹åºçéåéè¿æä»»å¡ç­å¾å¤çãå¹²å®æ´»ççº¿ç¨ä¸å¶ç­çï¼ä¸å¦å»å¸®å¶ä»çº¿ç¨å¹²æ´»ï¼äºæ¯å®å°±å»å¶ä»çº¿ç¨çéåéçªåä¸ä¸ªä»»å¡æ¥æ§è¡ãèå¨è¿æ¶å®ä»¬ä¼è®¿é®åä¸ä¸ªéåï¼æä»¥ä¸ºäºåå°çªåä»»å¡çº¿ç¨åè¢«çªåä»»å¡çº¿ç¨ä¹é´çç«äºï¼éå¸¸ä¼ä½¿ç¨åç«¯éåï¼è¢«çªåä»»å¡çº¿ç¨æ°¸è¿ä»åç«¯éåçå¤´é¨æ¿ä»»å¡æ§è¡ï¼èçªåä»»å¡ççº¿ç¨æ°¸è¿ä»åç«¯éåçå°¾é¨æ¿ä»»å¡æ§è¡ã\n\nå·¥ä½çªåç®æ³çä¼ç¹æ¯ååå©ç¨çº¿ç¨è¿è¡å¹¶è¡è®¡ç®ï¼å¹¶åå°äºçº¿ç¨é´çç«äºï¼å¶ç¼ºç¹æ¯å¨æäºæåµä¸è¿æ¯å­å¨ç«äºï¼æ¯å¦åç«¯éåéåªæä¸ä¸ªä»»å¡æ¶ãå¹¶ä¸æ¶èäºæ´å¤çç³»ç»èµæºï¼æ¯å¦åå»ºå¤ä¸ªçº¿ç¨åå¤ä¸ªåç«¯éåã\n\näºæ¯ï¼ååå®ä»»å¡çå·¥ä½çº¿ç¨ä¼ä»å¶ä»æªå®æä»»å¡ççº¿ç¨å°¾é¨ä¾æ¬¡è·åä»»å¡å»æ§è¡ãè¿æ ·å°±å¯ä»¥ååå©ç¨CPUçèµæºãè¿ä¸ªéå¸¸å¥½çè§£ï¼å°±æ¯å¦æä¸ªå¦¹å­ç¨åºååä»»å¡æ¯è¾æ¢ï¼é£ä¹å¶ä»ç¿å°±å¯ä»¥å¸®å¥¹åæä¸ äºä»»å¡ï¼è¿ç®ç´æ¯åèµ¢çå±é¢åï¼å¦¹å­å¼å¿äºï¼ä½ ä¹å¼å¿äºã\n\næ ¸å¿ç±»\n\n1ãForkJoinPool\n\nWorkQueueæ¯ä¸ä¸ªForkJoinPoolä¸­çåé¨ç±»ï¼å®æ¯çº¿ç¨æ± ä¸­çº¿ç¨çå·¥ä½éåçä¸ä¸ªå°è£ï¼æ¯æä»»å¡çªåã\n\nä»ä¹å«çº¿ç¨çä»»å¡çªåå¢ï¼å°±æ¯è¯´ä½ åä½ çä¸ä¸ªä¼ä¼´ä¸èµ·åæ°´æï¼ä½ çé£ä»½åå®äºï¼ä»é£ä»½æ²¡åå®ï¼é£ä½ å°±å·å·çæ¿äºä»çä¸äºæ°´æåäºãå­å¨æ§è¡2ä¸ªä»»å¡çå­çº¿ç¨ï¼è¿éè¦è®²æå­å¨Aï¼Bä¸¤ä¸ªäºã\n\nWorkQueueå¨æ§è¡ä»»å¡ï¼Açä»»å¡æ§è¡å®äºï¼Bçä»»å¡æ²¡æ§è¡å®ï¼é£ä¹AçWorkQueueå°±ä»Bç WorkQueueçForkJoinTaskæ°ç»ä¸­æ¿èµ°äºä¸é¨åå°¾é¨çä»»å¡æ¥æ§è¡ï¼å¯ä»¥åççæé«è¿è¡åè®¡ç®æçã\n\næ¯ä¸ªçº¿ç¨é½æä¸ä¸ªWorkQueueï¼èWorkQueueä¸­ææ§è¡ä»»å¡ççº¿ç¨ï¼ForkJoinWorkerThread ownerï¼ï¼è¿æè¿ä¸ªçº¿ç¨éè¦å¤ççä»»å¡ï¼ForkJoinTask<?>[] arrayï¼ãé£ä¹è¿ä¸ªæ°æäº¤çä»»å¡å°±æ¯å å°arrayä¸­ã\n\n2ãForkJoinTask\n\nForkJoinTaskä»£è¡¨è¿è¡å¨ForkJoinPoolä¸­çä»»å¡ã\n\nä¸»è¦æ¹æ³ï¼\n\n * fork() å¨å½åçº¿ç¨è¿è¡ççº¿ç¨æ± ä¸­å®æä¸ä¸ªå¼æ­¥æ§è¡ãç®åççè§£å°±æ¯ååå»ºä¸ä¸ªå­ä»»å¡\n * join() å½ä»»å¡å®æçæ¶åè¿åè®¡ç®ç»æã\n * invoke() å¼å§æ§è¡ä»»å¡ï¼å¦æå¿è¦ï¼ç­å¾è®¡ç®å®æã\n\nå­ç±»ï¼ Recursive ï¼éå½\n\n * RecursiveAction ä¸ä¸ªéå½æ ç»æçForkJoinTaskï¼æ²¡æè¿åå¼ï¼\n * RecursiveTask ä¸ä¸ªéå½æç»æçForkJoinTaskï¼æè¿åå¼ï¼\n\nä»£ç æµè¯\n\næ ¸å¿ä»£ç ï¼\n\npackage com.oddfar.forkJoin;\n\nimport java.util.concurrent.RecursiveTask;\n\n/**\n * @author zhiyuan\n */\npublic class ForkJoinWork extends RecursiveTask<Long> {\n\n    private Long start;//èµ·å§å¼\n    private Long end;//ç»æå¼\n    public static final Long critical = 10000L;//ä¸´çå¼\n\n    public ForkJoinWork(Long start, Long end) {\n        this.start = start;\n        this.end = end;\n    }\n\n    @Override\n    protected Long compute() {\n        //å¤æ­æ¯å¦æ¯æåå®æ¯\n        Long lenth = end - start;\n        if (lenth <= critical) {\n            //å¦ææåå®æ¯å°±ç¸å \n            Long sum = 0L;\n            for (Long i = start; i <= end; i++) {\n                sum += i;\n            }\n            return sum;\n        } else {\n            //æ²¡ææåå®æ¯å°±å¼å§æå\n            Long middle = (end + start) / 2;//è®¡ç®çä¸¤ä¸ªå¼çä¸­é´å¼\n            ForkJoinWork right = new ForkJoinWork(start, middle);\n            right.fork();//æåï¼å¹¶åå¥çº¿ç¨éå\n            ForkJoinWork left = new ForkJoinWork(middle + 1, end);\n            left.fork();//æåï¼å¹¶åå¥çº¿ç¨éå\n\n            //åå¹¶\n            return right.join() + left.join();\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n\nä¸ç§æµè¯ï¼\n\npackage com.oddfar.forkJoin;\n\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.ForkJoinPool;\nimport java.util.concurrent.ForkJoinTask;\nimport java.util.stream.LongStream;\n\n/**\n * @author zhiyuan\n */\npublic class ForkJoinWorkDemo {\n    public static void main(String[] args) throws ExecutionException, InterruptedException {\n        test1();//  15016\n        test2();//  14694\n        test3();//  216\n\n    }\n\n    // forkjoinè¿ä¸ªæ¡æ¶éå¯¹çæ¯å¤§ä»»å¡æ§è¡ï¼æçæä¼ææ¾ççåºæ¥ææåï¼äºæ¯æææ»æ°è°å¤§å°20äº¿ã\n    public static void test1() throws ExecutionException, InterruptedException {\n\n        //ForkJoinå®ç°\n        long l = System.currentTimeMillis();\n\n        ForkJoinPool forkJoinPool = new ForkJoinPool();//å®ç°ForkJoin å°±å¿é¡»æForkJoinPoolçæ¯æ\n        ForkJoinTask<Long> task = new ForkJoinWork(0L, 2000000000L);//åæ°ä¸ºèµ·å§å¼ä¸ç»æå¼\n        ForkJoinTask<Long> result = forkJoinPool.submit(task);\n        Long aLong = result.get();\n\n        long l1 = System.currentTimeMillis();\n        System.out.println("invoke = " + aLong + " time: " + (l1 - l));\n\n    }\n\n\n    public static void test2() {\n        //æ®éçº¿ç¨å®ç°\n        Long x = 0L;\n        Long y = 20_0000_0000L;\n        long start_time = System.currentTimeMillis();\n        for (Long i = 0L; i <= y; i++) {\n            x += i;\n        }\n        long end_time = System.currentTimeMillis();\n        System.out.println("invoke = " + x + " time: " + (end_time - start_time));\n\n    }\n\n    public static void test3() {\n        //Java 8 å¹¶è¡æµçå®ç°\n        long l = System.currentTimeMillis();\n\n        long reduce = LongStream.rangeClosed(0, 2000000000L).parallel().reduce(0, Long::sum);\n\n        long l1 = System.currentTimeMillis();\n        System.out.println("invoke = " + reduce + " time: " + (l1 - l));\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n\n\næä¸ªæ¯æ¹ï¼åè®¾ä¸ä¸ªéåºæ400ä¸ªæ¿é´ï¼ä¸å±æ4åæ¸æ´å·¥ï¼æ¯ä¸ªå·¥äººæ¯å¤©å¯ä»¥ææ«100ä¸ªæ¿é´ï¼è¿æ ·ï¼4 ä¸ªå·¥äººæ»¡è´è·å·¥ä½æ¶ï¼400ä¸ªæ¿é´å¨é¨ææ«å®æ­£å¥½éè¦1å¤©ã\n\nFork/Joinçå·¥ä½æ¨¡å¼å°±åè¿æ ·ï¼é¦åï¼å·¥äººç²è¢«åéäº400ä¸ªæ¿é´çä»»å¡ï¼ä»ä¸çä»»å¡å¤ªå¤äºèªå·±ä¸ä¸ª äººä¸è¡ï¼æä»¥åæ400ä¸ªæ¿é´ææä¸¤ä¸ª200ï¼ç¶åå«æ¥ä¹ï¼æå¶ä¸­ä¸ä¸ª200åç»ä¹ãç´§æ¥çï¼ç²åä¹ååç°200ä¹æ¯ä¸ªå¤§ä»»å¡ï¼äºæ¯ç²ç»§ç»­æ200åæä¸¤ä¸ª100ï¼å¹¶æå¶ä¸­ä¸ä¸ª100åç»ä¸ï¼ ç±»ä¼¼çï¼ä¹ä¼æå¶ä¸­ä¸ä¸ª100åç»ä¸ï¼è¿æ ·ï¼æç»4ä¸ªäººæ¯äººåå°100ä¸ªæ¿é´ï¼å¹¶åæ§è¡æ­£å¥½æ¯1å¤©ã\n\n\n# 15ãå¼æ­¥åè°\n\næ¦è¿°\n\nFutureè®¾è®¡çåè¡·ï¼å¯¹å°æ¥æä¸ªæ¶å»ä¼åççç»æè¿è¡å»ºæ¨¡ã\n\nå½æä»¬éè¦è°ç¨ä¸ä¸ªå½æ°æ¹æ³æ¶ãå¦æè¿ä¸ªå½æ°æ§è¡å¾æ¢ï¼é£ä¹æä»¬å°±è¦è¿è¡ç­å¾ãä½ææ¶åï¼æä»¬å¯è½å¹¶ä¸æ¥çè¦ç»æãå æ­¤,æä»¬å¯ä»¥è®©è¢«è°ç¨èç«å³è¿å,è®©ä»å¨åå°æ¢æ¢å¤çè¿ä¸ªè¯·æ±ãå¯¹äºè°ç¨èæ¥è¯´,åå¯ä»¥åå¤çä¸äºå¶ä»ä»»å¡,å¨çæ­£éè¦æ°æ®çåºååå»å°è¯è·åéè¦çæ°æ®ã\n\nå®å»ºæ¨¡äºä¸ç§å¼æ­¥è®¡ç®ï¼è¿åä¸ä¸ªæ§è¡è¿ç®ç»æçå¼ç¨ï¼å½è¿ç®ç»æåï¼è¿ä¸ªå¼ç¨è¢«è¿åç»è°ç¨æ¹ãå¨ Future ä¸­åºåé£äºæ½å¨èæ¶çæä½æè°ç¨çº¿ç¨è§£æ¾åºæ¥ï¼è®©å®è½ç»§ç»­æ§è¡å¶ä»æä»·å¼çå·¥ä½ï¼ä¸åéè¦ç­å¾èæ¶çæä½å®æã\n\n**Futureçä¼ç¹ï¼**æ¯æ´åºå±çThreadæ´æç¨ãè¦ä½¿ç¨Futureï¼éå¸¸åªéè¦å°èæ¶çæä½å°è£å¨ä¸ä¸ª Callableå¯¹è±¡ä¸­ï¼åå°å®æäº¤ç»ExecutorServiceã\n\nä¸ºäºè®©ç¨åºæ´å é«æï¼è®©CPUæå¤§æççå·¥ä½ï¼æä»¬ä¼éç¨å¼æ­¥ç¼ç¨ãé¦åæ³å°çæ¯å¼å¯ä¸ä¸ªæ°ççº¿ç¨å»åæé¡¹å·¥ä½ãåè¿ä¸æ­¥ï¼ä¸ºäºè®©æ°çº¿ç¨å¯ä»¥è¿åä¸ä¸ªå¼ï¼åè¯ä¸»çº¿ç¨äºæåå®äºï¼äºæ¯ä¹ Future ç²å¢¨ç»åºãç¶èFutureæä¾çæ¹å¼æ¯ä¸»çº¿ç¨ä¸»å¨é®è¯¢æ°çº¿ç¨ï¼è¦æ¯æä¸ªåè°å½æ°å°±ç½äºãæä»¥ï¼ä¸ºäºæ»¡è¶³ Futureçæäºéæ¾ï¼å¼ºå¤§çCompletableFuture éçJava8ä¸èµ·æ¥äºã\n\n\n\nå®ä¾\n\næ²¡æè¿åå¼ç runAsync å¼æ­¥è°ç¨\n\npackage com.oddfar.future;\n\nimport java.util.concurrent.CompletableFuture;\nimport java.util.concurrent.TimeUnit;\n\n/**\n * @author zhiyuan\n */\npublic class Demo01 {\n    public static void main(String[] args) throws Exception {\n\n        //æ²¡æè¿åå¼ç runAsync å¼æ­¥è°ç¨\n        CompletableFuture<Void> completableFuture = CompletableFuture.runAsync(\n                () -> {\n                    try {\n                        TimeUnit.SECONDS.sleep(2);\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                    int i = 1;\n                    System.out.println(Thread.currentThread().getName() + " æ²¡æè¿å");\n                }\n        );\n\n        System.out.println("111111");\n        completableFuture.get();\n        System.out.println("222222");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\næè¿åå¼ç ä¾ç»ååæ°æ¥å£\n\npublic class Demo02 {\n    public static void main(String[] args) throws Exception {\n        CompletableFuture<Integer> completableFuture = CompletableFuture.supplyAsync(() -> {\n                    System.out.println(Thread.currentThread().getName() + " æè¿åå¼");\n//                    int i = 10 / 0;\n                    return 1024;\n                }\n        );\n\n        Integer res = completableFuture.whenComplete((t, u) -> {\n            //ç¼è¯ å®æï¼æ­£å¸¸ç»æè¾åº\n            System.out.println("===t:" + t); //æ­£å¸¸ç»æ\n            System.out.println("===u:" + u); //æ¥éçä¿¡æ¯\n        }).exceptionally(e -> { //ç»æå¼å¸¸ï¼éæ­£å¸¸ç»æ\n            System.out.println("=======exception:" + e.getMessage());\n            return 555;\n        }).get();\n\n        System.out.println(res);\n    }\n\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# 16ãJMM\n\n * è¯·ä½ è°è°ä½ å¯¹ volatile ççè§£\n\nvolitile æ¯ Java èææºæä¾çè½»éçº§çåæ­¥æºå¶ï¼ä¸å¤§ç¹æ§ï¼\n\n1ãä¿è¯å¯è§æ§\n\n2ãä¸ä¿è¯åå­æ§\n\n3ãç¦æ­¢æä»¤éæ\n\nä»ä¹æ¯JMM\n\nJMM æ¬èº«æ¯ä¸ç§æ½è±¡çæ¦å¿µï¼å¹¶ä¸çå®å­å¨ï¼å®æè¿°çæ¯ä¸ç»è§åæèè§è~\n\nJMM å³äºåæ­¥çè§å®ï¼\n\n1ãçº¿ç¨è§£éåï¼å¿é¡»æå±äº«åéçå¼å·æ°åä¸»åå­\n\n2ãçº¿ç¨å éåï¼å¿é¡»è¯»åä¸»åå­çææ°å¼å°èªå·±çå·¥ä½åå­\n\n3ãå éè§£éæ¯åä¸æé\n\nJMMå³ä¸º JAVA åå­æ¨¡åï¼java memory modelï¼ãå ä¸ºå¨ä¸åçç¡¬ä»¶çäº§ååä¸åçæä½ç³»ç»ä¸ï¼åå­çè®¿é®é»è¾æä¸å®çå·®å¼ï¼ç»æå°±æ¯å½ä½ çä»£ç å¨æä¸ªç³»ç»ç¯å¢ä¸è¿è¡è¯å¥½ï¼å¹¶ä¸çº¿ç¨å®å¨ï¼ä½æ¯æ¢äºä¸ªç³»ç»å°±åºç°åç§é®é¢ãJavaåå­æ¨¡åï¼å°±æ¯ä¸ºäºå±è½ç³»ç»åç¡¬ä»¶çå·®å¼ï¼è®©ä¸å¥ä»£ç å¨ä¸åå¹³å°ä¸è½å°è¾¾ç¸åçè®¿é®ç»æãJMMä»java 5å¼å§çJSR-133åå¸åï¼å·²ç»æçåå®åèµ·æ¥ã\n\nJMMè§å®äºåå­ä¸»è¦ååä¸ºä¸»åå­åå·¥ä½åå­ä¸¤ç§ãæ­¤å¤çä¸»åå­åå·¥ä½åå­è·JVMåå­ååï¼å ã æ ãæ¹æ³åºï¼æ¯å¨ä¸åçå±æ¬¡ä¸è¿è¡çï¼å¦æéè¦å¯¹åºèµ·æ¥ï¼ä¸»åå­å¯¹åºçæ¯Javaå ä¸­çå¯¹è±¡å®ä¾é¨åï¼å·¥ä½åå­å¯¹åºçæ¯æ ä¸­çé¨ååºåï¼ä»æ´åºå±çæ¥è¯´ï¼ä¸»åå­å¯¹åºçæ¯ç¡¬ä»¶çç©çåå­ï¼å·¥ä½åå­å¯¹åºçæ¯å¯å­å¨åé«éç¼å­ã\n\n\n\nJVMå¨è®¾è®¡æ¶åèèå°ï¼å¦æJAVAçº¿ç¨æ¯æ¬¡è¯»åååå¥åéé½ç´æ¥æä½ä¸»åå­ï¼å¯¹æ§è½å½±åæ¯è¾å¤§ï¼æä»¥æ¯æ¡çº¿ç¨æ¥æåèªçå·¥ä½åå­ï¼å·¥ä½åå­ä¸­çåéæ¯ä¸»åå­ä¸­çä¸ä»½æ·è´ï¼çº¿ç¨å¯¹åéçè¯»åååå¥ï¼ç´æ¥å¨å·¥ä½åå­ä¸­æä½ï¼èä¸è½ç´æ¥å»æä½ä¸»åå­ä¸­çåéãä½æ¯è¿æ ·å°±ä¼åºç°ä¸ä¸ªé®é¢ï¼å½ä¸ä¸ªçº¿ç¨ä¿®æ¹äºèªå·±å·¥ä½åå­ä¸­åéï¼å¯¹å¶ä»çº¿ç¨æ¯ä¸å¯è§çï¼ä¼å¯¼è´çº¿ç¨ä¸å®å¨çé®é¢ãå æ­¤ JMM å¶å®äº ä¸å¥æ åæ¥ä¿è¯å¼åèå¨ç¼åå¤çº¿ç¨ç¨åºçæ¶åï¼è½å¤æ§å¶ä»ä¹æ¶ååå­ä¼è¢«åæ­¥ç»å¶ä»çº¿ç¨ã\n\nJMMçåå­æ¨¡å\n\n\n\nçº¿ç¨Aæç¥ä¸å°çº¿ç¨Bæä½äºå¼çååï¼å¦ä½è½å¤ä¿è¯çº¿ç¨é´å¯ä»¥åæ­¥æç¥è¿ä¸ªé®é¢å¢ï¼åªéè¦ä½¿ç¨ Volatileå³é®å­å³å¯ï¼volatile ä¿è¯çº¿ç¨é´åéçå¯è§æ§ï¼ç®åå°è¯´å°±æ¯å½çº¿ç¨Aå¯¹åéXè¿è¡äºä¿®æ¹åï¼ å¨çº¿ç¨Aåé¢æ§è¡çå¶ä»çº¿ç¨è½çå°åéXçåå¨ï¼æ´è¯¦ç»å°è¯´æ¯è¦ç¬¦åä»¥ä¸ä¸¤ä¸ªè§å ï¼\n\n * çº¿ç¨å¯¹åéè¿è¡ä¿®æ¹ä¹åï¼è¦ç«å»ååå°ä¸»åå­ã\n * çº¿ç¨å¯¹åéè¯»åçæ¶åï¼è¦ä»ä¸»åå­ä¸­è¯»ï¼èä¸æ¯ç¼å­ã\n\nåçº¿ç¨çå·¥ä½åå­é´å½¼æ­¤ç¬ç«ï¼äºä¸å¯è§ï¼å¨çº¿ç¨å¯å¨çæ¶åï¼èææºä¸ºæ¯ä¸ªåå­åéä¸åå·¥ä½åå­ï¼ ä¸ä»åå«äºçº¿ç¨åé¨å®ä¹çå±é¨åéï¼ä¹åå«äºçº¿ç¨æéè¦ä½¿ç¨çå±äº«åéï¼éçº¿ç¨åæé çå¯¹è±¡ï¼çå¯æ¬ï¼å³ï¼ä¸ºäºæé«æ§è¡æçã\n\nåå­äº¤äºæä½\n\nåå­äº¤äºæä½æ8ç§ï¼èææºå®ç°å¿é¡»ä¿è¯æ¯ä¸ä¸ªæä½é½æ¯åå­çï¼ä¸å¯å¨åçï¼å¯¹äºdoubleålongç±»åçåéæ¥è¯´ï¼loadãstoreãreadåwriteæä½å¨æäºå¹³å°ä¸åè®¸ä¾å¤ï¼\n\n * lock ï¼éå®ï¼ï¼ä½ç¨äºä¸»åå­çåéï¼æä¸ä¸ªåéæ è¯ä¸ºçº¿ç¨ç¬å ç¶æ\n * unlock ï¼è§£éï¼ï¼ä½ç¨äºä¸»åå­çåéï¼å®æä¸ä¸ªå¤äºéå®ç¶æçåééæ¾åºæ¥ï¼éæ¾åçåéæå¯ä»¥è¢«å¶ä»çº¿ç¨éå®\n * read ï¼è¯»åï¼ï¼ä½ç¨äºä¸»åå­åéï¼å®æä¸ä¸ªåéçå¼ä»ä¸»åå­ä¼ è¾å°çº¿ç¨çå·¥ä½åå­ä¸­ï¼ä»¥ä¾¿éåçloadå¨ä½ä½¿ç¨\n * load ï¼è½½å¥ï¼ï¼ä½ç¨äºå·¥ä½åå­çåéï¼å®æreadæä½ä»ä¸»å­ä¸­åéæ¾å¥å·¥ä½åå­ä¸­\n * use ï¼ä½¿ç¨ï¼ï¼ä½ç¨äºå·¥ä½åå­ä¸­çåéï¼å®æå·¥ä½åå­ä¸­çåéä¼ è¾ç»æ§è¡å¼æï¼æ¯å½èææºéå°ä¸ä¸ªéè¦ä½¿ç¨å°åéçå¼ï¼å°±ä¼ä½¿ç¨å°è¿ä¸ªæä»¤\n * assign ï¼èµå¼ï¼ï¼ä½ç¨äºå·¥ä½åå­ä¸­çåéï¼å®æä¸ä¸ªä»æ§è¡å¼æä¸­æ¥åå°çå¼æ¾å¥å·¥ä½åå­çåéå¯æ¬ä¸­\n * store ï¼å­å¨ï¼ï¼ä½ç¨äºä¸»åå­ä¸­çåéï¼å®æä¸ä¸ªä»å·¥ä½åå­ä¸­ä¸ä¸ªåéçå¼ä¼ éå°ä¸»åå­ä¸­ï¼ä»¥ä¾¿åç»­çwriteä½¿ç¨\n * write ï¼åå¥ï¼ï¼ä½ç¨äºä¸»åå­ä¸­çåéï¼å®æstoreæä½ä»å·¥ä½åå­ä¸­å¾å°çåéçå¼æ¾å¥ä¸»å å­çåéä¸­\n\nJMMå¯¹è¿å«ç§æä»¤çä½¿ç¨ï¼å¶å®äºå¦ä¸è§åï¼\n\n * ä¸åè®¸readåloadãstoreåwriteæä½ä¹ä¸åç¬åºç°ãå³ï¼ä½¿ç¨äºreadå¿é¡»loadï¼ä½¿ç¨äºstoreå¿é¡» write\n * ä¸åè®¸çº¿ç¨ä¸¢å¼ä»æè¿çassignæä½ï¼å³å·¥ä½åéçæ°æ®æ¹åäºä¹åï¼å¿é¡»åç¥ä¸»å­\n * ä¸åè®¸ä¸ä¸ªçº¿ç¨å°æ²¡æassignçæ°æ®ä»å·¥ä½åå­åæ­¥åä¸»åå­\n * ä¸ä¸ªæ°çåéå¿é¡»å¨ä¸»åå­ä¸­è¯çï¼ä¸åè®¸å·¥ä½åå­ç´æ¥ä½¿ç¨ä¸ä¸ªæªè¢«åå§åçåéãå°±æ¯å¯¹åéå®æ½useãstoreæä½ä¹åï¼å¿é¡»ç»è¿assignåloadæä½\n * ä¸ä¸ªåéåä¸æ¶é´åªæä¸ä¸ªçº¿ç¨è½å¯¹å¶è¿è¡lockãå¤æ¬¡lockåï¼å¿é¡»æ§è¡ç¸åæ¬¡æ°çunlockæè½è§£é\n * å¦æå¯¹ä¸ä¸ªåéè¿è¡lockæä½ï¼ä¼æ¸ç©ºææå·¥ä½åå­ä¸­æ­¤åéçå¼ï¼å¨æ§è¡å¼æä½¿ç¨è¿ä¸ªåéåï¼ å¿é¡»éæ°loadæassignæä½åå§ååéçå¼\n * å¦æä¸ä¸ªåéæ²¡æè¢«lockï¼å°±ä¸è½å¯¹å¶è¿è¡unlockæä½ãä¹ä¸è½unlockä¸ä¸ªè¢«å¶ä»çº¿ç¨éä½çåé\n * å¯¹ä¸ä¸ªåéè¿è¡unlockæä½ä¹åï¼å¿é¡»ææ­¤åéåæ­¥åä¸»åå­\n\nJMMå¯¹è¿å«ç§æä½è§ååå¯¹volatileçä¸äºç¹æ®è§åå°±è½ç¡®å®åªéæä½æ¯çº¿ç¨å®å¨ï¼åªäºæä½æ¯çº¿ç¨ä¸ å®å¨çäºãä½æ¯è¿äºè§åå®å¨å¤æï¼å¾é¾å¨å®è·µä¸­ç´æ¥åæãæä»¥ä¸è¬æä»¬ä¹ä¸ä¼éè¿ä¸è¿°è§åè¿è¡å æãæ´å¤çæ¶åï¼ä½¿ç¨javaçhappen-beforeè§åæ¥è¿è¡åæã\n\n * happens-beforeå­é¢ç¿»è¯è¿æ¥å°±æ¯åè¡åçï¼A happens-before B å°±æ¯Aåè¡åçäºBï¼\n\nä¸åç¡®ï¼å¨Javaåå­æ¨¡åä¸­ï¼happens-before åºè¯¥ç¿»è¯æï¼åä¸ä¸ªæä½çç»æå¯ä»¥è¢«åç»­çæä½è·åã è®²ç½ç¹å°±æ¯åé¢ä¸ä¸ªæä½æåéaèµå¼ä¸º1ï¼é£åé¢ä¸ä¸ªæä½è¯å®è½ç¥éaå·²ç»åæäº1ã\n\næä»¬åæ¥ççä¸ºä»ä¹éè¦è¿å æ¡è§åï¼\n\nå ä¸ºæä»¬ç°å¨çµèé½æ¯å¤CPU,å¹¶ä¸é½æç¼å­ï¼å¯¼è´å¤çº¿ç¨ç´æ¥çå¯è§æ§é®é¢ã\n\næä»¥ä¸ºäºè§£å³å¤çº¿ç¨çå¯è§æ§é®é¢ï¼å°±æåºäºhappens-beforeååï¼è®©çº¿ç¨ä¹é´éµå®è¿äºååãç¼è¯å¨ è¿ä¼ä¼åæä»¬çè¯­å¥ï¼æä»¥ç­äºæ¯ç»äºç¼è¯å¨ä¼åççº¦æãä¸è½è®©å®ä¼åçä¸ç¥éä¸åè¥¿åäºï¼\n\n * å¹¶åBugçæºå¤´ï¼https://www.jianshu.com/p/e662bb611360\n\n\n# 17ãvolatile\n\nvolatileæ¯ä¸éçæºå¶ï¼ä½æ¯ä¹ä¸è½ä¿è¯åå­æ§ã\n\n * ä»£ç éªè¯å¯è§æ§\n\npublic class JMMVolatileDemo01 {\n    /**\n     * Volatile ç¨æ¥ä¿è¯æ°æ®çåæ­¥ï¼ä¹å°±æ¯å¯è§æ§\n     * ä¸å  volatile å°±æ²¡æå¯è§æ§ï¼ä¼ä¸ç´å¾ªç¯\n     */\n    private volatile static int num = 0;\n\n    public static void main(String[] args) throws InterruptedException {\n\n        new Thread(() -> {\n            while (num == 0) {\n            }\n        }).start();\n\n        Thread.sleep(1000);\n\n        num = 1;\n        System.out.println(num);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n * éªè¯ volatile ä¸ä¿è¯åå­æ§\n\nåå­æ§çè§£ï¼ä¸å¯åå²ï¼å®æ´æ§ï¼ä¹å°±æ¯æä¸ªçº¿ç¨æ­£å¨åæä¸ªå·ä½çä¸å¡çæ¶åï¼ä¸­é´ä¸å¯ä»¥è¢«å å¡æèè¢«åå²ï¼éè¦æ´ä½å®æ´ï¼è¦ä¹åæ¶æåï¼è¦ä¹åæ¶å¤±è´¥ã\n\npublic class JMMVolatileDemo02 {\n    private volatile static int num = 0;\n\n    public  static void add() {\n        num++;\n    }\n\n    // ç»æåºè¯¥æ¯ num ä¸º 2ä¸ï¼æµè¯çç»æ\n    public static void main(String[] args) throws InterruptedException {\n        for (int i = 1; i <= 20; i++) {\n            new Thread(() -> {\n                for (int j = 1; j <= 1000; j++) {\n                    add();\n                }\n            }, String.valueOf(i)).start();\n        }\n\n        // éè¦ç­å¾ä¸é¢20ä¸ªçº¿ç¨é½å¨é¨è®¡ç®å®æ¯ï¼çæç»ç»æ\n        // é»è®¤ä¸ä¸ª mainçº¿ç¨ ä¸ä¸ª gc çº¿ç¨\n        while (Thread.activeCount() > 2) {\n            Thread.yield();\n        }\n        System.out.println(Thread.currentThread().getName() + " " + num);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\nä¸ºæä»¬ç add æ¹æ³æ²¡æå éï¼å äº volatile ï¼è¯´æ volatile ä¸è½ä¿è¯åå­æ§ï¼\n\nå½ä»¤è¡æ¥çåºå±å­èç ä»£ç ï¼ javap -c JMMVolatileDemo02.class\n\n\n\nnum++ å¨å¤çº¿ç¨ä¸æ¯éçº¿ç¨å®å¨çï¼å¦ä½ä¸å  synchronizedè§£å³ï¼\n\næ¥çåå­åä¸çç±»\n\npublic class JMMVolatileDemo02 {\n    private volatile static AtomicInteger num = new AtomicInteger();\n\n    public static void add() {\n        num.getAndIncrement(); // ç­ä»· num++\n    }\n\n    // ç»æåºè¯¥æ¯ num ä¸º 2ä¸ï¼æµè¯çç»æ\n    public static void main(String[] args) throws InterruptedException {\n        for (int i = 1; i <= 20; i++) {\n            new Thread(() -> {\n                for (int j = 1; j <= 1000; j++) {\n                    add();\n                }\n            }, String.valueOf(i)).start();\n        }\n\n        // éè¦ç­å¾ä¸é¢20ä¸ªçº¿ç¨é½å¨é¨è®¡ç®å®æ¯ï¼çæç»ç»æ\n        // é»è®¤ä¸ä¸ª mainçº¿ç¨ ä¸ä¸ª gc çº¿ç¨\n        while (Thread.activeCount() > 2) {\n            Thread.yield();\n        }\n        System.out.println(Thread.currentThread().getName() + " " + num);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\næä»¤éæ\n\nè®¡ç®æºå¨æ§è¡ç¨åºæ¶ï¼ä¸ºäºæé«æ§è½ï¼ç¼è¯å¨åå¤çå¨çå¸¸å¸¸ä¼å¯¹æä»¤åéæ\n\n\n\nä¸è¬åä»¥ä¸3ç§é®é¢ï¼\n\nåçº¿ç¨ç¯å¢éé¢ç¡®ä¿ç¨åºæç»æ§è¡ç»æåä»£ç é¡ºåºæ§è¡çç»æä¸è´ã\n\nå¤çå¨å¨è¿è¡éæåºæ¶å¿é¡»è¦èèæä»¤ä¹é´çæ°æ®ä¾èµæ§ã\n\nå¤çº¿ç¨ç¯å¢ä¸­çº¿ç¨äº¤æ¿æ§è¡ï¼ç±äºç¼è¯å¨ä¼åéæçå­å¨ï¼ä¸¤ä¸ªçº¿ç¨ä¸­ä½¿ç¨çåéè½å¦ä¿è¯ä¸è´æ§æ¯æ æ³ç¡®å®çï¼ç»ææ æ³é¢æµã\n\næä»¤éææ¯ä»ä¹\n\næä»¤éåå¨CPUæ§è¡æ¶ä¸æ¯ä¸²è¡ç, å½ææ¡æä»¤æ§è¡æ¶æ¶èè¾å¤æ¶é´æ¶, CPUèµæºè¶³å¤æ¶å¹¶ä¸ä¼å¨æ­¤æ æä¹çç­å¾, èæ¯å¼å¯ä¸ä¸ä¸ªæä»¤. å¼å¯ä¸ä¸æ¡æä»¤æ¯ææ¡ä»¶ç, å³ä¸ä¸æ¡æä»¤åä¸ä¸æ¡æä»¤ä¸å­å¨ç¸å³æ§. ä¾å¦ä¸é¢è¿ä¸ªä¾å­:\n\na /= 2;   // æä»¤A\na /= 2;   // æä»¤B\nc++;      // æä»¤C\n\n\n1\n2\n3\n\n\néçæä»¤Bæ¯ä¾èµäºæä»¤Açæ§è¡ç»æç, å¨Aå¤äºæ§è¡é¶æ®µæ¶, Bä¼è¢«é»å¡, ç´å°Aæ§è¡å®æ. èæä»¤Cä¸A/Båæ²¡æä¾èµå³ç³», æä»¥å¨Aæ§è¡æèBæ§è¡çè¿ç¨ä¸­, Cä¼åæ¶è¢«æ§è¡, é£ä¹Cæå¯è½å¨A+Bçæ§è¡è¿ç¨ä¸­å°±æ§è¡å®æ¯äº, è¿æ ·æä»¤éåçå®éæ§è¡é¡ºåºå°±æ¯ C->A->B æè A->C->B.\n\n\n\næä»¤éæå°ç»ï¼\n\nvolatile å®ç°äºç¦æ­¢æä»¤éæä¼åï¼ä»èé¿åå¤çº¿ç¨ç¯å¢ä¸ç¨åºåºç°ä¹±åºæ§è¡çç°è±¡\n\nåäºè§£ä¸ä¸ªæ¦å¿µï¼åå­å±éï¼Memory Barrierï¼åç§°åå­æ æ ï¼æ¯ä¸ä¸ªCPU æä»¤ï¼å®çä½ç¨æä¸¤ä¸ªï¼\n\n1ãä¿è¯ç¹å®æä½çæ§è¡é¡ºåºã\n\n2ãä¿è¯æäºåéçåå­å¯è§æ§ï¼å©ç¨è¯¥ç¹æ§å®ç°volatileçåå­å¯è§æ§ï¼ã\n\nç±äºç¼è¯å¨åå¤çå¨é½è½æ§è¡æä»¤éæä¼åãå¦æå¨æä»¤é´æå¥ä¸æ¡ Memory Barrier åä¼åè¯ç¼è¯å¨åCPUï¼ä¸ç®¡ä»ä¹æä»¤é½ä¸è½åè¿æ¡ Memory Barrier æä»¤éæåºï¼ä¹å°±æ¯è¯´ï¼éè¿æå¥åå­å±éç¦æ­¢å¨åå­å±éååçæä»¤æ§è¡éæåºä¼åãåå­å±éå¦å¤ä¸ä¸ªä½ç¨æ¯å¼ºå¶å·åºåç§CPUçç¼å­æ°æ®ï¼å æ­¤ä»»ä½CPUä¸ççº¿ç¨é½è½è¯»åå°è¿äºæ°æ®çææ°çæ¬ã\n\n\n\nç»è¿ï¼å¯è§æ§ï¼åå­æ§ï¼æä»¤éæçè¯ï¼çº¿ç¨å®å¨æ§è·å¾ä¿è¯ï¼\n\nå¯¹äºæä»¤éæå¯¼è´çå¯è§æ§é®é¢ å æåºæ§é®é¢ï¼å¯ä»¥å©ç¨ volatile å³é®å­è§£å³ï¼å ä¸º volatile çå¦å¤ä¸ ä¸ªä½ç¨å°±æ¯ç¦æ­¢éæåºä¼åã\n\n\n# 18ãåä¾æ¨¡å¼\n\nå¦ä½é²æ­¢åå° ç ´ååä¾æ¨¡å¼ï¼\n\næ¨èéè¯»ï¼åä¾æ¨¡å¼ | èé¸æç¨\n\n\n# é¥¿æ±å¼\n\npublic class Hungry {\n    private Hungry() {\n    }\n\n    private final static Hungry hungry = new Hungry();\n\n    public static Hungry getInstance() {\n        return hungry;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\né¥¿æ±å¼æ¯æç®åçåä¾æ¨¡å¼çåæ³ï¼ä¿è¯äºçº¿ç¨çå®å¨\n\nä½é¥¿æ±å¼ä¼æä¸ç¹å°é®é¢ï¼çä¸é¢çä»£ç ï¼\n\npublic class Hungry {\n    private byte[] data1 = new byte[1024];\n    private byte[] data2 = new byte[1024];\n    private byte[] data3 = new byte[1024];\n    private byte[] data4 = new byte[1024];\n    \n    private Hungry() {\n    }\n\n    private final static Hungry hungry = new Hungry();\n\n    public static Hungry getInstance() {\n        return hungry;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nå¨ Hungry ç±»ä¸­ï¼æå®ä¹äºåä¸ªbyteæ°ç»ï¼å½ä»£ç ä¸è¿è¡ï¼è¿åä¸ªæ°ç»å°±è¢«åå§åï¼å¹¶ä¸æ¾å¥åå­äºï¼å¦æé¿æ¶é´æ²¡æç¨å°getInstanceæ¹æ³ï¼ä¸éè¦Hungryç±»çå¯¹è±¡ï¼è¿ä¸æ¯ä¸ç§æµªè´¹åï¼æå¸æçæ¯åªæç¨ å°äº getInstance æ¹æ³ï¼æä¼å»åå§ååä¾ç±»ï¼æä¼å è½½åä¾ç±»ä¸­çæ°æ®ãæä»¥å°±æäºç¬¬äºç§åä¾æ¨¡å¼ï¼ææ±å¼\n\n\n# ææ±å¼\n\npublic class LazyMan {\n    private LazyMan() {\n        System.out.println(Thread.currentThread().getName() + "Start");\n    }\n\n    private static LazyMan lazyMan;\n\n    public static LazyMan getInstance() {\n        if (lazyMan == null) {\n            lazyMan = new LazyMan();\n        }\n        return lazyMan;\n    }\n\n    // æµè¯å¹¶åç¯å¢ï¼åç°åä¾å¤±æ\n    public static void main(String[] args) {\n        for (int i = 0; i < 10; i++) {\n            new Thread(() -> {\n                LazyMan.getInstance();\n            }).start();\n        }\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\nå¤å ä¸å±æ£æµå¯ä»¥é¿åé®é¢ï¼ä¹å°±æ¯DCLææ±å¼ï¼\n\npublic class LazyMan {\n    private LazyMan() {\n    }\n\n    private static LazyMan lazyMan;\n\n    public static LazyMan getInstance() {\n        if (lazyMan == null) {\n            synchronized (LazyMan.class) {\n                if (lazyMan == null) {\n                    lazyMan = new LazyMan();\n                }\n            }\n        }\n        return lazyMan;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\nDCLææ±å¼çåä¾ï¼ä¿è¯äºçº¿ç¨çå®å¨æ§ï¼åç¬¦åäºæå è½½ï¼åªæå¨ç¨å°çæ¶åï¼æä¼å»åå§åï¼è°ç¨ æçä¹æ¯è¾é«ï¼ä½æ¯è¿ç§åæ³å¨æç«¯æåµè¿æ¯å¯è½ä¼æä¸å®çé®é¢ã\n\nå ä¸º lazyMan = new LazyMan(); ä¸æ¯åå­æ§æä½ï¼è³å°ä¼ç»è¿ä¸ä¸ªæ­¥éª¤ï¼\n\n 1. åéå¯¹è±¡åå­ç©ºé´\n 2. æ§è¡æé æ¹æ³åå§åå¯¹è±¡\n 3. è®¾ç½®instanceæåååéçåå­å°åï¼æ­¤æ¶ instance ï¼=nullï¼\n\nç±äºæä»¤éæï¼å¯¼è´Açº¿ç¨æ§è¡ lazyMan = new LazyMan(); çæ¶åï¼å¯è½åæ§è¡äºç¬¬ä¸æ­¥ï¼è¿æ²¡æ§è¡ç¬¬ äºæ­¥ï¼ï¼ç±äºçº¿ç¨è°åº¦ï¼å½çº¿ç¨Bè¿æ¥æ¶ï¼åç° lazyMan å·²ç»ä¸ä¸ºç©ºäºï¼ç´æ¥è¿åäºlazyManï¼å¹¶ä¸åé¢ä½¿ç¨äºè¿åçlazyManï¼ç±äºçº¿ç¨Aè¿æ²¡ææ§è¡ç¬¬äºæ­¥ï¼å¯¼è´æ­¤æ¶lazyManè¿ä¸å®æ´ï¼å¯è½ä¼æä¸äºææ³ä¸å°çéè¯¯ï¼æä»¥å°±æäºä¸é¢ä¸ç§åä¾æ¨¡å¼ã\n\nè¿ç§åä¾æ¨¡å¼åªæ¯å¨ä¸é¢DCLåä¾æ¨¡å¼å¢å ä¸ä¸ªvolatileå³é®å­æ¥é¿åæä»¤éæï¼\n\npublic class LazyMan {\n    private LazyMan() {\n    }\n\n    private volatile static LazyMan lazyMan;\n\n    public static LazyMan getInstance() {\n        if (lazyMan == null) {\n            synchronized (LazyMan.class) {\n                if (lazyMan == null) {\n                    lazyMan = new LazyMan();\n                }\n            }\n        }\n        return lazyMan;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# éæåé¨ç±»\n\nè¿æè¿ç§æ¹å¼æ¯ç¬¬ä¸ç§é¥¿æ±å¼çæ¹è¿çæ¬ï¼åæ ·ä¹æ¯å¨ç±»ä¸­å®ä¹staticåéçå¯¹è±¡ï¼å¹¶ä¸ç´æ¥åå§åï¼ä¸ è¿æ¯ç§»å°äºéæåé¨ç±»ä¸­ï¼ååå·§å¦ãæ¢ä¿è¯äºçº¿ç¨çå®å¨æ§ï¼åæ¶åæ»¡è¶³äºæå è½½ã\n\npublic class Holder {\n    private Holder() {\n    }\n\n    public static Holder getInstance() {\n        return InnerClass.holder;\n    }\n\n    private static class InnerClass {\n        private static final Holder holder = new Holder();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# ä¸æ¶çåå°\n\nä¸æ¶çåå°ç»åºäºï¼åå°æ¯ä¸ä¸ªæ¯è¾é¸éçä¸è¥¿ï¼æ è§privateä¿®é¥°çæé æ¹æ³ï¼å¯ä»¥ç´æ¥å¨å¤é¢ newInstanceï¼ç ´åæä»¬è¾è¾è¦è¦åçåä¾æ¨¡å¼ã\n\npublic class SingletonPatternDemo {\n    public static void main(String[] args) throws Exception {\n        LazyMan lazyMan1 = LazyMan.getInstance();\n\n        Constructor<LazyMan> declaredConstructor = LazyMan.class.getDeclaredConstructor(null);\n        declaredConstructor.setAccessible(true);\n        LazyMan lazyMan2 = declaredConstructor.newInstance();\n        \n        System.out.println(lazyMan1.hashCode());\n        System.out.println(lazyMan2.hashCode());\n        \n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\næä»¬åå«æå°åºlazyMan1ï¼lazyMan2çhashcodeï¼åç°ä¸ç¸ç­\n\né£ä¹ï¼æä¹è§£å³è¿ç§é®é¢å¢ï¼\n\nå¨ç§æçæé å½æ°ä¸­åä¸ä¸ªå¤æ­ï¼å¦ælazyManä¸ä¸ºç©ºï¼è¯´ælazyManå·²ç»è¢«åå»ºè¿äºï¼å¦ææ­£å¸¸è°ç¨ getInstanceæ¹æ³ï¼æ¯ä¸ä¼åºç°è¿ç§äºæçï¼æä»¥ç´æ¥æåºå¼å¸¸ï¼\n\npublic class LazyMan {\n    private LazyMan() {\n        synchronized (LazyMan.class) {\n            if (lazyMan != null) {\n                throw new RuntimeException("ä¸è¦è¯å¾ç¨åå°ç ´ååä¾æ¨¡å¼");\n            }\n        }\n    }\n\n    private static LazyMan lazyMan;\n\n    public static LazyMan getInstance() {\n        if (lazyMan == null) {\n            synchronized (LazyMan.class) {\n                if (lazyMan == null) {\n                    lazyMan = new LazyMan();\n                }\n            }\n        }\n        return lazyMan;\n    }\n    \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\nä½æ¯è¿ç§åæ³è¿æ¯æé®é¢ï¼\n\nä¸é¢æä»¬æ¯åæ­£å¸¸çè°ç¨äºgetInstanceæ¹æ³ï¼åå»ºäºLazyManå¯¹è±¡ï¼æä»¥ç¬¬äºæ¬¡ç¨åå°åå»ºå¯¹è±¡ï¼ç§ææé å½æ°éé¢çå¤æ­èµ·ä½ç¨äºï¼åå°ç ´ååä¾æ¨¡å¼å¤±è´¥ãä½æ¯å¦æç ´åèå¹²èä¸åè°ç¨getInstanceæ¹ æ³ï¼ä¸ä¸æ¥å°±ç´æ¥ç¨åå°åå»ºå¯¹è±¡ï¼æä»¬çå¤æ­å°±ä¸çæäºï¼\n\né£ä¹å¦ä½é²æ­¢è¿ç§åå°ç ´åå¢ï¼\n\npublic class LazyMan {\n    private static boolean flag = false;\n\n    private LazyMan() {\n        synchronized (LazyMan.class) {\n            if (flag == false) {\n                flag = true;\n            } else {\n                throw new RuntimeException("ä¸è¦è¯å¾ç¨åå°ç ´ååä¾æ¨¡å¼");\n            }\n        }\n    }\n\n    private static LazyMan lazyMan;\n\n    public static LazyMan getInstance() {\n        if (lazyMan == null) {\n            synchronized (LazyMan.class) {\n                if (lazyMan == null) {\n                    lazyMan = new LazyMan();\n                }\n            }\n        }\n        return lazyMan;\n    }\n    \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\nå¨è¿éï¼æå®ä¹äºä¸ä¸ªbooleanåéflagï¼åå§å¼æ¯falseï¼ç§ææé å½æ°éé¢åäºä¸ä¸ªå¤æ­ï¼å¦æ flag=falseï¼å°±æflagæ¹ä¸ºtrueï¼ä½æ¯å¦æflagç­äºtrueï¼å°±è¯´ææé®é¢äºï¼å ä¸ºæ­£å¸¸çè°ç¨æ¯ä¸ä¼ç¬¬äº æ¬¡è·å°ç§ææé æ¹æ³çï¼æä»¥æåºå¼å¸¸ã\n\nçèµ·æ¥å¾ç¾å¥½ï¼ä½æ¯è¿æ¯ä¸è½å®å¨é²æ­¢åå°ç ´ååä¾æ¨¡å¼ï¼å ä¸ºå¯ä»¥å©ç¨åå°ä¿®æ¹flagçå¼ã\n\npublic class SingletonPatternDemo {\n    public static void main(String[] args) throws Exception {\n\n\n        Constructor<LazyMan> declaredConstructor = LazyMan.class.getDeclaredConstructor(null);\n        Field field = LazyMan.class.getDeclaredField("flag");\n        field.setAccessible(true);\n\n        // éè¿åå°å®ä¾åå¯¹è±¡\n        declaredConstructor.setAccessible(true);\n        LazyMan lazyMan1 = declaredConstructor.newInstance();\n        System.out.println(field.get(lazyMan1));\n        System.out.println(lazyMan1.hashCode());\n\n        //éè¿åå°ï¼ä¿®æ¹å­æ®µçå¼ï¼\n        field.set(lazyMan1, false);\n        LazyMan lazyMan2 = declaredConstructor.newInstance();\n        System.out.println(field.get(lazyMan2));\n        System.out.println(lazyMan2.hashCode());\n        \n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\nå¹¶æ²¡æä¸ä¸ªå¾å¥½çæ¹æ¡å»é¿ååå°ç ´ååä¾æ¨¡å¼ï¼æä»¥è½®å°æä»¬çæä¸¾ç»åºäºã\n\n\n# æä¸¾\n\næä¸¾ç±»åæ¯Java 5ä¸­æ°å¢ç¹æ§çä¸é¨åï¼å®æ¯ä¸ç§ç¹æ®çæ°æ®ç±»åï¼ä¹æä»¥ç¹æ®æ¯å ä¸ºå®æ¢æ¯ä¸ç§ç±» (class)ç±»åå´åæ¯ç±»ç±»åå¤äºäºç¹æ®ççº¦æï¼ä½æ¯è¿äºçº¦æçå­å¨ä¹é å°±äºæä¸¾ç±»åçç®æ´æ§ãå®å¨æ§ ä»¥åä¾¿æ·æ§ã\n\npublic enum EnumSingleton {\n\n    INSTANCE;\n    public EnumSingleton getInstance(){\n        return INSTANCE;\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\næä¸¾æ¯ç®åææ¨èçåä¾æ¨¡å¼çåæ³ï¼å ä¸ºè¶³å¤ç®åï¼ä¸éè¦å¼åèªå·±ä¿è¯çº¿ç¨çå®å¨ï¼åæ¶åå¯ä»¥æ æçé²æ­¢åå°ç ´åæä»¬çåä¾æ¨¡å¼\n\n\n# 19ãCAS\n\nCASï¼Conmpare And Swapï¼ : æ¯è¾åäº¤æ¢\n\nJAVA1.5å¼å§å¼å¥äºCASï¼ä¸»è¦ä»£ç é½æ¾å¨JUCçatomicåä¸\n\npublic class CASDemo {\n    public static void main(String[] args) {\n        //çå®å¼ä¸º 5 \n        AtomicInteger atomicInteger = new AtomicInteger(5);\n\n        // ææçæ¯5ï¼åé¢æ¹ä¸º 2020 ï¼ æä»¥ç»æä¸º trueï¼2020\n        atomicInteger.compareAndSet(5, 2020);\n        System.out.println(atomicInteger.get());\n        // ææçæ¯5ï¼åé¢æ¹ä¸º 1024 ï¼ æä»¥ç»æä¸º falseï¼2020\n        System.out.println(atomicInteger.compareAndSet(5, 1024) + "=>" + atomicInteger.get());\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nçå®å¼åææå¼ç¸åï¼å°±ä¿®æ¹æåï¼çå®å¼åææå¼ä¸åï¼å°±ä¿®æ¹å¤±è´¥ï¼\n\nåææºç ï¼å¦ä½å®ç°ç i++ å®å¨çé®é¢ï¼atomicInteger.getAndIncrement();\n\npublic final int getAndIncrement() {\n    // this å½åå¯¹è±¡\n\t// valueOffset åå­åç§»éï¼åå­å°å\n\t// 1\tåºå®åæ­»\n    return unsafe.getAndAddInt(this, valueOffset, 1);\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nè·³è½¬å° unsafe\n\n\n\nä¸è¿ä¸ªç±»ä¸­çæ¹æ³å¤§é¨åé½æ¯ native çæ¹æ³äºï¼\n\n * é®é¢ï¼è¿ä¸ªUnSafeç±»å°åºæ¯ä»ä¹ï¼\n\n1ãUnSafe\n\nUnSafeæ¯ CAS çæ ¸å¿ç±»ï¼ç±äºJavaæ¹æ³æ æ³ç´æ¥è®¿é®åºå±ç³»ç»ï¼éè¦éè¿æ¬å°ï¼nativeï¼æ¹æ³æ¥è®¿é®ï¼ UnSafeç¸å½äºä¸ä¸ªåé¨ï¼åºäºè¯¥ç±»å¯ä»¥ç´æ¥æä½ç¹å®åå­çæ°æ®ï¼Unsafeç±»å­å¨äº sun.misc åä¸­ï¼å¶åé¨æ¹æ³æä½å¯ä»¥åCçæéä¸æ ·ç´æ¥æä½åå­ï¼å ä¸ºJavaä¸­CASæä½çæ§è¡ä¾èµäºUnsafeç±»çæ¹æ³ã\n\n2ãåévalueOffset\n\nè¡¨ç¤ºè¯¥åéå¼å¨åå­ä¸­çåç§»å°åï¼å ä¸ºUnsafeå°±æ¯æ ¹æ®åå­åç§»å°åè·åæ°æ®ç\n\n3ãåé valueç¨volatileä¿®é¥°ï¼ä¿è¯äºå¤çº¿ç¨ä¹é´çåå­å¯è§æ§\n\næåè§£éCAS æ¯ä»ä¹\n\nCAS çå¨ç§°ä¸º Compare-And-Swapï¼å®æ¯ä¸æ¡CPUå¹¶ååè¯­ã\n\nå®çåè½æ¯å¤æ­åå­æä¸ªä½ç½®çå¼æ¯å¦ä¸ºé¢æå¼ï¼å¦ææ¯åæ´æ¹ä¸ºæ°çå¼ï¼è¿ä¸ªè¿ç¨æ¯åå­çã\n\nCASå¹¶ååè¯­ä½ç°å¨JAVAè¯­è¨ä¸­å°±æ¯ sun.misc.Unsafe ç±»ä¸­çåä¸ªæ¹æ³ãè°ç¨ UnSafeç±»ä¸­ç CAS æ¹æ³ï¼ JVMä¼å¸®æä»¬å®ç°åºCASæ±ç¼æä»¤ãè¿æ¯ä¸ç§å®å¨ä¾èµäºç¡¬ä»¶çåè½ï¼éè¿å®å®ç°äºåå­æä½ãåæ¬¡å¼ºè°ï¼ç±äºCASæ¯ä¸ç§ç³»ç»åè¯­ï¼åè¯­å±äºæä½ç³»ç»ç¨äºèç´ï¼æ¯ç±è¥å¹²æ¡æä»¤ç»æçï¼ç¨äºå®ææä¸ªå è½çä¸ä¸ªè¿ç¨ï¼å¹¶ä¸åè¯­çæ§è¡å¿é¡»æ¯è¿ç»­çï¼å¨æ§è¡è¿ç¨ä¸­ä¸åè®¸è¢«ä¸­æ­ï¼ä¹å°±æ¯è¯´CASæ¯ä¸æ¡ CPU çåå­æä»¤ï¼ä¸ä¼é ææè°çæ°æ®ä¸ä¸è´é®é¢ã\n\npublic final int getAndAddInt(Object var1, long var2, int var4) {\n    int var5;\n    do {\n        // è·åä¼ å¥å¯¹è±¡çå°å\n        var5 = this.getIntVolatile(var1, var2);\n        // æ¯è¾å¹¶äº¤æ¢ï¼å¦ævar1ï¼var2 è¿æ¯åæ¥ç var5ï¼å°±æ§è¡åå­åç§»+1ï¼ var5 +var4\n    } while(!this.compareAndSwapInt(var1, var2, var5, var5 + var4));\n\n    return var5;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\næ±ç¼å±é¢çè§£\n\nUnsafe ç±»ä¸­ç compareAndSwapintï¼æ¯ä¸ä¸ªæ¬å°æ¹æ³ï¼è¯¥æ¹æ³çå®ç°ä½äº unsafe.cpp ä¸­ï¼\n\n\n\næ»ç»\n\nCASï¼CompareAndSwapï¼ï¼\n\næ¯è¾å½åå·¥ä½åå­ä¸­çå¼åä¸»åå­ä¸­çå¼ï¼å¦æç¸ååæ§è¡è§å®æä½ï¼å¦åç»§ç»­æ¯è¾ç´å°ä¸»åå­åå·¥ä½åå­ä¸­çå¼ä¸è´ä¸ºæ­¢ã\n\nCAS åºç¨ï¼\n\nCAS æ3ä¸ªæä½æ°ï¼åå­å¼Vï¼æ§çé¢æå¼Aï¼è¦ä¿®æ¹çæ´æ°å¼Bãä¸ä»å½é¢æå¼A å åå­å¼ V ç¸åæ¶ï¼ å°åå­å¼ V ä¿®æ¹ä¸ºBï¼å¦åä»ä¹é½ä¸åã\n\nCAS çç¼ºç¹ï¼\n\n1ãå¾ªç¯æ¶é´é¿å¼éå¾å¤§ã\n\nå¯ä»¥çå°æºç ä¸­å­å¨ ä¸ä¸ª do...while æä½ï¼å¦æCASå¤±è´¥å°±ä¼ä¸ç´è¿è¡å°è¯ã\n\n2ãåªè½ä¿è¯ä¸ä¸ªå±äº«åéçåå­æä½ã\n\nå½å¯¹ä¸ä¸ªå±äº«åéæ§è¡æä½æ¶ï¼æä»¬å¯ä»¥ä½¿ç¨å¾ªç¯CASçæ¹å¼æ¥ä¿è¯åå­æä½ãä½æ¯ï¼å¯¹å¤ä¸ªå±äº«åéæä½æ¶ï¼å¾ªç¯CASå°±æ æ³ä¿è¯æä½çåå­æ§ï¼è¿æ¶åå°±å¯ä»¥ç¨éæ¥ä¿è¯åå­æ§\n\n3ãCASå®ç°çè¿ç¨æ¯åååºåå­ä¸­ææ¶å»çæ°æ®ï¼å¨ä¸ä¸æ¶å»æ¯è¾å¹¶æ¿æ¢ï¼é£ä¹å¨è¿ä¸ªæ¶é´å·®ä¼å¯¼è´æ°æ®çååï¼æ­¤æ¶å°±ä¼å¯¼è´åºç°âABAâé®é¢\n\nä»ä¹æ¯âABAâé®é¢ï¼\n\næ¯å¦è¯´ä¸ä¸ªçº¿ç¨oneä»åå­ä½ç½®Vä¸­ååºAï¼è¿æ¶åå¦ä¸ä¸ªçº¿ç¨twoä¹ä»åå­ä¸­ååºAï¼å¹¶ä¸twoè¿è¡äºä¸äºæä½åæäºBï¼ç¶åtwoåå°Vä½ç½®çæ°æ®åæAï¼è¿æ¶åçº¿ç¨oneè¿è¡CASæä½åç°åå­ä¸­ä»ç¶æ¯Aï¼ç¶åoneæä½æåã\n\nå°½ç®¡çº¿ç¨oneçCASæä½æåï¼ä½æ¯ä¸ä»£è¡¨è¿ä¸ªè¿ç¨å°±æ¯æ²¡æé®é¢çã\n\n\n# 20ãåå­å¼ç¨\n\ndemoï¼\n\npublic class AtomicReferenceDemo {\n    public static void main(String[] args) {\n\n        User zhangsan = new User("zhangsan", 22);\n        User lisi = new User("lisi", 25);\n\n        AtomicReference<User> atomicReference = new AtomicReference<>();\n        atomicReference.set(zhangsan); // è®¾ç½®\n\n        // ææçæ¯zhangsanï¼åé¢æ¹ä¸º lisi ï¼ æä»¥ç»æä¸º trueï¼\n        System.out.print(atomicReference.compareAndSet(zhangsan, lisi)+"=>");\n        System.out.println(atomicReference.get().toString());\n        // ææçæ¯zhangsanï¼åé¢æ¹ä¸º lisi ï¼ æä»¥ç»æä¸º flaseï¼\n        System.out.print(atomicReference.compareAndSet(zhangsan, lisi));\n        System.out.println(atomicReference.get().toString());\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nåå­å¼ç¨ AtomicReference è§£å³ABAé®é¢\n\nè¦è§£å³ABAé®é¢ï¼æä»¬å°±éè¦å ä¸ä¸ªçæ¬å·\n\nçæ¬å·åå­å¼ç¨ï¼ç±»ä¼¼ä¹è§é\n\npublic class ABASaveDemo {\n    static AtomicStampedReference<Integer> atomicStampedReference = new AtomicStampedReference<>(100, 1);\n\n\n    public static void main(String[] args) {\n\n        new Thread(() -> {\n            int stamp = atomicStampedReference.getStamp(); // è·å¾çæ¬å·\n            System.out.println("T1 stamp 01=>" + stamp);\n            // æå2ç§éï¼ä¿è¯ä¸é¢çº¿ç¨è·å¾åå§çæ¬å·\n            try {\n                TimeUnit.SECONDS.sleep(1);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n\n            atomicStampedReference.compareAndSet(100, 101,\n                    atomicStampedReference.getStamp(), atomicStampedReference.getStamp() + 1);\n\n            System.out.println("T1 stamp 02=>" + atomicStampedReference.getStamp());\n\n            atomicStampedReference.compareAndSet(101, 100,\n                    atomicStampedReference.getStamp(), atomicStampedReference.getStamp() + 1);\n\n            System.out.println("T1 stamp 03=>" + atomicStampedReference.getStamp());\n        }, "T1").start();\n\n\n        new Thread(() -> {\n            int stamp = atomicStampedReference.getStamp(); // è·å¾çæ¬å·\n            System.out.println("T2 stamp 01=>" + stamp);\n\t\t\t// æå3ç§éï¼ä¿è¯ä¸é¢çº¿ç¨åæ§è¡\n            try {\n                TimeUnit.SECONDS.sleep(3);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n\n            boolean result = atomicStampedReference.compareAndSet(100, 2019,\n                    stamp, stamp + 1);\n            System.out.println("T2 æ¯å¦ä¿®æ¹æå =>" + result);\n            System.out.println("T2 ææ°stamp =>" + atomicStampedReference.getStamp());\n            System.out.println("T2 å½åçææ°å¼  =>" + atomicStampedReference.getReference());\n        }, "T2").start();\n\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n\n\n\n# 21ãJavaé\n\n\n# å¬å¹³ééå¬å¹³é\n\nå¬å¹³éï¼æ¯æå¤ä¸ªçº¿ç¨æç§ç³è¯·éçé¡ºåºæ¥è·åéï¼ç±»ä¼¼æéæé¥­ï¼åæ¥åå°ã\n\néå¬å¹³éï¼æ¯æå¤ä¸ªçº¿ç¨è·åéçé¡ºåºå¹¶ä¸æ¯æç§ç³è¯·éçé¡ºåºï¼æå¯è½åç³è¯·ççº¿ç¨æ¯ç°ç³è¯·ççº¿ç¨ä¼åè·åéï¼å¨é«å¹¶åçæåµä¸ï¼æå¯è½ä¼é æä¼åçº§åè½¬æèé¥¥é¥¿ç°è±¡ã\n\n// æ å\npublic ReentrantLock() {\n\tsync = new NonfairSync();\n}\n// æå\npublic ReentrantLock(boolean fair) {\n\tsync = fair ? new FairSync() : new NonfairSync();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nä¸¤èåºå«\n\nå¹¶ååä¸­ç ReentrantLock çåå»ºå¯ä»¥æå®æé å½æ°ç boolean ç±»åæ¥å¾å°å¬å¹³éæèéå¬å¹³éï¼é»è®¤æ¯éå¬å¹³éï¼\n\nå¬å¹³éï¼å°±æ¯å¾å¬å¹³ï¼å¨å¹¶åç¯å¢ä¸­ï¼æ¯ä¸ªçº¿ç¨å¨è·åå°éæ¶ä¼åæ¥çæ­¤éç»´æ¤çç­å¾éåï¼å¦æä¸ºç©ºï¼æèå½åçº¿ç¨æ¯ç­å¾éåçç¬¬ä¸ä¸ªï¼å°±å æéï¼å¦åå°±ä¼å å¥å°ç­å¾éåä¸­ï¼ä»¥åä¼æç§FIFOçè§åä»éåä¸­åå°èªå·±ã\n\néå¬å¹³éï¼éå¬å¹³éæ¯è¾ç²é²ï¼ä¸æ¥å°±ç´æ¥å°è¯å æéï¼å¦æå°è¯å¤±è´¥ï¼å°±ä¼éç¨ç±»ä¼¼å¬å¹³éé£ç§æ¹å¼ã\n\nJava ReentrantLock èè¨ï¼éè¿æé å½æ°æå®è¯¥éæ¯å¦æ¯å¬å¹³éï¼é»è®¤æ¯éå¬å¹³éãéå¬å¹³éçä¼ç¹å¨ äºååéæ¯å¬å¹³éå¤§ã\n\nå¯¹äºSynchronizedèè¨ï¼ä¹æ¯ä¸ç§éå¬å¹³éã\n\n\n# å¯éå¥é\n\nå¯éå¥éï¼ä¹å«éå½éï¼\n\næçæ¯åä¸çº¿ç¨å¤å±å½æ°è·å¾éä¹åï¼åå±éå½å½æ°ä»ç¶è½è·åè¯¥éçä»£ç ï¼å¨åä¸ä¸ªçº¿ç¨å¨å¤å±æ¹æ³ è·åéçæ¶åï¼å¨è¿å¥åå±æ¹æ³ä¼èªå¨è·åéã\n\nä¹å°±æ¯è¯´ï¼çº¿ç¨å¯ä»¥è¿å¥ä»»ä½ä¸ä¸ªå®å·²ç»æ¥æçéï¼æåæ­¥ççä»£ç åã å¥½æ¯å®¶éè¿å¥å¤§é¨ä¹åï¼å°±å¯ä»¥è¿å¥éé¢çæ¿é´äºï¼\n\nReentrantLockãSynchronized å°±æ¯ä¸ä¸ªå¸åçå¯éå¥éï¼\n\nå¯éå¥éæå¤§çä½ç¨å°±æ¯é¿åæ­»é\n\næµè¯ä¸ï¼Synchronized\n\npublic class ReentrantLockDemo {\n    public static void main(String[] args) {\n        Phone phone = new Phone();\n        // T1 çº¿ç¨å¨å¤å±è·åéæ¶ï¼ä¹ä¼èªå¨è·åéé¢çé\n        new Thread(() -> {\n            phone.sendSMS();\n        }, "T1").start();\n\n        new Thread(() -> {\n            phone.sendSMS();\n        }, "T2").start();\n\n    }\n}\nclass Phone {\n    public synchronized void sendSMS() {\n        System.out.println(Thread.currentThread().getName() + " sendSMS");\n        sendEmail();\n    }\n\n    public synchronized void sendEmail() {\n        System.out.println(Thread.currentThread().getName() + " sendEmail");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\næµè¯äºï¼ReentrantLock\n\npublic class ReentrantLockDemo {\n    public static void main(String[] args) {\n        Phone phone = new Phone();\n        // T1 çº¿ç¨å¨å¤å±è·åéæ¶ï¼ä¹ä¼èªå¨è·åéé¢çé\n        new Thread(phone, "T1").start();\n        new Thread(phone, "T2").start();\n\n    }\n}\n\nclass Phone implements Runnable {\n\n    Lock lock = new ReentrantLock();\n\n    @Override\n    public void run() {\n        get();\n    }\n\n    public void get() {\n        lock.lock();\n        // lock.lock(); éå¿é¡»å¹éï¼å¦æä¸¤ä¸ªéï¼åªæä¸ä¸ªè§£éå°±ä¼å¤±è´¥\n        try {\n            System.out.println(Thread.currentThread().getName() + " get()");\n            set();\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            lock.unlock();\n            // lock.lock();\n        }\n\n    }\n\n    public void set() {\n        lock.lock();\n        try {\n            System.out.println(Thread.currentThread().getName() + " set()");\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            lock.unlock();\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n\n\n\n# èªæé\n\nèªæéï¼spinlockï¼ï¼æ¯æå°è¯è·åéççº¿ç¨ä¸ä¼ç«å³é»å¡ï¼èæ¯éç¨å¾ªç¯çæ¹å¼å»å°è¯è·åéï¼è¿æ ·çå¥½å¤æ¯åå°çº¿ç¨ä¸ä¸æåæ¢çæ¶èï¼ç¼ºç¹æ¯å¾ªç¯ä¼æ¶èCPUã\n\npublic class SpinLockDemo {\n    // åå­å¼ç¨çº¿ç¨, æ²¡ååæ°ï¼å¼ç¨ç±»åé»è®¤ä¸ºnull\n    AtomicReference<Thread> atomicReference = new AtomicReference<>();\n\n    //ä¸é\n    public void myLock() {\n        Thread thread = Thread.currentThread();\n        System.out.println(Thread.currentThread().getName() + "==>mylock");\n        // èªæ\n        while (!atomicReference.compareAndSet(null, thread)) {\n        }\n    }\n\n    //è§£é\n    public void myUnlock() {\n        Thread thread = Thread.currentThread();\n        atomicReference.compareAndSet(thread, null);\n        System.out.println(Thread.currentThread().getName() + "==>myUnlock");\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        SpinLockDemo spinLockDemo = new SpinLockDemo();\n\n        new Thread(() -> {\n            spinLockDemo.myLock();\n            try {\n                TimeUnit.SECONDS.sleep(4);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            spinLockDemo.myUnlock();\n        }, "T1").start();\n\n        TimeUnit.SECONDS.sleep(1);\n\n        new Thread(() -> {\n            spinLockDemo.myLock();\n\n            try {\n                TimeUnit.SECONDS.sleep(1);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n\n            spinLockDemo.myUnlock();\n        }, "T2").start();\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n\n\n\n# æ­»é\n\næ­»éæ¯æä¸¤ä¸ªæä¸¤ä¸ªä»¥ä¸çè¿ç¨å¨æ§è¡è¿ç¨ä¸­ï¼å äºå¤ºèµæºèé æçä¸ç§äºç¸ç­å¾çç°è±¡ï¼è¥æ å¤åå¹²æ¶é£å®ä»¬é½å°æ æ³æ¨è¿ä¸å»ï¼å¦æç³»ç»èµæºåè¶³ï¼è¿ç¨çèµæºè¯·æ±é½è½å¤å¾å°æ»¡è¶³ï¼æ­»éåºç°çå¯è½æ§å°±å¾ä½ï¼å¦èå°±ä¼å ä¸ºäºå¤ºæéçèµæºèé·å¥æ­»éã\n\n\n\näº§çæ­»éä¸»è¦åå ï¼\n\n1ãç³»ç»èµæºä¸è¶³\n\n2ãè¿ç¨è¿è¡æ¨è¿çé¡ºåºä¸åé\n\n3ãèµæºåéä¸å½\n\næµè¯ï¼\n\npublic class DeadLockDemo {\n    public static void main(String[] args) {\n        String lockA = "lockA";\n        String lockB = "lockB";\n        new Thread(new HoldLockThread(lockA, lockB), "T1").start();\n        new Thread(new HoldLockThread(lockB, lockA), "T2").start();\n    }\n}\n\nclass HoldLockThread implements Runnable {\n    private String lockA;\n    private String lockB;\n\n    public HoldLockThread(String lockA, String lockB) {\n        this.lockA = lockA;\n        this.lockB = lockB;\n    }\n\n    @Override\n    public void run() {\n        synchronized (lockA) {\n\n            System.out.println(Thread.currentThread().getName() + "lock:" + lockA + "=>get" + lockB);\n            try {\n                TimeUnit.SECONDS.sleep(2);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n\n            synchronized (lockB) {\n                System.out.println(Thread.currentThread().getName() + "lock:" + lockB + "=>get" + lockA);\n            }\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\nè§£å³\n\n1ãæ¥çJDKç®å½çbinç®å½\n\n2ãä½¿ç¨ jps -l å½ä»¤å®ä½è¿ç¨å·\n\n3ãä½¿ç¨ jstack è¿ç¨å· æ¾å°æ­»éæ¥ç\n\n',normalizedContent:' * 11ãçº¿ç¨æ± \n   * executorservice\n   * threadpoolexecutor\n * 12ãåå¤§å½æ°å¼æ¥å£\n * 13ãstreamæµå¼è®¡ç®\n * 14ãåæ¯åå¹¶\n * 15ãå¼æ­¥åè°\n * 16ãjmm\n * 17ãvolatile\n * 18ãåä¾æ¨¡å¼\n   * é¥¿æ±å¼\n   * ææ±å¼\n   * éæåé¨ç±»\n   * ä¸æ¶çåå°\n   * æä¸¾\n * 19ãcas\n * 20ãåå­å¼ç¨\n * 21ãjavaé\n   * å¬å¹³ééå¬å¹³é\n   * å¯éå¥é\n   * èªæé\n   * æ­»é\n\n\n\n\n# 11ãçº¿ç¨æ± \n\næ± åææ¯\n\nç¨åºçè¿è¡ï¼å¶æ¬è´¨ä¸ï¼æ¯å¯¹ç³»ç»èµæº(cpuãåå­ãç£çãç½ç»ç­ç­)çä½¿ç¨ãå¦ä½é«æçä½¿ç¨è¿äºèµæº æ¯æä»¬ç¼ç¨ä¼åæ¼è¿çä¸ä¸ªæ¹åãä»å¤©è¯´ççº¿ç¨æ± å°±æ¯ä¸ç§å¯¹cpuå©ç¨çä¼åææ®µã\n\néè¿å­¦ä¹ çº¿ç¨æ± åçï¼æç½æææ± åææ¯çåºæ¬è®¾è®¡æè·¯ãéå°å¶ä»ç¸ä¼¼é®é¢å¯ä»¥è§£å³ã\n\nåé¢æå°ä¸ä¸ªåè¯ââæ± åææ¯ï¼é£ä¹å°åºä»ä¹æ¯æ± åææ¯å¢ ?\n\næ± åææ¯ç®åç¹æ¥è¯´ï¼å°±æ¯æåä¿å­å¤§éçèµæºï¼ä»¥å¤ä¸æ¶ä¹éãå¨æºå¨èµæºæéçæåµä¸ï¼ä½¿ç¨æ± å ææ¯å¯ä»¥å¤§å¤§çæé«èµæºçå©ç¨çï¼æåæ§è½ç­ã\n\nå¨ç¼ç¨é¢åï¼æ¯è¾å¸åçæ± åææ¯æï¼çº¿ç¨æ± ãè¿æ¥æ± ãåå­æ± ãå¯¹è±¡æ± ç­ã\n\næä»¬éè¿åå»ºä¸ä¸ªçº¿ç¨å¯¹è±¡ï¼å¹¶ä¸å®ç°runnableæ¥å£å°±å¯ä»¥å®ç°ä¸ä¸ªç®åççº¿ç¨ãå¯ä»¥å©ç¨ä¸å¤æ ¸ cpuãå½ä¸ä¸ªä»»å¡ç»æï¼å½åçº¿ç¨å°±æ¥æ¶ã\n\nä½å¾å¤æ¶åï¼æä»¬ä¸æ­¢ä¼æ§è¡ä¸ä¸ªä»»å¡ãå¦ææ¯æ¬¡é½æ¯å¦æ­¤çåå»ºçº¿ç¨->æ§è¡ä»»å¡->éæ¯çº¿ç¨ï¼ä¼é æå¾å¤§çæ§è½å¼éã\n\né£è½å¦ä¸ä¸ªçº¿ç¨åå»ºåï¼æ§è¡å®ä¸ä¸ªä»»å¡åï¼åå»æ§è¡å¦ä¸ä¸ªä»»å¡ï¼èä¸æ¯éæ¯ãè¿å°±æ¯çº¿ç¨æ± ã\n\nè¿ä¹å°±æ¯æ± åææ¯çææ³ï¼éè¿é¢ååå»ºå¥½å¤ä¸ªçº¿ç¨ï¼æ¾å¨æ± ä¸­ï¼è¿æ ·å¯ä»¥å¨éè¦ä½¿ç¨çº¿ç¨çæ¶åç´æ¥è·åï¼é¿åå¤æ¬¡éå¤åå»ºãéæ¯å¸¦æ¥çå¼éã\n\nä¸ºä»ä¹ä½¿ç¨çº¿ç¨æ± \n\n10 å¹´ååæ ¸cpuçµèï¼åçå¤çº¿ç¨ï¼åé©¬æå¢å°ä¸ç©å¤ä¸ªç ï¼cpu éè¦æ¥ååæ¢ã\n\nç°å¨æ¯å¤æ ¸çµèï¼å¤ä¸ªçº¿ç¨åèªè·å¨ç¬ç«çcpuä¸ï¼ä¸ç¨åæ¢æçé«ã\n\nçº¿ç¨æ± çä¼å¿ï¼\n\nçº¿ç¨æ± åçå·¥ä½ä¸»è¦æ¯ï¼æ§å¶è¿è¡ççº¿ç¨æ°éï¼å¤çè¿ç¨ä¸­å°ä»»å¡æ¾å¥éåï¼ç¶åå¨çº¿ç¨åå»ºåå¯å¨è¿ äºä»»å¡ï¼å¦æçº¿ç¨æ°éè¶è¿äºæå¤§æ°éï¼è¶åºæ°éççº¿ç¨æéç­åï¼ç­å¶ä»çº¿ç¨æ§è¡å®æ¯ï¼åä»éåä¸­ååºä»»å¡æ¥æ§è¡ã\n\nå®çä¸»è¦ç¹ç¹ä¸ºï¼çº¿ç¨å¤ç¨ï¼æ§å¶æå¤§å¹¶åæ°ï¼ç®¡ççº¿ç¨ã\n\nç¬¬ä¸ï¼éä½èµæºæ¶èï¼éè¿éå¤å©ç¨å·²åå»ºççº¿ç¨éä½çº¿ç¨åå»ºåéæ¯é æçæ¶èã\n\nç¬¬äºï¼æé«ååºéåº¦ãå½ä»»å¡å°è¾¾æ¶ï¼ä»»å¡å¯ä»¥ä¸éè¦ç­å¾çº¿ç¨åå»ºå°±è½ç«å³æ§è¡ã\n\nç¬¬ä¸ï¼æé«çº¿ç¨çå¯ç®¡çæ§ï¼çº¿ç¨æ¯ç¨ç¼ºèµæºï¼å¦ææ éå¶çåå»ºï¼ä¸ä»ä¼æ¶èç³»ç»èµæºï¼è¿ä¼éä½ç³»ç»çç¨³å®æ§ï¼ä½¿ç¨çº¿ç¨æ± å¯ä»¥è¿è¡ç»ä¸åéï¼è°ä¼åçæ§ã\n\n\n# executorservice\n\nçº¿ç¨æ± çä¸å¤§æ¹æ³\n\njavaä¸­ççº¿ç¨æ± æ¯éè¿ executor æ¡æ¶å®ç°çï¼è¯¥æ¡æ¶ä¸­ç¨å°äº executor ï¼executorsï¼ executorserviceï¼threadpoolexecutor è¿å ä¸ªç±»ã\n\n\n\nä¸å¤§æ¹æ³è¯´æï¼\n\n * executors.newfixedthreadpool(int)\n   \n   æ§è¡é¿æä»»å¡æ§è½å¥½ï¼åå»ºä¸ä¸ªçº¿ç¨æ± ï¼ä¸æ± ænä¸ªåºå®ççº¿ç¨ï¼æåºå®çº¿ç¨æ°ççº¿ç¨ã\n\n * executors.newsinglethreadexecutor()\n   \n   åªæä¸ä¸ªçº¿ç¨\n\n * executors.newcachedthreadpool()\n   \n   æ§è¡å¾å¤ç­æå¼æ­¥ä»»å¡ï¼çº¿ç¨æ± æ ¹æ®éè¦åå»ºæ°çº¿ç¨ï¼ä½å¨åæå»ºççº¿ç¨å¯ç¨æ¶å°éç¨ä»ä»¬ã å¯æ©å®¹ï¼éå¼ºåå¼º\n\npublic class mythreadpooldemo {\n    public static void main(string[] args) {\n        /** 1ãæ± å­å¤§å° 5 \n         * æ¨¡ææ10ä¸ªé¡¾å®¢è¿æ¥é¶è¡åçä¸å¡ï¼æ± å­ä¸­åªæ5ä¸ªå·¥ä½äººååçä¸å¡\n         */\n//        executorservice threadpool = executors.newfixedthreadpool(5);\n\n\n        /** 2ãæä¸åªæä¸ä¸ªåºå®ççº¿ç¨\n         * æ¨¡ææ10ä¸ªé¡¾å®¢è¿æ¥é¶è¡åçä¸å¡ï¼æ± å­ä¸­åªæ1ä¸ªå·¥ä½äººååçä¸å¡\n         */\n//        executorservice threadpool =  executors.newsinglethreadexecutor();\n        \n        /**  3ãä¸æ± nçº¿ç¨ï¼å¯æ©å®¹ä¼¸ç¼©\n         * æ¨¡ææ10ä¸ªé¡¾å®¢è¿æ¥é¶è¡åçä¸å¡ï¼æ± å­ä¸­nä¸ªå·¥ä½äººååçä¸å¡\n         */\n        executorservice threadpool = executors.newcachedthreadpool();\n        \n        try {\n            for (int i = 1; i <= 10; i++) {\n                threadpool.execute(() -> {\n                    system.out.println(thread.currentthread().getname() + " åçä¸å¡");\n                });\n            }\n        } catch (exception e) {\n            e.printstacktrace();\n        } finally {\n            threadpool.shutdown(); // ç¨å®è®°å¾å³é­\n        }\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n\n# threadpoolexecutor\n\nthreadpoolexecutor ä¸å¤§åæ°\n\næ¥çä¸å¤§æ¹æ³çè°ç¨æºç ï¼åç°æ¬è´¨é½æ¯è°ç¨äº new threadpoolexecutor ( 7 å¤§åæ° )\n\npublic threadpoolexecutor(int corepoolsize,\n                          int maximumpoolsize,\n                          long keepalivetime,\n                          timeunit unit,\n                          blockingqueue<runnable> workqueue,\n                          threadfactory threadfactory,\n                          rejectedexecutionhandler handler) {\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n1ãcorepollsize\n\næ ¸å¿çº¿ç¨æ°ãå¨åå»ºäºçº¿ç¨æ± åï¼çº¿ç¨ä¸­æ²¡æä»»ä½çº¿ç¨ï¼ç­å°æä»»å¡å°æ¥æ¶æåå»ºçº¿ç¨å»æ§è¡ä»»å¡ãé»è®¤æåµä¸ï¼å¨åå»ºäºçº¿ç¨æ± åï¼çº¿ç¨æ± ä¸­ççº¿ç¨æ°ä¸º0ï¼å½æä»»å¡æ¥ä¹åï¼å°±ä¼åå»ºä¸ä¸ªçº¿ç¨å»æ§è¡ä»»å¡ï¼å½çº¿ç¨æ± ä¸­ççº¿ç¨æ°ç®è¾¾å° corepoolsize åï¼å°±ä¼æå°è¾¾çä»»å¡æ¾å°ç¼å­éåå½ä¸­ã\n\n2ãmaximumpoolsize\n\næå¤§çº¿ç¨æ°ãè¡¨æçº¿ç¨ä¸­æå¤è½å¤åå»ºççº¿ç¨æ°éï¼æ­¤å¼å¿é¡»å¤§äºç­äº1ã\n\n3ãkeepalivetime\n\nç©ºé²ççº¿ç¨ä¿ççæ¶é´ï¼è¾¾å°è¿ä¸ªæ¶é´åï¼èªå¨éæ¾\n\n4ãtimeunit\n\nç©ºé²çº¿ç¨çä¿çæ¶é´åä½ã\n\ntimeunit.days; //å¤©\ntimeunit.hours; //å°æ¶\ntimeunit.minutes; //åé\ntimeunit.seconds; //ç§\ntimeunit.milliseconds; //æ¯«ç§\ntimeunit.microseconds; //å¾®å¦\ntimeunit.nanoseconds; //çº³ç§\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n5ãblockingqueue<runnable> workqueue\n\né»å¡éåï¼å­å¨ç­å¾æ§è¡çä»»å¡ãåæ°æarrayblockingqueueã linkedblockingqueueãsynchronousqueueå¯éã\n\n6ãthreadfactory\n\nçº¿ç¨å·¥åï¼ç¨æ¥åå»ºçº¿ç¨ï¼ä¸è¬é»è®¤å³å¯\n\n7ãrejectedexecutionhandler\n\néåå·²æ»¡ï¼èä¸ä»»å¡éå¤§äºæå¤§çº¿ç¨çå¼å¸¸å¤çç­ç¥ãæä»¥ä¸åå¼\n\nthreadpoolexecutor.abortpolicy:ä¸¢å¼ä»»å¡å¹¶æåºrejectedexecutionexceptionå¼å¸¸ã\nthreadpoolexecutor.discardpolicyï¼ä¹æ¯ä¸¢å¼ä»»å¡ï¼ä½æ¯ä¸æåºå¼å¸¸ã\nthreadpoolexecutor.discardoldestpolicyï¼ä¸¢å¼éåæåé¢çä»»å¡ï¼ç¶åéæ°å°è¯æ§è¡ä»»å¡ï¼éå¤æ­¤è¿ç¨ï¼\nthreadpoolexecutor.callerrunspolicyï¼ç±è°ç¨çº¿ç¨å¤çè¯¥ä»»å¡\n\n\n1\n2\n3\n4\n\n\nthreadpoolexecutorå±å·¥ä½åç\n\n\n\nä¸¾ä¾ï¼8ä¸ªäººè¿é¶è¡åçä¸å¡\n\n1ã1~2äººè¢«åçï¼æ ¸å¿å¤§å°coreï¼\n\n2ã3~5äººè¿å¥éåï¼queueï¼\n\n3ã6~8äººå°æå¤§çº¿ç¨æ± ï¼æ©å®¹å¤§å°maxï¼\n\n4ãåæäººè¿æ¥å°±è¦è¢«æç»ç­ç¥æ¥åäº\n\n\n\n1ãå¨åå»ºäºçº¿ç¨æ± åï¼å¼å§ç­å¾è¯·æ±ã\n\n2ãå½è°ç¨execute()æ¹æ³æ·»å ä¸ä¸ªè¯·æ±ä»»å¡æ¶ï¼çº¿ç¨æ± ä¼ååºå¦ä¸å¤æ­ï¼\n\n * å¦ææ­£å¨è¿è¡ççº¿ç¨æ°éå°äºcorepoolsizeï¼é£ä¹é©¬ä¸åå»ºçº¿ç¨è¿è¡è¿ä¸ªä»»å¡\n * å¦ææ­£å¨è¿è¡ççº¿ç¨æ°éå¤§äºæç­äºcorepoolsizeï¼é£ä¹å°è¿ä¸ªä»»å¡æ¾å¥éå\n * å¦æè¿ä¸ªæ¶åéåæ»¡äºä¸æ­£å¨è¿è¡ççº¿ç¨æ°éè¿å°äºmaximumpoolsizeï¼é£ä¹è¿æ¯è¦åå»ºé æ ¸å¿çº¿ç¨ç«å»è¿è¡è¿ä¸ªä»»å¡\n * å¦æéåæ»¡äºä¸æ­£å¨è¿è¡ççº¿ç¨æ°éå¤§äºæç­äº1sizeï¼é£ä¹çº¿ç¨æ± ä¼å¯å¨é¥±åæç»ç­ç¥æ¥æ§è¡ã\n\n3ãå½ä¸ä¸ªçº¿ç¨å®æä»»å¡æ¶ï¼å®ä¼ä»éåä¸­åä¸ä¸ä¸ªä»»å¡æ¥æ§è¡\n\n4ã å½ä¸ä¸ªçº¿ç¨æ äºå¯åè¶è¿ä¸å®çæ¶é´(keepalivetime)æ¶ï¼çº¿ç¨ä¼å¤æ­ï¼\n\nå¦æå½åè¿è¡ççº¿ç¨æ°å¤§äºcorepollsizeï¼é£ä¹è¿ä¸ªçº¿ç¨å°±è¢«åæã\n\næä»¥çº¿ç¨æ± çææä»»å¡å®æåï¼å®æç»ä¼æ¶ç¼©å° corepoolsize çå¤§å°ã\n\nçº¿ç¨æ± ç¨åªä¸ªï¼çäº§ä¸­å¦ä½è®¾ç½®åçåæ°\n\nexecutors ä¸­ jdk å·²ç»ç»ä½ æä¾äºï¼ä¸ºä»ä¹ä¸ç¨ï¼\n\n\n\nä»£ç æµè¯ï¼\n\nçº¿ç¨æ± çæç»ç­ç¥ï¼\n\nrejectedexecutionhandler rejected = null;\n\n//é»è®¤ï¼éåæ»¡äºä¸¢ä»»å¡ï¼æåºå¼å¸¸\nrejected = new threadpoolexecutor.abortpolicy();\n//éåæ»¡äºä¸¢ä»»å¡ï¼ä¸æåºå¼å¸¸ãå¦æåè®¸ä»»å¡ä¸¢å¤±è¿æ¯æå¥½çã\nrejected = new threadpoolexecutor.discardpolicy();\n//å°ææ©è¿å¥éåçä»»å¡å ï¼ä¹ååå°è¯å å¥éå\nrejected = new threadpoolexecutor.discardoldestpolicy();\n////å¦ææ·»å å°çº¿ç¨æ± å¤±è´¥ï¼é£ä¹ä¸»çº¿ç¨ä¼èªå·±å»æ§è¡è¯¥ä»»å¡ï¼åé\nrejected = new threadpoolexecutor.callerrunspolicy();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\npublic class mythreadpooldemo2 {\n\n    public static void main(string[] args) {\n\n\n        // èªå®ä¹ threadpoolexecutor\n        executorservice threadpool = new threadpoolexecutor(\n                2,\n                runtime.getruntime().availableprocessors(),\n                2l,\n                timeunit.seconds,\n                new linkedblockingdeque<>(3),\n                executors.defaultthreadfactory(),\n                new threadpoolexecutor.discardpolicy());\n        try {\n            // æ¨¡ææ6,7,8,9,10ä¸ªé¡¾å®¢è¿æ¥é¶è¡åçä¸å¡ï¼è§å¯ç»ææåµ\n            // æå¤§å®¹éä¸ºï¼maximumpoolsize + workqueue = æå¤§å®¹éæ°\n            for (int i = 1; i <= 19; i++) {\n                int num = i;\n                threadpool.execute(() -> {\n                    system.out.println(num + " " + thread.currentthread().getname() + " ok");\n                });\n            }\n        } catch (exception e) {\n            e.printstacktrace();\n        } finally {\n            threadpool.shutdown(); // ç¨å®è®°å¾å³é­\n        }\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\nçº¿ç¨æ¯å¦è¶å¤è¶å¥½ï¼\n\nä¸ä¸ªè®¡ç®ä¸ºä¸»çç¨åºï¼ä¸ä¸ä¸ç¹ç§°ä¸ºcpuå¯éåç¨åºï¼ãå¤çº¿ç¨è·çæ¶åï¼å¯ä»¥ååå©ç¨èµ·ææç cpu æ ¸å¿ï¼æ¯å¦è¯´4ä¸ªæ ¸å¿çcpuï¼å¼4ä¸ªçº¿ç¨çæ¶åï¼å¯ä»¥åæ¶è·4ä¸ªçº¿ç¨çè¿ç®ä»»å¡ï¼æ­¤æ¶æ¯æå¤§æçãä½æ¯å¦æçº¿ç¨è¿è¿è¶åºcpuæ ¸å¿æ°éåèä¼ä½¿å¾ä»»å¡æçä¸éï¼å ä¸ºé¢ç¹çåæ¢çº¿ç¨ä¹æ¯è¦æ¶èæ¶é´çãå æ­¤å¯¹äºcpuå¯éåçä»»å¡æ¥è¯´ï¼çº¿ç¨æ°ç­äºcpuæ°æ¯æå¥½çäºã\n\nå¦ææ¯ä¸ä¸ªç£çæç½ç»ä¸ºä¸»çç¨åºï¼ioå¯éåï¼ãä¸ä¸ªçº¿ç¨å¤å¨ioç­å¾çæ¶åï¼å¦ä¸ä¸ªçº¿ç¨è¿å¯ä»¥å¨ cpuéé¢è·ï¼ææ¶åcpué²çæ²¡äºå¹²ï¼ææççº¿ç¨é½å¨ç­çioï¼è¿æ¶åä»ä»¬å°±æ¯åæ¶çäºï¼èåçº¿ç¨çè¯æ­¤æ¶è¿æ¯å¨ä¸ä¸ªä¸ä¸ªç­å¾çãæä»¬é½ç¥éioçéåº¦æ¯èµ·cpuæ¥æ¯æ¢å°ä»¤äººåæçãæä»¥å¼å¤çº¿ç¨ï¼æ¯ æ¹è¯´å¤çº¿ç¨ç½ç»ä¼ è¾ï¼å¤çº¿ç¨å¾ä¸åçç®å½åæä»¶ï¼ç­ç­ãæ­¤æ¶çº¿ç¨æ°ç­äºioä»»å¡æ°æ¯æä½³çã\n\n\n# 12ãåå¤§å½æ°å¼æ¥å£\n\nå¨java.util.functionåä¸ï¼java åç½®æ ¸å¿åå¤§å½æ°å¼æ¥å£ï¼å¯ä»¥ä½¿ç¨lambdaè¡¨è¾¾å¼\n\n\n\nå½æ°åæ¥å£ï¼æä¸ä¸ªè¾å¥ï¼æä¸ä¸ªè¾åº\n\nfunction\n\npackage com.oddfar.function;\n\nimport java.util.function.function;\n\n/**\n * @author zhiyuan\n */\npublic class demo01 {\n    public static void main(string[] args) {\n//        function<string,integer> function = new function<string,integer>() {\n//            @override\n//            public integer apply(string s) {\n//                return s.length();\n//            }\n//        };\n\n        function<string,integer> function = (s)->{return  s.length();};\n\n        system.out.println(function.apply("abc"));\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\næ­å®åæ¥å£ï¼æä¸ä¸ªè¾å¥åæ°ï¼è¿ååªæå¸å°å¼ã\n\npredicate\n\npublic class demo02 {\n    public static void main(string[] args) {\n//        predicate<string> predicate = new predicate<string>() {\n//            @override\n//            public boolean test(string s) {\n//                return s.isempty();\n//            }\n//        };\n        predicate<string> predicate = (s)->{return s.isempty();};\n\n        system.out.println(predicate.test("abc"));\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\næ¶è´¹åæ¥å£ï¼æä¸ä¸ªè¾å¥åæ°ï¼æ²¡æè¿åå¼\n\nconsumer\n\npublic class demo03 {\n    public static void main(string[] args) {\n\n//        consumer<string> consumer = new consumer<string>() {\n//            @override\n//            public void accept(string s) {\n//                system.out.println(s);\n//            }\n//        };\n        consumer<string> consumer = s -> { system.out.println(s); };\n        consumer.accept("abc");\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nä¾ç»åæ¥å£ï¼æ²¡æè¾å¥åæ°ï¼åªæè¿ååæ°\n\nsupplier\n\npublic class demo04 {\n    public static void main(string[] args) {\n//        supplier<string> supplier = new supplier<string>() {\n//            @override\n//            public string get() {\n//                return null;\n//            }\n//        };\n        supplier<string> supplier = () -> { return "abc";};\n        system.out.println(supplier.get());\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# 13ãstreamæµå¼è®¡ç®\n\næµï¼streamï¼å°åºæ¯ä»ä¹å¢ï¼\n\næ¯æ°æ®æ¸ éï¼ç¨äºæä½æ°æ®æºï¼éåãæ°ç»ç­ï¼æçæçåç´ åºåã\n\nâéåè®²çæ¯æ°æ®ï¼æµè®²çæ¯è®¡ç®ï¼â\n\nç¹ç¹ï¼\n\n * stream èªå·±ä¸ä¼å­å¨åç´ \n\n * stream ä¸ä¼æ¹åæºå¯¹è±¡ï¼ç¸åï¼ä»ä»¬ä¼è¿åä¸ä¸ªææç»æçæ°streamã\n\n * stream æä½æ¯å»¶è¿æ§è¡çãè¿æå³çä»ä»¬ä¼ç­å°éè¦ç»æçæ¶åææ§è¡ã\n\n\n\nä»£ç ä¸¾ä¾\n\nuserå®ä½ç±»\n\npublic class user {\n    private int id;\n    private string username;\n    private int age;\n    //getãsetãæå/æ åæé å¨ãtostring\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nstreamç®æ³é¢\n\npackage com.oddfar.stream;\n\nimport java.util.arrays;\nimport java.util.list;\nimport java.util.stream.collectors;\n\n/**\n * é¢ç®ï¼è¯·æç§ç»åºæ°æ®ï¼æ¾åºåæ¶æ»¡è¶³ä»¥ä¸æ¡ä»¶çç¨æ·\n * ä¹å³ä»¥ä¸æ¡ä»¶ï¼\n * 1ãå¨é¨æ»¡è¶³å¶æ°id\n * 2ãå¹´é¾å¤§äº24\n * 3ãç¨æ·åè½¬ä¸ºå¤§å\n * 4ãç¨æ·åå­æ¯åæåº\n * 5ãåªè¾åºä¸ä¸ªç¨æ·åå­ limit\n */\npublic class streamdemo {\n    public static void main(string[] args) {\n        user u1 = new user(11, "a", 23);\n        user u2 = new user(12, "b", 24);\n        user u3 = new user(13, "c", 22);\n        user u4 = new user(14, "d", 28);\n        user u5 = new user(16, "e", 26);\n        list<user> list = arrays.aslist(u1, u2, u3, u4, u5);\n\n        /**\n         * 1. é¦åæä»¬éè¦å° list è½¬åä¸ºstreamæµ\n         * 2. ç¶åå°ç¨æ·è¿æ»¤åºæ¥ï¼è¿éç¨å°ä¸ä¸ªå½æ°å¼æ¥å£ predicate<? super t>ï¼æä»¬å¯ä»¥ä½¿ç¨lambdaè¡¨è¾¾å¼ç®å\n         * 3. è¿éé¢ä¼ éçåæ°ï¼å°±æ¯streamæµçæ³åç±»åï¼ä¹å°±æ¯userï¼æä»¥ï¼è¿éå¯ä»¥ç´æ¥è¿åç¨æ·idä¸ºå¶æ°çç¨æ·ä¿¡æ¯;\n         * 4. éè¿foreachè¿è¡éåï¼ç´æ¥ç®åè¾åº system.out::println\n         */\n        list.stream()\n                .filter(u -> {\n                    return u.getid() % 2 == 0;\n                })\n                .filter(u -> {\n                    return u.getage() > 24;\n                })\n                .map(u -> {\n                    return u.getusername().touppercase();\n                })\n                //.sorted() //é»è®¤æ­£æåº èªå·±ç¨ compareto æ¯è¾\n                .sorted((o1, o2) -> {\n                    return o2.compareto(o1);\n                })\n                .limit(1)\n                .foreach(system.out::println);\n\n\n        // mapè§£éï¼\n        list<integer> list2 = arrays.aslist(1, 2, 3);\n        list2 = list2.stream().map(x -> {\n            return x * 2;\n        }).collect(collectors.tolist());\n\n        for (integer element : list2) {\n            system.out.println(element);\n        }\n        \n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n\n\n\n# 14ãåæ¯åå¹¶\n\nä»ä¹æ¯forkjoin\n\nä»jdk1.7å¼å§ï¼javaæä¾ fork/join æ¡æ¶ç¨äºå¹¶è¡æ§è¡ä»»å¡ï¼å®çææ³å°±æ¯è®²ä¸ä¸ªå¤§ä»»å¡åå²æè¥å¹²å°ä»»å¡ï¼æç»æ±æ»æ¯ä¸ªå°ä»»å¡çç»æå¾å°è¿ä¸ªå¤§ä»»å¡çç»æã\n\nè¿ç§ææ³åmapreduceå¾åï¼input --\x3e split --\x3e map --\x3e reduce --\x3e outputï¼\n\nä¸»è¦æä¸¤æ­¥ï¼\n\n * ç¬¬ä¸ãä»»å¡åå\n * ç¬¬äºãç»æåå¹¶\n\n\n\nå®çæ¨¡åå¤§è´æ¯è¿æ ·çï¼çº¿ç¨æ± ä¸­çæ¯ä¸ªçº¿ç¨é½æèªå·±çå·¥ä½éå\n\nï¼psï¼è¿ä¸ç¹åthreadpoolexecutor ä¸åï¼threadpoolexecutoræ¯ææçº¿ç¨å¬ç¨ä¸ä¸ªå·¥ä½éåï¼ææçº¿ç¨é½ä»è¿ä¸ªå·¥ä½éåä¸­åä»»å¡ï¼\n\nå½ èªå·±éåä¸­çä»»å¡é½å®æä»¥åï¼ä¼ä»å¶å®çº¿ç¨çå·¥ä½éåä¸­å·ä¸ä¸ªä»»å¡æ§è¡ï¼è¿æ ·å¯ä»¥ååå©ç¨èµæºã\n\nå·¥ä½çªå\n\nå¦å¤ï¼forkjoinæä¸ä¸ªå·¥ä½çªåçæ¦å¿µãç®åçè§£ï¼å°±æ¯ä¸ä¸ªå·¥ä½çº¿ç¨ä¸ä¼ç»´æ¤ä¸ä¸ªåå«å¤ä¸ªå­ä»»å¡çåç«¯éåãèå¯¹äºæ¯ä¸ªå·¥ä½çº¿ç¨æ¥è¯´ï¼ä¼ä»å¤´é¨å°å°¾é¨ä¾æ¬¡æ§è¡ä»»å¡ãè¿æ¶ï¼æ»ä¼æä¸äºçº¿ç¨æ§è¡çéåº¦è¾å¿«ï¼å¾å¿«å°±æææä»»å¡æ¶èå®äºãé£è¿ä¸ªæ¶åæä¹åå¢ï¼æ»ä¸è½ç©ºç­çå§ï¼å¤æµªè´¹èµæºåã\n\nå·¥ä½çªåï¼work-stealingï¼ç®æ³æ¯ææä¸ªçº¿ç¨ä»å¶ä»éåéçªåä»»å¡æ¥æ§è¡ãå·¥ä½çªåçè¿è¡æµç¨å¾å¦ä¸ï¼\n\n\n\né£ä¹ä¸ºä»ä¹éè¦ä½¿ç¨å·¥ä½çªåç®æ³å¢ï¼\n\nåå¦æä»¬éè¦åä¸ä¸ªæ¯è¾å¤§çä»»å¡ï¼æä»¬å¯ä»¥æè¿ä¸ªä»»å¡åå²ä¸ºè¥å¹²äºä¸ä¾èµçå­ä»»å¡ï¼ä¸ºäºåå°çº¿ç¨é´çç«äºï¼äºæ¯æè¿äºå­ä»»å¡åå«æ¾å°ä¸åçéåéï¼å¹¶ä¸ºæ¯ä¸ªéååå»ºä¸ä¸ªåç¬ççº¿ç¨æ¥æ§è¡éåéçä»»å¡ï¼çº¿ç¨åéåä¸ä¸å¯¹åºï¼æ¯å¦açº¿ç¨è´è´£å¤çaéåéçä»»å¡ãä½æ¯æççº¿ç¨ä¼åæèªå·±éåéçä»»å¡å¹²å®ï¼èå¶ä»çº¿ç¨å¯¹åºçéåéè¿æä»»å¡ç­å¾å¤çãå¹²å®æ´»ççº¿ç¨ä¸å¶ç­çï¼ä¸å¦å»å¸®å¶ä»çº¿ç¨å¹²æ´»ï¼äºæ¯å®å°±å»å¶ä»çº¿ç¨çéåéçªåä¸ä¸ªä»»å¡æ¥æ§è¡ãèå¨è¿æ¶å®ä»¬ä¼è®¿é®åä¸ä¸ªéåï¼æä»¥ä¸ºäºåå°çªåä»»å¡çº¿ç¨åè¢«çªåä»»å¡çº¿ç¨ä¹é´çç«äºï¼éå¸¸ä¼ä½¿ç¨åç«¯éåï¼è¢«çªåä»»å¡çº¿ç¨æ°¸è¿ä»åç«¯éåçå¤´é¨æ¿ä»»å¡æ§è¡ï¼èçªåä»»å¡ççº¿ç¨æ°¸è¿ä»åç«¯éåçå°¾é¨æ¿ä»»å¡æ§è¡ã\n\nå·¥ä½çªåç®æ³çä¼ç¹æ¯ååå©ç¨çº¿ç¨è¿è¡å¹¶è¡è®¡ç®ï¼å¹¶åå°äºçº¿ç¨é´çç«äºï¼å¶ç¼ºç¹æ¯å¨æäºæåµä¸è¿æ¯å­å¨ç«äºï¼æ¯å¦åç«¯éåéåªæä¸ä¸ªä»»å¡æ¶ãå¹¶ä¸æ¶èäºæ´å¤çç³»ç»èµæºï¼æ¯å¦åå»ºå¤ä¸ªçº¿ç¨åå¤ä¸ªåç«¯éåã\n\näºæ¯ï¼ååå®ä»»å¡çå·¥ä½çº¿ç¨ä¼ä»å¶ä»æªå®æä»»å¡ççº¿ç¨å°¾é¨ä¾æ¬¡è·åä»»å¡å»æ§è¡ãè¿æ ·å°±å¯ä»¥ååå©ç¨cpuçèµæºãè¿ä¸ªéå¸¸å¥½çè§£ï¼å°±æ¯å¦æä¸ªå¦¹å­ç¨åºååä»»å¡æ¯è¾æ¢ï¼é£ä¹å¶ä»ç¿å°±å¯ä»¥å¸®å¥¹åæä¸ äºä»»å¡ï¼è¿ç®ç´æ¯åèµ¢çå±é¢åï¼å¦¹å­å¼å¿äºï¼ä½ ä¹å¼å¿äºã\n\næ ¸å¿ç±»\n\n1ãforkjoinpool\n\nworkqueueæ¯ä¸ä¸ªforkjoinpoolä¸­çåé¨ç±»ï¼å®æ¯çº¿ç¨æ± ä¸­çº¿ç¨çå·¥ä½éåçä¸ä¸ªå°è£ï¼æ¯æä»»å¡çªåã\n\nä»ä¹å«çº¿ç¨çä»»å¡çªåå¢ï¼å°±æ¯è¯´ä½ åä½ çä¸ä¸ªä¼ä¼´ä¸èµ·åæ°´æï¼ä½ çé£ä»½åå®äºï¼ä»é£ä»½æ²¡åå®ï¼é£ä½ å°±å·å·çæ¿äºä»çä¸äºæ°´æåäºãå­å¨æ§è¡2ä¸ªä»»å¡çå­çº¿ç¨ï¼è¿éè¦è®²æå­å¨aï¼bä¸¤ä¸ªäºã\n\nworkqueueå¨æ§è¡ä»»å¡ï¼açä»»å¡æ§è¡å®äºï¼bçä»»å¡æ²¡æ§è¡å®ï¼é£ä¹açworkqueueå°±ä»bç workqueueçforkjointaskæ°ç»ä¸­æ¿èµ°äºä¸é¨åå°¾é¨çä»»å¡æ¥æ§è¡ï¼å¯ä»¥åççæé«è¿è¡åè®¡ç®æçã\n\næ¯ä¸ªçº¿ç¨é½æä¸ä¸ªworkqueueï¼èworkqueueä¸­ææ§è¡ä»»å¡ççº¿ç¨ï¼forkjoinworkerthread ownerï¼ï¼è¿æè¿ä¸ªçº¿ç¨éè¦å¤ççä»»å¡ï¼forkjointask<?>[] arrayï¼ãé£ä¹è¿ä¸ªæ°æäº¤çä»»å¡å°±æ¯å å°arrayä¸­ã\n\n2ãforkjointask\n\nforkjointaskä»£è¡¨è¿è¡å¨forkjoinpoolä¸­çä»»å¡ã\n\nä¸»è¦æ¹æ³ï¼\n\n * fork() å¨å½åçº¿ç¨è¿è¡ççº¿ç¨æ± ä¸­å®æä¸ä¸ªå¼æ­¥æ§è¡ãç®åççè§£å°±æ¯ååå»ºä¸ä¸ªå­ä»»å¡\n * join() å½ä»»å¡å®æçæ¶åè¿åè®¡ç®ç»æã\n * invoke() å¼å§æ§è¡ä»»å¡ï¼å¦æå¿è¦ï¼ç­å¾è®¡ç®å®æã\n\nå­ç±»ï¼ recursive ï¼éå½\n\n * recursiveaction ä¸ä¸ªéå½æ ç»æçforkjointaskï¼æ²¡æè¿åå¼ï¼\n * recursivetask ä¸ä¸ªéå½æç»æçforkjointaskï¼æè¿åå¼ï¼\n\nä»£ç æµè¯\n\næ ¸å¿ä»£ç ï¼\n\npackage com.oddfar.forkjoin;\n\nimport java.util.concurrent.recursivetask;\n\n/**\n * @author zhiyuan\n */\npublic class forkjoinwork extends recursivetask<long> {\n\n    private long start;//èµ·å§å¼\n    private long end;//ç»æå¼\n    public static final long critical = 10000l;//ä¸´çå¼\n\n    public forkjoinwork(long start, long end) {\n        this.start = start;\n        this.end = end;\n    }\n\n    @override\n    protected long compute() {\n        //å¤æ­æ¯å¦æ¯æåå®æ¯\n        long lenth = end - start;\n        if (lenth <= critical) {\n            //å¦ææåå®æ¯å°±ç¸å \n            long sum = 0l;\n            for (long i = start; i <= end; i++) {\n                sum += i;\n            }\n            return sum;\n        } else {\n            //æ²¡ææåå®æ¯å°±å¼å§æå\n            long middle = (end + start) / 2;//è®¡ç®çä¸¤ä¸ªå¼çä¸­é´å¼\n            forkjoinwork right = new forkjoinwork(start, middle);\n            right.fork();//æåï¼å¹¶åå¥çº¿ç¨éå\n            forkjoinwork left = new forkjoinwork(middle + 1, end);\n            left.fork();//æåï¼å¹¶åå¥çº¿ç¨éå\n\n            //åå¹¶\n            return right.join() + left.join();\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n\nä¸ç§æµè¯ï¼\n\npackage com.oddfar.forkjoin;\n\nimport java.util.concurrent.executionexception;\nimport java.util.concurrent.forkjoinpool;\nimport java.util.concurrent.forkjointask;\nimport java.util.stream.longstream;\n\n/**\n * @author zhiyuan\n */\npublic class forkjoinworkdemo {\n    public static void main(string[] args) throws executionexception, interruptedexception {\n        test1();//  15016\n        test2();//  14694\n        test3();//  216\n\n    }\n\n    // forkjoinè¿ä¸ªæ¡æ¶éå¯¹çæ¯å¤§ä»»å¡æ§è¡ï¼æçæä¼ææ¾ççåºæ¥ææåï¼äºæ¯æææ»æ°è°å¤§å°20äº¿ã\n    public static void test1() throws executionexception, interruptedexception {\n\n        //forkjoinå®ç°\n        long l = system.currenttimemillis();\n\n        forkjoinpool forkjoinpool = new forkjoinpool();//å®ç°forkjoin å°±å¿é¡»æforkjoinpoolçæ¯æ\n        forkjointask<long> task = new forkjoinwork(0l, 2000000000l);//åæ°ä¸ºèµ·å§å¼ä¸ç»æå¼\n        forkjointask<long> result = forkjoinpool.submit(task);\n        long along = result.get();\n\n        long l1 = system.currenttimemillis();\n        system.out.println("invoke = " + along + " time: " + (l1 - l));\n\n    }\n\n\n    public static void test2() {\n        //æ®éçº¿ç¨å®ç°\n        long x = 0l;\n        long y = 20_0000_0000l;\n        long start_time = system.currenttimemillis();\n        for (long i = 0l; i <= y; i++) {\n            x += i;\n        }\n        long end_time = system.currenttimemillis();\n        system.out.println("invoke = " + x + " time: " + (end_time - start_time));\n\n    }\n\n    public static void test3() {\n        //java 8 å¹¶è¡æµçå®ç°\n        long l = system.currenttimemillis();\n\n        long reduce = longstream.rangeclosed(0, 2000000000l).parallel().reduce(0, long::sum);\n\n        long l1 = system.currenttimemillis();\n        system.out.println("invoke = " + reduce + " time: " + (l1 - l));\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n\n\næä¸ªæ¯æ¹ï¼åè®¾ä¸ä¸ªéåºæ400ä¸ªæ¿é´ï¼ä¸å±æ4åæ¸æ´å·¥ï¼æ¯ä¸ªå·¥äººæ¯å¤©å¯ä»¥ææ«100ä¸ªæ¿é´ï¼è¿æ ·ï¼4 ä¸ªå·¥äººæ»¡è´è·å·¥ä½æ¶ï¼400ä¸ªæ¿é´å¨é¨ææ«å®æ­£å¥½éè¦1å¤©ã\n\nfork/joinçå·¥ä½æ¨¡å¼å°±åè¿æ ·ï¼é¦åï¼å·¥äººç²è¢«åéäº400ä¸ªæ¿é´çä»»å¡ï¼ä»ä¸çä»»å¡å¤ªå¤äºèªå·±ä¸ä¸ª äººä¸è¡ï¼æä»¥åæ400ä¸ªæ¿é´ææä¸¤ä¸ª200ï¼ç¶åå«æ¥ä¹ï¼æå¶ä¸­ä¸ä¸ª200åç»ä¹ãç´§æ¥çï¼ç²åä¹ååç°200ä¹æ¯ä¸ªå¤§ä»»å¡ï¼äºæ¯ç²ç»§ç»­æ200åæä¸¤ä¸ª100ï¼å¹¶æå¶ä¸­ä¸ä¸ª100åç»ä¸ï¼ ç±»ä¼¼çï¼ä¹ä¼æå¶ä¸­ä¸ä¸ª100åç»ä¸ï¼è¿æ ·ï¼æç»4ä¸ªäººæ¯äººåå°100ä¸ªæ¿é´ï¼å¹¶åæ§è¡æ­£å¥½æ¯1å¤©ã\n\n\n# 15ãå¼æ­¥åè°\n\næ¦è¿°\n\nfutureè®¾è®¡çåè¡·ï¼å¯¹å°æ¥æä¸ªæ¶å»ä¼åççç»æè¿è¡å»ºæ¨¡ã\n\nå½æä»¬éè¦è°ç¨ä¸ä¸ªå½æ°æ¹æ³æ¶ãå¦æè¿ä¸ªå½æ°æ§è¡å¾æ¢ï¼é£ä¹æä»¬å°±è¦è¿è¡ç­å¾ãä½ææ¶åï¼æä»¬å¯è½å¹¶ä¸æ¥çè¦ç»æãå æ­¤,æä»¬å¯ä»¥è®©è¢«è°ç¨èç«å³è¿å,è®©ä»å¨åå°æ¢æ¢å¤çè¿ä¸ªè¯·æ±ãå¯¹äºè°ç¨èæ¥è¯´,åå¯ä»¥åå¤çä¸äºå¶ä»ä»»å¡,å¨çæ­£éè¦æ°æ®çåºååå»å°è¯è·åéè¦çæ°æ®ã\n\nå®å»ºæ¨¡äºä¸ç§å¼æ­¥è®¡ç®ï¼è¿åä¸ä¸ªæ§è¡è¿ç®ç»æçå¼ç¨ï¼å½è¿ç®ç»æåï¼è¿ä¸ªå¼ç¨è¢«è¿åç»è°ç¨æ¹ãå¨ future ä¸­åºåé£äºæ½å¨èæ¶çæä½æè°ç¨çº¿ç¨è§£æ¾åºæ¥ï¼è®©å®è½ç»§ç»­æ§è¡å¶ä»æä»·å¼çå·¥ä½ï¼ä¸åéè¦ç­å¾èæ¶çæä½å®æã\n\n**futureçä¼ç¹ï¼**æ¯æ´åºå±çthreadæ´æç¨ãè¦ä½¿ç¨futureï¼éå¸¸åªéè¦å°èæ¶çæä½å°è£å¨ä¸ä¸ª callableå¯¹è±¡ä¸­ï¼åå°å®æäº¤ç»executorserviceã\n\nä¸ºäºè®©ç¨åºæ´å é«æï¼è®©cpuæå¤§æççå·¥ä½ï¼æä»¬ä¼éç¨å¼æ­¥ç¼ç¨ãé¦åæ³å°çæ¯å¼å¯ä¸ä¸ªæ°ççº¿ç¨å»åæé¡¹å·¥ä½ãåè¿ä¸æ­¥ï¼ä¸ºäºè®©æ°çº¿ç¨å¯ä»¥è¿åä¸ä¸ªå¼ï¼åè¯ä¸»çº¿ç¨äºæåå®äºï¼äºæ¯ä¹ future ç²å¢¨ç»åºãç¶èfutureæä¾çæ¹å¼æ¯ä¸»çº¿ç¨ä¸»å¨é®è¯¢æ°çº¿ç¨ï¼è¦æ¯æä¸ªåè°å½æ°å°±ç½äºãæä»¥ï¼ä¸ºäºæ»¡è¶³ futureçæäºéæ¾ï¼å¼ºå¤§çcompletablefuture éçjava8ä¸èµ·æ¥äºã\n\n\n\nå®ä¾\n\næ²¡æè¿åå¼ç runasync å¼æ­¥è°ç¨\n\npackage com.oddfar.future;\n\nimport java.util.concurrent.completablefuture;\nimport java.util.concurrent.timeunit;\n\n/**\n * @author zhiyuan\n */\npublic class demo01 {\n    public static void main(string[] args) throws exception {\n\n        //æ²¡æè¿åå¼ç runasync å¼æ­¥è°ç¨\n        completablefuture<void> completablefuture = completablefuture.runasync(\n                () -> {\n                    try {\n                        timeunit.seconds.sleep(2);\n                    } catch (interruptedexception e) {\n                        e.printstacktrace();\n                    }\n                    int i = 1;\n                    system.out.println(thread.currentthread().getname() + " æ²¡æè¿å");\n                }\n        );\n\n        system.out.println("111111");\n        completablefuture.get();\n        system.out.println("222222");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\næè¿åå¼ç ä¾ç»ååæ°æ¥å£\n\npublic class demo02 {\n    public static void main(string[] args) throws exception {\n        completablefuture<integer> completablefuture = completablefuture.supplyasync(() -> {\n                    system.out.println(thread.currentthread().getname() + " æè¿åå¼");\n//                    int i = 10 / 0;\n                    return 1024;\n                }\n        );\n\n        integer res = completablefuture.whencomplete((t, u) -> {\n            //ç¼è¯ å®æï¼æ­£å¸¸ç»æè¾åº\n            system.out.println("===t:" + t); //æ­£å¸¸ç»æ\n            system.out.println("===u:" + u); //æ¥éçä¿¡æ¯\n        }).exceptionally(e -> { //ç»æå¼å¸¸ï¼éæ­£å¸¸ç»æ\n            system.out.println("=======exception:" + e.getmessage());\n            return 555;\n        }).get();\n\n        system.out.println(res);\n    }\n\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# 16ãjmm\n\n * è¯·ä½ è°è°ä½ å¯¹ volatile ççè§£\n\nvolitile æ¯ java èææºæä¾çè½»éçº§çåæ­¥æºå¶ï¼ä¸å¤§ç¹æ§ï¼\n\n1ãä¿è¯å¯è§æ§\n\n2ãä¸ä¿è¯åå­æ§\n\n3ãç¦æ­¢æä»¤éæ\n\nä»ä¹æ¯jmm\n\njmm æ¬èº«æ¯ä¸ç§æ½è±¡çæ¦å¿µï¼å¹¶ä¸çå®å­å¨ï¼å®æè¿°çæ¯ä¸ç»è§åæèè§è~\n\njmm å³äºåæ­¥çè§å®ï¼\n\n1ãçº¿ç¨è§£éåï¼å¿é¡»æå±äº«åéçå¼å·æ°åä¸»åå­\n\n2ãçº¿ç¨å éåï¼å¿é¡»è¯»åä¸»åå­çææ°å¼å°èªå·±çå·¥ä½åå­\n\n3ãå éè§£éæ¯åä¸æé\n\njmmå³ä¸º java åå­æ¨¡åï¼java memory modelï¼ãå ä¸ºå¨ä¸åçç¡¬ä»¶çäº§ååä¸åçæä½ç³»ç»ä¸ï¼åå­çè®¿é®é»è¾æä¸å®çå·®å¼ï¼ç»æå°±æ¯å½ä½ çä»£ç å¨æä¸ªç³»ç»ç¯å¢ä¸è¿è¡è¯å¥½ï¼å¹¶ä¸çº¿ç¨å®å¨ï¼ä½æ¯æ¢äºä¸ªç³»ç»å°±åºç°åç§é®é¢ãjavaåå­æ¨¡åï¼å°±æ¯ä¸ºäºå±è½ç³»ç»åç¡¬ä»¶çå·®å¼ï¼è®©ä¸å¥ä»£ç å¨ä¸åå¹³å°ä¸è½å°è¾¾ç¸åçè®¿é®ç»æãjmmä»java 5å¼å§çjsr-133åå¸åï¼å·²ç»æçåå®åèµ·æ¥ã\n\njmmè§å®äºåå­ä¸»è¦ååä¸ºä¸»åå­åå·¥ä½åå­ä¸¤ç§ãæ­¤å¤çä¸»åå­åå·¥ä½åå­è·jvmåå­ååï¼å ã æ ãæ¹æ³åºï¼æ¯å¨ä¸åçå±æ¬¡ä¸è¿è¡çï¼å¦æéè¦å¯¹åºèµ·æ¥ï¼ä¸»åå­å¯¹åºçæ¯javaå ä¸­çå¯¹è±¡å®ä¾é¨åï¼å·¥ä½åå­å¯¹åºçæ¯æ ä¸­çé¨ååºåï¼ä»æ´åºå±çæ¥è¯´ï¼ä¸»åå­å¯¹åºçæ¯ç¡¬ä»¶çç©çåå­ï¼å·¥ä½åå­å¯¹åºçæ¯å¯å­å¨åé«éç¼å­ã\n\n\n\njvmå¨è®¾è®¡æ¶åèèå°ï¼å¦æjavaçº¿ç¨æ¯æ¬¡è¯»åååå¥åéé½ç´æ¥æä½ä¸»åå­ï¼å¯¹æ§è½å½±åæ¯è¾å¤§ï¼æä»¥æ¯æ¡çº¿ç¨æ¥æåèªçå·¥ä½åå­ï¼å·¥ä½åå­ä¸­çåéæ¯ä¸»åå­ä¸­çä¸ä»½æ·è´ï¼çº¿ç¨å¯¹åéçè¯»åååå¥ï¼ç´æ¥å¨å·¥ä½åå­ä¸­æä½ï¼èä¸è½ç´æ¥å»æä½ä¸»åå­ä¸­çåéãä½æ¯è¿æ ·å°±ä¼åºç°ä¸ä¸ªé®é¢ï¼å½ä¸ä¸ªçº¿ç¨ä¿®æ¹äºèªå·±å·¥ä½åå­ä¸­åéï¼å¯¹å¶ä»çº¿ç¨æ¯ä¸å¯è§çï¼ä¼å¯¼è´çº¿ç¨ä¸å®å¨çé®é¢ãå æ­¤ jmm å¶å®äº ä¸å¥æ åæ¥ä¿è¯å¼åèå¨ç¼åå¤çº¿ç¨ç¨åºçæ¶åï¼è½å¤æ§å¶ä»ä¹æ¶ååå­ä¼è¢«åæ­¥ç»å¶ä»çº¿ç¨ã\n\njmmçåå­æ¨¡å\n\n\n\nçº¿ç¨aæç¥ä¸å°çº¿ç¨bæä½äºå¼çååï¼å¦ä½è½å¤ä¿è¯çº¿ç¨é´å¯ä»¥åæ­¥æç¥è¿ä¸ªé®é¢å¢ï¼åªéè¦ä½¿ç¨ volatileå³é®å­å³å¯ï¼volatile ä¿è¯çº¿ç¨é´åéçå¯è§æ§ï¼ç®åå°è¯´å°±æ¯å½çº¿ç¨aå¯¹åéxè¿è¡äºä¿®æ¹åï¼ å¨çº¿ç¨aåé¢æ§è¡çå¶ä»çº¿ç¨è½çå°åéxçåå¨ï¼æ´è¯¦ç»å°è¯´æ¯è¦ç¬¦åä»¥ä¸ä¸¤ä¸ªè§å ï¼\n\n * çº¿ç¨å¯¹åéè¿è¡ä¿®æ¹ä¹åï¼è¦ç«å»ååå°ä¸»åå­ã\n * çº¿ç¨å¯¹åéè¯»åçæ¶åï¼è¦ä»ä¸»åå­ä¸­è¯»ï¼èä¸æ¯ç¼å­ã\n\nåçº¿ç¨çå·¥ä½åå­é´å½¼æ­¤ç¬ç«ï¼äºä¸å¯è§ï¼å¨çº¿ç¨å¯å¨çæ¶åï¼èææºä¸ºæ¯ä¸ªåå­åéä¸åå·¥ä½åå­ï¼ ä¸ä»åå«äºçº¿ç¨åé¨å®ä¹çå±é¨åéï¼ä¹åå«äºçº¿ç¨æéè¦ä½¿ç¨çå±äº«åéï¼éçº¿ç¨åæé çå¯¹è±¡ï¼çå¯æ¬ï¼å³ï¼ä¸ºäºæé«æ§è¡æçã\n\nåå­äº¤äºæä½\n\nåå­äº¤äºæä½æ8ç§ï¼èææºå®ç°å¿é¡»ä¿è¯æ¯ä¸ä¸ªæä½é½æ¯åå­çï¼ä¸å¯å¨åçï¼å¯¹äºdoubleålongç±»åçåéæ¥è¯´ï¼loadãstoreãreadåwriteæä½å¨æäºå¹³å°ä¸åè®¸ä¾å¤ï¼\n\n * lock ï¼éå®ï¼ï¼ä½ç¨äºä¸»åå­çåéï¼æä¸ä¸ªåéæ è¯ä¸ºçº¿ç¨ç¬å ç¶æ\n * unlock ï¼è§£éï¼ï¼ä½ç¨äºä¸»åå­çåéï¼å®æä¸ä¸ªå¤äºéå®ç¶æçåééæ¾åºæ¥ï¼éæ¾åçåéæå¯ä»¥è¢«å¶ä»çº¿ç¨éå®\n * read ï¼è¯»åï¼ï¼ä½ç¨äºä¸»åå­åéï¼å®æä¸ä¸ªåéçå¼ä»ä¸»åå­ä¼ è¾å°çº¿ç¨çå·¥ä½åå­ä¸­ï¼ä»¥ä¾¿éåçloadå¨ä½ä½¿ç¨\n * load ï¼è½½å¥ï¼ï¼ä½ç¨äºå·¥ä½åå­çåéï¼å®æreadæä½ä»ä¸»å­ä¸­åéæ¾å¥å·¥ä½åå­ä¸­\n * use ï¼ä½¿ç¨ï¼ï¼ä½ç¨äºå·¥ä½åå­ä¸­çåéï¼å®æå·¥ä½åå­ä¸­çåéä¼ è¾ç»æ§è¡å¼æï¼æ¯å½èææºéå°ä¸ä¸ªéè¦ä½¿ç¨å°åéçå¼ï¼å°±ä¼ä½¿ç¨å°è¿ä¸ªæä»¤\n * assign ï¼èµå¼ï¼ï¼ä½ç¨äºå·¥ä½åå­ä¸­çåéï¼å®æä¸ä¸ªä»æ§è¡å¼æä¸­æ¥åå°çå¼æ¾å¥å·¥ä½åå­çåéå¯æ¬ä¸­\n * store ï¼å­å¨ï¼ï¼ä½ç¨äºä¸»åå­ä¸­çåéï¼å®æä¸ä¸ªä»å·¥ä½åå­ä¸­ä¸ä¸ªåéçå¼ä¼ éå°ä¸»åå­ä¸­ï¼ä»¥ä¾¿åç»­çwriteä½¿ç¨\n * write ï¼åå¥ï¼ï¼ä½ç¨äºä¸»åå­ä¸­çåéï¼å®æstoreæä½ä»å·¥ä½åå­ä¸­å¾å°çåéçå¼æ¾å¥ä¸»å å­çåéä¸­\n\njmmå¯¹è¿å«ç§æä»¤çä½¿ç¨ï¼å¶å®äºå¦ä¸è§åï¼\n\n * ä¸åè®¸readåloadãstoreåwriteæä½ä¹ä¸åç¬åºç°ãå³ï¼ä½¿ç¨äºreadå¿é¡»loadï¼ä½¿ç¨äºstoreå¿é¡» write\n * ä¸åè®¸çº¿ç¨ä¸¢å¼ä»æè¿çassignæä½ï¼å³å·¥ä½åéçæ°æ®æ¹åäºä¹åï¼å¿é¡»åç¥ä¸»å­\n * ä¸åè®¸ä¸ä¸ªçº¿ç¨å°æ²¡æassignçæ°æ®ä»å·¥ä½åå­åæ­¥åä¸»åå­\n * ä¸ä¸ªæ°çåéå¿é¡»å¨ä¸»åå­ä¸­è¯çï¼ä¸åè®¸å·¥ä½åå­ç´æ¥ä½¿ç¨ä¸ä¸ªæªè¢«åå§åçåéãå°±æ¯å¯¹åéå®æ½useãstoreæä½ä¹åï¼å¿é¡»ç»è¿assignåloadæä½\n * ä¸ä¸ªåéåä¸æ¶é´åªæä¸ä¸ªçº¿ç¨è½å¯¹å¶è¿è¡lockãå¤æ¬¡lockåï¼å¿é¡»æ§è¡ç¸åæ¬¡æ°çunlockæè½è§£é\n * å¦æå¯¹ä¸ä¸ªåéè¿è¡lockæä½ï¼ä¼æ¸ç©ºææå·¥ä½åå­ä¸­æ­¤åéçå¼ï¼å¨æ§è¡å¼æä½¿ç¨è¿ä¸ªåéåï¼ å¿é¡»éæ°loadæassignæä½åå§ååéçå¼\n * å¦æä¸ä¸ªåéæ²¡æè¢«lockï¼å°±ä¸è½å¯¹å¶è¿è¡unlockæä½ãä¹ä¸è½unlockä¸ä¸ªè¢«å¶ä»çº¿ç¨éä½çåé\n * å¯¹ä¸ä¸ªåéè¿è¡unlockæä½ä¹åï¼å¿é¡»ææ­¤åéåæ­¥åä¸»åå­\n\njmmå¯¹è¿å«ç§æä½è§ååå¯¹volatileçä¸äºç¹æ®è§åå°±è½ç¡®å®åªéæä½æ¯çº¿ç¨å®å¨ï¼åªäºæä½æ¯çº¿ç¨ä¸ å®å¨çäºãä½æ¯è¿äºè§åå®å¨å¤æï¼å¾é¾å¨å®è·µä¸­ç´æ¥åæãæä»¥ä¸è¬æä»¬ä¹ä¸ä¼éè¿ä¸è¿°è§åè¿è¡å æãæ´å¤çæ¶åï¼ä½¿ç¨javaçhappen-beforeè§åæ¥è¿è¡åæã\n\n * happens-beforeå­é¢ç¿»è¯è¿æ¥å°±æ¯åè¡åçï¼a happens-before b å°±æ¯aåè¡åçäºbï¼\n\nä¸åç¡®ï¼å¨javaåå­æ¨¡åä¸­ï¼happens-before åºè¯¥ç¿»è¯æï¼åä¸ä¸ªæä½çç»æå¯ä»¥è¢«åç»­çæä½è·åã è®²ç½ç¹å°±æ¯åé¢ä¸ä¸ªæä½æåéaèµå¼ä¸º1ï¼é£åé¢ä¸ä¸ªæä½è¯å®è½ç¥éaå·²ç»åæäº1ã\n\næä»¬åæ¥ççä¸ºä»ä¹éè¦è¿å æ¡è§åï¼\n\nå ä¸ºæä»¬ç°å¨çµèé½æ¯å¤cpu,å¹¶ä¸é½æç¼å­ï¼å¯¼è´å¤çº¿ç¨ç´æ¥çå¯è§æ§é®é¢ã\n\næä»¥ä¸ºäºè§£å³å¤çº¿ç¨çå¯è§æ§é®é¢ï¼å°±æåºäºhappens-beforeååï¼è®©çº¿ç¨ä¹é´éµå®è¿äºååãç¼è¯å¨ è¿ä¼ä¼åæä»¬çè¯­å¥ï¼æä»¥ç­äºæ¯ç»äºç¼è¯å¨ä¼åççº¦æãä¸è½è®©å®ä¼åçä¸ç¥éä¸åè¥¿åäºï¼\n\n * å¹¶åbugçæºå¤´ï¼https://www.jianshu.com/p/e662bb611360\n\n\n# 17ãvolatile\n\nvolatileæ¯ä¸éçæºå¶ï¼ä½æ¯ä¹ä¸è½ä¿è¯åå­æ§ã\n\n * ä»£ç éªè¯å¯è§æ§\n\npublic class jmmvolatiledemo01 {\n    /**\n     * volatile ç¨æ¥ä¿è¯æ°æ®çåæ­¥ï¼ä¹å°±æ¯å¯è§æ§\n     * ä¸å  volatile å°±æ²¡æå¯è§æ§ï¼ä¼ä¸ç´å¾ªç¯\n     */\n    private volatile static int num = 0;\n\n    public static void main(string[] args) throws interruptedexception {\n\n        new thread(() -> {\n            while (num == 0) {\n            }\n        }).start();\n\n        thread.sleep(1000);\n\n        num = 1;\n        system.out.println(num);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n * éªè¯ volatile ä¸ä¿è¯åå­æ§\n\nåå­æ§çè§£ï¼ä¸å¯åå²ï¼å®æ´æ§ï¼ä¹å°±æ¯æä¸ªçº¿ç¨æ­£å¨åæä¸ªå·ä½çä¸å¡çæ¶åï¼ä¸­é´ä¸å¯ä»¥è¢«å å¡æèè¢«åå²ï¼éè¦æ´ä½å®æ´ï¼è¦ä¹åæ¶æåï¼è¦ä¹åæ¶å¤±è´¥ã\n\npublic class jmmvolatiledemo02 {\n    private volatile static int num = 0;\n\n    public  static void add() {\n        num++;\n    }\n\n    // ç»æåºè¯¥æ¯ num ä¸º 2ä¸ï¼æµè¯çç»æ\n    public static void main(string[] args) throws interruptedexception {\n        for (int i = 1; i <= 20; i++) {\n            new thread(() -> {\n                for (int j = 1; j <= 1000; j++) {\n                    add();\n                }\n            }, string.valueof(i)).start();\n        }\n\n        // éè¦ç­å¾ä¸é¢20ä¸ªçº¿ç¨é½å¨é¨è®¡ç®å®æ¯ï¼çæç»ç»æ\n        // é»è®¤ä¸ä¸ª mainçº¿ç¨ ä¸ä¸ª gc çº¿ç¨\n        while (thread.activecount() > 2) {\n            thread.yield();\n        }\n        system.out.println(thread.currentthread().getname() + " " + num);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\nä¸ºæä»¬ç add æ¹æ³æ²¡æå éï¼å äº volatile ï¼è¯´æ volatile ä¸è½ä¿è¯åå­æ§ï¼\n\nå½ä»¤è¡æ¥çåºå±å­èç ä»£ç ï¼ javap -c jmmvolatiledemo02.class\n\n\n\nnum++ å¨å¤çº¿ç¨ä¸æ¯éçº¿ç¨å®å¨çï¼å¦ä½ä¸å  synchronizedè§£å³ï¼\n\næ¥çåå­åä¸çç±»\n\npublic class jmmvolatiledemo02 {\n    private volatile static atomicinteger num = new atomicinteger();\n\n    public static void add() {\n        num.getandincrement(); // ç­ä»· num++\n    }\n\n    // ç»æåºè¯¥æ¯ num ä¸º 2ä¸ï¼æµè¯çç»æ\n    public static void main(string[] args) throws interruptedexception {\n        for (int i = 1; i <= 20; i++) {\n            new thread(() -> {\n                for (int j = 1; j <= 1000; j++) {\n                    add();\n                }\n            }, string.valueof(i)).start();\n        }\n\n        // éè¦ç­å¾ä¸é¢20ä¸ªçº¿ç¨é½å¨é¨è®¡ç®å®æ¯ï¼çæç»ç»æ\n        // é»è®¤ä¸ä¸ª mainçº¿ç¨ ä¸ä¸ª gc çº¿ç¨\n        while (thread.activecount() > 2) {\n            thread.yield();\n        }\n        system.out.println(thread.currentthread().getname() + " " + num);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\næä»¤éæ\n\nè®¡ç®æºå¨æ§è¡ç¨åºæ¶ï¼ä¸ºäºæé«æ§è½ï¼ç¼è¯å¨åå¤çå¨çå¸¸å¸¸ä¼å¯¹æä»¤åéæ\n\n\n\nä¸è¬åä»¥ä¸3ç§é®é¢ï¼\n\nåçº¿ç¨ç¯å¢éé¢ç¡®ä¿ç¨åºæç»æ§è¡ç»æåä»£ç é¡ºåºæ§è¡çç»æä¸è´ã\n\nå¤çå¨å¨è¿è¡éæåºæ¶å¿é¡»è¦èèæä»¤ä¹é´çæ°æ®ä¾èµæ§ã\n\nå¤çº¿ç¨ç¯å¢ä¸­çº¿ç¨äº¤æ¿æ§è¡ï¼ç±äºç¼è¯å¨ä¼åéæçå­å¨ï¼ä¸¤ä¸ªçº¿ç¨ä¸­ä½¿ç¨çåéè½å¦ä¿è¯ä¸è´æ§æ¯æ æ³ç¡®å®çï¼ç»ææ æ³é¢æµã\n\næä»¤éææ¯ä»ä¹\n\næä»¤éåå¨cpuæ§è¡æ¶ä¸æ¯ä¸²è¡ç, å½ææ¡æä»¤æ§è¡æ¶æ¶èè¾å¤æ¶é´æ¶, cpuèµæºè¶³å¤æ¶å¹¶ä¸ä¼å¨æ­¤æ æä¹çç­å¾, èæ¯å¼å¯ä¸ä¸ä¸ªæä»¤. å¼å¯ä¸ä¸æ¡æä»¤æ¯ææ¡ä»¶ç, å³ä¸ä¸æ¡æä»¤åä¸ä¸æ¡æä»¤ä¸å­å¨ç¸å³æ§. ä¾å¦ä¸é¢è¿ä¸ªä¾å­:\n\na /= 2;   // æä»¤a\na /= 2;   // æä»¤b\nc++;      // æä»¤c\n\n\n1\n2\n3\n\n\néçæä»¤bæ¯ä¾èµäºæä»¤açæ§è¡ç»æç, å¨aå¤äºæ§è¡é¶æ®µæ¶, bä¼è¢«é»å¡, ç´å°aæ§è¡å®æ. èæä»¤cä¸a/båæ²¡æä¾èµå³ç³», æä»¥å¨aæ§è¡æèbæ§è¡çè¿ç¨ä¸­, cä¼åæ¶è¢«æ§è¡, é£ä¹cæå¯è½å¨a+bçæ§è¡è¿ç¨ä¸­å°±æ§è¡å®æ¯äº, è¿æ ·æä»¤éåçå®éæ§è¡é¡ºåºå°±æ¯ c->a->b æè a->c->b.\n\n\n\næä»¤éæå°ç»ï¼\n\nvolatile å®ç°äºç¦æ­¢æä»¤éæä¼åï¼ä»èé¿åå¤çº¿ç¨ç¯å¢ä¸ç¨åºåºç°ä¹±åºæ§è¡çç°è±¡\n\nåäºè§£ä¸ä¸ªæ¦å¿µï¼åå­å±éï¼memory barrierï¼åç§°åå­æ æ ï¼æ¯ä¸ä¸ªcpu æä»¤ï¼å®çä½ç¨æä¸¤ä¸ªï¼\n\n1ãä¿è¯ç¹å®æä½çæ§è¡é¡ºåºã\n\n2ãä¿è¯æäºåéçåå­å¯è§æ§ï¼å©ç¨è¯¥ç¹æ§å®ç°volatileçåå­å¯è§æ§ï¼ã\n\nç±äºç¼è¯å¨åå¤çå¨é½è½æ§è¡æä»¤éæä¼åãå¦æå¨æä»¤é´æå¥ä¸æ¡ memory barrier åä¼åè¯ç¼è¯å¨åcpuï¼ä¸ç®¡ä»ä¹æä»¤é½ä¸è½åè¿æ¡ memory barrier æä»¤éæåºï¼ä¹å°±æ¯è¯´ï¼éè¿æå¥åå­å±éç¦æ­¢å¨åå­å±éååçæä»¤æ§è¡éæåºä¼åãåå­å±éå¦å¤ä¸ä¸ªä½ç¨æ¯å¼ºå¶å·åºåç§cpuçç¼å­æ°æ®ï¼å æ­¤ä»»ä½cpuä¸ççº¿ç¨é½è½è¯»åå°è¿äºæ°æ®çææ°çæ¬ã\n\n\n\nç»è¿ï¼å¯è§æ§ï¼åå­æ§ï¼æä»¤éæçè¯ï¼çº¿ç¨å®å¨æ§è·å¾ä¿è¯ï¼\n\nå¯¹äºæä»¤éæå¯¼è´çå¯è§æ§é®é¢ å æåºæ§é®é¢ï¼å¯ä»¥å©ç¨ volatile å³é®å­è§£å³ï¼å ä¸º volatile çå¦å¤ä¸ ä¸ªä½ç¨å°±æ¯ç¦æ­¢éæåºä¼åã\n\n\n# 18ãåä¾æ¨¡å¼\n\nå¦ä½é²æ­¢åå° ç ´ååä¾æ¨¡å¼ï¼\n\næ¨èéè¯»ï¼åä¾æ¨¡å¼ | èé¸æç¨\n\n\n# é¥¿æ±å¼\n\npublic class hungry {\n    private hungry() {\n    }\n\n    private final static hungry hungry = new hungry();\n\n    public static hungry getinstance() {\n        return hungry;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\né¥¿æ±å¼æ¯æç®åçåä¾æ¨¡å¼çåæ³ï¼ä¿è¯äºçº¿ç¨çå®å¨\n\nä½é¥¿æ±å¼ä¼æä¸ç¹å°é®é¢ï¼çä¸é¢çä»£ç ï¼\n\npublic class hungry {\n    private byte[] data1 = new byte[1024];\n    private byte[] data2 = new byte[1024];\n    private byte[] data3 = new byte[1024];\n    private byte[] data4 = new byte[1024];\n    \n    private hungry() {\n    }\n\n    private final static hungry hungry = new hungry();\n\n    public static hungry getinstance() {\n        return hungry;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nå¨ hungry ç±»ä¸­ï¼æå®ä¹äºåä¸ªbyteæ°ç»ï¼å½ä»£ç ä¸è¿è¡ï¼è¿åä¸ªæ°ç»å°±è¢«åå§åï¼å¹¶ä¸æ¾å¥åå­äºï¼å¦æé¿æ¶é´æ²¡æç¨å°getinstanceæ¹æ³ï¼ä¸éè¦hungryç±»çå¯¹è±¡ï¼è¿ä¸æ¯ä¸ç§æµªè´¹åï¼æå¸æçæ¯åªæç¨ å°äº getinstance æ¹æ³ï¼æä¼å»åå§ååä¾ç±»ï¼æä¼å è½½åä¾ç±»ä¸­çæ°æ®ãæä»¥å°±æäºç¬¬äºç§åä¾æ¨¡å¼ï¼ææ±å¼\n\n\n# ææ±å¼\n\npublic class lazyman {\n    private lazyman() {\n        system.out.println(thread.currentthread().getname() + "start");\n    }\n\n    private static lazyman lazyman;\n\n    public static lazyman getinstance() {\n        if (lazyman == null) {\n            lazyman = new lazyman();\n        }\n        return lazyman;\n    }\n\n    // æµè¯å¹¶åç¯å¢ï¼åç°åä¾å¤±æ\n    public static void main(string[] args) {\n        for (int i = 0; i < 10; i++) {\n            new thread(() -> {\n                lazyman.getinstance();\n            }).start();\n        }\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\nå¤å ä¸å±æ£æµå¯ä»¥é¿åé®é¢ï¼ä¹å°±æ¯dclææ±å¼ï¼\n\npublic class lazyman {\n    private lazyman() {\n    }\n\n    private static lazyman lazyman;\n\n    public static lazyman getinstance() {\n        if (lazyman == null) {\n            synchronized (lazyman.class) {\n                if (lazyman == null) {\n                    lazyman = new lazyman();\n                }\n            }\n        }\n        return lazyman;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\ndclææ±å¼çåä¾ï¼ä¿è¯äºçº¿ç¨çå®å¨æ§ï¼åç¬¦åäºæå è½½ï¼åªæå¨ç¨å°çæ¶åï¼æä¼å»åå§åï¼è°ç¨ æçä¹æ¯è¾é«ï¼ä½æ¯è¿ç§åæ³å¨æç«¯æåµè¿æ¯å¯è½ä¼æä¸å®çé®é¢ã\n\nå ä¸º lazyman = new lazyman(); ä¸æ¯åå­æ§æä½ï¼è³å°ä¼ç»è¿ä¸ä¸ªæ­¥éª¤ï¼\n\n 1. åéå¯¹è±¡åå­ç©ºé´\n 2. æ§è¡æé æ¹æ³åå§åå¯¹è±¡\n 3. è®¾ç½®instanceæåååéçåå­å°åï¼æ­¤æ¶ instance ï¼=nullï¼\n\nç±äºæä»¤éæï¼å¯¼è´açº¿ç¨æ§è¡ lazyman = new lazyman(); çæ¶åï¼å¯è½åæ§è¡äºç¬¬ä¸æ­¥ï¼è¿æ²¡æ§è¡ç¬¬ äºæ­¥ï¼ï¼ç±äºçº¿ç¨è°åº¦ï¼å½çº¿ç¨bè¿æ¥æ¶ï¼åç° lazyman å·²ç»ä¸ä¸ºç©ºäºï¼ç´æ¥è¿åäºlazymanï¼å¹¶ä¸åé¢ä½¿ç¨äºè¿åçlazymanï¼ç±äºçº¿ç¨aè¿æ²¡ææ§è¡ç¬¬äºæ­¥ï¼å¯¼è´æ­¤æ¶lazymanè¿ä¸å®æ´ï¼å¯è½ä¼æä¸äºææ³ä¸å°çéè¯¯ï¼æä»¥å°±æäºä¸é¢ä¸ç§åä¾æ¨¡å¼ã\n\nè¿ç§åä¾æ¨¡å¼åªæ¯å¨ä¸é¢dclåä¾æ¨¡å¼å¢å ä¸ä¸ªvolatileå³é®å­æ¥é¿åæä»¤éæï¼\n\npublic class lazyman {\n    private lazyman() {\n    }\n\n    private volatile static lazyman lazyman;\n\n    public static lazyman getinstance() {\n        if (lazyman == null) {\n            synchronized (lazyman.class) {\n                if (lazyman == null) {\n                    lazyman = new lazyman();\n                }\n            }\n        }\n        return lazyman;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# éæåé¨ç±»\n\nè¿æè¿ç§æ¹å¼æ¯ç¬¬ä¸ç§é¥¿æ±å¼çæ¹è¿çæ¬ï¼åæ ·ä¹æ¯å¨ç±»ä¸­å®ä¹staticåéçå¯¹è±¡ï¼å¹¶ä¸ç´æ¥åå§åï¼ä¸ è¿æ¯ç§»å°äºéæåé¨ç±»ä¸­ï¼ååå·§å¦ãæ¢ä¿è¯äºçº¿ç¨çå®å¨æ§ï¼åæ¶åæ»¡è¶³äºæå è½½ã\n\npublic class holder {\n    private holder() {\n    }\n\n    public static holder getinstance() {\n        return innerclass.holder;\n    }\n\n    private static class innerclass {\n        private static final holder holder = new holder();\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# ä¸æ¶çåå°\n\nä¸æ¶çåå°ç»åºäºï¼åå°æ¯ä¸ä¸ªæ¯è¾é¸éçä¸è¥¿ï¼æ è§privateä¿®é¥°çæé æ¹æ³ï¼å¯ä»¥ç´æ¥å¨å¤é¢ newinstanceï¼ç ´åæä»¬è¾è¾è¦è¦åçåä¾æ¨¡å¼ã\n\npublic class singletonpatterndemo {\n    public static void main(string[] args) throws exception {\n        lazyman lazyman1 = lazyman.getinstance();\n\n        constructor<lazyman> declaredconstructor = lazyman.class.getdeclaredconstructor(null);\n        declaredconstructor.setaccessible(true);\n        lazyman lazyman2 = declaredconstructor.newinstance();\n        \n        system.out.println(lazyman1.hashcode());\n        system.out.println(lazyman2.hashcode());\n        \n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\næä»¬åå«æå°åºlazyman1ï¼lazyman2çhashcodeï¼åç°ä¸ç¸ç­\n\né£ä¹ï¼æä¹è§£å³è¿ç§é®é¢å¢ï¼\n\nå¨ç§æçæé å½æ°ä¸­åä¸ä¸ªå¤æ­ï¼å¦ælazymanä¸ä¸ºç©ºï¼è¯´ælazymanå·²ç»è¢«åå»ºè¿äºï¼å¦ææ­£å¸¸è°ç¨ getinstanceæ¹æ³ï¼æ¯ä¸ä¼åºç°è¿ç§äºæçï¼æä»¥ç´æ¥æåºå¼å¸¸ï¼\n\npublic class lazyman {\n    private lazyman() {\n        synchronized (lazyman.class) {\n            if (lazyman != null) {\n                throw new runtimeexception("ä¸è¦è¯å¾ç¨åå°ç ´ååä¾æ¨¡å¼");\n            }\n        }\n    }\n\n    private static lazyman lazyman;\n\n    public static lazyman getinstance() {\n        if (lazyman == null) {\n            synchronized (lazyman.class) {\n                if (lazyman == null) {\n                    lazyman = new lazyman();\n                }\n            }\n        }\n        return lazyman;\n    }\n    \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\nä½æ¯è¿ç§åæ³è¿æ¯æé®é¢ï¼\n\nä¸é¢æä»¬æ¯åæ­£å¸¸çè°ç¨äºgetinstanceæ¹æ³ï¼åå»ºäºlazymanå¯¹è±¡ï¼æä»¥ç¬¬äºæ¬¡ç¨åå°åå»ºå¯¹è±¡ï¼ç§ææé å½æ°éé¢çå¤æ­èµ·ä½ç¨äºï¼åå°ç ´ååä¾æ¨¡å¼å¤±è´¥ãä½æ¯å¦æç ´åèå¹²èä¸åè°ç¨getinstanceæ¹ æ³ï¼ä¸ä¸æ¥å°±ç´æ¥ç¨åå°åå»ºå¯¹è±¡ï¼æä»¬çå¤æ­å°±ä¸çæäºï¼\n\né£ä¹å¦ä½é²æ­¢è¿ç§åå°ç ´åå¢ï¼\n\npublic class lazyman {\n    private static boolean flag = false;\n\n    private lazyman() {\n        synchronized (lazyman.class) {\n            if (flag == false) {\n                flag = true;\n            } else {\n                throw new runtimeexception("ä¸è¦è¯å¾ç¨åå°ç ´ååä¾æ¨¡å¼");\n            }\n        }\n    }\n\n    private static lazyman lazyman;\n\n    public static lazyman getinstance() {\n        if (lazyman == null) {\n            synchronized (lazyman.class) {\n                if (lazyman == null) {\n                    lazyman = new lazyman();\n                }\n            }\n        }\n        return lazyman;\n    }\n    \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\nå¨è¿éï¼æå®ä¹äºä¸ä¸ªbooleanåéflagï¼åå§å¼æ¯falseï¼ç§ææé å½æ°éé¢åäºä¸ä¸ªå¤æ­ï¼å¦æ flag=falseï¼å°±æflagæ¹ä¸ºtrueï¼ä½æ¯å¦æflagç­äºtrueï¼å°±è¯´ææé®é¢äºï¼å ä¸ºæ­£å¸¸çè°ç¨æ¯ä¸ä¼ç¬¬äº æ¬¡è·å°ç§ææé æ¹æ³çï¼æä»¥æåºå¼å¸¸ã\n\nçèµ·æ¥å¾ç¾å¥½ï¼ä½æ¯è¿æ¯ä¸è½å®å¨é²æ­¢åå°ç ´ååä¾æ¨¡å¼ï¼å ä¸ºå¯ä»¥å©ç¨åå°ä¿®æ¹flagçå¼ã\n\npublic class singletonpatterndemo {\n    public static void main(string[] args) throws exception {\n\n\n        constructor<lazyman> declaredconstructor = lazyman.class.getdeclaredconstructor(null);\n        field field = lazyman.class.getdeclaredfield("flag");\n        field.setaccessible(true);\n\n        // éè¿åå°å®ä¾åå¯¹è±¡\n        declaredconstructor.setaccessible(true);\n        lazyman lazyman1 = declaredconstructor.newinstance();\n        system.out.println(field.get(lazyman1));\n        system.out.println(lazyman1.hashcode());\n\n        //éè¿åå°ï¼ä¿®æ¹å­æ®µçå¼ï¼\n        field.set(lazyman1, false);\n        lazyman lazyman2 = declaredconstructor.newinstance();\n        system.out.println(field.get(lazyman2));\n        system.out.println(lazyman2.hashcode());\n        \n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\nå¹¶æ²¡æä¸ä¸ªå¾å¥½çæ¹æ¡å»é¿ååå°ç ´ååä¾æ¨¡å¼ï¼æä»¥è½®å°æä»¬çæä¸¾ç»åºäºã\n\n\n# æä¸¾\n\næä¸¾ç±»åæ¯java 5ä¸­æ°å¢ç¹æ§çä¸é¨åï¼å®æ¯ä¸ç§ç¹æ®çæ°æ®ç±»åï¼ä¹æä»¥ç¹æ®æ¯å ä¸ºå®æ¢æ¯ä¸ç§ç±» (class)ç±»åå´åæ¯ç±»ç±»åå¤äºäºç¹æ®ççº¦æï¼ä½æ¯è¿äºçº¦æçå­å¨ä¹é å°±äºæä¸¾ç±»åçç®æ´æ§ãå®å¨æ§ ä»¥åä¾¿æ·æ§ã\n\npublic enum enumsingleton {\n\n    instance;\n    public enumsingleton getinstance(){\n        return instance;\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\næä¸¾æ¯ç®åææ¨èçåä¾æ¨¡å¼çåæ³ï¼å ä¸ºè¶³å¤ç®åï¼ä¸éè¦å¼åèªå·±ä¿è¯çº¿ç¨çå®å¨ï¼åæ¶åå¯ä»¥æ æçé²æ­¢åå°ç ´åæä»¬çåä¾æ¨¡å¼\n\n\n# 19ãcas\n\ncasï¼conmpare and swapï¼ : æ¯è¾åäº¤æ¢\n\njava1.5å¼å§å¼å¥äºcasï¼ä¸»è¦ä»£ç é½æ¾å¨jucçatomicåä¸\n\npublic class casdemo {\n    public static void main(string[] args) {\n        //çå®å¼ä¸º 5 \n        atomicinteger atomicinteger = new atomicinteger(5);\n\n        // ææçæ¯5ï¼åé¢æ¹ä¸º 2020 ï¼ æä»¥ç»æä¸º trueï¼2020\n        atomicinteger.compareandset(5, 2020);\n        system.out.println(atomicinteger.get());\n        // ææçæ¯5ï¼åé¢æ¹ä¸º 1024 ï¼ æä»¥ç»æä¸º falseï¼2020\n        system.out.println(atomicinteger.compareandset(5, 1024) + "=>" + atomicinteger.get());\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nçå®å¼åææå¼ç¸åï¼å°±ä¿®æ¹æåï¼çå®å¼åææå¼ä¸åï¼å°±ä¿®æ¹å¤±è´¥ï¼\n\nåææºç ï¼å¦ä½å®ç°ç i++ å®å¨çé®é¢ï¼atomicinteger.getandincrement();\n\npublic final int getandincrement() {\n    // this å½åå¯¹è±¡\n\t// valueoffset åå­åç§»éï¼åå­å°å\n\t// 1\tåºå®åæ­»\n    return unsafe.getandaddint(this, valueoffset, 1);\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nè·³è½¬å° unsafe\n\n\n\nä¸è¿ä¸ªç±»ä¸­çæ¹æ³å¤§é¨åé½æ¯ native çæ¹æ³äºï¼\n\n * é®é¢ï¼è¿ä¸ªunsafeç±»å°åºæ¯ä»ä¹ï¼\n\n1ãunsafe\n\nunsafeæ¯ cas çæ ¸å¿ç±»ï¼ç±äºjavaæ¹æ³æ æ³ç´æ¥è®¿é®åºå±ç³»ç»ï¼éè¦éè¿æ¬å°ï¼nativeï¼æ¹æ³æ¥è®¿é®ï¼ unsafeç¸å½äºä¸ä¸ªåé¨ï¼åºäºè¯¥ç±»å¯ä»¥ç´æ¥æä½ç¹å®åå­çæ°æ®ï¼unsafeç±»å­å¨äº sun.misc åä¸­ï¼å¶åé¨æ¹æ³æä½å¯ä»¥åcçæéä¸æ ·ç´æ¥æä½åå­ï¼å ä¸ºjavaä¸­casæä½çæ§è¡ä¾èµäºunsafeç±»çæ¹æ³ã\n\n2ãåévalueoffset\n\nè¡¨ç¤ºè¯¥åéå¼å¨åå­ä¸­çåç§»å°åï¼å ä¸ºunsafeå°±æ¯æ ¹æ®åå­åç§»å°åè·åæ°æ®ç\n\n3ãåé valueç¨volatileä¿®é¥°ï¼ä¿è¯äºå¤çº¿ç¨ä¹é´çåå­å¯è§æ§\n\næåè§£écas æ¯ä»ä¹\n\ncas çå¨ç§°ä¸º compare-and-swapï¼å®æ¯ä¸æ¡cpuå¹¶ååè¯­ã\n\nå®çåè½æ¯å¤æ­åå­æä¸ªä½ç½®çå¼æ¯å¦ä¸ºé¢æå¼ï¼å¦ææ¯åæ´æ¹ä¸ºæ°çå¼ï¼è¿ä¸ªè¿ç¨æ¯åå­çã\n\ncaså¹¶ååè¯­ä½ç°å¨javaè¯­è¨ä¸­å°±æ¯ sun.misc.unsafe ç±»ä¸­çåä¸ªæ¹æ³ãè°ç¨ unsafeç±»ä¸­ç cas æ¹æ³ï¼ jvmä¼å¸®æä»¬å®ç°åºcasæ±ç¼æä»¤ãè¿æ¯ä¸ç§å®å¨ä¾èµäºç¡¬ä»¶çåè½ï¼éè¿å®å®ç°äºåå­æä½ãåæ¬¡å¼ºè°ï¼ç±äºcasæ¯ä¸ç§ç³»ç»åè¯­ï¼åè¯­å±äºæä½ç³»ç»ç¨äºèç´ï¼æ¯ç±è¥å¹²æ¡æä»¤ç»æçï¼ç¨äºå®ææä¸ªå è½çä¸ä¸ªè¿ç¨ï¼å¹¶ä¸åè¯­çæ§è¡å¿é¡»æ¯è¿ç»­çï¼å¨æ§è¡è¿ç¨ä¸­ä¸åè®¸è¢«ä¸­æ­ï¼ä¹å°±æ¯è¯´casæ¯ä¸æ¡ cpu çåå­æä»¤ï¼ä¸ä¼é ææè°çæ°æ®ä¸ä¸è´é®é¢ã\n\npublic final int getandaddint(object var1, long var2, int var4) {\n    int var5;\n    do {\n        // è·åä¼ å¥å¯¹è±¡çå°å\n        var5 = this.getintvolatile(var1, var2);\n        // æ¯è¾å¹¶äº¤æ¢ï¼å¦ævar1ï¼var2 è¿æ¯åæ¥ç var5ï¼å°±æ§è¡åå­åç§»+1ï¼ var5 +var4\n    } while(!this.compareandswapint(var1, var2, var5, var5 + var4));\n\n    return var5;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\næ±ç¼å±é¢çè§£\n\nunsafe ç±»ä¸­ç compareandswapintï¼æ¯ä¸ä¸ªæ¬å°æ¹æ³ï¼è¯¥æ¹æ³çå®ç°ä½äº unsafe.cpp ä¸­ï¼\n\n\n\næ»ç»\n\ncasï¼compareandswapï¼ï¼\n\næ¯è¾å½åå·¥ä½åå­ä¸­çå¼åä¸»åå­ä¸­çå¼ï¼å¦æç¸ååæ§è¡è§å®æä½ï¼å¦åç»§ç»­æ¯è¾ç´å°ä¸»åå­åå·¥ä½åå­ä¸­çå¼ä¸è´ä¸ºæ­¢ã\n\ncas åºç¨ï¼\n\ncas æ3ä¸ªæä½æ°ï¼åå­å¼vï¼æ§çé¢æå¼aï¼è¦ä¿®æ¹çæ´æ°å¼bãä¸ä»å½é¢æå¼a å åå­å¼ v ç¸åæ¶ï¼ å°åå­å¼ v ä¿®æ¹ä¸ºbï¼å¦åä»ä¹é½ä¸åã\n\ncas çç¼ºç¹ï¼\n\n1ãå¾ªç¯æ¶é´é¿å¼éå¾å¤§ã\n\nå¯ä»¥çå°æºç ä¸­å­å¨ ä¸ä¸ª do...while æä½ï¼å¦æcaså¤±è´¥å°±ä¼ä¸ç´è¿è¡å°è¯ã\n\n2ãåªè½ä¿è¯ä¸ä¸ªå±äº«åéçåå­æä½ã\n\nå½å¯¹ä¸ä¸ªå±äº«åéæ§è¡æä½æ¶ï¼æä»¬å¯ä»¥ä½¿ç¨å¾ªç¯casçæ¹å¼æ¥ä¿è¯åå­æä½ãä½æ¯ï¼å¯¹å¤ä¸ªå±äº«åéæä½æ¶ï¼å¾ªç¯caså°±æ æ³ä¿è¯æä½çåå­æ§ï¼è¿æ¶åå°±å¯ä»¥ç¨éæ¥ä¿è¯åå­æ§\n\n3ãcaså®ç°çè¿ç¨æ¯åååºåå­ä¸­ææ¶å»çæ°æ®ï¼å¨ä¸ä¸æ¶å»æ¯è¾å¹¶æ¿æ¢ï¼é£ä¹å¨è¿ä¸ªæ¶é´å·®ä¼å¯¼è´æ°æ®çååï¼æ­¤æ¶å°±ä¼å¯¼è´åºç°âabaâé®é¢\n\nä»ä¹æ¯âabaâé®é¢ï¼\n\næ¯å¦è¯´ä¸ä¸ªçº¿ç¨oneä»åå­ä½ç½®vä¸­ååºaï¼è¿æ¶åå¦ä¸ä¸ªçº¿ç¨twoä¹ä»åå­ä¸­ååºaï¼å¹¶ä¸twoè¿è¡äºä¸äºæä½åæäºbï¼ç¶åtwoåå°vä½ç½®çæ°æ®åæaï¼è¿æ¶åçº¿ç¨oneè¿è¡casæä½åç°åå­ä¸­ä»ç¶æ¯aï¼ç¶åoneæä½æåã\n\nå°½ç®¡çº¿ç¨oneçcasæä½æåï¼ä½æ¯ä¸ä»£è¡¨è¿ä¸ªè¿ç¨å°±æ¯æ²¡æé®é¢çã\n\n\n# 20ãåå­å¼ç¨\n\ndemoï¼\n\npublic class atomicreferencedemo {\n    public static void main(string[] args) {\n\n        user zhangsan = new user("zhangsan", 22);\n        user lisi = new user("lisi", 25);\n\n        atomicreference<user> atomicreference = new atomicreference<>();\n        atomicreference.set(zhangsan); // è®¾ç½®\n\n        // ææçæ¯zhangsanï¼åé¢æ¹ä¸º lisi ï¼ æä»¥ç»æä¸º trueï¼\n        system.out.print(atomicreference.compareandset(zhangsan, lisi)+"=>");\n        system.out.println(atomicreference.get().tostring());\n        // ææçæ¯zhangsanï¼åé¢æ¹ä¸º lisi ï¼ æä»¥ç»æä¸º flaseï¼\n        system.out.print(atomicreference.compareandset(zhangsan, lisi));\n        system.out.println(atomicreference.get().tostring());\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nåå­å¼ç¨ atomicreference è§£å³abaé®é¢\n\nè¦è§£å³abaé®é¢ï¼æä»¬å°±éè¦å ä¸ä¸ªçæ¬å·\n\nçæ¬å·åå­å¼ç¨ï¼ç±»ä¼¼ä¹è§é\n\npublic class abasavedemo {\n    static atomicstampedreference<integer> atomicstampedreference = new atomicstampedreference<>(100, 1);\n\n\n    public static void main(string[] args) {\n\n        new thread(() -> {\n            int stamp = atomicstampedreference.getstamp(); // è·å¾çæ¬å·\n            system.out.println("t1 stamp 01=>" + stamp);\n            // æå2ç§éï¼ä¿è¯ä¸é¢çº¿ç¨è·å¾åå§çæ¬å·\n            try {\n                timeunit.seconds.sleep(1);\n            } catch (interruptedexception e) {\n                e.printstacktrace();\n            }\n\n            atomicstampedreference.compareandset(100, 101,\n                    atomicstampedreference.getstamp(), atomicstampedreference.getstamp() + 1);\n\n            system.out.println("t1 stamp 02=>" + atomicstampedreference.getstamp());\n\n            atomicstampedreference.compareandset(101, 100,\n                    atomicstampedreference.getstamp(), atomicstampedreference.getstamp() + 1);\n\n            system.out.println("t1 stamp 03=>" + atomicstampedreference.getstamp());\n        }, "t1").start();\n\n\n        new thread(() -> {\n            int stamp = atomicstampedreference.getstamp(); // è·å¾çæ¬å·\n            system.out.println("t2 stamp 01=>" + stamp);\n\t\t\t// æå3ç§éï¼ä¿è¯ä¸é¢çº¿ç¨åæ§è¡\n            try {\n                timeunit.seconds.sleep(3);\n            } catch (interruptedexception e) {\n                e.printstacktrace();\n            }\n\n            boolean result = atomicstampedreference.compareandset(100, 2019,\n                    stamp, stamp + 1);\n            system.out.println("t2 æ¯å¦ä¿®æ¹æå =>" + result);\n            system.out.println("t2 ææ°stamp =>" + atomicstampedreference.getstamp());\n            system.out.println("t2 å½åçææ°å¼  =>" + atomicstampedreference.getreference());\n        }, "t2").start();\n\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n\n\n\n# 21ãjavaé\n\n\n# å¬å¹³ééå¬å¹³é\n\nå¬å¹³éï¼æ¯æå¤ä¸ªçº¿ç¨æç§ç³è¯·éçé¡ºåºæ¥è·åéï¼ç±»ä¼¼æéæé¥­ï¼åæ¥åå°ã\n\néå¬å¹³éï¼æ¯æå¤ä¸ªçº¿ç¨è·åéçé¡ºåºå¹¶ä¸æ¯æç§ç³è¯·éçé¡ºåºï¼æå¯è½åç³è¯·ççº¿ç¨æ¯ç°ç³è¯·ççº¿ç¨ä¼åè·åéï¼å¨é«å¹¶åçæåµä¸ï¼æå¯è½ä¼é æä¼åçº§åè½¬æèé¥¥é¥¿ç°è±¡ã\n\n// æ å\npublic reentrantlock() {\n\tsync = new nonfairsync();\n}\n// æå\npublic reentrantlock(boolean fair) {\n\tsync = fair ? new fairsync() : new nonfairsync();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nä¸¤èåºå«\n\nå¹¶ååä¸­ç reentrantlock çåå»ºå¯ä»¥æå®æé å½æ°ç boolean ç±»åæ¥å¾å°å¬å¹³éæèéå¬å¹³éï¼é»è®¤æ¯éå¬å¹³éï¼\n\nå¬å¹³éï¼å°±æ¯å¾å¬å¹³ï¼å¨å¹¶åç¯å¢ä¸­ï¼æ¯ä¸ªçº¿ç¨å¨è·åå°éæ¶ä¼åæ¥çæ­¤éç»´æ¤çç­å¾éåï¼å¦æä¸ºç©ºï¼æèå½åçº¿ç¨æ¯ç­å¾éåçç¬¬ä¸ä¸ªï¼å°±å æéï¼å¦åå°±ä¼å å¥å°ç­å¾éåä¸­ï¼ä»¥åä¼æç§fifoçè§åä»éåä¸­åå°èªå·±ã\n\néå¬å¹³éï¼éå¬å¹³éæ¯è¾ç²é²ï¼ä¸æ¥å°±ç´æ¥å°è¯å æéï¼å¦æå°è¯å¤±è´¥ï¼å°±ä¼éç¨ç±»ä¼¼å¬å¹³éé£ç§æ¹å¼ã\n\njava reentrantlock èè¨ï¼éè¿æé å½æ°æå®è¯¥éæ¯å¦æ¯å¬å¹³éï¼é»è®¤æ¯éå¬å¹³éãéå¬å¹³éçä¼ç¹å¨ äºååéæ¯å¬å¹³éå¤§ã\n\nå¯¹äºsynchronizedèè¨ï¼ä¹æ¯ä¸ç§éå¬å¹³éã\n\n\n# å¯éå¥é\n\nå¯éå¥éï¼ä¹å«éå½éï¼\n\næçæ¯åä¸çº¿ç¨å¤å±å½æ°è·å¾éä¹åï¼åå±éå½å½æ°ä»ç¶è½è·åè¯¥éçä»£ç ï¼å¨åä¸ä¸ªçº¿ç¨å¨å¤å±æ¹æ³ è·åéçæ¶åï¼å¨è¿å¥åå±æ¹æ³ä¼èªå¨è·åéã\n\nä¹å°±æ¯è¯´ï¼çº¿ç¨å¯ä»¥è¿å¥ä»»ä½ä¸ä¸ªå®å·²ç»æ¥æçéï¼æåæ­¥ççä»£ç åã å¥½æ¯å®¶éè¿å¥å¤§é¨ä¹åï¼å°±å¯ä»¥è¿å¥éé¢çæ¿é´äºï¼\n\nreentrantlockãsynchronized å°±æ¯ä¸ä¸ªå¸åçå¯éå¥éï¼\n\nå¯éå¥éæå¤§çä½ç¨å°±æ¯é¿åæ­»é\n\næµè¯ä¸ï¼synchronized\n\npublic class reentrantlockdemo {\n    public static void main(string[] args) {\n        phone phone = new phone();\n        // t1 çº¿ç¨å¨å¤å±è·åéæ¶ï¼ä¹ä¼èªå¨è·åéé¢çé\n        new thread(() -> {\n            phone.sendsms();\n        }, "t1").start();\n\n        new thread(() -> {\n            phone.sendsms();\n        }, "t2").start();\n\n    }\n}\nclass phone {\n    public synchronized void sendsms() {\n        system.out.println(thread.currentthread().getname() + " sendsms");\n        sendemail();\n    }\n\n    public synchronized void sendemail() {\n        system.out.println(thread.currentthread().getname() + " sendemail");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\næµè¯äºï¼reentrantlock\n\npublic class reentrantlockdemo {\n    public static void main(string[] args) {\n        phone phone = new phone();\n        // t1 çº¿ç¨å¨å¤å±è·åéæ¶ï¼ä¹ä¼èªå¨è·åéé¢çé\n        new thread(phone, "t1").start();\n        new thread(phone, "t2").start();\n\n    }\n}\n\nclass phone implements runnable {\n\n    lock lock = new reentrantlock();\n\n    @override\n    public void run() {\n        get();\n    }\n\n    public void get() {\n        lock.lock();\n        // lock.lock(); éå¿é¡»å¹éï¼å¦æä¸¤ä¸ªéï¼åªæä¸ä¸ªè§£éå°±ä¼å¤±è´¥\n        try {\n            system.out.println(thread.currentthread().getname() + " get()");\n            set();\n        } catch (exception e) {\n            e.printstacktrace();\n        } finally {\n            lock.unlock();\n            // lock.lock();\n        }\n\n    }\n\n    public void set() {\n        lock.lock();\n        try {\n            system.out.println(thread.currentthread().getname() + " set()");\n        } catch (exception e) {\n            e.printstacktrace();\n        } finally {\n            lock.unlock();\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n\n\n\n# èªæé\n\nèªæéï¼spinlockï¼ï¼æ¯æå°è¯è·åéççº¿ç¨ä¸ä¼ç«å³é»å¡ï¼èæ¯éç¨å¾ªç¯çæ¹å¼å»å°è¯è·åéï¼è¿æ ·çå¥½å¤æ¯åå°çº¿ç¨ä¸ä¸æåæ¢çæ¶èï¼ç¼ºç¹æ¯å¾ªç¯ä¼æ¶ècpuã\n\npublic class spinlockdemo {\n    // åå­å¼ç¨çº¿ç¨, æ²¡ååæ°ï¼å¼ç¨ç±»åé»è®¤ä¸ºnull\n    atomicreference<thread> atomicreference = new atomicreference<>();\n\n    //ä¸é\n    public void mylock() {\n        thread thread = thread.currentthread();\n        system.out.println(thread.currentthread().getname() + "==>mylock");\n        // èªæ\n        while (!atomicreference.compareandset(null, thread)) {\n        }\n    }\n\n    //è§£é\n    public void myunlock() {\n        thread thread = thread.currentthread();\n        atomicreference.compareandset(thread, null);\n        system.out.println(thread.currentthread().getname() + "==>myunlock");\n    }\n\n    public static void main(string[] args) throws interruptedexception {\n        spinlockdemo spinlockdemo = new spinlockdemo();\n\n        new thread(() -> {\n            spinlockdemo.mylock();\n            try {\n                timeunit.seconds.sleep(4);\n            } catch (interruptedexception e) {\n                e.printstacktrace();\n            }\n            spinlockdemo.myunlock();\n        }, "t1").start();\n\n        timeunit.seconds.sleep(1);\n\n        new thread(() -> {\n            spinlockdemo.mylock();\n\n            try {\n                timeunit.seconds.sleep(1);\n            } catch (interruptedexception e) {\n                e.printstacktrace();\n            }\n\n            spinlockdemo.myunlock();\n        }, "t2").start();\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n\n\n\n# æ­»é\n\næ­»éæ¯æä¸¤ä¸ªæä¸¤ä¸ªä»¥ä¸çè¿ç¨å¨æ§è¡è¿ç¨ä¸­ï¼å äºå¤ºèµæºèé æçä¸ç§äºç¸ç­å¾çç°è±¡ï¼è¥æ å¤åå¹²æ¶é£å®ä»¬é½å°æ æ³æ¨è¿ä¸å»ï¼å¦æç³»ç»èµæºåè¶³ï¼è¿ç¨çèµæºè¯·æ±é½è½å¤å¾å°æ»¡è¶³ï¼æ­»éåºç°çå¯è½æ§å°±å¾ä½ï¼å¦èå°±ä¼å ä¸ºäºå¤ºæéçèµæºèé·å¥æ­»éã\n\n\n\näº§çæ­»éä¸»è¦åå ï¼\n\n1ãç³»ç»èµæºä¸è¶³\n\n2ãè¿ç¨è¿è¡æ¨è¿çé¡ºåºä¸åé\n\n3ãèµæºåéä¸å½\n\næµè¯ï¼\n\npublic class deadlockdemo {\n    public static void main(string[] args) {\n        string locka = "locka";\n        string lockb = "lockb";\n        new thread(new holdlockthread(locka, lockb), "t1").start();\n        new thread(new holdlockthread(lockb, locka), "t2").start();\n    }\n}\n\nclass holdlockthread implements runnable {\n    private string locka;\n    private string lockb;\n\n    public holdlockthread(string locka, string lockb) {\n        this.locka = locka;\n        this.lockb = lockb;\n    }\n\n    @override\n    public void run() {\n        synchronized (locka) {\n\n            system.out.println(thread.currentthread().getname() + "lock:" + locka + "=>get" + lockb);\n            try {\n                timeunit.seconds.sleep(2);\n            } catch (interruptedexception e) {\n                e.printstacktrace();\n            }\n\n            synchronized (lockb) {\n                system.out.println(thread.currentthread().getname() + "lock:" + lockb + "=>get" + locka);\n            }\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\nè§£å³\n\n1ãæ¥çjdkç®å½çbinç®å½\n\n2ãä½¿ç¨ jps -l å½ä»¤å®ä½è¿ç¨å·\n\n3ãä½¿ç¨ jstack è¿ç¨å· æ¾å°æ­»éæ¥ç\n\n',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"JavaWeb - åºæ¬æ¦å¿µ",frontmatter:{title:"JavaWeb - åºæ¬æ¦å¿µ",categories:["java","java-web"],date:"2021-05-15T18:09:11.000Z",permalink:"/pages/5916e7/"},regularPath:"/01.Java/20.JavaWeb/01.%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5.html",relativePath:"01.Java/20.JavaWeb/01.åºæ¬æ¦å¿µ.md",key:"v-4bb79bd0",path:"/pages/5916e7/",headers:[{level:2,title:"1ãåºæ¬æ¦å¿µ",slug:"_1ãåºæ¬æ¦å¿µ",normalizedTitle:"1ãåºæ¬æ¦å¿µ",charIndex:29},{level:3,title:"1.1ãåè¨",slug:"_1-1ãåè¨",normalizedTitle:"1.1ãåè¨",charIndex:40},{level:3,title:"1.2ãwebåºç¨ç¨åº",slug:"_1-2ãwebåºç¨ç¨åº",normalizedTitle:"1.2ãwebåºç¨ç¨åº",charIndex:274},{level:3,title:"1.3ãéæweb",slug:"_1-3ãéæweb",normalizedTitle:"1.3ãéæweb",charIndex:611},{level:3,title:"1.4ãå¨æweb",slug:"_1-4ãå¨æweb",normalizedTitle:"1.4ãå¨æweb",charIndex:831},{level:2,title:"2ãwebæå¡å¨",slug:"_2ãwebæå¡å¨",normalizedTitle:"2ãwebæå¡å¨",charIndex:1016},{level:3,title:"2.1ãææ¯è®²è§£",slug:"_2-1ãææ¯è®²è§£",normalizedTitle:"2.1ãææ¯è®²è§£",charIndex:1029},{level:3,title:"2.2ãwebæå¡å¨",slug:"_2-2ãwebæå¡å¨",normalizedTitle:"2.2ãwebæå¡å¨",charIndex:1723}],headersStr:"1ãåºæ¬æ¦å¿µ 1.1ãåè¨ 1.2ãwebåºç¨ç¨åº 1.3ãéæweb 1.4ãå¨æweb 2ãwebæå¡å¨ 2.1ãææ¯è®²è§£ 2.2ãwebæå¡å¨",content:'JavaWebç¬è®°è½¬è½½äºçç¥ç¬è®°ï¼ç¨ä¿®æ¹äºç¹åå®¹\n\n\n# 1ãåºæ¬æ¦å¿µ\n\n\n# 1.1ãåè¨\n\nwebå¼åï¼\n\n * webï¼ç½é¡µçææ ï¼ www.baidu.com\n * éæweb\n   * htmlï¼css\n   * æä¾ç»ææäººççæ°æ®å§ç»ä¸ä¼åçååï¼\n * å¨æweb\n   * æ·å®ï¼å ä¹æ¯ææçç½ç«ï¼\n   * æä¾ç»ææäººççæ°æ®å§ç»ä¼åçååï¼æ¯ä¸ªäººå¨ä¸åçæ¶é´ï¼ä¸åçå°ç¹çå°çä¿¡æ¯åä¸ç¸åï¼\n   * ææ¯æ ï¼Servlet/JSPï¼ASPï¼PHP\n\nå¨Javaä¸­ï¼å¨æwebèµæºå¼åçææ¯ç»ç§°ä¸ºJavaWebï¼\n\n\n# 1.2ãwebåºç¨ç¨åº\n\nwebåºç¨ç¨åºï¼å¯ä»¥æä¾æµè§å¨è®¿é®çç¨åºï¼\n\n * a.htmlãb.html......å¤ä¸ªwebèµæºï¼è¿äºwebèµæºå¯ä»¥è¢«å¤çè®¿é®ï¼å¯¹å¤çæä¾æå¡ï¼\n * ä½ ä»¬è½è®¿é®å°çä»»ä½ä¸ä¸ªé¡µé¢æèèµæºï¼é½å­å¨äºè¿ä¸ªä¸ççæä¸ä¸ªè§è½çè®¡ç®æºä¸ã\n * URL\n * è¿ä¸ªç»ä¸çwebèµæºä¼è¢«æ¾å¨åä¸ä¸ªæä»¶å¤¹ä¸ï¼webåºç¨ç¨åº--\x3eTomcatï¼æå¡å¨\n * ä¸ä¸ªwebåºç¨ç±å¤é¨åç»æ ï¼éæwebï¼å¨æwebï¼\n   * htmlï¼cssï¼js\n   * jspï¼servlet\n   * Javaç¨åº\n   * jarå\n   * éç½®æä»¶ ï¼Propertiesï¼\n\nwebåºç¨ç¨åºç¼åå®æ¯åï¼è¥æ³æä¾ç»å¤çè®¿é®ï¼éè¦ä¸ä¸ªæå¡å¨æ¥ç»ä¸ç®¡çï¼\n\n\n# 1.3ãéæweb\n\n * *.htm, *.html,è¿äºé½æ¯ç½é¡µçåç¼ï¼å¦ææå¡å¨ä¸ä¸ç´å­å¨è¿äºä¸è¥¿ï¼æä»¬å°±å¯ä»¥ç´æ¥è¿è¡è¯»åãéç»ï¼\n\n\n\n * éæwebå­å¨çç¼ºç¹\n   * Webé¡µé¢æ æ³å¨ææ´æ°ï¼ææç¨æ·çå°é½æ¯åä¸ä¸ªé¡µé¢\n     * è½®æ­å¾ï¼ç¹å»ç¹æï¼ä¼ªå¨æ\n     * JavaScript [å®éå¼åä¸­ï¼å®ç¨çæå¤]\n     * VBScript\n   * å®æ æ³åæ°æ®åºäº¤äºï¼æ°æ®æ æ³æä¹åï¼ç¨æ·æ æ³äº¤äºï¼\n\n\n# 1.4ãå¨æweb\n\né¡µé¢ä¼å¨æå±ç¤ºï¼ âWebçé¡µé¢å±ç¤ºçææå äººèå¼âï¼\n\n\n\nç¼ºç¹ï¼\n\n * å å¥æå¡å¨çå¨æwebèµæºåºç°äºéè¯¯ï¼æä»¬éè¦éæ°ç¼åæä»¬çåå°ç¨åº,éæ°åå¸ï¼\n   * åæºç»´æ¤\n\nä¼ç¹ï¼\n\n * Webé¡µé¢å¯ä»¥å¨ææ´æ°ï¼ææç¨æ·çå°é½ä¸æ¯åä¸ä¸ªé¡µé¢\n * å®å¯ä»¥ä¸æ°æ®åºäº¤äº ï¼æ°æ®æä¹åï¼æ³¨åï¼ååä¿¡æ¯ï¼ç¨æ·ä¿¡æ¯........ï¼\n\n\n\n\n# 2ãwebæå¡å¨\n\n\n# 2.1ãææ¯è®²è§£\n\nASP:\n\n * å¾®è½¯ï¼å½åææ©æµè¡çå°±æ¯ASPï¼\n\n * å¨HTMLä¸­åµå¥äºVBçèæ¬ï¼ ASP + COMï¼\n\n * å¨ASPå¼åä¸­ï¼åºæ¬ä¸ä¸ªé¡µé¢é½æå åè¡çä¸å¡ä»£ç ï¼é¡µé¢æå¶æ¢ä¹±\n\n * ç»´æ¤ææ¬é«ï¼\n\n * C#\n\n * IIS\n   \n   <h1>\n       <h1><h1>\n           <h1>\n               <h1>\n                   <h1>\n           <h1>\n               <%\n               System.out.println("hello")\n               %>\n               <h1>\n                   <h1>\n      <h1><h1>\n   <h1>\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   \n\nphpï¼\n\n * PHPå¼åéåº¦å¾å¿«ï¼åè½å¾å¼ºå¤§ï¼è·¨å¹³å°ï¼ä»£ç å¾ç®å ï¼70% , WPï¼\n * æ æ³æ¿è½½å¤§è®¿é®éçæåµï¼å±éæ§ï¼\n\n**JSP/Servlet : **\n\nB/Sï¼æµè§åæå¡å¨\n\nC/S: å®¢æ·ç«¯åæå¡å¨\n\n * sunå¬å¸ä¸»æ¨çB/Sæ¶æ\n * åºäºJavaè¯­è¨ç (ææçå¤§å¬å¸ï¼æèä¸äºå¼æºçç»ä»¶ï¼é½æ¯ç¨Javaåç)\n * å¯ä»¥æ¿è½½ä¸é«é®é¢å¸¦æ¥çå½±åï¼\n * è¯­æ³åASP ï¼ ASP--\x3eJSP , å å¼ºå¸åºå¼ºåº¦ï¼\n\n.....\n\n\n# 2.2ãwebæå¡å¨\n\næå¡å¨æ¯ä¸ç§è¢«å¨çæä½ï¼ç¨æ¥å¤çç¨æ·çä¸äºè¯·æ±åç»ç¨æ·ä¸äºååºä¿¡æ¯ï¼\n\nIIS\n\nå¾®è½¯çï¼ ASP...,Windowsä¸­èªå¸¦ç\n\nTomcat\n\n\n\né¢åç¾åº¦ç¼ç¨ï¼\n\nTomcatæ¯Apache è½¯ä»¶åºéä¼ï¼Apache Software Foundationï¼çJakarta é¡¹ç®ä¸­çä¸ä¸ªæ ¸å¿é¡¹ç®ï¼ææ°çServlet åJSP è§èæ»æ¯è½å¨Tomcat ä¸­å¾å°ä½ç°ï¼å ä¸ºTomcat ææ¯åè¿ãæ§è½ç¨³å®ï¼èä¸åè´¹ï¼å èæ·±åJava ç±å¥½èçåç±å¹¶å¾å°äºé¨åè½¯ä»¶å¼ååçè®¤å¯ï¼æä¸ºç®åæ¯è¾æµè¡çWeb åºç¨æå¡å¨ã\n\nTomcat æå¡å¨æ¯ä¸ä¸ªåè´¹çå¼æ¾æºä»£ç çWeb åºç¨æå¡å¨ï¼å±äºè½»éçº§åºç¨æå¡å¨ï¼å¨ä¸­å°åç³»ç»åå¹¶åè®¿é®ç¨æ·ä¸æ¯å¾å¤çåºåä¸è¢«æ®éä½¿ç¨ï¼æ¯å¼ååè°è¯JSP ç¨åºçé¦éãå¯¹äºä¸ä¸ªJavaåå­¦webçäººæ¥è¯´ï¼å®æ¯æä½³çéæ©\n\nTomcat å®éä¸è¿è¡JSP é¡µé¢åServletã\n\n....\n\nå·¥ä½3-5å¹´ä¹åï¼å¯ä»¥å°è¯æåTomcatæå¡å¨ï¼\n\nä¸è½½tomcatï¼\n\n 1. å®è£ or è§£å\n 2. äºè§£éç½®æä»¶åç®å½ç»æ\n 3. è¿ä¸ªä¸è¥¿çä½ç¨',normalizedContent:'javawebç¬è®°è½¬è½½äºçç¥ç¬è®°ï¼ç¨ä¿®æ¹äºç¹åå®¹\n\n\n# 1ãåºæ¬æ¦å¿µ\n\n\n# 1.1ãåè¨\n\nwebå¼åï¼\n\n * webï¼ç½é¡µçææ ï¼ www.baidu.com\n * éæweb\n   * htmlï¼css\n   * æä¾ç»ææäººççæ°æ®å§ç»ä¸ä¼åçååï¼\n * å¨æweb\n   * æ·å®ï¼å ä¹æ¯ææçç½ç«ï¼\n   * æä¾ç»ææäººççæ°æ®å§ç»ä¼åçååï¼æ¯ä¸ªäººå¨ä¸åçæ¶é´ï¼ä¸åçå°ç¹çå°çä¿¡æ¯åä¸ç¸åï¼\n   * ææ¯æ ï¼servlet/jspï¼aspï¼php\n\nå¨javaä¸­ï¼å¨æwebèµæºå¼åçææ¯ç»ç§°ä¸ºjavawebï¼\n\n\n# 1.2ãwebåºç¨ç¨åº\n\nwebåºç¨ç¨åºï¼å¯ä»¥æä¾æµè§å¨è®¿é®çç¨åºï¼\n\n * a.htmlãb.html......å¤ä¸ªwebèµæºï¼è¿äºwebèµæºå¯ä»¥è¢«å¤çè®¿é®ï¼å¯¹å¤çæä¾æå¡ï¼\n * ä½ ä»¬è½è®¿é®å°çä»»ä½ä¸ä¸ªé¡µé¢æèèµæºï¼é½å­å¨äºè¿ä¸ªä¸ççæä¸ä¸ªè§è½çè®¡ç®æºä¸ã\n * url\n * è¿ä¸ªç»ä¸çwebèµæºä¼è¢«æ¾å¨åä¸ä¸ªæä»¶å¤¹ä¸ï¼webåºç¨ç¨åº--\x3etomcatï¼æå¡å¨\n * ä¸ä¸ªwebåºç¨ç±å¤é¨åç»æ ï¼éæwebï¼å¨æwebï¼\n   * htmlï¼cssï¼js\n   * jspï¼servlet\n   * javaç¨åº\n   * jarå\n   * éç½®æä»¶ ï¼propertiesï¼\n\nwebåºç¨ç¨åºç¼åå®æ¯åï¼è¥æ³æä¾ç»å¤çè®¿é®ï¼éè¦ä¸ä¸ªæå¡å¨æ¥ç»ä¸ç®¡çï¼\n\n\n# 1.3ãéæweb\n\n * *.htm, *.html,è¿äºé½æ¯ç½é¡µçåç¼ï¼å¦ææå¡å¨ä¸ä¸ç´å­å¨è¿äºä¸è¥¿ï¼æä»¬å°±å¯ä»¥ç´æ¥è¿è¡è¯»åãéç»ï¼\n\n\n\n * éæwebå­å¨çç¼ºç¹\n   * webé¡µé¢æ æ³å¨ææ´æ°ï¼ææç¨æ·çå°é½æ¯åä¸ä¸ªé¡µé¢\n     * è½®æ­å¾ï¼ç¹å»ç¹æï¼ä¼ªå¨æ\n     * javascript [å®éå¼åä¸­ï¼å®ç¨çæå¤]\n     * vbscript\n   * å®æ æ³åæ°æ®åºäº¤äºï¼æ°æ®æ æ³æä¹åï¼ç¨æ·æ æ³äº¤äºï¼\n\n\n# 1.4ãå¨æweb\n\né¡µé¢ä¼å¨æå±ç¤ºï¼ âwebçé¡µé¢å±ç¤ºçææå äººèå¼âï¼\n\n\n\nç¼ºç¹ï¼\n\n * å å¥æå¡å¨çå¨æwebèµæºåºç°äºéè¯¯ï¼æä»¬éè¦éæ°ç¼åæä»¬çåå°ç¨åº,éæ°åå¸ï¼\n   * åæºç»´æ¤\n\nä¼ç¹ï¼\n\n * webé¡µé¢å¯ä»¥å¨ææ´æ°ï¼ææç¨æ·çå°é½ä¸æ¯åä¸ä¸ªé¡µé¢\n * å®å¯ä»¥ä¸æ°æ®åºäº¤äº ï¼æ°æ®æä¹åï¼æ³¨åï¼ååä¿¡æ¯ï¼ç¨æ·ä¿¡æ¯........ï¼\n\n\n\n\n# 2ãwebæå¡å¨\n\n\n# 2.1ãææ¯è®²è§£\n\nasp:\n\n * å¾®è½¯ï¼å½åææ©æµè¡çå°±æ¯aspï¼\n\n * å¨htmlä¸­åµå¥äºvbçèæ¬ï¼ asp + comï¼\n\n * å¨aspå¼åä¸­ï¼åºæ¬ä¸ä¸ªé¡µé¢é½æå åè¡çä¸å¡ä»£ç ï¼é¡µé¢æå¶æ¢ä¹±\n\n * ç»´æ¤ææ¬é«ï¼\n\n * c#\n\n * iis\n   \n   <h1>\n       <h1><h1>\n           <h1>\n               <h1>\n                   <h1>\n           <h1>\n               <%\n               system.out.println("hello")\n               %>\n               <h1>\n                   <h1>\n      <h1><h1>\n   <h1>\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   \n\nphpï¼\n\n * phpå¼åéåº¦å¾å¿«ï¼åè½å¾å¼ºå¤§ï¼è·¨å¹³å°ï¼ä»£ç å¾ç®å ï¼70% , wpï¼\n * æ æ³æ¿è½½å¤§è®¿é®éçæåµï¼å±éæ§ï¼\n\n**jsp/servlet : **\n\nb/sï¼æµè§åæå¡å¨\n\nc/s: å®¢æ·ç«¯åæå¡å¨\n\n * sunå¬å¸ä¸»æ¨çb/sæ¶æ\n * åºäºjavaè¯­è¨ç (ææçå¤§å¬å¸ï¼æèä¸äºå¼æºçç»ä»¶ï¼é½æ¯ç¨javaåç)\n * å¯ä»¥æ¿è½½ä¸é«é®é¢å¸¦æ¥çå½±åï¼\n * è¯­æ³åasp ï¼ asp--\x3ejsp , å å¼ºå¸åºå¼ºåº¦ï¼\n\n.....\n\n\n# 2.2ãwebæå¡å¨\n\næå¡å¨æ¯ä¸ç§è¢«å¨çæä½ï¼ç¨æ¥å¤çç¨æ·çä¸äºè¯·æ±åç»ç¨æ·ä¸äºååºä¿¡æ¯ï¼\n\niis\n\nå¾®è½¯çï¼ asp...,windowsä¸­èªå¸¦ç\n\ntomcat\n\n\n\né¢åç¾åº¦ç¼ç¨ï¼\n\ntomcatæ¯apache è½¯ä»¶åºéä¼ï¼apache software foundationï¼çjakarta é¡¹ç®ä¸­çä¸ä¸ªæ ¸å¿é¡¹ç®ï¼ææ°çservlet åjsp è§èæ»æ¯è½å¨tomcat ä¸­å¾å°ä½ç°ï¼å ä¸ºtomcat ææ¯åè¿ãæ§è½ç¨³å®ï¼èä¸åè´¹ï¼å èæ·±åjava ç±å¥½èçåç±å¹¶å¾å°äºé¨åè½¯ä»¶å¼ååçè®¤å¯ï¼æä¸ºç®åæ¯è¾æµè¡çweb åºç¨æå¡å¨ã\n\ntomcat æå¡å¨æ¯ä¸ä¸ªåè´¹çå¼æ¾æºä»£ç çweb åºç¨æå¡å¨ï¼å±äºè½»éçº§åºç¨æå¡å¨ï¼å¨ä¸­å°åç³»ç»åå¹¶åè®¿é®ç¨æ·ä¸æ¯å¾å¤çåºåä¸è¢«æ®éä½¿ç¨ï¼æ¯å¼ååè°è¯jsp ç¨åºçé¦éãå¯¹äºä¸ä¸ªjavaåå­¦webçäººæ¥è¯´ï¼å®æ¯æä½³çéæ©\n\ntomcat å®éä¸è¿è¡jsp é¡µé¢åservletã\n\n....\n\nå·¥ä½3-5å¹´ä¹åï¼å¯ä»¥å°è¯æåtomcatæå¡å¨ï¼\n\nä¸è½½tomcatï¼\n\n 1. å®è£ or è§£å\n 2. äºè§£éç½®æä»¶åç®å½ç»æ\n 3. è¿ä¸ªä¸è¥¿çä½ç¨',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"JavaWeb - Tomcat",frontmatter:{title:"JavaWeb - Tomcat",categories:["java","java-web"],date:"2021-05-09T12:09:00.000Z",permalink:"/pages/1ccdff/"},regularPath:"/01.Java/20.JavaWeb/02.Tomcat.html",relativePath:"01.Java/20.JavaWeb/02.Tomcat.md",key:"v-e2d344f2",path:"/pages/1ccdff/",headers:[{level:2,title:"3.1ã å®è£tomcat",slug:"_3-1ã-å®è£tomcat",normalizedTitle:"3.1ã å®è£tomcat",charIndex:15},{level:2,title:"3.2ãTomcatå¯å¨åéç½®",slug:"_3-2ãtomcatå¯å¨åéç½®",normalizedTitle:"3.2ãtomcatå¯å¨åéç½®",charIndex:73},{level:2,title:"3.3ãéç½®",slug:"_3-3ãéç½®",normalizedTitle:"3.3ãéç½®",charIndex:209},{level:3,title:"é«é¾åº¦é¢è¯é¢ï¼",slug:"é«é¾åº¦é¢è¯é¢",normalizedTitle:"é«é¾åº¦é¢è¯é¢ï¼",charIndex:591},{level:2,title:"3.4ãåå¸ä¸ä¸ªwebç½ç«",slug:"_3-4ãåå¸ä¸ä¸ªwebç½ç«",normalizedTitle:"3.4ãåå¸ä¸ä¸ªwebç½ç«",charIndex:907}],headersStr:"3.1ã å®è£tomcat 3.2ãTomcatå¯å¨åéç½® 3.3ãéç½® é«é¾åº¦é¢è¯é¢ï¼ 3.4ãåå¸ä¸ä¸ªwebç½ç«",content:'# 3ãTomcat\n\n\n# 3.1ã å®è£tomcat\n\ntomcatå®ç½ï¼http://tomcat.apache.org/\n\n\n\n\n\n\n# 3.2ãTomcatå¯å¨åéç½®\n\næä»¶å¤¹ä½ç¨ï¼\n\n\n\nå¯å¨ãå³é­Tomcat\n\n\n\nè®¿é®æµè¯ï¼http://localhost:8080/\n\nå¯è½éå°çé®é¢ï¼\n\n 1. Javaç¯å¢åéæ²¡æéç½®\n 2. éªéé®é¢ï¼éè¦éç½®å¼å®¹æ§\n 3. ä¹±ç é®é¢ï¼éç½®æä»¶ä¸­è®¾ç½®\n\n\n# 3.3ãéç½®\n\n\n\nå¯ä»¥éç½®å¯å¨çç«¯å£å·\n\n * tomcatçé»è®¤ç«¯å£å·ä¸ºï¼8080\n * mysqlï¼3306\n * httpï¼80\n * httpsï¼443\n\n<Connector port="8081" protocol="HTTP/1.1"\n           connectionTimeout="20000"\n           redirectPort="8443" />\n\n\n1\n2\n3\n\n\nå¯ä»¥éç½®ä¸»æºçåç§°\n\n * é»è®¤çä¸»æºåä¸ºï¼localhost->127.0.0.1\n * é»è®¤ç½ç«åºç¨å­æ¾çä½ç½®ä¸ºï¼webapps\n\n  <Host name="www.qinjiang.com"  appBase="webapps"\n        unpackWARs="true" autoDeploy="true">\n\n\n1\n2\n\n\n\n# é«é¾åº¦é¢è¯é¢ï¼\n\nè¯·ä½ è°è°ç½ç«æ¯å¦ä½è¿è¡è®¿é®çï¼\n\n 1. è¾å¥ä¸ä¸ªååï¼åè½¦\n\n 2. æ£æ¥æ¬æºç C:\\Windows\\System32\\drivers\\etc\\hostséç½®æä»¶ä¸ææ²¡æè¿ä¸ªååæ å°ï¼\n    \n    1. æï¼ç´æ¥è¿åå¯¹åºçipå°åï¼è¿ä¸ªå°åä¸­ï¼ææä»¬éè¦è®¿é®çwebç¨åºï¼å¯ä»¥ç´æ¥è®¿é®\n       \n       127.0.0.1       www.qinjiang.com\n       \n       \n       1\n       \n    \n    2. æ²¡æï¼å»DNSæå¡å¨æ¾ï¼æ¾å°çè¯å°±è¿åï¼æ¾ä¸å°å°±è¿åæ¾ä¸å°ï¼\n    \n    \n\n 3. å¯ä»¥éç½®ä¸ä¸ç¯å¢åéï¼å¯éæ§ï¼\n\n\n# 3.4ãåå¸ä¸ä¸ªwebç½ç«\n\nä¸ä¼å°±åæ¨¡ä»¿\n\n * å°èªå·±åçç½ç«ï¼æ¾å°æå¡å¨(Tomcat)ä¸­æå®çwebåºç¨çæä»¶å¤¹ï¼webappsï¼ä¸ï¼å°±å¯ä»¥è®¿é®äº\n\nç½ç«åºè¯¥æçç»æ\n\n--webapps ï¼Tomcatæå¡å¨çwebç®å½\n\t-ROOT\n\t-kuangstudy ï¼ç½ç«çç®å½å\n\t\t- WEB-INF\n\t\t\t-classes : javaç¨åº\n\t\t\t-libï¼webåºç¨æä¾èµçjarå\n\t\t\t-web.xml ï¼ç½ç«éç½®æä»¶\n\t\t- index.html é»è®¤çé¦é¡µ\n\t\t- static \n            -css\n            \t-style.css\n            -js\n            -img\n         -.....\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nHTTPåè®® ï¼ é¢è¯\n\nMavenï¼æå»ºå·¥å·\n\n * Mavenå®è£å\n\nServlet å¥é¨\n\n * HelloWorldï¼\n * Servletéç½®\n * åç',normalizedContent:'# 3ãtomcat\n\n\n# 3.1ã å®è£tomcat\n\ntomcatå®ç½ï¼http://tomcat.apache.org/\n\n\n\n\n\n\n# 3.2ãtomcatå¯å¨åéç½®\n\næä»¶å¤¹ä½ç¨ï¼\n\n\n\nå¯å¨ãå³é­tomcat\n\n\n\nè®¿é®æµè¯ï¼http://localhost:8080/\n\nå¯è½éå°çé®é¢ï¼\n\n 1. javaç¯å¢åéæ²¡æéç½®\n 2. éªéé®é¢ï¼éè¦éç½®å¼å®¹æ§\n 3. ä¹±ç é®é¢ï¼éç½®æä»¶ä¸­è®¾ç½®\n\n\n# 3.3ãéç½®\n\n\n\nå¯ä»¥éç½®å¯å¨çç«¯å£å·\n\n * tomcatçé»è®¤ç«¯å£å·ä¸ºï¼8080\n * mysqlï¼3306\n * httpï¼80\n * httpsï¼443\n\n<connector port="8081" protocol="http/1.1"\n           connectiontimeout="20000"\n           redirectport="8443" />\n\n\n1\n2\n3\n\n\nå¯ä»¥éç½®ä¸»æºçåç§°\n\n * é»è®¤çä¸»æºåä¸ºï¼localhost->127.0.0.1\n * é»è®¤ç½ç«åºç¨å­æ¾çä½ç½®ä¸ºï¼webapps\n\n  <host name="www.qinjiang.com"  appbase="webapps"\n        unpackwars="true" autodeploy="true">\n\n\n1\n2\n\n\n\n# é«é¾åº¦é¢è¯é¢ï¼\n\nè¯·ä½ è°è°ç½ç«æ¯å¦ä½è¿è¡è®¿é®çï¼\n\n 1. è¾å¥ä¸ä¸ªååï¼åè½¦\n\n 2. æ£æ¥æ¬æºç c:\\windows\\system32\\drivers\\etc\\hostséç½®æä»¶ä¸ææ²¡æè¿ä¸ªååæ å°ï¼\n    \n    1. æï¼ç´æ¥è¿åå¯¹åºçipå°åï¼è¿ä¸ªå°åä¸­ï¼ææä»¬éè¦è®¿é®çwebç¨åºï¼å¯ä»¥ç´æ¥è®¿é®\n       \n       127.0.0.1       www.qinjiang.com\n       \n       \n       1\n       \n    \n    2. æ²¡æï¼å»dnsæå¡å¨æ¾ï¼æ¾å°çè¯å°±è¿åï¼æ¾ä¸å°å°±è¿åæ¾ä¸å°ï¼\n    \n    \n\n 3. å¯ä»¥éç½®ä¸ä¸ç¯å¢åéï¼å¯éæ§ï¼\n\n\n# 3.4ãåå¸ä¸ä¸ªwebç½ç«\n\nä¸ä¼å°±åæ¨¡ä»¿\n\n * å°èªå·±åçç½ç«ï¼æ¾å°æå¡å¨(tomcat)ä¸­æå®çwebåºç¨çæä»¶å¤¹ï¼webappsï¼ä¸ï¼å°±å¯ä»¥è®¿é®äº\n\nç½ç«åºè¯¥æçç»æ\n\n--webapps ï¼tomcatæå¡å¨çwebç®å½\n\t-root\n\t-kuangstudy ï¼ç½ç«çç®å½å\n\t\t- web-inf\n\t\t\t-classes : javaç¨åº\n\t\t\t-libï¼webåºç¨æä¾èµçjarå\n\t\t\t-web.xml ï¼ç½ç«éç½®æä»¶\n\t\t- index.html é»è®¤çé¦é¡µ\n\t\t- static \n            -css\n            \t-style.css\n            -js\n            -img\n         -.....\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nhttpåè®® ï¼ é¢è¯\n\nmavenï¼æå»ºå·¥å·\n\n * mavenå®è£å\n\nservlet å¥é¨\n\n * helloworldï¼\n * servletéç½®\n * åç',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"JavaWeb - Http",frontmatter:{title:"JavaWeb - Http",date:"2021-05-06T14:38:43.000Z",categories:["java","java-web"],permalink:"/pages/7187be/"},regularPath:"/01.Java/20.JavaWeb/03.Http.html",relativePath:"01.Java/20.JavaWeb/03.Http.md",key:"v-5e22edfe",path:"/pages/7187be/",headers:[{level:2,title:"4.1ãä»ä¹æ¯HTTP",slug:"_4-1ãä»ä¹æ¯http",normalizedTitle:"4.1ãä»ä¹æ¯http",charIndex:13},{level:2,title:"4.2ãä¸¤ä¸ªæ¶ä»£",slug:"_4-2ãä¸¤ä¸ªæ¶ä»£",normalizedTitle:"4.2ãä¸¤ä¸ªæ¶ä»£",charIndex:141},{level:2,title:"4.3ãHttpè¯·æ±",slug:"_4-3ãhttpè¯·æ±",normalizedTitle:"4.3ãhttpè¯·æ±",charIndex:277},{level:3,title:"1ãè¯·æ±è¡",slug:"_1ãè¯·æ±è¡",normalizedTitle:"1ãè¯·æ±è¡",charIndex:632},{level:3,title:"2ãæ¶æ¯å¤´",slug:"_2ãæ¶æ¯å¤´",normalizedTitle:"2ãæ¶æ¯å¤´",charIndex:815},{level:2,title:"4.4ãHttpååº",slug:"_4-4ãhttpååº",normalizedTitle:"4.4ãhttpååº",charIndex:1015},{level:3,title:"1.ååºä½",slug:"_1-ååºä½",normalizedTitle:"1.ååºä½",charIndex:1182},{level:3,title:"2ãååºç¶æç ",slug:"_2ãååºç¶æç ",normalizedTitle:"2ãååºç¶æç ",charIndex:1426}],headersStr:"4.1ãä»ä¹æ¯HTTP 4.2ãä¸¤ä¸ªæ¶ä»£ 4.3ãHttpè¯·æ± 1ãè¯·æ±è¡ 2ãæ¶æ¯å¤´ 4.4ãHttpååº 1.ååºä½ 2ãååºç¶æç ",content:"# 4ãHttp\n\n\n# 4.1ãä»ä¹æ¯HTTP\n\nHTTPï¼è¶ææ¬ä¼ è¾åè®®ï¼æ¯ä¸ä¸ªç®åçè¯·æ±-ååºåè®®ï¼å®éå¸¸è¿è¡å¨TCPä¹ä¸ã\n\n * ææ¬ï¼htmlï¼å­ç¬¦ä¸²ï¼~ â¦.\n * è¶ææ¬ï¼å¾çï¼é³ä¹ï¼è§é¢ï¼å®ä½ï¼å°å¾â¦â¦.\n * 80\n\nHttpsï¼å®å¨ç\n\n * 443\n\n\n# 4.2ãä¸¤ä¸ªæ¶ä»£\n\n * http1.0\n   \n   * HTTP/1.0ï¼å®¢æ·ç«¯å¯ä»¥ä¸webæå¡å¨è¿æ¥åï¼åªè½è·å¾ä¸ä¸ªwebèµæºï¼æ­å¼è¿æ¥\n\n * http2.0\n   \n   * HTTP/1.1ï¼å®¢æ·ç«¯å¯ä»¥ä¸webæå¡å¨è¿æ¥åï¼å¯ä»¥è·å¾å¤ä¸ªwebèµæºãâ\n\n\n# 4.3ãHttpè¯·æ±\n\n * å®¢æ·ç«¯---åè¯·æ±ï¼Requestï¼---æå¡å¨\n\nç¾åº¦ï¼\n\nRequest URL:https://www.baidu.com/   è¯·æ±å°å\nRequest Method:GET    getæ¹æ³/postæ¹æ³\nStatus Code:200 OK    ç¶æç ï¼200\nRemoteï¼è¿ç¨ï¼ Address:14.215.177.39:443\n\n\n1\n2\n3\n4\n\n\nAccept:text/html  \nAccept-Encoding:gzip, deflate, br\nAccept-Language:zh-CN,zh;q=0.9    è¯­è¨\nCache-Control:max-age=0\nConnection:keep-alive\n\n\n1\n2\n3\n4\n5\n\n\n\n# 1ãè¯·æ±è¡\n\n * è¯·æ±è¡ä¸­çè¯·æ±æ¹å¼ï¼GET\n * è¯·æ±æ¹å¼ï¼Getï¼Postï¼HEAD,DELETE,PUT,TRACTâ¦\n   * getï¼è¯·æ±è½å¤æºå¸¦çåæ°æ¯è¾å°ï¼å¤§å°æéå¶ï¼ä¼å¨æµè§å¨çURLå°åæ æ¾ç¤ºæ°æ®åå®¹ï¼ä¸å®å¨ï¼ä½é«æ\n   * postï¼è¯·æ±è½å¤æºå¸¦çåæ°æ²¡æéå¶ï¼å¤§å°æ²¡æéå¶ï¼ä¸ä¼å¨æµè§å¨çURLå°åæ æ¾ç¤ºæ°æ®åå®¹ï¼å®å¨ï¼ä½ä¸é«æã\n\n\n# 2ãæ¶æ¯å¤´\n\nAcceptï¼åè¯æµè§å¨ï¼å®ææ¯æçæ°æ®ç±»å\nAccept-Encodingï¼æ¯æåªç§ç¼ç æ ¼å¼  GBK   UTF-8   GB2312  ISO8859-1\nAccept-Languageï¼åè¯æµè§å¨ï¼å®çè¯­è¨ç¯å¢\nCache-Controlï¼ç¼å­æ§å¶\nConnectionï¼åè¯æµè§å¨ï¼è¯·æ±å®ææ¯æ­å¼è¿æ¯ä¿æè¿æ¥\nHOSTï¼ä¸»æº..../.\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 4.4ãHttpååº\n\n * æå¡å¨---ååº-----å®¢æ·ç«¯\n\nç¾åº¦ï¼\n\nCache-Control:private    ç¼å­æ§å¶\nConnection:Keep-Alive    è¿æ¥\nContent-Encoding:gzip    ç¼ç \nContent-Type:text/html   ç±»å\n\n\n1\n2\n3\n4\n\n\n\n# 1.ååºä½\n\nAcceptï¼åè¯æµè§å¨ï¼å®ææ¯æçæ°æ®ç±»å\nAccept-Encodingï¼æ¯æåªç§ç¼ç æ ¼å¼  GBK   UTF-8   GB2312  ISO8859-1\nAccept-Languageï¼åè¯æµè§å¨ï¼å®çè¯­è¨ç¯å¢\nCache-Controlï¼ç¼å­æ§å¶\nConnectionï¼åè¯æµè§å¨ï¼è¯·æ±å®ææ¯æ­å¼è¿æ¯ä¿æè¿æ¥\nHOSTï¼ä¸»æº..../.\nRefreshï¼åè¯å®¢æ·ç«¯ï¼å¤ä¹å·æ°ä¸æ¬¡ï¼\nLocationï¼è®©ç½é¡µéæ°å®ä½ï¼\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 2ãååºç¶æç \n\n200ï¼è¯·æ±ååºæå 200\n\n3xxï¼è¯·æ±éå®å\n\n * éå®åï¼ä½ éæ°å°æç»ä½ æ°ä½ç½®å»ï¼\n\n4xxï¼æ¾ä¸å°èµæº 404\n\n * èµæºä¸å­å¨ï¼\n\n5xxï¼æå¡å¨ä»£ç éè¯¯ 500 502:ç½å³éè¯¯\n\nå¸¸è§é¢è¯é¢ï¼\n\nå½ä½ çæµè§å¨ä¸­å°åæ è¾å¥å°åå¹¶åè½¦çä¸ç¬é´å°é¡µé¢è½å¤å±ç¤ºåæ¥ï¼ç»åäºä»ä¹ï¼",normalizedContent:"# 4ãhttp\n\n\n# 4.1ãä»ä¹æ¯http\n\nhttpï¼è¶ææ¬ä¼ è¾åè®®ï¼æ¯ä¸ä¸ªç®åçè¯·æ±-ååºåè®®ï¼å®éå¸¸è¿è¡å¨tcpä¹ä¸ã\n\n * ææ¬ï¼htmlï¼å­ç¬¦ä¸²ï¼~ â¦.\n * è¶ææ¬ï¼å¾çï¼é³ä¹ï¼è§é¢ï¼å®ä½ï¼å°å¾â¦â¦.\n * 80\n\nhttpsï¼å®å¨ç\n\n * 443\n\n\n# 4.2ãä¸¤ä¸ªæ¶ä»£\n\n * http1.0\n   \n   * http/1.0ï¼å®¢æ·ç«¯å¯ä»¥ä¸webæå¡å¨è¿æ¥åï¼åªè½è·å¾ä¸ä¸ªwebèµæºï¼æ­å¼è¿æ¥\n\n * http2.0\n   \n   * http/1.1ï¼å®¢æ·ç«¯å¯ä»¥ä¸webæå¡å¨è¿æ¥åï¼å¯ä»¥è·å¾å¤ä¸ªwebèµæºãâ\n\n\n# 4.3ãhttpè¯·æ±\n\n * å®¢æ·ç«¯---åè¯·æ±ï¼requestï¼---æå¡å¨\n\nç¾åº¦ï¼\n\nrequest url:https://www.baidu.com/   è¯·æ±å°å\nrequest method:get    getæ¹æ³/postæ¹æ³\nstatus code:200 ok    ç¶æç ï¼200\nremoteï¼è¿ç¨ï¼ address:14.215.177.39:443\n\n\n1\n2\n3\n4\n\n\naccept:text/html  \naccept-encoding:gzip, deflate, br\naccept-language:zh-cn,zh;q=0.9    è¯­è¨\ncache-control:max-age=0\nconnection:keep-alive\n\n\n1\n2\n3\n4\n5\n\n\n\n# 1ãè¯·æ±è¡\n\n * è¯·æ±è¡ä¸­çè¯·æ±æ¹å¼ï¼get\n * è¯·æ±æ¹å¼ï¼getï¼postï¼head,delete,put,tractâ¦\n   * getï¼è¯·æ±è½å¤æºå¸¦çåæ°æ¯è¾å°ï¼å¤§å°æéå¶ï¼ä¼å¨æµè§å¨çurlå°åæ æ¾ç¤ºæ°æ®åå®¹ï¼ä¸å®å¨ï¼ä½é«æ\n   * postï¼è¯·æ±è½å¤æºå¸¦çåæ°æ²¡æéå¶ï¼å¤§å°æ²¡æéå¶ï¼ä¸ä¼å¨æµè§å¨çurlå°åæ æ¾ç¤ºæ°æ®åå®¹ï¼å®å¨ï¼ä½ä¸é«æã\n\n\n# 2ãæ¶æ¯å¤´\n\nacceptï¼åè¯æµè§å¨ï¼å®ææ¯æçæ°æ®ç±»å\naccept-encodingï¼æ¯æåªç§ç¼ç æ ¼å¼  gbk   utf-8   gb2312  iso8859-1\naccept-languageï¼åè¯æµè§å¨ï¼å®çè¯­è¨ç¯å¢\ncache-controlï¼ç¼å­æ§å¶\nconnectionï¼åè¯æµè§å¨ï¼è¯·æ±å®ææ¯æ­å¼è¿æ¯ä¿æè¿æ¥\nhostï¼ä¸»æº..../.\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 4.4ãhttpååº\n\n * æå¡å¨---ååº-----å®¢æ·ç«¯\n\nç¾åº¦ï¼\n\ncache-control:private    ç¼å­æ§å¶\nconnection:keep-alive    è¿æ¥\ncontent-encoding:gzip    ç¼ç \ncontent-type:text/html   ç±»å\n\n\n1\n2\n3\n4\n\n\n\n# 1.ååºä½\n\nacceptï¼åè¯æµè§å¨ï¼å®ææ¯æçæ°æ®ç±»å\naccept-encodingï¼æ¯æåªç§ç¼ç æ ¼å¼  gbk   utf-8   gb2312  iso8859-1\naccept-languageï¼åè¯æµè§å¨ï¼å®çè¯­è¨ç¯å¢\ncache-controlï¼ç¼å­æ§å¶\nconnectionï¼åè¯æµè§å¨ï¼è¯·æ±å®ææ¯æ­å¼è¿æ¯ä¿æè¿æ¥\nhostï¼ä¸»æº..../.\nrefreshï¼åè¯å®¢æ·ç«¯ï¼å¤ä¹å·æ°ä¸æ¬¡ï¼\nlocationï¼è®©ç½é¡µéæ°å®ä½ï¼\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 2ãååºç¶æç \n\n200ï¼è¯·æ±ååºæå 200\n\n3xxï¼è¯·æ±éå®å\n\n * éå®åï¼ä½ éæ°å°æç»ä½ æ°ä½ç½®å»ï¼\n\n4xxï¼æ¾ä¸å°èµæº 404\n\n * èµæºä¸å­å¨ï¼\n\n5xxï¼æå¡å¨ä»£ç éè¯¯ 500 502:ç½å³éè¯¯\n\nå¸¸è§é¢è¯é¢ï¼\n\nå½ä½ çæµè§å¨ä¸­å°åæ è¾å¥å°åå¹¶åè½¦çä¸ç¬é´å°é¡µé¢è½å¤å±ç¤ºåæ¥ï¼ç»åäºä»ä¹ï¼",charsets:{cjk:!0},lastUpdated:"2021/09/11, 2:09:00",lastUpdatedTimestamp:1631327124e3},{title:"JavaWeb- ç¥è¯ä½ç³»",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"01.Java/20.JavaWeb",imgUrl:"/img/web.png",description:"JavaWebç®å½é¡µ"}},title:"JavaWeb- ç¥è¯ä½ç³»",permalink:"/javaweb",sidebar:!0,article:!1,comment:!1,editLink:!1,date:"2021-08-03T18:04:03.000Z"},regularPath:"/01.Java/20.JavaWeb/00.javaweb.html",relativePath:"01.Java/20.JavaWeb/00.javaweb.md",key:"v-b785b0fe",path:"/javaweb/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2021/09/11, 2:09:00",lastUpdatedTimestamp:1631327124e3},{title:"JavaWeb - Servlet",frontmatter:{title:"JavaWeb - Servlet",author:{name:"è´è¿",link:"https://oddfar.com"},categories:["java","java-web"],date:"2021-05-07T18:09:11.000Z",permalink:"/pages/e986b8/"},regularPath:"/01.Java/20.JavaWeb/05.servlet.html",relativePath:"01.Java/20.JavaWeb/05.servlet.md",key:"v-e9d086fe",path:"/pages/e986b8/",headers:[{level:2,title:"6ãServlet",slug:"_6ãservlet",normalizedTitle:"6ãservlet",charIndex:2},{level:3,title:"6.1ãServletç®ä»",slug:"_6-1ãservletç®ä»",normalizedTitle:"6.1ãservletç®ä»",charIndex:16},{level:3,title:"6.2ãHelloServlet",slug:"_6-2ãhelloservlet",normalizedTitle:"6.2ãhelloservlet",charIndex:207},{level:3,title:"6.3ãServletåç",slug:"_6-3ãservletåç",normalizedTitle:"6.3ãservletåç",charIndex:2454},{level:3,title:"6.4ãMappingé®é¢",slug:"_6-4ãmappingé®é¢",normalizedTitle:"6.4ãmappingé®é¢",charIndex:2513},{level:3,title:"6.5ãServletContext",slug:"_6-5ãservletcontext",normalizedTitle:"6.5ãservletcontext",charIndex:4840},{level:4,title:"1ãå±äº«æ°æ®",slug:"_1ãå±äº«æ°æ®",normalizedTitle:"1ãå±äº«æ°æ®",charIndex:4924},{level:4,title:"2ãè·ååå§ååæ°",slug:"_2ãè·ååå§ååæ°",normalizedTitle:"2ãè·ååå§ååæ°",charIndex:6802},{level:4,title:"3ãè¯·æ±è½¬å",slug:"_3ãè¯·æ±è½¬å",normalizedTitle:"3ãè¯·æ±è½¬å",charIndex:7268},{level:4,title:"4ãè¯»åèµæºæä»¶",slug:"_4ãè¯»åèµæºæä»¶",normalizedTitle:"4ãè¯»åèµæºæä»¶",charIndex:7733},{level:3,title:"6.6ãHttpServletResponse",slug:"_6-6ãhttpservletresponse",normalizedTitle:"6.6ãhttpservletresponse",charIndex:8676},{level:4,title:"1ãç®ååç±»",slug:"_1ãç®ååç±»",normalizedTitle:"1ãç®ååç±»",charIndex:8869},{level:4,title:"2ãä¸è½½æä»¶",slug:"_2ãä¸è½½æä»¶",normalizedTitle:"2ãä¸è½½æä»¶",charIndex:11042},{level:4,title:"3ãéªè¯ç åè½",slug:"_3ãéªè¯ç åè½",normalizedTitle:"3ãéªè¯ç åè½",charIndex:12343},{level:4,title:"4ãå®ç°éå®å",slug:"_4ãå®ç°éå®å",normalizedTitle:"4ãå®ç°éå®å",charIndex:14395},{level:4,title:"5ãç®åå®ç°ç»å½éå®å",slug:"_5ãç®åå®ç°ç»å½éå®å",normalizedTitle:"5ãç®åå®ç°ç»å½éå®å",charIndex:14902},{level:3,title:"6.7ãHttpServletRequest",slug:"_6-7ãhttpservletrequest",normalizedTitle:"6.7ãhttpservletrequest",charIndex:16106},{level:4,title:"è·ååæ°ï¼è¯·æ±è½¬å",slug:"è·ååæ°-è¯·æ±è½¬å",normalizedTitle:"è·ååæ°ï¼è¯·æ±è½¬å",charIndex:16254}],headersStr:"6ãServlet 6.1ãServletç®ä» 6.2ãHelloServlet 6.3ãServletåç 6.4ãMappingé®é¢ 6.5ãServletContext 1ãå±äº«æ°æ® 2ãè·ååå§ååæ° 3ãè¯·æ±è½¬å 4ãè¯»åèµæºæä»¶ 6.6ãHttpServletResponse 1ãç®ååç±» 2ãä¸è½½æä»¶ 3ãéªè¯ç åè½ 4ãå®ç°éå®å 5ãç®åå®ç°ç»å½éå®å 6.7ãHttpServletRequest è·ååæ°ï¼è¯·æ±è½¬å",content:'# 6ãServlet\n\n\n# 6.1ãServletç®ä»\n\n * Servletå°±æ¯sunå¬å¸å¼åå¨æwebçä¸é¨ææ¯\n * Sunå¨è¿äºAPIä¸­æä¾ä¸ä¸ªæ¥å£å«åï¼Servletï¼å¦æä½ æ³å¼åä¸ä¸ªServletç¨åºï¼åªéè¦å®æä¸¤ä¸ªå°æ­¥éª¤ï¼\n   * ç¼åä¸ä¸ªç±»ï¼å®ç°Servletæ¥å£\n   * æå¼åå¥½çJavaç±»é¨ç½²å°webæå¡å¨ä¸­ã\n\næå®ç°äºServletæ¥å£çJavaç¨åºå«åï¼Servlet\n\n\n# 6.2ãHelloServlet\n\nSerlvetæ¥å£Sunå¬å¸æä¸¤ä¸ªé»è®¤çå®ç°ç±»ï¼HttpServletï¼GenericServlet\n\n 1. æå»ºä¸ä¸ªæ®éçMavené¡¹ç®ï¼å æéé¢çsrcç®å½ï¼ä»¥åæä»¬çå­¦ä¹ å°±å¨è¿ä¸ªé¡¹ç®éé¢å»ºç«Moudelï¼è¿ä¸ªç©ºçå·¥ç¨å°±æ¯Mavenä¸»å·¥ç¨ï¼\n\n 2. å³äºMavenç¶å­å·¥ç¨ççè§£ï¼\n    \n    ç¶é¡¹ç®ä¸­ä¼æ\n    \n        <modules>\n            <module>servlet-01</module>\n        </modules>\n    \n    \n    1\n    2\n    3\n    \n    \n    å­é¡¹ç®ä¼æ\n    \n        <parent>\n            <artifactId>javaweb-02-servlet</artifactId>\n            <groupId>com.kuang</groupId>\n            <version>1.0-SNAPSHOT</version>\n        </parent>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n    \n    ç¶é¡¹ç®ä¸­çjavaå­é¡¹ç®å¯ä»¥ç´æ¥ä½¿ç¨\n    \n    son extends father\n    \n    \n    1\n    \n\n 3. Mavenç¯å¢ä¼å\n    \n    1. ä¿®æ¹web.xmlä¸ºææ°ç\n    2. å°mavençç»ææ­å»ºå®æ´\n\n 4. ç¼åä¸ä¸ªServletç¨åº\n    \n    \n    \n    1. ç¼åä¸ä¸ªæ®éç±»\n    \n    2. å®ç°Servletæ¥å£ï¼è¿éæä»¬ç´æ¥ç»§æ¿HttpServlet\n       \n       public class HelloServlet extends HttpServlet {\n           \n           //ç±äºgetæèpoståªæ¯è¯·æ±å®ç°çä¸åçæ¹å¼ï¼å¯ä»¥ç¸äºè°ç¨ï¼ä¸å¡é»è¾é½ä¸æ ·ï¼\n           @Override\n           protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n               //ServletOutputStream outputStream = resp.getOutputStream();\n               PrintWriter writer = resp.getWriter(); //ååºæµ\n               writer.print("Hello,Serlvet");\n           }\n       \n           @Override\n           protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n               doGet(req, resp);\n           }\n       }\n       \n       \n       \n       1\n       2\n       3\n       4\n       5\n       6\n       7\n       8\n       9\n       10\n       11\n       12\n       13\n       14\n       15\n       16\n       \n\n 5. ç¼åServletçæ å°\n    \n    ä¸ºä»ä¹éè¦æ å°ï¼æä»¬åçæ¯JAVAç¨åºï¼ä½æ¯è¦éè¿æµè§å¨è®¿é®ï¼èæµè§å¨éè¦è¿æ¥webæå¡å¨ï¼æä»¥æä»¬éè¦åwebæå¡ä¸­æ³¨åæä»¬åçServletï¼è¿éç»ä»ä¸ä¸ªæµè§å¨è½å¤è®¿é®çè·¯å¾ï¼\n    \n        \x3c!--æ³¨åServlet--\x3e\n        <servlet>\n            <servlet-name>hello</servlet-name>\n            <servlet-class>com.kuang.servlet.HelloServlet</servlet-class>\n        </servlet>\n        \x3c!--Servletçè¯·æ±è·¯å¾--\x3e\n        <servlet-mapping>\n            <servlet-name>hello</servlet-name>\n            <url-pattern>/hello</url-pattern>\n        </servlet-mapping>\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    \n\n 6. éç½®Tomcat\n    \n    æ³¨æï¼éç½®é¡¹ç®åå¸çè·¯å¾å°±å¯ä»¥äº\n\n 7. å¯å¨æµè¯ï¼OKï¼\n\n\n# 6.3ãServletåç\n\nServletæ¯ç±Webæå¡å¨è°ç¨ï¼webæå¡å¨å¨æ¶å°æµè§å¨è¯·æ±ä¹åï¼ä¼ï¼\n\n\n\n\n# 6.4ãMappingé®é¢\n\n 1. ä¸ä¸ªServletå¯ä»¥æå®ä¸ä¸ªæ å°è·¯å¾\n    \n        <servlet-mapping>\n            <servlet-name>hello</servlet-name>\n            <url-pattern>/hello</url-pattern>\n        </servlet-mapping>\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 2. ä¸ä¸ªServletå¯ä»¥æå®å¤ä¸ªæ å°è·¯å¾\n    \n        <servlet-mapping>\n            <servlet-name>hello</servlet-name>\n            <url-pattern>/hello</url-pattern>\n        </servlet-mapping>\n        <servlet-mapping>\n            <servlet-name>hello</servlet-name>\n            <url-pattern>/hello2</url-pattern>\n        </servlet-mapping>\n        <servlet-mapping>\n            <servlet-name>hello</servlet-name>\n            <url-pattern>/hello3</url-pattern>\n        </servlet-mapping>\n        <servlet-mapping>\n            <servlet-name>hello</servlet-name>\n            <url-pattern>/hello4</url-pattern>\n        </servlet-mapping>\n        <servlet-mapping>\n            <servlet-name>hello</servlet-name>\n            <url-pattern>/hello5</url-pattern>\n        </servlet-mapping>\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    \n\n 3. ä¸ä¸ªServletå¯ä»¥æå®éç¨æ å°è·¯å¾\n    \n        <servlet-mapping>\n            <servlet-name>hello</servlet-name>\n            <url-pattern>/hello/*</url-pattern>\n        </servlet-mapping>\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 4. é»è®¤è¯·æ±è·¯å¾\n    \n        \x3c!--é»è®¤è¯·æ±è·¯å¾--\x3e\n        <servlet-mapping>\n            <servlet-name>hello</servlet-name>\n            <url-pattern>/*</url-pattern>\n        </servlet-mapping>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 5. æå®ä¸äºåç¼æèåç¼ç­ç­â¦.\n    \n    \x3c!--å¯ä»¥èªå®ä¹åç¼å®ç°è¯·æ±æ å°\n        æ³¨æç¹ï¼*åé¢ä¸è½å é¡¹ç®æ å°çè·¯å¾\n        hello/sajdlkajda.qinjiang\n        --\x3e\n    <servlet-mapping>\n        <servlet-name>hello</servlet-name>\n        <url-pattern>*.qinjiang</url-pattern>\n    </servlet-mapping>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    \n\n 6. ä¼åçº§é®é¢ æå®äºåºæçæ å°è·¯å¾ä¼åçº§æé«ï¼å¦ææ¾ä¸å°å°±ä¼èµ°é»è®¤çå¤çè¯·æ±ï¼\n    \n    \x3c!--404--\x3e\n    <servlet>\n        <servlet-name>error</servlet-name>\n        <servlet-class>com.kuang.servlet.ErrorServlet</servlet-class>\n    </servlet>\n    <servlet-mapping>\n        <servlet-name>error</servlet-name>\n        <url-pattern>/*</url-pattern>\n    </servlet-mapping>\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    \n\n\n# 6.5ãServletContext\n\nwebå®¹å¨å¨å¯å¨çæ¶åï¼å®ä¼ä¸ºæ¯ä¸ªwebç¨åºé½åå»ºä¸ä¸ªå¯¹åºçServletContextå¯¹è±¡ï¼å®ä»£è¡¨äºå½åçwebåºç¨ï¼\n\n# 1ãå±äº«æ°æ®\n\næå¨è¿ä¸ªServletä¸­ä¿å­çæ°æ®ï¼å¯ä»¥å¨å¦å¤ä¸ä¸ªservletä¸­æ¿å°ï¼\n\npublic class HelloServlet extends HttpServlet {\n    @Override\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        \n        //this.getInitParameter()   åå§ååæ°\n        //this.getServletConfig()   Servletéç½®\n        //this.getServletContext()  Servletä¸ä¸æ\n        ServletContext context = this.getServletContext();\n\n        String username = "ç§¦ç"; //æ°æ®\n        context.setAttribute("username",username); //å°ä¸ä¸ªæ°æ®ä¿å­å¨äºServletContextä¸­ï¼åå­ä¸ºï¼username ãå¼ username\n\n    }\n\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\npublic class GetServlet extends HttpServlet {\n    @Override\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        ServletContext context = this.getServletContext();\n        String username = (String) context.getAttribute("username");\n\n        resp.setContentType("text/html");\n        resp.setCharacterEncoding("utf-8");\n        resp.getWriter().print("åå­"+username);\n\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        doGet(req, resp);\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n    <servlet>\n        <servlet-name>hello</servlet-name>\n        <servlet-class>com.kuang.servlet.HelloServlet</servlet-class>\n    </servlet>\n    <servlet-mapping>\n        <servlet-name>hello</servlet-name>\n        <url-pattern>/hello</url-pattern>\n    </servlet-mapping>\n\n\n    <servlet>\n        <servlet-name>getc</servlet-name>\n        <servlet-class>com.kuang.servlet.GetServlet</servlet-class>\n    </servlet>\n    <servlet-mapping>\n        <servlet-name>getc</servlet-name>\n        <url-pattern>/getc</url-pattern>\n    </servlet-mapping>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\næµè¯è®¿é®ç»æï¼\n\n# 2ãè·ååå§ååæ°\n\n    \x3c!--éç½®ä¸äºwebåºç¨åå§ååæ°--\x3e\n    <context-param>\n        <param-name>url</param-name>\n        <param-value>jdbc:mysql://localhost:3306/mybatis</param-value>\n    </context-param>\n\n\n1\n2\n3\n4\n5\n\n\nprotected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n    ServletContext context = this.getServletContext();\n    String url = context.getInitParameter("url");\n    resp.getWriter().print(url);\n}\n\n\n1\n2\n3\n4\n5\n\n\n# 3ãè¯·æ±è½¬å\n\n@Override\nprotected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n    ServletContext context = this.getServletContext();\n    System.out.println("è¿å¥äºServletDemo04");\n    //RequestDispatcher requestDispatcher = context.getRequestDispatcher("/gp"); //è½¬åçè¯·æ±è·¯å¾\n    //requestDispatcher.forward(req,resp); //è°ç¨forwardå®ç°è¯·æ±è½¬åï¼\n    context.getRequestDispatcher("/gp").forward(req,resp);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n\n# 4ãè¯»åèµæºæä»¶\n\nProperties\n\n * å¨javaç®å½ä¸æ°å»ºproperties\n * å¨resourcesç®å½ä¸æ°å»ºproperties\n\nåç°ï¼é½è¢«æåå°äºåä¸ä¸ªè·¯å¾ä¸ï¼classesï¼æä»¬ä¿ç§°è¿ä¸ªè·¯å¾ä¸ºclasspath:\n\næè·¯ï¼éè¦ä¸ä¸ªæä»¶æµï¼\n\nusername=root12312\npassword=zxczxczxc\n\n\n1\n2\n\n\npublic class ServletDemo05 extends HttpServlet {\n    @Override\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n\n        InputStream is = this.getServletContext().getResourceAsStream("/WEB-INF/classes/com/kuang/servlet/aa.properties");\n\n        Properties prop = new Properties();\n        prop.load(is);\n        String user = prop.getProperty("username");\n        String pwd = prop.getProperty("password");\n\n        resp.getWriter().print(user+":"+pwd);\n\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        doGet(req, resp);\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\nè®¿é®æµè¯å³å¯okï¼\n\n\n# 6.6ãHttpServletResponse\n\nwebæå¡å¨æ¥æ¶å°å®¢æ·ç«¯çhttpè¯·æ±ï¼éå¯¹è¿ä¸ªè¯·æ±ï¼åå«åå»ºä¸ä¸ªä»£è¡¨è¯·æ±çHttpServletRequestå¯¹è±¡ï¼ä»£è¡¨ååºçä¸ä¸ªHttpServletResponseï¼\n\n * å¦æè¦è·åå®¢æ·ç«¯è¯·æ±è¿æ¥çåæ°ï¼æ¾HttpServletRequest\n * å¦æè¦ç»å®¢æ·ç«¯ååºä¸äºä¿¡æ¯ï¼æ¾HttpServletResponse\n\n# 1ãç®ååç±»\n\nè´è´£åæµè§å¨åéæ°æ®çæ¹æ³\n\nServletOutputStream getOutputStream() throws IOException;\nPrintWriter getWriter() throws IOException;\n\n\n1\n2\n\n\nè´è´£åæµè§å¨åéååºå¤´çæ¹æ³\n\n    void setCharacterEncoding(String var1);\n\n    void setContentLength(int var1);\n\n    void setContentLengthLong(long var1);\n\n    void setContentType(String var1);\n\n    void setDateHeader(String var1, long var2);\n\n    void addDateHeader(String var1, long var2);\n\n    void setHeader(String var1, String var2);\n\n    void addHeader(String var1, String var2);\n\n    void setIntHeader(String var1, int var2);\n\n    void addIntHeader(String var1, int var2);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nååºçç¶æç \n\n    int SC_CONTINUE = 100;\n    int SC_SWITCHING_PROTOCOLS = 101;\n    int SC_OK = 200;\n    int SC_CREATED = 201;\n    int SC_ACCEPTED = 202;\n    int SC_NON_AUTHORITATIVE_INFORMATION = 203;\n    int SC_NO_CONTENT = 204;\n    int SC_RESET_CONTENT = 205;\n    int SC_PARTIAL_CONTENT = 206;\n    int SC_MULTIPLE_CHOICES = 300;\n    int SC_MOVED_PERMANENTLY = 301;\n    int SC_MOVED_TEMPORARILY = 302;\n    int SC_FOUND = 302;\n    int SC_SEE_OTHER = 303;\n    int SC_NOT_MODIFIED = 304;\n    int SC_USE_PROXY = 305;\n    int SC_TEMPORARY_REDIRECT = 307;\n    int SC_BAD_REQUEST = 400;\n    int SC_UNAUTHORIZED = 401;\n    int SC_PAYMENT_REQUIRED = 402;\n    int SC_FORBIDDEN = 403;\n    int SC_NOT_FOUND = 404;\n    int SC_METHOD_NOT_ALLOWED = 405;\n    int SC_NOT_ACCEPTABLE = 406;\n    int SC_PROXY_AUTHENTICATION_REQUIRED = 407;\n    int SC_REQUEST_TIMEOUT = 408;\n    int SC_CONFLICT = 409;\n    int SC_GONE = 410;\n    int SC_LENGTH_REQUIRED = 411;\n    int SC_PRECONDITION_FAILED = 412;\n    int SC_REQUEST_ENTITY_TOO_LARGE = 413;\n    int SC_REQUEST_URI_TOO_LONG = 414;\n    int SC_UNSUPPORTED_MEDIA_TYPE = 415;\n    int SC_REQUESTED_RANGE_NOT_SATISFIABLE = 416;\n    int SC_EXPECTATION_FAILED = 417;\n    int SC_INTERNAL_SERVER_ERROR = 500;\n    int SC_NOT_IMPLEMENTED = 501;\n    int SC_BAD_GATEWAY = 502;\n    int SC_SERVICE_UNAVAILABLE = 503;\n    int SC_GATEWAY_TIMEOUT = 504;\n    int SC_HTTP_VERSION_NOT_SUPPORTED = 505;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n\n\n# 2ãä¸è½½æä»¶\n\n 1. åæµè§å¨è¾åºæ¶æ¯ ï¼ä¸ç´å¨è®²ï¼å°±ä¸è¯´äºï¼\n 2. ä¸è½½æä»¶\n    1. è¦è·åä¸è½½æä»¶çè·¯å¾\n    2. ä¸è½½çæä»¶åæ¯å¥ï¼\n    3. è®¾ç½®æ³åæ³è®©æµè§å¨è½å¤æ¯æä¸è½½æä»¬éè¦çä¸è¥¿\n    4. è·åä¸è½½æä»¶çè¾å¥æµ\n    5. åå»ºç¼å²åº\n    6. è·åOutputStreamå¯¹è±¡\n    7. å°FileOutputStreamæµåå¥å°bufferç¼å²åº\n    8. ä½¿ç¨OutputStreamå°ç¼å²åºä¸­çæ°æ®è¾åºå°å®¢æ·ç«¯ï¼\n\n@Override\nprotected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n    // 1. è¦è·åä¸è½½æä»¶çè·¯å¾\n    String realPath = "F:\\\\ç­çº§ç®¡ç\\\\è¥¿å¼ã19525ã\\\\2ãä»£ç \\\\JavaWeb\\\\javaweb-02-servlet\\\\response\\\\target\\\\classes\\\\ç§¦ç.png";\n    System.out.println("ä¸è½½æä»¶çè·¯å¾ï¼"+realPath);\n    // 2. ä¸è½½çæä»¶åæ¯å¥ï¼\n    String fileName = realPath.substring(realPath.lastIndexOf("\\\\") + 1);\n    // 3. è®¾ç½®æ³åæ³è®©æµè§å¨è½å¤æ¯æ(Content-Disposition)ä¸è½½æä»¬éè¦çä¸è¥¿,ä¸­ææä»¶åURLEncoder.encodeç¼ç ï¼å¦åæå¯è½ä¹±ç \n    resp.setHeader("Content-Disposition","attachment;filename="+URLEncoder.encode(fileName,"UTF-8"));\n    // 4. è·åä¸è½½æä»¶çè¾å¥æµ\n    FileInputStream in = new FileInputStream(realPath);\n    // 5. åå»ºç¼å²åº\n    int len = 0;\n    byte[] buffer = new byte[1024];\n    // 6. è·åOutputStreamå¯¹è±¡\n    ServletOutputStream out = resp.getOutputStream();\n    // 7. å°FileOutputStreamæµåå¥å°bufferç¼å²åº,ä½¿ç¨OutputStreamå°ç¼å²åºä¸­çæ°æ®è¾åºå°å®¢æ·ç«¯ï¼\n    while ((len=in.read(buffer))>0){\n        out.write(buffer,0,len);\n    }\n\n    in.close();\n    out.close();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n# 3ãéªè¯ç åè½\n\néªè¯æä¹æ¥çï¼\n\n * åç«¯å®ç°\n * åç«¯å®ç°ï¼éè¦ç¨å° Java çå¾çç±»ï¼çäº§ä¸ä¸ªå¾ç\n\npackage com.kuang.servlet;\n\nimport javax.imageio.ImageIO;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.awt.*;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.util.Random;\n\npublic class ImageServlet extends HttpServlet {\n\n    @Override\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n\n        //å¦ä½è®©æµè§å¨3ç§èªå¨å·æ°ä¸æ¬¡;\n        resp.setHeader("refresh","3");\n        \n        //å¨åå­ä¸­åå»ºä¸ä¸ªå¾ç\n        BufferedImage image = new BufferedImage(80,20,BufferedImage.TYPE_INT_RGB);\n        //å¾å°å¾ç\n        Graphics2D g = (Graphics2D) image.getGraphics(); //ç¬\n        //è®¾ç½®å¾ççèæ¯é¢è²\n        g.setColor(Color.white);\n        g.fillRect(0,0,80,20);\n        //ç»å¾çåæ°æ®\n        g.setColor(Color.BLUE);\n        g.setFont(new Font(null,Font.BOLD,20));\n        g.drawString(makeNum(),0,20);\n\n        //åè¯æµè§å¨ï¼è¿ä¸ªè¯·æ±ç¨å¾ççæ¹å¼æå¼\n        resp.setContentType("image/jpeg");\n        //ç½ç«å­å¨ç¼å­ï¼ä¸è®©æµè§å¨ç¼å­\n        resp.setDateHeader("expires",-1);\n        resp.setHeader("Cache-Control","no-cache");\n        resp.setHeader("Pragma","no-cache");\n\n        //æå¾çåç»æµè§å¨\n        ImageIO.write(image,"jpg", resp.getOutputStream());\n\n    }\n\n    //çæéæºæ°\n    private String makeNum(){\n        Random random = new Random();\n        String num = random.nextInt(9999999) + "";\n        StringBuffer sb = new StringBuffer();\n        for (int i = 0; i < 7-num.length() ; i++) {\n            sb.append("0");\n        }\n        num = sb.toString() + num;\n        return num;\n    }\n\n\n    @Override\n    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        doGet(req, resp);\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n\n\n# 4ãå®ç°éå®å\n\n\n\nBä¸ä¸ªwebèµæºæ¶å°å®¢æ·ç«¯Aè¯·æ±åï¼Bä»ä¼éç¥Aå®¢æ·ç«¯å»è®¿é®å¦å¤ä¸ä¸ªwebèµæºCï¼è¿ä¸ªè¿ç¨å«éå®å\n\nå¸¸è§åºæ¯ï¼\n\n * ç¨æ·ç»å½\n\nvoid sendRedirect(String var1) throws IOException;\n\n\n1\n\n\næµè¯ï¼\n\n@Override\nprotected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n\n    /*\n        resp.setHeader("Location","/r/img");\n        resp.setStatus(302);\n         */\n    resp.sendRedirect("/r/img");//éå®å\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\né¢è¯é¢ï¼è¯·ä½ èèéå®ååè½¬åçåºå«ï¼\n\nç¸åç¹\n\n * é¡µé¢é½ä¼å®ç°è·³è½¬\n\nä¸åç¹\n\n * è¯·æ±è½¬åçæ¶åï¼urlä¸ä¼äº§çåå\n * éå®åæ¶åï¼urlå°åæ ä¼åçååï¼\n\n\n\n# 5ãç®åå®ç°ç»å½éå®å\n\n<%--è¿éæäº¤çè·¯å¾ï¼éè¦å¯»æ¾å°é¡¹ç®çè·¯å¾--%>\n<%--${pageContext.request.contextPath}ä»£è¡¨å½åçé¡¹ç®--%>\n\n<form action="${pageContext.request.contextPath}/login" method="get">\n    ç¨æ·åï¼<input type="text" name="username"> <br>\n    å¯ç ï¼<input type="password" name="password"> <br>\n    <input type="submit">\n</form>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n    @Override\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        //å¤çè¯·æ±\n        String username = req.getParameter("username");\n        String password = req.getParameter("password");\n\n        System.out.println(username+":"+password);\n\n        //éå®åæ¶åä¸å®è¦æ³¨æï¼è·¯å¾é®é¢ï¼å¦å404ï¼\n        resp.sendRedirect("/r/success.jsp");\n    }\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n  <servlet>\n    <servlet-name>requset</servlet-name>\n    <servlet-class>com.kuang.servlet.RequestTest</servlet-class>\n  </servlet>\n  <servlet-mapping>\n    <servlet-name>requset</servlet-name>\n    <url-pattern>/login</url-pattern>\n  </servlet-mapping>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n<%@ page contentType="text/html;charset=UTF-8" language="java" %>\n<html>\n<head>\n    <title>Title</title>\n</head>\n<body>\n\n<h1>Success</h1>\n\n</body>\n</html>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 6.7ãHttpServletRequest\n\nHttpServletRequestä»£è¡¨å®¢æ·ç«¯çè¯·æ±ï¼ç¨æ·éè¿Httpåè®®è®¿é®æå¡å¨ï¼HTTPè¯·æ±ä¸­çææä¿¡æ¯ä¼è¢«å°è£å°HttpServletRequestï¼éè¿è¿ä¸ªHttpServletRequestçæ¹æ³ï¼è·å¾å®¢æ·ç«¯çææä¿¡æ¯ï¼\n\n\n\n\n\n# è·ååæ°ï¼è¯·æ±è½¬å\n\n\n\n@Override\nprotected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n\n    req.setCharacterEncoding("utf-8");\n    resp.setCharacterEncoding("utf-8");\n\n    String username = req.getParameter("username");\n    String password = req.getParameter("password");\n    String[] hobbys = req.getParameterValues("hobbys");\n    System.out.println("=============================");\n    //åå°æ¥æ¶ä¸­æä¹±ç é®é¢\n    System.out.println(username);\n    System.out.println(password);\n    System.out.println(Arrays.toString(hobbys));\n    System.out.println("=============================");\n\n\n    System.out.println(req.getContextPath());\n    //éè¿è¯·æ±è½¬å\n    //è¿éç / ä»£è¡¨å½åçwebåºç¨\n    req.getRequestDispatcher("/success.jsp").forward(req,resp);\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\né¢è¯é¢ï¼è¯·ä½ èèéå®ååè½¬åçåºå«ï¼\n\nç¸åç¹\n\n * é¡µé¢é½ä¼å®ç°è·³è½¬\n\nä¸åç¹\n\n * è¯·æ±è½¬åçæ¶åï¼urlä¸ä¼äº§çåå 307\n * éå®åæ¶åï¼urlå°åæ ä¼åçååï¼ 302',normalizedContent:'# 6ãservlet\n\n\n# 6.1ãservletç®ä»\n\n * servletå°±æ¯sunå¬å¸å¼åå¨æwebçä¸é¨ææ¯\n * sunå¨è¿äºapiä¸­æä¾ä¸ä¸ªæ¥å£å«åï¼servletï¼å¦æä½ æ³å¼åä¸ä¸ªservletç¨åºï¼åªéè¦å®æä¸¤ä¸ªå°æ­¥éª¤ï¼\n   * ç¼åä¸ä¸ªç±»ï¼å®ç°servletæ¥å£\n   * æå¼åå¥½çjavaç±»é¨ç½²å°webæå¡å¨ä¸­ã\n\næå®ç°äºservletæ¥å£çjavaç¨åºå«åï¼servlet\n\n\n# 6.2ãhelloservlet\n\nserlvetæ¥å£sunå¬å¸æä¸¤ä¸ªé»è®¤çå®ç°ç±»ï¼httpservletï¼genericservlet\n\n 1. æå»ºä¸ä¸ªæ®éçmavené¡¹ç®ï¼å æéé¢çsrcç®å½ï¼ä»¥åæä»¬çå­¦ä¹ å°±å¨è¿ä¸ªé¡¹ç®éé¢å»ºç«moudelï¼è¿ä¸ªç©ºçå·¥ç¨å°±æ¯mavenä¸»å·¥ç¨ï¼\n\n 2. å³äºmavenç¶å­å·¥ç¨ççè§£ï¼\n    \n    ç¶é¡¹ç®ä¸­ä¼æ\n    \n        <modules>\n            <module>servlet-01</module>\n        </modules>\n    \n    \n    1\n    2\n    3\n    \n    \n    å­é¡¹ç®ä¼æ\n    \n        <parent>\n            <artifactid>javaweb-02-servlet</artifactid>\n            <groupid>com.kuang</groupid>\n            <version>1.0-snapshot</version>\n        </parent>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n    \n    ç¶é¡¹ç®ä¸­çjavaå­é¡¹ç®å¯ä»¥ç´æ¥ä½¿ç¨\n    \n    son extends father\n    \n    \n    1\n    \n\n 3. mavenç¯å¢ä¼å\n    \n    1. ä¿®æ¹web.xmlä¸ºææ°ç\n    2. å°mavençç»ææ­å»ºå®æ´\n\n 4. ç¼åä¸ä¸ªservletç¨åº\n    \n    \n    \n    1. ç¼åä¸ä¸ªæ®éç±»\n    \n    2. å®ç°servletæ¥å£ï¼è¿éæä»¬ç´æ¥ç»§æ¿httpservlet\n       \n       public class helloservlet extends httpservlet {\n           \n           //ç±äºgetæèpoståªæ¯è¯·æ±å®ç°çä¸åçæ¹å¼ï¼å¯ä»¥ç¸äºè°ç¨ï¼ä¸å¡é»è¾é½ä¸æ ·ï¼\n           @override\n           protected void doget(httpservletrequest req, httpservletresponse resp) throws servletexception, ioexception {\n               //servletoutputstream outputstream = resp.getoutputstream();\n               printwriter writer = resp.getwriter(); //ååºæµ\n               writer.print("hello,serlvet");\n           }\n       \n           @override\n           protected void dopost(httpservletrequest req, httpservletresponse resp) throws servletexception, ioexception {\n               doget(req, resp);\n           }\n       }\n       \n       \n       \n       1\n       2\n       3\n       4\n       5\n       6\n       7\n       8\n       9\n       10\n       11\n       12\n       13\n       14\n       15\n       16\n       \n\n 5. ç¼åservletçæ å°\n    \n    ä¸ºä»ä¹éè¦æ å°ï¼æä»¬åçæ¯javaç¨åºï¼ä½æ¯è¦éè¿æµè§å¨è®¿é®ï¼èæµè§å¨éè¦è¿æ¥webæå¡å¨ï¼æä»¥æä»¬éè¦åwebæå¡ä¸­æ³¨åæä»¬åçservletï¼è¿éç»ä»ä¸ä¸ªæµè§å¨è½å¤è®¿é®çè·¯å¾ï¼\n    \n        \x3c!--æ³¨åservlet--\x3e\n        <servlet>\n            <servlet-name>hello</servlet-name>\n            <servlet-class>com.kuang.servlet.helloservlet</servlet-class>\n        </servlet>\n        \x3c!--servletçè¯·æ±è·¯å¾--\x3e\n        <servlet-mapping>\n            <servlet-name>hello</servlet-name>\n            <url-pattern>/hello</url-pattern>\n        </servlet-mapping>\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    \n\n 6. éç½®tomcat\n    \n    æ³¨æï¼éç½®é¡¹ç®åå¸çè·¯å¾å°±å¯ä»¥äº\n\n 7. å¯å¨æµè¯ï¼okï¼\n\n\n# 6.3ãservletåç\n\nservletæ¯ç±webæå¡å¨è°ç¨ï¼webæå¡å¨å¨æ¶å°æµè§å¨è¯·æ±ä¹åï¼ä¼ï¼\n\n\n\n\n# 6.4ãmappingé®é¢\n\n 1. ä¸ä¸ªservletå¯ä»¥æå®ä¸ä¸ªæ å°è·¯å¾\n    \n        <servlet-mapping>\n            <servlet-name>hello</servlet-name>\n            <url-pattern>/hello</url-pattern>\n        </servlet-mapping>\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 2. ä¸ä¸ªservletå¯ä»¥æå®å¤ä¸ªæ å°è·¯å¾\n    \n        <servlet-mapping>\n            <servlet-name>hello</servlet-name>\n            <url-pattern>/hello</url-pattern>\n        </servlet-mapping>\n        <servlet-mapping>\n            <servlet-name>hello</servlet-name>\n            <url-pattern>/hello2</url-pattern>\n        </servlet-mapping>\n        <servlet-mapping>\n            <servlet-name>hello</servlet-name>\n            <url-pattern>/hello3</url-pattern>\n        </servlet-mapping>\n        <servlet-mapping>\n            <servlet-name>hello</servlet-name>\n            <url-pattern>/hello4</url-pattern>\n        </servlet-mapping>\n        <servlet-mapping>\n            <servlet-name>hello</servlet-name>\n            <url-pattern>/hello5</url-pattern>\n        </servlet-mapping>\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    \n\n 3. ä¸ä¸ªservletå¯ä»¥æå®éç¨æ å°è·¯å¾\n    \n        <servlet-mapping>\n            <servlet-name>hello</servlet-name>\n            <url-pattern>/hello/*</url-pattern>\n        </servlet-mapping>\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 4. é»è®¤è¯·æ±è·¯å¾\n    \n        \x3c!--é»è®¤è¯·æ±è·¯å¾--\x3e\n        <servlet-mapping>\n            <servlet-name>hello</servlet-name>\n            <url-pattern>/*</url-pattern>\n        </servlet-mapping>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 5. æå®ä¸äºåç¼æèåç¼ç­ç­â¦.\n    \n    \x3c!--å¯ä»¥èªå®ä¹åç¼å®ç°è¯·æ±æ å°\n        æ³¨æç¹ï¼*åé¢ä¸è½å é¡¹ç®æ å°çè·¯å¾\n        hello/sajdlkajda.qinjiang\n        --\x3e\n    <servlet-mapping>\n        <servlet-name>hello</servlet-name>\n        <url-pattern>*.qinjiang</url-pattern>\n    </servlet-mapping>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    \n\n 6. ä¼åçº§é®é¢ æå®äºåºæçæ å°è·¯å¾ä¼åçº§æé«ï¼å¦ææ¾ä¸å°å°±ä¼èµ°é»è®¤çå¤çè¯·æ±ï¼\n    \n    \x3c!--404--\x3e\n    <servlet>\n        <servlet-name>error</servlet-name>\n        <servlet-class>com.kuang.servlet.errorservlet</servlet-class>\n    </servlet>\n    <servlet-mapping>\n        <servlet-name>error</servlet-name>\n        <url-pattern>/*</url-pattern>\n    </servlet-mapping>\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    \n\n\n# 6.5ãservletcontext\n\nwebå®¹å¨å¨å¯å¨çæ¶åï¼å®ä¼ä¸ºæ¯ä¸ªwebç¨åºé½åå»ºä¸ä¸ªå¯¹åºçservletcontextå¯¹è±¡ï¼å®ä»£è¡¨äºå½åçwebåºç¨ï¼\n\n# 1ãå±äº«æ°æ®\n\næå¨è¿ä¸ªservletä¸­ä¿å­çæ°æ®ï¼å¯ä»¥å¨å¦å¤ä¸ä¸ªservletä¸­æ¿å°ï¼\n\npublic class helloservlet extends httpservlet {\n    @override\n    protected void doget(httpservletrequest req, httpservletresponse resp) throws servletexception, ioexception {\n        \n        //this.getinitparameter()   åå§ååæ°\n        //this.getservletconfig()   servletéç½®\n        //this.getservletcontext()  servletä¸ä¸æ\n        servletcontext context = this.getservletcontext();\n\n        string username = "ç§¦ç"; //æ°æ®\n        context.setattribute("username",username); //å°ä¸ä¸ªæ°æ®ä¿å­å¨äºservletcontextä¸­ï¼åå­ä¸ºï¼username ãå¼ username\n\n    }\n\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\npublic class getservlet extends httpservlet {\n    @override\n    protected void doget(httpservletrequest req, httpservletresponse resp) throws servletexception, ioexception {\n        servletcontext context = this.getservletcontext();\n        string username = (string) context.getattribute("username");\n\n        resp.setcontenttype("text/html");\n        resp.setcharacterencoding("utf-8");\n        resp.getwriter().print("åå­"+username);\n\n    }\n\n    @override\n    protected void dopost(httpservletrequest req, httpservletresponse resp) throws servletexception, ioexception {\n        doget(req, resp);\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n    <servlet>\n        <servlet-name>hello</servlet-name>\n        <servlet-class>com.kuang.servlet.helloservlet</servlet-class>\n    </servlet>\n    <servlet-mapping>\n        <servlet-name>hello</servlet-name>\n        <url-pattern>/hello</url-pattern>\n    </servlet-mapping>\n\n\n    <servlet>\n        <servlet-name>getc</servlet-name>\n        <servlet-class>com.kuang.servlet.getservlet</servlet-class>\n    </servlet>\n    <servlet-mapping>\n        <servlet-name>getc</servlet-name>\n        <url-pattern>/getc</url-pattern>\n    </servlet-mapping>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\næµè¯è®¿é®ç»æï¼\n\n# 2ãè·ååå§ååæ°\n\n    \x3c!--éç½®ä¸äºwebåºç¨åå§ååæ°--\x3e\n    <context-param>\n        <param-name>url</param-name>\n        <param-value>jdbc:mysql://localhost:3306/mybatis</param-value>\n    </context-param>\n\n\n1\n2\n3\n4\n5\n\n\nprotected void doget(httpservletrequest req, httpservletresponse resp) throws servletexception, ioexception {\n    servletcontext context = this.getservletcontext();\n    string url = context.getinitparameter("url");\n    resp.getwriter().print(url);\n}\n\n\n1\n2\n3\n4\n5\n\n\n# 3ãè¯·æ±è½¬å\n\n@override\nprotected void doget(httpservletrequest req, httpservletresponse resp) throws servletexception, ioexception {\n    servletcontext context = this.getservletcontext();\n    system.out.println("è¿å¥äºservletdemo04");\n    //requestdispatcher requestdispatcher = context.getrequestdispatcher("/gp"); //è½¬åçè¯·æ±è·¯å¾\n    //requestdispatcher.forward(req,resp); //è°ç¨forwardå®ç°è¯·æ±è½¬åï¼\n    context.getrequestdispatcher("/gp").forward(req,resp);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n\n# 4ãè¯»åèµæºæä»¶\n\nproperties\n\n * å¨javaç®å½ä¸æ°å»ºproperties\n * å¨resourcesç®å½ä¸æ°å»ºproperties\n\nåç°ï¼é½è¢«æåå°äºåä¸ä¸ªè·¯å¾ä¸ï¼classesï¼æä»¬ä¿ç§°è¿ä¸ªè·¯å¾ä¸ºclasspath:\n\næè·¯ï¼éè¦ä¸ä¸ªæä»¶æµï¼\n\nusername=root12312\npassword=zxczxczxc\n\n\n1\n2\n\n\npublic class servletdemo05 extends httpservlet {\n    @override\n    protected void doget(httpservletrequest req, httpservletresponse resp) throws servletexception, ioexception {\n\n        inputstream is = this.getservletcontext().getresourceasstream("/web-inf/classes/com/kuang/servlet/aa.properties");\n\n        properties prop = new properties();\n        prop.load(is);\n        string user = prop.getproperty("username");\n        string pwd = prop.getproperty("password");\n\n        resp.getwriter().print(user+":"+pwd);\n\n    }\n\n    @override\n    protected void dopost(httpservletrequest req, httpservletresponse resp) throws servletexception, ioexception {\n        doget(req, resp);\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\nè®¿é®æµè¯å³å¯okï¼\n\n\n# 6.6ãhttpservletresponse\n\nwebæå¡å¨æ¥æ¶å°å®¢æ·ç«¯çhttpè¯·æ±ï¼éå¯¹è¿ä¸ªè¯·æ±ï¼åå«åå»ºä¸ä¸ªä»£è¡¨è¯·æ±çhttpservletrequestå¯¹è±¡ï¼ä»£è¡¨ååºçä¸ä¸ªhttpservletresponseï¼\n\n * å¦æè¦è·åå®¢æ·ç«¯è¯·æ±è¿æ¥çåæ°ï¼æ¾httpservletrequest\n * å¦æè¦ç»å®¢æ·ç«¯ååºä¸äºä¿¡æ¯ï¼æ¾httpservletresponse\n\n# 1ãç®ååç±»\n\nè´è´£åæµè§å¨åéæ°æ®çæ¹æ³\n\nservletoutputstream getoutputstream() throws ioexception;\nprintwriter getwriter() throws ioexception;\n\n\n1\n2\n\n\nè´è´£åæµè§å¨åéååºå¤´çæ¹æ³\n\n    void setcharacterencoding(string var1);\n\n    void setcontentlength(int var1);\n\n    void setcontentlengthlong(long var1);\n\n    void setcontenttype(string var1);\n\n    void setdateheader(string var1, long var2);\n\n    void adddateheader(string var1, long var2);\n\n    void setheader(string var1, string var2);\n\n    void addheader(string var1, string var2);\n\n    void setintheader(string var1, int var2);\n\n    void addintheader(string var1, int var2);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nååºçç¶æç \n\n    int sc_continue = 100;\n    int sc_switching_protocols = 101;\n    int sc_ok = 200;\n    int sc_created = 201;\n    int sc_accepted = 202;\n    int sc_non_authoritative_information = 203;\n    int sc_no_content = 204;\n    int sc_reset_content = 205;\n    int sc_partial_content = 206;\n    int sc_multiple_choices = 300;\n    int sc_moved_permanently = 301;\n    int sc_moved_temporarily = 302;\n    int sc_found = 302;\n    int sc_see_other = 303;\n    int sc_not_modified = 304;\n    int sc_use_proxy = 305;\n    int sc_temporary_redirect = 307;\n    int sc_bad_request = 400;\n    int sc_unauthorized = 401;\n    int sc_payment_required = 402;\n    int sc_forbidden = 403;\n    int sc_not_found = 404;\n    int sc_method_not_allowed = 405;\n    int sc_not_acceptable = 406;\n    int sc_proxy_authentication_required = 407;\n    int sc_request_timeout = 408;\n    int sc_conflict = 409;\n    int sc_gone = 410;\n    int sc_length_required = 411;\n    int sc_precondition_failed = 412;\n    int sc_request_entity_too_large = 413;\n    int sc_request_uri_too_long = 414;\n    int sc_unsupported_media_type = 415;\n    int sc_requested_range_not_satisfiable = 416;\n    int sc_expectation_failed = 417;\n    int sc_internal_server_error = 500;\n    int sc_not_implemented = 501;\n    int sc_bad_gateway = 502;\n    int sc_service_unavailable = 503;\n    int sc_gateway_timeout = 504;\n    int sc_http_version_not_supported = 505;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n\n\n# 2ãä¸è½½æä»¶\n\n 1. åæµè§å¨è¾åºæ¶æ¯ ï¼ä¸ç´å¨è®²ï¼å°±ä¸è¯´äºï¼\n 2. ä¸è½½æä»¶\n    1. è¦è·åä¸è½½æä»¶çè·¯å¾\n    2. ä¸è½½çæä»¶åæ¯å¥ï¼\n    3. è®¾ç½®æ³åæ³è®©æµè§å¨è½å¤æ¯æä¸è½½æä»¬éè¦çä¸è¥¿\n    4. è·åä¸è½½æä»¶çè¾å¥æµ\n    5. åå»ºç¼å²åº\n    6. è·åoutputstreamå¯¹è±¡\n    7. å°fileoutputstreamæµåå¥å°bufferç¼å²åº\n    8. ä½¿ç¨outputstreamå°ç¼å²åºä¸­çæ°æ®è¾åºå°å®¢æ·ç«¯ï¼\n\n@override\nprotected void doget(httpservletrequest req, httpservletresponse resp) throws servletexception, ioexception {\n    // 1. è¦è·åä¸è½½æä»¶çè·¯å¾\n    string realpath = "f:\\\\ç­çº§ç®¡ç\\\\è¥¿å¼ã19525ã\\\\2ãä»£ç \\\\javaweb\\\\javaweb-02-servlet\\\\response\\\\target\\\\classes\\\\ç§¦ç.png";\n    system.out.println("ä¸è½½æä»¶çè·¯å¾ï¼"+realpath);\n    // 2. ä¸è½½çæä»¶åæ¯å¥ï¼\n    string filename = realpath.substring(realpath.lastindexof("\\\\") + 1);\n    // 3. è®¾ç½®æ³åæ³è®©æµè§å¨è½å¤æ¯æ(content-disposition)ä¸è½½æä»¬éè¦çä¸è¥¿,ä¸­ææä»¶åurlencoder.encodeç¼ç ï¼å¦åæå¯è½ä¹±ç \n    resp.setheader("content-disposition","attachment;filename="+urlencoder.encode(filename,"utf-8"));\n    // 4. è·åä¸è½½æä»¶çè¾å¥æµ\n    fileinputstream in = new fileinputstream(realpath);\n    // 5. åå»ºç¼å²åº\n    int len = 0;\n    byte[] buffer = new byte[1024];\n    // 6. è·åoutputstreamå¯¹è±¡\n    servletoutputstream out = resp.getoutputstream();\n    // 7. å°fileoutputstreamæµåå¥å°bufferç¼å²åº,ä½¿ç¨outputstreamå°ç¼å²åºä¸­çæ°æ®è¾åºå°å®¢æ·ç«¯ï¼\n    while ((len=in.read(buffer))>0){\n        out.write(buffer,0,len);\n    }\n\n    in.close();\n    out.close();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n# 3ãéªè¯ç åè½\n\néªè¯æä¹æ¥çï¼\n\n * åç«¯å®ç°\n * åç«¯å®ç°ï¼éè¦ç¨å° java çå¾çç±»ï¼çäº§ä¸ä¸ªå¾ç\n\npackage com.kuang.servlet;\n\nimport javax.imageio.imageio;\nimport javax.servlet.servletexception;\nimport javax.servlet.http.httpservlet;\nimport javax.servlet.http.httpservletrequest;\nimport javax.servlet.http.httpservletresponse;\nimport java.awt.*;\nimport java.awt.image.bufferedimage;\nimport java.io.ioexception;\nimport java.util.random;\n\npublic class imageservlet extends httpservlet {\n\n    @override\n    protected void doget(httpservletrequest req, httpservletresponse resp) throws servletexception, ioexception {\n\n        //å¦ä½è®©æµè§å¨3ç§èªå¨å·æ°ä¸æ¬¡;\n        resp.setheader("refresh","3");\n        \n        //å¨åå­ä¸­åå»ºä¸ä¸ªå¾ç\n        bufferedimage image = new bufferedimage(80,20,bufferedimage.type_int_rgb);\n        //å¾å°å¾ç\n        graphics2d g = (graphics2d) image.getgraphics(); //ç¬\n        //è®¾ç½®å¾ççèæ¯é¢è²\n        g.setcolor(color.white);\n        g.fillrect(0,0,80,20);\n        //ç»å¾çåæ°æ®\n        g.setcolor(color.blue);\n        g.setfont(new font(null,font.bold,20));\n        g.drawstring(makenum(),0,20);\n\n        //åè¯æµè§å¨ï¼è¿ä¸ªè¯·æ±ç¨å¾ççæ¹å¼æå¼\n        resp.setcontenttype("image/jpeg");\n        //ç½ç«å­å¨ç¼å­ï¼ä¸è®©æµè§å¨ç¼å­\n        resp.setdateheader("expires",-1);\n        resp.setheader("cache-control","no-cache");\n        resp.setheader("pragma","no-cache");\n\n        //æå¾çåç»æµè§å¨\n        imageio.write(image,"jpg", resp.getoutputstream());\n\n    }\n\n    //çæéæºæ°\n    private string makenum(){\n        random random = new random();\n        string num = random.nextint(9999999) + "";\n        stringbuffer sb = new stringbuffer();\n        for (int i = 0; i < 7-num.length() ; i++) {\n            sb.append("0");\n        }\n        num = sb.tostring() + num;\n        return num;\n    }\n\n\n    @override\n    protected void dopost(httpservletrequest req, httpservletresponse resp) throws servletexception, ioexception {\n        doget(req, resp);\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n\n\n# 4ãå®ç°éå®å\n\n\n\nbä¸ä¸ªwebèµæºæ¶å°å®¢æ·ç«¯aè¯·æ±åï¼bä»ä¼éç¥aå®¢æ·ç«¯å»è®¿é®å¦å¤ä¸ä¸ªwebèµæºcï¼è¿ä¸ªè¿ç¨å«éå®å\n\nå¸¸è§åºæ¯ï¼\n\n * ç¨æ·ç»å½\n\nvoid sendredirect(string var1) throws ioexception;\n\n\n1\n\n\næµè¯ï¼\n\n@override\nprotected void doget(httpservletrequest req, httpservletresponse resp) throws servletexception, ioexception {\n\n    /*\n        resp.setheader("location","/r/img");\n        resp.setstatus(302);\n         */\n    resp.sendredirect("/r/img");//éå®å\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\né¢è¯é¢ï¼è¯·ä½ èèéå®ååè½¬åçåºå«ï¼\n\nç¸åç¹\n\n * é¡µé¢é½ä¼å®ç°è·³è½¬\n\nä¸åç¹\n\n * è¯·æ±è½¬åçæ¶åï¼urlä¸ä¼äº§çåå\n * éå®åæ¶åï¼urlå°åæ ä¼åçååï¼\n\n\n\n# 5ãç®åå®ç°ç»å½éå®å\n\n<%--è¿éæäº¤çè·¯å¾ï¼éè¦å¯»æ¾å°é¡¹ç®çè·¯å¾--%>\n<%--${pagecontext.request.contextpath}ä»£è¡¨å½åçé¡¹ç®--%>\n\n<form action="${pagecontext.request.contextpath}/login" method="get">\n    ç¨æ·åï¼<input type="text" name="username"> <br>\n    å¯ç ï¼<input type="password" name="password"> <br>\n    <input type="submit">\n</form>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n    @override\n    protected void doget(httpservletrequest req, httpservletresponse resp) throws servletexception, ioexception {\n        //å¤çè¯·æ±\n        string username = req.getparameter("username");\n        string password = req.getparameter("password");\n\n        system.out.println(username+":"+password);\n\n        //éå®åæ¶åä¸å®è¦æ³¨æï¼è·¯å¾é®é¢ï¼å¦å404ï¼\n        resp.sendredirect("/r/success.jsp");\n    }\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n  <servlet>\n    <servlet-name>requset</servlet-name>\n    <servlet-class>com.kuang.servlet.requesttest</servlet-class>\n  </servlet>\n  <servlet-mapping>\n    <servlet-name>requset</servlet-name>\n    <url-pattern>/login</url-pattern>\n  </servlet-mapping>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n<%@ page contenttype="text/html;charset=utf-8" language="java" %>\n<html>\n<head>\n    <title>title</title>\n</head>\n<body>\n\n<h1>success</h1>\n\n</body>\n</html>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 6.7ãhttpservletrequest\n\nhttpservletrequestä»£è¡¨å®¢æ·ç«¯çè¯·æ±ï¼ç¨æ·éè¿httpåè®®è®¿é®æå¡å¨ï¼httpè¯·æ±ä¸­çææä¿¡æ¯ä¼è¢«å°è£å°httpservletrequestï¼éè¿è¿ä¸ªhttpservletrequestçæ¹æ³ï¼è·å¾å®¢æ·ç«¯çææä¿¡æ¯ï¼\n\n\n\n\n\n# è·ååæ°ï¼è¯·æ±è½¬å\n\n\n\n@override\nprotected void doget(httpservletrequest req, httpservletresponse resp) throws servletexception, ioexception {\n\n    req.setcharacterencoding("utf-8");\n    resp.setcharacterencoding("utf-8");\n\n    string username = req.getparameter("username");\n    string password = req.getparameter("password");\n    string[] hobbys = req.getparametervalues("hobbys");\n    system.out.println("=============================");\n    //åå°æ¥æ¶ä¸­æä¹±ç é®é¢\n    system.out.println(username);\n    system.out.println(password);\n    system.out.println(arrays.tostring(hobbys));\n    system.out.println("=============================");\n\n\n    system.out.println(req.getcontextpath());\n    //éè¿è¯·æ±è½¬å\n    //è¿éç / ä»£è¡¨å½åçwebåºç¨\n    req.getrequestdispatcher("/success.jsp").forward(req,resp);\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\né¢è¯é¢ï¼è¯·ä½ èèéå®ååè½¬åçåºå«ï¼\n\nç¸åç¹\n\n * é¡µé¢é½ä¼å®ç°è·³è½¬\n\nä¸åç¹\n\n * è¯·æ±è½¬åçæ¶åï¼urlä¸ä¼äº§çåå 307\n * éå®åæ¶åï¼urlå°åæ ä¼åçååï¼ 302',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"JavaWeb - CookieåSession",frontmatter:{title:"JavaWeb - CookieåSession",author:{name:"è´è¿",link:"https://oddfar.com"},categories:["java","java-web"],date:"2021-05-07T18:09:11.000Z",permalink:"/pages/d20044/"},regularPath:"/01.Java/20.JavaWeb/06.cookie%E5%92%8Csession.html",relativePath:"01.Java/20.JavaWeb/06.cookieåsession.md",key:"v-fa5b3454",path:"/pages/d20044/",headers:[{level:2,title:"7ãCookieãSession",slug:"_7ãcookieãsession",normalizedTitle:"7ãcookieãsession",charIndex:2},{level:3,title:"7.1ãä¼è¯",slug:"_7-1ãä¼è¯",normalizedTitle:"7.1ãä¼è¯",charIndex:23},{level:3,title:"7.2ãä¿å­ä¼è¯çä¸¤ç§ææ¯",slug:"_7-2ãä¿å­ä¼è¯çä¸¤ç§ææ¯",normalizedTitle:"7.2ãä¿å­ä¼è¯çä¸¤ç§ææ¯",charIndex:294},{level:3,title:"7.3ãCookie",slug:"_7-3ãcookie",normalizedTitle:"7.3ãcookie",charIndex:436},{level:3,title:"7.4ãSessionï¼éç¹ï¼",slug:"_7-4ãsession-éç¹",normalizedTitle:"7.4ãsessionï¼éç¹ï¼",charIndex:1087}],headersStr:"7ãCookieãSession 7.1ãä¼è¯ 7.2ãä¿å­ä¼è¯çä¸¤ç§ææ¯ 7.3ãCookie 7.4ãSessionï¼éç¹ï¼",content:'# 7ãCookieãSession\n\n\n# 7.1ãä¼è¯\n\nä¼è¯ï¼ç¨æ·æå¼ä¸ä¸ªæµè§å¨ï¼ç¹å»äºå¾å¤è¶é¾æ¥ï¼è®¿é®å¤ä¸ªwebèµæºï¼å³é­æµè§å¨ï¼è¿ä¸ªè¿ç¨å¯ä»¥ç§°ä¹ä¸ºä¼è¯ï¼\n\næç¶æä¼è¯ï¼ä¸ä¸ªåå­¦æ¥è¿æå®¤ï¼ä¸æ¬¡åæ¥æå®¤ï¼æä»¬ä¼ç¥éè¿ä¸ªåå­¦ï¼æ¾ç»æ¥è¿ï¼ç§°ä¹ä¸ºæç¶æä¼è¯ï¼\n\nä½ è½æä¹è¯æä½ æ¯è¥¿å¼çå­¦çï¼\n\nä½  è¥¿å¼\n\n 1. åç¥¨ è¥¿å¼ç»ä½ åç¥¨\n 2. å­¦æ ¡ç»è®° è¥¿å¼æ è®°ä½ æ¥è¿äº\n\nä¸ä¸ªç½ç«ï¼æä¹è¯æä½ æ¥è¿ï¼\n\nå®¢æ·ç«¯ æå¡ç«¯\n\n 1. æå¡ç«¯ç»å®¢æ·ç«¯ä¸ä¸ª ä¿¡ä»¶ï¼å®¢æ·ç«¯ä¸æ¬¡è®¿é®æå¡ç«¯å¸¦ä¸ä¿¡ä»¶å°±å¯ä»¥äºï¼ cookie\n 2. æå¡å¨ç»è®°ä½ æ¥è¿äºï¼ä¸æ¬¡ä½ æ¥çæ¶åææ¥å¹éä½ ï¼ seesion\n\n\n# 7.2ãä¿å­ä¼è¯çä¸¤ç§ææ¯\n\ncookie\n\n * å®¢æ·ç«¯ææ¯ ï¼ååºï¼è¯·æ±ï¼\n\nsession\n\n * æå¡å¨ææ¯ï¼å©ç¨è¿ä¸ªææ¯ï¼å¯ä»¥ä¿å­ç¨æ·çä¼è¯ä¿¡æ¯ï¼ æä»¬å¯ä»¥æä¿¡æ¯æèæ°æ®æ¾å¨Sessionä¸­ï¼\n\nå¸¸è§å¸¸è§ï¼ç½ç«ç»å½ä¹åï¼ä½ ä¸æ¬¡ä¸ç¨åç»å½äºï¼ç¬¬äºæ¬¡è®¿é®ç´æ¥å°±ä¸å»äºï¼\n\n\n# 7.3ãCookie\n\n\n\n 1. ä»è¯·æ±ä¸­æ¿å°cookieä¿¡æ¯\n 2. æå¡å¨ååºç»å®¢æ·ç«¯cookie\n\nCookie[] cookies = req.getCookies(); //è·å¾Cookie\ncookie.getName(); //è·å¾cookieä¸­çkey\ncookie.getValue(); //è·å¾cookieä¸­çvlaue\nnew Cookie("lastLoginTime", System.currentTimeMillis()+""); //æ°å»ºä¸ä¸ªcookie\ncookie.setMaxAge(24*60*60); //è®¾ç½®cookieçæææ\nresp.addCookie(cookie); //ååºç»å®¢æ·ç«¯ä¸ä¸ªcookie\n\n\n1\n2\n3\n4\n5\n6\n\n\ncookieï¼ä¸è¬ä¼ä¿å­å¨æ¬å°ç ç¨æ·ç®å½ä¸ appdataï¼\n\nä¸ä¸ªç½ç«cookieæ¯å¦å­å¨ä¸éï¼èèç»èé®é¢\n\n * ä¸ä¸ªCookieåªè½ä¿å­ä¸ä¸ªä¿¡æ¯ï¼\n * ä¸ä¸ªwebç«ç¹å¯ä»¥ç»æµè§å¨åéå¤ä¸ªcookieï¼æå¤å­æ¾20ä¸ªcookieï¼\n * Cookieå¤§å°æéå¶4kbï¼\n * 300ä¸ªcookieæµè§å¨ä¸é\n\nå é¤Cookieï¼\n\n * ä¸è®¾ç½®æææï¼å³é­æµè§å¨ï¼èªå¨å¤±æï¼\n * è®¾ç½®ææææ¶é´ä¸º 0 ï¼\n\nç¼ç è§£ç ï¼\n\nURLEncoder.encode("ç§¦ç","utf-8")\nURLDecoder.decode(cookie.getValue(),"UTF-8")\n\n\n1\n2\n\n\n\n# 7.4ãSessionï¼éç¹ï¼\n\n\n\nä»ä¹æ¯Sessionï¼\n\n * æå¡å¨ä¼ç»æ¯ä¸ä¸ªç¨æ·ï¼æµè§å¨ï¼åå»ºä¸ä¸ªSeesionå¯¹è±¡ï¼\n * ä¸ä¸ªSeesionç¬å ä¸ä¸ªæµè§å¨ï¼åªè¦æµè§å¨æ²¡æå³é­ï¼è¿ä¸ªSessionå°±å­å¨ï¼\n * ç¨æ·ç»å½ä¹åï¼æ´ä¸ªç½ç«å®é½å¯ä»¥è®¿é®ï¼--\x3e ä¿å­ç¨æ·çä¿¡æ¯ï¼ä¿å­è´­ç©è½¦çä¿¡æ¯â¦..\n\n\n\nSessionåcookieçåºå«ï¼\n\n * Cookieæ¯æç¨æ·çæ°æ®åç»ç¨æ·çæµè§å¨ï¼æµè§å¨ä¿å­ ï¼å¯ä»¥ä¿å­å¤ä¸ªï¼\n * Sessionæç¨æ·çæ°æ®åå°ç¨æ·ç¬å Sessionä¸­ï¼æå¡å¨ç«¯ä¿å­ ï¼ä¿å­éè¦çä¿¡æ¯ï¼åå°æå¡å¨èµæºçæµªè´¹ï¼\n * Sessionå¯¹è±¡ç±æå¡åå»ºï¼\n\nä½¿ç¨åºæ¯ï¼\n\n * ä¿å­ä¸ä¸ªç»å½ç¨æ·çä¿¡æ¯ï¼\n * è´­ç©è½¦ä¿¡æ¯ï¼\n * å¨æ´ä¸ªç½ç«ä¸­ç»å¸¸ä¼ä½¿ç¨çæ°æ®ï¼æä»¬å°å®ä¿å­å¨Sessionä¸­ï¼\n\nä½¿ç¨Sessionï¼\n\npackage com.kuang.servlet;\n\nimport com.kuang.pojo.Person;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.http.*;\nimport java.io.IOException;\n\npublic class SessionDemo01 extends HttpServlet {\n    @Override\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        \n        //è§£å³ä¹±ç é®é¢\n        req.setCharacterEncoding("UTF-8");\n        resp.setCharacterEncoding("UTF-8");\n        resp.setContentType("text/html;charset=utf-8");\n        \n        //å¾å°Session\n        HttpSession session = req.getSession();\n        //ç»Sessionä¸­å­ä¸è¥¿\n        session.setAttribute("name",new Person("ç§¦ç",1));\n        //è·åSessionçID\n        String sessionId = session.getId();\n\n        //å¤æ­Sessionæ¯ä¸æ¯æ°åå»º\n        if (session.isNew()){\n            resp.getWriter().write("sessionåå»ºæå,ID:"+sessionId);\n        }else {\n            resp.getWriter().write("sessionä»¥åå¨æå¡å¨ä¸­å­å¨äº,ID:"+sessionId);\n        }\n\n        //Sessionåå»ºçæ¶ååäºä»ä¹äºæï¼\n//        Cookie cookie = new Cookie("JSESSIONID",sessionId);\n//        resp.addCookie(cookie);\n\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        doGet(req, resp);\n    }\n}\n\n//å¾å°Session\nHttpSession session = req.getSession();\n\nPerson person = (Person) session.getAttribute("name");\n\nSystem.out.println(person.toString());\n\nHttpSession session = req.getSession();\nsession.removeAttribute("name");\n//æå¨æ³¨éSession\nsession.invalidate();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n\n\nä¼è¯èªå¨è¿æï¼web.xmléç½®\n\n\x3c!--è®¾ç½®Sessioné»è®¤çå¤±ææ¶é´--\x3e\n<session-config>\n    \x3c!--15åéåSessionèªå¨å¤±æï¼ä»¥åéä¸ºåä½--\x3e\n    <session-timeout>15</session-timeout>\n</session-config>\n\n\n1\n2\n3\n4\n5\n\n\n',normalizedContent:'# 7ãcookieãsession\n\n\n# 7.1ãä¼è¯\n\nä¼è¯ï¼ç¨æ·æå¼ä¸ä¸ªæµè§å¨ï¼ç¹å»äºå¾å¤è¶é¾æ¥ï¼è®¿é®å¤ä¸ªwebèµæºï¼å³é­æµè§å¨ï¼è¿ä¸ªè¿ç¨å¯ä»¥ç§°ä¹ä¸ºä¼è¯ï¼\n\næç¶æä¼è¯ï¼ä¸ä¸ªåå­¦æ¥è¿æå®¤ï¼ä¸æ¬¡åæ¥æå®¤ï¼æä»¬ä¼ç¥éè¿ä¸ªåå­¦ï¼æ¾ç»æ¥è¿ï¼ç§°ä¹ä¸ºæç¶æä¼è¯ï¼\n\nä½ è½æä¹è¯æä½ æ¯è¥¿å¼çå­¦çï¼\n\nä½  è¥¿å¼\n\n 1. åç¥¨ è¥¿å¼ç»ä½ åç¥¨\n 2. å­¦æ ¡ç»è®° è¥¿å¼æ è®°ä½ æ¥è¿äº\n\nä¸ä¸ªç½ç«ï¼æä¹è¯æä½ æ¥è¿ï¼\n\nå®¢æ·ç«¯ æå¡ç«¯\n\n 1. æå¡ç«¯ç»å®¢æ·ç«¯ä¸ä¸ª ä¿¡ä»¶ï¼å®¢æ·ç«¯ä¸æ¬¡è®¿é®æå¡ç«¯å¸¦ä¸ä¿¡ä»¶å°±å¯ä»¥äºï¼ cookie\n 2. æå¡å¨ç»è®°ä½ æ¥è¿äºï¼ä¸æ¬¡ä½ æ¥çæ¶åææ¥å¹éä½ ï¼ seesion\n\n\n# 7.2ãä¿å­ä¼è¯çä¸¤ç§ææ¯\n\ncookie\n\n * å®¢æ·ç«¯ææ¯ ï¼ååºï¼è¯·æ±ï¼\n\nsession\n\n * æå¡å¨ææ¯ï¼å©ç¨è¿ä¸ªææ¯ï¼å¯ä»¥ä¿å­ç¨æ·çä¼è¯ä¿¡æ¯ï¼ æä»¬å¯ä»¥æä¿¡æ¯æèæ°æ®æ¾å¨sessionä¸­ï¼\n\nå¸¸è§å¸¸è§ï¼ç½ç«ç»å½ä¹åï¼ä½ ä¸æ¬¡ä¸ç¨åç»å½äºï¼ç¬¬äºæ¬¡è®¿é®ç´æ¥å°±ä¸å»äºï¼\n\n\n# 7.3ãcookie\n\n\n\n 1. ä»è¯·æ±ä¸­æ¿å°cookieä¿¡æ¯\n 2. æå¡å¨ååºç»å®¢æ·ç«¯cookie\n\ncookie[] cookies = req.getcookies(); //è·å¾cookie\ncookie.getname(); //è·å¾cookieä¸­çkey\ncookie.getvalue(); //è·å¾cookieä¸­çvlaue\nnew cookie("lastlogintime", system.currenttimemillis()+""); //æ°å»ºä¸ä¸ªcookie\ncookie.setmaxage(24*60*60); //è®¾ç½®cookieçæææ\nresp.addcookie(cookie); //ååºç»å®¢æ·ç«¯ä¸ä¸ªcookie\n\n\n1\n2\n3\n4\n5\n6\n\n\ncookieï¼ä¸è¬ä¼ä¿å­å¨æ¬å°ç ç¨æ·ç®å½ä¸ appdataï¼\n\nä¸ä¸ªç½ç«cookieæ¯å¦å­å¨ä¸éï¼èèç»èé®é¢\n\n * ä¸ä¸ªcookieåªè½ä¿å­ä¸ä¸ªä¿¡æ¯ï¼\n * ä¸ä¸ªwebç«ç¹å¯ä»¥ç»æµè§å¨åéå¤ä¸ªcookieï¼æå¤å­æ¾20ä¸ªcookieï¼\n * cookieå¤§å°æéå¶4kbï¼\n * 300ä¸ªcookieæµè§å¨ä¸é\n\nå é¤cookieï¼\n\n * ä¸è®¾ç½®æææï¼å³é­æµè§å¨ï¼èªå¨å¤±æï¼\n * è®¾ç½®ææææ¶é´ä¸º 0 ï¼\n\nç¼ç è§£ç ï¼\n\nurlencoder.encode("ç§¦ç","utf-8")\nurldecoder.decode(cookie.getvalue(),"utf-8")\n\n\n1\n2\n\n\n\n# 7.4ãsessionï¼éç¹ï¼\n\n\n\nä»ä¹æ¯sessionï¼\n\n * æå¡å¨ä¼ç»æ¯ä¸ä¸ªç¨æ·ï¼æµè§å¨ï¼åå»ºä¸ä¸ªseesionå¯¹è±¡ï¼\n * ä¸ä¸ªseesionç¬å ä¸ä¸ªæµè§å¨ï¼åªè¦æµè§å¨æ²¡æå³é­ï¼è¿ä¸ªsessionå°±å­å¨ï¼\n * ç¨æ·ç»å½ä¹åï¼æ´ä¸ªç½ç«å®é½å¯ä»¥è®¿é®ï¼--\x3e ä¿å­ç¨æ·çä¿¡æ¯ï¼ä¿å­è´­ç©è½¦çä¿¡æ¯â¦..\n\n\n\nsessionåcookieçåºå«ï¼\n\n * cookieæ¯æç¨æ·çæ°æ®åç»ç¨æ·çæµè§å¨ï¼æµè§å¨ä¿å­ ï¼å¯ä»¥ä¿å­å¤ä¸ªï¼\n * sessionæç¨æ·çæ°æ®åå°ç¨æ·ç¬å sessionä¸­ï¼æå¡å¨ç«¯ä¿å­ ï¼ä¿å­éè¦çä¿¡æ¯ï¼åå°æå¡å¨èµæºçæµªè´¹ï¼\n * sessionå¯¹è±¡ç±æå¡åå»ºï¼\n\nä½¿ç¨åºæ¯ï¼\n\n * ä¿å­ä¸ä¸ªç»å½ç¨æ·çä¿¡æ¯ï¼\n * è´­ç©è½¦ä¿¡æ¯ï¼\n * å¨æ´ä¸ªç½ç«ä¸­ç»å¸¸ä¼ä½¿ç¨çæ°æ®ï¼æä»¬å°å®ä¿å­å¨sessionä¸­ï¼\n\nä½¿ç¨sessionï¼\n\npackage com.kuang.servlet;\n\nimport com.kuang.pojo.person;\n\nimport javax.servlet.servletexception;\nimport javax.servlet.http.*;\nimport java.io.ioexception;\n\npublic class sessiondemo01 extends httpservlet {\n    @override\n    protected void doget(httpservletrequest req, httpservletresponse resp) throws servletexception, ioexception {\n        \n        //è§£å³ä¹±ç é®é¢\n        req.setcharacterencoding("utf-8");\n        resp.setcharacterencoding("utf-8");\n        resp.setcontenttype("text/html;charset=utf-8");\n        \n        //å¾å°session\n        httpsession session = req.getsession();\n        //ç»sessionä¸­å­ä¸è¥¿\n        session.setattribute("name",new person("ç§¦ç",1));\n        //è·åsessionçid\n        string sessionid = session.getid();\n\n        //å¤æ­sessionæ¯ä¸æ¯æ°åå»º\n        if (session.isnew()){\n            resp.getwriter().write("sessionåå»ºæå,id:"+sessionid);\n        }else {\n            resp.getwriter().write("sessionä»¥åå¨æå¡å¨ä¸­å­å¨äº,id:"+sessionid);\n        }\n\n        //sessionåå»ºçæ¶ååäºä»ä¹äºæï¼\n//        cookie cookie = new cookie("jsessionid",sessionid);\n//        resp.addcookie(cookie);\n\n    }\n\n    @override\n    protected void dopost(httpservletrequest req, httpservletresponse resp) throws servletexception, ioexception {\n        doget(req, resp);\n    }\n}\n\n//å¾å°session\nhttpsession session = req.getsession();\n\nperson person = (person) session.getattribute("name");\n\nsystem.out.println(person.tostring());\n\nhttpsession session = req.getsession();\nsession.removeattribute("name");\n//æå¨æ³¨ésession\nsession.invalidate();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n\n\nä¼è¯èªå¨è¿æï¼web.xmléç½®\n\n\x3c!--è®¾ç½®sessioné»è®¤çå¤±ææ¶é´--\x3e\n<session-config>\n    \x3c!--15åéåsessionèªå¨å¤±æï¼ä»¥åéä¸ºåä½--\x3e\n    <session-timeout>15</session-timeout>\n</session-config>\n\n\n1\n2\n3\n4\n5\n\n\n',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"JavaWeb - Maven",frontmatter:{title:"JavaWeb - Maven",categories:["java","java-web"],date:"2021-05-15T18:09:11.000Z",permalink:"/pages/cb259f/"},regularPath:"/01.Java/20.JavaWeb/04.Maven.html",relativePath:"01.Java/20.JavaWeb/04.Maven.md",key:"v-049ddce1",path:"/pages/cb259f/",headers:[{level:2,title:"5.1 Mavené¡¹ç®æ¶æç®¡çå·¥å·",slug:"_5-1-mavené¡¹ç®æ¶æç®¡çå·¥å·",normalizedTitle:"5.1 mavené¡¹ç®æ¶æç®¡çå·¥å·",charIndex:119},{level:2,title:"5.2 ä¸è½½å®è£Maven",slug:"_5-2-ä¸è½½å®è£maven",normalizedTitle:"5.2 ä¸è½½å®è£maven",charIndex:234},{level:2,title:"5.3 éç½®ç¯å¢åé",slug:"_5-3-éç½®ç¯å¢åé",normalizedTitle:"5.3 éç½®ç¯å¢åé",charIndex:309},{level:2,title:"5.4 é¿éäºéå",slug:"_5-4-é¿éäºéå",normalizedTitle:"5.4 é¿éäºéå",charIndex:483},{level:2,title:"5.5 æ¬å°ä»åº",slug:"_5-5-æ¬å°ä»åº",normalizedTitle:"5.5 æ¬å°ä»åº",charIndex:765},{level:2,title:"5.6ãå¨IDEAä¸­ä½¿ç¨Maven",slug:"_5-6ãå¨ideaä¸­ä½¿ç¨maven",normalizedTitle:"5.6ãå¨ideaä¸­ä½¿ç¨maven",charIndex:885},{level:2,title:"5.7ãåå»ºä¸ä¸ªæ®éçMavené¡¹ç®",slug:"_5-7ãåå»ºä¸ä¸ªæ®éçmavené¡¹ç®",normalizedTitle:"5.7ãåå»ºä¸ä¸ªæ®éçmavené¡¹ç®",charIndex:1230},{level:2,title:"5.8 æ è®°æä»¶å¤¹åè½",slug:"_5-8-æ è®°æä»¶å¤¹åè½",normalizedTitle:"5.8 æ è®°æä»¶å¤¹åè½",charIndex:1276},{level:2,title:"5.9 å¨ IDEAä¸­éç½®Tomcat",slug:"_5-9-å¨-ideaä¸­éç½®tomcat",normalizedTitle:"5.9 å¨ ideaä¸­éç½®tomcat",charIndex:1300},{level:2,title:"5.10 pomæä»¶",slug:"_5-10-pomæä»¶",normalizedTitle:"5.10 pomæä»¶",charIndex:1388},{level:2,title:"5.12 IDEAæä½",slug:"_5-12-ideaæä½",normalizedTitle:"5.12 ideaæä½",charIndex:4669},{level:2,title:"5.13 è§£å³éå°çé®é¢",slug:"_5-13-è§£å³éå°çé®é¢",normalizedTitle:"5.13 è§£å³éå°çé®é¢",charIndex:4689}],headersStr:"5.1 Mavené¡¹ç®æ¶æç®¡çå·¥å· 5.2 ä¸è½½å®è£Maven 5.3 éç½®ç¯å¢åé 5.4 é¿éäºéå 5.5 æ¬å°ä»åº 5.6ãå¨IDEAä¸­ä½¿ç¨Maven 5.7ãåå»ºä¸ä¸ªæ®éçMavené¡¹ç® 5.8 æ è®°æä»¶å¤¹åè½ 5.9 å¨ IDEAä¸­éç½®Tomcat 5.10 pomæä»¶ 5.12 IDEAæä½ 5.13 è§£å³éå°çé®é¢",content:'# 5ãMaven\n\næä¸ºä»ä¹è¦å­¦ä¹ è¿ä¸ªææ¯ï¼\n\n 1. å¨Javawebå¼åä¸­ï¼éè¦ä½¿ç¨å¤§éçjaråï¼æä»¬æå¨å»å¯¼å¥ï¼\n\n 2. å¦ä½è½å¤è®©ä¸ä¸ªä¸è¥¿èªå¨å¸®æå¯¼å¥åéç½®è¿ä¸ªjaråã\n    \n    ç±æ­¤ï¼Mavenè¯çäºï¼\n\n\n# 5.1 Mavené¡¹ç®æ¶æç®¡çå·¥å·\n\næä»¬ç®åç¨æ¥å°±æ¯æ¹ä¾¿å¯¼å¥jaråçï¼\n\nMavençæ ¸å¿ææ³ï¼çº¦å®å¤§äºéç½®\n\n * æçº¦æï¼ä¸è¦å»è¿åã\n\nMavenä¼è§å®å¥½ä½ è¯¥å¦ä½å»ç¼åæä»¬çJavaä»£ç ï¼å¿é¡»è¦æç§è¿ä¸ªè§èæ¥ï¼\n\n\n# 5.2 ä¸è½½å®è£Maven\n\nå®ç½:https://maven.apache.org/ï¼å¨Downloadé¡µé¢\n\n\n\nä¸è½½å®æåï¼è§£åå³å¯ï¼\n\n\n# 5.3 éç½®ç¯å¢åé\n\nå¨æä»¬çç³»ç»ç¯å¢åéä¸­ï¼éç½®å¦ä¸ï¼\n\n * M2_HOME\n   \n   mavenç®å½ä¸çbinç®å½\n\n * MAVEN_HOME\n   \n   mavençç®å½\n   \n   \n\n * å¨ç³»ç»çpathä¸­éç½®\n   \n   %MAVEN_HOME%\\bin\n\n\n\næµè¯Mavenæ¯å¦å®è£æåï¼ä¿è¯å¿é¡»éç½®å®æ¯ï¼\n\n\n# 5.4 é¿éäºéå\n\n\n\n * éåï¼mirrors\n   \n   ä½ç¨ï¼å éæä»¬çä¸è½½\n\n * å½åå»ºè®®ä½¿ç¨é¿éäºçéå\n\n<mirror>\n    <id>nexus-aliyun</id>  \n    <mirrorOf>*,!jeecg,!jeecg-snapshots</mirrorOf>  \n    <name>Nexus aliyun</name>  \n    <url>http://maven.aliyun.com/nexus/content/groups/public</url> \n</mirror>\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 5.5 æ¬å°ä»åº\n\nå»ºç«ä¸ä¸ªæ¬å°ä»åºï¼ä¿®æ¹éç½®éçä»¥ä¸åå®¹\n\n<localRepository>D:\\Environment\\apache-maven-3.6.2\\maven-repo</localRepository>\n\n\n1\n\n\n\n# 5.6ãå¨IDEAä¸­ä½¿ç¨Maven\n\n> åå¨ideaéé¢éç½®\n\nå¨ä¸»é¡µé¢ä¸­éç½®ï¼è¿æ ·å°±ä¸ç¨æ¯ä¸ªé¡¹ç®éç½®äºã\n\n\n\nç¹å»Settingsï¼éæ©Mavenï¼éç½®è¿ä¸ä¸ª\n\n\n\n> åå»ºé¡¹ç®ï¼\n\n 1. å¯å¨IDEA\n\n 2. åå»ºä¸ä¸ªMavenWebé¡¹ç®\n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n\n 3. ç­å¾é¡¹ç®åå§åå®æ¯\n    \n    \n    \n    \n\n 4. è§å¯mavenä»åºä¸­å¤äºä»ä¹ä¸è¥¿ï¼\n\n 5. IDEAä¸­çMavenè®¾ç½®\n    \n    æ³¨æï¼IDEAé¡¹ç®åå»ºæååï¼çä¸ç¼Mavençéç½®\n    \n    \n    \n    \n\n 6. å°è¿éï¼Mavenå¨IDEAä¸­çéç½®åä½¿ç¨å°±OKäº!\n\n\n# 5.7ãåå»ºä¸ä¸ªæ®éçMavené¡¹ç®\n\n\n\n\n\nè¿ä¸ªåªæå¨Webåºç¨ä¸æä¼æï¼\n\n\n\n\n# 5.8 æ è®°æä»¶å¤¹åè½\n\n\n\n\n\n\n\n\n\n\n# 5.9 å¨ IDEAä¸­éç½®Tomcat\n\n\n\n\n\n\n\n\n\nè§£å³è­¦åé®é¢\n\nå¿é¡»è¦çéç½®ï¼ä¸ºä»ä¹ä¼æè¿ä¸ªé®é¢ï¼æä»¬è®¿é®ä¸ä¸ªç½ç«ï¼éè¦æå®ä¸ä¸ªæä»¶å¤¹åå­ï¼\n\n\n\n\n\n\n\n\n\n\n# 5.10 pomæä»¶\n\npom.xml æ¯Mavençæ ¸å¿éç½®æä»¶\n\n\n\n<?xml version="1.0" encoding="UTF-8"?>\n\n\x3c!--Mavençæ¬åå¤´æä»¶--\x3e\n<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">\n  <modelVersion>4.0.0</modelVersion>\n\n  \x3c!--è¿éå°±æ¯æä»¬åæéç½®çGAV--\x3e\n  <groupId>com.kuang</groupId>\n  <artifactId>javaweb-01-maven</artifactId>\n  <version>1.0-SNAPSHOT</version>\n  \x3c!--Packageï¼é¡¹ç®çæåæ¹å¼\n  jarï¼javaåºç¨\n  warï¼JavaWebåºç¨\n  --\x3e\n  <packaging>war</packaging>\n\n\n  \x3c!--éç½®--\x3e\n  <properties>\n    \x3c!--é¡¹ç®çé»è®¤æå»ºç¼ç --\x3e\n    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n    \x3c!--ç¼ç çæ¬--\x3e\n    <maven.compiler.source>1.8</maven.compiler.source>\n    <maven.compiler.target>1.8</maven.compiler.target>\n  </properties>\n\n  \x3c!--é¡¹ç®ä¾èµ--\x3e\n  <dependencies>\n    \x3c!--å·ä½ä¾èµçjaråéç½®æä»¶--\x3e\n    <dependency>\n      <groupId>junit</groupId>\n      <artifactId>junit</artifactId>\n      <version>4.11</version>\n    </dependency>\n  </dependencies>\n\n  \x3c!--é¡¹ç®æå»ºç¨çä¸è¥¿--\x3e\n  <build>\n    <finalName>javaweb-01-maven</finalName>\n    <pluginManagement>\x3c!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --\x3e\n      <plugins>\n        <plugin>\n          <artifactId>maven-clean-plugin</artifactId>\n          <version>3.1.0</version>\n        </plugin>\n        \x3c!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --\x3e\n        <plugin>\n          <artifactId>maven-resources-plugin</artifactId>\n          <version>3.0.2</version>\n        </plugin>\n        <plugin>\n          <artifactId>maven-compiler-plugin</artifactId>\n          <version>3.8.0</version>\n        </plugin>\n        <plugin>\n          <artifactId>maven-surefire-plugin</artifactId>\n          <version>2.22.1</version>\n        </plugin>\n        <plugin>\n          <artifactId>maven-war-plugin</artifactId>\n          <version>3.2.2</version>\n        </plugin>\n        <plugin>\n          <artifactId>maven-install-plugin</artifactId>\n          <version>2.5.2</version>\n        </plugin>\n        <plugin>\n          <artifactId>maven-deploy-plugin</artifactId>\n          <version>2.8.2</version>\n        </plugin>\n      </plugins>\n    </pluginManagement>\n  </build>\n</project>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n\n\n\n\nmavenç±äºä»ççº¦å®å¤§äºéç½®ï¼æä»¬ä¹åå¯ä»¥è½éå°æä»¬åçéç½®æä»¶ï¼æ æ³è¢«å¯¼åºæèçæçé®é¢ï¼è§£å³æ¹æ¡ï¼\n\n\x3c!--å¨buildä¸­éç½®resourcesï¼æ¥é²æ­¢æä»¬èµæºå¯¼åºå¤±è´¥çé®é¢--\x3e\n<build>\n    <resources>\n        <resource>\n            <directory>src/main/resources</directory>\n            <includes>\n                <include>**/*.properties</include>\n                <include>**/*.xml</include>\n            </includes>\n            <filtering>true</filtering>\n        </resource>\n        <resource>\n            <directory>src/main/java</directory>\n            <includes>\n                <include>**/*.properties</include>\n                <include>**/*.xml</include>\n            </includes>\n            <filtering>true</filtering>\n        </resource>\n    </resources>\n</build>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# 5.12 IDEAæä½\n\n\n\n\n\n\n# 5.13 è§£å³éå°çé®é¢\n\n 1. Maven 3.6.2\n    \n    è§£å³æ¹æ³ï¼éçº§ä¸º3.6.1\n    \n    \n\n 2. Tomcatéªé\n\n 3. IDEAä¸­æ¯æ¬¡é½è¦éå¤éç½®Maven å¨IDEAä¸­çå¨å±é»è®¤éç½®ä¸­å»éç½®\n    \n    \n    \n    \n\n 4. Mavené¡¹ç®ä¸­Tomcatæ æ³éç½®\n\n 5. mavené»è®¤webé¡¹ç®ä¸­çweb.xmlçæ¬é®é¢\n    \n    \n\n 6. æ¿æ¢ä¸ºwebapp4.0çæ¬åtomcatä¸è´\n    \n    <?xml version="1.0" encoding="UTF-8"?>\n    <web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee"\n             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n             xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee\n                          http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"\n             version="4.0"\n             metadata-complete="true">\n    \n    \n    \n    </web-app>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    \n\n 7. Mavenä»åºçä½¿ç¨\n    \n    å°åï¼https://mvnrepository.com/\n    \n    \n    \n    \n    \n    \n    \n    ',normalizedContent:'# 5ãmaven\n\næä¸ºä»ä¹è¦å­¦ä¹ è¿ä¸ªææ¯ï¼\n\n 1. å¨javawebå¼åä¸­ï¼éè¦ä½¿ç¨å¤§éçjaråï¼æä»¬æå¨å»å¯¼å¥ï¼\n\n 2. å¦ä½è½å¤è®©ä¸ä¸ªä¸è¥¿èªå¨å¸®æå¯¼å¥åéç½®è¿ä¸ªjaråã\n    \n    ç±æ­¤ï¼mavenè¯çäºï¼\n\n\n# 5.1 mavené¡¹ç®æ¶æç®¡çå·¥å·\n\næä»¬ç®åç¨æ¥å°±æ¯æ¹ä¾¿å¯¼å¥jaråçï¼\n\nmavençæ ¸å¿ææ³ï¼çº¦å®å¤§äºéç½®\n\n * æçº¦æï¼ä¸è¦å»è¿åã\n\nmavenä¼è§å®å¥½ä½ è¯¥å¦ä½å»ç¼åæä»¬çjavaä»£ç ï¼å¿é¡»è¦æç§è¿ä¸ªè§èæ¥ï¼\n\n\n# 5.2 ä¸è½½å®è£maven\n\nå®ç½:https://maven.apache.org/ï¼å¨downloadé¡µé¢\n\n\n\nä¸è½½å®æåï¼è§£åå³å¯ï¼\n\n\n# 5.3 éç½®ç¯å¢åé\n\nå¨æä»¬çç³»ç»ç¯å¢åéä¸­ï¼éç½®å¦ä¸ï¼\n\n * m2_home\n   \n   mavenç®å½ä¸çbinç®å½\n\n * maven_home\n   \n   mavençç®å½\n   \n   \n\n * å¨ç³»ç»çpathä¸­éç½®\n   \n   %maven_home%\\bin\n\n\n\næµè¯mavenæ¯å¦å®è£æåï¼ä¿è¯å¿é¡»éç½®å®æ¯ï¼\n\n\n# 5.4 é¿éäºéå\n\n\n\n * éåï¼mirrors\n   \n   ä½ç¨ï¼å éæä»¬çä¸è½½\n\n * å½åå»ºè®®ä½¿ç¨é¿éäºçéå\n\n<mirror>\n    <id>nexus-aliyun</id>  \n    <mirrorof>*,!jeecg,!jeecg-snapshots</mirrorof>  \n    <name>nexus aliyun</name>  \n    <url>http://maven.aliyun.com/nexus/content/groups/public</url> \n</mirror>\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 5.5 æ¬å°ä»åº\n\nå»ºç«ä¸ä¸ªæ¬å°ä»åºï¼ä¿®æ¹éç½®éçä»¥ä¸åå®¹\n\n<localrepository>d:\\environment\\apache-maven-3.6.2\\maven-repo</localrepository>\n\n\n1\n\n\n\n# 5.6ãå¨ideaä¸­ä½¿ç¨maven\n\n> åå¨ideaéé¢éç½®\n\nå¨ä¸»é¡µé¢ä¸­éç½®ï¼è¿æ ·å°±ä¸ç¨æ¯ä¸ªé¡¹ç®éç½®äºã\n\n\n\nç¹å»settingsï¼éæ©mavenï¼éç½®è¿ä¸ä¸ª\n\n\n\n> åå»ºé¡¹ç®ï¼\n\n 1. å¯å¨idea\n\n 2. åå»ºä¸ä¸ªmavenwebé¡¹ç®\n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n\n 3. ç­å¾é¡¹ç®åå§åå®æ¯\n    \n    \n    \n    \n\n 4. è§å¯mavenä»åºä¸­å¤äºä»ä¹ä¸è¥¿ï¼\n\n 5. ideaä¸­çmavenè®¾ç½®\n    \n    æ³¨æï¼ideaé¡¹ç®åå»ºæååï¼çä¸ç¼mavençéç½®\n    \n    \n    \n    \n\n 6. å°è¿éï¼mavenå¨ideaä¸­çéç½®åä½¿ç¨å°±okäº!\n\n\n# 5.7ãåå»ºä¸ä¸ªæ®éçmavené¡¹ç®\n\n\n\n\n\nè¿ä¸ªåªæå¨webåºç¨ä¸æä¼æï¼\n\n\n\n\n# 5.8 æ è®°æä»¶å¤¹åè½\n\n\n\n\n\n\n\n\n\n\n# 5.9 å¨ ideaä¸­éç½®tomcat\n\n\n\n\n\n\n\n\n\nè§£å³è­¦åé®é¢\n\nå¿é¡»è¦çéç½®ï¼ä¸ºä»ä¹ä¼æè¿ä¸ªé®é¢ï¼æä»¬è®¿é®ä¸ä¸ªç½ç«ï¼éè¦æå®ä¸ä¸ªæä»¶å¤¹åå­ï¼\n\n\n\n\n\n\n\n\n\n\n# 5.10 pomæä»¶\n\npom.xml æ¯mavençæ ¸å¿éç½®æä»¶\n\n\n\n<?xml version="1.0" encoding="utf-8"?>\n\n\x3c!--mavençæ¬åå¤´æä»¶--\x3e\n<project xmlns="http://maven.apache.org/pom/4.0.0" xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n  xsi:schemalocation="http://maven.apache.org/pom/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">\n  <modelversion>4.0.0</modelversion>\n\n  \x3c!--è¿éå°±æ¯æä»¬åæéç½®çgav--\x3e\n  <groupid>com.kuang</groupid>\n  <artifactid>javaweb-01-maven</artifactid>\n  <version>1.0-snapshot</version>\n  \x3c!--packageï¼é¡¹ç®çæåæ¹å¼\n  jarï¼javaåºç¨\n  warï¼javawebåºç¨\n  --\x3e\n  <packaging>war</packaging>\n\n\n  \x3c!--éç½®--\x3e\n  <properties>\n    \x3c!--é¡¹ç®çé»è®¤æå»ºç¼ç --\x3e\n    <project.build.sourceencoding>utf-8</project.build.sourceencoding>\n    \x3c!--ç¼ç çæ¬--\x3e\n    <maven.compiler.source>1.8</maven.compiler.source>\n    <maven.compiler.target>1.8</maven.compiler.target>\n  </properties>\n\n  \x3c!--é¡¹ç®ä¾èµ--\x3e\n  <dependencies>\n    \x3c!--å·ä½ä¾èµçjaråéç½®æä»¶--\x3e\n    <dependency>\n      <groupid>junit</groupid>\n      <artifactid>junit</artifactid>\n      <version>4.11</version>\n    </dependency>\n  </dependencies>\n\n  \x3c!--é¡¹ç®æå»ºç¨çä¸è¥¿--\x3e\n  <build>\n    <finalname>javaweb-01-maven</finalname>\n    <pluginmanagement>\x3c!-- lock down plugins versions to avoid using maven defaults (may be moved to parent pom) --\x3e\n      <plugins>\n        <plugin>\n          <artifactid>maven-clean-plugin</artifactid>\n          <version>3.1.0</version>\n        </plugin>\n        \x3c!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#plugin_bindings_for_war_packaging --\x3e\n        <plugin>\n          <artifactid>maven-resources-plugin</artifactid>\n          <version>3.0.2</version>\n        </plugin>\n        <plugin>\n          <artifactid>maven-compiler-plugin</artifactid>\n          <version>3.8.0</version>\n        </plugin>\n        <plugin>\n          <artifactid>maven-surefire-plugin</artifactid>\n          <version>2.22.1</version>\n        </plugin>\n        <plugin>\n          <artifactid>maven-war-plugin</artifactid>\n          <version>3.2.2</version>\n        </plugin>\n        <plugin>\n          <artifactid>maven-install-plugin</artifactid>\n          <version>2.5.2</version>\n        </plugin>\n        <plugin>\n          <artifactid>maven-deploy-plugin</artifactid>\n          <version>2.8.2</version>\n        </plugin>\n      </plugins>\n    </pluginmanagement>\n  </build>\n</project>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n\n\n\n\nmavenç±äºä»ççº¦å®å¤§äºéç½®ï¼æä»¬ä¹åå¯ä»¥è½éå°æä»¬åçéç½®æä»¶ï¼æ æ³è¢«å¯¼åºæèçæçé®é¢ï¼è§£å³æ¹æ¡ï¼\n\n\x3c!--å¨buildä¸­éç½®resourcesï¼æ¥é²æ­¢æä»¬èµæºå¯¼åºå¤±è´¥çé®é¢--\x3e\n<build>\n    <resources>\n        <resource>\n            <directory>src/main/resources</directory>\n            <includes>\n                <include>**/*.properties</include>\n                <include>**/*.xml</include>\n            </includes>\n            <filtering>true</filtering>\n        </resource>\n        <resource>\n            <directory>src/main/java</directory>\n            <includes>\n                <include>**/*.properties</include>\n                <include>**/*.xml</include>\n            </includes>\n            <filtering>true</filtering>\n        </resource>\n    </resources>\n</build>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# 5.12 ideaæä½\n\n\n\n\n\n\n# 5.13 è§£å³éå°çé®é¢\n\n 1. maven 3.6.2\n    \n    è§£å³æ¹æ³ï¼éçº§ä¸º3.6.1\n    \n    \n\n 2. tomcatéªé\n\n 3. ideaä¸­æ¯æ¬¡é½è¦éå¤éç½®maven å¨ideaä¸­çå¨å±é»è®¤éç½®ä¸­å»éç½®\n    \n    \n    \n    \n\n 4. mavené¡¹ç®ä¸­tomcatæ æ³éç½®\n\n 5. mavené»è®¤webé¡¹ç®ä¸­çweb.xmlçæ¬é®é¢\n    \n    \n\n 6. æ¿æ¢ä¸ºwebapp4.0çæ¬åtomcatä¸è´\n    \n    <?xml version="1.0" encoding="utf-8"?>\n    <web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee"\n             xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n             xsi:schemalocation="http://xmlns.jcp.org/xml/ns/javaee\n                          http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"\n             version="4.0"\n             metadata-complete="true">\n    \n    \n    \n    </web-app>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    \n\n 7. mavenä»åºçä½¿ç¨\n    \n    å°åï¼https://mvnrepository.com/\n    \n    \n    \n    \n    \n    \n    \n    ',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"JavaWeb - å¶å®æ»è§",frontmatter:{title:"JavaWeb - å¶å®æ»è§",author:{name:"è´è¿",link:"https://oddfar.com"},categories:["java","java-web"],date:"2021-05-07T18:09:11.000Z",permalink:"/pages/e8021e/"},regularPath:"/01.Java/20.JavaWeb/20.%E6%80%BB%E8%A7%88.html",relativePath:"01.Java/20.JavaWeb/20.æ»è§.md",key:"v-38a9c856",path:"/pages/e8021e/",headers:[{level:2,title:"8ãJSP",slug:"_8ãjsp",normalizedTitle:"8ãjsp",charIndex:14},{level:3,title:"8.1ãä»ä¹æ¯JSP",slug:"_8-1ãä»ä¹æ¯jsp",normalizedTitle:"8.1ãä»ä¹æ¯jsp",charIndex:24},{level:3,title:"8.2ãJSPåç",slug:"_8-2ãjspåç",normalizedTitle:"8.2ãjspåç",charIndex:180},{level:3,title:"8.3ãJSPåºç¡è¯­æ³",slug:"_8-3ãjspåºç¡è¯­æ³",normalizedTitle:"8.3ãjspåºç¡è¯­æ³",charIndex:2053},{level:4,title:"JSPè¡¨è¾¾å¼",slug:"jspè¡¨è¾¾å¼",normalizedTitle:"jspè¡¨è¾¾å¼",charIndex:2144},{level:4,title:"jspèæ¬çæ®µ",slug:"jspèæ¬çæ®µ",normalizedTitle:"jspèæ¬çæ®µ",charIndex:2254},{level:4,title:"JSPå£°æ",slug:"jspå£°æ",normalizedTitle:"jspå£°æ",charIndex:2739},{level:3,title:"8.4ãJSPæä»¤",slug:"_8-4ãjspæä»¤",normalizedTitle:"8.4ãjspæä»¤",charIndex:3095},{level:3,title:"8.5ã9å¤§åç½®å¯¹è±¡",slug:"_8-5ã9å¤§åç½®å¯¹è±¡",normalizedTitle:"8.5ã9å¤§åç½®å¯¹è±¡",charIndex:3477},{level:3,title:"8.6ãJSPæ ç­¾ãJSTLæ ç­¾ãELè¡¨è¾¾å¼",slug:"_8-6ãjspæ ç­¾ãjstlæ ç­¾ãelè¡¨è¾¾å¼",normalizedTitle:"8.6ãjspæ ç­¾ãjstlæ ç­¾ãelè¡¨è¾¾å¼",charIndex:4082},{level:2,title:"9ãJavaBean",slug:"_9ãjavabean",normalizedTitle:"9ãjavabean",charIndex:6523},{level:2,title:"10ãMVCä¸å±æ¶æ",slug:"_10ãmvcä¸å±æ¶æ",normalizedTitle:"10ãmvcä¸å±æ¶æ",charIndex:7092},{level:3,title:"10.1ãæ©äºå¹´",slug:"_10-1ãæ©äºå¹´",normalizedTitle:"10.1ãæ©äºå¹´",charIndex:7148},{level:3,title:"10.2ãMVCä¸å±æ¶æ",slug:"_10-2ãmvcä¸å±æ¶æ",normalizedTitle:"10.2ãmvcä¸å±æ¶æ",charIndex:7360},{level:2,title:"11ãFilter ï¼éç¹ï¼",slug:"_11ãfilter-éç¹",normalizedTitle:"11ãfilter ï¼éç¹ï¼",charIndex:7703},{level:2,title:"12ãçå¬å¨",slug:"_12ãçå¬å¨",normalizedTitle:"12ãçå¬å¨",charIndex:9863},{level:2,title:"13ãè¿æ»¤å¨ãçå¬å¨å¸¸è§åºç¨",slug:"_13ãè¿æ»¤å¨ãçå¬å¨å¸¸è§åºç¨",normalizedTitle:"13ãè¿æ»¤å¨ãçå¬å¨å¸¸è§åºç¨",charIndex:11920},{level:2,title:"14ãJDBC",slug:"_14ãjdbc",normalizedTitle:"14ãjdbc",charIndex:13185},{level:2,title:"15ãæ°æ®åºè¿æ¥æ± ",slug:"_15ãæ°æ®åºè¿æ¥æ± ",normalizedTitle:"15ãæ°æ®åºè¿æ¥æ± ",charIndex:19348}],headersStr:"8ãJSP 8.1ãä»ä¹æ¯JSP 8.2ãJSPåç 8.3ãJSPåºç¡è¯­æ³ JSPè¡¨è¾¾å¼ jspèæ¬çæ®µ JSPå£°æ 8.4ãJSPæä»¤ 8.5ã9å¤§åç½®å¯¹è±¡ 8.6ãJSPæ ç­¾ãJSTLæ ç­¾ãELè¡¨è¾¾å¼ 9ãJavaBean 10ãMVCä¸å±æ¶æ 10.1ãæ©äºå¹´ 10.2ãMVCä¸å±æ¶æ 11ãFilter ï¼éç¹ï¼ 12ãçå¬å¨ 13ãè¿æ»¤å¨ãçå¬å¨å¸¸è§åºç¨ 14ãJDBC 15ãæ°æ®åºè¿æ¥æ± ",content:'# JavaWeb\n\n\n# 8ãJSP\n\n\n# 8.1ãä»ä¹æ¯JSP\n\nJava Server Pages ï¼ Javaæå¡å¨ç«¯é¡µé¢ï¼ä¹åServletä¸æ ·ï¼ç¨äºå¨æWebææ¯ï¼\n\næå¤§çç¹ç¹ï¼\n\n * åJSPå°±åå¨åHTML\n * åºå«ï¼\n   * HTMLåªç»ç¨æ·æä¾éæçæ°æ®\n   * JSPé¡µé¢ä¸­å¯ä»¥åµå¥JAVAä»£ç ï¼ä¸ºç¨æ·æä¾å¨ææ°æ®ï¼\n\n\n# 8.2ãJSPåç\n\næè·¯ï¼JSPå°åºæä¹æ§è¡çï¼\n\n * ä»£ç å±é¢æ²¡æä»»ä½é®é¢\n\n * æå¡å¨åé¨å·¥ä½\n   \n   tomcatä¸­æä¸ä¸ªworkç®å½ï¼\n   \n   IDEAä¸­ä½¿ç¨Tomcatçä¼å¨IDEAçtomcatä¸­çäº§ä¸ä¸ªworkç®å½\n   \n   \n   \n   æçµèçå°åï¼\n   \n   C:\\Users\\Administrator\\.IntelliJIdea2018.1\\system\\tomcat\\Unnamed_javaweb-session-cookie\\work\\Catalina\\localhost\\ROOT\\org\\apache\\jsp\n   \n   \n   1\n   \n   \n   åç°é¡µé¢è½¬åæäºJavaç¨åºï¼\n   \n   \n\næµè§å¨åæå¡å¨åéè¯·æ±ï¼ä¸ç®¡è®¿é®ä»ä¹èµæºï¼å¶å®é½æ¯å¨è®¿é®Servletï¼\n\nJSPæç»ä¹ä¼è¢«è½¬æ¢æä¸ºä¸ä¸ªJavaç±»ï¼\n\nJSP æ¬è´¨ä¸å°±æ¯ä¸ä¸ªServlet\n\n//åå§å\n  public void _jspInit() {\n      \n  }\n//éæ¯\n  public void _jspDestroy() {\n  }\n//JSPService\n  public void _jspService(.HttpServletRequest request,HttpServletResponse response)\n      \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n 1. å¤æ­è¯·æ±\n\n 2. åç½®ä¸äºå¯¹è±¡\n    \n    final javax.servlet.jsp.PageContext pageContext;  //é¡µé¢ä¸ä¸æ\n    javax.servlet.http.HttpSession session = null;    //session\n    final javax.servlet.ServletContext application;   //applicationContext\n    final javax.servlet.ServletConfig config;         //config\n    javax.servlet.jsp.JspWriter out = null;           //out\n    final java.lang.Object page = this;               //pageï¼å½å\n    HttpServletRequest request                        //è¯·æ±\n    HttpServletResponse response                      //ååº\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    \n\n 3. è¾åºé¡µé¢åå¢å çä»£ç \n    \n    response.setContentType("text/html");       //è®¾ç½®ååºçé¡µé¢ç±»å\n    pageContext = _jspxFactory.getPageContext(this, request, response,\n                                              null, true, 8192, true);\n    _jspx_page_context = pageContext;\n    application = pageContext.getServletContext();\n    config = pageContext.getServletConfig();\n    session = pageContext.getSession();\n    out = pageContext.getOut();\n    _jspx_out = out;\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    \n\n 4. ä»¥ä¸çè¿äºä¸ªå¯¹è±¡æä»¬å¯ä»¥å¨JSPé¡µé¢ä¸­ç´æ¥ä½¿ç¨ï¼\n\n\n\nå¨JSPé¡µé¢ä¸­ï¼\n\nåªè¦æ¯ JAVAä»£ç å°±ä¼åå°ä¸å¨çè¾åºï¼\n\nå¦ææ¯HTMLä»£ç ï¼å°±ä¼è¢«è½¬æ¢ä¸ºï¼\n\nout.write("<html>\\r\\n");\n\n\n1\n\n\nè¿æ ·çæ ¼å¼ï¼è¾åºå°åç«¯ï¼\n\n\n# 8.3ãJSPåºç¡è¯­æ³\n\nä»»ä½è¯­è¨é½æèªå·±çè¯­æ³ï¼JAVAä¸­æ,ã JSP ä½ä¸ºjavaææ¯çä¸ç§åºç¨ï¼å®æ¥æä¸äºèªå·±æ©åçè¯­æ³ï¼äºè§£ï¼ç¥éå³å¯ï¼ï¼ï¼Javaææè¯­æ³é½æ¯æï¼\n\n# JSPè¡¨è¾¾å¼\n\n  <%--JSPè¡¨è¾¾å¼\n  ä½ç¨ï¼ç¨æ¥å°ç¨åºçè¾åºï¼è¾åºå°å®¢æ·ç«¯\n  <%= åéæèè¡¨è¾¾å¼%>\n  --%>\n  <%= new java.util.Date()%>\n\n\n1\n2\n3\n4\n5\n\n\n# jspèæ¬çæ®µ\n\n\n  <%--jspèæ¬çæ®µ--%>\n  <%\n    int sum = 0;\n    for (int i = 1; i <=100 ; i++) {\n      sum+=i;\n    }\n    out.println("<h1>Sum="+sum+"</h1>");\n  %>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nèæ¬çæ®µçåå®ç°\n\n  <%\n    int x = 10;\n    out.println(x);\n  %>\n  <p>è¿æ¯ä¸ä¸ªJSPææ¡£</p>\n  <%\n    int y = 2;\n    out.println(y);\n  %>\n\n  <hr>\n\n\n  <%--å¨ä»£ç åµå¥HTMLåç´ --%>\n  <%\n    for (int i = 0; i < 5; i++) {\n  %>\n    <h1>Hello,World  <%=i%> </h1>\n  <%\n    }\n  %>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n# JSPå£°æ\n\n  <%!\n    static {\n      System.out.println("Loading Servlet!");\n    }\n\n    private int globalVar = 0;\n\n    public void kuang(){\n      System.out.println("è¿å¥äºæ¹æ³Kuangï¼");\n    }\n  %>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nJSPå£°æï¼ä¼è¢«ç¼è¯å°JSPçæJavaçç±»ä¸­ï¼å¶ä»çï¼å°±ä¼è¢«çæå°_jspServiceæ¹æ³ä¸­ï¼\n\nå¨JSPï¼åµå¥Javaä»£ç å³å¯ï¼\n\n<%%>\n<%=%>\n<%!%>\n\n<%--æ³¨é--%>\n\n\n1\n2\n3\n4\n5\n\n\nJSPçæ³¨éï¼ä¸ä¼å¨å®¢æ·ç«¯æ¾ç¤ºï¼HTMLå°±ä¼ï¼\n\n\n# 8.4ãJSPæä»¤\n\n<%@page args.... %>\n<%@include file=""%>\n\n<%--@includeä¼å°ä¸¤ä¸ªé¡µé¢åäºä¸ºä¸--%>\n\n<%@include file="common/header.jsp"%>\n<h1>ç½é¡µä¸»ä½</h1>\n\n<%@include file="common/footer.jsp"%>\n\n<hr>\n\n\n<%--jSPæ ç­¾\n    jsp:includeï¼æ¼æ¥é¡µé¢ï¼æ¬è´¨è¿æ¯ä¸ä¸ª\n    --%>\n<jsp:include page="/common/header.jsp"/>\n<h1>ç½é¡µä¸»ä½</h1>\n<jsp:include page="/common/footer.jsp"/>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# 8.5ã9å¤§åç½®å¯¹è±¡\n\n * PageContext å­ä¸è¥¿\n * Request å­ä¸è¥¿\n * Response\n * Session å­ä¸è¥¿\n * Application ãSerlvetContextã å­ä¸è¥¿\n * config ãSerlvetConfigã\n * out\n * page ï¼ä¸ç¨äºè§£\n * exception\n\npageContext.setAttribute("name1","ç§¦ç1å·"); //ä¿å­çæ°æ®åªå¨ä¸ä¸ªé¡µé¢ä¸­ææ\nrequest.setAttribute("name2","ç§¦ç2å·"); //ä¿å­çæ°æ®åªå¨ä¸æ¬¡è¯·æ±ä¸­ææï¼è¯·æ±è½¬åä¼æºå¸¦è¿ä¸ªæ°æ®\nsession.setAttribute("name3","ç§¦ç3å·"); //ä¿å­çæ°æ®åªå¨ä¸æ¬¡ä¼è¯ä¸­ææï¼ä»æå¼æµè§å¨å°å³é­æµè§å¨\napplication.setAttribute("name4","ç§¦ç4å·");  //ä¿å­çæ°æ®åªå¨æå¡å¨ä¸­ææï¼ä»æå¼æå¡å¨å°å³é­æå¡å¨\n\n\n1\n2\n3\n4\n\n\nrequestï¼å®¢æ·ç«¯åæå¡å¨åéè¯·æ±ï¼äº§ççæ°æ®ï¼ç¨æ·çå®å°±æ²¡ç¨äºï¼æ¯å¦ï¼æ°é»ï¼ç¨æ·çå®æ²¡ç¨çï¼\n\nsessionï¼å®¢æ·ç«¯åæå¡å¨åéè¯·æ±ï¼äº§ççæ°æ®ï¼ç¨æ·ç¨å®ä¸ä¼è¿æç¨ï¼æ¯å¦ï¼è´­ç©è½¦ï¼\n\napplicationï¼å®¢æ·ç«¯åæå¡å¨åéè¯·æ±ï¼äº§ççæ°æ®ï¼ä¸ä¸ªç¨æ·ç¨å®äºï¼å¶ä»ç¨æ·è¿å¯è½ä½¿ç¨ï¼æ¯å¦ï¼èå¤©æ°æ®ï¼\n\n\n# 8.6ãJSPæ ç­¾ãJSTLæ ç­¾ãELè¡¨è¾¾å¼\n\n\x3c!-- JSTLè¡¨è¾¾å¼çä¾èµ --\x3e\n<dependency>\n    <groupId>javax.servlet.jsp.jstl</groupId>\n    <artifactId>jstl-api</artifactId>\n    <version>1.2</version>\n</dependency>\n\x3c!-- standardæ ç­¾åº --\x3e\n<dependency>\n    <groupId>taglibs</groupId>\n    <artifactId>standard</artifactId>\n    <version>1.1.2</version>\n</dependency>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nELè¡¨è¾¾å¼ï¼ ${ }\n\n * è·åæ°æ®\n * æ§è¡è¿ç®\n * è·åwebå¼åçå¸¸ç¨å¯¹è±¡\n\nJSPæ ç­¾\n\n<%--jsp:include--%>\n\n<%--\nhttp://localhost:8080/jsptag.jsp?name=kuangshen&age=12\n--%>\n\n<jsp:forward page="/jsptag2.jsp">\n    <jsp:param name="name" value="kuangshen"></jsp:param>\n    <jsp:param name="age" value="12"></jsp:param>\n</jsp:forward>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nJSTLè¡¨è¾¾å¼\n\nJSTLæ ç­¾åºçä½¿ç¨å°±æ¯ä¸ºäºå¼¥è¡¥HTMLæ ç­¾çä¸è¶³ï¼å®èªå®ä¹è®¸å¤æ ç­¾ï¼å¯ä»¥ä¾æä»¬ä½¿ç¨ï¼æ ç­¾çåè½åJavaä»£ç ä¸æ ·ï¼\n\næ ¼å¼åæ ç­¾\n\nSQLæ ç­¾\n\nXML æ ç­¾\n\næ ¸å¿æ ç­¾ ï¼ææ¡é¨åï¼\n\n\n\nJSTLæ ç­¾åºä½¿ç¨æ­¥éª¤\n\n * å¼å¥å¯¹åºç taglib\n * ä½¿ç¨å¶ä¸­çæ¹æ³\n * å¨Tomcat ä¹éè¦å¼å¥ jstlçåï¼å¦åä¼æ¥éï¼JSTLè§£æéè¯¯\n\ncï¼if\n\n<head>\n    <title>Title</title>\n</head>\n<body>\n\n\n<h4>ifæµè¯</h4>\n\n<hr>\n\n<form action="coreif.jsp" method="get">\n    <%--\n    ELè¡¨è¾¾å¼è·åè¡¨åä¸­çæ°æ®\n    ${param.åæ°å}\n    --%>\n    <input type="text" name="username" value="${param.username}">\n    <input type="submit" value="ç»å½">\n</form>\n\n<%--å¤æ­å¦ææäº¤çç¨æ·åæ¯ç®¡çåï¼åç»å½æå--%>\n<c:if test="${param.username==\'admin\'}" var="isAdmin">\n    <c:out value="ç®¡çåæ¬¢è¿æ¨ï¼"/>\n</c:if>\n\n<%--èªé­åæ ç­¾--%>\n<c:out value="${isAdmin}"/>\n\n</body>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\nc:choose c:when\n\n<body>\n\n<%--å®ä¹ä¸ä¸ªåéscoreï¼å¼ä¸º85--%>\n<c:set var="score" value="55"/>\n\n<c:choose>\n    <c:when test="${score>=90}">\n        ä½ çæç»©ä¸ºä¼ç§\n    </c:when>\n    <c:when test="${score>=80}">\n        ä½ çæç»©ä¸ºä¸è¬\n    </c:when>\n    <c:when test="${score>=70}">\n        ä½ çæç»©ä¸ºè¯å¥½\n    </c:when>\n    <c:when test="${score<=60}">\n        ä½ çæç»©ä¸ºä¸åæ ¼\n    </c:when>\n</c:choose>\n\n</body>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\nc:forEach\n\n<%\n\n    ArrayList<String> people = new ArrayList<>();\n    people.add(0,"å¼ ä¸");\n    people.add(1,"æå");\n    people.add(2,"çäº");\n    people.add(3,"èµµå­");\n    people.add(4,"ç°å­");\n    request.setAttribute("list",people);\n%>\n\n\n<%--\nvar , æ¯ä¸æ¬¡éååºæ¥çåé\nitems, è¦éåçå¯¹è±¡\nbegin,   åªéå¼å§\nend,     å°åªé\nstep,   æ­¥é¿\n--%>\n<c:forEach var="people" items="${list}">\n    <c:out value="${people}"/> <br>\n</c:forEach>\n\n<hr>\n\n<c:forEach var="people" items="${list}" begin="1" end="3" step="1" >\n    <c:out value="${people}"/> <br>\n</c:forEach>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n# 9ãJavaBean\n\nå®ä½ç±»\n\nJavaBeanæç¹å®çåæ³ï¼\n\n * å¿é¡»è¦æä¸ä¸ªæ åæé \n * å±æ§å¿é¡»ç§æå\n * å¿é¡»æå¯¹åºçget/setæ¹æ³ï¼\n\nä¸è¬ç¨æ¥åæ°æ®åºçå­æ®µåæ å° ORMï¼\n\nORM ï¼å¯¹è±¡å³ç³»æ å°\n\n * è¡¨---\x3eç±»\n * å­æ®µ--\x3eå±æ§\n * è¡è®°å½----\x3eå¯¹è±¡\n\npeopleè¡¨\n\nID   NAME   AGE   ADDRESS\n1    ç§¦ç1å·   3     è¥¿å®\n2    ç§¦ç2å·   18    è¥¿å®\n3    ç§¦ç3å·   100   è¥¿å®\n\nclass People{\n    private int id;\n    private String name;\n    private int id;\n    private String address;\n}\n\nclass A{\n    new People(1,"ç§¦ç1å·",3ï¼"è¥¿å®");\n    new People(2,"ç§¦ç2å·",3ï¼"è¥¿å®");\n    new People(3,"ç§¦ç3å·",3ï¼"è¥¿å®");\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n * è¿æ»¤å¨\n * æä»¶ä¸ä¼ \n * é®ä»¶åé\n * JDBC å¤ä¹  ï¼ å¦ä½ä½¿ç¨JDBC , JDBC crudï¼ jdbc äºå¡\n\n\n# 10ãMVCä¸å±æ¶æ\n\nä»ä¹æ¯MVCï¼ Model view Controller æ¨¡åãè§å¾ãæ§å¶å¨\n\n\n# 10.1ãæ©äºå¹´\n\n\n\nç¨æ·ç´æ¥è®¿é®æ§å¶å±ï¼æ§å¶å±å°±å¯ä»¥ç´æ¥æä½æ°æ®åºï¼\n\nservlet--CRUD--\x3eæ°æ®åº\nå¼ç«¯ï¼ç¨åºååèè¿ï¼ä¸å©äºç»´æ¤  \nservletçä»£ç ä¸­ï¼å¤çè¯·æ±ãååºãè§å¾è·³è½¬ãå¤çJDBCãå¤çä¸å¡ä»£ç ãå¤çé»è¾ä»£ç \n\næ¶æï¼æ²¡æä»ä¹æ¯å ä¸å±è§£å³ä¸äºçï¼\nç¨åºç¿è°ç¨\n|\nJDBC\n|\nMysql Oracle SqlServer ....\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# 10.2ãMVCä¸å±æ¶æ\n\n\n\nModel\n\n * ä¸å¡å¤ç ï¼ä¸å¡é»è¾ï¼Serviceï¼\n * æ°æ®æä¹å±ï¼CRUD ï¼Daoï¼\n\nView\n\n * å±ç¤ºæ°æ®\n * æä¾é¾æ¥åèµ·Servletè¯·æ± ï¼aï¼formï¼imgâ¦ï¼\n\nController ï¼Servletï¼\n\n * æ¥æ¶ç¨æ·çè¯·æ± ï¼ï¼reqï¼è¯·æ±åæ°ãSessionä¿¡æ¯â¦.ï¼\n\n * äº¤ç»ä¸å¡å±å¤çå¯¹åºçä»£ç \n\n * æ§å¶è§å¾çè·³è½¬\n   \n   ç»å½---\x3eæ¥æ¶ç¨æ·çç»å½è¯·æ±---\x3eå¤çç¨æ·çè¯·æ±ï¼è·åç¨æ·ç»å½çåæ°ï¼usernameï¼passwordï¼----\x3eäº¤ç»ä¸å¡å±å¤çç»å½ä¸å¡ï¼å¤æ­ç¨æ·åå¯ç æ¯å¦æ­£ç¡®ï¼äºå¡ï¼---\x3eDaoå±æ¥è¯¢ç¨æ·ååå¯ç æ¯å¦æ­£ç¡®--\x3eæ°æ®åº\n   \n   \n   1\n   \n\n\n# 11ãFilter ï¼éç¹ï¼\n\nFilterï¼è¿æ»¤å¨ ï¼ç¨æ¥è¿æ»¤ç½ç«çæ°æ®ï¼\n\n * å¤çä¸­æä¹±ç \n * ç»å½éªè¯â¦.\n\n\n\nFilterå¼åæ­¥éª¤ï¼\n\n 1. å¯¼å\n\n 2. ç¼åè¿æ»¤å¨\n    \n    1. å¯¼åä¸è¦é\n       \n       \n       \n       å®ç°Filteræ¥å£ï¼éåå¯¹åºçæ¹æ³å³å¯\n       \n       public class CharacterEncodingFilter implements Filter {\n       \n           //åå§åï¼webæå¡å¨å¯å¨ï¼å°±ä»¥ååå§åäºï¼éæ¶ç­å¾è¿æ»¤å¯¹è±¡åºç°ï¼\n           public void init(FilterConfig filterConfig) throws ServletException {\n               System.out.println("CharacterEncodingFilteråå§å");\n           }\n       \n           //Chain : é¾\n           /*\n           1. è¿æ»¤ä¸­çææä»£ç ï¼å¨è¿æ»¤ç¹å®è¯·æ±çæ¶åé½ä¼æ§è¡\n           2. å¿é¡»è¦è®©è¿æ»¤å¨ç»§ç»­åè¡\n               chain.doFilter(request,response);\n            */\n           public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n               request.setCharacterEncoding("utf-8");\n               response.setCharacterEncoding("utf-8");\n               response.setContentType("text/html;charset=UTF-8");\n       \n               System.out.println("CharacterEncodingFilteræ§è¡å....");\n               chain.doFilter(request,response); //è®©æä»¬çè¯·æ±ç»§ç»­èµ°ï¼å¦æä¸åï¼ç¨åºå°è¿éå°±è¢«æ¦æªåæ­¢ï¼\n               System.out.println("CharacterEncodingFilteræ§è¡å....");\n           }\n       \n           //éæ¯ï¼webæå¡å¨å³é­çæ¶åï¼è¿æ»¤ä¼éæ¯\n           public void destroy() {\n               System.out.println("CharacterEncodingFilteréæ¯");\n           }\n       }\n       \n       \n       \n       1\n       2\n       3\n       4\n       5\n       6\n       7\n       8\n       9\n       10\n       11\n       12\n       13\n       14\n       15\n       16\n       17\n       18\n       19\n       20\n       21\n       22\n       23\n       24\n       25\n       26\n       27\n       28\n       29\n       \n\n 3. å¨web.xmlä¸­éç½® Filter\n    \n    <filter>\n        <filter-name>CharacterEncodingFilter</filter-name>\n        <filter-class>com.kuang.filter.CharacterEncodingFilter</filter-class>\n    </filter>\n    <filter-mapping>\n        <filter-name>CharacterEncodingFilter</filter-name>\n        \x3c!--åªè¦æ¯ /servletçä»»ä½è¯·æ±ï¼ä¼ç»è¿è¿ä¸ªè¿æ»¤å¨--\x3e\n        <url-pattern>/servlet/*</url-pattern>\n        \x3c!--<url-pattern>/*</url-pattern>--\x3e\n    </filter-mapping>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    \n\n\n# 12ãçå¬å¨\n\nå®ç°ä¸ä¸ªçå¬å¨çæ¥å£ï¼ï¼æNç§ï¼\n\n 1. ç¼åä¸ä¸ªçå¬å¨\n    \n    å®ç°çå¬å¨çæ¥å£â¦\n    \n    //ç»è®¡ç½ç«å¨çº¿äººæ° ï¼ ç»è®¡session\n    public class OnlineCountListener implements HttpSessionListener {\n    \n        //åå»ºsessionçå¬ï¼ çä½ çä¸ä¸¾ä¸å¨\n        //ä¸æ¦åå»ºSessionå°±ä¼è§¦åä¸æ¬¡è¿ä¸ªäºä»¶ï¼\n        public void sessionCreated(HttpSessionEvent se) {\n            ServletContext ctx = se.getSession().getServletContext();\n    \n            System.out.println(se.getSession().getId());\n    \n            Integer onlineCount = (Integer) ctx.getAttribute("OnlineCount");\n    \n            if (onlineCount==null){\n                onlineCount = new Integer(1);\n            }else {\n                int count = onlineCount.intValue();\n                onlineCount = new Integer(count+1);\n            }\n    \n            ctx.setAttribute("OnlineCount",onlineCount);\n    \n        }\n    \n        //éæ¯sessionçå¬\n        //ä¸æ¦éæ¯Sessionå°±ä¼è§¦åä¸æ¬¡è¿ä¸ªäºä»¶ï¼\n        public void sessionDestroyed(HttpSessionEvent se) {\n            ServletContext ctx = se.getSession().getServletContext();\n    \n            Integer onlineCount = (Integer) ctx.getAttribute("OnlineCount");\n    \n            if (onlineCount==null){\n                onlineCount = new Integer(0);\n            }else {\n                int count = onlineCount.intValue();\n                onlineCount = new Integer(count-1);\n            }\n    \n            ctx.setAttribute("OnlineCount",onlineCount);\n    \n        }\n    \n    \n        /*\n        Sessionéæ¯ï¼\n        1. æå¨éæ¯  getSession().invalidate();\n        2. èªå¨éæ¯\n         */\n    }\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    44\n    45\n    46\n    47\n    48\n    49\n    \n\n 2. web.xmlä¸­æ³¨åçå¬å¨\n    \n    \x3c!--æ³¨åçå¬å¨--\x3e\n    <listener>\n        <listener-class>com.kuang.listener.OnlineCountListener</listener-class>\n    </listener>\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 3. çæåµæ¯å¦ä½¿ç¨ï¼\n\n\n# 13ãè¿æ»¤å¨ãçå¬å¨å¸¸è§åºç¨\n\nçå¬å¨ï¼GUIç¼ç¨ä¸­ç»å¸¸ä½¿ç¨ï¼\n\npublic class TestPanel {\n    public static void main(String[] args) {\n        Frame frame = new Frame("ä¸­ç§èå¿«ä¹");  //æ°å»ºä¸ä¸ªçªä½\n        Panel panel = new Panel(null); //é¢æ¿\n        frame.setLayout(null); //è®¾ç½®çªä½çå¸å±\n\n        frame.setBounds(300,300,500,500);\n        frame.setBackground(new Color(0,0,255)); //è®¾ç½®èæ¯é¢è²\n\n        panel.setBounds(50,50,300,300);\n        panel.setBackground(new Color(0,255,0)); //è®¾ç½®èæ¯é¢è²\n\n        frame.add(panel);\n\n        frame.setVisible(true);\n\n        //çå¬äºä»¶ï¼çå¬å³é­äºä»¶\n        frame.addWindowListener(new WindowAdapter() {\n            @Override\n            public void windowClosing(WindowEvent e) {\n                super.windowClosing(e);\n            }\n        });\n\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\nç¨æ·ç»å½ä¹åæè½è¿å¥ä¸»é¡µï¼ç¨æ·æ³¨éåå°±ä¸è½è¿å¥ä¸»é¡µäºï¼\n\n 1. ç¨æ·ç»å½ä¹åï¼åSesisonä¸­æ¾å¥ç¨æ·çæ°æ®\n\n 2. è¿å¥ä¸»é¡µçæ¶åè¦å¤æ­ç¨æ·æ¯å¦å·²ç»ç»å½ï¼è¦æ±ï¼å¨è¿æ»¤å¨ä¸­å®ç°ï¼\n    \n    HttpServletRequest request = (HttpServletRequest) req;\n    HttpServletResponse response = (HttpServletResponse) resp;\n    \n    if (request.getSession().getAttribute(Constant.USER_SESSION)==null){\n        response.sendRedirect("/error.jsp");\n    }\n    \n    chain.doFilter(request,response);\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    \n\n\n# 14ãJDBC\n\nä»ä¹æ¯JDBC ï¼ Javaè¿æ¥æ°æ®åºï¼\n\n\n\néè¦jaråçæ¯æï¼\n\n * java.sql\n * javax.sql\n * mysql-conneter-javaâ¦ è¿æ¥é©±å¨ï¼å¿é¡»è¦å¯¼å¥ï¼\n\nå®éªç¯å¢æ­å»º\n\n\nCREATE TABLE users(\n    id INT PRIMARY KEY,\n    `name` VARCHAR(40),\n    `password` VARCHAR(40),\n    email VARCHAR(60),\n    birthday DATE\n);\n\nINSERT INTO users(id,`name`,`password`,email,birthday)\nVALUES(1,\'å¼ ä¸\',\'123456\',\'zs@qq.com\',\'2000-01-01\');\nINSERT INTO users(id,`name`,`password`,email,birthday)\nVALUES(2,\'æå\',\'123456\',\'ls@qq.com\',\'2000-01-01\');\nINSERT INTO users(id,`name`,`password`,email,birthday)\nVALUES(3,\'çäº\',\'123456\',\'ww@qq.com\',\'2000-01-01\');\n\n\nSELECT\t* FROM users;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nå¯¼å¥æ°æ®åºä¾èµ\n\n\x3c!--mysqlçé©±å¨--\x3e\n<dependency>\n    <groupId>mysql</groupId>\n    <artifactId>mysql-connector-java</artifactId>\n    <version>5.1.47</version>\n</dependency>\n\n\n1\n2\n3\n4\n5\n6\n\n\nIDEAä¸­è¿æ¥æ°æ®åºï¼\n\n\n\nJDBC åºå®æ­¥éª¤ï¼\n\n 1. å è½½é©±å¨\n 2. è¿æ¥æ°æ®åº,ä»£è¡¨æ°æ®åº\n 3. åæ°æ®åºåéSQLçå¯¹è±¡Statement : CRUD\n 4. ç¼åSQL ï¼æ ¹æ®ä¸å¡ï¼ä¸åçSQLï¼\n 5. æ§è¡SQL\n 6. å³é­è¿æ¥\n\npublic class TestJdbc {\n    public static void main(String[] args) throws ClassNotFoundException, SQLException {\n        //éç½®ä¿¡æ¯\n        //useUnicode=true&characterEncoding=utf-8 è§£å³ä¸­æä¹±ç \n        String url="jdbc:mysql://localhost:3306/jdbc?useUnicode=true&characterEncoding=utf-8";\n        String username = "root";\n        String password = "123456";\n\n        //1.å è½½é©±å¨\n        Class.forName("com.mysql.jdbc.Driver");\n        //2.è¿æ¥æ°æ®åº,ä»£è¡¨æ°æ®åº\n        Connection connection = DriverManager.getConnection(url, username, password);\n\n        //3.åæ°æ®åºåéSQLçå¯¹è±¡Statement,PreparedStatement : CRUD\n        Statement statement = connection.createStatement();\n\n        //4.ç¼åSQL\n        String sql = "select * from users";\n\n        //5.æ§è¡æ¥è¯¢SQLï¼è¿åä¸ä¸ª ResultSet  ï¼ ç»æé\n        ResultSet rs = statement.executeQuery(sql);\n\n        while (rs.next()){\n            System.out.println("id="+rs.getObject("id"));\n            System.out.println("name="+rs.getObject("name"));\n            System.out.println("password="+rs.getObject("password"));\n            System.out.println("email="+rs.getObject("email"));\n            System.out.println("birthday="+rs.getObject("birthday"));\n        }\n\n        //6.å³é­è¿æ¥ï¼éæ¾èµæºï¼ä¸å®è¦åï¼ åå¼åå³\n        rs.close();\n        statement.close();\n        connection.close();\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n\n\né¢ç¼è¯SQL\n\npublic class TestJDBC2 {\n    public static void main(String[] args) throws Exception {\n        //éç½®ä¿¡æ¯\n        //useUnicode=true&characterEncoding=utf-8 è§£å³ä¸­æä¹±ç \n        String url="jdbc:mysql://localhost:3306/jdbc?useUnicode=true&characterEncoding=utf-8";\n        String username = "root";\n        String password = "123456";\n\n        //1.å è½½é©±å¨\n        Class.forName("com.mysql.jdbc.Driver");\n        //2.è¿æ¥æ°æ®åº,ä»£è¡¨æ°æ®åº\n        Connection connection = DriverManager.getConnection(url, username, password);\n\n        //3.ç¼åSQL\n        String sql = "insert into  users(id, name, password, email, birthday) values (?,?,?,?,?);";\n\n        //4.é¢ç¼è¯\n        PreparedStatement preparedStatement = connection.prepareStatement(sql);\n\n        preparedStatement.setInt(1,2);//ç»ç¬¬ä¸ä¸ªå ä½ç¬¦ï¼ çå¼èµå¼ä¸º1ï¼\n        preparedStatement.setString(2,"çç¥è¯´Java");//ç»ç¬¬äºä¸ªå ä½ç¬¦ï¼ çå¼èµå¼ä¸ºçç¥è¯´Javaï¼\n        preparedStatement.setString(3,"123456");//ç»ç¬¬ä¸ä¸ªå ä½ç¬¦ï¼ çå¼èµå¼ä¸º123456ï¼\n        preparedStatement.setString(4,"24736743@qq.com");//ç»ç¬¬åä¸ªå ä½ç¬¦ï¼ çå¼èµå¼ä¸º1ï¼\n        preparedStatement.setDate(5,new Date(new java.util.Date().getTime()));//ç»ç¬¬äºä¸ªå ä½ç¬¦ï¼ çå¼èµå¼ä¸ºnew Date(new java.util.Date().getTime())ï¼\n\n        //5.æ§è¡SQL\n        int i = preparedStatement.executeUpdate();\n\n        if (i>0){\n            System.out.println("æå¥æå@");\n        }\n\n        //6.å³é­è¿æ¥ï¼éæ¾èµæºï¼ä¸å®è¦åï¼ åå¼åå³\n        preparedStatement.close();\n        connection.close();\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\näºå¡\n\nè¦ä¹é½æåï¼è¦ä¹é½å¤±è´¥ï¼\n\nACIDååï¼ä¿è¯æ°æ®çå®å¨ã\n\nå¼å¯äºå¡\näºå¡æäº¤  commit()\näºå¡åæ»  rollback()\nå³é­äºå¡\n\nè½¬è´¦ï¼\nA:1000\nB:1000\n    \nA(900)   --100--\x3e   B(1100) \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nJunitååæµè¯\n\nä¾èµ\n\n\x3c!--ååæµè¯--\x3e\n<dependency>\n    <groupId>junit</groupId>\n    <artifactId>junit</artifactId>\n    <version>4.12</version>\n</dependency>\n\n\n1\n2\n3\n4\n5\n6\n\n\nç®åä½¿ç¨\n\n@Testæ³¨è§£åªæå¨æ¹æ³ä¸ææï¼åªè¦å äºè¿ä¸ªæ³¨è§£çæ¹æ³ï¼å°±å¯ä»¥ç´æ¥è¿è¡ï¼\n\n@Test\npublic void test(){\n    System.out.println("Hello");\n}\n\n\n1\n2\n3\n4\n\n\n\n\nå¤±è´¥çæ¶åæ¯çº¢è²ï¼\n\n\n\næ­å»ºä¸ä¸ªç¯å¢\n\nCREATE TABLE account(\n   id INT PRIMARY KEY AUTO_INCREMENT,\n   `name` VARCHAR(40),\n   money FLOAT\n);\n\nINSERT INTO account(`name`,money) VALUES(\'A\',1000);\nINSERT INTO account(`name`,money) VALUES(\'B\',1000);\nINSERT INTO account(`name`,money) VALUES(\'C\',1000);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n    @Test\n    public void test() {\n        //éç½®ä¿¡æ¯\n        //useUnicode=true&characterEncoding=utf-8 è§£å³ä¸­æä¹±ç \n        String url="jdbc:mysql://localhost:3306/jdbc?useUnicode=true&characterEncoding=utf-8";\n        String username = "root";\n        String password = "123456";\n\n        Connection connection = null;\n\n        //1.å è½½é©±å¨\n        try {\n            Class.forName("com.mysql.jdbc.Driver");\n            //2.è¿æ¥æ°æ®åº,ä»£è¡¨æ°æ®åº\n             connection = DriverManager.getConnection(url, username, password);\n\n            //3.éç¥æ°æ®åºå¼å¯äºå¡,false å¼å¯\n            connection.setAutoCommit(false);\n\n            String sql = "update account set money = money-100 where name = \'A\'";\n            connection.prepareStatement(sql).executeUpdate();\n\n            //å¶é éè¯¯\n            //int i = 1/0;\n\n            String sql2 = "update account set money = money+100 where name = \'B\'";\n            connection.prepareStatement(sql2).executeUpdate();\n\n            connection.commit();//ä»¥ä¸ä¸¤æ¡SQLé½æ§è¡æåäºï¼å°±æäº¤äºå¡ï¼\n            System.out.println("success");\n        } catch (Exception e) {\n            try {\n                //å¦æåºç°å¼å¸¸ï¼å°±éç¥æ°æ®åºåæ»äºå¡\n                connection.rollback();\n            } catch (SQLException e1) {\n                e1.printStackTrace();\n            }\n            e.printStackTrace();\n        }finally {\n            try {\n                connection.close();\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n\n\n\n# 15ãæ°æ®åºè¿æ¥æ± \n\næ¦å¿µï¼å¶å®å°±æ¯ä¸ä¸ªå®¹å¨(éå)ï¼å­æ¾æ°æ®åºè¿æ¥çå®¹å¨ã å½ç³»ç»åå§åå¥½åï¼å®¹å¨è¢«åå»ºï¼å®¹å¨ä¸­ä¼ç³è¯·ä¸äºè¿æ¥å¯¹è±¡ï¼å½ç¨æ·æ¥è®¿é®æ°æ®åºæ¶ï¼ä»å®¹å¨ä¸­è·åè¿æ¥å¯¹è±¡ï¼ç¨æ·è®¿é®å®ä¹åï¼ä¼å°è¿æ¥å¯¹è±¡å½è¿ç»å®¹å¨ã å¥½å¤ï¼\n\n 1. èçº¦èµæº\n 2. ç¨æ·è®¿é®é«æ\n\nå®ç°ï¼ æ åæ¥å£ï¼DataSource javax.sqlåä¸ç\n\n 1. æ¹æ³ï¼\n\n> è·åè¿æ¥ï¼getConnection() å½è¿è¿æ¥ï¼Connection.close()ã å¦æè¿æ¥å¯¹è±¡Connectionæ¯ä»è¿æ¥æ± ä¸­è·åçï¼é£ä¹è°ç¨Connection.close()æ¹æ³ï¼åä¸ä¼åå³é­è¿æ¥äºãèæ¯å½è¿è¿æ¥\n\n 2. ä¸è¬æä»¬ä¸å»å®ç°å®ï¼ææ°æ®åºååæ¥å®ç°\n\n>  1. C3P0ï¼æ°æ®åºè¿æ¥æ± ææ¯\n>  2. Druidï¼æ°æ®åºè¿æ¥æ± å®ç°ææ¯ï¼ç±é¿éå·´å·´æä¾ç\n\nC3P0ï¼æ°æ®åºè¿æ¥æ± ææ¯\n\n * æ­¥éª¤ï¼\n\n 1. å¯¼å¥jarå (ä¸¤ä¸ª) c3p0-0.9.5.2.jar mchange-commons-java-0.2.12.jar ï¼ ä¸è¦å¿è®°å¯¼å¥æ°æ®åºé©±å¨ jar å\n 2. å®ä¹éç½®æä»¶ï¼\n\n> åç§°ï¼ c3p0.properties æè c3p0-config.xml è·¯å¾ï¼ç´æ¥å°æä»¶æ¾å¨srcç®å½ä¸å³å¯ã\n\n 3. åå»ºæ ¸å¿å¯¹è±¡ æ°æ®åºè¿æ¥æ± å¯¹è±¡ ComboPooledDataSource()\n 4. è·åè¿æ¥ï¼getConnection()\n\n * ä»£ç ï¼\n\n//1.åå»ºæ°æ®åºè¿æ¥æ± å¯¹è±¡\nDataSource ds  = new ComboPooledDataSource();\n//2. è·åè¿æ¥å¯¹è±¡\nConnection conn = ds.getConnection();\n\n\n1\n2\n3\n4\n\n\nDruidï¼æ°æ®åºè¿æ¥æ± å®ç°ææ¯ï¼ç±é¿éå·´å·´æä¾ç\n\n * æ­¥éª¤ï¼\n\n 1. å¯¼å¥jarå druid-1.0.9.jar\n 2. å®ä¹éç½®æä»¶ï¼\n    * æ¯propertieså½¢å¼ç*\n    * å¯ä»¥å«ä»»æåç§°ï¼å¯ä»¥æ¾å¨ä»»æç®å½ä¸*\n 3. å è½½éç½®æä»¶ãProperties\n 4. è·åæ°æ®åºè¿æ¥æ± å¯¹è±¡ï¼éè¿å·¥åæ¥æ¥è·å DruidDataSourceFactory()\n 5. è·åè¿æ¥ï¼getConnection()\n\n * ä»£ç ï¼\n\n//3.å è½½éç½®æä»¶\nProperties pro = new Properties();\nInputStream is = DruidDemo.class.getClassLoader().getResourceAsStream("druid.properties");\npro.load(is);\n//4.è·åè¿æ¥æ± å¯¹è±¡\nDataSource ds = DruidDataSourceFactory.createDataSource(pro);\n//5.è·åè¿æ¥\nConnection conn = ds.getConnection();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nå®ä¹å·¥å·ç±»\n\n 1. å®ä¹ä¸ä¸ªç±» JDBCUtils\n 2. æä¾éæä»£ç åå è½½éç½®æä»¶ï¼åå§åè¿æ¥æ± å¯¹è±¡\n 3. æä¾æ¹æ³\n\n>  1. è·åè¿æ¥æ¹æ³ï¼éè¿æ°æ®åºè¿æ¥æ± è·åè¿æ¥\n>  2. éæ¾èµæº\n>  3. è·åè¿æ¥æ± çæ¹æ³\n\nä»£ç ï¼\n\npublic class JDBCUtils {\n\n    //1.å®ä¹æååé DataSource\n    private static DataSource ds ;\n\n    static{\n        try {\n            //1.å è½½éç½®æä»¶\n            Properties pro = new Properties();\n            pro.load(JDBCUtils.class.getClassLoader().getResourceAsStream("druid.properties"));\n            //2.è·åDataSource\n            ds = DruidDataSourceFactory.createDataSource(pro);\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    /**\n     * è·åè¿æ¥\n     */\n    public static Connection getConnection() throws SQLException {\n        return ds.getConnection();\n    }\n\n    /**\n     * éæ¾èµæº\n     */\n    public static void close(Statement stmt,Connection conn){\n\t\t\t       /* if(stmt != null){\n\t\t\t            try {\n\t\t\t                stmt.close();\n\t\t\t            } catch (SQLException e) {\n\t\t\t                e.printStackTrace();\n\t\t\t            }\n\t\t\t        }\n\t\t\t\n\t\t\t        if(conn != null){\n\t\t\t            try {\n\t\t\t                conn.close();//å½è¿è¿æ¥\n\t\t\t            } catch (SQLException e) {\n\t\t\t                e.printStackTrace();\n\t\t\t            }\n\t\t\t        }*/\n\n        close(null,stmt,conn);\n    }\n\n\n    public static void close(ResultSet rs , Statement stmt, Connection conn){\n        \n        if(rs != null){\n            try {\n                rs.close();\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n        if(stmt != null){\n            try {\n                stmt.close();\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n\n        if(conn != null){\n            try {\n                conn.close();//å½è¿è¿æ¥\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    /**\n     * è·åè¿æ¥æ± æ¹æ³\n     */\n\n    public static DataSource getDataSource(){\n        return  ds;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n',normalizedContent:'# javaweb\n\n\n# 8ãjsp\n\n\n# 8.1ãä»ä¹æ¯jsp\n\njava server pages ï¼ javaæå¡å¨ç«¯é¡µé¢ï¼ä¹åservletä¸æ ·ï¼ç¨äºå¨æwebææ¯ï¼\n\næå¤§çç¹ç¹ï¼\n\n * åjspå°±åå¨åhtml\n * åºå«ï¼\n   * htmlåªç»ç¨æ·æä¾éæçæ°æ®\n   * jspé¡µé¢ä¸­å¯ä»¥åµå¥javaä»£ç ï¼ä¸ºç¨æ·æä¾å¨ææ°æ®ï¼\n\n\n# 8.2ãjspåç\n\næè·¯ï¼jspå°åºæä¹æ§è¡çï¼\n\n * ä»£ç å±é¢æ²¡æä»»ä½é®é¢\n\n * æå¡å¨åé¨å·¥ä½\n   \n   tomcatä¸­æä¸ä¸ªworkç®å½ï¼\n   \n   ideaä¸­ä½¿ç¨tomcatçä¼å¨ideaçtomcatä¸­çäº§ä¸ä¸ªworkç®å½\n   \n   \n   \n   æçµèçå°åï¼\n   \n   c:\\users\\administrator\\.intellijidea2018.1\\system\\tomcat\\unnamed_javaweb-session-cookie\\work\\catalina\\localhost\\root\\org\\apache\\jsp\n   \n   \n   1\n   \n   \n   åç°é¡µé¢è½¬åæäºjavaç¨åºï¼\n   \n   \n\næµè§å¨åæå¡å¨åéè¯·æ±ï¼ä¸ç®¡è®¿é®ä»ä¹èµæºï¼å¶å®é½æ¯å¨è®¿é®servletï¼\n\njspæç»ä¹ä¼è¢«è½¬æ¢æä¸ºä¸ä¸ªjavaç±»ï¼\n\njsp æ¬è´¨ä¸å°±æ¯ä¸ä¸ªservlet\n\n//åå§å\n  public void _jspinit() {\n      \n  }\n//éæ¯\n  public void _jspdestroy() {\n  }\n//jspservice\n  public void _jspservice(.httpservletrequest request,httpservletresponse response)\n      \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n 1. å¤æ­è¯·æ±\n\n 2. åç½®ä¸äºå¯¹è±¡\n    \n    final javax.servlet.jsp.pagecontext pagecontext;  //é¡µé¢ä¸ä¸æ\n    javax.servlet.http.httpsession session = null;    //session\n    final javax.servlet.servletcontext application;   //applicationcontext\n    final javax.servlet.servletconfig config;         //config\n    javax.servlet.jsp.jspwriter out = null;           //out\n    final java.lang.object page = this;               //pageï¼å½å\n    httpservletrequest request                        //è¯·æ±\n    httpservletresponse response                      //ååº\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    \n\n 3. è¾åºé¡µé¢åå¢å çä»£ç \n    \n    response.setcontenttype("text/html");       //è®¾ç½®ååºçé¡µé¢ç±»å\n    pagecontext = _jspxfactory.getpagecontext(this, request, response,\n                                              null, true, 8192, true);\n    _jspx_page_context = pagecontext;\n    application = pagecontext.getservletcontext();\n    config = pagecontext.getservletconfig();\n    session = pagecontext.getsession();\n    out = pagecontext.getout();\n    _jspx_out = out;\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    \n\n 4. ä»¥ä¸çè¿äºä¸ªå¯¹è±¡æä»¬å¯ä»¥å¨jspé¡µé¢ä¸­ç´æ¥ä½¿ç¨ï¼\n\n\n\nå¨jspé¡µé¢ä¸­ï¼\n\nåªè¦æ¯ javaä»£ç å°±ä¼åå°ä¸å¨çè¾åºï¼\n\nå¦ææ¯htmlä»£ç ï¼å°±ä¼è¢«è½¬æ¢ä¸ºï¼\n\nout.write("<html>\\r\\n");\n\n\n1\n\n\nè¿æ ·çæ ¼å¼ï¼è¾åºå°åç«¯ï¼\n\n\n# 8.3ãjspåºç¡è¯­æ³\n\nä»»ä½è¯­è¨é½æèªå·±çè¯­æ³ï¼javaä¸­æ,ã jsp ä½ä¸ºjavaææ¯çä¸ç§åºç¨ï¼å®æ¥æä¸äºèªå·±æ©åçè¯­æ³ï¼äºè§£ï¼ç¥éå³å¯ï¼ï¼ï¼javaææè¯­æ³é½æ¯æï¼\n\n# jspè¡¨è¾¾å¼\n\n  <%--jspè¡¨è¾¾å¼\n  ä½ç¨ï¼ç¨æ¥å°ç¨åºçè¾åºï¼è¾åºå°å®¢æ·ç«¯\n  <%= åéæèè¡¨è¾¾å¼%>\n  --%>\n  <%= new java.util.date()%>\n\n\n1\n2\n3\n4\n5\n\n\n# jspèæ¬çæ®µ\n\n\n  <%--jspèæ¬çæ®µ--%>\n  <%\n    int sum = 0;\n    for (int i = 1; i <=100 ; i++) {\n      sum+=i;\n    }\n    out.println("<h1>sum="+sum+"</h1>");\n  %>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nèæ¬çæ®µçåå®ç°\n\n  <%\n    int x = 10;\n    out.println(x);\n  %>\n  <p>è¿æ¯ä¸ä¸ªjspææ¡£</p>\n  <%\n    int y = 2;\n    out.println(y);\n  %>\n\n  <hr>\n\n\n  <%--å¨ä»£ç åµå¥htmlåç´ --%>\n  <%\n    for (int i = 0; i < 5; i++) {\n  %>\n    <h1>hello,world  <%=i%> </h1>\n  <%\n    }\n  %>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n# jspå£°æ\n\n  <%!\n    static {\n      system.out.println("loading servlet!");\n    }\n\n    private int globalvar = 0;\n\n    public void kuang(){\n      system.out.println("è¿å¥äºæ¹æ³kuangï¼");\n    }\n  %>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\njspå£°æï¼ä¼è¢«ç¼è¯å°jspçæjavaçç±»ä¸­ï¼å¶ä»çï¼å°±ä¼è¢«çæå°_jspserviceæ¹æ³ä¸­ï¼\n\nå¨jspï¼åµå¥javaä»£ç å³å¯ï¼\n\n<%%>\n<%=%>\n<%!%>\n\n<%--æ³¨é--%>\n\n\n1\n2\n3\n4\n5\n\n\njspçæ³¨éï¼ä¸ä¼å¨å®¢æ·ç«¯æ¾ç¤ºï¼htmlå°±ä¼ï¼\n\n\n# 8.4ãjspæä»¤\n\n<%@page args.... %>\n<%@include file=""%>\n\n<%--@includeä¼å°ä¸¤ä¸ªé¡µé¢åäºä¸ºä¸--%>\n\n<%@include file="common/header.jsp"%>\n<h1>ç½é¡µä¸»ä½</h1>\n\n<%@include file="common/footer.jsp"%>\n\n<hr>\n\n\n<%--jspæ ç­¾\n    jsp:includeï¼æ¼æ¥é¡µé¢ï¼æ¬è´¨è¿æ¯ä¸ä¸ª\n    --%>\n<jsp:include page="/common/header.jsp"/>\n<h1>ç½é¡µä¸»ä½</h1>\n<jsp:include page="/common/footer.jsp"/>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# 8.5ã9å¤§åç½®å¯¹è±¡\n\n * pagecontext å­ä¸è¥¿\n * request å­ä¸è¥¿\n * response\n * session å­ä¸è¥¿\n * application ãserlvetcontextã å­ä¸è¥¿\n * config ãserlvetconfigã\n * out\n * page ï¼ä¸ç¨äºè§£\n * exception\n\npagecontext.setattribute("name1","ç§¦ç1å·"); //ä¿å­çæ°æ®åªå¨ä¸ä¸ªé¡µé¢ä¸­ææ\nrequest.setattribute("name2","ç§¦ç2å·"); //ä¿å­çæ°æ®åªå¨ä¸æ¬¡è¯·æ±ä¸­ææï¼è¯·æ±è½¬åä¼æºå¸¦è¿ä¸ªæ°æ®\nsession.setattribute("name3","ç§¦ç3å·"); //ä¿å­çæ°æ®åªå¨ä¸æ¬¡ä¼è¯ä¸­ææï¼ä»æå¼æµè§å¨å°å³é­æµè§å¨\napplication.setattribute("name4","ç§¦ç4å·");  //ä¿å­çæ°æ®åªå¨æå¡å¨ä¸­ææï¼ä»æå¼æå¡å¨å°å³é­æå¡å¨\n\n\n1\n2\n3\n4\n\n\nrequestï¼å®¢æ·ç«¯åæå¡å¨åéè¯·æ±ï¼äº§ççæ°æ®ï¼ç¨æ·çå®å°±æ²¡ç¨äºï¼æ¯å¦ï¼æ°é»ï¼ç¨æ·çå®æ²¡ç¨çï¼\n\nsessionï¼å®¢æ·ç«¯åæå¡å¨åéè¯·æ±ï¼äº§ççæ°æ®ï¼ç¨æ·ç¨å®ä¸ä¼è¿æç¨ï¼æ¯å¦ï¼è´­ç©è½¦ï¼\n\napplicationï¼å®¢æ·ç«¯åæå¡å¨åéè¯·æ±ï¼äº§ççæ°æ®ï¼ä¸ä¸ªç¨æ·ç¨å®äºï¼å¶ä»ç¨æ·è¿å¯è½ä½¿ç¨ï¼æ¯å¦ï¼èå¤©æ°æ®ï¼\n\n\n# 8.6ãjspæ ç­¾ãjstlæ ç­¾ãelè¡¨è¾¾å¼\n\n\x3c!-- jstlè¡¨è¾¾å¼çä¾èµ --\x3e\n<dependency>\n    <groupid>javax.servlet.jsp.jstl</groupid>\n    <artifactid>jstl-api</artifactid>\n    <version>1.2</version>\n</dependency>\n\x3c!-- standardæ ç­¾åº --\x3e\n<dependency>\n    <groupid>taglibs</groupid>\n    <artifactid>standard</artifactid>\n    <version>1.1.2</version>\n</dependency>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nelè¡¨è¾¾å¼ï¼ ${ }\n\n * è·åæ°æ®\n * æ§è¡è¿ç®\n * è·åwebå¼åçå¸¸ç¨å¯¹è±¡\n\njspæ ç­¾\n\n<%--jsp:include--%>\n\n<%--\nhttp://localhost:8080/jsptag.jsp?name=kuangshen&age=12\n--%>\n\n<jsp:forward page="/jsptag2.jsp">\n    <jsp:param name="name" value="kuangshen"></jsp:param>\n    <jsp:param name="age" value="12"></jsp:param>\n</jsp:forward>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\njstlè¡¨è¾¾å¼\n\njstlæ ç­¾åºçä½¿ç¨å°±æ¯ä¸ºäºå¼¥è¡¥htmlæ ç­¾çä¸è¶³ï¼å®èªå®ä¹è®¸å¤æ ç­¾ï¼å¯ä»¥ä¾æä»¬ä½¿ç¨ï¼æ ç­¾çåè½åjavaä»£ç ä¸æ ·ï¼\n\næ ¼å¼åæ ç­¾\n\nsqlæ ç­¾\n\nxml æ ç­¾\n\næ ¸å¿æ ç­¾ ï¼ææ¡é¨åï¼\n\n\n\njstlæ ç­¾åºä½¿ç¨æ­¥éª¤\n\n * å¼å¥å¯¹åºç taglib\n * ä½¿ç¨å¶ä¸­çæ¹æ³\n * å¨tomcat ä¹éè¦å¼å¥ jstlçåï¼å¦åä¼æ¥éï¼jstlè§£æéè¯¯\n\ncï¼if\n\n<head>\n    <title>title</title>\n</head>\n<body>\n\n\n<h4>ifæµè¯</h4>\n\n<hr>\n\n<form action="coreif.jsp" method="get">\n    <%--\n    elè¡¨è¾¾å¼è·åè¡¨åä¸­çæ°æ®\n    ${param.åæ°å}\n    --%>\n    <input type="text" name="username" value="${param.username}">\n    <input type="submit" value="ç»å½">\n</form>\n\n<%--å¤æ­å¦ææäº¤çç¨æ·åæ¯ç®¡çåï¼åç»å½æå--%>\n<c:if test="${param.username==\'admin\'}" var="isadmin">\n    <c:out value="ç®¡çåæ¬¢è¿æ¨ï¼"/>\n</c:if>\n\n<%--èªé­åæ ç­¾--%>\n<c:out value="${isadmin}"/>\n\n</body>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\nc:choose c:when\n\n<body>\n\n<%--å®ä¹ä¸ä¸ªåéscoreï¼å¼ä¸º85--%>\n<c:set var="score" value="55"/>\n\n<c:choose>\n    <c:when test="${score>=90}">\n        ä½ çæç»©ä¸ºä¼ç§\n    </c:when>\n    <c:when test="${score>=80}">\n        ä½ çæç»©ä¸ºä¸è¬\n    </c:when>\n    <c:when test="${score>=70}">\n        ä½ çæç»©ä¸ºè¯å¥½\n    </c:when>\n    <c:when test="${score<=60}">\n        ä½ çæç»©ä¸ºä¸åæ ¼\n    </c:when>\n</c:choose>\n\n</body>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\nc:foreach\n\n<%\n\n    arraylist<string> people = new arraylist<>();\n    people.add(0,"å¼ ä¸");\n    people.add(1,"æå");\n    people.add(2,"çäº");\n    people.add(3,"èµµå­");\n    people.add(4,"ç°å­");\n    request.setattribute("list",people);\n%>\n\n\n<%--\nvar , æ¯ä¸æ¬¡éååºæ¥çåé\nitems, è¦éåçå¯¹è±¡\nbegin,   åªéå¼å§\nend,     å°åªé\nstep,   æ­¥é¿\n--%>\n<c:foreach var="people" items="${list}">\n    <c:out value="${people}"/> <br>\n</c:foreach>\n\n<hr>\n\n<c:foreach var="people" items="${list}" begin="1" end="3" step="1" >\n    <c:out value="${people}"/> <br>\n</c:foreach>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n# 9ãjavabean\n\nå®ä½ç±»\n\njavabeanæç¹å®çåæ³ï¼\n\n * å¿é¡»è¦æä¸ä¸ªæ åæé \n * å±æ§å¿é¡»ç§æå\n * å¿é¡»æå¯¹åºçget/setæ¹æ³ï¼\n\nä¸è¬ç¨æ¥åæ°æ®åºçå­æ®µåæ å° ormï¼\n\norm ï¼å¯¹è±¡å³ç³»æ å°\n\n * è¡¨---\x3eç±»\n * å­æ®µ--\x3eå±æ§\n * è¡è®°å½----\x3eå¯¹è±¡\n\npeopleè¡¨\n\nid   name   age   address\n1    ç§¦ç1å·   3     è¥¿å®\n2    ç§¦ç2å·   18    è¥¿å®\n3    ç§¦ç3å·   100   è¥¿å®\n\nclass people{\n    private int id;\n    private string name;\n    private int id;\n    private string address;\n}\n\nclass a{\n    new people(1,"ç§¦ç1å·",3ï¼"è¥¿å®");\n    new people(2,"ç§¦ç2å·",3ï¼"è¥¿å®");\n    new people(3,"ç§¦ç3å·",3ï¼"è¥¿å®");\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n * è¿æ»¤å¨\n * æä»¶ä¸ä¼ \n * é®ä»¶åé\n * jdbc å¤ä¹  ï¼ å¦ä½ä½¿ç¨jdbc , jdbc crudï¼ jdbc äºå¡\n\n\n# 10ãmvcä¸å±æ¶æ\n\nä»ä¹æ¯mvcï¼ model view controller æ¨¡åãè§å¾ãæ§å¶å¨\n\n\n# 10.1ãæ©äºå¹´\n\n\n\nç¨æ·ç´æ¥è®¿é®æ§å¶å±ï¼æ§å¶å±å°±å¯ä»¥ç´æ¥æä½æ°æ®åºï¼\n\nservlet--crud--\x3eæ°æ®åº\nå¼ç«¯ï¼ç¨åºååèè¿ï¼ä¸å©äºç»´æ¤  \nservletçä»£ç ä¸­ï¼å¤çè¯·æ±ãååºãè§å¾è·³è½¬ãå¤çjdbcãå¤çä¸å¡ä»£ç ãå¤çé»è¾ä»£ç \n\næ¶æï¼æ²¡æä»ä¹æ¯å ä¸å±è§£å³ä¸äºçï¼\nç¨åºç¿è°ç¨\n|\njdbc\n|\nmysql oracle sqlserver ....\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# 10.2ãmvcä¸å±æ¶æ\n\n\n\nmodel\n\n * ä¸å¡å¤ç ï¼ä¸å¡é»è¾ï¼serviceï¼\n * æ°æ®æä¹å±ï¼crud ï¼daoï¼\n\nview\n\n * å±ç¤ºæ°æ®\n * æä¾é¾æ¥åèµ·servletè¯·æ± ï¼aï¼formï¼imgâ¦ï¼\n\ncontroller ï¼servletï¼\n\n * æ¥æ¶ç¨æ·çè¯·æ± ï¼ï¼reqï¼è¯·æ±åæ°ãsessionä¿¡æ¯â¦.ï¼\n\n * äº¤ç»ä¸å¡å±å¤çå¯¹åºçä»£ç \n\n * æ§å¶è§å¾çè·³è½¬\n   \n   ç»å½---\x3eæ¥æ¶ç¨æ·çç»å½è¯·æ±---\x3eå¤çç¨æ·çè¯·æ±ï¼è·åç¨æ·ç»å½çåæ°ï¼usernameï¼passwordï¼----\x3eäº¤ç»ä¸å¡å±å¤çç»å½ä¸å¡ï¼å¤æ­ç¨æ·åå¯ç æ¯å¦æ­£ç¡®ï¼äºå¡ï¼---\x3edaoå±æ¥è¯¢ç¨æ·ååå¯ç æ¯å¦æ­£ç¡®--\x3eæ°æ®åº\n   \n   \n   1\n   \n\n\n# 11ãfilter ï¼éç¹ï¼\n\nfilterï¼è¿æ»¤å¨ ï¼ç¨æ¥è¿æ»¤ç½ç«çæ°æ®ï¼\n\n * å¤çä¸­æä¹±ç \n * ç»å½éªè¯â¦.\n\n\n\nfilterå¼åæ­¥éª¤ï¼\n\n 1. å¯¼å\n\n 2. ç¼åè¿æ»¤å¨\n    \n    1. å¯¼åä¸è¦é\n       \n       \n       \n       å®ç°filteræ¥å£ï¼éåå¯¹åºçæ¹æ³å³å¯\n       \n       public class characterencodingfilter implements filter {\n       \n           //åå§åï¼webæå¡å¨å¯å¨ï¼å°±ä»¥ååå§åäºï¼éæ¶ç­å¾è¿æ»¤å¯¹è±¡åºç°ï¼\n           public void init(filterconfig filterconfig) throws servletexception {\n               system.out.println("characterencodingfilteråå§å");\n           }\n       \n           //chain : é¾\n           /*\n           1. è¿æ»¤ä¸­çææä»£ç ï¼å¨è¿æ»¤ç¹å®è¯·æ±çæ¶åé½ä¼æ§è¡\n           2. å¿é¡»è¦è®©è¿æ»¤å¨ç»§ç»­åè¡\n               chain.dofilter(request,response);\n            */\n           public void dofilter(servletrequest request, servletresponse response, filterchain chain) throws ioexception, servletexception {\n               request.setcharacterencoding("utf-8");\n               response.setcharacterencoding("utf-8");\n               response.setcontenttype("text/html;charset=utf-8");\n       \n               system.out.println("characterencodingfilteræ§è¡å....");\n               chain.dofilter(request,response); //è®©æä»¬çè¯·æ±ç»§ç»­èµ°ï¼å¦æä¸åï¼ç¨åºå°è¿éå°±è¢«æ¦æªåæ­¢ï¼\n               system.out.println("characterencodingfilteræ§è¡å....");\n           }\n       \n           //éæ¯ï¼webæå¡å¨å³é­çæ¶åï¼è¿æ»¤ä¼éæ¯\n           public void destroy() {\n               system.out.println("characterencodingfilteréæ¯");\n           }\n       }\n       \n       \n       \n       1\n       2\n       3\n       4\n       5\n       6\n       7\n       8\n       9\n       10\n       11\n       12\n       13\n       14\n       15\n       16\n       17\n       18\n       19\n       20\n       21\n       22\n       23\n       24\n       25\n       26\n       27\n       28\n       29\n       \n\n 3. å¨web.xmlä¸­éç½® filter\n    \n    <filter>\n        <filter-name>characterencodingfilter</filter-name>\n        <filter-class>com.kuang.filter.characterencodingfilter</filter-class>\n    </filter>\n    <filter-mapping>\n        <filter-name>characterencodingfilter</filter-name>\n        \x3c!--åªè¦æ¯ /servletçä»»ä½è¯·æ±ï¼ä¼ç»è¿è¿ä¸ªè¿æ»¤å¨--\x3e\n        <url-pattern>/servlet/*</url-pattern>\n        \x3c!--<url-pattern>/*</url-pattern>--\x3e\n    </filter-mapping>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    \n\n\n# 12ãçå¬å¨\n\nå®ç°ä¸ä¸ªçå¬å¨çæ¥å£ï¼ï¼ænç§ï¼\n\n 1. ç¼åä¸ä¸ªçå¬å¨\n    \n    å®ç°çå¬å¨çæ¥å£â¦\n    \n    //ç»è®¡ç½ç«å¨çº¿äººæ° ï¼ ç»è®¡session\n    public class onlinecountlistener implements httpsessionlistener {\n    \n        //åå»ºsessionçå¬ï¼ çä½ çä¸ä¸¾ä¸å¨\n        //ä¸æ¦åå»ºsessionå°±ä¼è§¦åä¸æ¬¡è¿ä¸ªäºä»¶ï¼\n        public void sessioncreated(httpsessionevent se) {\n            servletcontext ctx = se.getsession().getservletcontext();\n    \n            system.out.println(se.getsession().getid());\n    \n            integer onlinecount = (integer) ctx.getattribute("onlinecount");\n    \n            if (onlinecount==null){\n                onlinecount = new integer(1);\n            }else {\n                int count = onlinecount.intvalue();\n                onlinecount = new integer(count+1);\n            }\n    \n            ctx.setattribute("onlinecount",onlinecount);\n    \n        }\n    \n        //éæ¯sessionçå¬\n        //ä¸æ¦éæ¯sessionå°±ä¼è§¦åä¸æ¬¡è¿ä¸ªäºä»¶ï¼\n        public void sessiondestroyed(httpsessionevent se) {\n            servletcontext ctx = se.getsession().getservletcontext();\n    \n            integer onlinecount = (integer) ctx.getattribute("onlinecount");\n    \n            if (onlinecount==null){\n                onlinecount = new integer(0);\n            }else {\n                int count = onlinecount.intvalue();\n                onlinecount = new integer(count-1);\n            }\n    \n            ctx.setattribute("onlinecount",onlinecount);\n    \n        }\n    \n    \n        /*\n        sessionéæ¯ï¼\n        1. æå¨éæ¯  getsession().invalidate();\n        2. èªå¨éæ¯\n         */\n    }\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    44\n    45\n    46\n    47\n    48\n    49\n    \n\n 2. web.xmlä¸­æ³¨åçå¬å¨\n    \n    \x3c!--æ³¨åçå¬å¨--\x3e\n    <listener>\n        <listener-class>com.kuang.listener.onlinecountlistener</listener-class>\n    </listener>\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 3. çæåµæ¯å¦ä½¿ç¨ï¼\n\n\n# 13ãè¿æ»¤å¨ãçå¬å¨å¸¸è§åºç¨\n\nçå¬å¨ï¼guiç¼ç¨ä¸­ç»å¸¸ä½¿ç¨ï¼\n\npublic class testpanel {\n    public static void main(string[] args) {\n        frame frame = new frame("ä¸­ç§èå¿«ä¹");  //æ°å»ºä¸ä¸ªçªä½\n        panel panel = new panel(null); //é¢æ¿\n        frame.setlayout(null); //è®¾ç½®çªä½çå¸å±\n\n        frame.setbounds(300,300,500,500);\n        frame.setbackground(new color(0,0,255)); //è®¾ç½®èæ¯é¢è²\n\n        panel.setbounds(50,50,300,300);\n        panel.setbackground(new color(0,255,0)); //è®¾ç½®èæ¯é¢è²\n\n        frame.add(panel);\n\n        frame.setvisible(true);\n\n        //çå¬äºä»¶ï¼çå¬å³é­äºä»¶\n        frame.addwindowlistener(new windowadapter() {\n            @override\n            public void windowclosing(windowevent e) {\n                super.windowclosing(e);\n            }\n        });\n\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\nç¨æ·ç»å½ä¹åæè½è¿å¥ä¸»é¡µï¼ç¨æ·æ³¨éåå°±ä¸è½è¿å¥ä¸»é¡µäºï¼\n\n 1. ç¨æ·ç»å½ä¹åï¼åsesisonä¸­æ¾å¥ç¨æ·çæ°æ®\n\n 2. è¿å¥ä¸»é¡µçæ¶åè¦å¤æ­ç¨æ·æ¯å¦å·²ç»ç»å½ï¼è¦æ±ï¼å¨è¿æ»¤å¨ä¸­å®ç°ï¼\n    \n    httpservletrequest request = (httpservletrequest) req;\n    httpservletresponse response = (httpservletresponse) resp;\n    \n    if (request.getsession().getattribute(constant.user_session)==null){\n        response.sendredirect("/error.jsp");\n    }\n    \n    chain.dofilter(request,response);\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    \n\n\n# 14ãjdbc\n\nä»ä¹æ¯jdbc ï¼ javaè¿æ¥æ°æ®åºï¼\n\n\n\néè¦jaråçæ¯æï¼\n\n * java.sql\n * javax.sql\n * mysql-conneter-javaâ¦ è¿æ¥é©±å¨ï¼å¿é¡»è¦å¯¼å¥ï¼\n\nå®éªç¯å¢æ­å»º\n\n\ncreate table users(\n    id int primary key,\n    `name` varchar(40),\n    `password` varchar(40),\n    email varchar(60),\n    birthday date\n);\n\ninsert into users(id,`name`,`password`,email,birthday)\nvalues(1,\'å¼ ä¸\',\'123456\',\'zs@qq.com\',\'2000-01-01\');\ninsert into users(id,`name`,`password`,email,birthday)\nvalues(2,\'æå\',\'123456\',\'ls@qq.com\',\'2000-01-01\');\ninsert into users(id,`name`,`password`,email,birthday)\nvalues(3,\'çäº\',\'123456\',\'ww@qq.com\',\'2000-01-01\');\n\n\nselect\t* from users;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nå¯¼å¥æ°æ®åºä¾èµ\n\n\x3c!--mysqlçé©±å¨--\x3e\n<dependency>\n    <groupid>mysql</groupid>\n    <artifactid>mysql-connector-java</artifactid>\n    <version>5.1.47</version>\n</dependency>\n\n\n1\n2\n3\n4\n5\n6\n\n\nideaä¸­è¿æ¥æ°æ®åºï¼\n\n\n\njdbc åºå®æ­¥éª¤ï¼\n\n 1. å è½½é©±å¨\n 2. è¿æ¥æ°æ®åº,ä»£è¡¨æ°æ®åº\n 3. åæ°æ®åºåésqlçå¯¹è±¡statement : crud\n 4. ç¼åsql ï¼æ ¹æ®ä¸å¡ï¼ä¸åçsqlï¼\n 5. æ§è¡sql\n 6. å³é­è¿æ¥\n\npublic class testjdbc {\n    public static void main(string[] args) throws classnotfoundexception, sqlexception {\n        //éç½®ä¿¡æ¯\n        //useunicode=true&characterencoding=utf-8 è§£å³ä¸­æä¹±ç \n        string url="jdbc:mysql://localhost:3306/jdbc?useunicode=true&characterencoding=utf-8";\n        string username = "root";\n        string password = "123456";\n\n        //1.å è½½é©±å¨\n        class.forname("com.mysql.jdbc.driver");\n        //2.è¿æ¥æ°æ®åº,ä»£è¡¨æ°æ®åº\n        connection connection = drivermanager.getconnection(url, username, password);\n\n        //3.åæ°æ®åºåésqlçå¯¹è±¡statement,preparedstatement : crud\n        statement statement = connection.createstatement();\n\n        //4.ç¼åsql\n        string sql = "select * from users";\n\n        //5.æ§è¡æ¥è¯¢sqlï¼è¿åä¸ä¸ª resultset  ï¼ ç»æé\n        resultset rs = statement.executequery(sql);\n\n        while (rs.next()){\n            system.out.println("id="+rs.getobject("id"));\n            system.out.println("name="+rs.getobject("name"));\n            system.out.println("password="+rs.getobject("password"));\n            system.out.println("email="+rs.getobject("email"));\n            system.out.println("birthday="+rs.getobject("birthday"));\n        }\n\n        //6.å³é­è¿æ¥ï¼éæ¾èµæºï¼ä¸å®è¦åï¼ åå¼åå³\n        rs.close();\n        statement.close();\n        connection.close();\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n\n\né¢ç¼è¯sql\n\npublic class testjdbc2 {\n    public static void main(string[] args) throws exception {\n        //éç½®ä¿¡æ¯\n        //useunicode=true&characterencoding=utf-8 è§£å³ä¸­æä¹±ç \n        string url="jdbc:mysql://localhost:3306/jdbc?useunicode=true&characterencoding=utf-8";\n        string username = "root";\n        string password = "123456";\n\n        //1.å è½½é©±å¨\n        class.forname("com.mysql.jdbc.driver");\n        //2.è¿æ¥æ°æ®åº,ä»£è¡¨æ°æ®åº\n        connection connection = drivermanager.getconnection(url, username, password);\n\n        //3.ç¼åsql\n        string sql = "insert into  users(id, name, password, email, birthday) values (?,?,?,?,?);";\n\n        //4.é¢ç¼è¯\n        preparedstatement preparedstatement = connection.preparestatement(sql);\n\n        preparedstatement.setint(1,2);//ç»ç¬¬ä¸ä¸ªå ä½ç¬¦ï¼ çå¼èµå¼ä¸º1ï¼\n        preparedstatement.setstring(2,"çç¥è¯´java");//ç»ç¬¬äºä¸ªå ä½ç¬¦ï¼ çå¼èµå¼ä¸ºçç¥è¯´javaï¼\n        preparedstatement.setstring(3,"123456");//ç»ç¬¬ä¸ä¸ªå ä½ç¬¦ï¼ çå¼èµå¼ä¸º123456ï¼\n        preparedstatement.setstring(4,"24736743@qq.com");//ç»ç¬¬åä¸ªå ä½ç¬¦ï¼ çå¼èµå¼ä¸º1ï¼\n        preparedstatement.setdate(5,new date(new java.util.date().gettime()));//ç»ç¬¬äºä¸ªå ä½ç¬¦ï¼ çå¼èµå¼ä¸ºnew date(new java.util.date().gettime())ï¼\n\n        //5.æ§è¡sql\n        int i = preparedstatement.executeupdate();\n\n        if (i>0){\n            system.out.println("æå¥æå@");\n        }\n\n        //6.å³é­è¿æ¥ï¼éæ¾èµæºï¼ä¸å®è¦åï¼ åå¼åå³\n        preparedstatement.close();\n        connection.close();\n    }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\näºå¡\n\nè¦ä¹é½æåï¼è¦ä¹é½å¤±è´¥ï¼\n\nacidååï¼ä¿è¯æ°æ®çå®å¨ã\n\nå¼å¯äºå¡\näºå¡æäº¤  commit()\näºå¡åæ»  rollback()\nå³é­äºå¡\n\nè½¬è´¦ï¼\na:1000\nb:1000\n    \na(900)   --100--\x3e   b(1100) \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\njunitååæµè¯\n\nä¾èµ\n\n\x3c!--ååæµè¯--\x3e\n<dependency>\n    <groupid>junit</groupid>\n    <artifactid>junit</artifactid>\n    <version>4.12</version>\n</dependency>\n\n\n1\n2\n3\n4\n5\n6\n\n\nç®åä½¿ç¨\n\n@testæ³¨è§£åªæå¨æ¹æ³ä¸ææï¼åªè¦å äºè¿ä¸ªæ³¨è§£çæ¹æ³ï¼å°±å¯ä»¥ç´æ¥è¿è¡ï¼\n\n@test\npublic void test(){\n    system.out.println("hello");\n}\n\n\n1\n2\n3\n4\n\n\n\n\nå¤±è´¥çæ¶åæ¯çº¢è²ï¼\n\n\n\næ­å»ºä¸ä¸ªç¯å¢\n\ncreate table account(\n   id int primary key auto_increment,\n   `name` varchar(40),\n   money float\n);\n\ninsert into account(`name`,money) values(\'a\',1000);\ninsert into account(`name`,money) values(\'b\',1000);\ninsert into account(`name`,money) values(\'c\',1000);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n    @test\n    public void test() {\n        //éç½®ä¿¡æ¯\n        //useunicode=true&characterencoding=utf-8 è§£å³ä¸­æä¹±ç \n        string url="jdbc:mysql://localhost:3306/jdbc?useunicode=true&characterencoding=utf-8";\n        string username = "root";\n        string password = "123456";\n\n        connection connection = null;\n\n        //1.å è½½é©±å¨\n        try {\n            class.forname("com.mysql.jdbc.driver");\n            //2.è¿æ¥æ°æ®åº,ä»£è¡¨æ°æ®åº\n             connection = drivermanager.getconnection(url, username, password);\n\n            //3.éç¥æ°æ®åºå¼å¯äºå¡,false å¼å¯\n            connection.setautocommit(false);\n\n            string sql = "update account set money = money-100 where name = \'a\'";\n            connection.preparestatement(sql).executeupdate();\n\n            //å¶é éè¯¯\n            //int i = 1/0;\n\n            string sql2 = "update account set money = money+100 where name = \'b\'";\n            connection.preparestatement(sql2).executeupdate();\n\n            connection.commit();//ä»¥ä¸ä¸¤æ¡sqlé½æ§è¡æåäºï¼å°±æäº¤äºå¡ï¼\n            system.out.println("success");\n        } catch (exception e) {\n            try {\n                //å¦æåºç°å¼å¸¸ï¼å°±éç¥æ°æ®åºåæ»äºå¡\n                connection.rollback();\n            } catch (sqlexception e1) {\n                e1.printstacktrace();\n            }\n            e.printstacktrace();\n        }finally {\n            try {\n                connection.close();\n            } catch (sqlexception e) {\n                e.printstacktrace();\n            }\n        }\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n\n\n\n# 15ãæ°æ®åºè¿æ¥æ± \n\næ¦å¿µï¼å¶å®å°±æ¯ä¸ä¸ªå®¹å¨(éå)ï¼å­æ¾æ°æ®åºè¿æ¥çå®¹å¨ã å½ç³»ç»åå§åå¥½åï¼å®¹å¨è¢«åå»ºï¼å®¹å¨ä¸­ä¼ç³è¯·ä¸äºè¿æ¥å¯¹è±¡ï¼å½ç¨æ·æ¥è®¿é®æ°æ®åºæ¶ï¼ä»å®¹å¨ä¸­è·åè¿æ¥å¯¹è±¡ï¼ç¨æ·è®¿é®å®ä¹åï¼ä¼å°è¿æ¥å¯¹è±¡å½è¿ç»å®¹å¨ã å¥½å¤ï¼\n\n 1. èçº¦èµæº\n 2. ç¨æ·è®¿é®é«æ\n\nå®ç°ï¼ æ åæ¥å£ï¼datasource javax.sqlåä¸ç\n\n 1. æ¹æ³ï¼\n\n> è·åè¿æ¥ï¼getconnection() å½è¿è¿æ¥ï¼connection.close()ã å¦æè¿æ¥å¯¹è±¡connectionæ¯ä»è¿æ¥æ± ä¸­è·åçï¼é£ä¹è°ç¨connection.close()æ¹æ³ï¼åä¸ä¼åå³é­è¿æ¥äºãèæ¯å½è¿è¿æ¥\n\n 2. ä¸è¬æä»¬ä¸å»å®ç°å®ï¼ææ°æ®åºååæ¥å®ç°\n\n>  1. c3p0ï¼æ°æ®åºè¿æ¥æ± ææ¯\n>  2. druidï¼æ°æ®åºè¿æ¥æ± å®ç°ææ¯ï¼ç±é¿éå·´å·´æä¾ç\n\nc3p0ï¼æ°æ®åºè¿æ¥æ± ææ¯\n\n * æ­¥éª¤ï¼\n\n 1. å¯¼å¥jarå (ä¸¤ä¸ª) c3p0-0.9.5.2.jar mchange-commons-java-0.2.12.jar ï¼ ä¸è¦å¿è®°å¯¼å¥æ°æ®åºé©±å¨ jar å\n 2. å®ä¹éç½®æä»¶ï¼\n\n> åç§°ï¼ c3p0.properties æè c3p0-config.xml è·¯å¾ï¼ç´æ¥å°æä»¶æ¾å¨srcç®å½ä¸å³å¯ã\n\n 3. åå»ºæ ¸å¿å¯¹è±¡ æ°æ®åºè¿æ¥æ± å¯¹è±¡ combopooleddatasource()\n 4. è·åè¿æ¥ï¼getconnection()\n\n * ä»£ç ï¼\n\n//1.åå»ºæ°æ®åºè¿æ¥æ± å¯¹è±¡\ndatasource ds  = new combopooleddatasource();\n//2. è·åè¿æ¥å¯¹è±¡\nconnection conn = ds.getconnection();\n\n\n1\n2\n3\n4\n\n\ndruidï¼æ°æ®åºè¿æ¥æ± å®ç°ææ¯ï¼ç±é¿éå·´å·´æä¾ç\n\n * æ­¥éª¤ï¼\n\n 1. å¯¼å¥jarå druid-1.0.9.jar\n 2. å®ä¹éç½®æä»¶ï¼\n    * æ¯propertieså½¢å¼ç*\n    * å¯ä»¥å«ä»»æåç§°ï¼å¯ä»¥æ¾å¨ä»»æç®å½ä¸*\n 3. å è½½éç½®æä»¶ãproperties\n 4. è·åæ°æ®åºè¿æ¥æ± å¯¹è±¡ï¼éè¿å·¥åæ¥æ¥è·å druiddatasourcefactory()\n 5. è·åè¿æ¥ï¼getconnection()\n\n * ä»£ç ï¼\n\n//3.å è½½éç½®æä»¶\nproperties pro = new properties();\ninputstream is = druiddemo.class.getclassloader().getresourceasstream("druid.properties");\npro.load(is);\n//4.è·åè¿æ¥æ± å¯¹è±¡\ndatasource ds = druiddatasourcefactory.createdatasource(pro);\n//5.è·åè¿æ¥\nconnection conn = ds.getconnection();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nå®ä¹å·¥å·ç±»\n\n 1. å®ä¹ä¸ä¸ªç±» jdbcutils\n 2. æä¾éæä»£ç åå è½½éç½®æä»¶ï¼åå§åè¿æ¥æ± å¯¹è±¡\n 3. æä¾æ¹æ³\n\n>  1. è·åè¿æ¥æ¹æ³ï¼éè¿æ°æ®åºè¿æ¥æ± è·åè¿æ¥\n>  2. éæ¾èµæº\n>  3. è·åè¿æ¥æ± çæ¹æ³\n\nä»£ç ï¼\n\npublic class jdbcutils {\n\n    //1.å®ä¹æååé datasource\n    private static datasource ds ;\n\n    static{\n        try {\n            //1.å è½½éç½®æä»¶\n            properties pro = new properties();\n            pro.load(jdbcutils.class.getclassloader().getresourceasstream("druid.properties"));\n            //2.è·ådatasource\n            ds = druiddatasourcefactory.createdatasource(pro);\n        } catch (ioexception e) {\n            e.printstacktrace();\n        } catch (exception e) {\n            e.printstacktrace();\n        }\n    }\n\n    /**\n     * è·åè¿æ¥\n     */\n    public static connection getconnection() throws sqlexception {\n        return ds.getconnection();\n    }\n\n    /**\n     * éæ¾èµæº\n     */\n    public static void close(statement stmt,connection conn){\n\t\t\t       /* if(stmt != null){\n\t\t\t            try {\n\t\t\t                stmt.close();\n\t\t\t            } catch (sqlexception e) {\n\t\t\t                e.printstacktrace();\n\t\t\t            }\n\t\t\t        }\n\t\t\t\n\t\t\t        if(conn != null){\n\t\t\t            try {\n\t\t\t                conn.close();//å½è¿è¿æ¥\n\t\t\t            } catch (sqlexception e) {\n\t\t\t                e.printstacktrace();\n\t\t\t            }\n\t\t\t        }*/\n\n        close(null,stmt,conn);\n    }\n\n\n    public static void close(resultset rs , statement stmt, connection conn){\n        \n        if(rs != null){\n            try {\n                rs.close();\n            } catch (sqlexception e) {\n                e.printstacktrace();\n            }\n        }\n        if(stmt != null){\n            try {\n                stmt.close();\n            } catch (sqlexception e) {\n                e.printstacktrace();\n            }\n        }\n\n        if(conn != null){\n            try {\n                conn.close();//å½è¿è¿æ¥\n            } catch (sqlexception e) {\n                e.printstacktrace();\n            }\n        }\n    }\n\n    /**\n     * è·åè¿æ¥æ± æ¹æ³\n     */\n\n    public static datasource getdatasource(){\n        return  ds;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"MySQL - ç¥è¯ä½ç³»",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"03.æ°æ®åº/05.MySQL",imgUrl:"/img/web.png",description:"MySQL ç®å½é¡µ"}},title:"MySQL - ç¥è¯ä½ç³»",permalink:"/mysql",sidebar:!0,article:!1,comment:!1,editLink:!1,date:"2021-08-03T18:04:03.000Z"},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/05.MySQL/02.MySQL.html",relativePath:"03.æ°æ®åº/05.MySQL/02.MySQL.md",key:"v-6989e0ac",path:"/mysql/",headersStr:null,content:"MySQLå¥é¨ï¼\n\nMySQLåºç¡ç¬è®°å¯ç èé¸æç¨\n\nmysqlåºç¡è§é¢æç¨ bilibili ä¸æå³å¯\n\n----------------------------------------\n\nMySQLè¿é¶ï¼\n\n * å°ç¡è°·MySQLæ°æ®åºé«çº§\n   \n   è§é¢ï¼https://www.bilibili.com/video/BV1KW411u7vy\n   \n   ç¬è®°é¾æ¥ï¼https://pan.baidu.com/s/1GUzPFVG3Je9uT419rHE8MQ\n   \n   æåç ï¼ybfi\n\n * é»é©¬ç¨åºå2020ææ°MySQLé«çº§æç¨\n   \n   è§é¢ï¼https://www.bilibili.com/video/BV1UQ4y1P7Xr\n   \n   ç¬è®°ï¼https://gitee.com/yooome/netty-study\n\næåå¼å§ççæ¯å°ç¡è°·çï¼çäºä¸åè·å»çé»é©¬çäº\n\nè¿ä¸¤æç¨åå®¹é½å·®ä¸å¤ï¼é»é©¬çæ´å¤ä¸äº\n\næ¨èä¹¦ç±ï¼ãæ·±å¥æµåºmysqlã\n\nè§é¢åå®¹å´ç»çè¿æ¬ä¹¦ä¸åå®¹è®²ç",normalizedContent:"mysqlå¥é¨ï¼\n\nmysqlåºç¡ç¬è®°å¯ç èé¸æç¨\n\nmysqlåºç¡è§é¢æç¨ bilibili ä¸æå³å¯\n\n----------------------------------------\n\nmysqlè¿é¶ï¼\n\n * å°ç¡è°·mysqlæ°æ®åºé«çº§\n   \n   è§é¢ï¼https://www.bilibili.com/video/bv1kw411u7vy\n   \n   ç¬è®°é¾æ¥ï¼https://pan.baidu.com/s/1guzpfvg3je9ut419rhe8mq\n   \n   æåç ï¼ybfi\n\n * é»é©¬ç¨åºå2020ææ°mysqlé«çº§æç¨\n   \n   è§é¢ï¼https://www.bilibili.com/video/bv1uq4y1p7xr\n   \n   ç¬è®°ï¼https://gitee.com/yooome/netty-study\n\næåå¼å§ççæ¯å°ç¡è°·çï¼çäºä¸åè·å»çé»é©¬çäº\n\nè¿ä¸¤æç¨åå®¹é½å·®ä¸å¤ï¼é»é©¬çæ´å¤ä¸äº\n\næ¨èä¹¦ç±ï¼ãæ·±å¥æµåºmysqlã\n\nè§é¢åå®¹å´ç»çè¿æ¬ä¹¦ä¸åå®¹è®²ç",charsets:{cjk:!0},lastUpdated:"2021/09/12, 15:09:00",lastUpdatedTimestamp:1631461529e3},{title:"MySQL - ç´¢å¼ä»ç»",frontmatter:{title:"MySQL - ç´¢å¼ä»ç»",permalink:"/mysql/index/",date:"2021-05-20T20:51:46.000Z"},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/05.MySQL/06.MySQL%20-%20%E7%B4%A2%E5%BC%95.html",relativePath:"03.æ°æ®åº/05.MySQL/06.MySQL - ç´¢å¼.md",key:"v-e50b8c2e",path:"/mysql/index/",headers:[{level:2,title:"ç´¢å¼çæ¦å¿µ",slug:"ç´¢å¼çæ¦å¿µ",normalizedTitle:"ç´¢å¼çæ¦å¿µ",charIndex:3},{level:2,title:"æ¨èæç« ",slug:"æ¨èæç« ",normalizedTitle:"æ¨èæç« ",charIndex:12},{level:2,title:"ç´¢å¼ç»æ",slug:"ç´¢å¼ç»æ",normalizedTitle:"ç´¢å¼ç»æ",charIndex:20},{level:3,title:"Btree ç´¢å¼ç»æ",slug:"btree-ç´¢å¼ç»æ",normalizedTitle:"btree ç´¢å¼ç»æ",charIndex:30},{level:4,title:"æ¼åè¿ç¨",slug:"æ¼åè¿ç¨",normalizedTitle:"æ¼åè¿ç¨",charIndex:48},{level:4,title:"å¶ä»",slug:"å¶ä»",normalizedTitle:"å¶ä»",charIndex:60},{level:3,title:"B+tree ç»æ",slug:"b-tree-ç»æ",normalizedTitle:"b+tree ç»æ",charIndex:68},{level:3,title:"MySQLä¸­çB+Tree",slug:"mysqlä¸­çb-tree",normalizedTitle:"mysqlä¸­çb+tree",charIndex:83},{level:3,title:"èç°ç´¢å¼åéèç°ç´¢å¼",slug:"èç°ç´¢å¼åéèç°ç´¢å¼",normalizedTitle:"èç°ç´¢å¼åéèç°ç´¢å¼",charIndex:102},{level:3,title:"æ¶é´å¤æåº¦",slug:"æ¶é´å¤æåº¦",normalizedTitle:"æ¶é´å¤æåº¦",charIndex:118},{level:2,title:"ç´¢å¼åç±»",slug:"ç´¢å¼åç±»",normalizedTitle:"ç´¢å¼åç±»",charIndex:127},{level:3,title:"åå¼ç´¢å¼",slug:"åå¼ç´¢å¼",normalizedTitle:"åå¼ç´¢å¼",charIndex:137},{level:3,title:"å¯ä¸ç´¢å¼",slug:"å¯ä¸ç´¢å¼",normalizedTitle:"å¯ä¸ç´¢å¼",charIndex:147},{level:3,title:"å¤åç´¢å¼",slug:"å¤åç´¢å¼",normalizedTitle:"å¤åç´¢å¼",charIndex:157},{level:3,title:"ä¸»é®ç´¢å¼",slug:"ä¸»é®ç´¢å¼",normalizedTitle:"ä¸»é®ç´¢å¼",charIndex:167},{level:3,title:"ç´¢å¼åºæ¬è¯­æ³",slug:"ç´¢å¼åºæ¬è¯­æ³",normalizedTitle:"ç´¢å¼åºæ¬è¯­æ³",charIndex:177},{level:2,title:"ç´¢å¼è®¾è®¡åå",slug:"ç´¢å¼è®¾è®¡åå",normalizedTitle:"ç´¢å¼è®¾è®¡åå",charIndex:187}],headersStr:"ç´¢å¼çæ¦å¿µ æ¨èæç«  ç´¢å¼ç»æ Btree ç´¢å¼ç»æ æ¼åè¿ç¨ å¶ä» B+tree ç»æ MySQLä¸­çB+Tree èç°ç´¢å¼åéèç°ç´¢å¼ æ¶é´å¤æåº¦ ç´¢å¼åç±» åå¼ç´¢å¼ å¯ä¸ç´¢å¼ å¤åç´¢å¼ ä¸»é®ç´¢å¼ ç´¢å¼åºæ¬è¯­æ³ ç´¢å¼è®¾è®¡åå",content:" * ç´¢å¼çæ¦å¿µ\n * æ¨èæç« \n * ç´¢å¼ç»æ\n   * Btree ç´¢å¼ç»æ\n     * æ¼åè¿ç¨\n     * å¶ä»\n   * B+tree ç»æ\n   * MySQLä¸­çB+Tree\n   * èç°ç´¢å¼åéèç°ç´¢å¼\n   * æ¶é´å¤æåº¦\n * ç´¢å¼åç±»\n   * åå¼ç´¢å¼\n   * å¯ä¸ç´¢å¼\n   * å¤åç´¢å¼\n   * ä¸»é®ç´¢å¼\n   * ç´¢å¼åºæ¬è¯­æ³\n * ç´¢å¼è®¾è®¡åå\n\n\n# ç´¢å¼çæ¦å¿µ\n\nç´¢å¼ï¼Indexï¼æ¯å¸®å© MySQL é«æè·åæ°æ®çæ°æ®ç»æï¼å¯ä»¥ç®åçè§£ä¸ºæå¥½åºçå¿«éæ¥æ¾æ°æ®ç»æã\n\nå¨æ°æ®ä¹å¤ï¼æ°æ®åºç³»ç»è¿ç»´æ¤çæ»¡è¶³ç¹å®æ¥æ¾ç®æ³çæ°æ®ç»æï¼è¿äºæ°æ®ç»æä»¥æç§æ¹å¼å¼ç¨ï¼æåï¼æ°æ®ï¼ è¿æ ·å°±å¯ä»¥å¨è¿äºæ°æ®ç»æä¸å®ç°é«çº§æ¥æ¾ç®æ³ãè¿ç§æ°æ®ç»æï¼å°±æ¯ç´¢å¼\n\n\n\nå·¦è¾¹æ¯æ°æ®è¡¨ï¼ä¸å±æä¸¤åä¸æ¡è®°å½ï¼æå·¦è¾¹çæ¯æ°æ®è®°å½çç©çå°åï¼æ³¨æé»è¾ä¸ç¸é»çè®°å½å¨ç£çä¸ä¹å¹¶ä¸æ¯ä¸å®ç©çç¸é»çï¼ãä¸ºäºå å¿«Col2çæ¥æ¾ï¼å¯ä»¥ç»´æ¤ä¸ä¸ªå³è¾¹æç¤ºçäºåæ¥æ¾æ ï¼æ¯ä¸ªèç¹åå«åå«ç´¢å¼é®å¼åä¸ä¸ªæåå¯¹åºæ°æ®è®°å½ç©çå°åçæéï¼è¿æ ·å°±å¯ä»¥è¿ç¨äºåæ¥æ¾å¿«éè·åå°ç¸åºæ°æ®ã\n\nä¸è¬æ¥è¯´ç´¢å¼æ¬èº«ä¹å¾å¤§ï¼ä¸å¯è½å¨é¨å­å¨å¨åå­ä¸­ï¼å æ­¤ç´¢å¼å¾å¾ä»¥ç´¢å¼æä»¶çå½¢å¼å­å¨å¨ç£çä¸ãç´¢å¼æ¯æ°æ®åºä¸­ç¨æ¥æé«æ§è½çæå¸¸ç¨çå·¥å·ã\n\nç´¢å¼ä¼ç¼ºç¹\n\nä¼å¿ï¼\n\n * æé«æ°æ®æ£ç´¢çæçï¼éä½æ°æ®åºçIOææ¬ã\n * æ°æ®æåºï¼éä½CPUæ¶è\n\nå£å¿ï¼\n\n * è½ç¶ç´¢å¼å¤§å¤§æé«äºæ¥è¯¢éåº¦ï¼åæ¶å´ä¼éä½æ´æ°è¡¨çéåº¦\n   \n   å¦å¯¹è¡¨è¿è¡INSERTãUPDATEåDELETEãå ä¸ºæ´æ°è¡¨æ¶ï¼MySQLä¸ä»è¦ä¿å­æ°æ®ï¼è¿è¦ä¿å­ä¸ä¸ç´¢å¼æä»¶æ¯æ¬¡æ´æ°æ·»å äºç´¢å¼åçå­æ®µï¼é½ä¼è°æ´å æ´æ°æå¸¦æ¥çé®å¼åååçç´¢å¼ä¿¡æ¯ã\n\n * ç´¢å¼æ¬è´¨ä¹æ¯ä¸å¼ è¡¨ï¼ä¿å­çç´¢å¼å­æ®µåæåå®éè®°å½çæéï¼æä»¥ä¹è¦å ç¨æ°æ®åºç©ºé´ï¼ä¸è¬èè¨ï¼ç´¢å¼è¡¨å ç¨çç©ºé´æ¯æ°æ®è¡¨ç1.5å\n\n\n# æ¨èæç« \n\n * MySQL ç´¢å¼åç å¾æè®²è§£\n   \n   æ¶åå°æ ç¸å³æ°æ®ç»æç¥è¯ã\n\n * BTreeåB+Tree\n   \n   è¯¦ç»ä»ç»\n\n\n# ç´¢å¼ç»æ\n\n\n# Btree ç´¢å¼ç»æ\n\né»é©¬æç¨ï¼https://www.bilibili.com/video/BV1UQ4y1P7Xr?p=6\n\nBtreeåå¯ä»¥åæB-treeï¼B-Treeï¼å¹¶ä¸æ¯Bâåâæ ï¼æ¨ªæ ä¸ºè¿æ¥ç¬¦ï¼å®¹æè¢«è¯¯å¯¼ï¼\n\nBTreeåå«å¤è·¯å¹³è¡¡æç´¢æ ï¼ä¸é¢ m åçBTreeç¹æ§å¦ä¸ï¼\n\n * æ ä¸­æ¯ä¸ªèç¹æå¤åå«mä¸ªå­©å­ã\n * é¤æ ¹èç¹ä¸å¶å­èç¹å¤ï¼æ¯ä¸ªèç¹è³å°æ [ceil(m/2)] ä¸ªå­©å­ã\n * è¥æ ¹èç¹ä¸æ¯å¶å­èç¹ï¼åè³å°æä¸¤ä¸ªå­©å­ã\n * ææçå¶å­èç¹é½å¨åä¸å±ã\n * æ¯ä¸ªéå¶å­èç¹ç± n ä¸ª key ä¸ n+1 ä¸ªæéç»æï¼å¶ä¸­ [ceil(m/2)-1] <= n <= m-1\n\nceli()ï¼åä¸åæ´ï¼ä¾å¦celi(2.5)=3\n\n# æ¼åè¿ç¨\n\nä»¥5å BTree ä¸ºä¾ï¼keyçæ°éï¼å¬å¼æ¨å¯¼ [ceil(m/2)-1] <= n <= m-1ãæä»¥ 2 <= n <=4 ã\n\nå½ n>4 æ¶ï¼ä¸­é´èç¹åè£å°ç¶èç¹ï¼ä¸¤è¾¹èç¹åè£ã\n\næå¥ C N G A H E K Q M F W L T Z D P R X Y S æ°æ®ä¸ºä¾ãï¼æå¥æ¶ï¼æç§ABCD..é¡ºåºï¼\n\n1). æå¥å4ä¸ªå­æ¯ C N G A\n\n\n\n2). æå¥Hï¼n>4ï¼ä¸­é´åç´ Gå­æ¯åä¸åè£å°æ°çèç¹\n\n\n\n3). æå¥Eï¼Kï¼Qä¸éè¦åè£\n\n\n\n4). æå¥Mï¼ä¸­é´åç´ Må­æ¯åä¸åè£å°ç¶èç¹G\n\nï¼M å¨ KãNä¸­é´ï¼BTreeæå¤å«æn-1ä¸ªkeyï¼è¿éå³4ä¸ªkeyï¼5ä¸ªæéï¼\n\n\n\n5). æå¥Fï¼Wï¼Lï¼Tä¸éè¦åè£\n\n\n\n6). æå¥Zï¼ä¸­é´åç´ Tåä¸åè£å°ç¶èç¹ä¸­\n\nï¼æå¥Zåæ¯ï¼NQTWZï¼æä¸­é´Tæåºæ¥ï¼æ¹ä¾¿æ´å¿«çæ¥è¯¢ï¼æä»¥ä¸æåºZï¼\n\n\n\n7). æå¥Dï¼ä¸­é´åç´ Dåä¸åè£å°ç¶èç¹ä¸­ãç¶åæå¥Pï¼Rï¼Xï¼Yä¸éè¦åè£\n\n\n\n8). æåæå¥Sï¼Råé¢ï¼ï¼NPQRèç¹n>5ï¼ä¸­é´èç¹Qåä¸åè£ï¼ä½åè£åç¶èç¹DGMTçn>5ï¼ä¸­é´èç¹Måä¸åè£\n\n\n\nå°æ­¤ï¼è¯¥BTREEæ å°±å·²ç»æå»ºå®æäºï¼ BTREEæ  å äºåæ  ç¸æ¯ï¼ æ¥è¯¢æ°æ®çæçæ´é«ï¼ å ä¸ºå¯¹äºç¸åçæ°æ®éæ¥è¯´ï¼BTREEçå±çº§ç»ææ¯äºåæ å°ï¼å æ­¤æç´¢éåº¦å¿«ã\n\n# å¶ä»\n\n\n\nåå§åä»ç»\n\nä¸é¢ b æ ï¼æµèè²çåæä»¬ç§°ä¹ä¸ºä¸ä¸ªç£çåï¼å¯ä»¥çå°æ¯ä¸ªç£çååå«å ä¸ªæ°æ®é¡¹ï¼æ·±èè²æç¤ºï¼åæéï¼é»è² æç¤ºï¼ï¼\n\nå¦ç£çå 1 åå«æ°æ®é¡¹ 17 å 35ï¼åå«æé P1ãP2ãP3ï¼ P1 è¡¨ç¤ºå°äº 17 çç£çåï¼P2 è¡¨ç¤ºå¨ 17 å 35 ä¹é´çç£çåï¼P3 è¡¨ç¤ºå¤§äº 35 çç£çåã çå®çæ°æ®å­å¨äºå¶å­èç¹å³ 3ã5ã9ã10ã13ã15ã28ã29ã36ã60ã75ã79ã90ã99ã éå¶å­èç¹åªä¸å­å¨çå®çæ°æ®ï¼åªå­å¨æå¼æç´¢æ¹åçæ°æ®é¡¹ï¼å¦ 17ã35 å¹¶ä¸çå®å­å¨äºæ°æ®è¡¨ä¸­\n\næ¥æ¾è¿ç¨\n\nå¦æè¦æ¥æ¾æ°æ®é¡¹ 29ï¼é£ä¹é¦åä¼æç£çå 1 ç±ç£çå è½½å°åå­ï¼æ­¤æ¶åçä¸æ¬¡ IOï¼å¨åå­ä¸­ç¨äºåæ¥æ¾ç¡®å® 29 å¨ 17 å 35 ä¹é´ï¼éå®ç£çå 1 ç P2 æéï¼åå­æ¶é´å ä¸ºéå¸¸ç­ï¼ç¸æ¯ç£çç IOï¼å¯ä»¥å¿½ç¥ä¸è®¡ï¼éè¿ç£çå 1 ç P2 æéçç£çå°åæç£çå 3 ç±ç£çå è½½å°åå­ï¼åçç¬¬äºæ¬¡ IOï¼29 å¨ 26 å 30 ä¹é´ï¼éå®ç£çå 3 ç P2 æ éï¼éè¿æéå è½½ç£çå 8 å°åå­ï¼åçç¬¬ä¸æ¬¡ IOï¼åæ¶åå­ä¸­åäºåæ¥æ¾æ¾å° 29ï¼ç»ææ¥è¯¢ï¼æ»è®¡ä¸æ¬¡ IOã\n\nçå®çæåµæ¯ï¼3 å±ç b+æ å¯ä»¥è¡¨ç¤ºä¸ç¾ä¸çæ°æ®ï¼å¦æä¸ç¾ä¸çæ°æ®æ¥æ¾åªéè¦ä¸æ¬¡ IOï¼æ§è½æé«å°æ¯å·¨å¤§çï¼ å¦ææ²¡æç´¢å¼ï¼æ¯ä¸ªæ°æ®é¡¹é½è¦åçä¸æ¬¡ IOï¼é£ä¹æ»å±éè¦ç¾ä¸æ¬¡ç IOï¼æ¾ç¶ææ¬éå¸¸éå¸¸é«ã\n\n\n# B+tree ç»æ\n\n\n\nB+Treeä¸ºBTreeçåç§ï¼B+Treeä¸BTreeçåºå«ä¸ºï¼\n\n1). nåB+Treeæå¤å«ænä¸ªkeyï¼èBTreeæå¤å«æn-1ä¸ªkeyã\n\n2). B+Treeçå¶å­èç¹ä¿å­ææçkeyä¿¡æ¯ï¼ä¾keyå¤§å°é¡ºåºæåã\n\n3). ææçéå¶å­èç¹é½å¯ä»¥çä½æ¯keyçç´¢å¼é¨åã\n\n * B-æ çå³é®å­åè®°å½æ¯æ¾å¨ä¸èµ·çï¼å¶å­èç¹å¯ä»¥çä½å¤é¨èç¹ï¼ä¸åå«ä»»ä½ä¿¡æ¯ï¼B+æ çéå¶å­èç¹ä¸­åªæå³é®å­åæåä¸ä¸ä¸ªèç¹çç´¢å¼ï¼è®°å½åªæ¾å¨å¶å­èç¹ä¸­ã\n * å¨ B-æ ä¸­ï¼è¶é è¿æ ¹èç¹çè®°å½æ¥æ¾æ¶é´è¶å¿«ï¼åªè¦æ¾å°å³é®å­å³å¯ç¡®å®è®°å½çå­å¨ï¼è B+æ ä¸­æ¯ä¸ªè®°å½çæ¥æ¾æ¶é´åºæ¬æ¯ä¸æ ·çï¼é½éè¦ä»æ ¹èç¹èµ°å°å¶å­èç¹ï¼èä¸å¨å¶å­èç¹ä¸­è¿è¦åæ¯è¾å³é®å­ãä»è¿ä¸ªè§åº¦ç B- æ çæ§è½å¥½åè¦æ¯ B+æ å¥½ï¼èå¨å®éåºç¨ä¸­å´æ¯ B+æ çæ§è½è¦å¥½äºãå ä¸º B+æ çéå¶å­èç¹ä¸å­æ¾å®éçæ°æ®ï¼ è¿æ ·æ¯ä¸ªèç¹å¯å®¹çº³çåç´ ä¸ªæ°æ¯ B-æ å¤ï¼æ é«æ¯ B-æ å°ï¼è¿æ ·å¸¦æ¥çå¥½å¤æ¯åå°ç£çè®¿é®æ¬¡æ°ãå°½ç®¡ B+æ æ¾å° ä¸ä¸ªè®°å½æéçæ¯è¾æ¬¡æ°è¦æ¯ B-æ å¤ï¼ä½æ¯ä¸æ¬¡ç£çè®¿é®çæ¶é´ç¸å½äºæç¾ä¸åæ¬¡åå­æ¯è¾çæ¶é´ï¼å æ­¤å®éä¸­ B+æ çæ§è½å¯è½è¿ä¼å¥½äºï¼èä¸ B+æ çå¶å­èç¹ä½¿ç¨æéè¿æ¥å¨ä¸èµ·ï¼æ¹ä¾¿é¡ºåºéåï¼ä¾å¦æ¥çä¸ä¸ªç®å½ä¸çææ æä»¶ï¼ä¸ä¸ªè¡¨ä¸­çææè®°å½ç­ï¼ï¼è¿ä¹æ¯å¾å¤æ°æ®åºåæä»¶ç³»ç»ä½¿ç¨ B+æ çç¼æã\n\nä¸ºä»ä¹B+æ æ¯ B-æ æ´éåç´¢å¼ï¼\n\n * B+æ çç£çè¯»åä»£ä»·æ´ä½\n   \n   B+æ çåé¨ç»ç¹å¹¶æ²¡ææåå³é®å­å·ä½ä¿¡æ¯çæéãå æ­¤å¶åé¨ç»ç¹ç¸å¯¹ B æ æ´å°ãå¦ææææåä¸åé¨ç»ç¹ çå³é®å­å­æ¾å¨åä¸çåä¸­ï¼é£ä¹çåæè½å®¹çº³çå³é®å­æ°éä¹è¶å¤ãä¸æ¬¡æ§è¯»å¥åå­ä¸­çéè¦æ¥æ¾çå³é®å­ä¹å°± è¶å¤ãç¸å¯¹æ¥è¯´ IO è¯»åæ¬¡æ°ä¹å°±éä½äºã\n\n * B+æ çæ¥è¯¢æçæ´å ç¨³å®\n   \n   ç±äºéç»ç»ç¹å¹¶ä¸æ¯æç»æåæä»¶åå®¹çç»ç¹ï¼èåªæ¯å¶å­ç»ç¹ä¸­å³é®å­çç´¢å¼ãæä»¥ä»»ä½å³é®å­çæ¥æ¾å¿é¡» èµ°ä¸æ¡ä»æ ¹ç»ç¹å°å¶å­ç»ç¹çè·¯ãææå³é®å­æ¥è¯¢çè·¯å¾é¿åº¦ç¸åï¼å¯¼è´æ¯ä¸ä¸ªæ°æ®çæ¥è¯¢æçç¸å½ã\n\n\n# MySQLä¸­çB+Tree\n\nMySqlç´¢å¼æ°æ®ç»æå¯¹ç»å¸çB+Treeè¿è¡äºä¼åãå¨åB+Treeçåºç¡ä¸ï¼å¢å ä¸ä¸ªæåç¸é»å¶å­èç¹çé¾è¡¨æéï¼å°±å½¢æäºå¸¦æé¡ºåºæéçB+Treeï¼æé«åºé´è®¿é®çæ§è½ã\n\nMySQLä¸­ç B+Tree ç´¢å¼ç»æç¤ºæå¾:\n\n\n\n\n# èç°ç´¢å¼åéèç°ç´¢å¼\n\nèç°ç´¢å¼å¹¶ä¸æ¯ä¸ç§åç¬çç´¢å¼ç±»åï¼èæ¯ä¸ç§æ°æ®å­å¨æ¹å¼ãæ¯è¯­âèç°âè¡¨ç¤ºæ°æ®è¡åç¸é»çé®å¼èç°çå­å¨ å¨ä¸èµ·ãå¦ä¸å¾ï¼å·¦ä¾§çç´¢å¼å°±æ¯èç°ç´¢å¼ï¼å ä¸ºæ°æ®è¡å¨ç£ççæååç´¢å¼æåºä¿æä¸è´ã\n\n\n\nèç°ç´¢å¼çå¥½å¤\n\næç§èç°ç´¢å¼æåé¡ºåºï¼æ¥è¯¢æ¾ç¤ºä¸å®èå´æ°æ®çæ¶åï¼ç±äºæ°æ®é½æ¯ç´§å¯ç¸è¿ï¼æ°æ®åºä¸ä¸ç¨ä»å¤ ä¸ªæ°æ®åä¸­æåæ°æ®ï¼æä»¥èçäºå¤§éç io æä½ã\n\nèç°ç´¢å¼çéå¶\n\nå¯¹äº mysql æ°æ®åºç®ååªæ innodb æ°æ®å¼ææ¯æèç°ç´¢å¼ï¼è Myisam å¹¶ä¸æ¯æèç°ç´¢å¼ã\n\nç±äºæ°æ®ç©çå­å¨æåºæ¹å¼åªè½æä¸ç§ï¼æä»¥æ¯ä¸ª Mysql çè¡¨åªè½æä¸ä¸ªèç°ç´¢å¼ãä¸è¬æåµä¸å°±æ¯è¯¥è¡¨çä¸»é®ã\n\nä¸ºäºååå©ç¨èç°ç´¢å¼çèç°çç¹æ§ï¼æä»¥ innodb è¡¨çä¸»é®åå°½ééç¨æåºçé¡ºåº idï¼èä¸å»ºè®®ç¨æ åºç idï¼æ¯å¦ uuid è¿ç§ã\n\n\n# æ¶é´å¤æåº¦\n\nåä¸é®é¢å¯ç¨ä¸åç®æ³è§£å³ï¼èä¸ä¸ªç®æ³çè´¨éä¼å£å°å½±åå°ç®æ³ä¹è³ç¨åºçæçãç®æ³åæçç®çå¨äºéæ©åéç®æ³åæ¹è¿ç®æ³ã\n\næ¶é´å¤æåº¦æ¯ææ§è¡ç®æ³æéè¦çè®¡ç®å·¥ä½éï¼ç¨å¤§ O è¡¨ç¤ºè®°ä¸ºï¼O(â¦)\n\n\n\n\n\n\n# ç´¢å¼åç±»\n\n\n# åå¼ç´¢å¼\n\næ¦å¿µï¼å³ä¸ä¸ªç´¢å¼åªåå«åä¸ªåï¼ä¸ä¸ªè¡¨å¯ä»¥æå¤ä¸ªååç´¢å¼\n\n * æè¡¨ä¸èµ·åå»º\n   \n   CREATE TABLE customer (\n     id INT (10) UNSIGNED AUTO_INCREMENT,\n     customer_no VARCHAR (200),\n     customer_name VARCHAR (200),\n     PRIMARY KEY (id),\n     KEY (customer_name)\t#this\n   );\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   \n\n * åç¬å»ºåå¼ç´¢å¼\n   \n   CREATE INDEX idx_customer_name\n   ON customer (customer_name);\n   \n   \n   1\n   2\n   \n\n\n# å¯ä¸ç´¢å¼\n\næ¦å¿µï¼ç´¢å¼åçå¼å¿é¡»å¯ä¸ï¼ä½åè®¸æç©ºå¼\n\n * éè¡¨ä¸èµ·åå»º\n   \n   CREATE TABLE customer (\n     id INT (10) UNSIGNED AUTO_INCREMENT,\n     customer_no VARCHAR (200),\n     customer_name VARCHAR (200),\n     PRIMARY KEY (id),\n     KEY (customer_name),\n     UNIQUE (customer_no)\t#this\n   );\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   \n\n * åç¬å»ºå¯ä¸ç´¢å¼ï¼\n   \n   CREATE UNIQUE INDEX idx_customer_no\n   ON customer (customer_no);\n   \n   \n   1\n   2\n   \n\n\n# å¤åç´¢å¼\n\næ¦å¿µï¼å³ä¸ä¸ªç´¢å¼åå«å¤ä¸ªå\n\n * éè¡¨ä¸èµ·å»ºç´¢å¼\n   \n   CREATE TABLE customer (\n     id INT (10) UNSIGNED AUTO_INCREMENT,\n     customer_no VARCHAR (200),\n     customer_name VARCHAR (200),\n     PRIMARY KEY (id),\n     KEY (customer_name),\n     UNIQUE (customer_name),\n     KEY (customer_no, customer_name)\t#this\n   );\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   \n\n * åç¬å»ºç´¢å¼ï¼\n   \n   CREATE INDEX idx_no_name\n   ON customer (customer_no, customer_name);\n   \n   \n   1\n   2\n   \n\n\n# ä¸»é®ç´¢å¼\n\næ¦å¿µï¼è®¾å®ä¸ºä¸»é®åæ°æ®åºä¼èªå¨å»ºç«ç´¢å¼ï¼innodbä¸ºèç°ç´¢å¼\n\n * éè¡¨ä¸èµ·å»ºç´¢å¼\n   \n   CREATE TABLE customer (\n     id INT (10) UNSIGNED AUTO_INCREMENT,\n     customer_no VARCHAR (200),\n     customer_name VARCHAR (200),\n     PRIMARY KEY (id)\t#this\n   );\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   \n\n * åç¬å»ºä¸»é®ç´¢å¼ï¼\n   \n   ALTER TABLE customer ADD PRIMARY KEY customer(customer_no);\n   \n   \n   1\n   \n\n * å é¤ä¸»é®ç´¢å¼\n   \n   ALTER TABLE customer drop PRIMARY KEY ;\n   \n   \n   1\n   \n\n * ä¿®æ¹å»ºä¸»é®ç´¢å¼\n   \n   å¿é¡»åå é¤æ(drop)åç´¢å¼ï¼åæ°å»º(add)ç´¢å¼\n\n\n# ç´¢å¼åºæ¬è¯­æ³\n\n * åå»º\n   \n   CREATE [UNIQUE] INDEX [indexName]\n   ON table_name(column))\n   \n   \n   1\n   2\n   \n   \n   ç¤ºä¾ ï¼ ä¸ºcityè¡¨ä¸­çcity_nameå­æ®µåå»ºç´¢å¼ ï¼\n   \n   \n\n * å é¤\n   \n   DROP  INDEX  index_name  ON  tbl_name;\n   \n   \n   1\n   \n\n * æ¥ç\n   \n   show index  from  table_name;\n   \n   \n   1\n   \n\n * AlTER\n   \n   1). alter  table  tb_name  add  primary  key(column_list); \n   \n   \tè¯¥è¯­å¥æ·»å ä¸ä¸ªä¸»é®ï¼è¿æå³çç´¢å¼å¼å¿é¡»æ¯å¯ä¸çï¼ä¸ä¸è½ä¸ºNULL\n   \t\n   2). alter  table  tb_name  add  unique index_name(column_list);\n   \t\n   \tè¿æ¡è¯­å¥åå»ºç´¢å¼çå¼å¿é¡»æ¯å¯ä¸çï¼é¤äºNULLå¤ï¼NULLå¯è½ä¼åºç°å¤æ¬¡ï¼\n   \t\n   3). alter  table  tb_name  add  index index_name(column_list);\n   \n   \tæ·»å æ®éç´¢å¼ï¼ ç´¢å¼å¼å¯ä»¥åºç°å¤æ¬¡ã\n   \t\n   4). alter  table  tb_name  add  fulltext  index_name(column_list);\n   \t\n   \tè¯¥è¯­å¥æå®äºç´¢å¼ä¸ºFULLTEXTï¼ ç¨äºå¨æç´¢å¼\n   \t\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   \n\n\n# ç´¢å¼è®¾è®¡åå\n\nç´¢å¼çè®¾è®¡å¯ä»¥éµå¾ªä¸äºå·²æçååï¼åå»ºç´¢å¼çæ¶åè¯·å°½éèèç¬¦åè¿äºååï¼ä¾¿äºæåç´¢å¼çä½¿ç¨æçï¼æ´é«æçä½¿ç¨ç´¢å¼ã\n\n * å¯¹æ¥è¯¢é¢æ¬¡è¾é«ï¼ä¸æ°æ®éæ¯è¾å¤§çè¡¨å»ºç«ç´¢å¼ã\n\n * ç´¢å¼å­æ®µçéæ©ï¼æä½³åéååºå½ä»whereå­å¥çæ¡ä»¶ä¸­æåï¼å¦æwhereå­å¥ä¸­çç»åæ¯è¾å¤ï¼é£ä¹åºå½æéæå¸¸ç¨ãè¿æ»¤æææå¥½çåçç»åã\n\n * ä½¿ç¨å¯ä¸ç´¢å¼ï¼åºååº¦è¶é«ï¼ä½¿ç¨ç´¢å¼çæçè¶é«ã\n\n * ç´¢å¼å¯ä»¥ææçæåæ¥è¯¢æ°æ®çæçï¼ä½ç´¢å¼æ°éä¸æ¯å¤å¤çåï¼ç´¢å¼è¶å¤ï¼ç»´æ¤ç´¢å¼çä»£ä»·èªç¶ä¹å°±æ°´æ¶¨è¹é«ãå¯¹äºæå¥ãæ´æ°ãå é¤ç­DMLæä½æ¯è¾é¢ç¹çè¡¨æ¥è¯´ï¼ç´¢å¼è¿å¤ï¼ä¼å¼å¥ç¸å½é«çç»´æ¤ä»£ä»·ï¼éä½DMLæä½çæçï¼å¢å ç¸åºæä½çæ¶é´æ¶èãå¦å¤ç´¢å¼è¿å¤çè¯ï¼MySQLä¹ä¼ç¯éæ©å°é¾çï¼è½ç¶æç»ä»ç¶ä¼æ¾å°ä¸ä¸ªå¯ç¨çç´¢å¼ï¼ä½æ çæé«äºéæ©çä»£ä»·ã\n\n * ä½¿ç¨ç­ç´¢å¼ï¼ç´¢å¼åå»ºä¹åä¹æ¯ä½¿ç¨ç¡¬çæ¥å­å¨çï¼å æ­¤æåç´¢å¼è®¿é®çI/Oæçï¼ä¹å¯ä»¥æåæ»ä½çè®¿é®æçãåå¦ææç´¢å¼çå­æ®µæ»é¿åº¦æ¯è¾ç­ï¼é£ä¹å¨ç»å®å¤§å°çå­å¨ååå¯ä»¥å­å¨æ´å¤çç´¢å¼å¼ï¼ç¸åºçå¯ä»¥ææçæåMySQLè®¿é®ç´¢å¼çI/Oæçã\n\n * å©ç¨æå·¦åç¼ï¼Nä¸ªåç»åèæçç»åç´¢å¼ï¼é£ä¹ç¸å½äºæ¯åå»ºäºNä¸ªç´¢å¼ï¼å¦ææ¥è¯¢æ¶whereå­å¥ä¸­ä½¿ç¨äºç»æè¯¥ç´¢å¼çåå ä¸ªå­æ®µï¼é£ä¹è¿æ¡æ¥è¯¢SQLå¯ä»¥å©ç¨ç»åç´¢å¼æ¥æåæ¥è¯¢æçã\n   \n   åå»ºå¤åç´¢å¼\n   \n   CREATE INDEX idx_name_email_status ON tb_seller(NAME,email,STATUS);\n   \n   \n   1\n   \n   \n   å°±ç¸å½äº\n   \n   å¯¹ name åå»ºç´¢å¼ ; å¯¹ name , email åå»ºäºç´¢å¼ ; å¯¹ name , email, status åå»ºäºç´¢å¼ ;\n\nä¸éååå»ºç´¢å¼çæåµ\n\n * è¡¨è®°å½å¤ªå°\n * ç»å¸¸å¢å æ¹çè¡¨æèå­æ®µ\n * Where æ¡ä»¶éç¨ä¸å°çå­æ®µä¸åå»ºç´¢å¼\n * è¿æ»¤æ§ä¸å¥½çä¸éåå»ºç´¢å¼",normalizedContent:" * ç´¢å¼çæ¦å¿µ\n * æ¨èæç« \n * ç´¢å¼ç»æ\n   * btree ç´¢å¼ç»æ\n     * æ¼åè¿ç¨\n     * å¶ä»\n   * b+tree ç»æ\n   * mysqlä¸­çb+tree\n   * èç°ç´¢å¼åéèç°ç´¢å¼\n   * æ¶é´å¤æåº¦\n * ç´¢å¼åç±»\n   * åå¼ç´¢å¼\n   * å¯ä¸ç´¢å¼\n   * å¤åç´¢å¼\n   * ä¸»é®ç´¢å¼\n   * ç´¢å¼åºæ¬è¯­æ³\n * ç´¢å¼è®¾è®¡åå\n\n\n# ç´¢å¼çæ¦å¿µ\n\nç´¢å¼ï¼indexï¼æ¯å¸®å© mysql é«æè·åæ°æ®çæ°æ®ç»æï¼å¯ä»¥ç®åçè§£ä¸ºæå¥½åºçå¿«éæ¥æ¾æ°æ®ç»æã\n\nå¨æ°æ®ä¹å¤ï¼æ°æ®åºç³»ç»è¿ç»´æ¤çæ»¡è¶³ç¹å®æ¥æ¾ç®æ³çæ°æ®ç»æï¼è¿äºæ°æ®ç»æä»¥æç§æ¹å¼å¼ç¨ï¼æåï¼æ°æ®ï¼ è¿æ ·å°±å¯ä»¥å¨è¿äºæ°æ®ç»æä¸å®ç°é«çº§æ¥æ¾ç®æ³ãè¿ç§æ°æ®ç»æï¼å°±æ¯ç´¢å¼\n\n\n\nå·¦è¾¹æ¯æ°æ®è¡¨ï¼ä¸å±æä¸¤åä¸æ¡è®°å½ï¼æå·¦è¾¹çæ¯æ°æ®è®°å½çç©çå°åï¼æ³¨æé»è¾ä¸ç¸é»çè®°å½å¨ç£çä¸ä¹å¹¶ä¸æ¯ä¸å®ç©çç¸é»çï¼ãä¸ºäºå å¿«col2çæ¥æ¾ï¼å¯ä»¥ç»´æ¤ä¸ä¸ªå³è¾¹æç¤ºçäºåæ¥æ¾æ ï¼æ¯ä¸ªèç¹åå«åå«ç´¢å¼é®å¼åä¸ä¸ªæåå¯¹åºæ°æ®è®°å½ç©çå°åçæéï¼è¿æ ·å°±å¯ä»¥è¿ç¨äºåæ¥æ¾å¿«éè·åå°ç¸åºæ°æ®ã\n\nä¸è¬æ¥è¯´ç´¢å¼æ¬èº«ä¹å¾å¤§ï¼ä¸å¯è½å¨é¨å­å¨å¨åå­ä¸­ï¼å æ­¤ç´¢å¼å¾å¾ä»¥ç´¢å¼æä»¶çå½¢å¼å­å¨å¨ç£çä¸ãç´¢å¼æ¯æ°æ®åºä¸­ç¨æ¥æé«æ§è½çæå¸¸ç¨çå·¥å·ã\n\nç´¢å¼ä¼ç¼ºç¹\n\nä¼å¿ï¼\n\n * æé«æ°æ®æ£ç´¢çæçï¼éä½æ°æ®åºçioææ¬ã\n * æ°æ®æåºï¼éä½cpuæ¶è\n\nå£å¿ï¼\n\n * è½ç¶ç´¢å¼å¤§å¤§æé«äºæ¥è¯¢éåº¦ï¼åæ¶å´ä¼éä½æ´æ°è¡¨çéåº¦\n   \n   å¦å¯¹è¡¨è¿è¡insertãupdateådeleteãå ä¸ºæ´æ°è¡¨æ¶ï¼mysqlä¸ä»è¦ä¿å­æ°æ®ï¼è¿è¦ä¿å­ä¸ä¸ç´¢å¼æä»¶æ¯æ¬¡æ´æ°æ·»å äºç´¢å¼åçå­æ®µï¼é½ä¼è°æ´å æ´æ°æå¸¦æ¥çé®å¼åååçç´¢å¼ä¿¡æ¯ã\n\n * ç´¢å¼æ¬è´¨ä¹æ¯ä¸å¼ è¡¨ï¼ä¿å­çç´¢å¼å­æ®µåæåå®éè®°å½çæéï¼æä»¥ä¹è¦å ç¨æ°æ®åºç©ºé´ï¼ä¸è¬èè¨ï¼ç´¢å¼è¡¨å ç¨çç©ºé´æ¯æ°æ®è¡¨ç1.5å\n\n\n# æ¨èæç« \n\n * mysql ç´¢å¼åç å¾æè®²è§£\n   \n   æ¶åå°æ ç¸å³æ°æ®ç»æç¥è¯ã\n\n * btreeåb+tree\n   \n   è¯¦ç»ä»ç»\n\n\n# ç´¢å¼ç»æ\n\n\n# btree ç´¢å¼ç»æ\n\né»é©¬æç¨ï¼https://www.bilibili.com/video/bv1uq4y1p7xr?p=6\n\nbtreeåå¯ä»¥åæb-treeï¼b-treeï¼å¹¶ä¸æ¯bâåâæ ï¼æ¨ªæ ä¸ºè¿æ¥ç¬¦ï¼å®¹æè¢«è¯¯å¯¼ï¼\n\nbtreeåå«å¤è·¯å¹³è¡¡æç´¢æ ï¼ä¸é¢ m åçbtreeç¹æ§å¦ä¸ï¼\n\n * æ ä¸­æ¯ä¸ªèç¹æå¤åå«mä¸ªå­©å­ã\n * é¤æ ¹èç¹ä¸å¶å­èç¹å¤ï¼æ¯ä¸ªèç¹è³å°æ [ceil(m/2)] ä¸ªå­©å­ã\n * è¥æ ¹èç¹ä¸æ¯å¶å­èç¹ï¼åè³å°æä¸¤ä¸ªå­©å­ã\n * ææçå¶å­èç¹é½å¨åä¸å±ã\n * æ¯ä¸ªéå¶å­èç¹ç± n ä¸ª key ä¸ n+1 ä¸ªæéç»æï¼å¶ä¸­ [ceil(m/2)-1] <= n <= m-1\n\nceli()ï¼åä¸åæ´ï¼ä¾å¦celi(2.5)=3\n\n# æ¼åè¿ç¨\n\nä»¥5å btree ä¸ºä¾ï¼keyçæ°éï¼å¬å¼æ¨å¯¼ [ceil(m/2)-1] <= n <= m-1ãæä»¥ 2 <= n <=4 ã\n\nå½ n>4 æ¶ï¼ä¸­é´èç¹åè£å°ç¶èç¹ï¼ä¸¤è¾¹èç¹åè£ã\n\næå¥ c n g a h e k q m f w l t z d p r x y s æ°æ®ä¸ºä¾ãï¼æå¥æ¶ï¼æç§abcd..é¡ºåºï¼\n\n1). æå¥å4ä¸ªå­æ¯ c n g a\n\n\n\n2). æå¥hï¼n>4ï¼ä¸­é´åç´ gå­æ¯åä¸åè£å°æ°çèç¹\n\n\n\n3). æå¥eï¼kï¼qä¸éè¦åè£\n\n\n\n4). æå¥mï¼ä¸­é´åç´ må­æ¯åä¸åè£å°ç¶èç¹g\n\nï¼m å¨ kãnä¸­é´ï¼btreeæå¤å«æn-1ä¸ªkeyï¼è¿éå³4ä¸ªkeyï¼5ä¸ªæéï¼\n\n\n\n5). æå¥fï¼wï¼lï¼tä¸éè¦åè£\n\n\n\n6). æå¥zï¼ä¸­é´åç´ tåä¸åè£å°ç¶èç¹ä¸­\n\nï¼æå¥zåæ¯ï¼nqtwzï¼æä¸­é´tæåºæ¥ï¼æ¹ä¾¿æ´å¿«çæ¥è¯¢ï¼æä»¥ä¸æåºzï¼\n\n\n\n7). æå¥dï¼ä¸­é´åç´ dåä¸åè£å°ç¶èç¹ä¸­ãç¶åæå¥pï¼rï¼xï¼yä¸éè¦åè£\n\n\n\n8). æåæå¥sï¼råé¢ï¼ï¼npqrèç¹n>5ï¼ä¸­é´èç¹qåä¸åè£ï¼ä½åè£åç¶èç¹dgmtçn>5ï¼ä¸­é´èç¹måä¸åè£\n\n\n\nå°æ­¤ï¼è¯¥btreeæ å°±å·²ç»æå»ºå®æäºï¼ btreeæ  å äºåæ  ç¸æ¯ï¼ æ¥è¯¢æ°æ®çæçæ´é«ï¼ å ä¸ºå¯¹äºç¸åçæ°æ®éæ¥è¯´ï¼btreeçå±çº§ç»ææ¯äºåæ å°ï¼å æ­¤æç´¢éåº¦å¿«ã\n\n# å¶ä»\n\n\n\nåå§åä»ç»\n\nä¸é¢ b æ ï¼æµèè²çåæä»¬ç§°ä¹ä¸ºä¸ä¸ªç£çåï¼å¯ä»¥çå°æ¯ä¸ªç£çååå«å ä¸ªæ°æ®é¡¹ï¼æ·±èè²æç¤ºï¼åæéï¼é»è² æç¤ºï¼ï¼\n\nå¦ç£çå 1 åå«æ°æ®é¡¹ 17 å 35ï¼åå«æé p1ãp2ãp3ï¼ p1 è¡¨ç¤ºå°äº 17 çç£çåï¼p2 è¡¨ç¤ºå¨ 17 å 35 ä¹é´çç£çåï¼p3 è¡¨ç¤ºå¤§äº 35 çç£çåã çå®çæ°æ®å­å¨äºå¶å­èç¹å³ 3ã5ã9ã10ã13ã15ã28ã29ã36ã60ã75ã79ã90ã99ã éå¶å­èç¹åªä¸å­å¨çå®çæ°æ®ï¼åªå­å¨æå¼æç´¢æ¹åçæ°æ®é¡¹ï¼å¦ 17ã35 å¹¶ä¸çå®å­å¨äºæ°æ®è¡¨ä¸­\n\næ¥æ¾è¿ç¨\n\nå¦æè¦æ¥æ¾æ°æ®é¡¹ 29ï¼é£ä¹é¦åä¼æç£çå 1 ç±ç£çå è½½å°åå­ï¼æ­¤æ¶åçä¸æ¬¡ ioï¼å¨åå­ä¸­ç¨äºåæ¥æ¾ç¡®å® 29 å¨ 17 å 35 ä¹é´ï¼éå®ç£çå 1 ç p2 æéï¼åå­æ¶é´å ä¸ºéå¸¸ç­ï¼ç¸æ¯ç£çç ioï¼å¯ä»¥å¿½ç¥ä¸è®¡ï¼éè¿ç£çå 1 ç p2 æéçç£çå°åæç£çå 3 ç±ç£çå è½½å°åå­ï¼åçç¬¬äºæ¬¡ ioï¼29 å¨ 26 å 30 ä¹é´ï¼éå®ç£çå 3 ç p2 æ éï¼éè¿æéå è½½ç£çå 8 å°åå­ï¼åçç¬¬ä¸æ¬¡ ioï¼åæ¶åå­ä¸­åäºåæ¥æ¾æ¾å° 29ï¼ç»ææ¥è¯¢ï¼æ»è®¡ä¸æ¬¡ ioã\n\nçå®çæåµæ¯ï¼3 å±ç b+æ å¯ä»¥è¡¨ç¤ºä¸ç¾ä¸çæ°æ®ï¼å¦æä¸ç¾ä¸çæ°æ®æ¥æ¾åªéè¦ä¸æ¬¡ ioï¼æ§è½æé«å°æ¯å·¨å¤§çï¼ å¦ææ²¡æç´¢å¼ï¼æ¯ä¸ªæ°æ®é¡¹é½è¦åçä¸æ¬¡ ioï¼é£ä¹æ»å±éè¦ç¾ä¸æ¬¡ç ioï¼æ¾ç¶ææ¬éå¸¸éå¸¸é«ã\n\n\n# b+tree ç»æ\n\n\n\nb+treeä¸ºbtreeçåç§ï¼b+treeä¸btreeçåºå«ä¸ºï¼\n\n1). nåb+treeæå¤å«ænä¸ªkeyï¼èbtreeæå¤å«æn-1ä¸ªkeyã\n\n2). b+treeçå¶å­èç¹ä¿å­ææçkeyä¿¡æ¯ï¼ä¾keyå¤§å°é¡ºåºæåã\n\n3). ææçéå¶å­èç¹é½å¯ä»¥çä½æ¯keyçç´¢å¼é¨åã\n\n * b-æ çå³é®å­åè®°å½æ¯æ¾å¨ä¸èµ·çï¼å¶å­èç¹å¯ä»¥çä½å¤é¨èç¹ï¼ä¸åå«ä»»ä½ä¿¡æ¯ï¼b+æ çéå¶å­èç¹ä¸­åªæå³é®å­åæåä¸ä¸ä¸ªèç¹çç´¢å¼ï¼è®°å½åªæ¾å¨å¶å­èç¹ä¸­ã\n * å¨ b-æ ä¸­ï¼è¶é è¿æ ¹èç¹çè®°å½æ¥æ¾æ¶é´è¶å¿«ï¼åªè¦æ¾å°å³é®å­å³å¯ç¡®å®è®°å½çå­å¨ï¼è b+æ ä¸­æ¯ä¸ªè®°å½çæ¥æ¾æ¶é´åºæ¬æ¯ä¸æ ·çï¼é½éè¦ä»æ ¹èç¹èµ°å°å¶å­èç¹ï¼èä¸å¨å¶å­èç¹ä¸­è¿è¦åæ¯è¾å³é®å­ãä»è¿ä¸ªè§åº¦ç b- æ çæ§è½å¥½åè¦æ¯ b+æ å¥½ï¼èå¨å®éåºç¨ä¸­å´æ¯ b+æ çæ§è½è¦å¥½äºãå ä¸º b+æ çéå¶å­èç¹ä¸å­æ¾å®éçæ°æ®ï¼ è¿æ ·æ¯ä¸ªèç¹å¯å®¹çº³çåç´ ä¸ªæ°æ¯ b-æ å¤ï¼æ é«æ¯ b-æ å°ï¼è¿æ ·å¸¦æ¥çå¥½å¤æ¯åå°ç£çè®¿é®æ¬¡æ°ãå°½ç®¡ b+æ æ¾å° ä¸ä¸ªè®°å½æéçæ¯è¾æ¬¡æ°è¦æ¯ b-æ å¤ï¼ä½æ¯ä¸æ¬¡ç£çè®¿é®çæ¶é´ç¸å½äºæç¾ä¸åæ¬¡åå­æ¯è¾çæ¶é´ï¼å æ­¤å®éä¸­ b+æ çæ§è½å¯è½è¿ä¼å¥½äºï¼èä¸ b+æ çå¶å­èç¹ä½¿ç¨æéè¿æ¥å¨ä¸èµ·ï¼æ¹ä¾¿é¡ºåºéåï¼ä¾å¦æ¥çä¸ä¸ªç®å½ä¸çææ æä»¶ï¼ä¸ä¸ªè¡¨ä¸­çææè®°å½ç­ï¼ï¼è¿ä¹æ¯å¾å¤æ°æ®åºåæä»¶ç³»ç»ä½¿ç¨ b+æ çç¼æã\n\nä¸ºä»ä¹b+æ æ¯ b-æ æ´éåç´¢å¼ï¼\n\n * b+æ çç£çè¯»åä»£ä»·æ´ä½\n   \n   b+æ çåé¨ç»ç¹å¹¶æ²¡ææåå³é®å­å·ä½ä¿¡æ¯çæéãå æ­¤å¶åé¨ç»ç¹ç¸å¯¹ b æ æ´å°ãå¦ææææåä¸åé¨ç»ç¹ çå³é®å­å­æ¾å¨åä¸çåä¸­ï¼é£ä¹çåæè½å®¹çº³çå³é®å­æ°éä¹è¶å¤ãä¸æ¬¡æ§è¯»å¥åå­ä¸­çéè¦æ¥æ¾çå³é®å­ä¹å°± è¶å¤ãç¸å¯¹æ¥è¯´ io è¯»åæ¬¡æ°ä¹å°±éä½äºã\n\n * b+æ çæ¥è¯¢æçæ´å ç¨³å®\n   \n   ç±äºéç»ç»ç¹å¹¶ä¸æ¯æç»æåæä»¶åå®¹çç»ç¹ï¼èåªæ¯å¶å­ç»ç¹ä¸­å³é®å­çç´¢å¼ãæä»¥ä»»ä½å³é®å­çæ¥æ¾å¿é¡» èµ°ä¸æ¡ä»æ ¹ç»ç¹å°å¶å­ç»ç¹çè·¯ãææå³é®å­æ¥è¯¢çè·¯å¾é¿åº¦ç¸åï¼å¯¼è´æ¯ä¸ä¸ªæ°æ®çæ¥è¯¢æçç¸å½ã\n\n\n# mysqlä¸­çb+tree\n\nmysqlç´¢å¼æ°æ®ç»æå¯¹ç»å¸çb+treeè¿è¡äºä¼åãå¨åb+treeçåºç¡ä¸ï¼å¢å ä¸ä¸ªæåç¸é»å¶å­èç¹çé¾è¡¨æéï¼å°±å½¢æäºå¸¦æé¡ºåºæéçb+treeï¼æé«åºé´è®¿é®çæ§è½ã\n\nmysqlä¸­ç b+tree ç´¢å¼ç»æç¤ºæå¾:\n\n\n\n\n# èç°ç´¢å¼åéèç°ç´¢å¼\n\nèç°ç´¢å¼å¹¶ä¸æ¯ä¸ç§åç¬çç´¢å¼ç±»åï¼èæ¯ä¸ç§æ°æ®å­å¨æ¹å¼ãæ¯è¯­âèç°âè¡¨ç¤ºæ°æ®è¡åç¸é»çé®å¼èç°çå­å¨ å¨ä¸èµ·ãå¦ä¸å¾ï¼å·¦ä¾§çç´¢å¼å°±æ¯èç°ç´¢å¼ï¼å ä¸ºæ°æ®è¡å¨ç£ççæååç´¢å¼æåºä¿æä¸è´ã\n\n\n\nèç°ç´¢å¼çå¥½å¤\n\næç§èç°ç´¢å¼æåé¡ºåºï¼æ¥è¯¢æ¾ç¤ºä¸å®èå´æ°æ®çæ¶åï¼ç±äºæ°æ®é½æ¯ç´§å¯ç¸è¿ï¼æ°æ®åºä¸ä¸ç¨ä»å¤ ä¸ªæ°æ®åä¸­æåæ°æ®ï¼æä»¥èçäºå¤§éç io æä½ã\n\nèç°ç´¢å¼çéå¶\n\nå¯¹äº mysql æ°æ®åºç®ååªæ innodb æ°æ®å¼ææ¯æèç°ç´¢å¼ï¼è myisam å¹¶ä¸æ¯æèç°ç´¢å¼ã\n\nç±äºæ°æ®ç©çå­å¨æåºæ¹å¼åªè½æä¸ç§ï¼æä»¥æ¯ä¸ª mysql çè¡¨åªè½æä¸ä¸ªèç°ç´¢å¼ãä¸è¬æåµä¸å°±æ¯è¯¥è¡¨çä¸»é®ã\n\nä¸ºäºååå©ç¨èç°ç´¢å¼çèç°çç¹æ§ï¼æä»¥ innodb è¡¨çä¸»é®åå°½ééç¨æåºçé¡ºåº idï¼èä¸å»ºè®®ç¨æ åºç idï¼æ¯å¦ uuid è¿ç§ã\n\n\n# æ¶é´å¤æåº¦\n\nåä¸é®é¢å¯ç¨ä¸åç®æ³è§£å³ï¼èä¸ä¸ªç®æ³çè´¨éä¼å£å°å½±åå°ç®æ³ä¹è³ç¨åºçæçãç®æ³åæçç®çå¨äºéæ©åéç®æ³åæ¹è¿ç®æ³ã\n\næ¶é´å¤æåº¦æ¯ææ§è¡ç®æ³æéè¦çè®¡ç®å·¥ä½éï¼ç¨å¤§ o è¡¨ç¤ºè®°ä¸ºï¼o(â¦)\n\n\n\n\n\n\n# ç´¢å¼åç±»\n\n\n# åå¼ç´¢å¼\n\næ¦å¿µï¼å³ä¸ä¸ªç´¢å¼åªåå«åä¸ªåï¼ä¸ä¸ªè¡¨å¯ä»¥æå¤ä¸ªååç´¢å¼\n\n * æè¡¨ä¸èµ·åå»º\n   \n   create table customer (\n     id int (10) unsigned auto_increment,\n     customer_no varchar (200),\n     customer_name varchar (200),\n     primary key (id),\n     key (customer_name)\t#this\n   );\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   \n\n * åç¬å»ºåå¼ç´¢å¼\n   \n   create index idx_customer_name\n   on customer (customer_name);\n   \n   \n   1\n   2\n   \n\n\n# å¯ä¸ç´¢å¼\n\næ¦å¿µï¼ç´¢å¼åçå¼å¿é¡»å¯ä¸ï¼ä½åè®¸æç©ºå¼\n\n * éè¡¨ä¸èµ·åå»º\n   \n   create table customer (\n     id int (10) unsigned auto_increment,\n     customer_no varchar (200),\n     customer_name varchar (200),\n     primary key (id),\n     key (customer_name),\n     unique (customer_no)\t#this\n   );\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   \n\n * åç¬å»ºå¯ä¸ç´¢å¼ï¼\n   \n   create unique index idx_customer_no\n   on customer (customer_no);\n   \n   \n   1\n   2\n   \n\n\n# å¤åç´¢å¼\n\næ¦å¿µï¼å³ä¸ä¸ªç´¢å¼åå«å¤ä¸ªå\n\n * éè¡¨ä¸èµ·å»ºç´¢å¼\n   \n   create table customer (\n     id int (10) unsigned auto_increment,\n     customer_no varchar (200),\n     customer_name varchar (200),\n     primary key (id),\n     key (customer_name),\n     unique (customer_name),\n     key (customer_no, customer_name)\t#this\n   );\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   \n\n * åç¬å»ºç´¢å¼ï¼\n   \n   create index idx_no_name\n   on customer (customer_no, customer_name);\n   \n   \n   1\n   2\n   \n\n\n# ä¸»é®ç´¢å¼\n\næ¦å¿µï¼è®¾å®ä¸ºä¸»é®åæ°æ®åºä¼èªå¨å»ºç«ç´¢å¼ï¼innodbä¸ºèç°ç´¢å¼\n\n * éè¡¨ä¸èµ·å»ºç´¢å¼\n   \n   create table customer (\n     id int (10) unsigned auto_increment,\n     customer_no varchar (200),\n     customer_name varchar (200),\n     primary key (id)\t#this\n   );\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   \n\n * åç¬å»ºä¸»é®ç´¢å¼ï¼\n   \n   alter table customer add primary key customer(customer_no);\n   \n   \n   1\n   \n\n * å é¤ä¸»é®ç´¢å¼\n   \n   alter table customer drop primary key ;\n   \n   \n   1\n   \n\n * ä¿®æ¹å»ºä¸»é®ç´¢å¼\n   \n   å¿é¡»åå é¤æ(drop)åç´¢å¼ï¼åæ°å»º(add)ç´¢å¼\n\n\n# ç´¢å¼åºæ¬è¯­æ³\n\n * åå»º\n   \n   create [unique] index [indexname]\n   on table_name(column))\n   \n   \n   1\n   2\n   \n   \n   ç¤ºä¾ ï¼ ä¸ºcityè¡¨ä¸­çcity_nameå­æ®µåå»ºç´¢å¼ ï¼\n   \n   \n\n * å é¤\n   \n   drop  index  index_name  on  tbl_name;\n   \n   \n   1\n   \n\n * æ¥ç\n   \n   show index  from  table_name;\n   \n   \n   1\n   \n\n * alter\n   \n   1). alter  table  tb_name  add  primary  key(column_list); \n   \n   \tè¯¥è¯­å¥æ·»å ä¸ä¸ªä¸»é®ï¼è¿æå³çç´¢å¼å¼å¿é¡»æ¯å¯ä¸çï¼ä¸ä¸è½ä¸ºnull\n   \t\n   2). alter  table  tb_name  add  unique index_name(column_list);\n   \t\n   \tè¿æ¡è¯­å¥åå»ºç´¢å¼çå¼å¿é¡»æ¯å¯ä¸çï¼é¤äºnullå¤ï¼nullå¯è½ä¼åºç°å¤æ¬¡ï¼\n   \t\n   3). alter  table  tb_name  add  index index_name(column_list);\n   \n   \tæ·»å æ®éç´¢å¼ï¼ ç´¢å¼å¼å¯ä»¥åºç°å¤æ¬¡ã\n   \t\n   4). alter  table  tb_name  add  fulltext  index_name(column_list);\n   \t\n   \tè¯¥è¯­å¥æå®äºç´¢å¼ä¸ºfulltextï¼ ç¨äºå¨æç´¢å¼\n   \t\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   \n\n\n# ç´¢å¼è®¾è®¡åå\n\nç´¢å¼çè®¾è®¡å¯ä»¥éµå¾ªä¸äºå·²æçååï¼åå»ºç´¢å¼çæ¶åè¯·å°½éèèç¬¦åè¿äºååï¼ä¾¿äºæåç´¢å¼çä½¿ç¨æçï¼æ´é«æçä½¿ç¨ç´¢å¼ã\n\n * å¯¹æ¥è¯¢é¢æ¬¡è¾é«ï¼ä¸æ°æ®éæ¯è¾å¤§çè¡¨å»ºç«ç´¢å¼ã\n\n * ç´¢å¼å­æ®µçéæ©ï¼æä½³åéååºå½ä»whereå­å¥çæ¡ä»¶ä¸­æåï¼å¦æwhereå­å¥ä¸­çç»åæ¯è¾å¤ï¼é£ä¹åºå½æéæå¸¸ç¨ãè¿æ»¤æææå¥½çåçç»åã\n\n * ä½¿ç¨å¯ä¸ç´¢å¼ï¼åºååº¦è¶é«ï¼ä½¿ç¨ç´¢å¼çæçè¶é«ã\n\n * ç´¢å¼å¯ä»¥ææçæåæ¥è¯¢æ°æ®çæçï¼ä½ç´¢å¼æ°éä¸æ¯å¤å¤çåï¼ç´¢å¼è¶å¤ï¼ç»´æ¤ç´¢å¼çä»£ä»·èªç¶ä¹å°±æ°´æ¶¨è¹é«ãå¯¹äºæå¥ãæ´æ°ãå é¤ç­dmlæä½æ¯è¾é¢ç¹çè¡¨æ¥è¯´ï¼ç´¢å¼è¿å¤ï¼ä¼å¼å¥ç¸å½é«çç»´æ¤ä»£ä»·ï¼éä½dmlæä½çæçï¼å¢å ç¸åºæä½çæ¶é´æ¶èãå¦å¤ç´¢å¼è¿å¤çè¯ï¼mysqlä¹ä¼ç¯éæ©å°é¾çï¼è½ç¶æç»ä»ç¶ä¼æ¾å°ä¸ä¸ªå¯ç¨çç´¢å¼ï¼ä½æ çæé«äºéæ©çä»£ä»·ã\n\n * ä½¿ç¨ç­ç´¢å¼ï¼ç´¢å¼åå»ºä¹åä¹æ¯ä½¿ç¨ç¡¬çæ¥å­å¨çï¼å æ­¤æåç´¢å¼è®¿é®çi/oæçï¼ä¹å¯ä»¥æåæ»ä½çè®¿é®æçãåå¦ææç´¢å¼çå­æ®µæ»é¿åº¦æ¯è¾ç­ï¼é£ä¹å¨ç»å®å¤§å°çå­å¨ååå¯ä»¥å­å¨æ´å¤çç´¢å¼å¼ï¼ç¸åºçå¯ä»¥ææçæåmysqlè®¿é®ç´¢å¼çi/oæçã\n\n * å©ç¨æå·¦åç¼ï¼nä¸ªåç»åèæçç»åç´¢å¼ï¼é£ä¹ç¸å½äºæ¯åå»ºäºnä¸ªç´¢å¼ï¼å¦ææ¥è¯¢æ¶whereå­å¥ä¸­ä½¿ç¨äºç»æè¯¥ç´¢å¼çåå ä¸ªå­æ®µï¼é£ä¹è¿æ¡æ¥è¯¢sqlå¯ä»¥å©ç¨ç»åç´¢å¼æ¥æåæ¥è¯¢æçã\n   \n   åå»ºå¤åç´¢å¼\n   \n   create index idx_name_email_status on tb_seller(name,email,status);\n   \n   \n   1\n   \n   \n   å°±ç¸å½äº\n   \n   å¯¹ name åå»ºç´¢å¼ ; å¯¹ name , email åå»ºäºç´¢å¼ ; å¯¹ name , email, status åå»ºäºç´¢å¼ ;\n\nä¸éååå»ºç´¢å¼çæåµ\n\n * è¡¨è®°å½å¤ªå°\n * ç»å¸¸å¢å æ¹çè¡¨æèå­æ®µ\n * where æ¡ä»¶éç¨ä¸å°çå­æ®µä¸åå»ºç´¢å¼\n * è¿æ»¤æ§ä¸å¥½çä¸éåå»ºç´¢å¼",charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"MySQL - é»è¾æ¶æç®ä»",frontmatter:{title:"MySQL - é»è¾æ¶æç®ä»",permalink:"/mysql/logic/",date:"2021-05-20T09:55:12.000Z"},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/05.MySQL/04.MySQL%20-%20%E9%80%BB%E8%BE%91%E6%9E%B6%E6%9E%84.html",relativePath:"03.æ°æ®åº/05.MySQL/04.MySQL - é»è¾æ¶æ.md",key:"v-2a221380",path:"/mysql/logic/",headers:[{level:2,title:"Mysql é»è¾æ¶æç®ä»",slug:"mysql-é»è¾æ¶æç®ä»",normalizedTitle:"mysql é»è¾æ¶æç®ä»",charIndex:3},{level:3,title:"æ´ä½æ¶æå¾",slug:"æ´ä½æ¶æå¾",normalizedTitle:"æ´ä½æ¶æå¾",charIndex:21},{level:4,title:"è¿æ¥å±",slug:"è¿æ¥å±",normalizedTitle:"è¿æ¥å±",charIndex:34},{level:4,title:"æå¡å±",slug:"æå¡å±",normalizedTitle:"æå¡å±",charIndex:45},{level:4,title:"å¼æå±",slug:"å¼æå±",normalizedTitle:"å¼æå±",charIndex:56},{level:4,title:"å­å¨å±",slug:"å­å¨å±",normalizedTitle:"å­å¨å±",charIndex:67},{level:3,title:"show profile",slug:"show-profile",normalizedTitle:"show profile",charIndex:76},{level:3,title:"å¤§è´çæ¥è¯¢æµç¨",slug:"å¤§è´çæ¥è¯¢æµç¨",normalizedTitle:"å¤§è´çæ¥è¯¢æµç¨",charIndex:94},{level:3,title:"SQLçæ§è¡é¡ºåº",slug:"sqlçæ§è¡é¡ºåº",normalizedTitle:"sqlçæ§è¡é¡ºåº",charIndex:107},{level:2,title:"å­å¨å¼æ",slug:"å­å¨å¼æ",normalizedTitle:"å­å¨å¼æ",charIndex:119},{level:3,title:"å­å¨å¼ææ¦è¿°",slug:"å­å¨å¼ææ¦è¿°",normalizedTitle:"å­å¨å¼ææ¦è¿°",charIndex:129},{level:3,title:"åç§å­å¨å¼æç¹æ§",slug:"åç§å­å¨å¼æç¹æ§",normalizedTitle:"åç§å­å¨å¼æç¹æ§",charIndex:141},{level:4,title:"InnoDB",slug:"innodb",normalizedTitle:"innodb",charIndex:157},{level:4,title:"MyISAM",slug:"myisam",normalizedTitle:"myisam",charIndex:171},{level:4,title:"MEMORY",slug:"memory",normalizedTitle:"memory",charIndex:185},{level:4,title:"MERGE",slug:"merge",normalizedTitle:"merge",charIndex:199},{level:2,title:"SQL é¢ç­",slug:"sql-é¢ç­",normalizedTitle:"sql é¢ç­",charIndex:208}],headersStr:"Mysql é»è¾æ¶æç®ä» æ´ä½æ¶æå¾ è¿æ¥å± æå¡å± å¼æå± å­å¨å± show profile å¤§è´çæ¥è¯¢æµç¨ SQLçæ§è¡é¡ºåº å­å¨å¼æ å­å¨å¼ææ¦è¿° åç§å­å¨å¼æç¹æ§ InnoDB MyISAM MEMORY MERGE SQL é¢ç­",content:" * Mysql é»è¾æ¶æç®ä»\n   * æ´ä½æ¶æå¾\n     * è¿æ¥å±\n     * æå¡å±\n     * å¼æå±\n     * å­å¨å±\n   * show profile\n   * å¤§è´çæ¥è¯¢æµç¨\n   * SQLçæ§è¡é¡ºåº\n * å­å¨å¼æ\n   * å­å¨å¼ææ¦è¿°\n   * åç§å­å¨å¼æç¹æ§\n     * InnoDB\n     * MyISAM\n     * MEMORY\n     * MERGE\n * SQL é¢ç­\n\n\n# Mysql é»è¾æ¶æç®ä»\n\n\n# æ´ä½æ¶æå¾\n\n\n\nåå¶å®æ°æ®åºç¸æ¯ï¼MySQL æç¹ä¸ä¼ä¸åï¼å®çæ¶æå¯ä»¥å¨å¤ç§ä¸ååºæ¯ä¸­åºç¨å¹¶åæ¥è¯å¥½ä½ç¨ãä¸»è¦ä½ç°å¨å­å¨å¼æçæ¶æä¸ï¼æä»¶å¼çå­å¨å¼ææ¶æå°æ¥è¯¢å¤çåå¶å®çç³»ç»ä»»å¡ä»¥åæ°æ®çå­å¨æåç¸åç¦»ãè¿ç§æ¶æå¯ ä»¥æ ¹æ®ä¸å¡çéæ±åå®ééè¦éæ©åéçå­å¨å¼æã\n\nåå±ä»ç»ï¼\n\n# è¿æ¥å±\n\næä¸å±æ¯ä¸äºå®¢æ·ç«¯åè¿æ¥æå¡ï¼åå«æ¬å° sock éä¿¡åå¤§å¤æ°åºäºå®¢æ·ç«¯/æå¡ç«¯å·¥å·å®ç°çç±»ä¼¼äº tcp/ip çéä¿¡ãä¸»è¦å®æä¸äºç±»ä¼¼äºè¿æ¥å¤çãææè®¤è¯ãåç¸å³çå®å¨æ¹æ¡ãå¨è¯¥å±ä¸å¼å¥äºçº¿ç¨æ± çæ¦å¿µï¼ä¸ºéè¿è®¤è¯ å®å¨æ¥å¥çå®¢æ·ç«¯æä¾çº¿ç¨ãåæ ·å¨è¯¥å±ä¸å¯ä»¥å®ç°åºäº SSL çå®å¨é¾æ¥ãæå¡å¨ä¹ä¼ä¸ºå®å¨æ¥å¥çæ¯ä¸ªå®¢æ·ç«¯éª è¯å®æå·æçæä½æéã\n\n# æå¡å±\n\n * Management Serveices & Utilities\n   \n   ç³»ç»ç®¡çåæ§å¶å·¥å·\n\n * SQL Interface\n   \n   SQL æ¥å£ãæ¥åç¨æ·ç SQL å½ä»¤ï¼å¹¶ä¸è¿åç¨æ·éè¦æ¥è¯¢çç»æãæ¯å¦ select from å°±æ¯è°ç¨ SQL Interface\n\n * Parser\n   \n   è§£æå¨ã SQL å½ä»¤ä¼ éå°è§£æå¨çæ¶åä¼è¢«è§£æå¨éªè¯åè§£æ\n\n * Optimizer\n   \n   æ¥è¯¢ä¼åå¨ã SQL è¯­å¥å¨æ¥è¯¢ä¹åä¼ä½¿ç¨æ¥è¯¢ä¼åå¨å¯¹æ¥è¯¢è¿è¡ä¼åï¼æ¯å¦æ where æ¡ä»¶æ¶ï¼ä¼åå¨æ¥å³å®åæå½±è¿æ¯åè¿æ»¤ã\n\n * Cache å Buffer\n   \n   æ¥è¯¢ç¼å­ãå¦ææ¥è¯¢ç¼å­æå½ä¸­çæ¥è¯¢ç»æï¼æ¥è¯¢è¯­å¥å°±å¯ä»¥ç´æ¥å»æ¥è¯¢ç¼å­ä¸­åæ°æ®ãè¿ä¸ªç¼å­æºå¶æ¯ç±ä¸ç³»åå°ç¼å­ç»æçãæ¯å¦è¡¨ç¼å­ï¼è®°å½ç¼å­ï¼key ç¼å­ï¼ æéç¼å­ç­\n   \n   æ³¨ï¼mysql 8.X åæ¶äºæ¥è¯¢ç¼å­\n\n# å¼æå±\n\nå­å¨å¼æå±ï¼å­å¨å¼æçæ­£çè´è´£äº MySQL ä¸­æ°æ®çå­å¨åæåï¼æå¡å¨éè¿ API ä¸å­å¨å¼æè¿è¡éä¿¡ãä¸å çå­å¨å¼æå·æçåè½ä¸åï¼è¿æ ·æä»¬å¯ä»¥æ ¹æ®èªå·±çå®ééè¦è¿è¡éåã\n\n# å­å¨å±\n\næ°æ®å­å¨å±ï¼ä¸»è¦æ¯å°æ°æ®å­å¨å¨è¿è¡äºè£¸è®¾å¤çæä»¶ç³»ç»ä¹ä¸ï¼å¹¶å®æä¸å­å¨å¼æçäº¤äºã\n\n\n# show profile\n\nå©ç¨ show profile å¯ä»¥æ¥ç sql çæ§è¡å¨æï¼\n\nå¼å¯ profile\n\næ¥ç profile æ¯å¦å¼å¯ï¼show variables like '%profiling%'\n\nmysql> show variables like '%profiling%';\n+------------------------+-------+\n| Variable_name          | Value |\n+------------------------+-------+\n| have_profiling         | YES   |\n| profiling              | OFF   |\n| profiling_history_size | 15    |\n+------------------------+-------+\n3 rows in set (0.01 sec)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nå¦ææ²¡æå¼å¯ï¼å¯ä»¥æ§è¡ set profiling=1 å¼å¯ï¼\n\nä½¿ç¨ profile\n\næ§è¡ show profiles; å½ä»¤ï¼å¯ä»¥æ¥çæè¿çå æ¬¡æ¥è¯¢ã\n\næ ¹æ® Query_IDï¼å¯ä»¥è¿ä¸æ­¥æ§è¡ show profile cpu,block io for query Query_id æ¥æ¥ç sql çå·ä½æ§è¡æ­¥éª¤ã\n\n\n# å¤§è´çæ¥è¯¢æµç¨\n\nmysql çæ¥è¯¢æµç¨å¤§è´æ¯ï¼\n\nmysql å®¢æ·ç«¯éè¿åè®®ä¸ mysql æå¡å¨å»ºè¿æ¥ï¼åéæ¥è¯¢è¯­å¥ï¼åæ£æ¥æ¥è¯¢ç¼å­ï¼å¦æå½ä¸­ï¼ç´æ¥è¿åç»æï¼ å¦åè¿è¡è¯­å¥è§£æ,ä¹å°±æ¯è¯´ï¼å¨è§£ææ¥è¯¢ä¹åï¼æå¡å¨ä¼åè®¿é®æ¥è¯¢ç¼å­(query cache)ââå®å­å¨ SELECT è¯­å¥ä»¥å ç¸åºçæ¥è¯¢ç»æéãå¦ææä¸ªæ¥è¯¢ç»æå·²ç»ä½äºç¼å­ä¸­ï¼æå¡å¨å°±ä¸ä¼åå¯¹æ¥è¯¢è¿è¡è§£æãä¼åãä»¥åæ§è¡ãå®ä»ä»å°ç¼å­ä¸­çç»æè¿åç»ç¨æ·å³å¯ï¼è¿å°å¤§å¤§æé«ç³»ç»çæ§è½ã\n\nè¯­æ³è§£æå¨åé¢å¤çï¼é¦å mysql éè¿å³é®å­å° SQL è¯­å¥è¿è¡è§£æï¼å¹¶çæä¸é¢å¯¹åºçâè§£ææ âãmysql è§£æå¨å°ä½¿ç¨ mysql è¯­æ³è§åéªè¯åè§£ææ¥è¯¢ï¼é¢å¤çå¨åæ ¹æ®ä¸äº mysql è§åè¿ä¸æ­¥æ£æ¥è§£ææ°æ¯å¦åæ³ã\n\næ¥è¯¢ä¼åå¨å½è§£ææ è¢«è®¤ä¸ºæ¯åæ³çäºï¼å¹¶ä¸ç±ä¼åå¨å°å¶è½¬åææ§è¡è®¡åãä¸æ¡æ¥è¯¢å¯ä»¥æå¾å¤ç§æ§è¡æ¹å¼ï¼ æåé½è¿åç¸åçç»æãä¼åå¨çä½ç¨å°±æ¯æ¾å°è¿å¶ä¸­æå¥½çæ§è¡è®¡åã\n\nç¶åï¼mysql é»è®¤ä½¿ç¨ç BTREE ç´¢å¼ï¼å¹¶ä¸ä¸ä¸ªå¤§è´æ¹åæ¯ï¼æ è®ºæä¹æè¾ sqlï¼è³å°å¨ç®åæ¥è¯´ï¼mysql æå¤åªç¨å°è¡¨ä¸­çä¸ä¸ªç´¢å¼ã\n\n\n# SQLçæ§è¡é¡ºåº\n\næåçé¡ºåºï¼\n\n\n\nçæ­£æ§è¡çé¡ºåºï¼\n\néç Mysql çæ¬çæ´æ°æ¢ä»£ï¼å¶ä¼åå¨ä¹å¨ä¸æ­çåçº§ï¼ä¼åå¨ä¼åæä¸åæ§è¡é¡ºåºäº§ççæ§è½æ¶èä¸åèå¨ æè°æ´æ§è¡é¡ºåºãä¸é¢æ¯ç»å¸¸åºç°çæ¥è¯¢é¡ºåºï¼\n\n\n\n\n\n\n# å­å¨å¼æ\n\n\n# å­å¨å¼ææ¦è¿°\n\nåå¤§å¤æ°çæ°æ®åºä¸å, MySQLä¸­æä¸ä¸ªå­å¨å¼æçæ¦å¿µ, éå¯¹ä¸åçå­å¨éæ±å¯ä»¥éæ©æä¼çå­å¨å¼æã\n\nå­å¨å¼æå°±æ¯å­å¨æ°æ®ï¼å»ºç«ç´¢å¼ï¼æ´æ°æ¥è¯¢æ°æ®ç­ç­ææ¯çå®ç°æ¹å¼ ãå­å¨å¼ææ¯åºäºè¡¨çï¼èä¸æ¯åºäºåºçãæä»¥å­å¨å¼æä¹å¯è¢«ç§°ä¸ºè¡¨ç±»åã\n\nOracleï¼SqlServerç­æ°æ®åºåªæä¸ç§å­å¨å¼æãMySQLæä¾äºæä»¶å¼çå­å¨å¼ææ¶æãæä»¥MySQLå­å¨å¤ç§å­å¨å¼æï¼å¯ä»¥æ ¹æ®éè¦ä½¿ç¨ç¸åºå¼æï¼æèç¼åå­å¨å¼æã\n\nMySQL5.0æ¯æçå­å¨å¼æåå« ï¼ InnoDB ãMyISAM ãBDBãMEMORYãMERGEãEXAMPLEãNDB ClusterãARCHIVEãCSVãBLACKHOLEãFEDERATEDç­ï¼å¶ä¸­InnoDBåBDBæä¾äºå¡å®å¨è¡¨ï¼å¶ä»å­å¨å¼ææ¯éäºå¡å®å¨è¡¨ã\n\néè¿æä»¤æ¥è¯¢å½åæ°æ®åºæ¯æçå­å¨å¼æ ï¼\n\nshow engines\n\n\n1\n\n\n\n\nåå»ºæ°è¡¨æ¶å¦æä¸æå®å­å¨å¼æï¼é£ä¹ç³»ç»å°±ä¼ä½¿ç¨é»è®¤çå­å¨å¼æï¼MySQL5.5ä¹åçé»è®¤å­å¨å¼ææ¯MyISAMï¼5.5ä¹åå°±æ¹ä¸ºäºInnoDBã\n\næ¥çMysqlæ°æ®åºé»è®¤çå­å¨å¼æ ï¼ æä»¤ ï¼\n\nshow variables like '%storage_engine%' ï¼ \n\n\n1\n\n\n\n\n\n# åç§å­å¨å¼æç¹æ§\n\nä¸é¢éç¹ä»ç»å ç§å¸¸ç¨çå­å¨å¼æï¼ å¹¶å¯¹æ¯åä¸ªå­å¨å¼æä¹é´çåºå«ï¼ å¦ä¸è¡¨æç¤º ï¼\n\nç¹ç¹       INNODB        MYISAM   MEMORY   MERGE   NDB\nå­å¨éå¶     64TB          æ        æ        æ²¡æ      æ\näºå¡å®å¨     æ¯æ                                      \néæºå¶      è¡é(éåé«å¹¶å)     è¡¨é       è¡¨é       è¡¨é      è¡é\nBæ ç´¢å¼     æ¯æ            æ¯æ       æ¯æ       æ¯æ      æ¯æ\nåå¸ç´¢å¼                            æ¯æ               \nå¨æç´¢å¼     æ¯æ(5.6çæ¬ä¹å)   æ¯æ                        \néç¾¤ç´¢å¼     æ¯æ                                      \næ°æ®ç´¢å¼     æ¯æ                     æ¯æ               æ¯æ\nç´¢å¼ç¼å­     æ¯æ            æ¯æ       æ¯æ       æ¯æ      æ¯æ\næ°æ®å¯åç¼©                  æ¯æ                        \nç©ºé´ä½¿ç¨     é«             ä½        N/A      ä½       ä½\nåå­ä½¿ç¨     é«             ä½        ä¸­ç­       ä½       é«\næ¹éæå¥éåº¦   ä½             é«        é«        é«       é«\næ¯æå¤é®     æ¯æ                                      \n\nä¸é¢æä»¬å°éç¹ä»ç»æé¿ä½¿ç¨çä¸¤ç§å­å¨å¼æï¼ InnoDBãMyISAM ï¼ å¦å¤ä¸¤ç§ MEMORYãMERGE ï¼ äºè§£å³å¯ã\n\n# InnoDB\n\nInnoDB å­å¨å¼ææ¯ Mysql çé»è®¤å­å¨å¼æã\n\nInnoDBå­å¨å¼ææä¾äºå·ææäº¤ãåæ»ãå´©æºæ¢å¤è½åçäºå¡å®å¨ãä½æ¯å¯¹æ¯ MyISAM çå­å¨å¼æï¼InnoDB åçå¤çæçå·®ä¸äºï¼å¹¶ä¸ä¼å ç¨æ´å¤çç£çç©ºé´ä»¥ä¿çæ°æ®åç´¢å¼ã\n\nInnoDB å­å¨å¼æä¸åäºå¶ä»å­å¨å¼æçç¹ç¹ ï¼\n\n * äºå¡æ§å¶\n   \n   **\n   \n   create table goods_innodb(\n   \tid int NOT NULL AUTO_INCREMENT,\n   \tname varchar(20) NOT NULL,\n       primary key(id)\n   )ENGINE=innodb DEFAULT CHARSET=utf8;\n   \n   \n   1\n   2\n   3\n   4\n   5\n   \n   \n   #1\n   start transaction;\n   #2\n   insert into goods_innodb(id,name)values(null,'Meta20');\n   #3\n   commit;\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   \n   \n   \n   \n   æµè¯åç°å¨ InnoDB ä¸­æ¯å­å¨äºå¡ç ï¼\n\n * å¤é®çº¦æ\n   \n   MySQLæ¯æå¤é®çå­å¨å¼æåªæ InnoDB ï¼ å¨åå»ºå¤é®çæ¶åï¼ è¦æ±ç¶è¡¨å¿é¡»æå¯¹åºçç´¢å¼ ï¼å­è¡¨å¨åå»ºå¤é®çæ¶åï¼ä¹ä¼èªå¨çåå»ºå¯¹åºçç´¢å¼ã\n   \n   ä¸é¢ä¸¤å¼ è¡¨ä¸­ ï¼ country_innodb æ¯ç¶è¡¨ ï¼ country_id ä¸ºä¸»é®ç´¢å¼ï¼city_innodb è¡¨æ¯å­è¡¨ï¼country_id å­æ®µä¸ºå¤é®ï¼å¯¹åºäº country_innodb è¡¨çä¸»é® country_id ã\n   \n   create table country_innodb(\n   \tcountry_id int NOT NULL AUTO_INCREMENT,\n       country_name varchar(100) NOT NULL,\n       primary key(country_id)\n   )ENGINE=InnoDB DEFAULT CHARSET=utf8;\n   \n   \n   create table city_innodb(\n   \tcity_id int NOT NULL AUTO_INCREMENT,\n       city_name varchar(50) NOT NULL,\n       country_id int NOT NULL,\n       primary key(city_id),\n       key idx_fk_country_id(country_id),\n       CONSTRAINT `fk_city_country` FOREIGN KEY(country_id) REFERENCES country_innodb(country_id) ON DELETE RESTRICT ON UPDATE CASCADE\n   )ENGINE=InnoDB DEFAULT CHARSET=utf8;\n   \n   \n   \n   insert into country_innodb values(null,'China'),(null,'America'),(null,'Japan');\n   insert into city_innodb values(null,'Xian',1),(null,'NewYork',2),(null,'BeiJing',1);\n   \n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   \n   \n   å¨åå»ºç´¢å¼æ¶ï¼ å¯ä»¥æå®å¨å é¤ãæ´æ°ç¶è¡¨æ¶ï¼å¯¹å­è¡¨è¿è¡çç¸åºæä½ï¼åæ¬ RESTRICTãCASCADEãSET NULL å NO ACTIONã\n   \n   RESTRICT åNO ACTION ç¸åï¼ æ¯æéå¶å¨å­è¡¨æå³èè®°å½çæåµä¸ï¼ ç¶è¡¨ä¸è½æ´æ°ï¼\n   \n   CASCADE è¡¨ç¤ºç¶è¡¨å¨æ´æ°æèå é¤æ¶ï¼æ´æ°æèå é¤å­è¡¨å¯¹åºçè®°å½ï¼\n   \n   SET NULL åè¡¨ç¤ºç¶è¡¨å¨æ´æ°æèå é¤çæ¶åï¼å­è¡¨çå¯¹åºå­æ®µè¢«SET NULL ã\n   \n   éå¯¹ä¸é¢åå»ºçä¸¤ä¸ªè¡¨ï¼ å­è¡¨çå¤é®æå®æ¯ON DELETE RESTRICT ON UPDATE CASCADE æ¹å¼çï¼ é£ä¹å¨ä¸»è¡¨å é¤è®°å½çæ¶åï¼ å¦æå­è¡¨æå¯¹åºè®°å½ï¼ åä¸åè®¸å é¤ï¼ ä¸»è¡¨å¨æ´æ°è®°å½çæ¶åï¼ å¦æå­è¡¨æå¯¹åºè®°å½ï¼ åå­è¡¨å¯¹åºæ´æ° ã\n   \n   è¡¨ä¸­æ°æ®å¦ä¸å¾æç¤º ï¼\n   \n   \n   \n   æ¥çå¤é®ä¿¡æ¯\n   \n   show create table city_innodb ;\n   \n   \n   1\n   \n   \n   \n   \n   å é¤ country_idä¸º 1 ç country æ°æ®ï¼æå¤é®æ¶ä¼å é¤å¤±è´¥\n   \n   \n   \n   æ´æ°ä¸»è¡¨countryè¡¨çå­æ®µ country_id æ¶\n   \n   update country_innodb set country_id = 100 where country_id = 1;\n   \n   \n   1\n   \n   \n   \n   \n   æ´æ°åï¼ å­è¡¨çæ°æ®ä¿¡æ¯ä¸º ï¼\n   \n   \n\n * å­å¨æ¹å¼\n   \n   InnoDB å­å¨è¡¨åç´¢å¼æä»¥ä¸ä¸¤ç§æ¹å¼ ï¼\n   \n   â . ä½¿ç¨å±äº«è¡¨ç©ºé´å­å¨ï¼ è¿ç§æ¹å¼åå»ºçè¡¨çè¡¨ç»æä¿å­å¨ .frmæä»¶ä¸­ï¼ æ°æ®åç´¢å¼ä¿å­å¨ innodb_data_home_dir å innodb_data_file_path å®ä¹çè¡¨ç©ºé´ä¸­ï¼å¯ä»¥æ¯å¤ä¸ªæä»¶ã\n   \n   â¡. ä½¿ç¨å¤è¡¨ç©ºé´å­å¨ï¼ è¿ç§æ¹å¼åå»ºçè¡¨çè¡¨ç»æä»ç¶å­å¨ .frm æä»¶ä¸­ï¼ä½æ¯æ¯ä¸ªè¡¨çæ°æ®åç´¢å¼åç¬ä¿å­å¨ .ibd ä¸­ã\n   \n   \n\n# MyISAM\n\nMyISAM ä¸æ¯æäºå¡ãä¹ä¸æ¯æå¤é®ï¼å¶ä¼å¿æ¯è®¿é®çéåº¦å¿«ï¼å¯¹äºå¡çå®æ´æ§æ²¡æè¦æ±æèä»¥SELECTãINSERTä¸ºä¸»çåºç¨åºæ¬ä¸é½å¯ä»¥ä½¿ç¨è¿ä¸ªå¼ææ¥åå»ºè¡¨ ãæä»¥ä¸ä¸¤ä¸ªæ¯è¾éè¦çç¹ç¹ï¼\n\n * ä¸æ¯æäºå¡\n   \n   create table goods_myisam(\n   \tid int NOT NULL AUTO_INCREMENT,\n   \tname varchar(20) NOT NULL,\n       primary key(id)\n   )ENGINE=myisam DEFAULT CHARSET=utf8;\n   \n   \n   1\n   2\n   3\n   4\n   5\n   \n   \n   \n   \n   éè¿æµè¯ï¼æä»¬åç°ï¼å¨MyISAMå­å¨å¼æä¸­ï¼æ¯æ²¡æäºå¡æ§å¶ç ï¼\n\n * æä»¶å­å¨æ¹å¼\n   \n   æ¯ä¸ªMyISAMå¨ç£çä¸å­å¨æ3ä¸ªæä»¶ï¼å¶æä»¶åé½åè¡¨åç¸åï¼ä½æå±ååå«æ¯ ï¼\n   \n   .frm (å­å¨è¡¨å®ä¹)ï¼\n   \n   .MYD(MYData , å­å¨æ°æ®)ï¼\n   \n   .MYI(MYIndex , å­å¨ç´¢å¼)ï¼\n   \n   \n\n# MEMORY\n\nMemoryå­å¨å¼æå°è¡¨çæ°æ®å­æ¾å¨åå­ä¸­ãæ¯ä¸ªMEMORYè¡¨å®éå¯¹åºä¸ä¸ªç£çæä»¶ï¼æ ¼å¼æ¯.frm ï¼è¯¥æä»¶ä¸­åªå­å¨è¡¨çç»æï¼èå¶æ°æ®æä»¶ï¼é½æ¯å­å¨å¨åå­ä¸­ï¼è¿æ ·æå©äºæ°æ®çå¿«éå¤çï¼æé«æ´ä¸ªè¡¨çæçãMEMORY ç±»åçè¡¨è®¿é®éå¸¸å°å¿«ï¼å ä¸ºä»çæ°æ®æ¯å­æ¾å¨åå­ä¸­çï¼å¹¶ä¸é»è®¤ä½¿ç¨HASHç´¢å¼ ï¼ ä½æ¯æå¡ä¸æ¦å³é­ï¼è¡¨ä¸­çæ°æ®å°±ä¼ä¸¢å¤±ã\n\n# MERGE\n\nMERGEå­å¨å¼ææ¯ä¸ç»MyISAMè¡¨çç»åï¼è¿äºMyISAMè¡¨å¿é¡»ç»æå®å¨ç¸åï¼MERGEè¡¨æ¬èº«å¹¶æ²¡æå­å¨æ°æ®ï¼å¯¹MERGEç±»åçè¡¨å¯ä»¥è¿è¡æ¥è¯¢ãæ´æ°ãå é¤æä½ï¼è¿äºæä½å®éä¸æ¯å¯¹åé¨çMyISAMè¡¨è¿è¡çã\n\nå¯¹äºMERGEç±»åè¡¨çæå¥æä½ï¼æ¯éè¿INSERT_METHODå­å¥å®ä¹æå¥çè¡¨ï¼å¯ä»¥æ3ä¸ªä¸åçå¼ï¼ä½¿ç¨FIRST æ LAST å¼ä½¿å¾æå¥æä½è¢«ç¸åºå°ä½ç¨å¨ç¬¬ä¸æèæåä¸ä¸ªè¡¨ä¸ï¼ä¸å®ä¹è¿ä¸ªå­å¥æèå®ä¹ä¸ºNOï¼è¡¨ç¤ºä¸è½å¯¹è¿ä¸ªMERGEè¡¨æ§è¡æå¥æä½ã\n\nå¯ä»¥å¯¹MERGEè¡¨è¿è¡DROPæä½ï¼ä½æ¯è¿ä¸ªæä½åªæ¯å é¤MERGEè¡¨çå®ä¹ï¼å¯¹åé¨çè¡¨æ¯æ²¡æä»»ä½å½±åçã\n\n\n\nä¸é¢æ¯ä¸ä¸ªåå»ºåä½¿ç¨MERGEè¡¨çç¤ºä¾ ï¼\n\n1ï¼. åå»º3ä¸ªæµè¯è¡¨ order_1990, order_1991, order_all , å¶ä¸­ order_all æ¯åä¸¤ä¸ªè¡¨ç MERGE è¡¨ ï¼\n\ncreate table order_1990(\n    order_id int ,\n    order_money double(10,2),\n    order_address varchar(50),\n    primary key (order_id)\n)engine = myisam default charset=utf8;\n\n\ncreate table order_1991(\n    order_id int ,\n    order_money double(10,2),\n    order_address varchar(50),\n    primary key (order_id)\n)engine = myisam default charset=utf8;\n\n\ncreate table order_all(\n    order_id int ,\n    order_money double(10,2),\n    order_address varchar(50),\n    primary key (order_id)\n)engine = merge union = (order_1990,order_1991) INSERT_METHOD=LAST default charset=utf8;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n2ï¼. åå«åä¸¤å¼ è¡¨ä¸­æå¥è®°å½\n\ninsert into order_1990 values(1,100.0,'åäº¬');\ninsert into order_1990 values(2,100.0,'ä¸æµ·');\n\ninsert into order_1991 values(10,200.0,'åäº¬');\ninsert into order_1991 values(11,200.0,'ä¸æµ·');\n\n\n1\n2\n3\n4\n5\n\n\n3ï¼. æ¥è¯¢3å¼ è¡¨ä¸­çæ°æ®ã\n\norder_1990ä¸­çæ°æ® ï¼\n\n\n\norder_1991ä¸­çæ°æ® ï¼\n\n\n\norder_allä¸­çæ°æ® ï¼\n\n\n\n4ï¼. å¾order_allä¸­æå¥ä¸æ¡è®°å½ ï¼ç±äºå¨MERGEè¡¨å®ä¹æ¶ï¼INSERT_METHOD éæ©çæ¯LASTï¼é£ä¹æå¥çæ°æ®ä¼æ³æåä¸å¼ è¡¨ä¸­æå¥ã\n\ninsert into order_all values(100,10000.0,'è¥¿å®')ï¼\n\n\n1\n\n\n\n\n\n# SQL é¢ç­\n\nå¸¸è§ç Join æ¥è¯¢å¾\n\n",normalizedContent:" * mysql é»è¾æ¶æç®ä»\n   * æ´ä½æ¶æå¾\n     * è¿æ¥å±\n     * æå¡å±\n     * å¼æå±\n     * å­å¨å±\n   * show profile\n   * å¤§è´çæ¥è¯¢æµç¨\n   * sqlçæ§è¡é¡ºåº\n * å­å¨å¼æ\n   * å­å¨å¼ææ¦è¿°\n   * åç§å­å¨å¼æç¹æ§\n     * innodb\n     * myisam\n     * memory\n     * merge\n * sql é¢ç­\n\n\n# mysql é»è¾æ¶æç®ä»\n\n\n# æ´ä½æ¶æå¾\n\n\n\nåå¶å®æ°æ®åºç¸æ¯ï¼mysql æç¹ä¸ä¼ä¸åï¼å®çæ¶æå¯ä»¥å¨å¤ç§ä¸ååºæ¯ä¸­åºç¨å¹¶åæ¥è¯å¥½ä½ç¨ãä¸»è¦ä½ç°å¨å­å¨å¼æçæ¶æä¸ï¼æä»¶å¼çå­å¨å¼ææ¶æå°æ¥è¯¢å¤çåå¶å®çç³»ç»ä»»å¡ä»¥åæ°æ®çå­å¨æåç¸åç¦»ãè¿ç§æ¶æå¯ ä»¥æ ¹æ®ä¸å¡çéæ±åå®ééè¦éæ©åéçå­å¨å¼æã\n\nåå±ä»ç»ï¼\n\n# è¿æ¥å±\n\næä¸å±æ¯ä¸äºå®¢æ·ç«¯åè¿æ¥æå¡ï¼åå«æ¬å° sock éä¿¡åå¤§å¤æ°åºäºå®¢æ·ç«¯/æå¡ç«¯å·¥å·å®ç°çç±»ä¼¼äº tcp/ip çéä¿¡ãä¸»è¦å®æä¸äºç±»ä¼¼äºè¿æ¥å¤çãææè®¤è¯ãåç¸å³çå®å¨æ¹æ¡ãå¨è¯¥å±ä¸å¼å¥äºçº¿ç¨æ± çæ¦å¿µï¼ä¸ºéè¿è®¤è¯ å®å¨æ¥å¥çå®¢æ·ç«¯æä¾çº¿ç¨ãåæ ·å¨è¯¥å±ä¸å¯ä»¥å®ç°åºäº ssl çå®å¨é¾æ¥ãæå¡å¨ä¹ä¼ä¸ºå®å¨æ¥å¥çæ¯ä¸ªå®¢æ·ç«¯éª è¯å®æå·æçæä½æéã\n\n# æå¡å±\n\n * management serveices & utilities\n   \n   ç³»ç»ç®¡çåæ§å¶å·¥å·\n\n * sql interface\n   \n   sql æ¥å£ãæ¥åç¨æ·ç sql å½ä»¤ï¼å¹¶ä¸è¿åç¨æ·éè¦æ¥è¯¢çç»æãæ¯å¦ select from å°±æ¯è°ç¨ sql interface\n\n * parser\n   \n   è§£æå¨ã sql å½ä»¤ä¼ éå°è§£æå¨çæ¶åä¼è¢«è§£æå¨éªè¯åè§£æ\n\n * optimizer\n   \n   æ¥è¯¢ä¼åå¨ã sql è¯­å¥å¨æ¥è¯¢ä¹åä¼ä½¿ç¨æ¥è¯¢ä¼åå¨å¯¹æ¥è¯¢è¿è¡ä¼åï¼æ¯å¦æ where æ¡ä»¶æ¶ï¼ä¼åå¨æ¥å³å®åæå½±è¿æ¯åè¿æ»¤ã\n\n * cache å buffer\n   \n   æ¥è¯¢ç¼å­ãå¦ææ¥è¯¢ç¼å­æå½ä¸­çæ¥è¯¢ç»æï¼æ¥è¯¢è¯­å¥å°±å¯ä»¥ç´æ¥å»æ¥è¯¢ç¼å­ä¸­åæ°æ®ãè¿ä¸ªç¼å­æºå¶æ¯ç±ä¸ç³»åå°ç¼å­ç»æçãæ¯å¦è¡¨ç¼å­ï¼è®°å½ç¼å­ï¼key ç¼å­ï¼ æéç¼å­ç­\n   \n   æ³¨ï¼mysql 8.x åæ¶äºæ¥è¯¢ç¼å­\n\n# å¼æå±\n\nå­å¨å¼æå±ï¼å­å¨å¼æçæ­£çè´è´£äº mysql ä¸­æ°æ®çå­å¨åæåï¼æå¡å¨éè¿ api ä¸å­å¨å¼æè¿è¡éä¿¡ãä¸å çå­å¨å¼æå·æçåè½ä¸åï¼è¿æ ·æä»¬å¯ä»¥æ ¹æ®èªå·±çå®ééè¦è¿è¡éåã\n\n# å­å¨å±\n\næ°æ®å­å¨å±ï¼ä¸»è¦æ¯å°æ°æ®å­å¨å¨è¿è¡äºè£¸è®¾å¤çæä»¶ç³»ç»ä¹ä¸ï¼å¹¶å®æä¸å­å¨å¼æçäº¤äºã\n\n\n# show profile\n\nå©ç¨ show profile å¯ä»¥æ¥ç sql çæ§è¡å¨æï¼\n\nå¼å¯ profile\n\næ¥ç profile æ¯å¦å¼å¯ï¼show variables like '%profiling%'\n\nmysql> show variables like '%profiling%';\n+------------------------+-------+\n| variable_name          | value |\n+------------------------+-------+\n| have_profiling         | yes   |\n| profiling              | off   |\n| profiling_history_size | 15    |\n+------------------------+-------+\n3 rows in set (0.01 sec)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nå¦ææ²¡æå¼å¯ï¼å¯ä»¥æ§è¡ set profiling=1 å¼å¯ï¼\n\nä½¿ç¨ profile\n\næ§è¡ show profiles; å½ä»¤ï¼å¯ä»¥æ¥çæè¿çå æ¬¡æ¥è¯¢ã\n\næ ¹æ® query_idï¼å¯ä»¥è¿ä¸æ­¥æ§è¡ show profile cpu,block io for query query_id æ¥æ¥ç sql çå·ä½æ§è¡æ­¥éª¤ã\n\n\n# å¤§è´çæ¥è¯¢æµç¨\n\nmysql çæ¥è¯¢æµç¨å¤§è´æ¯ï¼\n\nmysql å®¢æ·ç«¯éè¿åè®®ä¸ mysql æå¡å¨å»ºè¿æ¥ï¼åéæ¥è¯¢è¯­å¥ï¼åæ£æ¥æ¥è¯¢ç¼å­ï¼å¦æå½ä¸­ï¼ç´æ¥è¿åç»æï¼ å¦åè¿è¡è¯­å¥è§£æ,ä¹å°±æ¯è¯´ï¼å¨è§£ææ¥è¯¢ä¹åï¼æå¡å¨ä¼åè®¿é®æ¥è¯¢ç¼å­(query cache)ââå®å­å¨ select è¯­å¥ä»¥å ç¸åºçæ¥è¯¢ç»æéãå¦ææä¸ªæ¥è¯¢ç»æå·²ç»ä½äºç¼å­ä¸­ï¼æå¡å¨å°±ä¸ä¼åå¯¹æ¥è¯¢è¿è¡è§£æãä¼åãä»¥åæ§è¡ãå®ä»ä»å°ç¼å­ä¸­çç»æè¿åç»ç¨æ·å³å¯ï¼è¿å°å¤§å¤§æé«ç³»ç»çæ§è½ã\n\nè¯­æ³è§£æå¨åé¢å¤çï¼é¦å mysql éè¿å³é®å­å° sql è¯­å¥è¿è¡è§£æï¼å¹¶çæä¸é¢å¯¹åºçâè§£ææ âãmysql è§£æå¨å°ä½¿ç¨ mysql è¯­æ³è§åéªè¯åè§£ææ¥è¯¢ï¼é¢å¤çå¨åæ ¹æ®ä¸äº mysql è§åè¿ä¸æ­¥æ£æ¥è§£ææ°æ¯å¦åæ³ã\n\næ¥è¯¢ä¼åå¨å½è§£ææ è¢«è®¤ä¸ºæ¯åæ³çäºï¼å¹¶ä¸ç±ä¼åå¨å°å¶è½¬åææ§è¡è®¡åãä¸æ¡æ¥è¯¢å¯ä»¥æå¾å¤ç§æ§è¡æ¹å¼ï¼ æåé½è¿åç¸åçç»æãä¼åå¨çä½ç¨å°±æ¯æ¾å°è¿å¶ä¸­æå¥½çæ§è¡è®¡åã\n\nç¶åï¼mysql é»è®¤ä½¿ç¨ç btree ç´¢å¼ï¼å¹¶ä¸ä¸ä¸ªå¤§è´æ¹åæ¯ï¼æ è®ºæä¹æè¾ sqlï¼è³å°å¨ç®åæ¥è¯´ï¼mysql æå¤åªç¨å°è¡¨ä¸­çä¸ä¸ªç´¢å¼ã\n\n\n# sqlçæ§è¡é¡ºåº\n\næåçé¡ºåºï¼\n\n\n\nçæ­£æ§è¡çé¡ºåºï¼\n\néç mysql çæ¬çæ´æ°æ¢ä»£ï¼å¶ä¼åå¨ä¹å¨ä¸æ­çåçº§ï¼ä¼åå¨ä¼åæä¸åæ§è¡é¡ºåºäº§ççæ§è½æ¶èä¸åèå¨ æè°æ´æ§è¡é¡ºåºãä¸é¢æ¯ç»å¸¸åºç°çæ¥è¯¢é¡ºåºï¼\n\n\n\n\n\n\n# å­å¨å¼æ\n\n\n# å­å¨å¼ææ¦è¿°\n\nåå¤§å¤æ°çæ°æ®åºä¸å, mysqlä¸­æä¸ä¸ªå­å¨å¼æçæ¦å¿µ, éå¯¹ä¸åçå­å¨éæ±å¯ä»¥éæ©æä¼çå­å¨å¼æã\n\nå­å¨å¼æå°±æ¯å­å¨æ°æ®ï¼å»ºç«ç´¢å¼ï¼æ´æ°æ¥è¯¢æ°æ®ç­ç­ææ¯çå®ç°æ¹å¼ ãå­å¨å¼ææ¯åºäºè¡¨çï¼èä¸æ¯åºäºåºçãæä»¥å­å¨å¼æä¹å¯è¢«ç§°ä¸ºè¡¨ç±»åã\n\noracleï¼sqlserverç­æ°æ®åºåªæä¸ç§å­å¨å¼æãmysqlæä¾äºæä»¶å¼çå­å¨å¼ææ¶æãæä»¥mysqlå­å¨å¤ç§å­å¨å¼æï¼å¯ä»¥æ ¹æ®éè¦ä½¿ç¨ç¸åºå¼æï¼æèç¼åå­å¨å¼æã\n\nmysql5.0æ¯æçå­å¨å¼æåå« ï¼ innodb ãmyisam ãbdbãmemoryãmergeãexampleãndb clusterãarchiveãcsvãblackholeãfederatedç­ï¼å¶ä¸­innodbåbdbæä¾äºå¡å®å¨è¡¨ï¼å¶ä»å­å¨å¼ææ¯éäºå¡å®å¨è¡¨ã\n\néè¿æä»¤æ¥è¯¢å½åæ°æ®åºæ¯æçå­å¨å¼æ ï¼\n\nshow engines\n\n\n1\n\n\n\n\nåå»ºæ°è¡¨æ¶å¦æä¸æå®å­å¨å¼æï¼é£ä¹ç³»ç»å°±ä¼ä½¿ç¨é»è®¤çå­å¨å¼æï¼mysql5.5ä¹åçé»è®¤å­å¨å¼ææ¯myisamï¼5.5ä¹åå°±æ¹ä¸ºäºinnodbã\n\næ¥çmysqlæ°æ®åºé»è®¤çå­å¨å¼æ ï¼ æä»¤ ï¼\n\nshow variables like '%storage_engine%' ï¼ \n\n\n1\n\n\n\n\n\n# åç§å­å¨å¼æç¹æ§\n\nä¸é¢éç¹ä»ç»å ç§å¸¸ç¨çå­å¨å¼æï¼ å¹¶å¯¹æ¯åä¸ªå­å¨å¼æä¹é´çåºå«ï¼ å¦ä¸è¡¨æç¤º ï¼\n\nç¹ç¹       innodb        myisam   memory   merge   ndb\nå­å¨éå¶     64tb          æ        æ        æ²¡æ      æ\näºå¡å®å¨     æ¯æ                                      \néæºå¶      è¡é(éåé«å¹¶å)     è¡¨é       è¡¨é       è¡¨é      è¡é\nbæ ç´¢å¼     æ¯æ            æ¯æ       æ¯æ       æ¯æ      æ¯æ\nåå¸ç´¢å¼                            æ¯æ               \nå¨æç´¢å¼     æ¯æ(5.6çæ¬ä¹å)   æ¯æ                        \néç¾¤ç´¢å¼     æ¯æ                                      \næ°æ®ç´¢å¼     æ¯æ                     æ¯æ               æ¯æ\nç´¢å¼ç¼å­     æ¯æ            æ¯æ       æ¯æ       æ¯æ      æ¯æ\næ°æ®å¯åç¼©                  æ¯æ                        \nç©ºé´ä½¿ç¨     é«             ä½        n/a      ä½       ä½\nåå­ä½¿ç¨     é«             ä½        ä¸­ç­       ä½       é«\næ¹éæå¥éåº¦   ä½             é«        é«        é«       é«\næ¯æå¤é®     æ¯æ                                      \n\nä¸é¢æä»¬å°éç¹ä»ç»æé¿ä½¿ç¨çä¸¤ç§å­å¨å¼æï¼ innodbãmyisam ï¼ å¦å¤ä¸¤ç§ memoryãmerge ï¼ äºè§£å³å¯ã\n\n# innodb\n\ninnodb å­å¨å¼ææ¯ mysql çé»è®¤å­å¨å¼æã\n\ninnodbå­å¨å¼ææä¾äºå·ææäº¤ãåæ»ãå´©æºæ¢å¤è½åçäºå¡å®å¨ãä½æ¯å¯¹æ¯ myisam çå­å¨å¼æï¼innodb åçå¤çæçå·®ä¸äºï¼å¹¶ä¸ä¼å ç¨æ´å¤çç£çç©ºé´ä»¥ä¿çæ°æ®åç´¢å¼ã\n\ninnodb å­å¨å¼æä¸åäºå¶ä»å­å¨å¼æçç¹ç¹ ï¼\n\n * äºå¡æ§å¶\n   \n   **\n   \n   create table goods_innodb(\n   \tid int not null auto_increment,\n   \tname varchar(20) not null,\n       primary key(id)\n   )engine=innodb default charset=utf8;\n   \n   \n   1\n   2\n   3\n   4\n   5\n   \n   \n   #1\n   start transaction;\n   #2\n   insert into goods_innodb(id,name)values(null,'meta20');\n   #3\n   commit;\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   \n   \n   \n   \n   æµè¯åç°å¨ innodb ä¸­æ¯å­å¨äºå¡ç ï¼\n\n * å¤é®çº¦æ\n   \n   mysqlæ¯æå¤é®çå­å¨å¼æåªæ innodb ï¼ å¨åå»ºå¤é®çæ¶åï¼ è¦æ±ç¶è¡¨å¿é¡»æå¯¹åºçç´¢å¼ ï¼å­è¡¨å¨åå»ºå¤é®çæ¶åï¼ä¹ä¼èªå¨çåå»ºå¯¹åºçç´¢å¼ã\n   \n   ä¸é¢ä¸¤å¼ è¡¨ä¸­ ï¼ country_innodb æ¯ç¶è¡¨ ï¼ country_id ä¸ºä¸»é®ç´¢å¼ï¼city_innodb è¡¨æ¯å­è¡¨ï¼country_id å­æ®µä¸ºå¤é®ï¼å¯¹åºäº country_innodb è¡¨çä¸»é® country_id ã\n   \n   create table country_innodb(\n   \tcountry_id int not null auto_increment,\n       country_name varchar(100) not null,\n       primary key(country_id)\n   )engine=innodb default charset=utf8;\n   \n   \n   create table city_innodb(\n   \tcity_id int not null auto_increment,\n       city_name varchar(50) not null,\n       country_id int not null,\n       primary key(city_id),\n       key idx_fk_country_id(country_id),\n       constraint `fk_city_country` foreign key(country_id) references country_innodb(country_id) on delete restrict on update cascade\n   )engine=innodb default charset=utf8;\n   \n   \n   \n   insert into country_innodb values(null,'china'),(null,'america'),(null,'japan');\n   insert into city_innodb values(null,'xian',1),(null,'newyork',2),(null,'beijing',1);\n   \n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   \n   \n   å¨åå»ºç´¢å¼æ¶ï¼ å¯ä»¥æå®å¨å é¤ãæ´æ°ç¶è¡¨æ¶ï¼å¯¹å­è¡¨è¿è¡çç¸åºæä½ï¼åæ¬ restrictãcascadeãset null å no actionã\n   \n   restrict åno action ç¸åï¼ æ¯æéå¶å¨å­è¡¨æå³èè®°å½çæåµä¸ï¼ ç¶è¡¨ä¸è½æ´æ°ï¼\n   \n   cascade è¡¨ç¤ºç¶è¡¨å¨æ´æ°æèå é¤æ¶ï¼æ´æ°æèå é¤å­è¡¨å¯¹åºçè®°å½ï¼\n   \n   set null åè¡¨ç¤ºç¶è¡¨å¨æ´æ°æèå é¤çæ¶åï¼å­è¡¨çå¯¹åºå­æ®µè¢«set null ã\n   \n   éå¯¹ä¸é¢åå»ºçä¸¤ä¸ªè¡¨ï¼ å­è¡¨çå¤é®æå®æ¯on delete restrict on update cascade æ¹å¼çï¼ é£ä¹å¨ä¸»è¡¨å é¤è®°å½çæ¶åï¼ å¦æå­è¡¨æå¯¹åºè®°å½ï¼ åä¸åè®¸å é¤ï¼ ä¸»è¡¨å¨æ´æ°è®°å½çæ¶åï¼ å¦æå­è¡¨æå¯¹åºè®°å½ï¼ åå­è¡¨å¯¹åºæ´æ° ã\n   \n   è¡¨ä¸­æ°æ®å¦ä¸å¾æç¤º ï¼\n   \n   \n   \n   æ¥çå¤é®ä¿¡æ¯\n   \n   show create table city_innodb ;\n   \n   \n   1\n   \n   \n   \n   \n   å é¤ country_idä¸º 1 ç country æ°æ®ï¼æå¤é®æ¶ä¼å é¤å¤±è´¥\n   \n   \n   \n   æ´æ°ä¸»è¡¨countryè¡¨çå­æ®µ country_id æ¶\n   \n   update country_innodb set country_id = 100 where country_id = 1;\n   \n   \n   1\n   \n   \n   \n   \n   æ´æ°åï¼ å­è¡¨çæ°æ®ä¿¡æ¯ä¸º ï¼\n   \n   \n\n * å­å¨æ¹å¼\n   \n   innodb å­å¨è¡¨åç´¢å¼æä»¥ä¸ä¸¤ç§æ¹å¼ ï¼\n   \n   â . ä½¿ç¨å±äº«è¡¨ç©ºé´å­å¨ï¼ è¿ç§æ¹å¼åå»ºçè¡¨çè¡¨ç»æä¿å­å¨ .frmæä»¶ä¸­ï¼ æ°æ®åç´¢å¼ä¿å­å¨ innodb_data_home_dir å innodb_data_file_path å®ä¹çè¡¨ç©ºé´ä¸­ï¼å¯ä»¥æ¯å¤ä¸ªæä»¶ã\n   \n   â¡. ä½¿ç¨å¤è¡¨ç©ºé´å­å¨ï¼ è¿ç§æ¹å¼åå»ºçè¡¨çè¡¨ç»æä»ç¶å­å¨ .frm æä»¶ä¸­ï¼ä½æ¯æ¯ä¸ªè¡¨çæ°æ®åç´¢å¼åç¬ä¿å­å¨ .ibd ä¸­ã\n   \n   \n\n# myisam\n\nmyisam ä¸æ¯æäºå¡ãä¹ä¸æ¯æå¤é®ï¼å¶ä¼å¿æ¯è®¿é®çéåº¦å¿«ï¼å¯¹äºå¡çå®æ´æ§æ²¡æè¦æ±æèä»¥selectãinsertä¸ºä¸»çåºç¨åºæ¬ä¸é½å¯ä»¥ä½¿ç¨è¿ä¸ªå¼ææ¥åå»ºè¡¨ ãæä»¥ä¸ä¸¤ä¸ªæ¯è¾éè¦çç¹ç¹ï¼\n\n * ä¸æ¯æäºå¡\n   \n   create table goods_myisam(\n   \tid int not null auto_increment,\n   \tname varchar(20) not null,\n       primary key(id)\n   )engine=myisam default charset=utf8;\n   \n   \n   1\n   2\n   3\n   4\n   5\n   \n   \n   \n   \n   éè¿æµè¯ï¼æä»¬åç°ï¼å¨myisamå­å¨å¼æä¸­ï¼æ¯æ²¡æäºå¡æ§å¶ç ï¼\n\n * æä»¶å­å¨æ¹å¼\n   \n   æ¯ä¸ªmyisamå¨ç£çä¸å­å¨æ3ä¸ªæä»¶ï¼å¶æä»¶åé½åè¡¨åç¸åï¼ä½æå±ååå«æ¯ ï¼\n   \n   .frm (å­å¨è¡¨å®ä¹)ï¼\n   \n   .myd(mydata , å­å¨æ°æ®)ï¼\n   \n   .myi(myindex , å­å¨ç´¢å¼)ï¼\n   \n   \n\n# memory\n\nmemoryå­å¨å¼æå°è¡¨çæ°æ®å­æ¾å¨åå­ä¸­ãæ¯ä¸ªmemoryè¡¨å®éå¯¹åºä¸ä¸ªç£çæä»¶ï¼æ ¼å¼æ¯.frm ï¼è¯¥æä»¶ä¸­åªå­å¨è¡¨çç»æï¼èå¶æ°æ®æä»¶ï¼é½æ¯å­å¨å¨åå­ä¸­ï¼è¿æ ·æå©äºæ°æ®çå¿«éå¤çï¼æé«æ´ä¸ªè¡¨çæçãmemory ç±»åçè¡¨è®¿é®éå¸¸å°å¿«ï¼å ä¸ºä»çæ°æ®æ¯å­æ¾å¨åå­ä¸­çï¼å¹¶ä¸é»è®¤ä½¿ç¨hashç´¢å¼ ï¼ ä½æ¯æå¡ä¸æ¦å³é­ï¼è¡¨ä¸­çæ°æ®å°±ä¼ä¸¢å¤±ã\n\n# merge\n\nmergeå­å¨å¼ææ¯ä¸ç»myisamè¡¨çç»åï¼è¿äºmyisamè¡¨å¿é¡»ç»æå®å¨ç¸åï¼mergeè¡¨æ¬èº«å¹¶æ²¡æå­å¨æ°æ®ï¼å¯¹mergeç±»åçè¡¨å¯ä»¥è¿è¡æ¥è¯¢ãæ´æ°ãå é¤æä½ï¼è¿äºæä½å®éä¸æ¯å¯¹åé¨çmyisamè¡¨è¿è¡çã\n\nå¯¹äºmergeç±»åè¡¨çæå¥æä½ï¼æ¯éè¿insert_methodå­å¥å®ä¹æå¥çè¡¨ï¼å¯ä»¥æ3ä¸ªä¸åçå¼ï¼ä½¿ç¨first æ last å¼ä½¿å¾æå¥æä½è¢«ç¸åºå°ä½ç¨å¨ç¬¬ä¸æèæåä¸ä¸ªè¡¨ä¸ï¼ä¸å®ä¹è¿ä¸ªå­å¥æèå®ä¹ä¸ºnoï¼è¡¨ç¤ºä¸è½å¯¹è¿ä¸ªmergeè¡¨æ§è¡æå¥æä½ã\n\nå¯ä»¥å¯¹mergeè¡¨è¿è¡dropæä½ï¼ä½æ¯è¿ä¸ªæä½åªæ¯å é¤mergeè¡¨çå®ä¹ï¼å¯¹åé¨çè¡¨æ¯æ²¡æä»»ä½å½±åçã\n\n\n\nä¸é¢æ¯ä¸ä¸ªåå»ºåä½¿ç¨mergeè¡¨çç¤ºä¾ ï¼\n\n1ï¼. åå»º3ä¸ªæµè¯è¡¨ order_1990, order_1991, order_all , å¶ä¸­ order_all æ¯åä¸¤ä¸ªè¡¨ç merge è¡¨ ï¼\n\ncreate table order_1990(\n    order_id int ,\n    order_money double(10,2),\n    order_address varchar(50),\n    primary key (order_id)\n)engine = myisam default charset=utf8;\n\n\ncreate table order_1991(\n    order_id int ,\n    order_money double(10,2),\n    order_address varchar(50),\n    primary key (order_id)\n)engine = myisam default charset=utf8;\n\n\ncreate table order_all(\n    order_id int ,\n    order_money double(10,2),\n    order_address varchar(50),\n    primary key (order_id)\n)engine = merge union = (order_1990,order_1991) insert_method=last default charset=utf8;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n2ï¼. åå«åä¸¤å¼ è¡¨ä¸­æå¥è®°å½\n\ninsert into order_1990 values(1,100.0,'åäº¬');\ninsert into order_1990 values(2,100.0,'ä¸æµ·');\n\ninsert into order_1991 values(10,200.0,'åäº¬');\ninsert into order_1991 values(11,200.0,'ä¸æµ·');\n\n\n1\n2\n3\n4\n5\n\n\n3ï¼. æ¥è¯¢3å¼ è¡¨ä¸­çæ°æ®ã\n\norder_1990ä¸­çæ°æ® ï¼\n\n\n\norder_1991ä¸­çæ°æ® ï¼\n\n\n\norder_allä¸­çæ°æ® ï¼\n\n\n\n4ï¼. å¾order_allä¸­æå¥ä¸æ¡è®°å½ ï¼ç±äºå¨mergeè¡¨å®ä¹æ¶ï¼insert_method éæ©çæ¯lastï¼é£ä¹æå¥çæ°æ®ä¼æ³æåä¸å¼ è¡¨ä¸­æå¥ã\n\ninsert into order_all values(100,10000.0,'è¥¿å®')ï¼\n\n\n1\n\n\n\n\n\n# sql é¢ç­\n\nå¸¸è§ç join æ¥è¯¢å¾\n\n",charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"MySQL - ç´¢å¼çä½¿ç¨",frontmatter:{title:"MySQL - ç´¢å¼çä½¿ç¨",permalink:"/mysql/index-use/",date:"2021-05-20T20:51:46.000Z"},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/05.MySQL/12.MySQL%20-%20%E7%B4%A2%E5%BC%95%E7%9A%84%E4%BD%BF%E7%94%A8.html",relativePath:"03.æ°æ®åº/05.MySQL/12.MySQL - ç´¢å¼çä½¿ç¨.md",key:"v-7e2b9df0",path:"/mysql/index-use/",headers:[{level:2,title:"éªè¯ç´¢å¼æåæ¥è¯¢æç",slug:"éªè¯ç´¢å¼æåæ¥è¯¢æç",normalizedTitle:"éªè¯ç´¢å¼æåæ¥è¯¢æç",charIndex:14},{level:2,title:"åå¤ç¯å¢",slug:"åå¤ç¯å¢",normalizedTitle:"åå¤ç¯å¢",charIndex:30},{level:2,title:"é¿åç´¢å¼å¤±æ",slug:"é¿åç´¢å¼å¤±æ",normalizedTitle:"é¿åç´¢å¼å¤±æ",charIndex:40},{level:2,title:"æ¥çç´¢å¼ä½¿ç¨æåµ",slug:"æ¥çç´¢å¼ä½¿ç¨æåµ",normalizedTitle:"æ¥çç´¢å¼ä½¿ç¨æåµ",charIndex:52},{level:2,title:"ç»ä¹ ",slug:"ç»ä¹ ",normalizedTitle:"ç»ä¹ ",charIndex:66}],headersStr:"éªè¯ç´¢å¼æåæ¥è¯¢æç åå¤ç¯å¢ é¿åç´¢å¼å¤±æ æ¥çç´¢å¼ä½¿ç¨æåµ ç»ä¹ ",content:" * ç´¢å¼çä½¿ç¨\n   * éªè¯ç´¢å¼æåæ¥è¯¢æç\n   * åå¤ç¯å¢\n   * é¿åç´¢å¼å¤±æ\n   * æ¥çç´¢å¼ä½¿ç¨æåµ\n   * ç»ä¹ \n\n\n# ç´¢å¼çä½¿ç¨\n\nç´¢å¼æ¯æ°æ®åºä¼åæå¸¸ç¨ä¹æ¯æéè¦çææ®µä¹ä¸, éè¿ç´¢å¼éå¸¸å¯ä»¥å¸®å©ç¨æ·è§£å³å¤§å¤æ°çMySQLçæ§è½ä¼åé®é¢ã\n\n\n# éªè¯ç´¢å¼æåæ¥è¯¢æç\n\nå¨æä»¬åå¤çè¡¨ç»æ tb_item ä¸­ï¼ ä¸å±å­å¨äº 300 ä¸è®°å½ï¼\n\n1). æ ¹æ®IDæ¥è¯¢\n\nselect * from tb_item where id = 1999\\G;\n\n\n1\n\n\n\n\næ¥è¯¢éåº¦å¾å¿«ï¼ æ¥è¿0s ï¼ ä¸»è¦çåå æ¯å ä¸ºidä¸ºä¸»é®ï¼ æç´¢å¼ï¼\n\n\n\n2). æ ¹æ® title è¿è¡ç²¾ç¡®æ¥è¯¢\n\nselect * from tb_item where title = 'iphoneX ç§»å¨3G 32G941'\\G; \n\n\n1\n\n\n\n\næ¥çSQLè¯­å¥çæ§è¡è®¡å ï¼\n\n\n\nå¤çæ¹æ¡ ï¼ éå¯¹titleå­æ®µï¼ åå»ºç´¢å¼ ï¼\n\ncreate index idx_item_title on tb_item(title);\n\n\n1\n\n\n\n\nç´¢å¼åå»ºå®æä¹åï¼åæ¬¡è¿è¡æ¥è¯¢ ï¼\n\n\n\néè¿ explain ï¼ æ¥çæ§è¡è®¡åï¼æ§è¡SQLæ¶ä½¿ç¨äºåæåå»ºçç´¢å¼\n\n\n\n\n# åå¤ç¯å¢\n\ncreate table `tb_seller` (\n\t`sellerid` varchar (100),\n\t`name` varchar (100),\n\t`nickname` varchar (50),\n\t`password` varchar (60),\n\t`status` varchar (1),\n\t`address` varchar (100),\n\t`createtime` datetime,\n    primary key(`sellerid`)\n)engine=innodb default charset=utf8mb4; \n\ninsert into `tb_seller` (`sellerid`, `name`, `nickname`, `password`, `status`, `address`, `createtime`) values('alibaba','é¿éå·´å·´','é¿éå°åº','e10adc3949ba59abbe56e057f20f883e','1','åäº¬å¸','2088-01-01 12:00:00');\ninsert into `tb_seller` (`sellerid`, `name`, `nickname`, `password`, `status`, `address`, `createtime`) values('baidu','ç¾åº¦ç§ææéå¬å¸','ç¾åº¦å°åº','e10adc3949ba59abbe56e057f20f883e','1','åäº¬å¸','2088-01-01 12:00:00');\ninsert into `tb_seller` (`sellerid`, `name`, `nickname`, `password`, `status`, `address`, `createtime`) values('huawei','åä¸ºç§ææéå¬å¸','åä¸ºå°åº','e10adc3949ba59abbe56e057f20f883e','0','åäº¬å¸','2088-01-01 12:00:00');\ninsert into `tb_seller` (`sellerid`, `name`, `nickname`, `password`, `status`, `address`, `createtime`) values('itcast','ä¼ æºæ­å®¢æè²ç§ææéå¬å¸','ä¼ æºæ­å®¢','e10adc3949ba59abbe56e057f20f883e','1','åäº¬å¸','2088-01-01 12:00:00');\ninsert into `tb_seller` (`sellerid`, `name`, `nickname`, `password`, `status`, `address`, `createtime`) values('itheima','é»é©¬ç¨åºå','é»é©¬ç¨åºå','e10adc3949ba59abbe56e057f20f883e','0','åäº¬å¸','2088-01-01 12:00:00');\ninsert into `tb_seller` (`sellerid`, `name`, `nickname`, `password`, `status`, `address`, `createtime`) values('luoji','ç½æç§ææéå¬å¸','ç½æå°åº','e10adc3949ba59abbe56e057f20f883e','1','åäº¬å¸','2088-01-01 12:00:00');\ninsert into `tb_seller` (`sellerid`, `name`, `nickname`, `password`, `status`, `address`, `createtime`) values('oppo','OPPOç§ææéå¬å¸','OPPOå®æ¹æè°åº','e10adc3949ba59abbe56e057f20f883e','0','åäº¬å¸','2088-01-01 12:00:00');\ninsert into `tb_seller` (`sellerid`, `name`, `nickname`, `password`, `status`, `address`, `createtime`) values('ourpalm','æè¶£ç§æè¡ä»½æéå¬å¸','æè¶£å°åº','e10adc3949ba59abbe56e057f20f883e','1','åäº¬å¸','2088-01-01 12:00:00');\ninsert into `tb_seller` (`sellerid`, `name`, `nickname`, `password`, `status`, `address`, `createtime`) values('qiandu','ååº¦ç§æ','ååº¦å°åº','e10adc3949ba59abbe56e057f20f883e','2','åäº¬å¸','2088-01-01 12:00:00');\ninsert into `tb_seller` (`sellerid`, `name`, `nickname`, `password`, `status`, `address`, `createtime`) values('sina','æ°æµªç§ææéå¬å¸','æ°æµªå®æ¹æè°åº','e10adc3949ba59abbe56e057f20f883e','1','åäº¬å¸','2088-01-01 12:00:00');\ninsert into `tb_seller` (`sellerid`, `name`, `nickname`, `password`, `status`, `address`, `createtime`) values('xiaomi','å°ç±³ç§æ','å°ç±³å®æ¹æè°åº','e10adc3949ba59abbe56e057f20f883e','1','è¥¿å®å¸','2088-01-01 12:00:00');\ninsert into `tb_seller` (`sellerid`, `name`, `nickname`, `password`, `status`, `address`, `createtime`) values('yijia','å®å®¶å®¶å±','å®å®¶å®¶å±æè°åº','e10adc3949ba59abbe56e057f20f883e','1','åäº¬å¸','2088-01-01 12:00:00');\n\n\ncreate index idx_seller_name_sta_addr on tb_seller(name,status,address);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# é¿åç´¢å¼å¤±æ\n\n1). å¨å¼å¹é ï¼å¯¹ç´¢å¼ä¸­ææåé½æå®å·ä½å¼ã\n\nè¯¥æåµä¸ï¼ç´¢å¼çæï¼æ§è¡æçé«ã\n\nexplain select * from tb_seller where name='å°ç±³ç§æ' and status='1' and address='åäº¬å¸'\\G;\n\n\n1\n\n\n\n\n2). æå·¦åç¼æ³å\n\nå¦æç´¢å¼äºå¤åï¼å¤åç´¢å¼ï¼ï¼è¦éµå®æå·¦åç¼æ³åãæçæ¯æ¥è¯¢ä»ç´¢å¼çæå·¦ååå¼å§ï¼å¹¶ä¸ä¸è·³è¿ç´¢å¼ä¸­çåã\n\nå¹éæå·¦åç¼æ³åï¼èµ°ç´¢å¼ï¼\n\n\n\nè¿æ³æå·¦åç¼æ³å ï¼ ç´¢å¼å¤±æï¼\n\n\n\nå¦æç¬¦åæå·¦æ³åï¼ä½æ¯åºç°è·³è·æä¸åï¼åªææå·¦åç´¢å¼çæï¼\n\n\n\n3). èå´æ¥è¯¢ï¼ä¸è½ä½¿ç¨ç´¢å¼ ã\n\n\n\næ ¹æ®åé¢çä¸¤ä¸ªå­æ®µname ï¼ status æ¥è¯¢æ¯èµ°ç´¢å¼çï¼ ä½æ¯æåä¸ä¸ªæ¡ä»¶address æ²¡æç¨å°ç´¢å¼ã\n\n4). ä¸è¦å¨ç´¢å¼åä¸è¿è¡è¿ç®æä½ï¼å¦åç´¢å¼å°å¤±æã\n\n\n\n5). å­ç¬¦ä¸²ä¸å åå¼å·ï¼é æç´¢å¼å¤±æã\n\n\n\nå¨æ¥è¯¢æ¶ï¼æ²¡æå¯¹å­ç¬¦ä¸²å åå¼å·ï¼MySQLçæ¥è¯¢ä¼åå¨ï¼ä¼èªå¨çè¿è¡ç±»åè½¬æ¢ï¼é æç´¢å¼å¤±æã\n\n**6). å°½éä½¿ç¨è¦çç´¢å¼ï¼é¿åselect **\n\nå°½éä½¿ç¨è¦çç´¢å¼ï¼åªè®¿é®ç´¢å¼çæ¥è¯¢ï¼ç´¢å¼åå®å¨åå«æ¥è¯¢åï¼ï¼ï¼åå°select * ã\n\n\n\nå¦ææ¥è¯¢åï¼è¶åºç´¢å¼åï¼ä¹ä¼éä½æ§è½ã\n\n\n\nExtraï¼\n\n * using index\n   \n   ä½¿ç¨è¦çç´¢å¼çæ¶åå°±ä¼åºç°\n\n * using where\n   \n   å¨æ¥æ¾ä½¿ç¨ç´¢å¼çæåµä¸ï¼éè¦åè¡¨å»æ¥è¯¢æéçæ°æ®\n\n * using index condition\n   \n   æ¥æ¾ä½¿ç¨äºç´¢å¼ï¼ä½æ¯éè¦åè¡¨æ¥è¯¢æ°æ®\n\n * using index ; using where\n   \n   æ¥æ¾ä½¿ç¨äºç´¢å¼ï¼ä½æ¯éè¦çæ°æ®é½å¨ç´¢å¼åä¸­è½æ¾å°ï¼æä»¥ä¸éè¦åè¡¨æ¥è¯¢æ°æ®\n\n7). ç¨oråå²å¼çæ¡ä»¶ï¼ å¦æoråçæ¡ä»¶ä¸­çåæç´¢å¼ï¼èåé¢çåä¸­æ²¡æç´¢å¼ï¼é£ä¹æ¶åçç´¢å¼é½ä¸ä¼è¢«ç¨å°ã\n\nç¤ºä¾ï¼nameå­æ®µæ¯ç´¢å¼å ï¼ ècreatetimeä¸æ¯ç´¢å¼åï¼ä¸­é´æ¯orè¿è¡è¿æ¥æ¯ä¸èµ°ç´¢å¼ç ï¼\n\nexplain select * from tb_seller where name='é»é©¬ç¨åºå' or createtime = '2088-01-01 12:00:00'\\G;\t\n\n\n1\n\n\n\n\n8). ä»¥%å¼å¤´çLikeæ¨¡ç³æ¥è¯¢ï¼ç´¢å¼å¤±æã\n\nå¦æä»ä»æ¯å°¾é¨æ¨¡ç³å¹éï¼ç´¢å¼ä¸ä¼å¤±æãå¦ææ¯å¤´é¨æ¨¡ç³å¹éï¼ç´¢å¼å¤±æã\n\nexplain select * from tb_seller where name like \"%é»é©¬ç¨åºå\";\n\n\n1\n\n\n\n\nè§£å³æ¹æ¡ ï¼\n\néè¿è¦çç´¢å¼æ¥è§£å³ (ä¸ç¨ select *)\n\n\n\n9). å¦æMySQLè¯ä¼°ä½¿ç¨ç´¢å¼æ¯å¨è¡¨æ´æ¢ï¼åä¸ä½¿ç¨ç´¢å¼ã\n\næä»¬åç» address åå»ºç´¢å¼\n\ncreate index idx_seller_address on tb_seller(address);\n\n\n1\n\n\nå¨æä»¬è¡¨ tb_seller ä¸­ï¼12æ¡å°åºæ°æ®å¶ä¸­11ä¸ªæ¯åäº¬å¸\n\næ¥åäº¬å°åºçèµ°å¨è¡¨æ«æ\n\n\n\nä½¿ç¨è¦çæ¥è¯¢ä¼èµ°ç´¢å¼\n\n explain select address  from tb_seller where address='åäº¬å¸';\n\n\n1\n\n\n10). is NULL ï¼ is NOT NULL ææ¶ç´¢å¼å¤±æã\n\nåä¸ä¸æ¡ï¼9ï¼å·®ä¸å¤ã\n\n\n\n11). in èµ°ç´¢å¼ï¼ not in ç´¢å¼å¤±æã\n\nå¨mysql 5.6ä¸­\n\n\n\nä¸ªäººçè§£ï¼not in å¤æ­ä¸å­å¨çï¼éè¦å¯¹è¡¨è¿è¡å¤§é¨åæ°æ®æ«æï¼ç±»ä¼¼äºç¬¬ä¹æ¡\n\nmysql 5.7ä¸­é½ä¸å¤±æï¼\n\n\n\n12). ååç´¢å¼åå¤åç´¢å¼ã\n\nå°½éä½¿ç¨å¤åç´¢å¼ï¼èå°ä½¿ç¨ååç´¢å¼ ã\n\nåå»ºå¤åç´¢å¼\n\ncreate index idx_name_sta_address on tb_seller(name, status, address);\n\n--å°±ç¸å½äºåå»ºäºä¸ä¸ªç´¢å¼ ï¼ \n--\tname\n--\tname + status\n--\tname + status + address\n\n\n1\n2\n3\n4\n5\n6\n\n\nåå»ºååç´¢å¼\n\ncreate index idx_seller_name on tb_seller(name);\ncreate index idx_seller_status on tb_seller(status);\ncreate index idx_seller_address on tb_seller(address);\n\n\n1\n2\n3\n\n\næ°æ®åºä¼éæ©ä¸ä¸ªæä¼çç´¢å¼ï¼è¾¨è¯åº¦æé«ç´¢å¼ï¼æ¥ä½¿ç¨ï¼å¹¶ä¸ä¼ä½¿ç¨å¨é¨ç´¢å¼ ã\n\n\n# æ¥çç´¢å¼ä½¿ç¨æåµ\n\nshow status like 'Handler_read%';\t--å½åä¼è¯çº§å«\n\nshow global status like 'Handler_read%';\t--å¨å±çº§å«\n\n\n1\n2\n3\n\n\n\n\n * Handler_read_first\n   \n   ç´¢å¼ä¸­ç¬¬ä¸æ¡è¢«è¯»çæ¬¡æ°ãå¦æè¾é«ï¼è¡¨ç¤ºæå¡å¨æ­£æ§è¡å¤§éå¨ç´¢å¼æ«æï¼è¿ä¸ªå¼è¶ä½è¶å¥½ï¼ã\n\n * Handler_read_key\n   \n   å¦æç´¢å¼æ­£å¨å·¥ä½ï¼è¿ä¸ªå¼ä»£è¡¨ä¸ä¸ªè¡è¢«ç´¢å¼å¼è¯»çæ¬¡æ°ï¼å¦æå¼è¶ä½ï¼è¡¨ç¤ºç´¢å¼å¾å°çæ§è½æ¹åä¸é«ï¼å ä¸ºç´¢å¼ä¸ç»å¸¸ä½¿ç¨ï¼è¿ä¸ªå¼è¶é«è¶å¥½ï¼ã\n\n * Handler_read_next\n   \n   æç§é®é¡ºåºè¯»ä¸ä¸è¡çè¯·æ±æ°ãå¦æä½ ç¨èå´çº¦ææå¦ææ§è¡ç´¢å¼æ«ææ¥æ¥è¯¢ç´¢å¼åï¼è¯¥å¼å¢å ã\n\n * Handler_read_prev\n   \n   æç§é®é¡ºåºè¯»åä¸è¡çè¯·æ±æ°ãè¯¥è¯»æ¹æ³ä¸»è¦ç¨äºä¼åORDER BY ... DESCã\n\n * Handler_read_rnd\n   \n   æ ¹æ®åºå®ä½ç½®è¯»ä¸è¡çè¯·æ±æ°ãå¦æä½ æ­£æ§è¡å¤§éæ¥è¯¢å¹¶éè¦å¯¹ç»æè¿è¡æåºè¯¥å¼è¾é«ãä½ å¯è½ä½¿ç¨äºå¤§ééè¦MySQLæ«ææ´ä¸ªè¡¨çæ¥è¯¢æä½ çè¿æ¥æ²¡ææ­£ç¡®ä½¿ç¨é®ãè¿ä¸ªå¼è¾é«ï¼æå³çè¿è¡æçä½ï¼åºè¯¥å»ºç«ç´¢å¼æ¥è¡¥æã\n\n * Handler_read_rnd_next\n   \n   å¨æ°æ®æä»¶ä¸­è¯»ä¸ä¸è¡çè¯·æ±æ°ãå¦æä½ æ­£è¿è¡å¤§éçè¡¨æ«æï¼è¯¥å¼è¾é«ãéå¸¸è¯´æä½ çè¡¨ç´¢å¼ä¸æ­£ç¡®æåå¥çæ¥è¯¢æ²¡æå©ç¨ç´¢å¼ã\n\n\n# ç»ä¹ \n\nåè®¾ index(a,b,c)ï¼\n\nWHERE è¯­å¥                                              ç´¢å¼æ¯å¦è¢«ä½¿ç¨\nwhere a = 3                                           Y,ä½¿ç¨å° a\nwhere a = 3 and b = 5                                 Y,ä½¿ç¨å° aï¼b\nwhere a = 3 and b = 5 and c = 4                       Y,ä½¿ç¨å° a,b,c\nwhere b = 3 æè where b = 3 and c = 4 æè where c = 4   Nï¼ç¬¬äºæ¡ï¼å·¦åç¼æ³åï¼\nwhere a = 3 and c = 5                                 ä½¿ç¨å° aï¼ ä½æ¯ c ä¸å¯ä»¥ï¼b ä¸­é´æ­äº\nwhere a = 3 and b > 4 and c = 5                       ä½¿ç¨å° a å bï¼ c ä¸è½ç¨å¨èå´ä¹åï¼b æ­äº\nwhere a is null and b is not null                     is null æ¯æç´¢å¼ ä½æ¯ is not null ä¸æ¯æ\nwhere a <> 3                                          ä¸è½ä½¿ç¨ç´¢å¼\nwhere abs(a) =3                                       ä¸è½ä½¿ç¨ç´¢å¼\nwhere a = 3 and b like 'kk%' and c = 4                Y,ä½¿ç¨å° a,b,c\nwhere a = 3 and b like '%kk' and c = 4                Y,åªç¨å° a\nwhere a = 3 and b like '%kk%' and c = 4               Y,åªç¨å° a\nwhere a = 3 and b like 'k%kk%' and c = 4              Y,ä½¿ç¨å° a,b,c",normalizedContent:" * ç´¢å¼çä½¿ç¨\n   * éªè¯ç´¢å¼æåæ¥è¯¢æç\n   * åå¤ç¯å¢\n   * é¿åç´¢å¼å¤±æ\n   * æ¥çç´¢å¼ä½¿ç¨æåµ\n   * ç»ä¹ \n\n\n# ç´¢å¼çä½¿ç¨\n\nç´¢å¼æ¯æ°æ®åºä¼åæå¸¸ç¨ä¹æ¯æéè¦çææ®µä¹ä¸, éè¿ç´¢å¼éå¸¸å¯ä»¥å¸®å©ç¨æ·è§£å³å¤§å¤æ°çmysqlçæ§è½ä¼åé®é¢ã\n\n\n# éªè¯ç´¢å¼æåæ¥è¯¢æç\n\nå¨æä»¬åå¤çè¡¨ç»æ tb_item ä¸­ï¼ ä¸å±å­å¨äº 300 ä¸è®°å½ï¼\n\n1). æ ¹æ®idæ¥è¯¢\n\nselect * from tb_item where id = 1999\\g;\n\n\n1\n\n\n\n\næ¥è¯¢éåº¦å¾å¿«ï¼ æ¥è¿0s ï¼ ä¸»è¦çåå æ¯å ä¸ºidä¸ºä¸»é®ï¼ æç´¢å¼ï¼\n\n\n\n2). æ ¹æ® title è¿è¡ç²¾ç¡®æ¥è¯¢\n\nselect * from tb_item where title = 'iphonex ç§»å¨3g 32g941'\\g; \n\n\n1\n\n\n\n\næ¥çsqlè¯­å¥çæ§è¡è®¡å ï¼\n\n\n\nå¤çæ¹æ¡ ï¼ éå¯¹titleå­æ®µï¼ åå»ºç´¢å¼ ï¼\n\ncreate index idx_item_title on tb_item(title);\n\n\n1\n\n\n\n\nç´¢å¼åå»ºå®æä¹åï¼åæ¬¡è¿è¡æ¥è¯¢ ï¼\n\n\n\néè¿ explain ï¼ æ¥çæ§è¡è®¡åï¼æ§è¡sqlæ¶ä½¿ç¨äºåæåå»ºçç´¢å¼\n\n\n\n\n# åå¤ç¯å¢\n\ncreate table `tb_seller` (\n\t`sellerid` varchar (100),\n\t`name` varchar (100),\n\t`nickname` varchar (50),\n\t`password` varchar (60),\n\t`status` varchar (1),\n\t`address` varchar (100),\n\t`createtime` datetime,\n    primary key(`sellerid`)\n)engine=innodb default charset=utf8mb4; \n\ninsert into `tb_seller` (`sellerid`, `name`, `nickname`, `password`, `status`, `address`, `createtime`) values('alibaba','é¿éå·´å·´','é¿éå°åº','e10adc3949ba59abbe56e057f20f883e','1','åäº¬å¸','2088-01-01 12:00:00');\ninsert into `tb_seller` (`sellerid`, `name`, `nickname`, `password`, `status`, `address`, `createtime`) values('baidu','ç¾åº¦ç§ææéå¬å¸','ç¾åº¦å°åº','e10adc3949ba59abbe56e057f20f883e','1','åäº¬å¸','2088-01-01 12:00:00');\ninsert into `tb_seller` (`sellerid`, `name`, `nickname`, `password`, `status`, `address`, `createtime`) values('huawei','åä¸ºç§ææéå¬å¸','åä¸ºå°åº','e10adc3949ba59abbe56e057f20f883e','0','åäº¬å¸','2088-01-01 12:00:00');\ninsert into `tb_seller` (`sellerid`, `name`, `nickname`, `password`, `status`, `address`, `createtime`) values('itcast','ä¼ æºæ­å®¢æè²ç§ææéå¬å¸','ä¼ æºæ­å®¢','e10adc3949ba59abbe56e057f20f883e','1','åäº¬å¸','2088-01-01 12:00:00');\ninsert into `tb_seller` (`sellerid`, `name`, `nickname`, `password`, `status`, `address`, `createtime`) values('itheima','é»é©¬ç¨åºå','é»é©¬ç¨åºå','e10adc3949ba59abbe56e057f20f883e','0','åäº¬å¸','2088-01-01 12:00:00');\ninsert into `tb_seller` (`sellerid`, `name`, `nickname`, `password`, `status`, `address`, `createtime`) values('luoji','ç½æç§ææéå¬å¸','ç½æå°åº','e10adc3949ba59abbe56e057f20f883e','1','åäº¬å¸','2088-01-01 12:00:00');\ninsert into `tb_seller` (`sellerid`, `name`, `nickname`, `password`, `status`, `address`, `createtime`) values('oppo','oppoç§ææéå¬å¸','oppoå®æ¹æè°åº','e10adc3949ba59abbe56e057f20f883e','0','åäº¬å¸','2088-01-01 12:00:00');\ninsert into `tb_seller` (`sellerid`, `name`, `nickname`, `password`, `status`, `address`, `createtime`) values('ourpalm','æè¶£ç§æè¡ä»½æéå¬å¸','æè¶£å°åº','e10adc3949ba59abbe56e057f20f883e','1','åäº¬å¸','2088-01-01 12:00:00');\ninsert into `tb_seller` (`sellerid`, `name`, `nickname`, `password`, `status`, `address`, `createtime`) values('qiandu','ååº¦ç§æ','ååº¦å°åº','e10adc3949ba59abbe56e057f20f883e','2','åäº¬å¸','2088-01-01 12:00:00');\ninsert into `tb_seller` (`sellerid`, `name`, `nickname`, `password`, `status`, `address`, `createtime`) values('sina','æ°æµªç§ææéå¬å¸','æ°æµªå®æ¹æè°åº','e10adc3949ba59abbe56e057f20f883e','1','åäº¬å¸','2088-01-01 12:00:00');\ninsert into `tb_seller` (`sellerid`, `name`, `nickname`, `password`, `status`, `address`, `createtime`) values('xiaomi','å°ç±³ç§æ','å°ç±³å®æ¹æè°åº','e10adc3949ba59abbe56e057f20f883e','1','è¥¿å®å¸','2088-01-01 12:00:00');\ninsert into `tb_seller` (`sellerid`, `name`, `nickname`, `password`, `status`, `address`, `createtime`) values('yijia','å®å®¶å®¶å±','å®å®¶å®¶å±æè°åº','e10adc3949ba59abbe56e057f20f883e','1','åäº¬å¸','2088-01-01 12:00:00');\n\n\ncreate index idx_seller_name_sta_addr on tb_seller(name,status,address);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# é¿åç´¢å¼å¤±æ\n\n1). å¨å¼å¹é ï¼å¯¹ç´¢å¼ä¸­ææåé½æå®å·ä½å¼ã\n\nè¯¥æåµä¸ï¼ç´¢å¼çæï¼æ§è¡æçé«ã\n\nexplain select * from tb_seller where name='å°ç±³ç§æ' and status='1' and address='åäº¬å¸'\\g;\n\n\n1\n\n\n\n\n2). æå·¦åç¼æ³å\n\nå¦æç´¢å¼äºå¤åï¼å¤åç´¢å¼ï¼ï¼è¦éµå®æå·¦åç¼æ³åãæçæ¯æ¥è¯¢ä»ç´¢å¼çæå·¦ååå¼å§ï¼å¹¶ä¸ä¸è·³è¿ç´¢å¼ä¸­çåã\n\nå¹éæå·¦åç¼æ³åï¼èµ°ç´¢å¼ï¼\n\n\n\nè¿æ³æå·¦åç¼æ³å ï¼ ç´¢å¼å¤±æï¼\n\n\n\nå¦æç¬¦åæå·¦æ³åï¼ä½æ¯åºç°è·³è·æä¸åï¼åªææå·¦åç´¢å¼çæï¼\n\n\n\n3). èå´æ¥è¯¢ï¼ä¸è½ä½¿ç¨ç´¢å¼ ã\n\n\n\næ ¹æ®åé¢çä¸¤ä¸ªå­æ®µname ï¼ status æ¥è¯¢æ¯èµ°ç´¢å¼çï¼ ä½æ¯æåä¸ä¸ªæ¡ä»¶address æ²¡æç¨å°ç´¢å¼ã\n\n4). ä¸è¦å¨ç´¢å¼åä¸è¿è¡è¿ç®æä½ï¼å¦åç´¢å¼å°å¤±æã\n\n\n\n5). å­ç¬¦ä¸²ä¸å åå¼å·ï¼é æç´¢å¼å¤±æã\n\n\n\nå¨æ¥è¯¢æ¶ï¼æ²¡æå¯¹å­ç¬¦ä¸²å åå¼å·ï¼mysqlçæ¥è¯¢ä¼åå¨ï¼ä¼èªå¨çè¿è¡ç±»åè½¬æ¢ï¼é æç´¢å¼å¤±æã\n\n**6). å°½éä½¿ç¨è¦çç´¢å¼ï¼é¿åselect **\n\nå°½éä½¿ç¨è¦çç´¢å¼ï¼åªè®¿é®ç´¢å¼çæ¥è¯¢ï¼ç´¢å¼åå®å¨åå«æ¥è¯¢åï¼ï¼ï¼åå°select * ã\n\n\n\nå¦ææ¥è¯¢åï¼è¶åºç´¢å¼åï¼ä¹ä¼éä½æ§è½ã\n\n\n\nextraï¼\n\n * using index\n   \n   ä½¿ç¨è¦çç´¢å¼çæ¶åå°±ä¼åºç°\n\n * using where\n   \n   å¨æ¥æ¾ä½¿ç¨ç´¢å¼çæåµä¸ï¼éè¦åè¡¨å»æ¥è¯¢æéçæ°æ®\n\n * using index condition\n   \n   æ¥æ¾ä½¿ç¨äºç´¢å¼ï¼ä½æ¯éè¦åè¡¨æ¥è¯¢æ°æ®\n\n * using index ; using where\n   \n   æ¥æ¾ä½¿ç¨äºç´¢å¼ï¼ä½æ¯éè¦çæ°æ®é½å¨ç´¢å¼åä¸­è½æ¾å°ï¼æä»¥ä¸éè¦åè¡¨æ¥è¯¢æ°æ®\n\n7). ç¨oråå²å¼çæ¡ä»¶ï¼ å¦æoråçæ¡ä»¶ä¸­çåæç´¢å¼ï¼èåé¢çåä¸­æ²¡æç´¢å¼ï¼é£ä¹æ¶åçç´¢å¼é½ä¸ä¼è¢«ç¨å°ã\n\nç¤ºä¾ï¼nameå­æ®µæ¯ç´¢å¼å ï¼ ècreatetimeä¸æ¯ç´¢å¼åï¼ä¸­é´æ¯orè¿è¡è¿æ¥æ¯ä¸èµ°ç´¢å¼ç ï¼\n\nexplain select * from tb_seller where name='é»é©¬ç¨åºå' or createtime = '2088-01-01 12:00:00'\\g;\t\n\n\n1\n\n\n\n\n8). ä»¥%å¼å¤´çlikeæ¨¡ç³æ¥è¯¢ï¼ç´¢å¼å¤±æã\n\nå¦æä»ä»æ¯å°¾é¨æ¨¡ç³å¹éï¼ç´¢å¼ä¸ä¼å¤±æãå¦ææ¯å¤´é¨æ¨¡ç³å¹éï¼ç´¢å¼å¤±æã\n\nexplain select * from tb_seller where name like \"%é»é©¬ç¨åºå\";\n\n\n1\n\n\n\n\nè§£å³æ¹æ¡ ï¼\n\néè¿è¦çç´¢å¼æ¥è§£å³ (ä¸ç¨ select *)\n\n\n\n9). å¦æmysqlè¯ä¼°ä½¿ç¨ç´¢å¼æ¯å¨è¡¨æ´æ¢ï¼åä¸ä½¿ç¨ç´¢å¼ã\n\næä»¬åç» address åå»ºç´¢å¼\n\ncreate index idx_seller_address on tb_seller(address);\n\n\n1\n\n\nå¨æä»¬è¡¨ tb_seller ä¸­ï¼12æ¡å°åºæ°æ®å¶ä¸­11ä¸ªæ¯åäº¬å¸\n\næ¥åäº¬å°åºçèµ°å¨è¡¨æ«æ\n\n\n\nä½¿ç¨è¦çæ¥è¯¢ä¼èµ°ç´¢å¼\n\n explain select address  from tb_seller where address='åäº¬å¸';\n\n\n1\n\n\n10). is null ï¼ is not null ææ¶ç´¢å¼å¤±æã\n\nåä¸ä¸æ¡ï¼9ï¼å·®ä¸å¤ã\n\n\n\n11). in èµ°ç´¢å¼ï¼ not in ç´¢å¼å¤±æã\n\nå¨mysql 5.6ä¸­\n\n\n\nä¸ªäººçè§£ï¼not in å¤æ­ä¸å­å¨çï¼éè¦å¯¹è¡¨è¿è¡å¤§é¨åæ°æ®æ«æï¼ç±»ä¼¼äºç¬¬ä¹æ¡\n\nmysql 5.7ä¸­é½ä¸å¤±æï¼\n\n\n\n12). ååç´¢å¼åå¤åç´¢å¼ã\n\nå°½éä½¿ç¨å¤åç´¢å¼ï¼èå°ä½¿ç¨ååç´¢å¼ ã\n\nåå»ºå¤åç´¢å¼\n\ncreate index idx_name_sta_address on tb_seller(name, status, address);\n\n--å°±ç¸å½äºåå»ºäºä¸ä¸ªç´¢å¼ ï¼ \n--\tname\n--\tname + status\n--\tname + status + address\n\n\n1\n2\n3\n4\n5\n6\n\n\nåå»ºååç´¢å¼\n\ncreate index idx_seller_name on tb_seller(name);\ncreate index idx_seller_status on tb_seller(status);\ncreate index idx_seller_address on tb_seller(address);\n\n\n1\n2\n3\n\n\næ°æ®åºä¼éæ©ä¸ä¸ªæä¼çç´¢å¼ï¼è¾¨è¯åº¦æé«ç´¢å¼ï¼æ¥ä½¿ç¨ï¼å¹¶ä¸ä¼ä½¿ç¨å¨é¨ç´¢å¼ ã\n\n\n# æ¥çç´¢å¼ä½¿ç¨æåµ\n\nshow status like 'handler_read%';\t--å½åä¼è¯çº§å«\n\nshow global status like 'handler_read%';\t--å¨å±çº§å«\n\n\n1\n2\n3\n\n\n\n\n * handler_read_first\n   \n   ç´¢å¼ä¸­ç¬¬ä¸æ¡è¢«è¯»çæ¬¡æ°ãå¦æè¾é«ï¼è¡¨ç¤ºæå¡å¨æ­£æ§è¡å¤§éå¨ç´¢å¼æ«æï¼è¿ä¸ªå¼è¶ä½è¶å¥½ï¼ã\n\n * handler_read_key\n   \n   å¦æç´¢å¼æ­£å¨å·¥ä½ï¼è¿ä¸ªå¼ä»£è¡¨ä¸ä¸ªè¡è¢«ç´¢å¼å¼è¯»çæ¬¡æ°ï¼å¦æå¼è¶ä½ï¼è¡¨ç¤ºç´¢å¼å¾å°çæ§è½æ¹åä¸é«ï¼å ä¸ºç´¢å¼ä¸ç»å¸¸ä½¿ç¨ï¼è¿ä¸ªå¼è¶é«è¶å¥½ï¼ã\n\n * handler_read_next\n   \n   æç§é®é¡ºåºè¯»ä¸ä¸è¡çè¯·æ±æ°ãå¦æä½ ç¨èå´çº¦ææå¦ææ§è¡ç´¢å¼æ«ææ¥æ¥è¯¢ç´¢å¼åï¼è¯¥å¼å¢å ã\n\n * handler_read_prev\n   \n   æç§é®é¡ºåºè¯»åä¸è¡çè¯·æ±æ°ãè¯¥è¯»æ¹æ³ä¸»è¦ç¨äºä¼åorder by ... descã\n\n * handler_read_rnd\n   \n   æ ¹æ®åºå®ä½ç½®è¯»ä¸è¡çè¯·æ±æ°ãå¦æä½ æ­£æ§è¡å¤§éæ¥è¯¢å¹¶éè¦å¯¹ç»æè¿è¡æåºè¯¥å¼è¾é«ãä½ å¯è½ä½¿ç¨äºå¤§ééè¦mysqlæ«ææ´ä¸ªè¡¨çæ¥è¯¢æä½ çè¿æ¥æ²¡ææ­£ç¡®ä½¿ç¨é®ãè¿ä¸ªå¼è¾é«ï¼æå³çè¿è¡æçä½ï¼åºè¯¥å»ºç«ç´¢å¼æ¥è¡¥æã\n\n * handler_read_rnd_next\n   \n   å¨æ°æ®æä»¶ä¸­è¯»ä¸ä¸è¡çè¯·æ±æ°ãå¦æä½ æ­£è¿è¡å¤§éçè¡¨æ«æï¼è¯¥å¼è¾é«ãéå¸¸è¯´æä½ çè¡¨ç´¢å¼ä¸æ­£ç¡®æåå¥çæ¥è¯¢æ²¡æå©ç¨ç´¢å¼ã\n\n\n# ç»ä¹ \n\nåè®¾ index(a,b,c)ï¼\n\nwhere è¯­å¥                                              ç´¢å¼æ¯å¦è¢«ä½¿ç¨\nwhere a = 3                                           y,ä½¿ç¨å° a\nwhere a = 3 and b = 5                                 y,ä½¿ç¨å° aï¼b\nwhere a = 3 and b = 5 and c = 4                       y,ä½¿ç¨å° a,b,c\nwhere b = 3 æè where b = 3 and c = 4 æè where c = 4   nï¼ç¬¬äºæ¡ï¼å·¦åç¼æ³åï¼\nwhere a = 3 and c = 5                                 ä½¿ç¨å° aï¼ ä½æ¯ c ä¸å¯ä»¥ï¼b ä¸­é´æ­äº\nwhere a = 3 and b > 4 and c = 5                       ä½¿ç¨å° a å bï¼ c ä¸è½ç¨å¨èå´ä¹åï¼b æ­äº\nwhere a is null and b is not null                     is null æ¯æç´¢å¼ ä½æ¯ is not null ä¸æ¯æ\nwhere a <> 3                                          ä¸è½ä½¿ç¨ç´¢å¼\nwhere abs(a) =3                                       ä¸è½ä½¿ç¨ç´¢å¼\nwhere a = 3 and b like 'kk%' and c = 4                y,ä½¿ç¨å° a,b,c\nwhere a = 3 and b like '%kk' and c = 4                y,åªç¨å° a\nwhere a = 3 and b like '%kk%' and c = 4               y,åªç¨å° a\nwhere a = 3 and b like 'k%kk%' and c = 4              y,ä½¿ç¨å° a,b,c",charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"MySQL - SQLè¯­å¥ä¼å",frontmatter:{title:"MySQL - SQLè¯­å¥ä¼å",permalink:"/mysql/sql-optimize/",date:"2021-05-23T14:08:28.000Z"},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/05.MySQL/14.MySQL%20-%20SQL%E4%BC%98%E5%8C%96.html",relativePath:"03.æ°æ®åº/05.MySQL/14.MySQL - SQLä¼å.md",key:"v-4fa6c7e5",path:"/mysql/sql-optimize/",headers:[{level:2,title:"å¤§æ¹éæå¥æ°æ®æ¶",slug:"å¤§æ¹éæå¥æ°æ®æ¶",normalizedTitle:"å¤§æ¹éæå¥æ°æ®æ¶",charIndex:3},{level:2,title:"ä¼åinsertè¯­å¥",slug:"ä¼åinsertè¯­å¥",normalizedTitle:"ä¼åinsertè¯­å¥",charIndex:15},{level:2,title:"ä¼åorder byè¯­å¥",slug:"ä¼åorder-byè¯­å¥",normalizedTitle:"ä¼åorder byè¯­å¥",charIndex:29},{level:3,title:"ç¯å¢åå¤",slug:"ç¯å¢åå¤",normalizedTitle:"ç¯å¢åå¤",charIndex:47},{level:3,title:"ä¸¤ç§æåºæ¹å¼",slug:"ä¸¤ç§æåºæ¹å¼",normalizedTitle:"ä¸¤ç§æåºæ¹å¼",charIndex:57},{level:3,title:"Filesort çä¼å",slug:"filesort-çä¼å",normalizedTitle:"filesort çä¼å",charIndex:69},{level:2,title:"ä¼ågroup by è¯­å¥",slug:"ä¼ågroup-by-è¯­å¥",normalizedTitle:"ä¼ågroup by è¯­å¥",charIndex:85},{level:2,title:"ä¼ååµå¥æ¥è¯¢",slug:"ä¼ååµå¥æ¥è¯¢",normalizedTitle:"ä¼ååµå¥æ¥è¯¢",charIndex:102},{level:2,title:"ä¼åORæ¡ä»¶",slug:"ä¼åoræ¡ä»¶",normalizedTitle:"ä¼åoræ¡ä»¶",charIndex:112},{level:2,title:"ä¼ååé¡µæ¥è¯¢",slug:"ä¼ååé¡µæ¥è¯¢",normalizedTitle:"ä¼ååé¡µæ¥è¯¢",charIndex:122},{level:2,title:"ä½¿ç¨SQLæç¤º",slug:"ä½¿ç¨sqlæç¤º",normalizedTitle:"ä½¿ç¨sqlæç¤º",charIndex:132}],headersStr:"å¤§æ¹éæå¥æ°æ®æ¶ ä¼åinsertè¯­å¥ ä¼åorder byè¯­å¥ ç¯å¢åå¤ ä¸¤ç§æåºæ¹å¼ Filesort çä¼å ä¼ågroup by è¯­å¥ ä¼ååµå¥æ¥è¯¢ ä¼åORæ¡ä»¶ ä¼ååé¡µæ¥è¯¢ ä½¿ç¨SQLæç¤º",content:" * å¤§æ¹éæå¥æ°æ®æ¶\n * ä¼åinsertè¯­å¥\n * ä¼åorder byè¯­å¥\n   * ç¯å¢åå¤\n   * ä¸¤ç§æåºæ¹å¼\n   * Filesort çä¼å\n * ä¼ågroup by è¯­å¥\n * ä¼ååµå¥æ¥è¯¢\n * ä¼åORæ¡ä»¶\n * ä¼ååé¡µæ¥è¯¢\n * ä½¿ç¨SQLæç¤º\n\n\n# å¤§æ¹éæå¥æ°æ®æ¶\n\nç¯å¢åå¤ï¼\n\nCREATE TABLE `tb_user_2` (\n  `id` int(11) NOT NULL AUTO_INCREMENT,\n  `username` varchar(45) NOT NULL,\n  `password` varchar(96) NOT NULL,\n  `name` varchar(45) NOT NULL,\n  `birthday` datetime DEFAULT NULL,\n  `sex` char(1) DEFAULT NULL,\n  `email` varchar(45) DEFAULT NULL,\n  `phone` varchar(45) DEFAULT NULL,\n  `qq` varchar(32) DEFAULT NULL,\n  `status` varchar(32) NOT NULL COMMENT 'ç¨æ·ç¶æ',\n  `create_time` datetime NOT NULL,\n  `update_time` datetime DEFAULT NULL,\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `unique_user_username` (`username`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 ;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nå½ä½¿ç¨ load å½ä»¤å¯¼å¥æ°æ®çæ¶åï¼éå½çè®¾ç½®å¯ä»¥æé«å¯¼å¥çæçã\n\n\n\nå¯¹äº InnoDB ç±»åçè¡¨ï¼æä»¥ä¸å ç§æ¹å¼å¯ä»¥æé«å¯¼å¥çæçï¼\n\n1ï¼ ä¸»é®é¡ºåºæå¥\n\nå ä¸ºInnoDBç±»åçè¡¨æ¯æç§ä¸»é®çé¡ºåºä¿å­çï¼æä»¥å°å¯¼å¥çæ°æ®æç§ä¸»é®çé¡ºåºæåï¼å¯ä»¥ææçæé«å¯¼å¥æ°æ®çæçãå¦æInnoDBè¡¨æ²¡æä¸»é®ï¼é£ä¹ç³»ç»ä¼èªå¨é»è®¤åå»ºä¸ä¸ªåé¨åä½ä¸ºä¸»é®ï¼æä»¥å¦æå¯ä»¥ç»è¡¨åå»ºä¸ä¸ªä¸»é®ï¼å°å¯ä»¥å©ç¨è¿ç¹ï¼æ¥æé«å¯¼å¥æ°æ®çæçã\n\n> èæ¬æä»¶ä»ç» :\n> \n> sql1.log ----\x3e ä¸»é®æåº\n> \n> sql2.log ----\x3e ä¸»é®æ åº\n\næå¥IDé¡ºåºæåæ°æ®ï¼\n\n\n\næå¥IDæ åºæåæ°æ®ï¼\n\n\n\n2ï¼ å³é­å¯ä¸æ§æ ¡éª\n\nå¨å¯¼å¥æ°æ®åæ§è¡ SET UNIQUE_CHECKS=0ï¼å³é­å¯ä¸æ§æ ¡éª\n\nå¨å¯¼å¥ç»æåæ§è¡SET UNIQUE_CHECKS=1ï¼æ¢å¤å¯ä¸æ§æ ¡éªï¼å¯ä»¥æé«å¯¼å¥çæçã\n\n\n\n3ï¼ æå¨æäº¤äºå¡\n\nå»ºè®®å¨å¯¼å¥åæ§è¡ SET AUTOCOMMIT=0ï¼å³é­èªå¨æäº¤\n\nå¯¼å¥ç»æååæ§è¡ SET AUTOCOMMIT=1ï¼æå¼èªå¨æäº¤ï¼ä¹å¯ä»¥æé«å¯¼å¥çæçã\n\n\n\n> loadæ§è¡å¯è½ä¼æ¥é\n\nThe used command is not allowed with this MySQL version\n\néè¯¯çåå æ¯æ²¡æå¼å¯ local_infile æ¨¡åã\n\nè§£å³æ¹æ³ï¼\n\né¦åçä¸ä¸ local_infile æ¨¡åæ¯å¦æå¼ï¼\n\nshow global variables like 'local_infile';\n\n\n1\n\n\næ¾ç¤ºå¦ä¸ï¼\n\n\n\nç¶åå¯ä»¥åç°è¿ä¸ªæ¨¡åå·²ç»å¯ç¨äºï¼\n\n\n\nä¹åéå¯ä¸ä¸Mysqlæå¡å³å¯\n\n\n# ä¼åinsertè¯­å¥\n\n1.ï¼å¦æéè¦åæ¶å¯¹ä¸å¼ è¡¨æå¥å¾å¤è¡æ°æ®æ¶ï¼åºè¯¥å°½éä½¿ç¨å¤ä¸ªå¼è¡¨çinsertè¯­å¥ï¼è¿ç§æ¹å¼å°å¤§å¤§çç¼©åå®¢æ·ç«¯ä¸æ°æ®åºä¹é´çè¿æ¥ãå³é­ç­æ¶èãä½¿å¾æçæ¯åå¼æ§è¡çåä¸ªinsertè¯­å¥å¿«ã\n\n * åå§æ¹å¼ä¸ºï¼\n\ninsert into tb_test values(1,'Tom');\ninsert into tb_test values(2,'Cat');\ninsert into tb_test values(3,'Jerry');\n\n\n1\n2\n3\n\n\nä¼ååçæ¹æ¡ä¸º ï¼\n\ninsert into tb_test values(1,'Tom'),(2,'Cat')ï¼(3,'Jerry');\n\n\n1\n\n\n2.ï¼å¨äºå¡ä¸­è¿è¡æ°æ®æå¥ã\n\nstart transaction;\ninsert into tb_test values(1,'Tom');\ninsert into tb_test values(2,'Cat');\ninsert into tb_test values(3,'Jerry');\ncommit;\n\n\n1\n2\n3\n4\n5\n\n\n3.ï¼æ°æ®æåºæå¥\n\n * å\n   \n   insert into tb_test values(4,'Tim');\n   insert into tb_test values(1,'Tom');\n   insert into tb_test values(3,'Jerry');\n   insert into tb_test values(5,'Rose');\n   insert into tb_test values(2,'Cat');\n   \n   \n   1\n   2\n   3\n   4\n   5\n   \n\n * ä¼åå\n   \n   insert into tb_test values(1,'Tom');\n   insert into tb_test values(2,'Cat');\n   insert into tb_test values(3,'Jerry');\n   insert into tb_test values(4,'Tim');\n   insert into tb_test values(5,'Rose');\n   \n   \n   1\n   2\n   3\n   4\n   5\n   \n\n\n# ä¼åorder byè¯­å¥\n\n\n# ç¯å¢åå¤\n\nCREATE TABLE `emp` (\n  `id` int(11) NOT NULL AUTO_INCREMENT,\n  `name` varchar(100) NOT NULL,\n  `age` int(3) NOT NULL,\n  `salary` int(11) DEFAULT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB  DEFAULT CHARSET=utf8mb4;\n\ninsert into `emp` (`id`, `name`, `age`, `salary`) values('1','Tom','25','2300');\ninsert into `emp` (`id`, `name`, `age`, `salary`) values('2','Jerry','30','3500');\ninsert into `emp` (`id`, `name`, `age`, `salary`) values('3','Luci','25','2800');\ninsert into `emp` (`id`, `name`, `age`, `salary`) values('4','Jay','36','3500');\ninsert into `emp` (`id`, `name`, `age`, `salary`) values('5','Tom2','21','2200');\ninsert into `emp` (`id`, `name`, `age`, `salary`) values('6','Jerry2','31','3300');\ninsert into `emp` (`id`, `name`, `age`, `salary`) values('7','Luci2','26','2700');\ninsert into `emp` (`id`, `name`, `age`, `salary`) values('8','Jay2','33','3500');\ninsert into `emp` (`id`, `name`, `age`, `salary`) values('9','Tom3','23','2400');\ninsert into `emp` (`id`, `name`, `age`, `salary`) values('10','Jerry3','32','3100');\ninsert into `emp` (`id`, `name`, `age`, `salary`) values('11','Luci3','26','2900');\ninsert into `emp` (`id`, `name`, `age`, `salary`) values('12','Jay3','37','4500');\n\ncreate index idx_emp_age_salary on emp(age,salary);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# ä¸¤ç§æåºæ¹å¼\n\n1). ç¬¬ä¸ç§æ¯éè¿å¯¹è¿åæ°æ®è¿è¡æåºï¼ä¹å°±æ¯éå¸¸è¯´ç filesort æåº\n\nä¸æ¯éè¿ç´¢å¼ç´æ¥è¿åæåºç»æçæåºé½å« FileSort æåºã\n\n\n\n2). ç¬¬äºç§éè¿æåºç´¢å¼é¡ºåºæ«æç´æ¥è¿åæåºæ°æ®ï¼è¿ç§æåµå³ä¸º using indexï¼ä¸éè¦é¢å¤æåºï¼æä½æçé«ã\n\n\n\nå¤å­æ®µæåº\n\n\n\näºè§£äºMySQLçæåºæ¹å¼ï¼ä¼åç®æ å°±æ¸æ°äºï¼å°½éåå°é¢å¤çæåºï¼éè¿ç´¢å¼ç´æ¥è¿åæåºæ°æ®ãwhere æ¡ä»¶åOrder by ä½¿ç¨ç¸åçç´¢å¼ï¼å¹¶ä¸Order By çé¡ºåºåç´¢å¼é¡ºåºç¸åï¼ å¹¶ä¸Order by çå­æ®µé½æ¯ååºï¼æèé½æ¯éåºãå¦åè¯å®éè¦é¢å¤çæä½ï¼è¿æ ·å°±ä¼åºç° FileSortã\n\n\n# Filesort çä¼å\n\néè¿åå»ºåéçç´¢å¼ï¼è½å¤åå° Filesort çåºç°ï¼ä½æ¯å¨æäºæåµä¸ï¼æ¡ä»¶éå¶ä¸è½è®© Filesort æ¶å¤±ï¼é£å°±éè¦å å¿« Filesortçæåºæä½ãå¯¹äºFilesort ï¼MySQL æä¸¤ç§æåºç®æ³ï¼\n\n1ï¼ ä¸¤æ¬¡æ«æç®æ³ ï¼MySQL4.1 ä¹åï¼ä½¿ç¨è¯¥æ¹å¼æåºãé¦åæ ¹æ®æ¡ä»¶ååºæåºå­æ®µåè¡æéä¿¡æ¯ï¼ç¶åå¨æåºåº sort buffer ä¸­æåºï¼å¦æsort bufferä¸å¤ï¼åå¨ä¸´æ¶è¡¨ temporary table ä¸­å­å¨æåºç»æãå®ææåºä¹åï¼åæ ¹æ®è¡æéåè¡¨è¯»åè®°å½ï¼è¯¥æä½å¯è½ä¼å¯¼è´å¤§ééæºI/Oæä½ã\n\n2ï¼ä¸æ¬¡æ«æç®æ³ï¼ä¸æ¬¡æ§ååºæ»¡è¶³æ¡ä»¶çææå­æ®µï¼ç¶åå¨æåºåº sort buffer ä¸­æåºåç´æ¥è¾åºç»æéãæåºæ¶åå­å¼éè¾å¤§ï¼ä½æ¯æåºæçæ¯ä¸¤æ¬¡æ«æç®æ³è¦é«ã\n\nMySQL éè¿æ¯è¾ç³»ç»åé max_length_for_sort_data çå¤§å°å Query è¯­å¥ååºçå­æ®µæ»å¤§å°ï¼ æ¥å¤å®æ¯å¦é£ç§æåºç®æ³ï¼å¦æ max_length_for_sort_data æ´å¤§ï¼é£ä¹ä½¿ç¨ç¬¬äºç§ä¼åä¹åçç®æ³ï¼å¦åä½¿ç¨ç¬¬ä¸ç§ã\n\nå¯ä»¥éå½æé« sort_buffer_size å max_length_for_sort_data ç³»ç»åéï¼æ¥å¢å¤§æåºåºçå¤§å°ï¼æé«æåºçæçã\n\n\n\n\n# ä¼ågroup by è¯­å¥\n\nç±äº GROUP BY å®éä¸ä¹åæ ·ä¼è¿è¡æåºæä½ï¼èä¸ä¸ ORDER BY ç¸æ¯ï¼GROUP BY ä¸»è¦åªæ¯å¤äºæåºä¹åçåç»æä½ãå½ç¶ï¼å¦æå¨åç»çæ¶åè¿ä½¿ç¨äºå¶ä»çä¸äºèåå½æ°ï¼é£ä¹è¿éè¦ä¸äºèåå½æ°çè®¡ç®ãæä»¥ï¼å¨GROUP BY çå®ç°è¿ç¨ä¸­ï¼ä¸ ORDER BY ä¸æ ·ä¹å¯ä»¥å©ç¨å°ç´¢å¼ã\n\nå¦ææ¥è¯¢åå« group by ä½æ¯æ³è¦é¿åæåºç»æçæ¶èï¼ åå¯ä»¥æ§è¡order by null ç¦æ­¢æåºãå¦ä¸ ï¼\n\ndrop index idx_emp_age_salary on emp; -- å é¤ä¹ååå»ºçç´¢å¼\n\nexplain select age,count(*) from emp group by age;\n\n\n1\n2\n3\n\n\n\n\nä¼åå\n\nexplain select age,count(*) from emp group by age order by null;\n\n\n1\n\n\n\n\nä»ä¸é¢çä¾å­å¯ä»¥çåºï¼ç¬¬ä¸ä¸ªSQLè¯­å¥éè¦è¿è¡\"filesort\"ï¼èç¬¬äºä¸ªSQLç±äº order by null ä¸éè¦è¿è¡ \"filesort\"ï¼ èä¸ææè¿ Filesort å¾å¾éå¸¸èè´¹æ¶é´ã\n\nåå»ºç´¢å¼ ï¼\n\ncreate index idx_emp_age_salary on emp(age,salary);\n\n\n1\n\n\n\n\nä½æ¯å¨ mysql 5.7 ä¸­ï¼\n\n\n\n\n# ä¼ååµå¥æ¥è¯¢\n\nMysql4.1çæ¬ä¹åï¼å¼å§æ¯æSQLçå­æ¥è¯¢ãè¿ä¸ªææ¯å¯ä»¥ä½¿ç¨SELECTè¯­å¥æ¥åå»ºä¸ä¸ªååçæ¥è¯¢ç»æï¼ç¶åæè¿ä¸ªç»æä½ä¸ºè¿æ»¤æ¡ä»¶ç¨å¨å¦ä¸ä¸ªæ¥è¯¢ä¸­ãä½¿ç¨å­æ¥è¯¢å¯ä»¥ä¸æ¬¡æ§çå®æå¾å¤é»è¾ä¸éè¦å¤ä¸ªæ­¥éª¤æè½å®æçSQLæä½ï¼åæ¶ä¹å¯ä»¥é¿åäºå¡æèè¡¨éæ­»ï¼å¹¶ä¸åèµ·æ¥ä¹å¾å®¹æãä½æ¯ï¼æäºæåµä¸ï¼å­æ¥è¯¢æ¯å¯ä»¥è¢«æ´é«æçè¿æ¥ï¼JOINï¼æ¿ä»£ã\n\nç¤ºä¾ ï¼æ¥æ¾æè§è²çææçç¨æ·ä¿¡æ¯ :\n\n explain select * from t_user where id in (select user_id from user_role );\n\n\n1\n\n\næ§è¡è®¡åä¸º :\n\n\n\nä¼åå :\n\nexplain select * from t_user u , user_role ur where u.id = ur.user_id;\n\n\n1\n\n\n\n\nè¿æ¥(Join)æ¥è¯¢ä¹æä»¥æ´ææçä¸äº ï¼æ¯å ä¸ºMySQLä¸éè¦å¨åå­ä¸­åå»ºä¸´æ¶è¡¨æ¥å®æè¿ä¸ªé»è¾ä¸éè¦ä¸¤ä¸ªæ­¥éª¤çæ¥è¯¢å·¥ä½ã\n\nå¨ mysql 5.7 ä¸­\n\n\n\n\n# ä¼åORæ¡ä»¶\n\nå¯¹äºåå«ORçæ¥è¯¢å­å¥ï¼å¦æè¦å©ç¨ç´¢å¼ï¼åORä¹é´çæ¯ä¸ªæ¡ä»¶åé½å¿é¡»ç¨å°ç´¢å¼ ï¼ èä¸ä¸è½ä½¿ç¨å°å¤åç´¢å¼ï¼ å¦ææ²¡æç´¢å¼ï¼ååºè¯¥èèå¢å ç´¢å¼ã\n\nè·å emp è¡¨ä¸­çææçç´¢å¼ ï¼\n\n\n\nç¤ºä¾ ï¼\n\nexplain select * from emp where id = 1 or age = 30;\n\n\n1\n\n\n\n\n\n\nå»ºè®®ä½¿ç¨ union æ¿æ¢ or ï¼\n\n\n\næä»¬æ¥æ¯è¾ä¸éè¦ææ ï¼åç°ä¸»è¦å·®å«æ¯ type å ref è¿ä¸¤é¡¹\n\ntype æ¾ç¤ºçæ¯è®¿é®ç±»åï¼æ¯è¾ä¸ºéè¦çä¸ä¸ªææ ï¼ç»æå¼ä»å¥½å°åä¾æ¬¡æ¯ï¼\n\nsystem > const > eq_ref > ref > fulltext > ref_or_null  > index_merge > unique_subquery > index_subquery > range > index > ALL\n\n\n1\n\n\nUNION è¯­å¥ç type å¼ä¸º refï¼OR è¯­å¥ç type å¼ä¸º rangeï¼å¯ä»¥çå°è¿æ¯ä¸ä¸ªå¾ææ¾çå·®è·\n\nUNION è¯­å¥ç ref å¼ä¸º constï¼OR è¯­å¥ç type å¼ä¸º nullï¼const è¡¨ç¤ºæ¯å¸¸éå¼å¼ç¨ï¼éå¸¸å¿«\n\nè¿ä¸¤é¡¹çå·®è·å°±è¯´æäº UNION è¦ä¼äº OR ã\n\nå¨ mysql 8.0 ä¸­ï¼é»è®¤ä¼åäºï¼å·ä½èªè¡æµè¯ã\n\n\n# ä¼ååé¡µæ¥è¯¢\n\nä¸è¬åé¡µæ¥è¯¢æ¶ï¼éè¿åå»ºè¦çç´¢å¼è½å¤æ¯è¾å¥½å°æé«æ§è½ãä¸ä¸ªå¸¸è§åéå¸¸å¤´ç¼çé®é¢å°±æ¯ limit 2000000,10 ï¼æ­¤æ¶éè¦MySQLæåºå2000010 è®°å½ï¼ä»ä»è¿å2000000 - 2000010 çè®°å½ï¼å¶ä»è®°å½ä¸¢å¼ï¼æ¥è¯¢æåºçä»£ä»·éå¸¸å¤§ ã\n\n\n\nä¼åæè·¯ä¸\n\nå¨ç´¢å¼ä¸å®ææåºåé¡µæä½ï¼æåæ ¹æ®ä¸»é®å³èååè¡¨æ¥è¯¢æéè¦çå¶ä»ååå®¹ã\n\n\n\nä¼åæè·¯äº\n\nè¯¥æ¹æ¡éç¨äºä¸»é®èªå¢çè¡¨ï¼å¯ä»¥æLimit æ¥è¯¢è½¬æ¢ææä¸ªä½ç½®çæ¥è¯¢ ã\n\n\n\n\n# ä½¿ç¨SQLæç¤º\n\nSQLæç¤ºï¼æ¯ä¼åæ°æ®åºçä¸ä¸ªéè¦ææ®µï¼ç®åæ¥è¯´ï¼å°±æ¯å¨SQLè¯­å¥ä¸­å å¥ä¸äºäººä¸ºçæç¤ºæ¥è¾¾å°ä¼åæä½çç®çã\n\nUSE INDEX\n\nå¨æ¥è¯¢è¯­å¥ä¸­è¡¨åçåé¢ï¼æ·»å  use index æ¥æä¾å¸æMySQLå»åèçç´¢å¼åè¡¨ï¼å°±å¯ä»¥è®©MySQLä¸åèèå¶ä»å¯ç¨çç´¢å¼ã\n\ncreate index idx_seller_name on tb_seller(name);\n\n\n1\n\n\n\n\nIGNORE INDEX\n\nå¦æç¨æ·åªæ¯åçº¯çæ³è®©MySQLå¿½ç¥ä¸ä¸ªæèå¤ä¸ªç´¢å¼ï¼åå¯ä»¥ä½¿ç¨ ignore index ä½ä¸º hint ã\n\n explain select * from tb_seller ignore index(idx_seller_name) where name = 'å°ç±³ç§æ';\n\n\n1\n\n\n\n\nFORCE INDEX\n\nä¸ºå¼ºå¶MySQLä½¿ç¨ä¸ä¸ªç¹å®çç´¢å¼ï¼å¯å¨æ¥è¯¢ä¸­ä½¿ç¨ force index ä½ä¸ºhint ã\n\ncreate index idx_seller_address on tb_seller(address);\n\n\n1\n\n\n",normalizedContent:" * å¤§æ¹éæå¥æ°æ®æ¶\n * ä¼åinsertè¯­å¥\n * ä¼åorder byè¯­å¥\n   * ç¯å¢åå¤\n   * ä¸¤ç§æåºæ¹å¼\n   * filesort çä¼å\n * ä¼ågroup by è¯­å¥\n * ä¼ååµå¥æ¥è¯¢\n * ä¼åoræ¡ä»¶\n * ä¼ååé¡µæ¥è¯¢\n * ä½¿ç¨sqlæç¤º\n\n\n# å¤§æ¹éæå¥æ°æ®æ¶\n\nç¯å¢åå¤ï¼\n\ncreate table `tb_user_2` (\n  `id` int(11) not null auto_increment,\n  `username` varchar(45) not null,\n  `password` varchar(96) not null,\n  `name` varchar(45) not null,\n  `birthday` datetime default null,\n  `sex` char(1) default null,\n  `email` varchar(45) default null,\n  `phone` varchar(45) default null,\n  `qq` varchar(32) default null,\n  `status` varchar(32) not null comment 'ç¨æ·ç¶æ',\n  `create_time` datetime not null,\n  `update_time` datetime default null,\n  primary key (`id`),\n  unique key `unique_user_username` (`username`)\n) engine=innodb default charset=utf8 ;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nå½ä½¿ç¨ load å½ä»¤å¯¼å¥æ°æ®çæ¶åï¼éå½çè®¾ç½®å¯ä»¥æé«å¯¼å¥çæçã\n\n\n\nå¯¹äº innodb ç±»åçè¡¨ï¼æä»¥ä¸å ç§æ¹å¼å¯ä»¥æé«å¯¼å¥çæçï¼\n\n1ï¼ ä¸»é®é¡ºåºæå¥\n\nå ä¸ºinnodbç±»åçè¡¨æ¯æç§ä¸»é®çé¡ºåºä¿å­çï¼æä»¥å°å¯¼å¥çæ°æ®æç§ä¸»é®çé¡ºåºæåï¼å¯ä»¥ææçæé«å¯¼å¥æ°æ®çæçãå¦æinnodbè¡¨æ²¡æä¸»é®ï¼é£ä¹ç³»ç»ä¼èªå¨é»è®¤åå»ºä¸ä¸ªåé¨åä½ä¸ºä¸»é®ï¼æä»¥å¦æå¯ä»¥ç»è¡¨åå»ºä¸ä¸ªä¸»é®ï¼å°å¯ä»¥å©ç¨è¿ç¹ï¼æ¥æé«å¯¼å¥æ°æ®çæçã\n\n> èæ¬æä»¶ä»ç» :\n> \n> sql1.log ----\x3e ä¸»é®æåº\n> \n> sql2.log ----\x3e ä¸»é®æ åº\n\næå¥idé¡ºåºæåæ°æ®ï¼\n\n\n\næå¥idæ åºæåæ°æ®ï¼\n\n\n\n2ï¼ å³é­å¯ä¸æ§æ ¡éª\n\nå¨å¯¼å¥æ°æ®åæ§è¡ set unique_checks=0ï¼å³é­å¯ä¸æ§æ ¡éª\n\nå¨å¯¼å¥ç»æåæ§è¡set unique_checks=1ï¼æ¢å¤å¯ä¸æ§æ ¡éªï¼å¯ä»¥æé«å¯¼å¥çæçã\n\n\n\n3ï¼ æå¨æäº¤äºå¡\n\nå»ºè®®å¨å¯¼å¥åæ§è¡ set autocommit=0ï¼å³é­èªå¨æäº¤\n\nå¯¼å¥ç»æååæ§è¡ set autocommit=1ï¼æå¼èªå¨æäº¤ï¼ä¹å¯ä»¥æé«å¯¼å¥çæçã\n\n\n\n> loadæ§è¡å¯è½ä¼æ¥é\n\nthe used command is not allowed with this mysql version\n\néè¯¯çåå æ¯æ²¡æå¼å¯ local_infile æ¨¡åã\n\nè§£å³æ¹æ³ï¼\n\né¦åçä¸ä¸ local_infile æ¨¡åæ¯å¦æå¼ï¼\n\nshow global variables like 'local_infile';\n\n\n1\n\n\næ¾ç¤ºå¦ä¸ï¼\n\n\n\nç¶åå¯ä»¥åç°è¿ä¸ªæ¨¡åå·²ç»å¯ç¨äºï¼\n\n\n\nä¹åéå¯ä¸ä¸mysqlæå¡å³å¯\n\n\n# ä¼åinsertè¯­å¥\n\n1.ï¼å¦æéè¦åæ¶å¯¹ä¸å¼ è¡¨æå¥å¾å¤è¡æ°æ®æ¶ï¼åºè¯¥å°½éä½¿ç¨å¤ä¸ªå¼è¡¨çinsertè¯­å¥ï¼è¿ç§æ¹å¼å°å¤§å¤§çç¼©åå®¢æ·ç«¯ä¸æ°æ®åºä¹é´çè¿æ¥ãå³é­ç­æ¶èãä½¿å¾æçæ¯åå¼æ§è¡çåä¸ªinsertè¯­å¥å¿«ã\n\n * åå§æ¹å¼ä¸ºï¼\n\ninsert into tb_test values(1,'tom');\ninsert into tb_test values(2,'cat');\ninsert into tb_test values(3,'jerry');\n\n\n1\n2\n3\n\n\nä¼ååçæ¹æ¡ä¸º ï¼\n\ninsert into tb_test values(1,'tom'),(2,'cat')ï¼(3,'jerry');\n\n\n1\n\n\n2.ï¼å¨äºå¡ä¸­è¿è¡æ°æ®æå¥ã\n\nstart transaction;\ninsert into tb_test values(1,'tom');\ninsert into tb_test values(2,'cat');\ninsert into tb_test values(3,'jerry');\ncommit;\n\n\n1\n2\n3\n4\n5\n\n\n3.ï¼æ°æ®æåºæå¥\n\n * å\n   \n   insert into tb_test values(4,'tim');\n   insert into tb_test values(1,'tom');\n   insert into tb_test values(3,'jerry');\n   insert into tb_test values(5,'rose');\n   insert into tb_test values(2,'cat');\n   \n   \n   1\n   2\n   3\n   4\n   5\n   \n\n * ä¼åå\n   \n   insert into tb_test values(1,'tom');\n   insert into tb_test values(2,'cat');\n   insert into tb_test values(3,'jerry');\n   insert into tb_test values(4,'tim');\n   insert into tb_test values(5,'rose');\n   \n   \n   1\n   2\n   3\n   4\n   5\n   \n\n\n# ä¼åorder byè¯­å¥\n\n\n# ç¯å¢åå¤\n\ncreate table `emp` (\n  `id` int(11) not null auto_increment,\n  `name` varchar(100) not null,\n  `age` int(3) not null,\n  `salary` int(11) default null,\n  primary key (`id`)\n) engine=innodb  default charset=utf8mb4;\n\ninsert into `emp` (`id`, `name`, `age`, `salary`) values('1','tom','25','2300');\ninsert into `emp` (`id`, `name`, `age`, `salary`) values('2','jerry','30','3500');\ninsert into `emp` (`id`, `name`, `age`, `salary`) values('3','luci','25','2800');\ninsert into `emp` (`id`, `name`, `age`, `salary`) values('4','jay','36','3500');\ninsert into `emp` (`id`, `name`, `age`, `salary`) values('5','tom2','21','2200');\ninsert into `emp` (`id`, `name`, `age`, `salary`) values('6','jerry2','31','3300');\ninsert into `emp` (`id`, `name`, `age`, `salary`) values('7','luci2','26','2700');\ninsert into `emp` (`id`, `name`, `age`, `salary`) values('8','jay2','33','3500');\ninsert into `emp` (`id`, `name`, `age`, `salary`) values('9','tom3','23','2400');\ninsert into `emp` (`id`, `name`, `age`, `salary`) values('10','jerry3','32','3100');\ninsert into `emp` (`id`, `name`, `age`, `salary`) values('11','luci3','26','2900');\ninsert into `emp` (`id`, `name`, `age`, `salary`) values('12','jay3','37','4500');\n\ncreate index idx_emp_age_salary on emp(age,salary);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# ä¸¤ç§æåºæ¹å¼\n\n1). ç¬¬ä¸ç§æ¯éè¿å¯¹è¿åæ°æ®è¿è¡æåºï¼ä¹å°±æ¯éå¸¸è¯´ç filesort æåº\n\nä¸æ¯éè¿ç´¢å¼ç´æ¥è¿åæåºç»æçæåºé½å« filesort æåºã\n\n\n\n2). ç¬¬äºç§éè¿æåºç´¢å¼é¡ºåºæ«æç´æ¥è¿åæåºæ°æ®ï¼è¿ç§æåµå³ä¸º using indexï¼ä¸éè¦é¢å¤æåºï¼æä½æçé«ã\n\n\n\nå¤å­æ®µæåº\n\n\n\näºè§£äºmysqlçæåºæ¹å¼ï¼ä¼åç®æ å°±æ¸æ°äºï¼å°½éåå°é¢å¤çæåºï¼éè¿ç´¢å¼ç´æ¥è¿åæåºæ°æ®ãwhere æ¡ä»¶åorder by ä½¿ç¨ç¸åçç´¢å¼ï¼å¹¶ä¸order by çé¡ºåºåç´¢å¼é¡ºåºç¸åï¼ å¹¶ä¸order by çå­æ®µé½æ¯ååºï¼æèé½æ¯éåºãå¦åè¯å®éè¦é¢å¤çæä½ï¼è¿æ ·å°±ä¼åºç° filesortã\n\n\n# filesort çä¼å\n\néè¿åå»ºåéçç´¢å¼ï¼è½å¤åå° filesort çåºç°ï¼ä½æ¯å¨æäºæåµä¸ï¼æ¡ä»¶éå¶ä¸è½è®© filesort æ¶å¤±ï¼é£å°±éè¦å å¿« filesortçæåºæä½ãå¯¹äºfilesort ï¼mysql æä¸¤ç§æåºç®æ³ï¼\n\n1ï¼ ä¸¤æ¬¡æ«æç®æ³ ï¼mysql4.1 ä¹åï¼ä½¿ç¨è¯¥æ¹å¼æåºãé¦åæ ¹æ®æ¡ä»¶ååºæåºå­æ®µåè¡æéä¿¡æ¯ï¼ç¶åå¨æåºåº sort buffer ä¸­æåºï¼å¦æsort bufferä¸å¤ï¼åå¨ä¸´æ¶è¡¨ temporary table ä¸­å­å¨æåºç»æãå®ææåºä¹åï¼åæ ¹æ®è¡æéåè¡¨è¯»åè®°å½ï¼è¯¥æä½å¯è½ä¼å¯¼è´å¤§ééæºi/oæä½ã\n\n2ï¼ä¸æ¬¡æ«æç®æ³ï¼ä¸æ¬¡æ§ååºæ»¡è¶³æ¡ä»¶çææå­æ®µï¼ç¶åå¨æåºåº sort buffer ä¸­æåºåç´æ¥è¾åºç»æéãæåºæ¶åå­å¼éè¾å¤§ï¼ä½æ¯æåºæçæ¯ä¸¤æ¬¡æ«æç®æ³è¦é«ã\n\nmysql éè¿æ¯è¾ç³»ç»åé max_length_for_sort_data çå¤§å°å query è¯­å¥ååºçå­æ®µæ»å¤§å°ï¼ æ¥å¤å®æ¯å¦é£ç§æåºç®æ³ï¼å¦æ max_length_for_sort_data æ´å¤§ï¼é£ä¹ä½¿ç¨ç¬¬äºç§ä¼åä¹åçç®æ³ï¼å¦åä½¿ç¨ç¬¬ä¸ç§ã\n\nå¯ä»¥éå½æé« sort_buffer_size å max_length_for_sort_data ç³»ç»åéï¼æ¥å¢å¤§æåºåºçå¤§å°ï¼æé«æåºçæçã\n\n\n\n\n# ä¼ågroup by è¯­å¥\n\nç±äº group by å®éä¸ä¹åæ ·ä¼è¿è¡æåºæä½ï¼èä¸ä¸ order by ç¸æ¯ï¼group by ä¸»è¦åªæ¯å¤äºæåºä¹åçåç»æä½ãå½ç¶ï¼å¦æå¨åç»çæ¶åè¿ä½¿ç¨äºå¶ä»çä¸äºèåå½æ°ï¼é£ä¹è¿éè¦ä¸äºèåå½æ°çè®¡ç®ãæä»¥ï¼å¨group by çå®ç°è¿ç¨ä¸­ï¼ä¸ order by ä¸æ ·ä¹å¯ä»¥å©ç¨å°ç´¢å¼ã\n\nå¦ææ¥è¯¢åå« group by ä½æ¯æ³è¦é¿åæåºç»æçæ¶èï¼ åå¯ä»¥æ§è¡order by null ç¦æ­¢æåºãå¦ä¸ ï¼\n\ndrop index idx_emp_age_salary on emp; -- å é¤ä¹ååå»ºçç´¢å¼\n\nexplain select age,count(*) from emp group by age;\n\n\n1\n2\n3\n\n\n\n\nä¼åå\n\nexplain select age,count(*) from emp group by age order by null;\n\n\n1\n\n\n\n\nä»ä¸é¢çä¾å­å¯ä»¥çåºï¼ç¬¬ä¸ä¸ªsqlè¯­å¥éè¦è¿è¡\"filesort\"ï¼èç¬¬äºä¸ªsqlç±äº order by null ä¸éè¦è¿è¡ \"filesort\"ï¼ èä¸ææè¿ filesort å¾å¾éå¸¸èè´¹æ¶é´ã\n\nåå»ºç´¢å¼ ï¼\n\ncreate index idx_emp_age_salary on emp(age,salary);\n\n\n1\n\n\n\n\nä½æ¯å¨ mysql 5.7 ä¸­ï¼\n\n\n\n\n# ä¼ååµå¥æ¥è¯¢\n\nmysql4.1çæ¬ä¹åï¼å¼å§æ¯æsqlçå­æ¥è¯¢ãè¿ä¸ªææ¯å¯ä»¥ä½¿ç¨selectè¯­å¥æ¥åå»ºä¸ä¸ªååçæ¥è¯¢ç»æï¼ç¶åæè¿ä¸ªç»æä½ä¸ºè¿æ»¤æ¡ä»¶ç¨å¨å¦ä¸ä¸ªæ¥è¯¢ä¸­ãä½¿ç¨å­æ¥è¯¢å¯ä»¥ä¸æ¬¡æ§çå®æå¾å¤é»è¾ä¸éè¦å¤ä¸ªæ­¥éª¤æè½å®æçsqlæä½ï¼åæ¶ä¹å¯ä»¥é¿åäºå¡æèè¡¨éæ­»ï¼å¹¶ä¸åèµ·æ¥ä¹å¾å®¹æãä½æ¯ï¼æäºæåµä¸ï¼å­æ¥è¯¢æ¯å¯ä»¥è¢«æ´é«æçè¿æ¥ï¼joinï¼æ¿ä»£ã\n\nç¤ºä¾ ï¼æ¥æ¾æè§è²çææçç¨æ·ä¿¡æ¯ :\n\n explain select * from t_user where id in (select user_id from user_role );\n\n\n1\n\n\næ§è¡è®¡åä¸º :\n\n\n\nä¼åå :\n\nexplain select * from t_user u , user_role ur where u.id = ur.user_id;\n\n\n1\n\n\n\n\nè¿æ¥(join)æ¥è¯¢ä¹æä»¥æ´ææçä¸äº ï¼æ¯å ä¸ºmysqlä¸éè¦å¨åå­ä¸­åå»ºä¸´æ¶è¡¨æ¥å®æè¿ä¸ªé»è¾ä¸éè¦ä¸¤ä¸ªæ­¥éª¤çæ¥è¯¢å·¥ä½ã\n\nå¨ mysql 5.7 ä¸­\n\n\n\n\n# ä¼åoræ¡ä»¶\n\nå¯¹äºåå«orçæ¥è¯¢å­å¥ï¼å¦æè¦å©ç¨ç´¢å¼ï¼åorä¹é´çæ¯ä¸ªæ¡ä»¶åé½å¿é¡»ç¨å°ç´¢å¼ ï¼ èä¸ä¸è½ä½¿ç¨å°å¤åç´¢å¼ï¼ å¦ææ²¡æç´¢å¼ï¼ååºè¯¥èèå¢å ç´¢å¼ã\n\nè·å emp è¡¨ä¸­çææçç´¢å¼ ï¼\n\n\n\nç¤ºä¾ ï¼\n\nexplain select * from emp where id = 1 or age = 30;\n\n\n1\n\n\n\n\n\n\nå»ºè®®ä½¿ç¨ union æ¿æ¢ or ï¼\n\n\n\næä»¬æ¥æ¯è¾ä¸éè¦ææ ï¼åç°ä¸»è¦å·®å«æ¯ type å ref è¿ä¸¤é¡¹\n\ntype æ¾ç¤ºçæ¯è®¿é®ç±»åï¼æ¯è¾ä¸ºéè¦çä¸ä¸ªææ ï¼ç»æå¼ä»å¥½å°åä¾æ¬¡æ¯ï¼\n\nsystem > const > eq_ref > ref > fulltext > ref_or_null  > index_merge > unique_subquery > index_subquery > range > index > all\n\n\n1\n\n\nunion è¯­å¥ç type å¼ä¸º refï¼or è¯­å¥ç type å¼ä¸º rangeï¼å¯ä»¥çå°è¿æ¯ä¸ä¸ªå¾ææ¾çå·®è·\n\nunion è¯­å¥ç ref å¼ä¸º constï¼or è¯­å¥ç type å¼ä¸º nullï¼const è¡¨ç¤ºæ¯å¸¸éå¼å¼ç¨ï¼éå¸¸å¿«\n\nè¿ä¸¤é¡¹çå·®è·å°±è¯´æäº union è¦ä¼äº or ã\n\nå¨ mysql 8.0 ä¸­ï¼é»è®¤ä¼åäºï¼å·ä½èªè¡æµè¯ã\n\n\n# ä¼ååé¡µæ¥è¯¢\n\nä¸è¬åé¡µæ¥è¯¢æ¶ï¼éè¿åå»ºè¦çç´¢å¼è½å¤æ¯è¾å¥½å°æé«æ§è½ãä¸ä¸ªå¸¸è§åéå¸¸å¤´ç¼çé®é¢å°±æ¯ limit 2000000,10 ï¼æ­¤æ¶éè¦mysqlæåºå2000010 è®°å½ï¼ä»ä»è¿å2000000 - 2000010 çè®°å½ï¼å¶ä»è®°å½ä¸¢å¼ï¼æ¥è¯¢æåºçä»£ä»·éå¸¸å¤§ ã\n\n\n\nä¼åæè·¯ä¸\n\nå¨ç´¢å¼ä¸å®ææåºåé¡µæä½ï¼æåæ ¹æ®ä¸»é®å³èååè¡¨æ¥è¯¢æéè¦çå¶ä»ååå®¹ã\n\n\n\nä¼åæè·¯äº\n\nè¯¥æ¹æ¡éç¨äºä¸»é®èªå¢çè¡¨ï¼å¯ä»¥ælimit æ¥è¯¢è½¬æ¢ææä¸ªä½ç½®çæ¥è¯¢ ã\n\n\n\n\n# ä½¿ç¨sqlæç¤º\n\nsqlæç¤ºï¼æ¯ä¼åæ°æ®åºçä¸ä¸ªéè¦ææ®µï¼ç®åæ¥è¯´ï¼å°±æ¯å¨sqlè¯­å¥ä¸­å å¥ä¸äºäººä¸ºçæç¤ºæ¥è¾¾å°ä¼åæä½çç®çã\n\nuse index\n\nå¨æ¥è¯¢è¯­å¥ä¸­è¡¨åçåé¢ï¼æ·»å  use index æ¥æä¾å¸æmysqlå»åèçç´¢å¼åè¡¨ï¼å°±å¯ä»¥è®©mysqlä¸åèèå¶ä»å¯ç¨çç´¢å¼ã\n\ncreate index idx_seller_name on tb_seller(name);\n\n\n1\n\n\n\n\nignore index\n\nå¦æç¨æ·åªæ¯åçº¯çæ³è®©mysqlå¿½ç¥ä¸ä¸ªæèå¤ä¸ªç´¢å¼ï¼åå¯ä»¥ä½¿ç¨ ignore index ä½ä¸º hint ã\n\n explain select * from tb_seller ignore index(idx_seller_name) where name = 'å°ç±³ç§æ';\n\n\n1\n\n\n\n\nforce index\n\nä¸ºå¼ºå¶mysqlä½¿ç¨ä¸ä¸ªç¹å®çç´¢å¼ï¼å¯å¨æ¥è¯¢ä¸­ä½¿ç¨ force index ä½ä¸ºhint ã\n\ncreate index idx_seller_address on tb_seller(address);\n\n\n1\n\n\n",charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"MySQL - ç¼å­æ¥è¯¢",frontmatter:{title:"MySQL - ç¼å­æ¥è¯¢",permalink:"/mysql/cache-query/",date:"2021-05-24T15:10:03.000Z"},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/05.MySQL/16.MySQL%20-%20%E7%BC%93%E5%AD%98%E6%9F%A5%E8%AF%A2.html",relativePath:"03.æ°æ®åº/05.MySQL/16.MySQL - ç¼å­æ¥è¯¢.md",key:"v-0734792a",path:"/mysql/cache-query/",headers:[{level:2,title:"æ¦è¿°",slug:"æ¦è¿°",normalizedTitle:"æ¦è¿°",charIndex:3},{level:2,title:"æ¥è¯¢ç¼å­éç½®",slug:"æ¥è¯¢ç¼å­éç½®",normalizedTitle:"æ¥è¯¢ç¼å­éç½®",charIndex:9},{level:2,title:"å¼å¯æ¥è¯¢ç¼å­",slug:"å¼å¯æ¥è¯¢ç¼å­",normalizedTitle:"å¼å¯æ¥è¯¢ç¼å­",charIndex:19},{level:2,title:"æ¥è¯¢ç¼å­SELECTéé¡¹",slug:"æ¥è¯¢ç¼å­selectéé¡¹",normalizedTitle:"æ¥è¯¢ç¼å­selectéé¡¹",charIndex:29},{level:2,title:"æ¥è¯¢ç¼å­å¤±æçæåµ",slug:"æ¥è¯¢ç¼å­å¤±æçæåµ",normalizedTitle:"æ¥è¯¢ç¼å­å¤±æçæåµ",charIndex:45}],headersStr:"æ¦è¿° æ¥è¯¢ç¼å­éç½® å¼å¯æ¥è¯¢ç¼å­ æ¥è¯¢ç¼å­SELECTéé¡¹ æ¥è¯¢ç¼å­å¤±æçæåµ",content:" * æ¦è¿°\n * æ¥è¯¢ç¼å­éç½®\n * å¼å¯æ¥è¯¢ç¼å­\n * æ¥è¯¢ç¼å­SELECTéé¡¹\n * æ¥è¯¢ç¼å­å¤±æçæåµ\n\n\n# æ¦è¿°\n\nå¼å¯Mysqlçæ¥è¯¢ç¼å­ï¼å½æ§è¡å®å¨ç¸åçSQLè¯­å¥çæ¶åï¼æå¡å¨å°±ä¼ç´æ¥ä»ç¼å­ä¸­è¯»åç»æï¼å½æ°æ®è¢«ä¿®æ¹ï¼ä¹åçç¼å­ä¼å¤±æï¼ä¿®æ¹æ¯è¾é¢ç¹çè¡¨ä¸éååæ¥è¯¢ç¼å­ã\n\n\n\n 1. å®¢æ·ç«¯åéä¸æ¡æ¥è¯¢ç»æå¡å¨ï¼\n 2. æå¡å¨åä¼æ£æ¥æ¥è¯¢ç¼å­ï¼å¦æå½ä¸­äºç¼å­ï¼åç«å³è¿åå­å¨å¨ç¼å­ä¸­çç»æãå¦åè¿å¥ä¸ä¸é¶æ®µï¼\n 3. æå¡å¨ç«¯è¿è¡SQLè§£æãé¢å¤çï¼åç±ä¼åå¨çæå¯¹åºçæ§è¡è®¡åï¼\n 4. MySQLæ ¹æ®ä¼åå¨çæçæ§è¡è®¡åï¼è°ç¨å­å¨å¼æçAPIæ¥æ§è¡æ¥è¯¢ï¼\n 5. å°ç»æè¿åç»å®¢æ·ç«¯ã\n\n\n# æ¥è¯¢ç¼å­éç½®\n\n * æ¥çå½åçMySQLæ°æ®åºæ¯å¦æ¯ææ¥è¯¢ç¼å­ï¼\n\nSHOW VARIABLES LIKE 'have_query_cache';\t\n\n\n1\n\n\n\n\nå¨Mysql8ï¼å·²ç»åæ¶äºæ¥è¯¢ç¼å­\n\n * æ¥çå½åMySQLæ¯å¦å¼å¯äºæ¥è¯¢ç¼å­ ï¼\n\nSHOW VARIABLES LIKE 'query_cache_type'; \n\n\n1\n\n\n\n\n * æ¥çæ¥è¯¢ç¼å­çå ç¨å¤§å° ï¼\n\nSHOW VARIABLES LIKE 'query_cache_size';\n\n\n1\n\n\n\n\n * æ¥çæ¥è¯¢ç¼å­çç¶æåéï¼\n\nSHOW STATUS LIKE 'Qcache%';\n\n\n1\n\n\n\n\nåä¸ªåéçå«ä¹å¦ä¸ï¼\n\nåæ°                        å«ä¹\nQcache_free_blocks        æ¥è¯¢ç¼å­ä¸­çå¯ç¨åå­åæ°\nQcache_free_memory        æ¥è¯¢ç¼å­çå¯ç¨åå­é\nQcache_hits               æ¥è¯¢ç¼å­å½ä¸­æ°\nQcache_inserts            æ·»å å°æ¥è¯¢ç¼å­çæ¥è¯¢æ°\nQcache_lowmen_prunes      ç±äºåå­ä¸è¶³èä»æ¥è¯¢ç¼å­ä¸­å é¤çæ¥è¯¢æ°\nQcache_not_cached         éç¼å­æ¥è¯¢çæ°éï¼ç±äº query_cache_type è®¾ç½®èæ æ³ç¼å­ææªç¼å­ï¼\nQcache_queries_in_cache   æ¥è¯¢ç¼å­ä¸­æ³¨åçæ¥è¯¢æ°\nQcache_total_blocks       æ¥è¯¢ç¼å­ä¸­çåæ»æ°\n\n\n# å¼å¯æ¥è¯¢ç¼å­\n\nMySQLçæ¥è¯¢ç¼å­é»è®¤æ¯å³é­çï¼éè¦æå¨éç½®åæ° query_cache_type ï¼ æ¥å¼å¯æ¥è¯¢ç¼å­ã\n\nquery_cache_type è¯¥åæ°çå¯åå¼æä¸ä¸ª ï¼\n\nå¼            å«ä¹\nOFF æ 0      æ¥è¯¢ç¼å­åè½å³é­\nON æ 1       æ¥è¯¢ç¼å­åè½æå¼ï¼SELECTçç»æç¬¦åç¼å­æ¡ä»¶å³ä¼ç¼å­ï¼å¦åï¼ä¸äºç¼å­ï¼æ¾å¼æå® SQL_NO_CACHEï¼ä¸äºç¼å­\nDEMAND æ 2   æ¥è¯¢ç¼å­åè½æéè¿è¡ï¼æ¾å¼æå® SQL_CACHE çSELECTè¯­å¥æä¼ç¼å­ï¼å¶å®åä¸äºç¼å­\n\nå¨ /usr/my.cnf éç½®ä¸­ï¼å®å¡å¨ /etc/my.cnf ï¼ï¼å¢å ä»¥ä¸éç½® ï¼\n\n# å¼å¯mysqlçæ¥è¯¢ç¼å­\nquery_cache_type=1\n\n\n1\n2\n\n\néç½®å®æ¯ä¹åï¼éå¯æå¡æ¢å¯çæ , service mysqld restartï¼\n\nç¶åå°±å¯ä»¥å¨å½ä»¤è¡æ§è¡SQLè¯­å¥è¿è¡éªè¯ ï¼æ§è¡ä¸æ¡æ¯è¾èæ¶çSQLè¯­å¥ï¼ç¶ååå¤æ§è¡å æ¬¡ï¼æ¥çåé¢å æ¬¡çæ§è¡æ¶é´ï¼è·åéè¿æ¥çæ¥è¯¢ç¼å­çç¼å­å½ä¸­æ°ï¼æ¥å¤å®æ¯å¦èµ°æ¥è¯¢ç¼å­ã\n\n\n# æ¥è¯¢ç¼å­SELECTéé¡¹\n\nå¯ä»¥å¨ SELECT è¯­å¥ä¸­æå®ä¸¤ä¸ªä¸æ¥è¯¢ç¼å­ç¸å³çéé¡¹ ï¼\n\n * SQL_CACHE\n   \n   å¦ææ¥è¯¢ç»ææ¯å¯ç¼å­çï¼å¹¶ä¸ query_cache_type ç³»ç»åéçå¼ä¸º ON æ DEMAND ï¼åç¼å­æ¥è¯¢ç»æ ã\n\n * SQL_NO_CACHE\n   \n   æå¡å¨ä¸ä½¿ç¨æ¥è¯¢ç¼å­ãå®æ¢ä¸æ£æ¥æ¥è¯¢ç¼å­ï¼ä¹ä¸æ£æ¥ç»ææ¯å¦å·²ç¼å­ï¼ä¹ä¸ç¼å­æ¥è¯¢ç»æã\n\nä¾å­ï¼\n\nSELECT SQL_CACHE id, name FROM customer;\nSELECT SQL_NO_CACHE id, name FROM customer;\n\n\n1\n2\n\n\n\n\n\n# æ¥è¯¢ç¼å­å¤±æçæåµ\n\n1ï¼ SQL è¯­å¥ä¸ä¸è´çæåµï¼ è¦æ³å½ä¸­æ¥è¯¢ç¼å­ï¼æ¥è¯¢çSQLè¯­å¥å¿é¡»ä¸è´ã\n\n-- SQL1 : \nselect count(*) from tb_item;\n-- SQL2 : \nSelect count(*) from tb_item;\n\n\n1\n2\n3\n4\n\n\n2ï¼ å½æ¥è¯¢è¯­å¥ä¸­æä¸äºä¸ç¡®å®çæ¶ï¼åä¸ä¼ç¼å­ãå¦ ï¼ now() , current_date() , curdate() , curtime() , rand() , uuid() , user() , database() ã\n\nselect * from tb_item where updatetime < now() limit 1;\nselect user();\nselect database();\n\n\n1\n2\n3\n\n\n3ï¼ ä¸ä½¿ç¨ä»»ä½è¡¨æ¥è¯¢è¯­å¥ã\n\nselect 'A';\n\n\n1\n\n\n4ï¼ æ¥è¯¢ mysqlï¼ information_schemaæ performance_schema ç³»ç»æ°æ®åºä¸­çè¡¨æ¶ï¼ä¸ä¼èµ°æ¥è¯¢ç¼å­ã\n\nselect * from information_schema.engines;\n\n\n1\n\n\n5ï¼ å¨å­å¨çå½æ°ï¼è§¦åå¨æäºä»¶çä¸»ä½åæ§è¡çæ¥è¯¢ã\n\n6ï¼ å¦æè¡¨æ´æ¹ï¼åä½¿ç¨è¯¥è¡¨çææé«éç¼å­æ¥è¯¢é½å°åä¸ºæ æå¹¶ä»é«éç¼å­ä¸­å é¤ãè¿åæ¬ä½¿ç¨MERGEæ å°å°å·²æ´æ¹è¡¨çè¡¨çæ¥è¯¢ãä¸ä¸ªè¡¨å¯ä»¥è¢«è®¸å¤ç±»åçè¯­å¥ï¼å¦è¢«æ¹å INSERTï¼ UPDATEï¼ DELETEï¼ TRUNCATE TABLEï¼ ALTER TABLEï¼ DROP TABLEï¼æ DROP DATABASE ã",normalizedContent:" * æ¦è¿°\n * æ¥è¯¢ç¼å­éç½®\n * å¼å¯æ¥è¯¢ç¼å­\n * æ¥è¯¢ç¼å­selectéé¡¹\n * æ¥è¯¢ç¼å­å¤±æçæåµ\n\n\n# æ¦è¿°\n\nå¼å¯mysqlçæ¥è¯¢ç¼å­ï¼å½æ§è¡å®å¨ç¸åçsqlè¯­å¥çæ¶åï¼æå¡å¨å°±ä¼ç´æ¥ä»ç¼å­ä¸­è¯»åç»æï¼å½æ°æ®è¢«ä¿®æ¹ï¼ä¹åçç¼å­ä¼å¤±æï¼ä¿®æ¹æ¯è¾é¢ç¹çè¡¨ä¸éååæ¥è¯¢ç¼å­ã\n\n\n\n 1. å®¢æ·ç«¯åéä¸æ¡æ¥è¯¢ç»æå¡å¨ï¼\n 2. æå¡å¨åä¼æ£æ¥æ¥è¯¢ç¼å­ï¼å¦æå½ä¸­äºç¼å­ï¼åç«å³è¿åå­å¨å¨ç¼å­ä¸­çç»æãå¦åè¿å¥ä¸ä¸é¶æ®µï¼\n 3. æå¡å¨ç«¯è¿è¡sqlè§£æãé¢å¤çï¼åç±ä¼åå¨çæå¯¹åºçæ§è¡è®¡åï¼\n 4. mysqlæ ¹æ®ä¼åå¨çæçæ§è¡è®¡åï¼è°ç¨å­å¨å¼æçapiæ¥æ§è¡æ¥è¯¢ï¼\n 5. å°ç»æè¿åç»å®¢æ·ç«¯ã\n\n\n# æ¥è¯¢ç¼å­éç½®\n\n * æ¥çå½åçmysqlæ°æ®åºæ¯å¦æ¯ææ¥è¯¢ç¼å­ï¼\n\nshow variables like 'have_query_cache';\t\n\n\n1\n\n\n\n\nå¨mysql8ï¼å·²ç»åæ¶äºæ¥è¯¢ç¼å­\n\n * æ¥çå½åmysqlæ¯å¦å¼å¯äºæ¥è¯¢ç¼å­ ï¼\n\nshow variables like 'query_cache_type'; \n\n\n1\n\n\n\n\n * æ¥çæ¥è¯¢ç¼å­çå ç¨å¤§å° ï¼\n\nshow variables like 'query_cache_size';\n\n\n1\n\n\n\n\n * æ¥çæ¥è¯¢ç¼å­çç¶æåéï¼\n\nshow status like 'qcache%';\n\n\n1\n\n\n\n\nåä¸ªåéçå«ä¹å¦ä¸ï¼\n\nåæ°                        å«ä¹\nqcache_free_blocks        æ¥è¯¢ç¼å­ä¸­çå¯ç¨åå­åæ°\nqcache_free_memory        æ¥è¯¢ç¼å­çå¯ç¨åå­é\nqcache_hits               æ¥è¯¢ç¼å­å½ä¸­æ°\nqcache_inserts            æ·»å å°æ¥è¯¢ç¼å­çæ¥è¯¢æ°\nqcache_lowmen_prunes      ç±äºåå­ä¸è¶³èä»æ¥è¯¢ç¼å­ä¸­å é¤çæ¥è¯¢æ°\nqcache_not_cached         éç¼å­æ¥è¯¢çæ°éï¼ç±äº query_cache_type è®¾ç½®èæ æ³ç¼å­ææªç¼å­ï¼\nqcache_queries_in_cache   æ¥è¯¢ç¼å­ä¸­æ³¨åçæ¥è¯¢æ°\nqcache_total_blocks       æ¥è¯¢ç¼å­ä¸­çåæ»æ°\n\n\n# å¼å¯æ¥è¯¢ç¼å­\n\nmysqlçæ¥è¯¢ç¼å­é»è®¤æ¯å³é­çï¼éè¦æå¨éç½®åæ° query_cache_type ï¼ æ¥å¼å¯æ¥è¯¢ç¼å­ã\n\nquery_cache_type è¯¥åæ°çå¯åå¼æä¸ä¸ª ï¼\n\nå¼            å«ä¹\noff æ 0      æ¥è¯¢ç¼å­åè½å³é­\non æ 1       æ¥è¯¢ç¼å­åè½æå¼ï¼selectçç»æç¬¦åç¼å­æ¡ä»¶å³ä¼ç¼å­ï¼å¦åï¼ä¸äºç¼å­ï¼æ¾å¼æå® sql_no_cacheï¼ä¸äºç¼å­\ndemand æ 2   æ¥è¯¢ç¼å­åè½æéè¿è¡ï¼æ¾å¼æå® sql_cache çselectè¯­å¥æä¼ç¼å­ï¼å¶å®åä¸äºç¼å­\n\nå¨ /usr/my.cnf éç½®ä¸­ï¼å®å¡å¨ /etc/my.cnf ï¼ï¼å¢å ä»¥ä¸éç½® ï¼\n\n# å¼å¯mysqlçæ¥è¯¢ç¼å­\nquery_cache_type=1\n\n\n1\n2\n\n\néç½®å®æ¯ä¹åï¼éå¯æå¡æ¢å¯çæ , service mysqld restartï¼\n\nç¶åå°±å¯ä»¥å¨å½ä»¤è¡æ§è¡sqlè¯­å¥è¿è¡éªè¯ ï¼æ§è¡ä¸æ¡æ¯è¾èæ¶çsqlè¯­å¥ï¼ç¶ååå¤æ§è¡å æ¬¡ï¼æ¥çåé¢å æ¬¡çæ§è¡æ¶é´ï¼è·åéè¿æ¥çæ¥è¯¢ç¼å­çç¼å­å½ä¸­æ°ï¼æ¥å¤å®æ¯å¦èµ°æ¥è¯¢ç¼å­ã\n\n\n# æ¥è¯¢ç¼å­selectéé¡¹\n\nå¯ä»¥å¨ select è¯­å¥ä¸­æå®ä¸¤ä¸ªä¸æ¥è¯¢ç¼å­ç¸å³çéé¡¹ ï¼\n\n * sql_cache\n   \n   å¦ææ¥è¯¢ç»ææ¯å¯ç¼å­çï¼å¹¶ä¸ query_cache_type ç³»ç»åéçå¼ä¸º on æ demand ï¼åç¼å­æ¥è¯¢ç»æ ã\n\n * sql_no_cache\n   \n   æå¡å¨ä¸ä½¿ç¨æ¥è¯¢ç¼å­ãå®æ¢ä¸æ£æ¥æ¥è¯¢ç¼å­ï¼ä¹ä¸æ£æ¥ç»ææ¯å¦å·²ç¼å­ï¼ä¹ä¸ç¼å­æ¥è¯¢ç»æã\n\nä¾å­ï¼\n\nselect sql_cache id, name from customer;\nselect sql_no_cache id, name from customer;\n\n\n1\n2\n\n\n\n\n\n# æ¥è¯¢ç¼å­å¤±æçæåµ\n\n1ï¼ sql è¯­å¥ä¸ä¸è´çæåµï¼ è¦æ³å½ä¸­æ¥è¯¢ç¼å­ï¼æ¥è¯¢çsqlè¯­å¥å¿é¡»ä¸è´ã\n\n-- sql1 : \nselect count(*) from tb_item;\n-- sql2 : \nselect count(*) from tb_item;\n\n\n1\n2\n3\n4\n\n\n2ï¼ å½æ¥è¯¢è¯­å¥ä¸­æä¸äºä¸ç¡®å®çæ¶ï¼åä¸ä¼ç¼å­ãå¦ ï¼ now() , current_date() , curdate() , curtime() , rand() , uuid() , user() , database() ã\n\nselect * from tb_item where updatetime < now() limit 1;\nselect user();\nselect database();\n\n\n1\n2\n3\n\n\n3ï¼ ä¸ä½¿ç¨ä»»ä½è¡¨æ¥è¯¢è¯­å¥ã\n\nselect 'a';\n\n\n1\n\n\n4ï¼ æ¥è¯¢ mysqlï¼ information_schemaæ performance_schema ç³»ç»æ°æ®åºä¸­çè¡¨æ¶ï¼ä¸ä¼èµ°æ¥è¯¢ç¼å­ã\n\nselect * from information_schema.engines;\n\n\n1\n\n\n5ï¼ å¨å­å¨çå½æ°ï¼è§¦åå¨æäºä»¶çä¸»ä½åæ§è¡çæ¥è¯¢ã\n\n6ï¼ å¦æè¡¨æ´æ¹ï¼åä½¿ç¨è¯¥è¡¨çææé«éç¼å­æ¥è¯¢é½å°åä¸ºæ æå¹¶ä»é«éç¼å­ä¸­å é¤ãè¿åæ¬ä½¿ç¨mergeæ å°å°å·²æ´æ¹è¡¨çè¡¨çæ¥è¯¢ãä¸ä¸ªè¡¨å¯ä»¥è¢«è®¸å¤ç±»åçè¯­å¥ï¼å¦è¢«æ¹å insertï¼ updateï¼ deleteï¼ truncate tableï¼ alter tableï¼ drop tableï¼æ drop database ã",charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"MySQL - åå­ç®¡ç",frontmatter:{title:"MySQL - åå­ç®¡ç",permalink:"/mysql/memory-management/",date:"2021-05-24T15:46:46.000Z"},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/05.MySQL/18.MySQL%20-%20%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html",relativePath:"03.æ°æ®åº/05.MySQL/18.MySQL - åå­ç®¡ç.md",key:"v-5909a860",path:"/mysql/memory-management/",headers:[{level:2,title:"åå­ä¼ååå",slug:"åå­ä¼ååå",normalizedTitle:"åå­ä¼ååå",charIndex:21},{level:2,title:"MyISAM åå­ä¼å",slug:"myisam-åå­ä¼å",normalizedTitle:"myisam åå­ä¼å",charIndex:33},{level:2,title:"InnoDB åå­ä¼å",slug:"innodb-åå­ä¼å",normalizedTitle:"innodb åå­ä¼å",charIndex:50}],headersStr:"åå­ä¼ååå MyISAM åå­ä¼å InnoDB åå­ä¼å",content:" * Mysqlåå­ç®¡çåä¼å\n   * åå­ä¼ååå\n   * MyISAM åå­ä¼å\n   * InnoDB åå­ä¼å\n\n\n# Mysqlåå­ç®¡çåä¼å\n\n\n# åå­ä¼ååå\n\n1ï¼ å°å°½éå¤çåå­åéç»MySQLåç¼å­ï¼ä½è¦ç»æä½ç³»ç»åå¶ä»ç¨åºé¢çè¶³å¤åå­ã\n\n2ï¼ MyISAM å­å¨å¼æçæ°æ®æä»¶è¯»åä¾èµäºæä½ç³»ç»èªèº«çIOç¼å­ï¼å æ­¤ï¼å¦ææMyISAMè¡¨ï¼å°±è¦é¢çæ´å¤çåå­ç»æä½ç³»ç»åIOç¼å­ã\n\n3ï¼ æåºåºãè¿æ¥åºç­ç¼å­æ¯åéç»æ¯ä¸ªæ°æ®åºä¼è¯ï¼sessionï¼ä¸ç¨çï¼å¶é»è®¤å¼çè®¾ç½®è¦æ ¹æ®æå¤§è¿æ¥æ°åçåéï¼å¦æè®¾ç½®å¤ªå¤§ï¼ä¸ä½æµªè´¹èµæºï¼èä¸å¨å¹¶åè¿æ¥è¾é«æ¶ä¼å¯¼è´ç©çåå­èå°½ã\n\n\n# MyISAM åå­ä¼å\n\näºè§£å³å¯ï¼æä»¬å¹³æ¶ç¨çé½æ¯ InnoDB\n\nmyisamå­å¨å¼æä½¿ç¨ key_buffer ç¼å­ç´¢å¼åï¼å émyisamç´¢å¼çè¯»åéåº¦ãå¯¹äºmyisamè¡¨çæ°æ®åï¼mysqlæ²¡æç¹å«çç¼å­æºå¶ï¼å®å¨ä¾èµäºæä½ç³»ç»çIOç¼å­ã\n\n * key_buffer_size\n\nkey_buffer_sizeå³å®MyISAMç´¢å¼åç¼å­åºçå¤§å°ï¼ç´æ¥å½±åå°MyISAMè¡¨çå­åæçãå¯ä»¥å¨MySQLåæ°æä»¶ä¸­è®¾ç½®key_buffer_sizeçå¼ï¼å¯¹äºä¸è¬MyISAMæ°æ®åºï¼å»ºè®®è³å°å°1/4å¯ç¨åå­åéç»key_buffer_sizeã\n\nå¨ /usr/my.cnf ä¸­åå¦ä¸éç½®ï¼\n\nkey_buffer_size=512M\n\n\n1\n\n\nSHOW VARIABLES LIKE 'key_buffer_size' -- æ¥çå¤§å°\n\n\n1\n\n * read_buffer_size\n\nå¦æéè¦ç»å¸¸é¡ºåºæ«æmyisamè¡¨ï¼å¯ä»¥éè¿å¢å¤§read_buffer_sizeçå¼æ¥æ¹åæ§è½ãä½éè¦æ³¨æçæ¯read_buffer_sizeæ¯æ¯ä¸ªsessionç¬å çï¼å¦æé»è®¤å¼è®¾ç½®å¤ªå¤§ï¼å°±ä¼é æåå­æµªè´¹ã\n\n * read_rnd_buffer_size\n\nå¯¹äºéè¦åæåºçmyisamè¡¨çæ¥è¯¢ï¼å¦å¸¦æorder byå­å¥çsqlï¼éå½å¢å  read_rnd_buffer_size çå¼ï¼å¯ä»¥æ¹åæ­¤ç±»çsqlæ§è½ãä½éè¦æ³¨æçæ¯ read_rnd_buffer_size æ¯æ¯ä¸ªsessionç¬å çï¼å¦æé»è®¤å¼è®¾ç½®å¤ªå¤§ï¼å°±ä¼é æåå­æµªè´¹ã\n\n\n# InnoDB åå­ä¼å\n\ninnodbç¨ä¸ååå­åºåIOç¼å­æ± ï¼è¯¥ç¼å­æ± ä¸ä»ç¨æ¥ç¼å­innodbçç´¢å¼åï¼èä¸ä¹ç¨æ¥ç¼å­innodbçæ°æ®åã\n\n * innodb_buffer_pool_size\n\nè¯¥åéå³å®äº innodb å­å¨å¼æè¡¨æ°æ®åç´¢å¼æ°æ®çæå¤§ç¼å­åºå¤§å°ãå¨ä¿è¯æä½ç³»ç»åå¶ä»ç¨åºæè¶³å¤åå­å¯ç¨çæåµä¸ï¼innodb_buffer_pool_size çå¼è¶å¤§ï¼ç¼å­å½ä¸­çè¶é«ï¼è®¿é®InnoDBè¡¨éè¦çç£çI/O å°±è¶å°ï¼æ§è½ä¹å°±è¶é«ã\n\ninnodb_buffer_pool_size=512M\n\n\n1\n\n * innodb_log_buffer_size\n\nå³å®äº Innodb éåæ¥å¿ç¼å­çå¤§å°ï¼å¯¹äºå¯è½äº§çå¤§éæ´æ°è®°å½çå¤§äºå¡ï¼å¢å innodb_log_buffer_sizeçå¤§å°ï¼å¯ä»¥é¿åinnodbå¨äºå¡æäº¤åå°±æ§è¡ä¸å¿è¦çæ¥å¿åå¥ç£çæä½ã\n\ninnodb_log_buffer_size=10M\n\n\n1\n",normalizedContent:" * mysqlåå­ç®¡çåä¼å\n   * åå­ä¼ååå\n   * myisam åå­ä¼å\n   * innodb åå­ä¼å\n\n\n# mysqlåå­ç®¡çåä¼å\n\n\n# åå­ä¼ååå\n\n1ï¼ å°å°½éå¤çåå­åéç»mysqlåç¼å­ï¼ä½è¦ç»æä½ç³»ç»åå¶ä»ç¨åºé¢çè¶³å¤åå­ã\n\n2ï¼ myisam å­å¨å¼æçæ°æ®æä»¶è¯»åä¾èµäºæä½ç³»ç»èªèº«çioç¼å­ï¼å æ­¤ï¼å¦ææmyisamè¡¨ï¼å°±è¦é¢çæ´å¤çåå­ç»æä½ç³»ç»åioç¼å­ã\n\n3ï¼ æåºåºãè¿æ¥åºç­ç¼å­æ¯åéç»æ¯ä¸ªæ°æ®åºä¼è¯ï¼sessionï¼ä¸ç¨çï¼å¶é»è®¤å¼çè®¾ç½®è¦æ ¹æ®æå¤§è¿æ¥æ°åçåéï¼å¦æè®¾ç½®å¤ªå¤§ï¼ä¸ä½æµªè´¹èµæºï¼èä¸å¨å¹¶åè¿æ¥è¾é«æ¶ä¼å¯¼è´ç©çåå­èå°½ã\n\n\n# myisam åå­ä¼å\n\näºè§£å³å¯ï¼æä»¬å¹³æ¶ç¨çé½æ¯ innodb\n\nmyisamå­å¨å¼æä½¿ç¨ key_buffer ç¼å­ç´¢å¼åï¼å émyisamç´¢å¼çè¯»åéåº¦ãå¯¹äºmyisamè¡¨çæ°æ®åï¼mysqlæ²¡æç¹å«çç¼å­æºå¶ï¼å®å¨ä¾èµäºæä½ç³»ç»çioç¼å­ã\n\n * key_buffer_size\n\nkey_buffer_sizeå³å®myisamç´¢å¼åç¼å­åºçå¤§å°ï¼ç´æ¥å½±åå°myisamè¡¨çå­åæçãå¯ä»¥å¨mysqlåæ°æä»¶ä¸­è®¾ç½®key_buffer_sizeçå¼ï¼å¯¹äºä¸è¬myisamæ°æ®åºï¼å»ºè®®è³å°å°1/4å¯ç¨åå­åéç»key_buffer_sizeã\n\nå¨ /usr/my.cnf ä¸­åå¦ä¸éç½®ï¼\n\nkey_buffer_size=512m\n\n\n1\n\n\nshow variables like 'key_buffer_size' -- æ¥çå¤§å°\n\n\n1\n\n * read_buffer_size\n\nå¦æéè¦ç»å¸¸é¡ºåºæ«æmyisamè¡¨ï¼å¯ä»¥éè¿å¢å¤§read_buffer_sizeçå¼æ¥æ¹åæ§è½ãä½éè¦æ³¨æçæ¯read_buffer_sizeæ¯æ¯ä¸ªsessionç¬å çï¼å¦æé»è®¤å¼è®¾ç½®å¤ªå¤§ï¼å°±ä¼é æåå­æµªè´¹ã\n\n * read_rnd_buffer_size\n\nå¯¹äºéè¦åæåºçmyisamè¡¨çæ¥è¯¢ï¼å¦å¸¦æorder byå­å¥çsqlï¼éå½å¢å  read_rnd_buffer_size çå¼ï¼å¯ä»¥æ¹åæ­¤ç±»çsqlæ§è½ãä½éè¦æ³¨æçæ¯ read_rnd_buffer_size æ¯æ¯ä¸ªsessionç¬å çï¼å¦æé»è®¤å¼è®¾ç½®å¤ªå¤§ï¼å°±ä¼é æåå­æµªè´¹ã\n\n\n# innodb åå­ä¼å\n\ninnodbç¨ä¸ååå­åºåioç¼å­æ± ï¼è¯¥ç¼å­æ± ä¸ä»ç¨æ¥ç¼å­innodbçç´¢å¼åï¼èä¸ä¹ç¨æ¥ç¼å­innodbçæ°æ®åã\n\n * innodb_buffer_pool_size\n\nè¯¥åéå³å®äº innodb å­å¨å¼æè¡¨æ°æ®åç´¢å¼æ°æ®çæå¤§ç¼å­åºå¤§å°ãå¨ä¿è¯æä½ç³»ç»åå¶ä»ç¨åºæè¶³å¤åå­å¯ç¨çæåµä¸ï¼innodb_buffer_pool_size çå¼è¶å¤§ï¼ç¼å­å½ä¸­çè¶é«ï¼è®¿é®innodbè¡¨éè¦çç£çi/o å°±è¶å°ï¼æ§è½ä¹å°±è¶é«ã\n\ninnodb_buffer_pool_size=512m\n\n\n1\n\n * innodb_log_buffer_size\n\nå³å®äº innodb éåæ¥å¿ç¼å­çå¤§å°ï¼å¯¹äºå¯è½äº§çå¤§éæ´æ°è®°å½çå¤§äºå¡ï¼å¢å innodb_log_buffer_sizeçå¤§å°ï¼å¯ä»¥é¿åinnodbå¨äºå¡æäº¤åå°±æ§è¡ä¸å¿è¦çæ¥å¿åå¥ç£çæä½ã\n\ninnodb_log_buffer_size=10m\n\n\n1\n",charsets:{cjk:!0},lastUpdated:"2021/05/26, 10:05:00",lastUpdatedTimestamp:1622024154e3},{title:"MySQL - ä¼åSQLæ£æµæ­¥éª¤",frontmatter:{title:"MySQL - ä¼åSQLæ£æµæ­¥éª¤",permalink:"/mysql/optimize-sql-check/",date:"2021-05-20T20:51:46.000Z"},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/05.MySQL/10.MySQL%20-%20%E4%BC%98%E5%8C%96SQL%E6%A3%80%E6%B5%8B%E6%AD%A5%E9%AA%A4.html",relativePath:"03.æ°æ®åº/05.MySQL/10.MySQL - ä¼åSQLæ£æµæ­¥éª¤.md",key:"v-bcb1749a",path:"/mysql/optimize-sql-check/",headers:[{level:2,title:"æ¥çSQLæ§è¡é¢ç",slug:"æ¥çsqlæ§è¡é¢ç",normalizedTitle:"æ¥çsqlæ§è¡é¢ç",charIndex:14},{level:2,title:"å®ä½ä½æçæ§è¡SQL",slug:"å®ä½ä½æçæ§è¡sql",normalizedTitle:"å®ä½ä½æçæ§è¡sql",charIndex:27},{level:2,title:"explainåææ§è¡è®¡å",slug:"explainåææ§è¡è®¡å",normalizedTitle:"explainåææ§è¡è®¡å",charIndex:41},{level:3,title:"ç¯å¢åå¤",slug:"ç¯å¢åå¤",normalizedTitle:"ç¯å¢åå¤",charIndex:60},{level:3,title:"explain ä¹ id",slug:"explain-ä¹-id",normalizedTitle:"explain ä¹ id",charIndex:70},{level:3,title:"explain ä¹ select_type",slug:"explain-ä¹-select-type",normalizedTitle:"explain ä¹ select_type",charIndex:88},{level:3,title:"explain ä¹ table",slug:"explain-ä¹-table",normalizedTitle:"explain ä¹ table",charIndex:115},{level:3,title:"explain ä¹ type",slug:"explain-ä¹-type",normalizedTitle:"explain ä¹ type",charIndex:136},{level:3,title:"explain ä¹ key",slug:"explain-ä¹-key",normalizedTitle:"explain ä¹ key",charIndex:156},{level:3,title:"explain ä¹ rows",slug:"explain-ä¹-rows",normalizedTitle:"explain ä¹ rows",charIndex:175},{level:3,title:"explain ä¹ extra",slug:"explain-ä¹-extra",normalizedTitle:"explain ä¹ extra",charIndex:195},{level:2,title:"show profileåæSQL",slug:"show-profileåæsql",normalizedTitle:"show profileåæsql",charIndex:214},{level:2,title:"traceåæä¼åå¨æ§è¡è®¡å",slug:"traceåæä¼åå¨æ§è¡è®¡å",normalizedTitle:"traceåæä¼åå¨æ§è¡è®¡å",charIndex:235}],headersStr:"æ¥çSQLæ§è¡é¢ç å®ä½ä½æçæ§è¡SQL explainåææ§è¡è®¡å ç¯å¢åå¤ explain ä¹ id explain ä¹ select_type explain ä¹ table explain ä¹ type explain ä¹ key explain ä¹ rows explain ä¹ extra show profileåæSQL traceåæä¼åå¨æ§è¡è®¡å",content:'# ä¼åSQLæ­¥éª¤\n\n * æ¥çSQLæ§è¡é¢ç\n * å®ä½ä½æçæ§è¡SQL\n * explainåææ§è¡è®¡å\n   * ç¯å¢åå¤\n   * explain ä¹ id\n   * explain ä¹ select_type\n   * explain ä¹ table\n   * explain ä¹ type\n   * explain ä¹ key\n   * explain ä¹ rows\n   * explain ä¹ extra\n * show profileåæSQL\n * traceåæä¼åå¨æ§è¡è®¡å\n\nå¨åºç¨ççå¼åè¿ç¨ä¸­ï¼ç±äºåææ°æ®éå°ï¼å¼åäººåå SQL è¯­å¥æ¶æ´éè§åè½ä¸çå®ç°ï¼ä½æ¯å½åºç¨ç³»ç»æ­£å¼ä¸çº¿åï¼éççäº§æ°æ®éçæ¥å§å¢é¿ï¼å¾å¤ SQL è¯­å¥å¼å§éæ¸æ¾é²åºæ§è½é®é¢ï¼å¯¹çäº§çå½±åä¹è¶æ¥è¶å¤§ï¼æ­¤æ¶è¿äºæé®é¢ç SQL è¯­å¥å°±æä¸ºæ´ä¸ªç³»ç»æ§è½çç¶é¢ï¼å æ­¤æä»¬å¿é¡»è¦å¯¹å®ä»¬è¿è¡ä¼åï¼æ¬ç« å°è¯¦ç»ä»ç»å¨ MySQL ä¸­ä¼å SQL è¯­å¥çæ¹æ³ã\n\nå½é¢å¯¹ä¸ä¸ªæ SQL æ§è½é®é¢çæ°æ®åºæ¶ï¼æä»¬åºè¯¥ä»ä½å¤å¥ææ¥è¿è¡ç³»ç»çåæï¼ä½¿å¾è½å¤å°½å¿«å®ä½é®é¢ SQL å¹¶å°½å¿«è§£å³é®é¢ã\n\n\n# æ¥çSQLæ§è¡é¢ç\n\nMySQL å®¢æ·ç«¯è¿æ¥æååï¼éè¿ show [session|global] status å½ä»¤å¯ä»¥æä¾æå¡å¨ç¶æä¿¡æ¯ã\n\nshow [session|global] status å¯ä»¥æ ¹æ®éè¦å ä¸åæ°âsessionâæèâglobalâæ¥æ¾ç¤º session çº§ï¼å½åè¿æ¥ï¼çè®¡ç»æå global çº§ï¼èªæ°æ®åºä¸æ¬¡å¯å¨è³ä»ï¼çç»è®¡ç»æãå¦æä¸åï¼é»è®¤ä½¿ç¨åæ°æ¯âsessionâã\n\nä¸é¢çå½ä»¤æ¾ç¤ºäºå½å session ä¸­ææç»è®¡åæ°çå¼ï¼\n\nshow status like \'Com_______\';\n\n\n1\n\n\nCom_xxx è¡¨ç¤ºæ¯ä¸ª xxx è¯­å¥æ§è¡çæ¬¡æ°\n\n\n\nshow status like \'Innodb_rows_%\';\n\n\n1\n\n\næä»¬éå¸¸æ¯è¾å³å¿çæ¯ä»¥ä¸å ä¸ªç»è®¡åæ°\n\nåæ°                     å«ä¹\nCom_select             æ§è¡ select æä½çæ¬¡æ°ï¼ä¸æ¬¡æ¥è¯¢åªç´¯å  1ã\nCom_insert             æ§è¡ INSERT æä½çæ¬¡æ°ï¼å¯¹äºæ¹éæå¥ç INSERT æä½ï¼åªç´¯å ä¸æ¬¡ã\nCom_update             æ§è¡ UPDATE æä½çæ¬¡æ°ã\nCom_delete             æ§è¡ DELETE æä½çæ¬¡æ°ã\nInnodb_rows_read       select æ¥è¯¢è¿åçè¡æ°ã\nInnodb_rows_inserted   æ§è¡ INSERT æä½æå¥çè¡æ°ã\nInnodb_rows_updated    æ§è¡ UPDATE æä½æ´æ°çè¡æ°ã\nInnodb_rows_deleted    æ§è¡ DELETE æä½å é¤çè¡æ°ã\nConnections            è¯å¾è¿æ¥ MySQL æå¡å¨çæ¬¡æ°ã\nUptime                 æå¡å¨å·¥ä½æ¶é´ã\nSlow_queries           æ¢æ¥è¯¢çæ¬¡æ°ã\n\nCom_*** : è¿äºåæ°å¯¹äºææå­å¨å¼æçè¡¨æä½é½ä¼è¿è¡ç´¯è®¡ã\n\nInnodb_*** : è¿å ä¸ªåæ°åªæ¯éå¯¹InnoDB å­å¨å¼æçï¼ç´¯å çç®æ³ä¹ç¥æä¸åã\n\n\n# å®ä½ä½æçæ§è¡SQL\n\n * æ¢æ¥è¯¢æ¥å¿\n   \n   éè¿æ¢æ¥è¯¢æ¥å¿å®ä½é£äºæ§è¡æçè¾ä½ç SQL è¯­å¥ï¼ç¨ log-slow-queries[file_name] éé¡¹å¯å¨æ¶ï¼mysqld åä¸ä¸ªåå«æææ§è¡æ¶é´è¶è¿ long_query_time ç§ç SQL è¯­å¥çæ¥å¿æä»¶ãå·ä½å¯ä»¥æ¥çæ¥å¿ç®¡ççç¸å³é¨åã\n\n * show processlist\n   \n   æ¢æ¥è¯¢æ¥å¿å¨æ¥è¯¢ç»æä»¥åæçºªå½ï¼æä»¥å¨åºç¨åæ æ§è¡æçåºç°é®é¢çæ¶åæ¥è¯¢æ¢æ¥è¯¢æ¥å¿å¹¶ä¸è½å®ä½é®é¢ï¼å¯ä»¥ä½¿ç¨ show processlist å½ä»¤æ¥çå½åMySQLå¨è¿è¡ççº¿ç¨ï¼åæ¬çº¿ç¨çç¶æãæ¯å¦éè¡¨ç­ï¼å¯ä»¥å®æ¶å°æ¥ç SQL çæ§è¡æåµï¼åæ¶å¯¹ä¸äºéè¡¨æä½è¿è¡ä¼åã\n\n\n\n1ï¼ idåï¼ç¨æ·ç»å½mysqlæ¶ï¼ç³»ç»åéç"connection_id"ï¼å¯ä»¥ä½¿ç¨å½æ°connection_id()æ¥ç\n\n2ï¼ useråï¼æ¾ç¤ºå½åç¨æ·ãå¦æä¸æ¯rootï¼è¿ä¸ªå½ä»¤å°±åªæ¾ç¤ºç¨æ·æéèå´çsqlè¯­å¥\n\n3ï¼ hoståï¼æ¾ç¤ºè¿ä¸ªè¯­å¥æ¯ä»åªä¸ªipçåªä¸ªç«¯å£ä¸åçï¼å¯ä»¥ç¨æ¥è·è¸ªåºç°é®é¢è¯­å¥çç¨æ·\n\n4ï¼ dbåï¼æ¾ç¤ºè¿ä¸ªè¿ç¨ç®åè¿æ¥çæ¯åªä¸ªæ°æ®åº\n\n5ï¼ commandåï¼æ¾ç¤ºå½åè¿æ¥çæ§è¡çå½ä»¤ï¼ä¸è¬åå¼ä¸ºä¼ç ï¼sleepï¼ï¼æ¥è¯¢ï¼queryï¼ï¼è¿æ¥ï¼connectï¼ç­\n\n6ï¼ timeåï¼æ¾ç¤ºè¿ä¸ªç¶ææç»­çæ¶é´ï¼åä½æ¯ç§\n\n7ï¼ stateåï¼æ¾ç¤ºä½¿ç¨å½åè¿æ¥çsqlè¯­å¥çç¶æï¼å¾éè¦çåãstateæè¿°çæ¯è¯­å¥æ§è¡ä¸­çæä¸ä¸ªç¶æãä¸ä¸ªsqlè¯­å¥ï¼ä»¥æ¥è¯¢ä¸ºä¾ï¼å¯è½éè¦ç»è¿copying to tmp tableãsorting resultãsending dataç­ç¶ææå¯ä»¥å®æ\n\n8ï¼ infoåï¼æ¾ç¤ºè¿ä¸ªsqlè¯­å¥ï¼æ¯å¤æ­é®é¢è¯­å¥çä¸ä¸ªéè¦ä¾æ®\n\n\n# explainåææ§è¡è®¡å\n\néè¿ EXPLAIN æè DESCå½ä»¤è·å MySQL å¦ä½æ§è¡ SELECT è¯­å¥çä¿¡æ¯ï¼åæ¬å¨ SELECT è¯­å¥æ§è¡è¿ç¨ä¸­è¡¨å¦ä½è¿æ¥åè¿æ¥çé¡ºåºã\n\nexplain  select * from tb_item where id = 1;\n\n\n1\n\n\n\n\n\n\nå­æ®µ              å«ä¹\nid              selectæ¥è¯¢çåºåå·ï¼æ¯ä¸ç»æ°å­ï¼è¡¨ç¤ºçæ¯æ¥è¯¢ä¸­æ§è¡selectå­å¥æèæ¯æä½è¡¨çé¡ºåºã\nselect_type     è¡¨ç¤º SELECT çç±»åï¼å¸¸è§çåå¼æ\n                SIMPLEï¼ç®åè¡¨ï¼å³ä¸ä½¿ç¨è¡¨è¿æ¥æèå­æ¥è¯¢ï¼ãPRIMARYï¼ä¸»æ¥è¯¢ï¼å³å¤å±çæ¥è¯¢ï¼ãUNIONï¼UNION\n                ä¸­çç¬¬äºä¸ªæèåé¢çæ¥è¯¢è¯­å¥ï¼ãSUBQUERYï¼å­æ¥è¯¢ä¸­çç¬¬ä¸ä¸ª SELECTï¼ç­\ntable           è¾åºç»æéçè¡¨\ntype            è¡¨ç¤ºè¡¨çè¿æ¥ç±»åï¼æ§è½ç±å¥½å°å·®çè¿æ¥ç±»åä¸º( system ---\x3e const -----\x3e eq_ref\n                ------\x3e ref -------\x3e ref_or_null----\x3e index_merge ---\x3e\n                index_subquery -----\x3e range -----\x3e index ------\x3e all )\npossible_keys   è¡¨ç¤ºæ¥è¯¢æ¶ï¼å¯è½ä½¿ç¨çç´¢å¼\nkey             è¡¨ç¤ºå®éä½¿ç¨çç´¢å¼\nkey_len         ç´¢å¼å­æ®µçé¿åº¦\nrows            æ«æè¡çæ°é\nextra           æ§è¡æåµçè¯´æåæè¿°\n\n\n# ç¯å¢åå¤\n\n\n\nCREATE TABLE `t_role` (\n  `id` VARCHAR(32) NOT NULL,\n  `role_name` VARCHAR(255) DEFAULT NULL,\n  `role_code` VARCHAR(255) DEFAULT NULL,\n  `description` VARCHAR(255) DEFAULT NULL,\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `unique_role_name` (`role_name`)\n) ENGINE=INNODB DEFAULT CHARSET=utf8;\n\nCREATE TABLE `t_user` (\n  `id` VARCHAR(32) NOT NULL,\n  `username` VARCHAR(45) NOT NULL,\n  `password` VARCHAR(96) NOT NULL,\n  `name` VARCHAR(45) NOT NULL,\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `unique_user_username` (`username`)\n) ENGINE=INNODB DEFAULT CHARSET=utf8;\n\nCREATE TABLE `user_role` (\n  `id` INT(11) NOT NULL AUTO_INCREMENT ,\n  `user_id` VARCHAR(32) DEFAULT NULL,\n  `role_id` VARCHAR(32) DEFAULT NULL,\n  PRIMARY KEY (`id`),\n  KEY `fk_ur_user_id` (`user_id`),\n  KEY `fk_ur_role_id` (`role_id`),\n  CONSTRAINT `fk_ur_role_id` FOREIGN KEY (`role_id`) REFERENCES `t_role` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION,\n  CONSTRAINT `fk_ur_user_id` FOREIGN KEY (`user_id`) REFERENCES `t_user` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION\n) ENGINE=INNODB DEFAULT CHARSET=utf8;\n\nINSERT INTO `t_user` (`id`, `username`, `password`, `name`) VALUES(\'1\',\'super\',\'$2a$10$TJ4TmCdK.X4wv/tCqHW14.w70U3CC33CeVncD3SLmyMXMknstqKRe\',\'è¶çº§ç®¡çå\');\nINSERT INTO `t_user` (`id`, `username`, `password`, `name`) VALUES(\'2\',\'admin\',\'$2a$10$TJ4TmCdK.X4wv/tCqHW14.w70U3CC33CeVncD3SLmyMXMknstqKRe\',\'ç³»ç»ç®¡çå\');\nINSERT INTO `t_user` (`id`, `username`, `password`, `name`) VALUES(\'3\',\'itcast\',\'$2a$10$8qmaHgUFUAmPR5pOuWhYWOr291WJYjHelUlYn07k5ELF8ZCrW0Cui\',\'test02\');\nINSERT INTO `t_user` (`id`, `username`, `password`, `name`) VALUES(\'4\',\'stu1\',\'$2a$10$pLtt2KDAFpwTWLjNsmTEi.oU1yOZyIn9XkziK/y/spH5rftCpUMZa\',\'å­¦ç1\');\nINSERT INTO `t_user` (`id`, `username`, `password`, `name`) VALUES(\'5\',\'stu2\',\'$2a$10$nxPKkYSez7uz2YQYUnwhR.z57km3yqKn3Hr/p1FR6ZKgc18u.Tvqm\',\'å­¦ç2\');\nINSERT INTO `t_user` (`id`, `username`, `password`, `name`) VALUES(\'6\',\'t1\',\'$2a$10$TJ4TmCdK.X4wv/tCqHW14.w70U3CC33CeVncD3SLmyMXMknstqKRe\',\'èå¸1\');\n\nINSERT INTO `t_role` (`id`, `role_name`, `role_code`, `description`) VALUES(\'5\',\'å­¦ç\',\'student\',\'å­¦ç\');\nINSERT INTO `t_role` (`id`, `role_name`, `role_code`, `description`) VALUES(\'7\',\'èå¸\',\'teacher\',\'èå¸\');\nINSERT INTO `t_role` (`id`, `role_name`, `role_code`, `description`) VALUES(\'8\',\'æå­¦ç®¡çå\',\'teachmanager\',\'æå­¦ç®¡çå\');\nINSERT INTO `t_role` (`id`, `role_name`, `role_code`, `description`) VALUES(\'9\',\'ç®¡çå\',\'admin\',\'ç®¡çå\');\nINSERT INTO `t_role` (`id`, `role_name`, `role_code`, `description`) VALUES(\'10\',\'è¶çº§ç®¡çå\',\'super\',\'è¶çº§ç®¡çå\');\n\nINSERT INTO user_role(id,user_id,role_id) VALUES(NULL, \'1\', \'5\'),(NULL, \'1\', \'7\'),(NULL, \'2\', \'8\'),(NULL, \'3\', \'9\'),(NULL, \'4\', \'8\'),(NULL, \'5\', \'10\') ;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n\n\n\n# explain ä¹ id\n\nid å­æ®µæ¯ selectæ¥è¯¢çåºåå·ï¼æ¯ä¸ç»æ°å­ï¼è¡¨ç¤ºçæ¯æ¥è¯¢ä¸­æ§è¡selectå­å¥æèæ¯æä½è¡¨çé¡ºåºãid æåµæä¸ç§\n\n1ï¼ id ç¸åè¡¨ç¤ºå è½½è¡¨çé¡ºåºæ¯ä»ä¸å°ä¸ã\n\nexplain select * from t_role r, t_user u, user_role ur where r.id = ur.role_id and u.id = ur.user_id ;\n\n\n1\n\n\n\n\n2ï¼ id ä¸åidå¼è¶å¤§ï¼ä¼åçº§è¶é«ï¼è¶åè¢«æ§è¡ã\n\nEXPLAIN SELECT * FROM t_role WHERE id = (SELECT role_id FROM user_role WHERE user_id = (SELECT id FROM t_user WHERE username = \'stu1\'))\n\n\n1\n\n\n\n\n3ï¼ id æç¸åï¼ä¹æä¸åï¼åæ¶å­å¨ãidç¸åçå¯ä»¥è®¤ä¸ºæ¯ä¸ç»ï¼ä»ä¸å¾ä¸é¡ºåºæ§è¡ï¼å¨ææçç»ä¸­ï¼idçå¼è¶å¤§ï¼ä¼åçº§è¶é«ï¼è¶åæ§è¡ã\n\nEXPLAIN SELECT * FROM t_role r , (SELECT * FROM user_role ur WHERE ur.`user_id` = \'2\') a WHERE r.id = a.role_id ; \n\n\n1\n\n\n\n\n\n# explain ä¹ select_type\n\nè¡¨ç¤º SELECT çç±»åï¼å¸¸è§çåå¼ï¼å¦ä¸è¡¨æç¤ºï¼\n\nSELECT_TYPE    å«ä¹\nSIMPLE         ç®åçselectæ¥è¯¢ï¼æ¥è¯¢ä¸­ä¸åå«å­æ¥è¯¢æèUNION\nPRIMARY        æ¥è¯¢ä¸­è¥åå«ä»»ä½å¤æçå­æ¥è¯¢ï¼æå¤å±æ¥è¯¢æ è®°ä¸ºè¯¥æ è¯\nSUBQUERY       å¨SELECT æ WHERE åè¡¨ä¸­åå«äºå­æ¥è¯¢\nDERIVED        å¨FROM åè¡¨ä¸­åå«çå­æ¥è¯¢ï¼è¢«æ è®°ä¸º DERIVEDï¼è¡çï¼ MYSQLä¼éå½æ§è¡è¿äºå­æ¥è¯¢ï¼æç»ææ¾å¨ä¸´æ¶è¡¨ä¸­\nUNION          è¥ç¬¬äºä¸ªSELECTåºç°å¨UNIONä¹åï¼åæ è®°ä¸ºUNION ï¼\n               è¥UNIONåå«å¨FROMå­å¥çå­æ¥è¯¢ä¸­ï¼å¤å±SELECTå°è¢«æ è®°ä¸º ï¼ DERIVED\nUNION RESULT   ä»UNIONè¡¨è·åç»æçSELECT\n\n * SIMPLE\n   \n   SIMPLE ä»£è¡¨åè¡¨æ¥è¯¢\n   \n   EXPLAIN SELECT * FROM t_user;\n   \n   \n   1\n   \n   \n   \n\n * PRIMARYãSUBQUERY\n   \n   å¨ SELECT æ WHERE åè¡¨ä¸­åå«äºå­æ¥è¯¢ãæå¤å±æ¥è¯¢åè¢«æ è®°ä¸º Primaryã\n   \n   explain select * from t_user where id = (select id from user_role where role_id=\'9\' );\n   \n   \n   1\n   \n   \n   \n\n * DERIVED\n   \n   å¨ FROM åè¡¨ä¸­åå«çå­æ¥è¯¢è¢«æ è®°ä¸º DERIVED(è¡ç)ï¼MySQL ä¼éå½æ§è¡è¿äºå­æ¥è¯¢, æç»ææ¾å¨ä¸´æ¶è¡¨éã\n   \n   explain select a.* from (select * from t_user where id in(\'1\',\'2\') ) a;\n   \n   \n   1\n   \n   \n   mysql 5.7 ä¸­ä¸º simple\n   \n   \n   \n   mysql 5.6 ä¸­ï¼\n   \n   \n\n * union\n   \n   explain select * from t_user where id=\'1\' union select * from  t_user where id=\'2\';\n   \n   \n   1\n   \n   \n   \n\n\n# explain ä¹ table\n\nå±ç¤ºè¿ä¸è¡çæ°æ®æ¯å³äºåªä¸å¼ è¡¨ç\n\næ²¡æä¸ä¹å³ç³»çè¡¨ä¸º NULL\n\n\n\n\n# explain ä¹ type\n\ntype æ¾ç¤ºçæ¯è®¿é®ç±»åï¼æ¯è¾ä¸ºéè¦çä¸ä¸ªææ ï¼å¯åå¼ä¸ºï¼\n\nTYPE     å«ä¹\nNULL     MySQLä¸è®¿é®ä»»ä½è¡¨ï¼ç´¢å¼ï¼ç´æ¥è¿åç»æ\nsystem   è¡¨åªæä¸è¡è®°å½(ç­äºç³»ç»è¡¨)ï¼è¿æ¯constç±»åçç¹ä¾ï¼ä¸è¬ä¸ä¼åºç°\nconst    è¡¨ç¤ºéè¿ç´¢å¼ä¸æ¬¡å°±æ¾å°äºï¼const ç¨äºæ¯è¾primary key æè unique\n         ç´¢å¼ãå ä¸ºåªå¹éä¸è¡æ°æ®ï¼æä»¥å¾å¿«ãå¦å°ä¸»é®ç½®äºwhereåè¡¨ä¸­ï¼MySQL å°±è½å°è¯¥æ¥è¯¢è½¬æ¢ä¸ºä¸ä¸ªå¸¸äº®ãconstäºå°\n         "ä¸»é®" æ "å¯ä¸" ç´¢å¼çææé¨åä¸å¸¸éå¼è¿è¡æ¯è¾\neq_ref   ç±»ä¼¼refï¼åºå«å¨äºä½¿ç¨çæ¯å¯ä¸ç´¢å¼ï¼ä½¿ç¨ä¸»é®çå³èæ¥è¯¢ï¼å³èæ¥è¯¢åºçè®°å½åªæä¸æ¡ãå¸¸è§äºä¸»é®æå¯ä¸ç´¢å¼æ«æ\nref      éå¯ä¸æ§ç´¢å¼æ«æï¼è¿åå¹éæä¸ªåç¬å¼çææè¡ãæ¬è´¨ä¸ä¹æ¯ä¸ç§ç´¢å¼è®¿é®ï¼è¿åææå¹éæä¸ªåç¬å¼çææè¡ï¼å¤ä¸ªï¼\nrange    åªæ£ç´¢ç»å®è¿åçè¡ï¼ä½¿ç¨ä¸ä¸ªç´¢å¼æ¥éæ©è¡ã where ä¹ååºç° between ï¼ < , > , in ç­æä½ã\nindex    index ä¸ ALLçåºå«ä¸º index ç±»ååªæ¯éåäºç´¢å¼æ ï¼ éå¸¸æ¯ALL å¿«ï¼ ALL æ¯éåæ°æ®æä»¶ã\nall      å°éåå¨è¡¨ä»¥æ¾å°å¹éçè¡\n\nç»æå¼ä»æå¥½å°æåä»¥æ­¤æ¯ï¼\n\n * NULL > system > const > eq_ref > ref > fulltext > ref_or_null > index_merge > unique_subquery > index_subquery > range > index > ALL\n\n * system > const > eq_ref > ref > range > index > ALL\n\nä¸è¬æ¥è¯´ï¼ æä»¬éè¦ä¿è¯æ¥è¯¢è³å°è¾¾å° range çº§å«ï¼ æå¥½è¾¾å°ref\n\n\n# explain ä¹ key\n\n * possible_keys :\n   \n   æ¾ç¤ºå¯è½åºç¨å¨è¿å¼ è¡¨çç´¢å¼ï¼ ä¸ä¸ªæå¤ä¸ªã\n\n * key\n   \n   å®éä½¿ç¨çç´¢å¼ï¼ å¦æä¸ºNULLï¼ åæ²¡æä½¿ç¨ç´¢å¼ã\n\n * key_len\n   \n   è¡¨ç¤ºç´¢å¼ä¸­ä½¿ç¨çå­èæ°ï¼ è¯¥å¼ä¸ºç´¢å¼å­æ®µæå¤§å¯è½é¿åº¦ï¼å¹¶éå®éä½¿ç¨é¿åº¦ï¼å¨ä¸æå¤±ç²¾ç¡®æ§çåæä¸ï¼ é¿åº¦è¶ç­è¶å¥½ ã\n\n\n# explain ä¹ rows\n\næ«æè¡çæ°éã\n\n\n# explain ä¹ extra\n\nå¶ä»çé¢å¤çæ§è¡è®¡åä¿¡æ¯ï¼å¨è¯¥åå±ç¤º ã\n\nEXTRA             å«ä¹\nusing filesort    è¯´æmysqlä¼å¯¹æ°æ®ä½¿ç¨ä¸ä¸ªå¤é¨çç´¢å¼æåºï¼èä¸æ¯æç§è¡¨åçç´¢å¼é¡ºåºè¿è¡è¯»åï¼ ç§°ä¸º âæä»¶æåºâ, æçä½ã\nusing temporary   ä½¿ç¨äºä¸´æ¶è¡¨ä¿å­ä¸­é´ç»æï¼MySQLå¨å¯¹æ¥è¯¢ç»ææåºæ¶ä½¿ç¨ä¸´æ¶è¡¨ãå¸¸è§äº order by å group byï¼\n                  æçä½\nusing index       è¡¨ç¤ºç¸åºçselectæä½ä½¿ç¨äºè¦çç´¢å¼ï¼ é¿åè®¿é®è¡¨çæ°æ®è¡ï¼ æçä¸éã\n\n\n# show profileåæSQL\n\nMysqlä»5.0.37çæ¬å¼å§å¢å äºå¯¹ show profiles å show profile è¯­å¥çæ¯æã\n\nshow profiles è½å¤å¨åSQLä¼åæ¶å¸®å©æä»¬äºè§£æ¶é´é½èè´¹å°åªéå»äºã\n\néè¿ have_profiling åæ°ï¼è½å¤çå°å½åMySQLæ¯å¦æ¯æprofileï¼\n\n\n\né»è®¤profilingæ¯å³é­çï¼å¯ä»¥éè¿setè¯­å¥å¨Sessionçº§å«å¼å¯profilingï¼\n\n\n\nset profiling=1; //å¼å¯profiling å¼å³ï¼\n\n\n1\n\n\néè¿profileï¼æä»¬è½å¤æ´æ¸æ¥å°äºè§£SQLæ§è¡çè¿ç¨ã\n\næä»¬å¯ä»¥æ§è¡ä¸ç³»åçæä½ï¼\n\nshow databases;\n\nuse db01;\n\nshow tables;\n\nselect * from tb_item where id < 5;\n\nselect count(*) from tb_item;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\næ§è¡å®ä¸è¿°å½ä»¤ä¹åï¼åæ§è¡ show profiles æä»¤ï¼ æ¥æ¥çSQLè¯­å¥æ§è¡çèæ¶ï¼\n\n\n\néè¿ show profile for query query_id è¯­å¥æ¥çè¯¥SQLæ§è¡è¿ç¨ä¸­æ¯ä¸ªçº¿ç¨çç¶æåæ¶èçæ¶é´\n\n\n\nTIPï¼Sending data ç¶æè¡¨ç¤º MySQL çº¿ç¨å¼å§è®¿é®æ°æ®è¡å¹¶æç»æè¿åç»å®¢æ·ç«¯ï¼èä¸ä»ä»æ¯è¿åä¸ªå®¢æ·ç«¯ãç±äºå¨ Sending data ç¶æä¸ï¼MySQL çº¿ç¨å¾å¾éè¦åå¤§éçç£çè¯»åæä½ï¼æä»¥ç»å¸¸æ¯æ´åæ¥è¯¢ä¸­èæ¶æé¿çç¶æã\n\nå¨è·åå°ææ¶èæ¶é´ççº¿ç¨ç¶æåï¼MySQLæ¯æè¿ä¸æ­¥éæ©allãcpuãblock io ãcontext switchãpage faultsç­æç»ç±»åç±»æ¥çMySQLå¨ä½¿ç¨ä»ä¹èµæºä¸èè´¹äºè¿é«çæ¶é´ãä¾å¦ï¼éæ©æ¥çCPUçèè´¹æ¶é´ ï¼\n\n\n\nå­æ®µ           å«ä¹\nStatus       sql è¯­å¥æ§è¡çç¶æ\nDuration     sql æ§è¡è¿ç¨ä¸­æ¯ä¸ä¸ªæ­¥éª¤çèæ¶\nCPU_user     å½åç¨æ·å æçcpu\nCPU_system   ç³»ç»å æçcpu\n\n\n# traceåæä¼åå¨æ§è¡è®¡å\n\nMySQL5.6æä¾äºå¯¹SQLçè·è¸ªtrace, éè¿traceæä»¶è½å¤è¿ä¸æ­¥äºè§£ä¸ºä»ä¹ä¼åå¨éæ©Aè®¡å, èä¸æ¯éæ©Bè®¡åã\n\næå¼trace ï¼ è®¾ç½®æ ¼å¼ä¸º JSONï¼å¹¶è®¾ç½®traceæå¤§è½å¤ä½¿ç¨çåå­å¤§å°ï¼é¿åè§£æè¿ç¨ä¸­å ä¸ºé»è®¤åå­è¿å°èä¸è½å¤å®æ´å±ç¤ºã\n\nSET optimizer_trace="enabled=on",end_markers_in_json=on;\nset optimizer_trace_max_mem_size=1000000;\n\n\n1\n2\n\n\næ§è¡SQLè¯­å¥ ï¼\n\nselect * from tb_item where id < 4;\n\n\n1\n\n\næåï¼ æ£æ¥ information_schema.optimizer_trace å°±å¯ä»¥ç¥éMySQLæ¯å¦ä½æ§è¡SQLç ï¼\n\nselect * from information_schema.optimizer_trace\\G;\n\n\n1\n\n\n*************************** 1. row ***************************\nQUERY: select * from tb_item where id < 4\nTRACE: {\n  "steps": [\n    {\n      "join_preparation": {\n        "select#": 1,\n        "steps": [\n          {\n            "expanded_query": "/* select#1 */ select `tb_item`.`id` AS `id`,`tb_item`.`title` AS `title`,`tb_item`.`price` AS `price`,`tb_item`.`num` AS `num`,`tb_item`.`categoryid` AS `categoryid`,`tb_item`.`status` AS `status`,`tb_item`.`sellerid` AS `sellerid`,`tb_item`.`createtime` AS `createtime`,`tb_item`.`updatetime` AS `updatetime` from `tb_item` where (`tb_item`.`id` < 4)"\n          }\n        ] /* steps */\n      } /* join_preparation */\n    },\n    {\n      "join_optimization": {\n        "select#": 1,\n        "steps": [\n          {\n            "condition_processing": {\n              "condition": "WHERE",\n              "original_condition": "(`tb_item`.`id` < 4)",\n              "steps": [\n                {\n                  "transformation": "equality_propagation",\n                  "resulting_condition": "(`tb_item`.`id` < 4)"\n                },\n                {\n                  "transformation": "constant_propagation",\n                  "resulting_condition": "(`tb_item`.`id` < 4)"\n                },\n                {\n                  "transformation": "trivial_condition_removal",\n                  "resulting_condition": "(`tb_item`.`id` < 4)"\n                }\n              ] /* steps */\n            } /* condition_processing */\n          },\n          {\n            "table_dependencies": [\n              {\n                "table": "`tb_item`",\n                "row_may_be_null": false,\n                "map_bit": 0,\n                "depends_on_map_bits": [\n                ] /* depends_on_map_bits */\n              }\n            ] /* table_dependencies */\n          },\n          {\n            "ref_optimizer_key_uses": [\n            ] /* ref_optimizer_key_uses */\n          },\n          {\n            "rows_estimation": [\n              {\n                "table": "`tb_item`",\n                "range_analysis": {\n                  "table_scan": {\n                    "rows": 9816098,\n                    "cost": 2.04e6\n                  } /* table_scan */,\n                  "potential_range_indices": [\n                    {\n                      "index": "PRIMARY",\n                      "usable": true,\n                      "key_parts": [\n                        "id"\n                      ] /* key_parts */\n                    }\n                  ] /* potential_range_indices */,\n                  "setup_range_conditions": [\n                  ] /* setup_range_conditions */,\n                  "group_index_range": {\n                    "chosen": false,\n                    "cause": "not_group_by_or_distinct"\n                  } /* group_index_range */,\n                  "analyzing_range_alternatives": {\n                    "range_scan_alternatives": [\n                      {\n                        "index": "PRIMARY",\n                        "ranges": [\n                          "id < 4"\n                        ] /* ranges */,\n                        "index_dives_for_eq_ranges": true,\n                        "rowid_ordered": true,\n                        "using_mrr": false,\n                        "index_only": false,\n                        "rows": 3,\n                        "cost": 1.6154,\n                        "chosen": true\n                      }\n                    ] /* range_scan_alternatives */,\n                    "analyzing_roworder_intersect": {\n                      "usable": false,\n                      "cause": "too_few_roworder_scans"\n                    } /* analyzing_roworder_intersect */\n                  } /* analyzing_range_alternatives */,\n                  "chosen_range_access_summary": {\n                    "range_access_plan": {\n                      "type": "range_scan",\n                      "index": "PRIMARY",\n                      "rows": 3,\n                      "ranges": [\n                        "id < 4"\n                      ] /* ranges */\n                    } /* range_access_plan */,\n                    "rows_for_plan": 3,\n                    "cost_for_plan": 1.6154,\n                    "chosen": true\n                  } /* chosen_range_access_summary */\n                } /* range_analysis */\n              }\n            ] /* rows_estimation */\n          },\n          {\n            "considered_execution_plans": [\n              {\n                "plan_prefix": [\n                ] /* plan_prefix */,\n                "table": "`tb_item`",\n                "best_access_path": {\n                  "considered_access_paths": [\n                    {\n                      "access_type": "range",\n                      "rows": 3,\n                      "cost": 2.2154,\n                      "chosen": true\n                    }\n                  ] /* considered_access_paths */\n                } /* best_access_path */,\n                "cost_for_plan": 2.2154,\n                "rows_for_plan": 3,\n                "chosen": true\n              }\n            ] /* considered_execution_plans */\n          },\n          {\n            "attaching_conditions_to_tables": {\n              "original_condition": "(`tb_item`.`id` < 4)",\n              "attached_conditions_computation": [\n              ] /* attached_conditions_computation */,\n              "attached_conditions_summary": [\n                {\n                  "table": "`tb_item`",\n                  "attached": "(`tb_item`.`id` < 4)"\n                }\n              ] /* attached_conditions_summary */\n            } /* attaching_conditions_to_tables */\n          },\n          {\n            "refine_plan": [\n              {\n                "table": "`tb_item`",\n                "access_type": "range"\n              }\n            ] /* refine_plan */\n          }\n        ] /* steps */\n      } /* join_optimization */\n    },\n    {\n      "join_execution": {\n        "select#": 1,\n        "steps": [\n        ] /* steps */\n      } /* join_execution */\n    }\n  ] /* steps */\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n157\n158\n159\n160\n161\n162\n163\n164\n165\n166\n167\n168\n169\n170\n',normalizedContent:'# ä¼åsqlæ­¥éª¤\n\n * æ¥çsqlæ§è¡é¢ç\n * å®ä½ä½æçæ§è¡sql\n * explainåææ§è¡è®¡å\n   * ç¯å¢åå¤\n   * explain ä¹ id\n   * explain ä¹ select_type\n   * explain ä¹ table\n   * explain ä¹ type\n   * explain ä¹ key\n   * explain ä¹ rows\n   * explain ä¹ extra\n * show profileåæsql\n * traceåæä¼åå¨æ§è¡è®¡å\n\nå¨åºç¨ççå¼åè¿ç¨ä¸­ï¼ç±äºåææ°æ®éå°ï¼å¼åäººåå sql è¯­å¥æ¶æ´éè§åè½ä¸çå®ç°ï¼ä½æ¯å½åºç¨ç³»ç»æ­£å¼ä¸çº¿åï¼éççäº§æ°æ®éçæ¥å§å¢é¿ï¼å¾å¤ sql è¯­å¥å¼å§éæ¸æ¾é²åºæ§è½é®é¢ï¼å¯¹çäº§çå½±åä¹è¶æ¥è¶å¤§ï¼æ­¤æ¶è¿äºæé®é¢ç sql è¯­å¥å°±æä¸ºæ´ä¸ªç³»ç»æ§è½çç¶é¢ï¼å æ­¤æä»¬å¿é¡»è¦å¯¹å®ä»¬è¿è¡ä¼åï¼æ¬ç« å°è¯¦ç»ä»ç»å¨ mysql ä¸­ä¼å sql è¯­å¥çæ¹æ³ã\n\nå½é¢å¯¹ä¸ä¸ªæ sql æ§è½é®é¢çæ°æ®åºæ¶ï¼æä»¬åºè¯¥ä»ä½å¤å¥ææ¥è¿è¡ç³»ç»çåæï¼ä½¿å¾è½å¤å°½å¿«å®ä½é®é¢ sql å¹¶å°½å¿«è§£å³é®é¢ã\n\n\n# æ¥çsqlæ§è¡é¢ç\n\nmysql å®¢æ·ç«¯è¿æ¥æååï¼éè¿ show [session|global] status å½ä»¤å¯ä»¥æä¾æå¡å¨ç¶æä¿¡æ¯ã\n\nshow [session|global] status å¯ä»¥æ ¹æ®éè¦å ä¸åæ°âsessionâæèâglobalâæ¥æ¾ç¤º session çº§ï¼å½åè¿æ¥ï¼çè®¡ç»æå global çº§ï¼èªæ°æ®åºä¸æ¬¡å¯å¨è³ä»ï¼çç»è®¡ç»æãå¦æä¸åï¼é»è®¤ä½¿ç¨åæ°æ¯âsessionâã\n\nä¸é¢çå½ä»¤æ¾ç¤ºäºå½å session ä¸­ææç»è®¡åæ°çå¼ï¼\n\nshow status like \'com_______\';\n\n\n1\n\n\ncom_xxx è¡¨ç¤ºæ¯ä¸ª xxx è¯­å¥æ§è¡çæ¬¡æ°\n\n\n\nshow status like \'innodb_rows_%\';\n\n\n1\n\n\næä»¬éå¸¸æ¯è¾å³å¿çæ¯ä»¥ä¸å ä¸ªç»è®¡åæ°\n\nåæ°                     å«ä¹\ncom_select             æ§è¡ select æä½çæ¬¡æ°ï¼ä¸æ¬¡æ¥è¯¢åªç´¯å  1ã\ncom_insert             æ§è¡ insert æä½çæ¬¡æ°ï¼å¯¹äºæ¹éæå¥ç insert æä½ï¼åªç´¯å ä¸æ¬¡ã\ncom_update             æ§è¡ update æä½çæ¬¡æ°ã\ncom_delete             æ§è¡ delete æä½çæ¬¡æ°ã\ninnodb_rows_read       select æ¥è¯¢è¿åçè¡æ°ã\ninnodb_rows_inserted   æ§è¡ insert æä½æå¥çè¡æ°ã\ninnodb_rows_updated    æ§è¡ update æä½æ´æ°çè¡æ°ã\ninnodb_rows_deleted    æ§è¡ delete æä½å é¤çè¡æ°ã\nconnections            è¯å¾è¿æ¥ mysql æå¡å¨çæ¬¡æ°ã\nuptime                 æå¡å¨å·¥ä½æ¶é´ã\nslow_queries           æ¢æ¥è¯¢çæ¬¡æ°ã\n\ncom_*** : è¿äºåæ°å¯¹äºææå­å¨å¼æçè¡¨æä½é½ä¼è¿è¡ç´¯è®¡ã\n\ninnodb_*** : è¿å ä¸ªåæ°åªæ¯éå¯¹innodb å­å¨å¼æçï¼ç´¯å çç®æ³ä¹ç¥æä¸åã\n\n\n# å®ä½ä½æçæ§è¡sql\n\n * æ¢æ¥è¯¢æ¥å¿\n   \n   éè¿æ¢æ¥è¯¢æ¥å¿å®ä½é£äºæ§è¡æçè¾ä½ç sql è¯­å¥ï¼ç¨ log-slow-queries[file_name] éé¡¹å¯å¨æ¶ï¼mysqld åä¸ä¸ªåå«æææ§è¡æ¶é´è¶è¿ long_query_time ç§ç sql è¯­å¥çæ¥å¿æä»¶ãå·ä½å¯ä»¥æ¥çæ¥å¿ç®¡ççç¸å³é¨åã\n\n * show processlist\n   \n   æ¢æ¥è¯¢æ¥å¿å¨æ¥è¯¢ç»æä»¥åæçºªå½ï¼æä»¥å¨åºç¨åæ æ§è¡æçåºç°é®é¢çæ¶åæ¥è¯¢æ¢æ¥è¯¢æ¥å¿å¹¶ä¸è½å®ä½é®é¢ï¼å¯ä»¥ä½¿ç¨ show processlist å½ä»¤æ¥çå½åmysqlå¨è¿è¡ççº¿ç¨ï¼åæ¬çº¿ç¨çç¶æãæ¯å¦éè¡¨ç­ï¼å¯ä»¥å®æ¶å°æ¥ç sql çæ§è¡æåµï¼åæ¶å¯¹ä¸äºéè¡¨æä½è¿è¡ä¼åã\n\n\n\n1ï¼ idåï¼ç¨æ·ç»å½mysqlæ¶ï¼ç³»ç»åéç"connection_id"ï¼å¯ä»¥ä½¿ç¨å½æ°connection_id()æ¥ç\n\n2ï¼ useråï¼æ¾ç¤ºå½åç¨æ·ãå¦æä¸æ¯rootï¼è¿ä¸ªå½ä»¤å°±åªæ¾ç¤ºç¨æ·æéèå´çsqlè¯­å¥\n\n3ï¼ hoståï¼æ¾ç¤ºè¿ä¸ªè¯­å¥æ¯ä»åªä¸ªipçåªä¸ªç«¯å£ä¸åçï¼å¯ä»¥ç¨æ¥è·è¸ªåºç°é®é¢è¯­å¥çç¨æ·\n\n4ï¼ dbåï¼æ¾ç¤ºè¿ä¸ªè¿ç¨ç®åè¿æ¥çæ¯åªä¸ªæ°æ®åº\n\n5ï¼ commandåï¼æ¾ç¤ºå½åè¿æ¥çæ§è¡çå½ä»¤ï¼ä¸è¬åå¼ä¸ºä¼ç ï¼sleepï¼ï¼æ¥è¯¢ï¼queryï¼ï¼è¿æ¥ï¼connectï¼ç­\n\n6ï¼ timeåï¼æ¾ç¤ºè¿ä¸ªç¶ææç»­çæ¶é´ï¼åä½æ¯ç§\n\n7ï¼ stateåï¼æ¾ç¤ºä½¿ç¨å½åè¿æ¥çsqlè¯­å¥çç¶æï¼å¾éè¦çåãstateæè¿°çæ¯è¯­å¥æ§è¡ä¸­çæä¸ä¸ªç¶æãä¸ä¸ªsqlè¯­å¥ï¼ä»¥æ¥è¯¢ä¸ºä¾ï¼å¯è½éè¦ç»è¿copying to tmp tableãsorting resultãsending dataç­ç¶ææå¯ä»¥å®æ\n\n8ï¼ infoåï¼æ¾ç¤ºè¿ä¸ªsqlè¯­å¥ï¼æ¯å¤æ­é®é¢è¯­å¥çä¸ä¸ªéè¦ä¾æ®\n\n\n# explainåææ§è¡è®¡å\n\néè¿ explain æè descå½ä»¤è·å mysql å¦ä½æ§è¡ select è¯­å¥çä¿¡æ¯ï¼åæ¬å¨ select è¯­å¥æ§è¡è¿ç¨ä¸­è¡¨å¦ä½è¿æ¥åè¿æ¥çé¡ºåºã\n\nexplain  select * from tb_item where id = 1;\n\n\n1\n\n\n\n\n\n\nå­æ®µ              å«ä¹\nid              selectæ¥è¯¢çåºåå·ï¼æ¯ä¸ç»æ°å­ï¼è¡¨ç¤ºçæ¯æ¥è¯¢ä¸­æ§è¡selectå­å¥æèæ¯æä½è¡¨çé¡ºåºã\nselect_type     è¡¨ç¤º select çç±»åï¼å¸¸è§çåå¼æ\n                simpleï¼ç®åè¡¨ï¼å³ä¸ä½¿ç¨è¡¨è¿æ¥æèå­æ¥è¯¢ï¼ãprimaryï¼ä¸»æ¥è¯¢ï¼å³å¤å±çæ¥è¯¢ï¼ãunionï¼union\n                ä¸­çç¬¬äºä¸ªæèåé¢çæ¥è¯¢è¯­å¥ï¼ãsubqueryï¼å­æ¥è¯¢ä¸­çç¬¬ä¸ä¸ª selectï¼ç­\ntable           è¾åºç»æéçè¡¨\ntype            è¡¨ç¤ºè¡¨çè¿æ¥ç±»åï¼æ§è½ç±å¥½å°å·®çè¿æ¥ç±»åä¸º( system ---\x3e const -----\x3e eq_ref\n                ------\x3e ref -------\x3e ref_or_null----\x3e index_merge ---\x3e\n                index_subquery -----\x3e range -----\x3e index ------\x3e all )\npossible_keys   è¡¨ç¤ºæ¥è¯¢æ¶ï¼å¯è½ä½¿ç¨çç´¢å¼\nkey             è¡¨ç¤ºå®éä½¿ç¨çç´¢å¼\nkey_len         ç´¢å¼å­æ®µçé¿åº¦\nrows            æ«æè¡çæ°é\nextra           æ§è¡æåµçè¯´æåæè¿°\n\n\n# ç¯å¢åå¤\n\n\n\ncreate table `t_role` (\n  `id` varchar(32) not null,\n  `role_name` varchar(255) default null,\n  `role_code` varchar(255) default null,\n  `description` varchar(255) default null,\n  primary key (`id`),\n  unique key `unique_role_name` (`role_name`)\n) engine=innodb default charset=utf8;\n\ncreate table `t_user` (\n  `id` varchar(32) not null,\n  `username` varchar(45) not null,\n  `password` varchar(96) not null,\n  `name` varchar(45) not null,\n  primary key (`id`),\n  unique key `unique_user_username` (`username`)\n) engine=innodb default charset=utf8;\n\ncreate table `user_role` (\n  `id` int(11) not null auto_increment ,\n  `user_id` varchar(32) default null,\n  `role_id` varchar(32) default null,\n  primary key (`id`),\n  key `fk_ur_user_id` (`user_id`),\n  key `fk_ur_role_id` (`role_id`),\n  constraint `fk_ur_role_id` foreign key (`role_id`) references `t_role` (`id`) on delete no action on update no action,\n  constraint `fk_ur_user_id` foreign key (`user_id`) references `t_user` (`id`) on delete no action on update no action\n) engine=innodb default charset=utf8;\n\ninsert into `t_user` (`id`, `username`, `password`, `name`) values(\'1\',\'super\',\'$2a$10$tj4tmcdk.x4wv/tcqhw14.w70u3cc33cevncd3slmymxmknstqkre\',\'è¶çº§ç®¡çå\');\ninsert into `t_user` (`id`, `username`, `password`, `name`) values(\'2\',\'admin\',\'$2a$10$tj4tmcdk.x4wv/tcqhw14.w70u3cc33cevncd3slmymxmknstqkre\',\'ç³»ç»ç®¡çå\');\ninsert into `t_user` (`id`, `username`, `password`, `name`) values(\'3\',\'itcast\',\'$2a$10$8qmahgufuampr5pouwhywor291wjyjhelulyn07k5elf8zcrw0cui\',\'test02\');\ninsert into `t_user` (`id`, `username`, `password`, `name`) values(\'4\',\'stu1\',\'$2a$10$pltt2kdafpwtwljnsmtei.ou1yozyin9xkzik/y/sph5rftcpumza\',\'å­¦ç1\');\ninsert into `t_user` (`id`, `username`, `password`, `name`) values(\'5\',\'stu2\',\'$2a$10$nxpkkysez7uz2yqyunwhr.z57km3yqkn3hr/p1fr6zkgc18u.tvqm\',\'å­¦ç2\');\ninsert into `t_user` (`id`, `username`, `password`, `name`) values(\'6\',\'t1\',\'$2a$10$tj4tmcdk.x4wv/tcqhw14.w70u3cc33cevncd3slmymxmknstqkre\',\'èå¸1\');\n\ninsert into `t_role` (`id`, `role_name`, `role_code`, `description`) values(\'5\',\'å­¦ç\',\'student\',\'å­¦ç\');\ninsert into `t_role` (`id`, `role_name`, `role_code`, `description`) values(\'7\',\'èå¸\',\'teacher\',\'èå¸\');\ninsert into `t_role` (`id`, `role_name`, `role_code`, `description`) values(\'8\',\'æå­¦ç®¡çå\',\'teachmanager\',\'æå­¦ç®¡çå\');\ninsert into `t_role` (`id`, `role_name`, `role_code`, `description`) values(\'9\',\'ç®¡çå\',\'admin\',\'ç®¡çå\');\ninsert into `t_role` (`id`, `role_name`, `role_code`, `description`) values(\'10\',\'è¶çº§ç®¡çå\',\'super\',\'è¶çº§ç®¡çå\');\n\ninsert into user_role(id,user_id,role_id) values(null, \'1\', \'5\'),(null, \'1\', \'7\'),(null, \'2\', \'8\'),(null, \'3\', \'9\'),(null, \'4\', \'8\'),(null, \'5\', \'10\') ;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n\n\n\n# explain ä¹ id\n\nid å­æ®µæ¯ selectæ¥è¯¢çåºåå·ï¼æ¯ä¸ç»æ°å­ï¼è¡¨ç¤ºçæ¯æ¥è¯¢ä¸­æ§è¡selectå­å¥æèæ¯æä½è¡¨çé¡ºåºãid æåµæä¸ç§\n\n1ï¼ id ç¸åè¡¨ç¤ºå è½½è¡¨çé¡ºåºæ¯ä»ä¸å°ä¸ã\n\nexplain select * from t_role r, t_user u, user_role ur where r.id = ur.role_id and u.id = ur.user_id ;\n\n\n1\n\n\n\n\n2ï¼ id ä¸åidå¼è¶å¤§ï¼ä¼åçº§è¶é«ï¼è¶åè¢«æ§è¡ã\n\nexplain select * from t_role where id = (select role_id from user_role where user_id = (select id from t_user where username = \'stu1\'))\n\n\n1\n\n\n\n\n3ï¼ id æç¸åï¼ä¹æä¸åï¼åæ¶å­å¨ãidç¸åçå¯ä»¥è®¤ä¸ºæ¯ä¸ç»ï¼ä»ä¸å¾ä¸é¡ºåºæ§è¡ï¼å¨ææçç»ä¸­ï¼idçå¼è¶å¤§ï¼ä¼åçº§è¶é«ï¼è¶åæ§è¡ã\n\nexplain select * from t_role r , (select * from user_role ur where ur.`user_id` = \'2\') a where r.id = a.role_id ; \n\n\n1\n\n\n\n\n\n# explain ä¹ select_type\n\nè¡¨ç¤º select çç±»åï¼å¸¸è§çåå¼ï¼å¦ä¸è¡¨æç¤ºï¼\n\nselect_type    å«ä¹\nsimple         ç®åçselectæ¥è¯¢ï¼æ¥è¯¢ä¸­ä¸åå«å­æ¥è¯¢æèunion\nprimary        æ¥è¯¢ä¸­è¥åå«ä»»ä½å¤æçå­æ¥è¯¢ï¼æå¤å±æ¥è¯¢æ è®°ä¸ºè¯¥æ è¯\nsubquery       å¨select æ where åè¡¨ä¸­åå«äºå­æ¥è¯¢\nderived        å¨from åè¡¨ä¸­åå«çå­æ¥è¯¢ï¼è¢«æ è®°ä¸º derivedï¼è¡çï¼ mysqlä¼éå½æ§è¡è¿äºå­æ¥è¯¢ï¼æç»ææ¾å¨ä¸´æ¶è¡¨ä¸­\nunion          è¥ç¬¬äºä¸ªselectåºç°å¨unionä¹åï¼åæ è®°ä¸ºunion ï¼\n               è¥unionåå«å¨fromå­å¥çå­æ¥è¯¢ä¸­ï¼å¤å±selectå°è¢«æ è®°ä¸º ï¼ derived\nunion result   ä»unionè¡¨è·åç»æçselect\n\n * simple\n   \n   simple ä»£è¡¨åè¡¨æ¥è¯¢\n   \n   explain select * from t_user;\n   \n   \n   1\n   \n   \n   \n\n * primaryãsubquery\n   \n   å¨ select æ where åè¡¨ä¸­åå«äºå­æ¥è¯¢ãæå¤å±æ¥è¯¢åè¢«æ è®°ä¸º primaryã\n   \n   explain select * from t_user where id = (select id from user_role where role_id=\'9\' );\n   \n   \n   1\n   \n   \n   \n\n * derived\n   \n   å¨ from åè¡¨ä¸­åå«çå­æ¥è¯¢è¢«æ è®°ä¸º derived(è¡ç)ï¼mysql ä¼éå½æ§è¡è¿äºå­æ¥è¯¢, æç»ææ¾å¨ä¸´æ¶è¡¨éã\n   \n   explain select a.* from (select * from t_user where id in(\'1\',\'2\') ) a;\n   \n   \n   1\n   \n   \n   mysql 5.7 ä¸­ä¸º simple\n   \n   \n   \n   mysql 5.6 ä¸­ï¼\n   \n   \n\n * union\n   \n   explain select * from t_user where id=\'1\' union select * from  t_user where id=\'2\';\n   \n   \n   1\n   \n   \n   \n\n\n# explain ä¹ table\n\nå±ç¤ºè¿ä¸è¡çæ°æ®æ¯å³äºåªä¸å¼ è¡¨ç\n\næ²¡æä¸ä¹å³ç³»çè¡¨ä¸º null\n\n\n\n\n# explain ä¹ type\n\ntype æ¾ç¤ºçæ¯è®¿é®ç±»åï¼æ¯è¾ä¸ºéè¦çä¸ä¸ªææ ï¼å¯åå¼ä¸ºï¼\n\ntype     å«ä¹\nnull     mysqlä¸è®¿é®ä»»ä½è¡¨ï¼ç´¢å¼ï¼ç´æ¥è¿åç»æ\nsystem   è¡¨åªæä¸è¡è®°å½(ç­äºç³»ç»è¡¨)ï¼è¿æ¯constç±»åçç¹ä¾ï¼ä¸è¬ä¸ä¼åºç°\nconst    è¡¨ç¤ºéè¿ç´¢å¼ä¸æ¬¡å°±æ¾å°äºï¼const ç¨äºæ¯è¾primary key æè unique\n         ç´¢å¼ãå ä¸ºåªå¹éä¸è¡æ°æ®ï¼æä»¥å¾å¿«ãå¦å°ä¸»é®ç½®äºwhereåè¡¨ä¸­ï¼mysql å°±è½å°è¯¥æ¥è¯¢è½¬æ¢ä¸ºä¸ä¸ªå¸¸äº®ãconstäºå°\n         "ä¸»é®" æ "å¯ä¸" ç´¢å¼çææé¨åä¸å¸¸éå¼è¿è¡æ¯è¾\neq_ref   ç±»ä¼¼refï¼åºå«å¨äºä½¿ç¨çæ¯å¯ä¸ç´¢å¼ï¼ä½¿ç¨ä¸»é®çå³èæ¥è¯¢ï¼å³èæ¥è¯¢åºçè®°å½åªæä¸æ¡ãå¸¸è§äºä¸»é®æå¯ä¸ç´¢å¼æ«æ\nref      éå¯ä¸æ§ç´¢å¼æ«æï¼è¿åå¹éæä¸ªåç¬å¼çææè¡ãæ¬è´¨ä¸ä¹æ¯ä¸ç§ç´¢å¼è®¿é®ï¼è¿åææå¹éæä¸ªåç¬å¼çææè¡ï¼å¤ä¸ªï¼\nrange    åªæ£ç´¢ç»å®è¿åçè¡ï¼ä½¿ç¨ä¸ä¸ªç´¢å¼æ¥éæ©è¡ã where ä¹ååºç° between ï¼ < , > , in ç­æä½ã\nindex    index ä¸ allçåºå«ä¸º index ç±»ååªæ¯éåäºç´¢å¼æ ï¼ éå¸¸æ¯all å¿«ï¼ all æ¯éåæ°æ®æä»¶ã\nall      å°éåå¨è¡¨ä»¥æ¾å°å¹éçè¡\n\nç»æå¼ä»æå¥½å°æåä»¥æ­¤æ¯ï¼\n\n * null > system > const > eq_ref > ref > fulltext > ref_or_null > index_merge > unique_subquery > index_subquery > range > index > all\n\n * system > const > eq_ref > ref > range > index > all\n\nä¸è¬æ¥è¯´ï¼ æä»¬éè¦ä¿è¯æ¥è¯¢è³å°è¾¾å° range çº§å«ï¼ æå¥½è¾¾å°ref\n\n\n# explain ä¹ key\n\n * possible_keys :\n   \n   æ¾ç¤ºå¯è½åºç¨å¨è¿å¼ è¡¨çç´¢å¼ï¼ ä¸ä¸ªæå¤ä¸ªã\n\n * key\n   \n   å®éä½¿ç¨çç´¢å¼ï¼ å¦æä¸ºnullï¼ åæ²¡æä½¿ç¨ç´¢å¼ã\n\n * key_len\n   \n   è¡¨ç¤ºç´¢å¼ä¸­ä½¿ç¨çå­èæ°ï¼ è¯¥å¼ä¸ºç´¢å¼å­æ®µæå¤§å¯è½é¿åº¦ï¼å¹¶éå®éä½¿ç¨é¿åº¦ï¼å¨ä¸æå¤±ç²¾ç¡®æ§çåæä¸ï¼ é¿åº¦è¶ç­è¶å¥½ ã\n\n\n# explain ä¹ rows\n\næ«æè¡çæ°éã\n\n\n# explain ä¹ extra\n\nå¶ä»çé¢å¤çæ§è¡è®¡åä¿¡æ¯ï¼å¨è¯¥åå±ç¤º ã\n\nextra             å«ä¹\nusing filesort    è¯´æmysqlä¼å¯¹æ°æ®ä½¿ç¨ä¸ä¸ªå¤é¨çç´¢å¼æåºï¼èä¸æ¯æç§è¡¨åçç´¢å¼é¡ºåºè¿è¡è¯»åï¼ ç§°ä¸º âæä»¶æåºâ, æçä½ã\nusing temporary   ä½¿ç¨äºä¸´æ¶è¡¨ä¿å­ä¸­é´ç»æï¼mysqlå¨å¯¹æ¥è¯¢ç»ææåºæ¶ä½¿ç¨ä¸´æ¶è¡¨ãå¸¸è§äº order by å group byï¼\n                  æçä½\nusing index       è¡¨ç¤ºç¸åºçselectæä½ä½¿ç¨äºè¦çç´¢å¼ï¼ é¿åè®¿é®è¡¨çæ°æ®è¡ï¼ æçä¸éã\n\n\n# show profileåæsql\n\nmysqlä»5.0.37çæ¬å¼å§å¢å äºå¯¹ show profiles å show profile è¯­å¥çæ¯æã\n\nshow profiles è½å¤å¨åsqlä¼åæ¶å¸®å©æä»¬äºè§£æ¶é´é½èè´¹å°åªéå»äºã\n\néè¿ have_profiling åæ°ï¼è½å¤çå°å½åmysqlæ¯å¦æ¯æprofileï¼\n\n\n\né»è®¤profilingæ¯å³é­çï¼å¯ä»¥éè¿setè¯­å¥å¨sessionçº§å«å¼å¯profilingï¼\n\n\n\nset profiling=1; //å¼å¯profiling å¼å³ï¼\n\n\n1\n\n\néè¿profileï¼æä»¬è½å¤æ´æ¸æ¥å°äºè§£sqlæ§è¡çè¿ç¨ã\n\næä»¬å¯ä»¥æ§è¡ä¸ç³»åçæä½ï¼\n\nshow databases;\n\nuse db01;\n\nshow tables;\n\nselect * from tb_item where id < 5;\n\nselect count(*) from tb_item;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\næ§è¡å®ä¸è¿°å½ä»¤ä¹åï¼åæ§è¡ show profiles æä»¤ï¼ æ¥æ¥çsqlè¯­å¥æ§è¡çèæ¶ï¼\n\n\n\néè¿ show profile for query query_id è¯­å¥æ¥çè¯¥sqlæ§è¡è¿ç¨ä¸­æ¯ä¸ªçº¿ç¨çç¶æåæ¶èçæ¶é´\n\n\n\ntipï¼sending data ç¶æè¡¨ç¤º mysql çº¿ç¨å¼å§è®¿é®æ°æ®è¡å¹¶æç»æè¿åç»å®¢æ·ç«¯ï¼èä¸ä»ä»æ¯è¿åä¸ªå®¢æ·ç«¯ãç±äºå¨ sending data ç¶æä¸ï¼mysql çº¿ç¨å¾å¾éè¦åå¤§éçç£çè¯»åæä½ï¼æä»¥ç»å¸¸æ¯æ´åæ¥è¯¢ä¸­èæ¶æé¿çç¶æã\n\nå¨è·åå°ææ¶èæ¶é´ççº¿ç¨ç¶æåï¼mysqlæ¯æè¿ä¸æ­¥éæ©allãcpuãblock io ãcontext switchãpage faultsç­æç»ç±»åç±»æ¥çmysqlå¨ä½¿ç¨ä»ä¹èµæºä¸èè´¹äºè¿é«çæ¶é´ãä¾å¦ï¼éæ©æ¥çcpuçèè´¹æ¶é´ ï¼\n\n\n\nå­æ®µ           å«ä¹\nstatus       sql è¯­å¥æ§è¡çç¶æ\nduration     sql æ§è¡è¿ç¨ä¸­æ¯ä¸ä¸ªæ­¥éª¤çèæ¶\ncpu_user     å½åç¨æ·å æçcpu\ncpu_system   ç³»ç»å æçcpu\n\n\n# traceåæä¼åå¨æ§è¡è®¡å\n\nmysql5.6æä¾äºå¯¹sqlçè·è¸ªtrace, éè¿traceæä»¶è½å¤è¿ä¸æ­¥äºè§£ä¸ºä»ä¹ä¼åå¨éæ©aè®¡å, èä¸æ¯éæ©bè®¡åã\n\næå¼trace ï¼ è®¾ç½®æ ¼å¼ä¸º jsonï¼å¹¶è®¾ç½®traceæå¤§è½å¤ä½¿ç¨çåå­å¤§å°ï¼é¿åè§£æè¿ç¨ä¸­å ä¸ºé»è®¤åå­è¿å°èä¸è½å¤å®æ´å±ç¤ºã\n\nset optimizer_trace="enabled=on",end_markers_in_json=on;\nset optimizer_trace_max_mem_size=1000000;\n\n\n1\n2\n\n\næ§è¡sqlè¯­å¥ ï¼\n\nselect * from tb_item where id < 4;\n\n\n1\n\n\næåï¼ æ£æ¥ information_schema.optimizer_trace å°±å¯ä»¥ç¥émysqlæ¯å¦ä½æ§è¡sqlç ï¼\n\nselect * from information_schema.optimizer_trace\\g;\n\n\n1\n\n\n*************************** 1. row ***************************\nquery: select * from tb_item where id < 4\ntrace: {\n  "steps": [\n    {\n      "join_preparation": {\n        "select#": 1,\n        "steps": [\n          {\n            "expanded_query": "/* select#1 */ select `tb_item`.`id` as `id`,`tb_item`.`title` as `title`,`tb_item`.`price` as `price`,`tb_item`.`num` as `num`,`tb_item`.`categoryid` as `categoryid`,`tb_item`.`status` as `status`,`tb_item`.`sellerid` as `sellerid`,`tb_item`.`createtime` as `createtime`,`tb_item`.`updatetime` as `updatetime` from `tb_item` where (`tb_item`.`id` < 4)"\n          }\n        ] /* steps */\n      } /* join_preparation */\n    },\n    {\n      "join_optimization": {\n        "select#": 1,\n        "steps": [\n          {\n            "condition_processing": {\n              "condition": "where",\n              "original_condition": "(`tb_item`.`id` < 4)",\n              "steps": [\n                {\n                  "transformation": "equality_propagation",\n                  "resulting_condition": "(`tb_item`.`id` < 4)"\n                },\n                {\n                  "transformation": "constant_propagation",\n                  "resulting_condition": "(`tb_item`.`id` < 4)"\n                },\n                {\n                  "transformation": "trivial_condition_removal",\n                  "resulting_condition": "(`tb_item`.`id` < 4)"\n                }\n              ] /* steps */\n            } /* condition_processing */\n          },\n          {\n            "table_dependencies": [\n              {\n                "table": "`tb_item`",\n                "row_may_be_null": false,\n                "map_bit": 0,\n                "depends_on_map_bits": [\n                ] /* depends_on_map_bits */\n              }\n            ] /* table_dependencies */\n          },\n          {\n            "ref_optimizer_key_uses": [\n            ] /* ref_optimizer_key_uses */\n          },\n          {\n            "rows_estimation": [\n              {\n                "table": "`tb_item`",\n                "range_analysis": {\n                  "table_scan": {\n                    "rows": 9816098,\n                    "cost": 2.04e6\n                  } /* table_scan */,\n                  "potential_range_indices": [\n                    {\n                      "index": "primary",\n                      "usable": true,\n                      "key_parts": [\n                        "id"\n                      ] /* key_parts */\n                    }\n                  ] /* potential_range_indices */,\n                  "setup_range_conditions": [\n                  ] /* setup_range_conditions */,\n                  "group_index_range": {\n                    "chosen": false,\n                    "cause": "not_group_by_or_distinct"\n                  } /* group_index_range */,\n                  "analyzing_range_alternatives": {\n                    "range_scan_alternatives": [\n                      {\n                        "index": "primary",\n                        "ranges": [\n                          "id < 4"\n                        ] /* ranges */,\n                        "index_dives_for_eq_ranges": true,\n                        "rowid_ordered": true,\n                        "using_mrr": false,\n                        "index_only": false,\n                        "rows": 3,\n                        "cost": 1.6154,\n                        "chosen": true\n                      }\n                    ] /* range_scan_alternatives */,\n                    "analyzing_roworder_intersect": {\n                      "usable": false,\n                      "cause": "too_few_roworder_scans"\n                    } /* analyzing_roworder_intersect */\n                  } /* analyzing_range_alternatives */,\n                  "chosen_range_access_summary": {\n                    "range_access_plan": {\n                      "type": "range_scan",\n                      "index": "primary",\n                      "rows": 3,\n                      "ranges": [\n                        "id < 4"\n                      ] /* ranges */\n                    } /* range_access_plan */,\n                    "rows_for_plan": 3,\n                    "cost_for_plan": 1.6154,\n                    "chosen": true\n                  } /* chosen_range_access_summary */\n                } /* range_analysis */\n              }\n            ] /* rows_estimation */\n          },\n          {\n            "considered_execution_plans": [\n              {\n                "plan_prefix": [\n                ] /* plan_prefix */,\n                "table": "`tb_item`",\n                "best_access_path": {\n                  "considered_access_paths": [\n                    {\n                      "access_type": "range",\n                      "rows": 3,\n                      "cost": 2.2154,\n                      "chosen": true\n                    }\n                  ] /* considered_access_paths */\n                } /* best_access_path */,\n                "cost_for_plan": 2.2154,\n                "rows_for_plan": 3,\n                "chosen": true\n              }\n            ] /* considered_execution_plans */\n          },\n          {\n            "attaching_conditions_to_tables": {\n              "original_condition": "(`tb_item`.`id` < 4)",\n              "attached_conditions_computation": [\n              ] /* attached_conditions_computation */,\n              "attached_conditions_summary": [\n                {\n                  "table": "`tb_item`",\n                  "attached": "(`tb_item`.`id` < 4)"\n                }\n              ] /* attached_conditions_summary */\n            } /* attaching_conditions_to_tables */\n          },\n          {\n            "refine_plan": [\n              {\n                "table": "`tb_item`",\n                "access_type": "range"\n              }\n            ] /* refine_plan */\n          }\n        ] /* steps */\n      } /* join_optimization */\n    },\n    {\n      "join_execution": {\n        "select#": 1,\n        "steps": [\n        ] /* steps */\n      } /* join_execution */\n    }\n  ] /* steps */\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n157\n158\n159\n160\n161\n162\n163\n164\n165\n166\n167\n168\n169\n170\n',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"MySQL - å¹¶ååæ°",frontmatter:{title:"MySQL - å¹¶ååæ°",permalink:"/mysql/concurrent-parameter/",date:"2021-05-24T16:13:14.000Z"},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/05.MySQL/20.MySQL%20-%20%E5%B9%B6%E5%8F%91%E5%8F%82%E6%95%B0.html",relativePath:"03.æ°æ®åº/05.MySQL/20.MySQL - å¹¶ååæ°.md",key:"v-101289a5",path:"/mysql/concurrent-parameter/",headers:[{level:2,title:"max_connections",slug:"max-connections",normalizedTitle:"max_connections",charIndex:3},{level:2,title:"back_log",slug:"back-log",normalizedTitle:"back_log",charIndex:22},{level:2,title:"tableopencache",slug:"table-open-cache",normalizedTitle:"tableopencache",charIndex:null},{level:2,title:"threadcachesize",slug:"thread-cache-size",normalizedTitle:"threadcachesize",charIndex:null},{level:2,title:"innodblockwait_timeout",slug:"innodb-lock-wait-timeout",normalizedTitle:"innodblockwait_timeout",charIndex:null}],headersStr:"max_connections back_log tableopencache threadcachesize innodblockwait_timeout",content:" * max_connections\n * back_log\n * table_open_cache\n * thread_cache_size\n * innodb_lock_wait_timeout\n\nä»å®ç°ä¸æ¥è¯´ï¼MySQL Server æ¯å¤çº¿ç¨ç»æï¼åæ¬åå°çº¿ç¨åå®¢æ·æå¡çº¿ç¨ãå¤çº¿ç¨å¯ä»¥ææå©ç¨æå¡å¨èµæºï¼æé«æ°æ®åºçå¹¶åæ§è½ãå¨Mysqlä¸­ï¼æ§å¶å¹¶åè¿æ¥åçº¿ç¨çä¸»è¦åæ°åæ¬ max_connectionsãback_logãthread_cache_sizeãtable_open_cahceã\n\n\n# max_connections\n\néç¨max_connections æ§å¶åè®¸è¿æ¥å°MySQLæ°æ®åºçæå¤§æ°éï¼é»è®¤å¼æ¯ 151ãå¦æç¶æåé connection_errors_max_connections ä¸ä¸ºé¶ï¼å¹¶ä¸ä¸ç´å¢é¿ï¼åè¯´æä¸æ­æè¿æ¥è¯·æ±å æ°æ®åºè¿æ¥æ°å·²è¾¾å°åè®¸æå¤§å¼èå¤±è´¥ï¼è¿æ¯å¯ä»¥èèå¢å¤§max_connections çå¼ã\n\nMysql æå¤§å¯æ¯æçè¿æ¥æ°ï¼åå³äºå¾å¤å ç´ ï¼åæ¬ç»å®æä½ç³»ç»å¹³å°ççº¿ç¨åºçè´¨éãåå­å¤§å°ãæ¯ä¸ªè¿æ¥çè´è·ãCPUçå¤çéåº¦ï¼ææçååºæ¶é´ç­ãå¨Linux å¹³å°ä¸ï¼æ§è½å¥½çæå¡å¨ï¼æ¯æ 500-1000 ä¸ªè¿æ¥ä¸æ¯é¾äºï¼éè¦æ ¹æ®æå¡å¨æ§è½è¿è¡è¯ä¼°è®¾å®ã\n\n\n# back_log\n\nback_log åæ°æ§å¶MySQLçå¬TCPç«¯å£æ¶è®¾ç½®çç§¯åè¯·æ±æ å¤§å°ãå¦æMySqlçè¿æ¥æ°è¾¾å° max_connectionsæ¶ï¼æ°æ¥çè¯·æ±å°ä¼è¢«å­å¨å æ ä¸­ï¼ä»¥ç­å¾æä¸è¿æ¥éæ¾èµæºï¼è¯¥å æ çæ°éå³ back_logï¼å¦æç­å¾è¿æ¥çæ°éè¶è¿back_logï¼å°ä¸è¢«æäºè¿æ¥èµæºï¼å°ä¼æ¥éã5.6.6 çæ¬ä¹åé»è®¤å¼ä¸º 50 ï¼ ä¹åççæ¬é»è®¤ä¸º 50 + ï¼max_connections / 5ï¼ï¼ ä½æå¤§ä¸è¶è¿900ã\n\nå¦æéè¦æ°æ®åºå¨è¾ç­çæ¶é´åå¤çå¤§éè¿æ¥è¯·æ±ï¼ å¯ä»¥èèéå½å¢å¤§ back_log çå¼ã\n\n\n# table_open_cache\n\nè¯¥åæ°ç¨æ¥æ§å¶ææSQLè¯­å¥æ§è¡çº¿ç¨å¯æå¼è¡¨ç¼å­çæ°éï¼ èå¨æ§è¡SQLè¯­å¥æ¶ï¼æ¯ä¸ä¸ªSQLæ§è¡çº¿ç¨è³å°è¦æå¼ 1 ä¸ªè¡¨ç¼å­ãè¯¥åæ°çå¼åºè¯¥æ ¹æ®è®¾ç½®çæå¤§è¿æ¥æ° max_connections ä»¥åæ¯ä¸ªè¿æ¥æ§è¡å³èæ¥è¯¢ä¸­æ¶åçè¡¨çæå¤§æ°éæ¥è®¾å® ï¼max_connections x N ï¼\n\nSHOW VARIABLES LIKE 'table_open_cache' -- æ¥çå¤§å°\n\n\n1\n\n\n\n# thread_cache_size\n\nä¸ºäºå å¿«è¿æ¥æ°æ®åºçéåº¦ï¼MySQL ä¼ç¼å­ä¸å®æ°éçå®¢æ·æå¡çº¿ç¨ä»¥å¤éç¨ï¼éè¿åæ° thread_cache_size å¯æ§å¶ MySQL ç¼å­å®¢æ·æå¡çº¿ç¨çæ°éã\n\n\n# innodb_lock_wait_timeout\n\nè¯¥åæ°æ¯ç¨æ¥è®¾ç½®InnoDB äºå¡ç­å¾è¡éçæ¶é´ï¼é»è®¤å¼æ¯50ms ï¼ å¯ä»¥æ ¹æ®éè¦è¿è¡å¨æè®¾ç½®ãå¯¹äºéè¦å¿«éåé¦çä¸å¡ç³»ç»æ¥è¯´ï¼å¯ä»¥å°è¡éçç­å¾æ¶é´è°å°ï¼ä»¥é¿åäºå¡é¿æ¶é´æèµ·ï¼ å¯¹äºåå°è¿è¡çæ¹éå¤çç¨åºæ¥è¯´ï¼ å¯ä»¥å°è¡éçç­å¾æ¶é´è°å¤§ï¼ ä»¥é¿ååçå¤§çåæ»æä½ã",normalizedContent:" * max_connections\n * back_log\n * table_open_cache\n * thread_cache_size\n * innodb_lock_wait_timeout\n\nä»å®ç°ä¸æ¥è¯´ï¼mysql server æ¯å¤çº¿ç¨ç»æï¼åæ¬åå°çº¿ç¨åå®¢æ·æå¡çº¿ç¨ãå¤çº¿ç¨å¯ä»¥ææå©ç¨æå¡å¨èµæºï¼æé«æ°æ®åºçå¹¶åæ§è½ãå¨mysqlä¸­ï¼æ§å¶å¹¶åè¿æ¥åçº¿ç¨çä¸»è¦åæ°åæ¬ max_connectionsãback_logãthread_cache_sizeãtable_open_cahceã\n\n\n# max_connections\n\néç¨max_connections æ§å¶åè®¸è¿æ¥å°mysqlæ°æ®åºçæå¤§æ°éï¼é»è®¤å¼æ¯ 151ãå¦æç¶æåé connection_errors_max_connections ä¸ä¸ºé¶ï¼å¹¶ä¸ä¸ç´å¢é¿ï¼åè¯´æä¸æ­æè¿æ¥è¯·æ±å æ°æ®åºè¿æ¥æ°å·²è¾¾å°åè®¸æå¤§å¼èå¤±è´¥ï¼è¿æ¯å¯ä»¥èèå¢å¤§max_connections çå¼ã\n\nmysql æå¤§å¯æ¯æçè¿æ¥æ°ï¼åå³äºå¾å¤å ç´ ï¼åæ¬ç»å®æä½ç³»ç»å¹³å°ççº¿ç¨åºçè´¨éãåå­å¤§å°ãæ¯ä¸ªè¿æ¥çè´è·ãcpuçå¤çéåº¦ï¼ææçååºæ¶é´ç­ãå¨linux å¹³å°ä¸ï¼æ§è½å¥½çæå¡å¨ï¼æ¯æ 500-1000 ä¸ªè¿æ¥ä¸æ¯é¾äºï¼éè¦æ ¹æ®æå¡å¨æ§è½è¿è¡è¯ä¼°è®¾å®ã\n\n\n# back_log\n\nback_log åæ°æ§å¶mysqlçå¬tcpç«¯å£æ¶è®¾ç½®çç§¯åè¯·æ±æ å¤§å°ãå¦æmysqlçè¿æ¥æ°è¾¾å° max_connectionsæ¶ï¼æ°æ¥çè¯·æ±å°ä¼è¢«å­å¨å æ ä¸­ï¼ä»¥ç­å¾æä¸è¿æ¥éæ¾èµæºï¼è¯¥å æ çæ°éå³ back_logï¼å¦æç­å¾è¿æ¥çæ°éè¶è¿back_logï¼å°ä¸è¢«æäºè¿æ¥èµæºï¼å°ä¼æ¥éã5.6.6 çæ¬ä¹åé»è®¤å¼ä¸º 50 ï¼ ä¹åççæ¬é»è®¤ä¸º 50 + ï¼max_connections / 5ï¼ï¼ ä½æå¤§ä¸è¶è¿900ã\n\nå¦æéè¦æ°æ®åºå¨è¾ç­çæ¶é´åå¤çå¤§éè¿æ¥è¯·æ±ï¼ å¯ä»¥èèéå½å¢å¤§ back_log çå¼ã\n\n\n# table_open_cache\n\nè¯¥åæ°ç¨æ¥æ§å¶ææsqlè¯­å¥æ§è¡çº¿ç¨å¯æå¼è¡¨ç¼å­çæ°éï¼ èå¨æ§è¡sqlè¯­å¥æ¶ï¼æ¯ä¸ä¸ªsqlæ§è¡çº¿ç¨è³å°è¦æå¼ 1 ä¸ªè¡¨ç¼å­ãè¯¥åæ°çå¼åºè¯¥æ ¹æ®è®¾ç½®çæå¤§è¿æ¥æ° max_connections ä»¥åæ¯ä¸ªè¿æ¥æ§è¡å³èæ¥è¯¢ä¸­æ¶åçè¡¨çæå¤§æ°éæ¥è®¾å® ï¼max_connections x n ï¼\n\nshow variables like 'table_open_cache' -- æ¥çå¤§å°\n\n\n1\n\n\n\n# thread_cache_size\n\nä¸ºäºå å¿«è¿æ¥æ°æ®åºçéåº¦ï¼mysql ä¼ç¼å­ä¸å®æ°éçå®¢æ·æå¡çº¿ç¨ä»¥å¤éç¨ï¼éè¿åæ° thread_cache_size å¯æ§å¶ mysql ç¼å­å®¢æ·æå¡çº¿ç¨çæ°éã\n\n\n# innodb_lock_wait_timeout\n\nè¯¥åæ°æ¯ç¨æ¥è®¾ç½®innodb äºå¡ç­å¾è¡éçæ¶é´ï¼é»è®¤å¼æ¯50ms ï¼ å¯ä»¥æ ¹æ®éè¦è¿è¡å¨æè®¾ç½®ãå¯¹äºéè¦å¿«éåé¦çä¸å¡ç³»ç»æ¥è¯´ï¼å¯ä»¥å°è¡éçç­å¾æ¶é´è°å°ï¼ä»¥é¿åäºå¡é¿æ¶é´æèµ·ï¼ å¯¹äºåå°è¿è¡çæ¹éå¤çç¨åºæ¥è¯´ï¼ å¯ä»¥å°è¡éçç­å¾æ¶é´è°å¤§ï¼ ä»¥é¿ååçå¤§çåæ»æä½ã",charsets:{cjk:!0},lastUpdated:"2021/05/26, 10:05:00",lastUpdatedTimestamp:1622024154e3},{title:"MySQL - å¸¸ç¨sqlæå·§",frontmatter:{title:"MySQL - å¸¸ç¨sqlæå·§",permalink:"/mysql/common-use-sql-skill/",date:"2021-05-24T19:06:10.000Z"},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/05.MySQL/24.MySQL%20-%20%E5%B8%B8%E7%94%A8sql%E6%8A%80%E5%B7%A7.html",relativePath:"03.æ°æ®åº/05.MySQL/24.MySQL - å¸¸ç¨sqlæå·§.md",key:"v-38a63570",path:"/mysql/common-use-sql-skill/",headers:[{level:2,title:"SQLæ§è¡é¡ºåº",slug:"sqlæ§è¡é¡ºåº",normalizedTitle:"sqlæ§è¡é¡ºåº",charIndex:3},{level:2,title:"æ­£åè¡¨è¾¾å¼ä½¿ç¨",slug:"æ­£åè¡¨è¾¾å¼ä½¿ç¨",normalizedTitle:"æ­£åè¡¨è¾¾å¼ä½¿ç¨",charIndex:14},{level:2,title:"MySQL å¸¸ç¨å½æ°",slug:"mysql-å¸¸ç¨å½æ°",normalizedTitle:"mysql å¸¸ç¨å½æ°",charIndex:25}],headersStr:"SQLæ§è¡é¡ºåº æ­£åè¡¨è¾¾å¼ä½¿ç¨ MySQL å¸¸ç¨å½æ°",content:" * SQLæ§è¡é¡ºåº\n * æ­£åè¡¨è¾¾å¼ä½¿ç¨\n * MySQL å¸¸ç¨å½æ°\n\n\n# SQLæ§è¡é¡ºåº\n\nç¼åé¡ºåº\n\nSELECT DISTINCT\n\t<select list>\nFROM\n\t<left_table> <join_type>\nJOIN\n\t<right_table> ON <join_condition>\nWHERE\n\t<where_condition>\nGROUP BY\n\t<group_by_list>\nHAVING\n\t<having_condition>\nORDER BY\n\t<order_by_condition>\nLIMIT\n\t<limit_params>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\næ§è¡é¡ºåº\n\nFROM\t<left_table>\n\nON \t\t<join_condition>\n\n<join_type>\t\tJOIN\t<right_table>\n\nWHERE\t\t<where_condition>\n\nGROUP BY \t<group_by_list>\n\nHAVING\t\t<having_condition>\n\nSELECT DISTINCT\t\t<select list>\n\nORDER BY\t<order_by_condition>\n\nLIMIT\t\t<limit_params>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# æ­£åè¡¨è¾¾å¼ä½¿ç¨\n\næ­£åè¡¨è¾¾å¼ï¼Regular Expressionï¼æ¯æä¸ä¸ªç¨æ¥æè¿°æèå¹éä¸ç³»åç¬¦åæä¸ªå¥æ³è§åçå­ç¬¦ä¸²çåä¸ªå­ç¬¦ä¸²ã\n\nç¬¦å·       å«ä¹\n^        å¨å­ç¬¦ä¸²å¼å§å¤è¿è¡å¹é\n$        å¨å­ç¬¦ä¸²æ«å°¾å¤è¿è¡å¹é\n.        å¹éä»»æåä¸ªå­ç¬¦, åæ¬æ¢è¡ç¬¦\n[...]    å¹éåºæ¬å·åçä»»æå­ç¬¦\n[^...]   å¹éä¸åºæ¬å·åçä»»æå­ç¬¦\na*       å¹éé¶ä¸ªæèå¤ä¸ªa(åæ¬ç©ºä¸²)\na+       å¹éä¸ä¸ªæèå¤ä¸ªa(ä¸åæ¬ç©ºä¸²)\na?       å¹éé¶ä¸ªæèä¸ä¸ªa\na1|a2    å¹éa1æa2\na(m)     å¹émä¸ªa\na(m,)    è³å°å¹émä¸ªa\na(m,n)   å¹émä¸ªa å° nä¸ªa\na(,n)    å¹é0å°nä¸ªa\n(...)    å°æ¨¡å¼åç´ ç»æåä¸åç´ \n\nselect * from emp where name regexp '^T';\n\nselect * from emp where name regexp '2$';\n\nselect * from emp where name regexp '[uvw]';\n\n\n1\n2\n3\n4\n5\n\n\n\n# MySQL å¸¸ç¨å½æ°\n\næ°å­å½æ°\n\nå½æ°åç§°             ä½ ç¨\nABS              æ±ç»å¯¹å¼\nSQRT             æ±äºæ¬¡æ¹æ ¹\nMOD              æ±ä½æ°\nCEIL å CEILING   ä¸¤ä¸ªå½æ°åè½ç¸åï¼é½æ¯è¿åä¸å°äºåæ°çæå°æ´æ°ï¼å³åä¸åæ´\nFLOOR            åä¸åæ´ï¼è¿åå¼è½¬åä¸ºä¸ä¸ªBIGINT\nRAND             çæä¸ä¸ª0~1ä¹é´çéæºæ°ï¼ä¼ å¥æ´æ°åæ°æ¯ï¼ç¨æ¥äº§çéå¤åºå\nROUND            å¯¹æä¼ åæ°è¿è¡åèäºå¥\nSIGN             è¿ååæ°çç¬¦å·\nPOW å POWER      ä¸¤ä¸ªå½æ°çåè½ç¸åï¼é½æ¯æä¼ åæ°çæ¬¡æ¹çç»æå¼\nSIN              æ±æ­£å¼¦å¼\nASIN             æ±åæ­£å¼¦å¼ï¼ä¸å½æ° SIN äºä¸ºåå½æ°\nCOS              æ±ä½å¼¦å¼\nACOS             æ±åä½å¼¦å¼ï¼ä¸å½æ° COS äºä¸ºåå½æ°\nTAN              æ±æ­£åå¼\nATAN             æ±åæ­£åå¼ï¼ä¸å½æ° TAN äºä¸ºåå½æ°\nCOT              æ±ä½åå¼\n\nå­ç¬¦ä¸²å½æ°\n\nå½æ°åç§°        ä½ ç¨\nLENGTH      è®¡ç®å­ç¬¦ä¸²é¿åº¦å½æ°ï¼è¿åå­ç¬¦ä¸²çå­èé¿åº¦\nCONCAT      åå¹¶å­ç¬¦ä¸²å½æ°ï¼è¿åç»æä¸ºè¿æ¥åæ°äº§ççå­ç¬¦ä¸²ï¼åæ°å¯ä»¥ä½¿ä¸ä¸ªæå¤ä¸ª\nINSERT      æ¿æ¢å­ç¬¦ä¸²å½æ°\nLOWER       å°å­ç¬¦ä¸²ä¸­çå­æ¯è½¬æ¢ä¸ºå°å\nUPPER       å°å­ç¬¦ä¸²ä¸­çå­æ¯è½¬æ¢ä¸ºå¤§å\nLEFT        ä»å·¦ä¾§å­æªåç¬¦ä¸²ï¼è¿åå­ç¬¦ä¸²å·¦è¾¹çè¥å¹²ä¸ªå­ç¬¦\nRIGHT       ä»å³ä¾§å­æªåç¬¦ä¸²ï¼è¿åå­ç¬¦ä¸²å³è¾¹çè¥å¹²ä¸ªå­ç¬¦\nTRIM        å é¤å­ç¬¦ä¸²å·¦å³ä¸¤ä¾§çç©ºæ ¼\nREPLACE     å­ç¬¦ä¸²æ¿æ¢å½æ°ï¼è¿åæ¿æ¢åçæ°å­ç¬¦ä¸²\nSUBSTRING   æªåå­ç¬¦ä¸²ï¼è¿åä»æå®ä½ç½®å¼å§çæå®é¿åº¦çå­ç¬¦æ¢\nREVERSE     å­ç¬¦ä¸²åè½¬ï¼éåºï¼å½æ°ï¼è¿åä¸åå§å­ç¬¦ä¸²é¡ºåºç¸åçå­ç¬¦ä¸²\n\næ¥æå½æ°\n\nå½æ°åç§°                     ä½ ç¨\nCURDATE å CURRENT_DATE   ä¸¤ä¸ªå½æ°ä½ç¨ç¸åï¼è¿åå½åç³»ç»çæ¥æå¼\nCURTIME å CURRENT_TIME   ä¸¤ä¸ªå½æ°ä½ç¨ç¸åï¼è¿åå½åç³»ç»çæ¶é´å¼\nNOW å SYSDATE            ä¸¤ä¸ªå½æ°ä½ç¨ç¸åï¼è¿åå½åç³»ç»çæ¥æåæ¶é´å¼\nMONTH                    è·åæå®æ¥æä¸­çæä»½\nMONTHNAME                è·åæå®æ¥æä¸­çæä»½è±æåç§°\nDAYNAME                  è·åæå®æ°æå¯¹åºçææå çè±æåç§°\nDAYOFWEEK                è·åæå®æ¥æå¯¹åºçä¸å¨çç´¢å¼ä½ç½®å¼\nWEEK                     è·åæå®æ¥ææ¯ä¸å¹´ä¸­çç¬¬å å¨ï¼è¿åå¼çèå´æ¯å¦ä¸º 0ã52 æ 1ã53\nDAYOFYEAR                è·åæå®æ°ææ¯ä¸å¹´ä¸­çç¬¬å å¤©ï¼è¿åå¼èå´æ¯1~366\nDAYOFMONTH               è·åæå®æ¥ææ¯ä¸ä¸ªæä¸­æ¯ç¬¬å å¤©ï¼è¿åå¼èå´æ¯1~31\nYEAR                     è·åå¹´ä»½ï¼è¿åå¼èå´æ¯ 1970ã2069\nTIME_TO_SEC              å°æ¶é´åæ°è½¬æ¢ä¸ºç§æ°\nSEC_TO_TIME              å°ç§æ°è½¬æ¢ä¸ºæ¶é´ï¼ä¸TIME_TO_SEC äºä¸ºåå½æ°\nDATE_ADD å ADDDATE       ä¸¤ä¸ªå½æ°åè½ç¸åï¼é½æ¯åæ¥ææ·»å æå®çæ¶é´é´é\nDATE_SUB å SUBDATE       ä¸¤ä¸ªå½æ°åè½ç¸åï¼é½æ¯åæ¥æåå»æå®çæ¶é´é´é\nADDTIME                  æ¶é´å æ³è¿ç®ï¼å¨åå§æ¶é´ä¸æ·»å æå®çæ¶é´\nSUBTIME                  æ¶é´åæ³è¿ç®ï¼å¨åå§æ¶é´ä¸åå»æå®çæ¶é´\nDATEDIFF                 è·åä¸¤ä¸ªæ¥æä¹é´é´éï¼è¿ååæ° 1 åå»åæ° 2 çå¼\nDATE_FORMAT              æ ¼å¼åæå®çæ¥æï¼æ ¹æ®åæ°è¿åæå®æ ¼å¼çå¼\nWEEKDAY                  è·åæå®æ¥æå¨ä¸å¨åçå¯¹åºçå·¥ä½æ¥ç´¢å¼\n\nèåå½æ°\n\nå½æ°åç§°    ä½ç¨\nMAX     æ¥è¯¢æå®åçæå¤§å¼\nMIN     æ¥è¯¢æå®åçæå°å¼\nCOUNT   ç»è®¡æ¥è¯¢ç»æçè¡æ°\nSUM     æ±åï¼è¿åæå®åçæ»å\nAVG     æ±å¹³åå¼ï¼è¿åæå®åæ°æ®çå¹³åå¼",normalizedContent:" * sqlæ§è¡é¡ºåº\n * æ­£åè¡¨è¾¾å¼ä½¿ç¨\n * mysql å¸¸ç¨å½æ°\n\n\n# sqlæ§è¡é¡ºåº\n\nç¼åé¡ºåº\n\nselect distinct\n\t<select list>\nfrom\n\t<left_table> <join_type>\njoin\n\t<right_table> on <join_condition>\nwhere\n\t<where_condition>\ngroup by\n\t<group_by_list>\nhaving\n\t<having_condition>\norder by\n\t<order_by_condition>\nlimit\n\t<limit_params>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\næ§è¡é¡ºåº\n\nfrom\t<left_table>\n\non \t\t<join_condition>\n\n<join_type>\t\tjoin\t<right_table>\n\nwhere\t\t<where_condition>\n\ngroup by \t<group_by_list>\n\nhaving\t\t<having_condition>\n\nselect distinct\t\t<select list>\n\norder by\t<order_by_condition>\n\nlimit\t\t<limit_params>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# æ­£åè¡¨è¾¾å¼ä½¿ç¨\n\næ­£åè¡¨è¾¾å¼ï¼regular expressionï¼æ¯æä¸ä¸ªç¨æ¥æè¿°æèå¹éä¸ç³»åç¬¦åæä¸ªå¥æ³è§åçå­ç¬¦ä¸²çåä¸ªå­ç¬¦ä¸²ã\n\nç¬¦å·       å«ä¹\n^        å¨å­ç¬¦ä¸²å¼å§å¤è¿è¡å¹é\n$        å¨å­ç¬¦ä¸²æ«å°¾å¤è¿è¡å¹é\n.        å¹éä»»æåä¸ªå­ç¬¦, åæ¬æ¢è¡ç¬¦\n[...]    å¹éåºæ¬å·åçä»»æå­ç¬¦\n[^...]   å¹éä¸åºæ¬å·åçä»»æå­ç¬¦\na*       å¹éé¶ä¸ªæèå¤ä¸ªa(åæ¬ç©ºä¸²)\na+       å¹éä¸ä¸ªæèå¤ä¸ªa(ä¸åæ¬ç©ºä¸²)\na?       å¹éé¶ä¸ªæèä¸ä¸ªa\na1|a2    å¹éa1æa2\na(m)     å¹émä¸ªa\na(m,)    è³å°å¹émä¸ªa\na(m,n)   å¹émä¸ªa å° nä¸ªa\na(,n)    å¹é0å°nä¸ªa\n(...)    å°æ¨¡å¼åç´ ç»æåä¸åç´ \n\nselect * from emp where name regexp '^t';\n\nselect * from emp where name regexp '2$';\n\nselect * from emp where name regexp '[uvw]';\n\n\n1\n2\n3\n4\n5\n\n\n\n# mysql å¸¸ç¨å½æ°\n\næ°å­å½æ°\n\nå½æ°åç§°             ä½ ç¨\nabs              æ±ç»å¯¹å¼\nsqrt             æ±äºæ¬¡æ¹æ ¹\nmod              æ±ä½æ°\nceil å ceiling   ä¸¤ä¸ªå½æ°åè½ç¸åï¼é½æ¯è¿åä¸å°äºåæ°çæå°æ´æ°ï¼å³åä¸åæ´\nfloor            åä¸åæ´ï¼è¿åå¼è½¬åä¸ºä¸ä¸ªbigint\nrand             çæä¸ä¸ª0~1ä¹é´çéæºæ°ï¼ä¼ å¥æ´æ°åæ°æ¯ï¼ç¨æ¥äº§çéå¤åºå\nround            å¯¹æä¼ åæ°è¿è¡åèäºå¥\nsign             è¿ååæ°çç¬¦å·\npow å power      ä¸¤ä¸ªå½æ°çåè½ç¸åï¼é½æ¯æä¼ åæ°çæ¬¡æ¹çç»æå¼\nsin              æ±æ­£å¼¦å¼\nasin             æ±åæ­£å¼¦å¼ï¼ä¸å½æ° sin äºä¸ºåå½æ°\ncos              æ±ä½å¼¦å¼\nacos             æ±åä½å¼¦å¼ï¼ä¸å½æ° cos äºä¸ºåå½æ°\ntan              æ±æ­£åå¼\natan             æ±åæ­£åå¼ï¼ä¸å½æ° tan äºä¸ºåå½æ°\ncot              æ±ä½åå¼\n\nå­ç¬¦ä¸²å½æ°\n\nå½æ°åç§°        ä½ ç¨\nlength      è®¡ç®å­ç¬¦ä¸²é¿åº¦å½æ°ï¼è¿åå­ç¬¦ä¸²çå­èé¿åº¦\nconcat      åå¹¶å­ç¬¦ä¸²å½æ°ï¼è¿åç»æä¸ºè¿æ¥åæ°äº§ççå­ç¬¦ä¸²ï¼åæ°å¯ä»¥ä½¿ä¸ä¸ªæå¤ä¸ª\ninsert      æ¿æ¢å­ç¬¦ä¸²å½æ°\nlower       å°å­ç¬¦ä¸²ä¸­çå­æ¯è½¬æ¢ä¸ºå°å\nupper       å°å­ç¬¦ä¸²ä¸­çå­æ¯è½¬æ¢ä¸ºå¤§å\nleft        ä»å·¦ä¾§å­æªåç¬¦ä¸²ï¼è¿åå­ç¬¦ä¸²å·¦è¾¹çè¥å¹²ä¸ªå­ç¬¦\nright       ä»å³ä¾§å­æªåç¬¦ä¸²ï¼è¿åå­ç¬¦ä¸²å³è¾¹çè¥å¹²ä¸ªå­ç¬¦\ntrim        å é¤å­ç¬¦ä¸²å·¦å³ä¸¤ä¾§çç©ºæ ¼\nreplace     å­ç¬¦ä¸²æ¿æ¢å½æ°ï¼è¿åæ¿æ¢åçæ°å­ç¬¦ä¸²\nsubstring   æªåå­ç¬¦ä¸²ï¼è¿åä»æå®ä½ç½®å¼å§çæå®é¿åº¦çå­ç¬¦æ¢\nreverse     å­ç¬¦ä¸²åè½¬ï¼éåºï¼å½æ°ï¼è¿åä¸åå§å­ç¬¦ä¸²é¡ºåºç¸åçå­ç¬¦ä¸²\n\næ¥æå½æ°\n\nå½æ°åç§°                     ä½ ç¨\ncurdate å current_date   ä¸¤ä¸ªå½æ°ä½ç¨ç¸åï¼è¿åå½åç³»ç»çæ¥æå¼\ncurtime å current_time   ä¸¤ä¸ªå½æ°ä½ç¨ç¸åï¼è¿åå½åç³»ç»çæ¶é´å¼\nnow å sysdate            ä¸¤ä¸ªå½æ°ä½ç¨ç¸åï¼è¿åå½åç³»ç»çæ¥æåæ¶é´å¼\nmonth                    è·åæå®æ¥æä¸­çæä»½\nmonthname                è·åæå®æ¥æä¸­çæä»½è±æåç§°\ndayname                  è·åæå®æ°æå¯¹åºçææå çè±æåç§°\ndayofweek                è·åæå®æ¥æå¯¹åºçä¸å¨çç´¢å¼ä½ç½®å¼\nweek                     è·åæå®æ¥ææ¯ä¸å¹´ä¸­çç¬¬å å¨ï¼è¿åå¼çèå´æ¯å¦ä¸º 0ã52 æ 1ã53\ndayofyear                è·åæå®æ°ææ¯ä¸å¹´ä¸­çç¬¬å å¤©ï¼è¿åå¼èå´æ¯1~366\ndayofmonth               è·åæå®æ¥ææ¯ä¸ä¸ªæä¸­æ¯ç¬¬å å¤©ï¼è¿åå¼èå´æ¯1~31\nyear                     è·åå¹´ä»½ï¼è¿åå¼èå´æ¯ 1970ã2069\ntime_to_sec              å°æ¶é´åæ°è½¬æ¢ä¸ºç§æ°\nsec_to_time              å°ç§æ°è½¬æ¢ä¸ºæ¶é´ï¼ä¸time_to_sec äºä¸ºåå½æ°\ndate_add å adddate       ä¸¤ä¸ªå½æ°åè½ç¸åï¼é½æ¯åæ¥ææ·»å æå®çæ¶é´é´é\ndate_sub å subdate       ä¸¤ä¸ªå½æ°åè½ç¸åï¼é½æ¯åæ¥æåå»æå®çæ¶é´é´é\naddtime                  æ¶é´å æ³è¿ç®ï¼å¨åå§æ¶é´ä¸æ·»å æå®çæ¶é´\nsubtime                  æ¶é´åæ³è¿ç®ï¼å¨åå§æ¶é´ä¸åå»æå®çæ¶é´\ndatediff                 è·åä¸¤ä¸ªæ¥æä¹é´é´éï¼è¿ååæ° 1 åå»åæ° 2 çå¼\ndate_format              æ ¼å¼åæå®çæ¥æï¼æ ¹æ®åæ°è¿åæå®æ ¼å¼çå¼\nweekday                  è·åæå®æ¥æå¨ä¸å¨åçå¯¹åºçå·¥ä½æ¥ç´¢å¼\n\nèåå½æ°\n\nå½æ°åç§°    ä½ç¨\nmax     æ¥è¯¢æå®åçæå¤§å¼\nmin     æ¥è¯¢æå®åçæå°å¼\ncount   ç»è®¡æ¥è¯¢ç»æçè¡æ°\nsum     æ±åï¼è¿åæå®åçæ»å\navg     æ±å¹³åå¼ï¼è¿åæå®åæ°æ®çå¹³åå¼",charsets:{cjk:!0},lastUpdated:"2021/05/26, 10:05:00",lastUpdatedTimestamp:1622024154e3},{title:"MySQL - éé®é¢",frontmatter:{title:"MySQL - éé®é¢",permalink:"/mysql/lock-question/",date:"2021-05-24T16:15:57.000Z"},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/05.MySQL/22.MySQL%20-%20%E9%94%81%E9%97%AE%E9%A2%98.html",relativePath:"03.æ°æ®åº/05.MySQL/22.MySQL - éé®é¢.md",key:"v-5a6a2f10",path:"/mysql/lock-question/",headers:[{level:2,title:"ç®ä»",slug:"ç®ä»",normalizedTitle:"ç®ä»",charIndex:3},{level:2,title:"MyISAM è¡¨é",slug:"myisam-è¡¨é",normalizedTitle:"myisam è¡¨é",charIndex:9},{level:3,title:"å¦ä½å è¡¨é",slug:"å¦ä½å è¡¨é",normalizedTitle:"å¦ä½å è¡¨é",charIndex:24},{level:3,title:"è¯»éæ¡ä¾",slug:"è¯»éæ¡ä¾",normalizedTitle:"è¯»éæ¡ä¾",charIndex:35},{level:3,title:"åéæ¡ä¾",slug:"åéæ¡ä¾",normalizedTitle:"åéæ¡ä¾",charIndex:45},{level:3,title:"ç»è®º",slug:"ç»è®º",normalizedTitle:"ç»è®º",charIndex:55},{level:3,title:"æ¥çéçäºç¨æåµ",slug:"æ¥çéçäºç¨æåµ",normalizedTitle:"æ¥çéçäºç¨æåµ",charIndex:63},{level:2,title:"InnoDB è¡é",slug:"innodb-è¡é",normalizedTitle:"innodb è¡é",charIndex:75},{level:3,title:"è¡éä»ç»",slug:"è¡éä»ç»",normalizedTitle:"è¡éä»ç»",charIndex:90},{level:3,title:"èæ¯ç¥è¯",slug:"èæ¯ç¥è¯",normalizedTitle:"èæ¯ç¥è¯",charIndex:100},{level:3,title:"InnoDB çè¡éæ¨¡å¼",slug:"innodb-çè¡éæ¨¡å¼",normalizedTitle:"innodb çè¡éæ¨¡å¼",charIndex:110},{level:3,title:"è¡éåºæ¬æ¼ç¤º",slug:"è¡éåºæ¬æ¼ç¤º",normalizedTitle:"è¡éåºæ¬æ¼ç¤º",charIndex:128},{level:3,title:"æ ç´¢å¼è¡éåçº§ä¸ºè¡¨é",slug:"æ ç´¢å¼è¡éåçº§ä¸ºè¡¨é",normalizedTitle:"æ ç´¢å¼è¡éåçº§ä¸ºè¡¨é",charIndex:140},{level:3,title:"é´ééå±å®³",slug:"é´ééå±å®³",normalizedTitle:"é´ééå±å®³",charIndex:156},{level:3,title:"InnoDB è¡éäºç¨æåµ",slug:"innodb-è¡éäºç¨æåµ",normalizedTitle:"innodb è¡éäºç¨æåµ",charIndex:167},{level:3,title:"æ»ç»",slug:"æ»ç»",normalizedTitle:"æ»ç»",charIndex:186}],headersStr:"ç®ä» MyISAM è¡¨é å¦ä½å è¡¨é è¯»éæ¡ä¾ åéæ¡ä¾ ç»è®º æ¥çéçäºç¨æåµ InnoDB è¡é è¡éä»ç» èæ¯ç¥è¯ InnoDB çè¡éæ¨¡å¼ è¡éåºæ¬æ¼ç¤º æ ç´¢å¼è¡éåçº§ä¸ºè¡¨é é´ééå±å®³ InnoDB è¡éäºç¨æåµ æ»ç»",content:" * ç®ä»\n * MyISAM è¡¨é\n   * å¦ä½å è¡¨é\n   * è¯»éæ¡ä¾\n   * åéæ¡ä¾\n   * ç»è®º\n   * æ¥çéçäºç¨æåµ\n * InnoDB è¡é\n   * è¡éä»ç»\n   * èæ¯ç¥è¯\n   * InnoDB çè¡éæ¨¡å¼\n   * è¡éåºæ¬æ¼ç¤º\n   * æ ç´¢å¼è¡éåçº§ä¸ºè¡¨é\n   * é´ééå±å®³\n   * InnoDB è¡éäºç¨æåµ\n   * æ»ç»\n\n\n# ç®ä»\n\n * éæ¦è¿°\n\néæ¯è®¡ç®æºåè°å¤ä¸ªè¿ç¨æçº¿ç¨å¹¶åè®¿é®æä¸èµæºçæºå¶ï¼é¿åäºæ¢ï¼ã\n\nå¨æ°æ®åºä¸­ï¼é¤ä¼ ç»çè®¡ç®èµæºï¼å¦ CPUãRAMãI/O ç­ï¼çäºç¨ä»¥å¤ï¼æ°æ®ä¹æ¯ä¸ç§ä¾è®¸å¤ç¨æ·å±äº«çèµæºãå¦ä½ä¿è¯æ°æ®å¹¶åè®¿é®çä¸è´æ§ãæææ§æ¯æææ°æ®åºå¿é¡»è§£å³çä¸ä¸ªé®é¢ï¼éå²çªä¹æ¯å½±åæ°æ®åºå¹¶åè®¿é®æ§è½çä¸ä¸ªéè¦å ç´ ãä»è¿ä¸ªè§åº¦æ¥è¯´ï¼éå¯¹æ°æ®åºèè¨æ¾å¾å°¤å¶éè¦ï¼ä¹æ´å å¤æã\n\n * éåç±»ï¼\n\nä»å¯¹æ°æ®æä½çç²åº¦å ï¼\n\n1ï¼ è¡¨éï¼æä½æ¶ï¼ä¼éå®æ´ä¸ªè¡¨ã\n\n2ï¼ è¡éï¼æä½æ¶ï¼ä¼éå®å½åæä½è¡ã\n\nä»å¯¹æ°æ®æä½çç±»ååï¼\n\n1ï¼ è¯»éï¼å±äº«éï¼ï¼éå¯¹åä¸ä»½æ°æ®ï¼å¤ä¸ªè¯»æä½å¯ä»¥åæ¶è¿è¡èä¸ä¼äºç¸å½±åã\n\n2ï¼ åéï¼æå®éï¼ï¼å½åæä½æ²¡æå®æä¹åï¼å®ä¼é»æ­å¶ä»åéåè¯»éã\n\n * Mysql é\n\nç¸å¯¹å¶ä»æ°æ®åºèè¨ï¼MySQLçéæºå¶æ¯è¾ç®åï¼å¶ææ¾èçç¹ç¹æ¯ä¸åçå­å¨å¼ææ¯æä¸åçéæºå¶ã\n\nä¸è¡¨ä¸­ç½ååºäºåå­å¨å¼æå¯¹éçæ¯ææåµï¼\n\nå­å¨å¼æ     è¡¨çº§é   è¡çº§é   é¡µé¢é\nMyISAM   æ¯æ    ä¸æ¯æ   ä¸æ¯æ\nInnoDB   æ¯æ    æ¯æ    ä¸æ¯æ\nMEMORY   æ¯æ    ä¸æ¯æ   ä¸æ¯æ\nBDB      æ¯æ    ä¸æ¯æ   æ¯æ\n\nMySQLè¿3ç§éçç¹æ§å¯å¤§è´å½çº³å¦ä¸ ï¼\n\néç±»å   ç¹ç¹\nè¡¨çº§é   ååMyISAM å­å¨å¼æï¼å¼éå°ï¼å éå¿«ï¼ä¸ä¼åºç°æ­»éï¼éå®ç²åº¦å¤§ï¼åçéå²çªçæ¦çæé«,å¹¶ååº¦æä½ã\nè¡çº§é   ååInnoDB å­å¨å¼æï¼å¼éå¤§ï¼å éæ¢ï¼ä¼åºç°æ­»éï¼éå®ç²åº¦æå°ï¼åçéå²çªçæ¦çæä½,å¹¶ååº¦ä¹æé«ã\né¡µé¢é   å¼éåå éæ¶é´çäºè¡¨éåè¡éä¹é´ï¼ä¼åºç°æ­»éï¼éå®ç²åº¦çäºè¡¨éåè¡éä¹é´ï¼å¹¶ååº¦ä¸è¬ã\n\nä»ä¸è¿°ç¹ç¹å¯è§ï¼å¾é¾ç¬¼ç»å°è¯´åªç§éæ´å¥½ï¼åªè½å°±å·ä½åºç¨çç¹ç¹æ¥è¯´åªç§éæ´åéï¼ä»ä»éçè§åº¦æ¥è¯´ï¼è¡¨çº§éæ´éåäºä»¥æ¥è¯¢ä¸ºä¸»ï¼åªæå°éæç´¢å¼æ¡ä»¶æ´æ°æ°æ®çåºç¨ï¼å¦Web åºç¨ï¼èè¡çº§éåæ´éåäºæå¤§éæç´¢å¼æ¡ä»¶å¹¶åæ´æ°å°éä¸åæ°æ®ï¼åæ¶åæå¹¶æ¥è¯¢çåºç¨ï¼å¦ä¸äºå¨çº¿äºå¡å¤çï¼OLTPï¼ç³»ç»ã\n\n\n# MyISAM è¡¨é\n\nMyISAM å­å¨å¼æåªæ¯æè¡¨éï¼è¿ä¹æ¯MySQLå¼å§å ä¸ªçæ¬ä¸­å¯ä¸æ¯æçéç±»åã\n\n\n# å¦ä½å è¡¨é\n\nMyISAM å¨æ§è¡æ¥è¯¢è¯­å¥ï¼SELECTï¼åï¼ä¼èªå¨ç»æ¶åçææè¡¨å è¯»éï¼å¨æ§è¡æ´æ°æä½ï¼UPDATEãDELETEãINSERT ç­ï¼åï¼ä¼èªå¨ç»æ¶åçè¡¨å åéï¼è¿ä¸ªè¿ç¨å¹¶ä¸éè¦ç¨æ·å¹²é¢ï¼å æ­¤ï¼ç¨æ·ä¸è¬ä¸éè¦ç´æ¥ç¨ LOCK TABLE å½ä»¤ç» MyISAM è¡¨æ¾å¼å éã\n\nlock table table_name read;\t--å è¯»é\n\nlock table table_name writ;\t--å åé\n\n\n1\n2\n3\n\n\n\n# è¯»éæ¡ä¾\n\nåå¤ç¯å¢\n\ncreate database demo_03 default charset=utf8mb4;\n\nuse demo_03;\n\nCREATE TABLE `tb_book` (\n  `id` INT(11) auto_increment,\n  `name` VARCHAR(50) DEFAULT NULL,\n  `publish_time` DATE DEFAULT NULL,\n  `status` CHAR(1) DEFAULT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=myisam DEFAULT CHARSET=utf8 ;\n\nINSERT INTO tb_book (id, name, publish_time, status) VALUES(NULL,'javaç¼ç¨ææ³','2088-08-01','1');\nINSERT INTO tb_book (id, name, publish_time, status) VALUES(NULL,'solrç¼ç¨ææ³','2088-08-08','0');\n\n\n\nCREATE TABLE `tb_user` (\n  `id` INT(11) auto_increment,\n  `name` VARCHAR(50) DEFAULT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=myisam DEFAULT CHARSET=utf8 ;\n\nINSERT INTO tb_user (id, name) VALUES(NULL,'ä»¤çå²');\nINSERT INTO tb_user (id, name) VALUES(NULL,'ç°ä¼¯å');\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\nå®¢æ·ç«¯ ä¸ ï¼\n\n1ï¼å  tb_book è¡¨çè¯»é\n\nlock table tb_book read;\n\n\n1\n\n\n2ï¼ æ§è¡æ¥è¯¢æä½\n\nselect * from tb_book;\n\n\n1\n\n\n\n\nå¯ä»¥æ­£å¸¸æ§è¡ ï¼ æ¥è¯¢åºæ°æ®ã\n\nå®¢æ·ç«¯ äº ï¼\n\n3ï¼ æ§è¡æ¥è¯¢æä½\n\nselect * from tb_book;\n\n\n1\n\n\n\n\nå®¢æ·ç«¯ ä¸ ï¼\n\n4ï¼æ¥è¯¢æªéå®çè¡¨\n\nselect name from tb_seller;\n\n\n1\n\n\n\n\nå®¢æ·ç«¯ äº ï¼\n\n5ï¼æ¥è¯¢æªéå®çè¡¨\n\nselect name from tb_seller;\n\n\n1\n\n\n\n\nå¯ä»¥æ­£å¸¸æ¥è¯¢åºæªéå®çè¡¨ï¼\n\nå®¢æ·ç«¯ ä¸ ï¼\n\n6ï¼ æ§è¡æå¥æä½\n\ninsert into tb_book values(null,'Mysqlé«çº§','2088-01-01','1');\n\n\n1\n\n\n\n\næ§è¡æå¥ï¼ ç´æ¥æ¥é ï¼ ç±äºå½åtb_book è·å¾çæ¯ è¯»éï¼ ä¸è½æ§è¡æ´æ°æä½ã\n\nå®¢æ·ç«¯ äº ï¼\n\n7ï¼ æ§è¡æå¥æä½\n\ninsert into tb_book values(null,'Mysqlé«çº§','2088-01-01','1');\n\n\n1\n\n\n\n\nå½å¨å®¢æ·ç«¯ä¸ä¸­éæ¾éæä»¤ unlock tables å ï¼ å®¢æ·ç«¯äºä¸­ç inesrt è¯­å¥ ï¼ ç«å³æ§è¡ ï¼\n\n\n# åéæ¡ä¾\n\nå®¢æ·ç«¯ ä¸ :\n\n1ï¼ç» tb_book è¡¨çåé\n\nlock table tb_book write ;\n\n\n1\n\n\n2ï¼æ§è¡æ¥è¯¢æä½\n\nselect * from tb_book ;\n\n\n1\n\n\n\n\næ¥è¯¢æä½æ§è¡æåï¼\n\n3ï¼æ§è¡æ´æ°æä½\n\nupdate tb_book set name = 'javaç¼ç¨ææ³ï¼ç¬¬äºçï¼' where id = 1;\n\n\n1\n\n\n\n\næ´æ°æä½æ§è¡æå ï¼\n\nå®¢æ·ç«¯ äº :\n\n4ï¼æ§è¡æ¥è¯¢æä½\n\nselect * from tb_book ;\n\n\n1\n\n\n\n\nå½å¨å®¢æ·ç«¯ä¸ä¸­éæ¾éæä»¤ unlock tables å ï¼ å®¢æ·ç«¯äºä¸­ç select è¯­å¥ ï¼ ç«å³æ§è¡ ï¼\n\n\n\n\n# ç»è®º\n\néæ¨¡å¼çç¸äºå¼å®¹æ§å¦è¡¨ä¸­æç¤ºï¼\n\n\n\nç±ä¸è¡¨å¯è§ï¼\n\n1ï¼ å¯¹MyISAM è¡¨çè¯»æä½ï¼ä¸ä¼é»å¡å¶ä»ç¨æ·å¯¹åä¸è¡¨çè¯»è¯·æ±ï¼ä½ä¼é»å¡å¯¹åä¸è¡¨çåè¯·æ±ï¼\n\n2ï¼ å¯¹MyISAM è¡¨çåæä½ï¼ä¼é½é»å¡å¶ä»ç¨æ·å¯¹åä¸è¡¨çè¯»ååæä½ï¼\n\nç®èè¨ä¹ï¼å°±æ¯è¯»éä¼é»å¡åï¼ä½æ¯ä¸ä¼é»å¡è¯»ãèåéï¼åæ¢ä¼é»å¡è¯»ï¼åä¼é»å¡åã\n\næ­¤å¤ï¼MyISAM çè¯»åéè°åº¦æ¯åä¼åï¼è¿ä¹æ¯MyISAMä¸éåååä¸ºä¸»çè¡¨çå­å¨å¼æçåå ãå ä¸ºåéåï¼å¶ä»çº¿ç¨ä¸è½åä»»ä½æä½ï¼å¤§éçæ´æ°ä¼ä½¿æ¥è¯¢å¾é¾å¾å°éï¼ä»èé ææ°¸è¿é»å¡ã\n\n\n# æ¥çéçäºç¨æåµ\n\nshow open tablesï¼\n\n\n1\n\n\n\n\nIn_user : è¡¨å½åè¢«æ¥è¯¢ä½¿ç¨çæ¬¡æ°ãå¦æè¯¥æ°ä¸ºé¶ï¼åè¡¨æ¯æå¼çï¼ä½æ¯å½åæ²¡æè¢«ä½¿ç¨ã\n\nName_lockedï¼è¡¨åç§°æ¯å¦è¢«éå®ãåç§°éå®ç¨äºåæ¶è¡¨æå¯¹è¡¨è¿è¡éå½åç­æä½ã\n\nshow status like 'Table_locks%';\n\n\n1\n\n\n\n\nTable_locks_immediate ï¼ æçæ¯è½å¤ç«å³è·å¾è¡¨çº§éçæ¬¡æ°ï¼æ¯ç«å³è·åéï¼å¼å 1ã\n\nTable_locks_waited ï¼ æçæ¯ä¸è½ç«å³è·åè¡¨çº§éèéè¦ç­å¾çæ¬¡æ°ï¼æ¯ç­å¾ä¸æ¬¡ï¼è¯¥å¼å 1ï¼æ­¤å¼é«è¯´æå­å¨çè¾ä¸ºä¸¥éçè¡¨çº§éäºç¨æåµã\n\n\n# InnoDB è¡é\n\n\n# è¡éä»ç»\n\nè¡éç¹ç¹ ï¼ååInnoDB å­å¨å¼æï¼å¼éå¤§ï¼å éæ¢ï¼ä¼åºç°æ­»éï¼éå®ååº¦æå°ï¼åçéå²çªçæ¦çæä½ï¼å¹¶ååº¦ä¹æé«ã\n\nInnoDB ä¸ MyISAM çæå¤§ä¸åæä¸¤ç¹ï¼ä¸æ¯æ¯æäºå¡ï¼äºæ¯éç¨äºè¡çº§éã\n\n\n# èæ¯ç¥è¯\n\näºå¡åå¶ACIDå±æ§\n\näºå¡æ¯ç±ä¸ç»SQLè¯­å¥ç»æçé»è¾å¤çååã\n\näºå¡å·æä»¥ä¸4ä¸ªç¹æ§ï¼ç®ç§°ä¸ºäºå¡ACIDå±æ§ã\n\nACIDå±æ§            å«ä¹\nåå­æ§ï¼Atomicityï¼    äºå¡æ¯ä¸ä¸ªåå­æä½ååï¼å¶å¯¹æ°æ®çä¿®æ¹ï¼è¦ä¹å¨é¨æåï¼è¦ä¹å¨é¨å¤±è´¥ã\nä¸è´æ§ï¼Consistentï¼   å¨äºå¡å¼å§åå®ææ¶ï¼æ°æ®é½å¿é¡»ä¿æä¸è´ç¶æã\néç¦»æ§ï¼Isolationï¼    æ°æ®åºç³»ç»æä¾ä¸å®çéç¦»æºå¶ï¼ä¿è¯äºå¡å¨ä¸åå¤é¨å¹¶åæä½å½±åç âç¬ç«â ç¯å¢ä¸è¿è¡ã\næä¹æ§ï¼Durableï¼      äºå¡å®æä¹åï¼å¯¹äºæ°æ®çä¿®æ¹æ¯æ°¸ä¹çã\n\nå¹¶åäºå¡å¤çå¸¦æ¥çé®é¢\n\né®é¢                            å«ä¹\nä¸¢å¤±æ´æ°ï¼Lost Updateï¼             å½ä¸¤ä¸ªæå¤ä¸ªäºå¡éæ©åä¸è¡ï¼æåçäºå¡ä¿®æ¹çå¼ï¼ä¼è¢«åé¢çäºå¡ä¿®æ¹çå¼è¦çã\nèè¯»ï¼Dirty Readsï¼               å½ä¸ä¸ªäºå¡æ­£å¨è®¿é®æ°æ®ï¼å¹¶ä¸å¯¹æ°æ®è¿è¡äºä¿®æ¹ï¼èè¿ç§ä¿®æ¹è¿æ²¡ææäº¤å°æ°æ®åºä¸­ï¼è¿æ¶ï¼å¦å¤ä¸ä¸ªäºå¡ä¹è®¿é®è¿ä¸ªæ°æ®ï¼ç¶åä½¿ç¨äºè¿ä¸ªæ°æ®ã\nä¸å¯éå¤è¯»ï¼Non-Repeatable Readsï¼   ä¸ä¸ªäºå¡å¨è¯»åæäºæ°æ®åçæä¸ªæ¶é´ï¼åæ¬¡è¯»åä»¥åè¯»è¿çæ°æ®ï¼å´åç°åä»¥åè¯»åºçæ°æ®ä¸ä¸è´ã\nå¹»è¯»ï¼Phantom Readsï¼             ä¸ä¸ªäºå¡æç§ç¸åçæ¥è¯¢æ¡ä»¶éæ°è¯»åä»¥åæ¥è¯¢è¿çæ°æ®ï¼å´åç°å¶ä»äºå¡æå¥äºæ»¡è¶³å¶æ¥è¯¢æ¡ä»¶çæ°æ°æ®ã\n\näºå¡éç¦»çº§å«\n\nä¸ºäºè§£å³ä¸è¿°æå°çäºå¡å¹¶åé®é¢ï¼æ°æ®åºæä¾ä¸å®çäºå¡éç¦»æºå¶æ¥è§£å³è¿ä¸ªé®é¢ãæ°æ®åºçäºå¡éç¦»è¶ä¸¥æ ¼ï¼å¹¶åå¯ä½ç¨è¶å°ï¼ä½ä»åºçä»£ä»·ä¹å°±è¶å¤§ï¼å ä¸ºäºå¡éç¦»å®è´¨ä¸å°±æ¯ä½¿ç¨äºå¡å¨ä¸å®ç¨åº¦ä¸âä¸²è¡åâ è¿è¡ï¼è¿æ¾ç¶ä¸âå¹¶åâ æ¯çç¾çã\n\næ°æ®åºçéç¦»çº§å«æ4ä¸ªï¼ç±ä½å°é«ä¾æ¬¡ä¸º Read uncommittedãRead committedãRepeatable readãSerializableï¼è¿åä¸ªçº§å«å¯ä»¥éä¸ªè§£å³ èåãèè¯»ãä¸å¯éå¤è¯»ãå¹»è¯» è¿å ç±»é®é¢ã\n\néç¦»çº§å«                  ä¸¢å¤±æ´æ°   èè¯»   ä¸å¯éå¤è¯»   å¹»è¯»\nRead uncommitted      Ã      â    â       â\nRead committed        Ã      Ã    â       â\nRepeatable readï¼é»è®¤ï¼   Ã      Ã    Ã       â\nSerializable          Ã      Ã    Ã       Ã\n\nå¤æ³¨ ï¼ â ä»£è¡¨å¯è½åºç° ï¼ Ã ä»£è¡¨ä¸ä¼åºç° ã\n\nMysql çæ°æ®åºçé»è®¤éç¦»çº§å«ä¸º Repeatable read ï¼ æ¥çæ¹å¼ï¼\n\nshow variables like 'tx_isolation';\n\n\n1\n\n\n\n\n\n# InnoDB çè¡éæ¨¡å¼\n\nInnoDB å®ç°äºä»¥ä¸ä¸¤ç§ç±»åçè¡éã\n\n * å±äº«éï¼Sï¼ï¼åç§°ä¸ºè¯»éï¼ç®ç§° S éï¼å±äº«éå°±æ¯å¤ä¸ªäºå¡å¯¹äºåä¸æ°æ®å¯ä»¥å±äº«ä¸æéï¼é½è½è®¿é®å°æ°æ®ï¼ä½æ¯åªè½è¯»ä¸è½ä¿®æ¹ã\n * æä»éï¼Xï¼ï¼åç§°ä¸ºåéï¼ç®ç§° X éï¼æä»éå°±æ¯ä¸è½ä¸å¶ä»éå¹¶å­ï¼å¦ä¸ä¸ªäºå¡è·åäºä¸ä¸ªæ°æ®è¡çæä»éï¼å¶ä»äºå¡å°±ä¸è½åè·åè¯¥è¡çå¶ä»éï¼åæ¬å±äº«éåæä»éï¼ä½æ¯è·åæä»éçäºå¡æ¯å¯ä»¥å¯¹æ°æ®å°±è¡è¯»ååä¿®æ¹ã\n\nå¯¹äº UPDATEãDELETEãINSERT è¯­å¥ï¼InnoDB ä¼èªå¨ç»æ¶åæ°æ®éå  æä»éï¼X)\n\nå¯¹äºæ®éSELECTè¯­å¥ï¼InnoDBä¸ä¼å ä»»ä½éï¼\n\nå¯ä»¥éè¿ä»¥ä¸è¯­å¥æ¾ç¤ºç»è®°å½éå å±äº«éææä»é ã\n\n-- å±äº«éï¼Sï¼\nSELECT * FROM table_name WHERE ... LOCK IN SHARE MODE\n-- æä»éï¼X)\nSELECT * FROM table_name WHERE ... FOR UPDATE\n\n\n1\n2\n3\n4\n\n\n\n# è¡éåºæ¬æ¼ç¤º\n\nåå¤ sql\n\ncreate table test_innodb_lock(\n\tid int(11),\n\tname varchar(16),\n\tsex varchar(1)\n)engine = innodb default charset=utf8;\n\ninsert into test_innodb_lock values(1,'100','1');\ninsert into test_innodb_lock values(3,'3','1');\ninsert into test_innodb_lock values(4,'400','0');\ninsert into test_innodb_lock values(5,'500','1');\ninsert into test_innodb_lock values(6,'600','0');\ninsert into test_innodb_lock values(7,'700','0');\ninsert into test_innodb_lock values(8,'800','1');\ninsert into test_innodb_lock values(9,'900','1');\ninsert into test_innodb_lock values(1,'200','0');\n\ncreate index idx_test_innodb_lock_id on test_innodb_lock(id);\ncreate index idx_test_innodb_lock_name on test_innodb_lock(name);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nå¼å¯ä¸¤ä¸ªä¼è¯\n\nSESSION-1                        SESSION-2\nå³é­èªå¨æäº¤åè½                         å³é­èªå¨æäº¤åè½\nå¯ä»¥æ­£å¸¸çæ¥è¯¢åºå¨é¨çæ°æ®                    å¯ä»¥æ­£å¸¸çæ¥è¯¢åºå¨é¨çæ°æ®\næ¥è¯¢id ä¸º3çæ°æ® ï¼                     è·åidä¸º3çæ°æ® ï¼\næ´æ°idä¸º3çæ°æ®ï¼ä½æ¯ä¸æäº¤ï¼                 æ´æ°idä¸º3 çæ°æ®ï¼ åºäºç­å¾ç¶æ\néè¿commitï¼ æäº¤äºå¡                   è§£é¤é»å¡ï¼æ´æ°æ­£å¸¸è¿è¡\nä»¥ä¸ï¼ æä½çé½æ¯åä¸è¡çæ°æ®ï¼æ¥ä¸æ¥ï¼æ¼ç¤ºä¸åè¡çæ°æ® ï¼   \næ´æ°idä¸º3æ°æ®ï¼æ­£å¸¸çè·åå°è¡é ï¼æ§è¡æ´æ°          ç±äºä¸ Session-1 æä½ä¸æ¯åä¸è¡ï¼è·åå½åè¡éï¼æ§è¡æ´æ°ï¼\n\n\n# æ ç´¢å¼è¡éåçº§ä¸ºè¡¨é\n\nå¦æä¸éè¿ç´¢å¼æ¡ä»¶æ£ç´¢æ°æ®ï¼é£ä¹InnoDBå°å¯¹è¡¨ä¸­çææè®°å½å éï¼å®éææè·è¡¨éä¸æ ·ã\n\n --æ¥çå½åè¡¨çç´¢å¼ ï¼\n show  index  from test_innodb_lock ;\n\n\n1\n2\n\n\n\n\nSESSION-1   SESSION-2\nå³é­äºå¡çèªå¨æäº¤   å³é­äºå¡çèªå¨æäº¤\næ§è¡æ´æ°è¯­å¥      æ§è¡æ´æ°è¯­å¥ï¼ ä½å¤äºé»å¡ç¶æ\næäº¤äºå¡        è§£é¤é»å¡ï¼æ§è¡æ´æ°æå\n            æ§è¡æäº¤æä½\n\nç±äºæ§è¡æ´æ°æ¶ï¼nameå­æ®µæ¬æ¥ä¸ºvarcharç±»åï¼ æä»¬æ¯ä½ä¸ºæ°å­ç±»åä½¿ç¨ï¼å­å¨ç±»åè½¬æ¢ï¼ç´¢å¼å¤±æï¼æç»è¡éåä¸ºè¡¨é ï¼\n\n\n# é´ééå±å®³\n\nå½æä»¬ç¨èå´æ¡ä»¶ï¼èä¸æ¯ä½¿ç¨ç¸ç­æ¡ä»¶æ£ç´¢æ°æ®ï¼å¹¶è¯·æ±å±äº«ææä»éæ¶ï¼InnoDBä¼ç»ç¬¦åæ¡ä»¶çå·²ææ°æ®è¿è¡å éï¼ å¯¹äºé®å¼å¨æ¡ä»¶èå´åä½å¹¶ä¸å­å¨çè®°å½ï¼å«å \"é´éï¼GAPï¼\" ï¼ InnoDBä¹ä¼å¯¹è¿ä¸ª \"é´é\" å éï¼è¿ç§éæºå¶å°±æ¯æè°ç é´ééï¼Next-Keyéï¼ ã\n\nç¤ºä¾ ï¼\n\nSESSION-1    SESSION-2\nå³é­äºå¡èªå¨æäº¤ !   å³é­äºå¡èªå¨æäº¤\næ ¹æ®idèå´æ´æ°æ°æ®   \n             æå¥idä¸º2çè®°å½ï¼ åºäºé»å¡ç¶æ!\næäº¤äºå¡         \n             è§£é¤é»å¡ ï¼ æ§è¡æå¥æä½\n             æäº¤äºå¡\n\n\n# InnoDB è¡éäºç¨æåµ\n\nshow  status like 'innodb_row_lock%';\n\n\n1\n\n\n\n\n * Innodb_row_lock_current_waits\n   \n   å½åæ­£å¨ç­å¾éå®çæ°é\n\n * Innodb_row_lock_time\n   \n   ä»ç³»ç»å¯å¨å°ç°å¨éå®æ»æ¶é´é¿åº¦\n\n * Innodb_row_lock_time_avg\n   \n   æ¯æ¬¡ç­å¾æè±å¹³åæ¶é¿\n\n * Innodb_row_lock_time_max\n   \n   ä»ç³»ç»å¯å¨å°ç°å¨ç­å¾æé¿çä¸æ¬¡æè±çæ¶é´\n\n * Innodb_row_lock_waits\n   \n   ç³»ç»å¯å¨åå°ç°å¨æ»å±ç­å¾çæ¬¡æ°\n\nå½ç­å¾çæ¬¡æ°å¾é«ï¼èä¸æ¯æ¬¡ç­å¾çæ¶é¿ä¹ä¸å°çæ¶åï¼æä»¬å°±éè¦åæç³»ç»ä¸­ä¸ºä»ä¹ä¼æå¦æ­¤å¤çç­å¾ï¼ç¶åæ ¹æ®åæç»æçæå¶å®ä¼åè®¡åã\n\n\n# æ»ç»\n\nInnoDBå­å¨å¼æç±äºå®ç°äºè¡çº§éå®ï¼è½ç¶å¨éå®æºå¶çå®ç°æ¹é¢å¸¦æ¥äºæ§è½æèå¯è½æ¯è¡¨éä¼æ´é«ä¸äºï¼ä½æ¯å¨æ´ä½å¹¶åå¤çè½åæ¹é¢è¦è¿è¿ç±äºMyISAMçè¡¨éçãå½ç³»ç»å¹¶åéè¾é«çæ¶åï¼InnoDBçæ´ä½æ§è½åMyISAMç¸æ¯å°±ä¼ææ¯è¾ææ¾çä¼å¿ã\n\nä½æ¯ï¼InnoDBçè¡çº§éåæ ·ä¹æå¶èå¼±çä¸é¢ï¼å½æä»¬ä½¿ç¨ä¸å½çæ¶åï¼å¯è½ä¼è®©InnoDBçæ´ä½æ§è½è¡¨ç°ä¸ä»ä¸è½æ¯MyISAMé«ï¼çè³å¯è½ä¼æ´å·®ã\n\nä¼åå»ºè®®ï¼\n\n * å°½å¯è½è®©æææ°æ®æ£ç´¢é½è½éè¿ç´¢å¼æ¥å®æï¼é¿åæ ç´¢å¼è¡éåçº§ä¸ºè¡¨éã\n * åçè®¾è®¡ç´¢å¼ï¼å°½éç¼©å°éçèå´\n * å°½å¯è½åå°ç´¢å¼æ¡ä»¶ï¼åç´¢å¼èå´ï¼é¿åé´éé\n * å°½éæ§å¶äºå¡å¤§å°ï¼åå°éå®èµæºéåæ¶é´é¿åº¦\n * å°½å¯ä½¿ç¨ä½çº§å«äºå¡éç¦»ï¼ä½æ¯éè¦ä¸å¡å±é¢æ»¡è¶³éæ±ï¼",normalizedContent:" * ç®ä»\n * myisam è¡¨é\n   * å¦ä½å è¡¨é\n   * è¯»éæ¡ä¾\n   * åéæ¡ä¾\n   * ç»è®º\n   * æ¥çéçäºç¨æåµ\n * innodb è¡é\n   * è¡éä»ç»\n   * èæ¯ç¥è¯\n   * innodb çè¡éæ¨¡å¼\n   * è¡éåºæ¬æ¼ç¤º\n   * æ ç´¢å¼è¡éåçº§ä¸ºè¡¨é\n   * é´ééå±å®³\n   * innodb è¡éäºç¨æåµ\n   * æ»ç»\n\n\n# ç®ä»\n\n * éæ¦è¿°\n\néæ¯è®¡ç®æºåè°å¤ä¸ªè¿ç¨æçº¿ç¨å¹¶åè®¿é®æä¸èµæºçæºå¶ï¼é¿åäºæ¢ï¼ã\n\nå¨æ°æ®åºä¸­ï¼é¤ä¼ ç»çè®¡ç®èµæºï¼å¦ cpuãramãi/o ç­ï¼çäºç¨ä»¥å¤ï¼æ°æ®ä¹æ¯ä¸ç§ä¾è®¸å¤ç¨æ·å±äº«çèµæºãå¦ä½ä¿è¯æ°æ®å¹¶åè®¿é®çä¸è´æ§ãæææ§æ¯æææ°æ®åºå¿é¡»è§£å³çä¸ä¸ªé®é¢ï¼éå²çªä¹æ¯å½±åæ°æ®åºå¹¶åè®¿é®æ§è½çä¸ä¸ªéè¦å ç´ ãä»è¿ä¸ªè§åº¦æ¥è¯´ï¼éå¯¹æ°æ®åºèè¨æ¾å¾å°¤å¶éè¦ï¼ä¹æ´å å¤æã\n\n * éåç±»ï¼\n\nä»å¯¹æ°æ®æä½çç²åº¦å ï¼\n\n1ï¼ è¡¨éï¼æä½æ¶ï¼ä¼éå®æ´ä¸ªè¡¨ã\n\n2ï¼ è¡éï¼æä½æ¶ï¼ä¼éå®å½åæä½è¡ã\n\nä»å¯¹æ°æ®æä½çç±»ååï¼\n\n1ï¼ è¯»éï¼å±äº«éï¼ï¼éå¯¹åä¸ä»½æ°æ®ï¼å¤ä¸ªè¯»æä½å¯ä»¥åæ¶è¿è¡èä¸ä¼äºç¸å½±åã\n\n2ï¼ åéï¼æå®éï¼ï¼å½åæä½æ²¡æå®æä¹åï¼å®ä¼é»æ­å¶ä»åéåè¯»éã\n\n * mysql é\n\nç¸å¯¹å¶ä»æ°æ®åºèè¨ï¼mysqlçéæºå¶æ¯è¾ç®åï¼å¶ææ¾èçç¹ç¹æ¯ä¸åçå­å¨å¼ææ¯æä¸åçéæºå¶ã\n\nä¸è¡¨ä¸­ç½ååºäºåå­å¨å¼æå¯¹éçæ¯ææåµï¼\n\nå­å¨å¼æ     è¡¨çº§é   è¡çº§é   é¡µé¢é\nmyisam   æ¯æ    ä¸æ¯æ   ä¸æ¯æ\ninnodb   æ¯æ    æ¯æ    ä¸æ¯æ\nmemory   æ¯æ    ä¸æ¯æ   ä¸æ¯æ\nbdb      æ¯æ    ä¸æ¯æ   æ¯æ\n\nmysqlè¿3ç§éçç¹æ§å¯å¤§è´å½çº³å¦ä¸ ï¼\n\néç±»å   ç¹ç¹\nè¡¨çº§é   ååmyisam å­å¨å¼æï¼å¼éå°ï¼å éå¿«ï¼ä¸ä¼åºç°æ­»éï¼éå®ç²åº¦å¤§ï¼åçéå²çªçæ¦çæé«,å¹¶ååº¦æä½ã\nè¡çº§é   ååinnodb å­å¨å¼æï¼å¼éå¤§ï¼å éæ¢ï¼ä¼åºç°æ­»éï¼éå®ç²åº¦æå°ï¼åçéå²çªçæ¦çæä½,å¹¶ååº¦ä¹æé«ã\né¡µé¢é   å¼éåå éæ¶é´çäºè¡¨éåè¡éä¹é´ï¼ä¼åºç°æ­»éï¼éå®ç²åº¦çäºè¡¨éåè¡éä¹é´ï¼å¹¶ååº¦ä¸è¬ã\n\nä»ä¸è¿°ç¹ç¹å¯è§ï¼å¾é¾ç¬¼ç»å°è¯´åªç§éæ´å¥½ï¼åªè½å°±å·ä½åºç¨çç¹ç¹æ¥è¯´åªç§éæ´åéï¼ä»ä»éçè§åº¦æ¥è¯´ï¼è¡¨çº§éæ´éåäºä»¥æ¥è¯¢ä¸ºä¸»ï¼åªæå°éæç´¢å¼æ¡ä»¶æ´æ°æ°æ®çåºç¨ï¼å¦web åºç¨ï¼èè¡çº§éåæ´éåäºæå¤§éæç´¢å¼æ¡ä»¶å¹¶åæ´æ°å°éä¸åæ°æ®ï¼åæ¶åæå¹¶æ¥è¯¢çåºç¨ï¼å¦ä¸äºå¨çº¿äºå¡å¤çï¼oltpï¼ç³»ç»ã\n\n\n# myisam è¡¨é\n\nmyisam å­å¨å¼æåªæ¯æè¡¨éï¼è¿ä¹æ¯mysqlå¼å§å ä¸ªçæ¬ä¸­å¯ä¸æ¯æçéç±»åã\n\n\n# å¦ä½å è¡¨é\n\nmyisam å¨æ§è¡æ¥è¯¢è¯­å¥ï¼selectï¼åï¼ä¼èªå¨ç»æ¶åçææè¡¨å è¯»éï¼å¨æ§è¡æ´æ°æä½ï¼updateãdeleteãinsert ç­ï¼åï¼ä¼èªå¨ç»æ¶åçè¡¨å åéï¼è¿ä¸ªè¿ç¨å¹¶ä¸éè¦ç¨æ·å¹²é¢ï¼å æ­¤ï¼ç¨æ·ä¸è¬ä¸éè¦ç´æ¥ç¨ lock table å½ä»¤ç» myisam è¡¨æ¾å¼å éã\n\nlock table table_name read;\t--å è¯»é\n\nlock table table_name writ;\t--å åé\n\n\n1\n2\n3\n\n\n\n# è¯»éæ¡ä¾\n\nåå¤ç¯å¢\n\ncreate database demo_03 default charset=utf8mb4;\n\nuse demo_03;\n\ncreate table `tb_book` (\n  `id` int(11) auto_increment,\n  `name` varchar(50) default null,\n  `publish_time` date default null,\n  `status` char(1) default null,\n  primary key (`id`)\n) engine=myisam default charset=utf8 ;\n\ninsert into tb_book (id, name, publish_time, status) values(null,'javaç¼ç¨ææ³','2088-08-01','1');\ninsert into tb_book (id, name, publish_time, status) values(null,'solrç¼ç¨ææ³','2088-08-08','0');\n\n\n\ncreate table `tb_user` (\n  `id` int(11) auto_increment,\n  `name` varchar(50) default null,\n  primary key (`id`)\n) engine=myisam default charset=utf8 ;\n\ninsert into tb_user (id, name) values(null,'ä»¤çå²');\ninsert into tb_user (id, name) values(null,'ç°ä¼¯å');\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\nå®¢æ·ç«¯ ä¸ ï¼\n\n1ï¼å  tb_book è¡¨çè¯»é\n\nlock table tb_book read;\n\n\n1\n\n\n2ï¼ æ§è¡æ¥è¯¢æä½\n\nselect * from tb_book;\n\n\n1\n\n\n\n\nå¯ä»¥æ­£å¸¸æ§è¡ ï¼ æ¥è¯¢åºæ°æ®ã\n\nå®¢æ·ç«¯ äº ï¼\n\n3ï¼ æ§è¡æ¥è¯¢æä½\n\nselect * from tb_book;\n\n\n1\n\n\n\n\nå®¢æ·ç«¯ ä¸ ï¼\n\n4ï¼æ¥è¯¢æªéå®çè¡¨\n\nselect name from tb_seller;\n\n\n1\n\n\n\n\nå®¢æ·ç«¯ äº ï¼\n\n5ï¼æ¥è¯¢æªéå®çè¡¨\n\nselect name from tb_seller;\n\n\n1\n\n\n\n\nå¯ä»¥æ­£å¸¸æ¥è¯¢åºæªéå®çè¡¨ï¼\n\nå®¢æ·ç«¯ ä¸ ï¼\n\n6ï¼ æ§è¡æå¥æä½\n\ninsert into tb_book values(null,'mysqlé«çº§','2088-01-01','1');\n\n\n1\n\n\n\n\næ§è¡æå¥ï¼ ç´æ¥æ¥é ï¼ ç±äºå½åtb_book è·å¾çæ¯ è¯»éï¼ ä¸è½æ§è¡æ´æ°æä½ã\n\nå®¢æ·ç«¯ äº ï¼\n\n7ï¼ æ§è¡æå¥æä½\n\ninsert into tb_book values(null,'mysqlé«çº§','2088-01-01','1');\n\n\n1\n\n\n\n\nå½å¨å®¢æ·ç«¯ä¸ä¸­éæ¾éæä»¤ unlock tables å ï¼ å®¢æ·ç«¯äºä¸­ç inesrt è¯­å¥ ï¼ ç«å³æ§è¡ ï¼\n\n\n# åéæ¡ä¾\n\nå®¢æ·ç«¯ ä¸ :\n\n1ï¼ç» tb_book è¡¨çåé\n\nlock table tb_book write ;\n\n\n1\n\n\n2ï¼æ§è¡æ¥è¯¢æä½\n\nselect * from tb_book ;\n\n\n1\n\n\n\n\næ¥è¯¢æä½æ§è¡æåï¼\n\n3ï¼æ§è¡æ´æ°æä½\n\nupdate tb_book set name = 'javaç¼ç¨ææ³ï¼ç¬¬äºçï¼' where id = 1;\n\n\n1\n\n\n\n\næ´æ°æä½æ§è¡æå ï¼\n\nå®¢æ·ç«¯ äº :\n\n4ï¼æ§è¡æ¥è¯¢æä½\n\nselect * from tb_book ;\n\n\n1\n\n\n\n\nå½å¨å®¢æ·ç«¯ä¸ä¸­éæ¾éæä»¤ unlock tables å ï¼ å®¢æ·ç«¯äºä¸­ç select è¯­å¥ ï¼ ç«å³æ§è¡ ï¼\n\n\n\n\n# ç»è®º\n\néæ¨¡å¼çç¸äºå¼å®¹æ§å¦è¡¨ä¸­æç¤ºï¼\n\n\n\nç±ä¸è¡¨å¯è§ï¼\n\n1ï¼ å¯¹myisam è¡¨çè¯»æä½ï¼ä¸ä¼é»å¡å¶ä»ç¨æ·å¯¹åä¸è¡¨çè¯»è¯·æ±ï¼ä½ä¼é»å¡å¯¹åä¸è¡¨çåè¯·æ±ï¼\n\n2ï¼ å¯¹myisam è¡¨çåæä½ï¼ä¼é½é»å¡å¶ä»ç¨æ·å¯¹åä¸è¡¨çè¯»ååæä½ï¼\n\nç®èè¨ä¹ï¼å°±æ¯è¯»éä¼é»å¡åï¼ä½æ¯ä¸ä¼é»å¡è¯»ãèåéï¼åæ¢ä¼é»å¡è¯»ï¼åä¼é»å¡åã\n\næ­¤å¤ï¼myisam çè¯»åéè°åº¦æ¯åä¼åï¼è¿ä¹æ¯myisamä¸éåååä¸ºä¸»çè¡¨çå­å¨å¼æçåå ãå ä¸ºåéåï¼å¶ä»çº¿ç¨ä¸è½åä»»ä½æä½ï¼å¤§éçæ´æ°ä¼ä½¿æ¥è¯¢å¾é¾å¾å°éï¼ä»èé ææ°¸è¿é»å¡ã\n\n\n# æ¥çéçäºç¨æåµ\n\nshow open tablesï¼\n\n\n1\n\n\n\n\nin_user : è¡¨å½åè¢«æ¥è¯¢ä½¿ç¨çæ¬¡æ°ãå¦æè¯¥æ°ä¸ºé¶ï¼åè¡¨æ¯æå¼çï¼ä½æ¯å½åæ²¡æè¢«ä½¿ç¨ã\n\nname_lockedï¼è¡¨åç§°æ¯å¦è¢«éå®ãåç§°éå®ç¨äºåæ¶è¡¨æå¯¹è¡¨è¿è¡éå½åç­æä½ã\n\nshow status like 'table_locks%';\n\n\n1\n\n\n\n\ntable_locks_immediate ï¼ æçæ¯è½å¤ç«å³è·å¾è¡¨çº§éçæ¬¡æ°ï¼æ¯ç«å³è·åéï¼å¼å 1ã\n\ntable_locks_waited ï¼ æçæ¯ä¸è½ç«å³è·åè¡¨çº§éèéè¦ç­å¾çæ¬¡æ°ï¼æ¯ç­å¾ä¸æ¬¡ï¼è¯¥å¼å 1ï¼æ­¤å¼é«è¯´æå­å¨çè¾ä¸ºä¸¥éçè¡¨çº§éäºç¨æåµã\n\n\n# innodb è¡é\n\n\n# è¡éä»ç»\n\nè¡éç¹ç¹ ï¼ååinnodb å­å¨å¼æï¼å¼éå¤§ï¼å éæ¢ï¼ä¼åºç°æ­»éï¼éå®ååº¦æå°ï¼åçéå²çªçæ¦çæä½ï¼å¹¶ååº¦ä¹æé«ã\n\ninnodb ä¸ myisam çæå¤§ä¸åæä¸¤ç¹ï¼ä¸æ¯æ¯æäºå¡ï¼äºæ¯éç¨äºè¡çº§éã\n\n\n# èæ¯ç¥è¯\n\näºå¡åå¶acidå±æ§\n\näºå¡æ¯ç±ä¸ç»sqlè¯­å¥ç»æçé»è¾å¤çååã\n\näºå¡å·æä»¥ä¸4ä¸ªç¹æ§ï¼ç®ç§°ä¸ºäºå¡acidå±æ§ã\n\nacidå±æ§            å«ä¹\nåå­æ§ï¼atomicityï¼    äºå¡æ¯ä¸ä¸ªåå­æä½ååï¼å¶å¯¹æ°æ®çä¿®æ¹ï¼è¦ä¹å¨é¨æåï¼è¦ä¹å¨é¨å¤±è´¥ã\nä¸è´æ§ï¼consistentï¼   å¨äºå¡å¼å§åå®ææ¶ï¼æ°æ®é½å¿é¡»ä¿æä¸è´ç¶æã\néç¦»æ§ï¼isolationï¼    æ°æ®åºç³»ç»æä¾ä¸å®çéç¦»æºå¶ï¼ä¿è¯äºå¡å¨ä¸åå¤é¨å¹¶åæä½å½±åç âç¬ç«â ç¯å¢ä¸è¿è¡ã\næä¹æ§ï¼durableï¼      äºå¡å®æä¹åï¼å¯¹äºæ°æ®çä¿®æ¹æ¯æ°¸ä¹çã\n\nå¹¶åäºå¡å¤çå¸¦æ¥çé®é¢\n\né®é¢                            å«ä¹\nä¸¢å¤±æ´æ°ï¼lost updateï¼             å½ä¸¤ä¸ªæå¤ä¸ªäºå¡éæ©åä¸è¡ï¼æåçäºå¡ä¿®æ¹çå¼ï¼ä¼è¢«åé¢çäºå¡ä¿®æ¹çå¼è¦çã\nèè¯»ï¼dirty readsï¼               å½ä¸ä¸ªäºå¡æ­£å¨è®¿é®æ°æ®ï¼å¹¶ä¸å¯¹æ°æ®è¿è¡äºä¿®æ¹ï¼èè¿ç§ä¿®æ¹è¿æ²¡ææäº¤å°æ°æ®åºä¸­ï¼è¿æ¶ï¼å¦å¤ä¸ä¸ªäºå¡ä¹è®¿é®è¿ä¸ªæ°æ®ï¼ç¶åä½¿ç¨äºè¿ä¸ªæ°æ®ã\nä¸å¯éå¤è¯»ï¼non-repeatable readsï¼   ä¸ä¸ªäºå¡å¨è¯»åæäºæ°æ®åçæä¸ªæ¶é´ï¼åæ¬¡è¯»åä»¥åè¯»è¿çæ°æ®ï¼å´åç°åä»¥åè¯»åºçæ°æ®ä¸ä¸è´ã\nå¹»è¯»ï¼phantom readsï¼             ä¸ä¸ªäºå¡æç§ç¸åçæ¥è¯¢æ¡ä»¶éæ°è¯»åä»¥åæ¥è¯¢è¿çæ°æ®ï¼å´åç°å¶ä»äºå¡æå¥äºæ»¡è¶³å¶æ¥è¯¢æ¡ä»¶çæ°æ°æ®ã\n\näºå¡éç¦»çº§å«\n\nä¸ºäºè§£å³ä¸è¿°æå°çäºå¡å¹¶åé®é¢ï¼æ°æ®åºæä¾ä¸å®çäºå¡éç¦»æºå¶æ¥è§£å³è¿ä¸ªé®é¢ãæ°æ®åºçäºå¡éç¦»è¶ä¸¥æ ¼ï¼å¹¶åå¯ä½ç¨è¶å°ï¼ä½ä»åºçä»£ä»·ä¹å°±è¶å¤§ï¼å ä¸ºäºå¡éç¦»å®è´¨ä¸å°±æ¯ä½¿ç¨äºå¡å¨ä¸å®ç¨åº¦ä¸âä¸²è¡åâ è¿è¡ï¼è¿æ¾ç¶ä¸âå¹¶åâ æ¯çç¾çã\n\næ°æ®åºçéç¦»çº§å«æ4ä¸ªï¼ç±ä½å°é«ä¾æ¬¡ä¸º read uncommittedãread committedãrepeatable readãserializableï¼è¿åä¸ªçº§å«å¯ä»¥éä¸ªè§£å³ èåãèè¯»ãä¸å¯éå¤è¯»ãå¹»è¯» è¿å ç±»é®é¢ã\n\néç¦»çº§å«                  ä¸¢å¤±æ´æ°   èè¯»   ä¸å¯éå¤è¯»   å¹»è¯»\nread uncommitted      Ã      â    â       â\nread committed        Ã      Ã    â       â\nrepeatable readï¼é»è®¤ï¼   Ã      Ã    Ã       â\nserializable          Ã      Ã    Ã       Ã\n\nå¤æ³¨ ï¼ â ä»£è¡¨å¯è½åºç° ï¼ Ã ä»£è¡¨ä¸ä¼åºç° ã\n\nmysql çæ°æ®åºçé»è®¤éç¦»çº§å«ä¸º repeatable read ï¼ æ¥çæ¹å¼ï¼\n\nshow variables like 'tx_isolation';\n\n\n1\n\n\n\n\n\n# innodb çè¡éæ¨¡å¼\n\ninnodb å®ç°äºä»¥ä¸ä¸¤ç§ç±»åçè¡éã\n\n * å±äº«éï¼sï¼ï¼åç§°ä¸ºè¯»éï¼ç®ç§° s éï¼å±äº«éå°±æ¯å¤ä¸ªäºå¡å¯¹äºåä¸æ°æ®å¯ä»¥å±äº«ä¸æéï¼é½è½è®¿é®å°æ°æ®ï¼ä½æ¯åªè½è¯»ä¸è½ä¿®æ¹ã\n * æä»éï¼xï¼ï¼åç§°ä¸ºåéï¼ç®ç§° x éï¼æä»éå°±æ¯ä¸è½ä¸å¶ä»éå¹¶å­ï¼å¦ä¸ä¸ªäºå¡è·åäºä¸ä¸ªæ°æ®è¡çæä»éï¼å¶ä»äºå¡å°±ä¸è½åè·åè¯¥è¡çå¶ä»éï¼åæ¬å±äº«éåæä»éï¼ä½æ¯è·åæä»éçäºå¡æ¯å¯ä»¥å¯¹æ°æ®å°±è¡è¯»ååä¿®æ¹ã\n\nå¯¹äº updateãdeleteãinsert è¯­å¥ï¼innodb ä¼èªå¨ç»æ¶åæ°æ®éå  æä»éï¼x)\n\nå¯¹äºæ®éselectè¯­å¥ï¼innodbä¸ä¼å ä»»ä½éï¼\n\nå¯ä»¥éè¿ä»¥ä¸è¯­å¥æ¾ç¤ºç»è®°å½éå å±äº«éææä»é ã\n\n-- å±äº«éï¼sï¼\nselect * from table_name where ... lock in share mode\n-- æä»éï¼x)\nselect * from table_name where ... for update\n\n\n1\n2\n3\n4\n\n\n\n# è¡éåºæ¬æ¼ç¤º\n\nåå¤ sql\n\ncreate table test_innodb_lock(\n\tid int(11),\n\tname varchar(16),\n\tsex varchar(1)\n)engine = innodb default charset=utf8;\n\ninsert into test_innodb_lock values(1,'100','1');\ninsert into test_innodb_lock values(3,'3','1');\ninsert into test_innodb_lock values(4,'400','0');\ninsert into test_innodb_lock values(5,'500','1');\ninsert into test_innodb_lock values(6,'600','0');\ninsert into test_innodb_lock values(7,'700','0');\ninsert into test_innodb_lock values(8,'800','1');\ninsert into test_innodb_lock values(9,'900','1');\ninsert into test_innodb_lock values(1,'200','0');\n\ncreate index idx_test_innodb_lock_id on test_innodb_lock(id);\ncreate index idx_test_innodb_lock_name on test_innodb_lock(name);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nå¼å¯ä¸¤ä¸ªä¼è¯\n\nsession-1                        session-2\nå³é­èªå¨æäº¤åè½                         å³é­èªå¨æäº¤åè½\nå¯ä»¥æ­£å¸¸çæ¥è¯¢åºå¨é¨çæ°æ®                    å¯ä»¥æ­£å¸¸çæ¥è¯¢åºå¨é¨çæ°æ®\næ¥è¯¢id ä¸º3çæ°æ® ï¼                     è·åidä¸º3çæ°æ® ï¼\næ´æ°idä¸º3çæ°æ®ï¼ä½æ¯ä¸æäº¤ï¼                 æ´æ°idä¸º3 çæ°æ®ï¼ åºäºç­å¾ç¶æ\néè¿commitï¼ æäº¤äºå¡                   è§£é¤é»å¡ï¼æ´æ°æ­£å¸¸è¿è¡\nä»¥ä¸ï¼ æä½çé½æ¯åä¸è¡çæ°æ®ï¼æ¥ä¸æ¥ï¼æ¼ç¤ºä¸åè¡çæ°æ® ï¼   \næ´æ°idä¸º3æ°æ®ï¼æ­£å¸¸çè·åå°è¡é ï¼æ§è¡æ´æ°          ç±äºä¸ session-1 æä½ä¸æ¯åä¸è¡ï¼è·åå½åè¡éï¼æ§è¡æ´æ°ï¼\n\n\n# æ ç´¢å¼è¡éåçº§ä¸ºè¡¨é\n\nå¦æä¸éè¿ç´¢å¼æ¡ä»¶æ£ç´¢æ°æ®ï¼é£ä¹innodbå°å¯¹è¡¨ä¸­çææè®°å½å éï¼å®éææè·è¡¨éä¸æ ·ã\n\n --æ¥çå½åè¡¨çç´¢å¼ ï¼\n show  index  from test_innodb_lock ;\n\n\n1\n2\n\n\n\n\nsession-1   session-2\nå³é­äºå¡çèªå¨æäº¤   å³é­äºå¡çèªå¨æäº¤\næ§è¡æ´æ°è¯­å¥      æ§è¡æ´æ°è¯­å¥ï¼ ä½å¤äºé»å¡ç¶æ\næäº¤äºå¡        è§£é¤é»å¡ï¼æ§è¡æ´æ°æå\n            æ§è¡æäº¤æä½\n\nç±äºæ§è¡æ´æ°æ¶ï¼nameå­æ®µæ¬æ¥ä¸ºvarcharç±»åï¼ æä»¬æ¯ä½ä¸ºæ°å­ç±»åä½¿ç¨ï¼å­å¨ç±»åè½¬æ¢ï¼ç´¢å¼å¤±æï¼æç»è¡éåä¸ºè¡¨é ï¼\n\n\n# é´ééå±å®³\n\nå½æä»¬ç¨èå´æ¡ä»¶ï¼èä¸æ¯ä½¿ç¨ç¸ç­æ¡ä»¶æ£ç´¢æ°æ®ï¼å¹¶è¯·æ±å±äº«ææä»éæ¶ï¼innodbä¼ç»ç¬¦åæ¡ä»¶çå·²ææ°æ®è¿è¡å éï¼ å¯¹äºé®å¼å¨æ¡ä»¶èå´åä½å¹¶ä¸å­å¨çè®°å½ï¼å«å \"é´éï¼gapï¼\" ï¼ innodbä¹ä¼å¯¹è¿ä¸ª \"é´é\" å éï¼è¿ç§éæºå¶å°±æ¯æè°ç é´ééï¼next-keyéï¼ ã\n\nç¤ºä¾ ï¼\n\nsession-1    session-2\nå³é­äºå¡èªå¨æäº¤ !   å³é­äºå¡èªå¨æäº¤\næ ¹æ®idèå´æ´æ°æ°æ®   \n             æå¥idä¸º2çè®°å½ï¼ åºäºé»å¡ç¶æ!\næäº¤äºå¡         \n             è§£é¤é»å¡ ï¼ æ§è¡æå¥æä½\n             æäº¤äºå¡\n\n\n# innodb è¡éäºç¨æåµ\n\nshow  status like 'innodb_row_lock%';\n\n\n1\n\n\n\n\n * innodb_row_lock_current_waits\n   \n   å½åæ­£å¨ç­å¾éå®çæ°é\n\n * innodb_row_lock_time\n   \n   ä»ç³»ç»å¯å¨å°ç°å¨éå®æ»æ¶é´é¿åº¦\n\n * innodb_row_lock_time_avg\n   \n   æ¯æ¬¡ç­å¾æè±å¹³åæ¶é¿\n\n * innodb_row_lock_time_max\n   \n   ä»ç³»ç»å¯å¨å°ç°å¨ç­å¾æé¿çä¸æ¬¡æè±çæ¶é´\n\n * innodb_row_lock_waits\n   \n   ç³»ç»å¯å¨åå°ç°å¨æ»å±ç­å¾çæ¬¡æ°\n\nå½ç­å¾çæ¬¡æ°å¾é«ï¼èä¸æ¯æ¬¡ç­å¾çæ¶é¿ä¹ä¸å°çæ¶åï¼æä»¬å°±éè¦åæç³»ç»ä¸­ä¸ºä»ä¹ä¼æå¦æ­¤å¤çç­å¾ï¼ç¶åæ ¹æ®åæç»æçæå¶å®ä¼åè®¡åã\n\n\n# æ»ç»\n\ninnodbå­å¨å¼æç±äºå®ç°äºè¡çº§éå®ï¼è½ç¶å¨éå®æºå¶çå®ç°æ¹é¢å¸¦æ¥äºæ§è½æèå¯è½æ¯è¡¨éä¼æ´é«ä¸äºï¼ä½æ¯å¨æ´ä½å¹¶åå¤çè½åæ¹é¢è¦è¿è¿ç±äºmyisamçè¡¨éçãå½ç³»ç»å¹¶åéè¾é«çæ¶åï¼innodbçæ´ä½æ§è½åmyisamç¸æ¯å°±ä¼ææ¯è¾ææ¾çä¼å¿ã\n\nä½æ¯ï¼innodbçè¡çº§éåæ ·ä¹æå¶èå¼±çä¸é¢ï¼å½æä»¬ä½¿ç¨ä¸å½çæ¶åï¼å¯è½ä¼è®©innodbçæ´ä½æ§è½è¡¨ç°ä¸ä»ä¸è½æ¯myisamé«ï¼çè³å¯è½ä¼æ´å·®ã\n\nä¼åå»ºè®®ï¼\n\n * å°½å¯è½è®©æææ°æ®æ£ç´¢é½è½éè¿ç´¢å¼æ¥å®æï¼é¿åæ ç´¢å¼è¡éåçº§ä¸ºè¡¨éã\n * åçè®¾è®¡ç´¢å¼ï¼å°½éç¼©å°éçèå´\n * å°½å¯è½åå°ç´¢å¼æ¡ä»¶ï¼åç´¢å¼èå´ï¼é¿åé´éé\n * å°½éæ§å¶äºå¡å¤§å°ï¼åå°éå®èµæºéåæ¶é´é¿åº¦\n * å°½å¯ä½¿ç¨ä½çº§å«äºå¡éç¦»ï¼ä½æ¯éè¦ä¸å¡å±é¢æ»¡è¶³éæ±ï¼",charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"MySQL - å¸¸ç¨å·¥å·",frontmatter:{title:"MySQL - å¸¸ç¨å·¥å·",permalink:"/mysql/common-tools/",date:"2021-05-25T16:23:45.000Z"},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/05.MySQL/26.MySQL%20-%20%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7.html",relativePath:"03.æ°æ®åº/05.MySQL/26.MySQL - å¸¸ç¨å·¥å·.md",key:"v-2a0bf03b",path:"/mysql/common-tools/",headers:[{level:2,title:"mysql",slug:"mysql",normalizedTitle:"mysql",charIndex:3},{level:2,title:"mysqladmin",slug:"mysqladmin",normalizedTitle:"mysqladmin",charIndex:12},{level:2,title:"mysqlbinlog",slug:"mysqlbinlog",normalizedTitle:"mysqlbinlog",charIndex:26},{level:2,title:"mysqldump",slug:"mysqldump",normalizedTitle:"mysqldump",charIndex:41},{level:2,title:"mysqlimportåsource",slug:"mysqlimportåsource",normalizedTitle:"mysqlimportåsource",charIndex:54},{level:2,title:"mysqlshow",slug:"mysqlshow",normalizedTitle:"mysqlshow",charIndex:76}],headersStr:"mysql mysqladmin mysqlbinlog mysqldump mysqlimportåsource mysqlshow",content:" * mysql\n * mysqladmin\n * mysqlbinlog\n * mysqldump\n * mysqlimportåsource\n * mysqlshow\n\n\n# mysql\n\nè¯¥mysqlä¸æ¯æmysqlæå¡ï¼èæ¯æmysqlçå®¢æ·ç«¯å·¥å·ã\n\nè¯­æ³ ï¼\n\nmysql [options] [database]\n\n\n1\n\n\nè¿æ¥éé¡¹ï¼\n\nåæ°                   è¯´æ\n-u, --user=txt       æå®ç¨æ·å\n-p, --password=txt   æå®å¯ç \n-h, --host=txt       æå®æå¡å¨IPæåå\n-p, --port=#         æå®è¿æ¥ç«¯å£\n\nç¤ºä¾ ï¼\n\nmysql -h 127.0.0.1 -P 3306 -u root -p\n\t\nmysql -h127.0.0.1 -P3306 -uroot -p2143\t-- å¯ä¸å ç©ºæ ¼\n\n\n1\n2\n3\n\n\næ§è¡éé¡¹\n\nåæ°                   è¯´æ\n-e, --execute=name   æ§è¡SQLè¯­å¥å¹¶éåº\n\næ­¤éé¡¹å¯ä»¥å¨Mysqlå®¢æ·ç«¯æ§è¡SQLè¯­å¥ï¼èä¸ç¨è¿æ¥å°MySQLæ°æ®åºåæ§è¡ï¼å¯¹äºä¸äºæ¹å¤çèæ¬ï¼è¿ç§æ¹å¼å°¤å¶æ¹ä¾¿ã\n\nç¤ºä¾ï¼\n\nmysql -uroot -p2143 db01 -e \"select * from tb_book\";\n\n\n1\n\n\n\n\n\n# mysqladmin\n\nmysqladmin æ¯ä¸ä¸ªæ§è¡ç®¡çæä½çå®¢æ·ç«¯ç¨åºãå¯ä»¥ç¨å®æ¥æ£æ¥æå¡å¨çéç½®åå½åç¶æãåå»ºå¹¶å é¤æ°æ®åºç­ã\n\næ¥çå¸®å©ææ¡£æä»¤\n\nmysqladmin --help\n\n\n1\n\n\n\n\nç¤ºä¾ ï¼\n\nmysqladmin -uroot -p2143 create 'test01';  \nmysqladmin -uroot -p2143 drop 'test01';\nmysqladmin -uroot -p2143 version;\n\n\n1\n2\n3\n\n\n\n# mysqlbinlog\n\nç±äºæå¡å¨çæçäºè¿å¶æ¥å¿æä»¶ä»¥äºè¿å¶æ ¼å¼ä¿å­ï¼æä»¥å¦ææ³è¦æ£æ¥è¿äºææ¬çææ¬æ ¼å¼ï¼å°±ä¼ä½¿ç¨å°mysqlbinlog æ¥å¿ç®¡çå·¥å·ã\n\nè¯­æ³ ï¼\n\nmysqlbinlog [options]  log-files1 log-files2 ...\n\n\n1\n\n\nåæ°éé¡¹                                           è¯´æ\n-d, --database=name                            æå®æ°æ®åºåç§°ï¼åªååºæå®çæ°æ®åºç¸å³æä½ã\n-o, --offset=#                                 å¿½ç¥ææ¥å¿ä¸­çånè¡å½ä»¤ã\n-r,--result-file=name                          å°è¾åºçææ¬æ ¼å¼æ¥å¿è¾åºå°æå®æä»¶ã\n-s, --short-form                               æ¾ç¤ºç®åæ ¼å¼ï¼ çç¥æä¸äºä¿¡æ¯ã\n--start-datatime=date1 --stop-datetime=date2   æå®æ¥æé´éåçæææ¥å¿ã\n--start-position=pos1 --stop-position=pos2     æå®ä½ç½®é´éåçæææ¥å¿ã\n\n\n# mysqldump\n\nmysqldump å®¢æ·ç«¯å·¥å·ç¨æ¥å¤ä»½æ°æ®åºæå¨ä¸åæ°æ®åºä¹é´è¿è¡æ°æ®è¿ç§»ãå¤ä»½åå®¹åå«åå»ºè¡¨ï¼åæå¥è¡¨çSQLè¯­å¥ã\n\nè¯­æ³ ï¼\n\nmysqldump [options] db_name [tables]\n\nmysqldump [options] --database/-B db1 [db2 db3...]\n\nmysqldump [options] --all-databases/-A\n\n\n1\n2\n3\n4\n5\n\n\nè¿æ¥éé¡¹\n\nåæ°                      è¯´æ\n-u, --user=name         æå®ç¨æ·å\n-p, --password[=name]   æå®å¯ç \n-h, --host=name         æå®æå¡å¨IPæåå\n-P, --port=#            æå®è¿æ¥ç«¯å£\n\n\n\nè¾åºåå®¹éé¡¹\n\nåæ°                     è¯´æ\n--add-drop-database    å¨æ¯ä¸ªæ°æ®åºåå»ºè¯­å¥åå ä¸ Drop database è¯­å¥\n--add-drop-table       å¨æ¯ä¸ªè¡¨åå»ºè¯­å¥åå ä¸ Drop table è¯­å¥ , é»è®¤å¼å¯ ; ä¸å¼å¯\n                       (--skip-add-drop-table)\n-n, --no-create-db     ä¸åå«æ°æ®åºçåå»ºè¯­å¥\n-t, --no-create-info   ä¸åå«æ°æ®è¡¨çåå»ºè¯­å¥\n-d --no-data           ä¸åå«æ°æ®\n-T, --tab=name         èªå¨çæä¸¤ä¸ªæä»¶ï¼\n                       ä¸ä¸ª.sqlæä»¶ï¼åå»ºè¡¨ç»æçè¯­å¥ï¼\n                       ä¸ä¸ª.txtæä»¶ï¼æ°æ®æä»¶ï¼ç¸å½äº select into outfile ï¼\n\nç¤ºä¾ ï¼\n\nmysqldump -uroot -p2143 db01 tb_book --add-drop-database --add-drop-table > a\n\t\nmysqldump -uroot -p2143 -T /tmp test city\n\n\n1\n2\n3\n\n\n\n# mysqlimportåsource\n\nmysqlimport æ¯å®¢æ·ç«¯æ°æ®å¯¼å¥å·¥å·ï¼ç¨æ¥å¯¼å¥ mysqldump å  -T åæ°åå¯¼åºçææ¬æä»¶ã\n\nä¹å°±æ¯è¡¨çæ°æ®åå®¹ï¼txtåå®¹ï¼\n\nè¯­æ³ï¼\n\nmysqlimport [options]  db_name  textfile1  [textfile2...]\n\n\n1\n\n\nç¤ºä¾ï¼\n\nmysqlimport -uroot -p2143 test /tmp/city.txt\n\n\n1\n\n\nå¦æéè¦å¯¼å¥sqlæä»¶,å¯ä»¥ä½¿ç¨mysqlä¸­çsource æä»¤ :\n\nsource /root/tb_book.sql\n\n\n1\n\n\n\n# mysqlshow\n\nmysqlshow å®¢æ·ç«¯å¯¹è±¡æ¥æ¾å·¥å·ï¼ç¨æ¥å¾å¿«å°æ¥æ¾å­å¨åªäºæ°æ®åºãæ°æ®åºä¸­çè¡¨ãè¡¨ä¸­çåæèç´¢å¼ã\n\nè¯­æ³ï¼\n\nmysqlshow [options] [db_name [table_name [col_name]]]\n\n\n1\n\n\nåæ°ï¼\n\nåæ°        è¯´æ\n--count   æ¾ç¤ºæ°æ®åºåè¡¨çç»è®¡ä¿¡æ¯ï¼æ°æ®åºï¼è¡¨ åå¯ä»¥ä¸æå®ï¼\n-i        æ¾ç¤ºæå®æ°æ®åºæèæå®è¡¨çç¶æä¿¡æ¯\n\nç¤ºä¾ï¼\n\n#æ¥è¯¢æ¯ä¸ªæ°æ®åºçè¡¨çæ°éåè¡¨ä¸­è®°å½çæ°é\nmysqlshow -uroot -p2143 --count\n\n#æ¥è¯¢teståºä¸­æ¯ä¸ªè¡¨ä¸­çå­æ®µä¹¦ï¼åè¡æ°\nmysqlshow -uroot -p2143 test --count\n\n#æ¥è¯¢teståºä¸­bookè¡¨çè¯¦ç»æåµ\nmysqlshow -uroot -p2143 test book --count\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n",normalizedContent:" * mysql\n * mysqladmin\n * mysqlbinlog\n * mysqldump\n * mysqlimportåsource\n * mysqlshow\n\n\n# mysql\n\nè¯¥mysqlä¸æ¯æmysqlæå¡ï¼èæ¯æmysqlçå®¢æ·ç«¯å·¥å·ã\n\nè¯­æ³ ï¼\n\nmysql [options] [database]\n\n\n1\n\n\nè¿æ¥éé¡¹ï¼\n\nåæ°                   è¯´æ\n-u, --user=txt       æå®ç¨æ·å\n-p, --password=txt   æå®å¯ç \n-h, --host=txt       æå®æå¡å¨ipæåå\n-p, --port=#         æå®è¿æ¥ç«¯å£\n\nç¤ºä¾ ï¼\n\nmysql -h 127.0.0.1 -p 3306 -u root -p\n\t\nmysql -h127.0.0.1 -p3306 -uroot -p2143\t-- å¯ä¸å ç©ºæ ¼\n\n\n1\n2\n3\n\n\næ§è¡éé¡¹\n\nåæ°                   è¯´æ\n-e, --execute=name   æ§è¡sqlè¯­å¥å¹¶éåº\n\næ­¤éé¡¹å¯ä»¥å¨mysqlå®¢æ·ç«¯æ§è¡sqlè¯­å¥ï¼èä¸ç¨è¿æ¥å°mysqlæ°æ®åºåæ§è¡ï¼å¯¹äºä¸äºæ¹å¤çèæ¬ï¼è¿ç§æ¹å¼å°¤å¶æ¹ä¾¿ã\n\nç¤ºä¾ï¼\n\nmysql -uroot -p2143 db01 -e \"select * from tb_book\";\n\n\n1\n\n\n\n\n\n# mysqladmin\n\nmysqladmin æ¯ä¸ä¸ªæ§è¡ç®¡çæä½çå®¢æ·ç«¯ç¨åºãå¯ä»¥ç¨å®æ¥æ£æ¥æå¡å¨çéç½®åå½åç¶æãåå»ºå¹¶å é¤æ°æ®åºç­ã\n\næ¥çå¸®å©ææ¡£æä»¤\n\nmysqladmin --help\n\n\n1\n\n\n\n\nç¤ºä¾ ï¼\n\nmysqladmin -uroot -p2143 create 'test01';  \nmysqladmin -uroot -p2143 drop 'test01';\nmysqladmin -uroot -p2143 version;\n\n\n1\n2\n3\n\n\n\n# mysqlbinlog\n\nç±äºæå¡å¨çæçäºè¿å¶æ¥å¿æä»¶ä»¥äºè¿å¶æ ¼å¼ä¿å­ï¼æä»¥å¦ææ³è¦æ£æ¥è¿äºææ¬çææ¬æ ¼å¼ï¼å°±ä¼ä½¿ç¨å°mysqlbinlog æ¥å¿ç®¡çå·¥å·ã\n\nè¯­æ³ ï¼\n\nmysqlbinlog [options]  log-files1 log-files2 ...\n\n\n1\n\n\nåæ°éé¡¹                                           è¯´æ\n-d, --database=name                            æå®æ°æ®åºåç§°ï¼åªååºæå®çæ°æ®åºç¸å³æä½ã\n-o, --offset=#                                 å¿½ç¥ææ¥å¿ä¸­çånè¡å½ä»¤ã\n-r,--result-file=name                          å°è¾åºçææ¬æ ¼å¼æ¥å¿è¾åºå°æå®æä»¶ã\n-s, --short-form                               æ¾ç¤ºç®åæ ¼å¼ï¼ çç¥æä¸äºä¿¡æ¯ã\n--start-datatime=date1 --stop-datetime=date2   æå®æ¥æé´éåçæææ¥å¿ã\n--start-position=pos1 --stop-position=pos2     æå®ä½ç½®é´éåçæææ¥å¿ã\n\n\n# mysqldump\n\nmysqldump å®¢æ·ç«¯å·¥å·ç¨æ¥å¤ä»½æ°æ®åºæå¨ä¸åæ°æ®åºä¹é´è¿è¡æ°æ®è¿ç§»ãå¤ä»½åå®¹åå«åå»ºè¡¨ï¼åæå¥è¡¨çsqlè¯­å¥ã\n\nè¯­æ³ ï¼\n\nmysqldump [options] db_name [tables]\n\nmysqldump [options] --database/-b db1 [db2 db3...]\n\nmysqldump [options] --all-databases/-a\n\n\n1\n2\n3\n4\n5\n\n\nè¿æ¥éé¡¹\n\nåæ°                      è¯´æ\n-u, --user=name         æå®ç¨æ·å\n-p, --password[=name]   æå®å¯ç \n-h, --host=name         æå®æå¡å¨ipæåå\n-p, --port=#            æå®è¿æ¥ç«¯å£\n\n\n\nè¾åºåå®¹éé¡¹\n\nåæ°                     è¯´æ\n--add-drop-database    å¨æ¯ä¸ªæ°æ®åºåå»ºè¯­å¥åå ä¸ drop database è¯­å¥\n--add-drop-table       å¨æ¯ä¸ªè¡¨åå»ºè¯­å¥åå ä¸ drop table è¯­å¥ , é»è®¤å¼å¯ ; ä¸å¼å¯\n                       (--skip-add-drop-table)\n-n, --no-create-db     ä¸åå«æ°æ®åºçåå»ºè¯­å¥\n-t, --no-create-info   ä¸åå«æ°æ®è¡¨çåå»ºè¯­å¥\n-d --no-data           ä¸åå«æ°æ®\n-t, --tab=name         èªå¨çæä¸¤ä¸ªæä»¶ï¼\n                       ä¸ä¸ª.sqlæä»¶ï¼åå»ºè¡¨ç»æçè¯­å¥ï¼\n                       ä¸ä¸ª.txtæä»¶ï¼æ°æ®æä»¶ï¼ç¸å½äº select into outfile ï¼\n\nç¤ºä¾ ï¼\n\nmysqldump -uroot -p2143 db01 tb_book --add-drop-database --add-drop-table > a\n\t\nmysqldump -uroot -p2143 -t /tmp test city\n\n\n1\n2\n3\n\n\n\n# mysqlimportåsource\n\nmysqlimport æ¯å®¢æ·ç«¯æ°æ®å¯¼å¥å·¥å·ï¼ç¨æ¥å¯¼å¥ mysqldump å  -t åæ°åå¯¼åºçææ¬æä»¶ã\n\nä¹å°±æ¯è¡¨çæ°æ®åå®¹ï¼txtåå®¹ï¼\n\nè¯­æ³ï¼\n\nmysqlimport [options]  db_name  textfile1  [textfile2...]\n\n\n1\n\n\nç¤ºä¾ï¼\n\nmysqlimport -uroot -p2143 test /tmp/city.txt\n\n\n1\n\n\nå¦æéè¦å¯¼å¥sqlæä»¶,å¯ä»¥ä½¿ç¨mysqlä¸­çsource æä»¤ :\n\nsource /root/tb_book.sql\n\n\n1\n\n\n\n# mysqlshow\n\nmysqlshow å®¢æ·ç«¯å¯¹è±¡æ¥æ¾å·¥å·ï¼ç¨æ¥å¾å¿«å°æ¥æ¾å­å¨åªäºæ°æ®åºãæ°æ®åºä¸­çè¡¨ãè¡¨ä¸­çåæèç´¢å¼ã\n\nè¯­æ³ï¼\n\nmysqlshow [options] [db_name [table_name [col_name]]]\n\n\n1\n\n\nåæ°ï¼\n\nåæ°        è¯´æ\n--count   æ¾ç¤ºæ°æ®åºåè¡¨çç»è®¡ä¿¡æ¯ï¼æ°æ®åºï¼è¡¨ åå¯ä»¥ä¸æå®ï¼\n-i        æ¾ç¤ºæå®æ°æ®åºæèæå®è¡¨çç¶æä¿¡æ¯\n\nç¤ºä¾ï¼\n\n#æ¥è¯¢æ¯ä¸ªæ°æ®åºçè¡¨çæ°éåè¡¨ä¸­è®°å½çæ°é\nmysqlshow -uroot -p2143 --count\n\n#æ¥è¯¢teståºä¸­æ¯ä¸ªè¡¨ä¸­çå­æ®µä¹¦ï¼åè¡æ°\nmysqlshow -uroot -p2143 test --count\n\n#æ¥è¯¢teståºä¸­bookè¡¨çè¯¦ç»æåµ\nmysqlshow -uroot -p2143 test book --count\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n",charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"MySQL - æ¥å¿",frontmatter:{title:"MySQL - æ¥å¿",permalink:"/mysql/log/",date:"2021-05-25T16:50:59.000Z"},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/05.MySQL/28.MySQL%20-%20%E6%97%A5%E5%BF%97.html",relativePath:"03.æ°æ®åº/05.MySQL/28.MySQL - æ¥å¿.md",key:"v-0deb7e9f",path:"/mysql/log/",headers:[{level:2,title:"éè¯¯æ¥å¿",slug:"éè¯¯æ¥å¿",normalizedTitle:"éè¯¯æ¥å¿",charIndex:3},{level:2,title:"äºè¿å¶æ¥å¿",slug:"äºè¿å¶æ¥å¿",normalizedTitle:"äºè¿å¶æ¥å¿",charIndex:11},{level:3,title:"æ¦è¿°",slug:"æ¦è¿°",normalizedTitle:"æ¦è¿°",charIndex:22},{level:3,title:"æ¥å¿æ ¼å¼",slug:"æ¥å¿æ ¼å¼",normalizedTitle:"æ¥å¿æ ¼å¼",charIndex:30},{level:3,title:"æ¥å¿è¯»å",slug:"æ¥å¿è¯»å",normalizedTitle:"æ¥å¿è¯»å",charIndex:40},{level:3,title:"æ¥å¿å é¤",slug:"æ¥å¿å é¤",normalizedTitle:"æ¥å¿å é¤",charIndex:50},{level:2,title:"æ¥è¯¢æ¥å¿",slug:"æ¥è¯¢æ¥å¿",normalizedTitle:"æ¥è¯¢æ¥å¿",charIndex:58},{level:2,title:"æ¢æ¥è¯¢æ¥å¿",slug:"æ¢æ¥è¯¢æ¥å¿",normalizedTitle:"æ¢æ¥è¯¢æ¥å¿",charIndex:66},{level:3,title:"æä»¶ä½ç½®åæ ¼å¼",slug:"æä»¶ä½ç½®åæ ¼å¼",normalizedTitle:"æä»¶ä½ç½®åæ ¼å¼",charIndex:77},{level:3,title:"æ¥å¿çè¯»å",slug:"æ¥å¿çè¯»å",normalizedTitle:"æ¥å¿çè¯»å",charIndex:90}],headersStr:"éè¯¯æ¥å¿ äºè¿å¶æ¥å¿ æ¦è¿° æ¥å¿æ ¼å¼ æ¥å¿è¯»å æ¥å¿å é¤ æ¥è¯¢æ¥å¿ æ¢æ¥è¯¢æ¥å¿ æä»¶ä½ç½®åæ ¼å¼ æ¥å¿çè¯»å",content:" * éè¯¯æ¥å¿\n * äºè¿å¶æ¥å¿\n   * æ¦è¿°\n   * æ¥å¿æ ¼å¼\n   * æ¥å¿è¯»å\n   * æ¥å¿å é¤\n * æ¥è¯¢æ¥å¿\n * æ¢æ¥è¯¢æ¥å¿\n   * æä»¶ä½ç½®åæ ¼å¼\n   * æ¥å¿çè¯»å\n\n\n# éè¯¯æ¥å¿\n\néè¯¯æ¥å¿æ¯ MySQL ä¸­æéè¦çæ¥å¿ä¹ä¸ï¼å®è®°å½äºå½ mysqld å¯å¨ååæ­¢æ¶ï¼ä»¥åæå¡å¨å¨è¿è¡è¿ç¨ä¸­åçä»»ä½ä¸¥ééè¯¯æ¶çç¸å³ä¿¡æ¯ãå½æ°æ®åºåºç°ä»»ä½æéå¯¼è´æ æ³æ­£å¸¸ä½¿ç¨æ¶ï¼å¯ä»¥é¦åæ¥çæ­¤æ¥å¿ã\n\nè¯¥æ¥å¿æ¯é»è®¤å¼å¯ç ï¼ é»è®¤å­æ¾ç®å½ä¸º mysql çæ°æ®ç®å½ï¼var/lib/mysql\n\né»è®¤çæ¥å¿æä»¶åä¸º hostname.errï¼hostnameæ¯ä¸»æºåï¼ã\n\næ¥çæ¥å¿ä½ç½®æä»¤ ï¼\n\nshow variables like 'log_error%';\n\n\n1\n\n\n\n\næ¥çæ¥å¿åå®¹ ï¼\n\ntail -f /var/lib/mysql/xaxh-server.err\n\n\n1\n\n\n\n\n\n# äºè¿å¶æ¥å¿\n\n\n# æ¦è¿°\n\näºè¿å¶æ¥å¿ï¼BINLOGï¼è®°å½äºææç DDLï¼æ°æ®å®ä¹è¯­è¨ï¼è¯­å¥å DMLï¼æ°æ®æçºµè¯­è¨ï¼è¯­å¥ï¼ä½æ¯ä¸åæ¬æ°æ®æ¥è¯¢è¯­å¥ãæ­¤æ¥å¿å¯¹äºç¾é¾æ¶çæ°æ®æ¢å¤èµ·çæå¶éè¦çä½ç¨ï¼MySQLçä¸»ä»å¤å¶ï¼ å°±æ¯éè¿è¯¥ binlog å®ç°çã\n\näºè¿å¶æ¥å¿ï¼é»è®¤æåµä¸æ¯æ²¡æå¼å¯çï¼éè¦å°MySQLçéç½®æä»¶ä¸­å¼å¯ï¼å¹¶éç½®MySQLæ¥å¿çæ ¼å¼ã\n\néç½®æä»¶ä½ç½® : /usr/my.cnf\n\næ¥å¿å­æ¾ä½ç½® : éç½®æ¶ï¼ç»å®äºæä»¶åä½æ¯æ²¡ææå®è·¯å¾ï¼æ¥å¿é»è®¤åå¥Mysqlçæ°æ®ç®å½ã\n\n#éç½®å¼å¯ binlog æ¥å¿ï¼\n#æ¥å¿çæä»¶åç¼ä¸º mysqlbin\n#çæçæä»¶åå¦ : mysqlbin.000001ï¼mysqlbin.000002\nlog_bin=mysqlbin\n\n#éç½®äºè¿å¶æ¥å¿çæ ¼å¼\nbinlog_format=STATEMENT\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# æ¥å¿æ ¼å¼\n\nSTATEMENT\n\nè¯¥æ¥å¿æ ¼å¼å¨æ¥å¿æä»¶ä¸­è®°å½çé½æ¯SQLè¯­å¥ï¼statementï¼ï¼æ¯ä¸æ¡å¯¹æ°æ®è¿è¡ä¿®æ¹ç SQL é½ä¼è®°å½å¨æ¥å¿æä»¶ä¸­ï¼éè¿ Mysql æä¾ç mysqlbinlog å·¥å·ï¼å¯ä»¥æ¸æ°çæ¥çå°æ¯æ¡è¯­å¥çææ¬ã\n\nä¸»ä»å¤å¶çæ¶åï¼ä»åºï¼slaveï¼ä¼å°æ¥å¿è§£æä¸ºåææ¬ï¼å¹¶å¨ä»åºéæ°æ§è¡ä¸æ¬¡ã\n\nROW\n\nè¯¥æ¥å¿æ ¼å¼å¨æ¥å¿æä»¶ä¸­è®°å½çæ¯æ¯ä¸è¡çæ°æ®åæ´ï¼èä¸æ¯è®°å½SQLè¯­å¥ã\n\næ¯å¦ï¼æ§è¡SQLè¯­å¥ ï¼ update tb_book set status='1'\n\nå¦ææ¯ STATEMENT æ¥å¿æ ¼å¼ï¼å¨æ¥å¿ä¸­ä¼è®°å½ä¸è¡SQLæä»¶ï¼\n\nå¦ææ¯ ROWï¼ç±äºæ¯å¯¹å¨è¡¨è¿è¡æ´æ°ï¼ä¹å°±æ¯æ¯ä¸è¡è®°å½é½ä¼åçåæ´ï¼ROW æ ¼å¼çæ¥å¿ä¸­ä¼è®°å½æ¯ä¸è¡çæ°æ®åæ´ã\n\nMIXED\n\nè¿æ¯ç®åMySQLé»è®¤çæ¥å¿æ ¼å¼ï¼å³æ··åäº STATEMENT å ROW ä¸¤ç§æ ¼å¼ã\n\né»è®¤æåµä¸éç¨STATEMENTï¼ä½æ¯å¨ä¸äºç¹æ®æåµä¸éç¨ROWæ¥è¿è¡è®°å½ã\n\nMIXED æ ¼å¼è½å°½éå©ç¨ä¸¤ç§æ¨¡å¼çä¼ç¹ï¼èé¿å¼ä»ä»¬çç¼ºç¹ã\n\n\n# æ¥å¿è¯»å\n\nç±äºæ¥å¿ä»¥äºè¿å¶æ¹å¼å­å¨ï¼ä¸è½ç´æ¥è¯»åï¼éè¦ç¨ mysqlbinlog å·¥å·æ¥æ¥çï¼è¯­æ³å¦ä¸ ï¼\n\nmysqlbinlog log-fileï¼\n\n\n1\n\n\næ¥çSTATEMENTæ ¼å¼æ¥å¿\n\næ§è¡æå¥è¯­å¥ ï¼\n\ninsert into tb_book values(null,'Lucene','2088-05-01','0');\n\n\n1\n\n\næ¥çæ¥å¿æä»¶ ï¼\n\n\n\nmysqlbin.index : è¯¥æä»¶æ¯æ¥å¿ç´¢å¼æä»¶ ï¼ è®°å½æ¥å¿çæä»¶åï¼\n\nmysqlbing.000001 ï¼æ¥å¿æä»¶\n\næ¥çæ¥å¿åå®¹ ï¼\n\nmysqlbinlog mysqlbing.000001ï¼\n\n\n1\n\n\n\n\næ¥çROWæ ¼å¼æ¥å¿\n\néç½® :\n\n#éç½®å¼å¯ binlog æ¥å¿ï¼ \n#æ¥å¿çæä»¶åç¼ä¸º mysqlbin\n#çæçæä»¶åå¦ : mysqlbin.000001ï¼mysqlbin.000002\nlog_bin=mysqlbin\n\n#éç½®äºè¿å¶æ¥å¿çæ ¼å¼\nbinlog_format=ROW\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\næå¥æ°æ® :\n\ninsert into tb_book values(null,'SpringCloudå®æ','2088-05-05','0');\n\n\n1\n\n\nå¦ææ¥å¿æ ¼å¼æ¯ ROW , ç´æ¥æ¥çæ°æ® , æ¯æ¥çä¸æç ; å¯ä»¥å¨ mysqlbinlog åé¢å ä¸åæ° -vv\n\nmysqlbinlog -vv mysqlbin.000002 \n\n\n1\n\n\n\n\n\n# æ¥å¿å é¤\n\nå¯¹äºæ¯è¾ç¹å¿çç³»ç»ï¼ç±äºæ¯å¤©çææ¥å¿éå¤§ ï¼è¿äºæ¥å¿å¦æé¿æ¶é´ä¸æ¸æ¥ï¼å°ä¼å ç¨å¤§éçç£çç©ºé´ãä¸é¢æä»¬å°ä¼è®²è§£å ç§å é¤æ¥å¿çå¸¸è§æ¹æ³ ï¼\n\n * æ¹å¼ä¸\n\néè¿ Reset Master æä»¤å é¤å¨é¨ binlog æ¥å¿ï¼å é¤ä¹åï¼æ¥å¿ç¼å·ï¼å°ä» xxxx.000001éæ°å¼å§ ã\n\næ¥è¯¢ä¹å ï¼åæ¥è¯¢ä¸æ¥å¿æä»¶ ï¼\n\n\n\næ§è¡å é¤æ¥å¿æä»¤ï¼\n\nReset Master\n\n\n1\n\n\næ§è¡ä¹åï¼ æ¥çæ¥å¿æä»¶ ï¼\n\n\n\n * æ¹å¼äº\n\næ§è¡æä»¤ purge master logs to 'mysqlbin.******' ï¼è¯¥å½ä»¤å°å é¤ ****** ç¼å·ä¹åçæææ¥å¿ã\n\n * æ¹å¼ä¸\n\næ§è¡æä»¤ï¼ purge master logs before 'yyyy-mm-dd hh24:mi:ss'\n\nè¯¥å½ä»¤å°å é¤æ¥å¿ä¸º \"yyyy-mm-dd hh24:mi:ss\" ä¹åäº§ççæææ¥å¿ ã\n\n * æ¹å¼å\n\nè®¾ç½®åæ° --expire_logs_days=# ï¼æ­¤åæ°çå«ä¹æ¯è®¾ç½®æ¥å¿çè¿æå¤©æ°ï¼ è¿äºæå®çå¤©æ°åæ¥å¿å°ä¼è¢«èªå¨å é¤ï¼è¿æ ·å°æå©äºåå°DBA ç®¡çæ¥å¿çå·¥ä½éã\n\néç½®å¦ä¸ ï¼\n\n\n\n\n# æ¥è¯¢æ¥å¿\n\næ¥è¯¢æ¥å¿ä¸­è®°å½äºå®¢æ·ç«¯çæææä½è¯­å¥ï¼èäºè¿å¶æ¥å¿ä¸åå«æ¥è¯¢æ°æ®çSQLè¯­å¥ã\n\né»è®¤æåµä¸ï¼ æ¥è¯¢æ¥å¿æ¯æªå¼å¯çãå¦æéè¦å¼å¯æ¥è¯¢æ¥å¿ï¼å¯ä»¥è®¾ç½®ä»¥ä¸éç½® ï¼\n\n#è¯¥éé¡¹ç¨æ¥å¼å¯æ¥è¯¢æ¥å¿\n#å¯éå¼ï¼0 æè 1 ï¼0 ä»£è¡¨å³é­ï¼ 1 ä»£è¡¨å¼å¯ \ngeneral_log=1\n\n#è®¾ç½®æ¥å¿çæä»¶åï¼å¦ææ²¡ææå®ï¼é»è®¤çæä»¶åä¸º host_name.log \ngeneral_log_file=file_name\n\n\n1\n2\n3\n4\n5\n6\n\n\nå¨ mysql çéç½®æä»¶ /usr/my.cnf ä¸­éç½®å¦ä¸åå®¹ ï¼\n\n\n\néç½®å®æ¯ä¹åï¼å¨æ°æ®åºæ§è¡ä»¥ä¸æä½ ï¼\n\nselect * from tb_book;\nselect * from tb_book where id = 1;\nupdate tb_book set name = 'luceneå¥é¨æå' where id = 5;\nselect * from tb_book where id < 8;\n\n\n1\n2\n3\n4\n\n\næ§è¡å®æ¯ä¹åï¼ åæ¬¡æ¥æ¥è¯¢æ¥å¿æä»¶ ï¼\n\n\n\n\n# æ¢æ¥è¯¢æ¥å¿\n\næ¢æ¥è¯¢æ¥å¿è®°å½äºæææ§è¡æ¶é´è¶è¿åæ° long_query_time è®¾ç½®å¼å¹¶ä¸æ«æè®°å½æ°ä¸å°äº min_examined_row_limit çææçSQLè¯­å¥çæ¥å¿ã\n\nlong_query_time é»è®¤ä¸º 10 ç§ï¼æå°ä¸º 0ï¼ ç²¾åº¦å¯ä»¥å°å¾®ç§ã\n\n\n# æä»¶ä½ç½®åæ ¼å¼\n\næ¢æ¥è¯¢æ¥å¿é»è®¤æ¯å³é­ç ãå¯ä»¥éè¿ä¸¤ä¸ªåæ°æ¥æ§å¶æ¢æ¥è¯¢æ¥å¿ ï¼\n\n# è¯¥åæ°ç¨æ¥æ§å¶æ¢æ¥è¯¢æ¥å¿æ¯å¦å¼å¯\n#å¯åå¼ï¼ 1 å 0 ï¼ 1 ä»£è¡¨å¼å¯ï¼ 0 ä»£è¡¨å³é­\nslow_query_log=1 \n\n# è¯¥åæ°ç¨æ¥æå®æ¢æ¥è¯¢æ¥å¿çæä»¶å\nslow_query_log_file=slow_query.log\n\n# è¯¥éé¡¹ç¨æ¥éç½®æ¥è¯¢çæ¶é´éå¶\n#è¶è¿è¿ä¸ªæ¶é´å°è®¤ä¸ºå¼æ¢æ¥è¯¢ï¼å°éè¦è¿è¡æ¥å¿è®°å½\n#é»è®¤10s\nlong_query_time=10\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# æ¥å¿çè¯»å\n\nåéè¯¯æ¥å¿ãæ¥è¯¢æ¥å¿ä¸æ ·ï¼æ¢æ¥è¯¢æ¥å¿è®°å½çæ ¼å¼ä¹æ¯çº¯ææ¬ï¼å¯ä»¥è¢«ç´æ¥è¯»åã\n\n1ï¼ æ¥è¯¢ long_query_time çå¼ã\n\n\n\n2ï¼ æ§è¡æ¥è¯¢æä½\n\nselect id, title,price,num ,status from tb_item where id = 1;\n\n\n1\n\n\n\n\nç±äºè¯¥è¯­å¥æ§è¡æ¶é´å¾ç­ï¼ä¸º0s ï¼ æä»¥ä¸ä¼è®°å½å¨æ¢æ¥è¯¢æ¥å¿ä¸­ã\n\nselect * from tb_item where title like '%é¿å°å¡ç¹ (OT-927) ç­é» èé3Gææº åå¡åå¾165454%' ;\n\n\n1\n\n\n\n\nè¯¥SQLè¯­å¥ ï¼ æ§è¡æ¶é¿ä¸º 26.77s ï¼è¶è¿10s ï¼ æä»¥ä¼è®°å½å¨æ¢æ¥è¯¢æ¥å¿æä»¶ä¸­ã\n\n3ï¼ æ¥çæ¢æ¥è¯¢æ¥å¿æä»¶\n\nç´æ¥éè¿cat æä»¤æ¥è¯¢è¯¥æ¥å¿æä»¶ ï¼\n\n\n\nå¦ææ¢æ¥è¯¢æ¥å¿åå®¹å¾å¤ï¼ ç´æ¥æ¥çæä»¶ï¼æ¯è¾éº»ç¦\n\nè¿ä¸ªæ¶åå¯ä»¥åå©äº mysql èªå¸¦ç mysqldumpslow å·¥å·ï¼ æ¥å¯¹æ¢æ¥è¯¢æ¥å¿è¿è¡åç±»æ±æ»ã\n\n",normalizedContent:" * éè¯¯æ¥å¿\n * äºè¿å¶æ¥å¿\n   * æ¦è¿°\n   * æ¥å¿æ ¼å¼\n   * æ¥å¿è¯»å\n   * æ¥å¿å é¤\n * æ¥è¯¢æ¥å¿\n * æ¢æ¥è¯¢æ¥å¿\n   * æä»¶ä½ç½®åæ ¼å¼\n   * æ¥å¿çè¯»å\n\n\n# éè¯¯æ¥å¿\n\néè¯¯æ¥å¿æ¯ mysql ä¸­æéè¦çæ¥å¿ä¹ä¸ï¼å®è®°å½äºå½ mysqld å¯å¨ååæ­¢æ¶ï¼ä»¥åæå¡å¨å¨è¿è¡è¿ç¨ä¸­åçä»»ä½ä¸¥ééè¯¯æ¶çç¸å³ä¿¡æ¯ãå½æ°æ®åºåºç°ä»»ä½æéå¯¼è´æ æ³æ­£å¸¸ä½¿ç¨æ¶ï¼å¯ä»¥é¦åæ¥çæ­¤æ¥å¿ã\n\nè¯¥æ¥å¿æ¯é»è®¤å¼å¯ç ï¼ é»è®¤å­æ¾ç®å½ä¸º mysql çæ°æ®ç®å½ï¼var/lib/mysql\n\né»è®¤çæ¥å¿æä»¶åä¸º hostname.errï¼hostnameæ¯ä¸»æºåï¼ã\n\næ¥çæ¥å¿ä½ç½®æä»¤ ï¼\n\nshow variables like 'log_error%';\n\n\n1\n\n\n\n\næ¥çæ¥å¿åå®¹ ï¼\n\ntail -f /var/lib/mysql/xaxh-server.err\n\n\n1\n\n\n\n\n\n# äºè¿å¶æ¥å¿\n\n\n# æ¦è¿°\n\näºè¿å¶æ¥å¿ï¼binlogï¼è®°å½äºææç ddlï¼æ°æ®å®ä¹è¯­è¨ï¼è¯­å¥å dmlï¼æ°æ®æçºµè¯­è¨ï¼è¯­å¥ï¼ä½æ¯ä¸åæ¬æ°æ®æ¥è¯¢è¯­å¥ãæ­¤æ¥å¿å¯¹äºç¾é¾æ¶çæ°æ®æ¢å¤èµ·çæå¶éè¦çä½ç¨ï¼mysqlçä¸»ä»å¤å¶ï¼ å°±æ¯éè¿è¯¥ binlog å®ç°çã\n\näºè¿å¶æ¥å¿ï¼é»è®¤æåµä¸æ¯æ²¡æå¼å¯çï¼éè¦å°mysqlçéç½®æä»¶ä¸­å¼å¯ï¼å¹¶éç½®mysqlæ¥å¿çæ ¼å¼ã\n\néç½®æä»¶ä½ç½® : /usr/my.cnf\n\næ¥å¿å­æ¾ä½ç½® : éç½®æ¶ï¼ç»å®äºæä»¶åä½æ¯æ²¡ææå®è·¯å¾ï¼æ¥å¿é»è®¤åå¥mysqlçæ°æ®ç®å½ã\n\n#éç½®å¼å¯ binlog æ¥å¿ï¼\n#æ¥å¿çæä»¶åç¼ä¸º mysqlbin\n#çæçæä»¶åå¦ : mysqlbin.000001ï¼mysqlbin.000002\nlog_bin=mysqlbin\n\n#éç½®äºè¿å¶æ¥å¿çæ ¼å¼\nbinlog_format=statement\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# æ¥å¿æ ¼å¼\n\nstatement\n\nè¯¥æ¥å¿æ ¼å¼å¨æ¥å¿æä»¶ä¸­è®°å½çé½æ¯sqlè¯­å¥ï¼statementï¼ï¼æ¯ä¸æ¡å¯¹æ°æ®è¿è¡ä¿®æ¹ç sql é½ä¼è®°å½å¨æ¥å¿æä»¶ä¸­ï¼éè¿ mysql æä¾ç mysqlbinlog å·¥å·ï¼å¯ä»¥æ¸æ°çæ¥çå°æ¯æ¡è¯­å¥çææ¬ã\n\nä¸»ä»å¤å¶çæ¶åï¼ä»åºï¼slaveï¼ä¼å°æ¥å¿è§£æä¸ºåææ¬ï¼å¹¶å¨ä»åºéæ°æ§è¡ä¸æ¬¡ã\n\nrow\n\nè¯¥æ¥å¿æ ¼å¼å¨æ¥å¿æä»¶ä¸­è®°å½çæ¯æ¯ä¸è¡çæ°æ®åæ´ï¼èä¸æ¯è®°å½sqlè¯­å¥ã\n\næ¯å¦ï¼æ§è¡sqlè¯­å¥ ï¼ update tb_book set status='1'\n\nå¦ææ¯ statement æ¥å¿æ ¼å¼ï¼å¨æ¥å¿ä¸­ä¼è®°å½ä¸è¡sqlæä»¶ï¼\n\nå¦ææ¯ rowï¼ç±äºæ¯å¯¹å¨è¡¨è¿è¡æ´æ°ï¼ä¹å°±æ¯æ¯ä¸è¡è®°å½é½ä¼åçåæ´ï¼row æ ¼å¼çæ¥å¿ä¸­ä¼è®°å½æ¯ä¸è¡çæ°æ®åæ´ã\n\nmixed\n\nè¿æ¯ç®åmysqlé»è®¤çæ¥å¿æ ¼å¼ï¼å³æ··åäº statement å row ä¸¤ç§æ ¼å¼ã\n\né»è®¤æåµä¸éç¨statementï¼ä½æ¯å¨ä¸äºç¹æ®æåµä¸éç¨rowæ¥è¿è¡è®°å½ã\n\nmixed æ ¼å¼è½å°½éå©ç¨ä¸¤ç§æ¨¡å¼çä¼ç¹ï¼èé¿å¼ä»ä»¬çç¼ºç¹ã\n\n\n# æ¥å¿è¯»å\n\nç±äºæ¥å¿ä»¥äºè¿å¶æ¹å¼å­å¨ï¼ä¸è½ç´æ¥è¯»åï¼éè¦ç¨ mysqlbinlog å·¥å·æ¥æ¥çï¼è¯­æ³å¦ä¸ ï¼\n\nmysqlbinlog log-fileï¼\n\n\n1\n\n\næ¥çstatementæ ¼å¼æ¥å¿\n\næ§è¡æå¥è¯­å¥ ï¼\n\ninsert into tb_book values(null,'lucene','2088-05-01','0');\n\n\n1\n\n\næ¥çæ¥å¿æä»¶ ï¼\n\n\n\nmysqlbin.index : è¯¥æä»¶æ¯æ¥å¿ç´¢å¼æä»¶ ï¼ è®°å½æ¥å¿çæä»¶åï¼\n\nmysqlbing.000001 ï¼æ¥å¿æä»¶\n\næ¥çæ¥å¿åå®¹ ï¼\n\nmysqlbinlog mysqlbing.000001ï¼\n\n\n1\n\n\n\n\næ¥çrowæ ¼å¼æ¥å¿\n\néç½® :\n\n#éç½®å¼å¯ binlog æ¥å¿ï¼ \n#æ¥å¿çæä»¶åç¼ä¸º mysqlbin\n#çæçæä»¶åå¦ : mysqlbin.000001ï¼mysqlbin.000002\nlog_bin=mysqlbin\n\n#éç½®äºè¿å¶æ¥å¿çæ ¼å¼\nbinlog_format=row\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\næå¥æ°æ® :\n\ninsert into tb_book values(null,'springcloudå®æ','2088-05-05','0');\n\n\n1\n\n\nå¦ææ¥å¿æ ¼å¼æ¯ row , ç´æ¥æ¥çæ°æ® , æ¯æ¥çä¸æç ; å¯ä»¥å¨ mysqlbinlog åé¢å ä¸åæ° -vv\n\nmysqlbinlog -vv mysqlbin.000002 \n\n\n1\n\n\n\n\n\n# æ¥å¿å é¤\n\nå¯¹äºæ¯è¾ç¹å¿çç³»ç»ï¼ç±äºæ¯å¤©çææ¥å¿éå¤§ ï¼è¿äºæ¥å¿å¦æé¿æ¶é´ä¸æ¸æ¥ï¼å°ä¼å ç¨å¤§éçç£çç©ºé´ãä¸é¢æä»¬å°ä¼è®²è§£å ç§å é¤æ¥å¿çå¸¸è§æ¹æ³ ï¼\n\n * æ¹å¼ä¸\n\néè¿ reset master æä»¤å é¤å¨é¨ binlog æ¥å¿ï¼å é¤ä¹åï¼æ¥å¿ç¼å·ï¼å°ä» xxxx.000001éæ°å¼å§ ã\n\næ¥è¯¢ä¹å ï¼åæ¥è¯¢ä¸æ¥å¿æä»¶ ï¼\n\n\n\næ§è¡å é¤æ¥å¿æä»¤ï¼\n\nreset master\n\n\n1\n\n\næ§è¡ä¹åï¼ æ¥çæ¥å¿æä»¶ ï¼\n\n\n\n * æ¹å¼äº\n\næ§è¡æä»¤ purge master logs to 'mysqlbin.******' ï¼è¯¥å½ä»¤å°å é¤ ****** ç¼å·ä¹åçæææ¥å¿ã\n\n * æ¹å¼ä¸\n\næ§è¡æä»¤ï¼ purge master logs before 'yyyy-mm-dd hh24:mi:ss'\n\nè¯¥å½ä»¤å°å é¤æ¥å¿ä¸º \"yyyy-mm-dd hh24:mi:ss\" ä¹åäº§ççæææ¥å¿ ã\n\n * æ¹å¼å\n\nè®¾ç½®åæ° --expire_logs_days=# ï¼æ­¤åæ°çå«ä¹æ¯è®¾ç½®æ¥å¿çè¿æå¤©æ°ï¼ è¿äºæå®çå¤©æ°åæ¥å¿å°ä¼è¢«èªå¨å é¤ï¼è¿æ ·å°æå©äºåå°dba ç®¡çæ¥å¿çå·¥ä½éã\n\néç½®å¦ä¸ ï¼\n\n\n\n\n# æ¥è¯¢æ¥å¿\n\næ¥è¯¢æ¥å¿ä¸­è®°å½äºå®¢æ·ç«¯çæææä½è¯­å¥ï¼èäºè¿å¶æ¥å¿ä¸åå«æ¥è¯¢æ°æ®çsqlè¯­å¥ã\n\né»è®¤æåµä¸ï¼ æ¥è¯¢æ¥å¿æ¯æªå¼å¯çãå¦æéè¦å¼å¯æ¥è¯¢æ¥å¿ï¼å¯ä»¥è®¾ç½®ä»¥ä¸éç½® ï¼\n\n#è¯¥éé¡¹ç¨æ¥å¼å¯æ¥è¯¢æ¥å¿\n#å¯éå¼ï¼0 æè 1 ï¼0 ä»£è¡¨å³é­ï¼ 1 ä»£è¡¨å¼å¯ \ngeneral_log=1\n\n#è®¾ç½®æ¥å¿çæä»¶åï¼å¦ææ²¡ææå®ï¼é»è®¤çæä»¶åä¸º host_name.log \ngeneral_log_file=file_name\n\n\n1\n2\n3\n4\n5\n6\n\n\nå¨ mysql çéç½®æä»¶ /usr/my.cnf ä¸­éç½®å¦ä¸åå®¹ ï¼\n\n\n\néç½®å®æ¯ä¹åï¼å¨æ°æ®åºæ§è¡ä»¥ä¸æä½ ï¼\n\nselect * from tb_book;\nselect * from tb_book where id = 1;\nupdate tb_book set name = 'luceneå¥é¨æå' where id = 5;\nselect * from tb_book where id < 8;\n\n\n1\n2\n3\n4\n\n\næ§è¡å®æ¯ä¹åï¼ åæ¬¡æ¥æ¥è¯¢æ¥å¿æä»¶ ï¼\n\n\n\n\n# æ¢æ¥è¯¢æ¥å¿\n\næ¢æ¥è¯¢æ¥å¿è®°å½äºæææ§è¡æ¶é´è¶è¿åæ° long_query_time è®¾ç½®å¼å¹¶ä¸æ«æè®°å½æ°ä¸å°äº min_examined_row_limit çææçsqlè¯­å¥çæ¥å¿ã\n\nlong_query_time é»è®¤ä¸º 10 ç§ï¼æå°ä¸º 0ï¼ ç²¾åº¦å¯ä»¥å°å¾®ç§ã\n\n\n# æä»¶ä½ç½®åæ ¼å¼\n\næ¢æ¥è¯¢æ¥å¿é»è®¤æ¯å³é­ç ãå¯ä»¥éè¿ä¸¤ä¸ªåæ°æ¥æ§å¶æ¢æ¥è¯¢æ¥å¿ ï¼\n\n# è¯¥åæ°ç¨æ¥æ§å¶æ¢æ¥è¯¢æ¥å¿æ¯å¦å¼å¯\n#å¯åå¼ï¼ 1 å 0 ï¼ 1 ä»£è¡¨å¼å¯ï¼ 0 ä»£è¡¨å³é­\nslow_query_log=1 \n\n# è¯¥åæ°ç¨æ¥æå®æ¢æ¥è¯¢æ¥å¿çæä»¶å\nslow_query_log_file=slow_query.log\n\n# è¯¥éé¡¹ç¨æ¥éç½®æ¥è¯¢çæ¶é´éå¶\n#è¶è¿è¿ä¸ªæ¶é´å°è®¤ä¸ºå¼æ¢æ¥è¯¢ï¼å°éè¦è¿è¡æ¥å¿è®°å½\n#é»è®¤10s\nlong_query_time=10\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# æ¥å¿çè¯»å\n\nåéè¯¯æ¥å¿ãæ¥è¯¢æ¥å¿ä¸æ ·ï¼æ¢æ¥è¯¢æ¥å¿è®°å½çæ ¼å¼ä¹æ¯çº¯ææ¬ï¼å¯ä»¥è¢«ç´æ¥è¯»åã\n\n1ï¼ æ¥è¯¢ long_query_time çå¼ã\n\n\n\n2ï¼ æ§è¡æ¥è¯¢æä½\n\nselect id, title,price,num ,status from tb_item where id = 1;\n\n\n1\n\n\n\n\nç±äºè¯¥è¯­å¥æ§è¡æ¶é´å¾ç­ï¼ä¸º0s ï¼ æä»¥ä¸ä¼è®°å½å¨æ¢æ¥è¯¢æ¥å¿ä¸­ã\n\nselect * from tb_item where title like '%é¿å°å¡ç¹ (ot-927) ç­é» èé3gææº åå¡åå¾165454%' ;\n\n\n1\n\n\n\n\nè¯¥sqlè¯­å¥ ï¼ æ§è¡æ¶é¿ä¸º 26.77s ï¼è¶è¿10s ï¼ æä»¥ä¼è®°å½å¨æ¢æ¥è¯¢æ¥å¿æä»¶ä¸­ã\n\n3ï¼ æ¥çæ¢æ¥è¯¢æ¥å¿æä»¶\n\nç´æ¥éè¿cat æä»¤æ¥è¯¢è¯¥æ¥å¿æä»¶ ï¼\n\n\n\nå¦ææ¢æ¥è¯¢æ¥å¿åå®¹å¾å¤ï¼ ç´æ¥æ¥çæä»¶ï¼æ¯è¾éº»ç¦\n\nè¿ä¸ªæ¶åå¯ä»¥åå©äº mysql èªå¸¦ç mysqldumpslow å·¥å·ï¼ æ¥å¯¹æ¢æ¥è¯¢æ¥å¿è¿è¡åç±»æ±æ»ã\n\n",charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"MySQL - ä¸»ä»å¤å¶",frontmatter:{title:"MySQL - ä¸»ä»å¤å¶",permalink:"/mysql/copy/",date:"2021-05-25T19:01:15.000Z"},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/05.MySQL/30.MySQL%20-%20%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6.html",relativePath:"03.æ°æ®åº/05.MySQL/30.MySQL - ä¸»ä»å¤å¶.md",key:"v-615e5fce",path:"/mysql/copy/",headers:[{level:2,title:"å¤å¶æ¦è¿°",slug:"å¤å¶æ¦è¿°",normalizedTitle:"å¤å¶æ¦è¿°",charIndex:3},{level:2,title:"å¤å¶åç",slug:"å¤å¶åç",normalizedTitle:"å¤å¶åç",charIndex:11},{level:2,title:"å¤å¶ä¼å¿",slug:"å¤å¶ä¼å¿",normalizedTitle:"å¤å¶ä¼å¿",charIndex:19},{level:2,title:"æ­å»ºæ­¥éª¤",slug:"æ­å»ºæ­¥éª¤",normalizedTitle:"æ­å»ºæ­¥éª¤",charIndex:27},{level:3,title:"master",slug:"master",normalizedTitle:"master",charIndex:37},{level:3,title:"slave",slug:"slave",normalizedTitle:"slave",charIndex:49},{level:3,title:"éªè¯åæ­¥æä½",slug:"éªè¯åæ­¥æä½",normalizedTitle:"éªè¯åæ­¥æä½",charIndex:60}],headersStr:"å¤å¶æ¦è¿° å¤å¶åç å¤å¶ä¼å¿ æ­å»ºæ­¥éª¤ master slave éªè¯åæ­¥æä½",content:" * å¤å¶æ¦è¿°\n * å¤å¶åç\n * å¤å¶ä¼å¿\n * æ­å»ºæ­¥éª¤\n   * master\n   * slave\n   * éªè¯åæ­¥æä½\n\n\n# å¤å¶æ¦è¿°\n\nå¤å¶æ¯æå°ä¸»æ°æ®åºçDDL å DML æä½éè¿äºè¿å¶æ¥å¿ä¼ å°ä»åºæå¡å¨ä¸­ï¼ç¶åå¨ä»åºä¸å¯¹è¿äºæ¥å¿éæ°æ§è¡ï¼ä¹å«éåï¼ï¼ä»èä½¿å¾ä»åºåä¸»åºçæ°æ®ä¿æåæ­¥ã\n\nMySQLæ¯æä¸å°ä¸»åºåæ¶åå¤å°ä»åºè¿è¡å¤å¶ï¼ ä»åºåæ¶ä¹å¯ä»¥ä½ä¸ºå¶ä»ä»æå¡å¨çä¸»åºï¼å®ç°é¾ç¶å¤å¶ã\n\n\n# å¤å¶åç\n\nMySQL çä¸»ä»å¤å¶åçå¦ä¸ã\n\n\n\nä»ä¸å±æ¥çï¼å¤å¶åæä¸æ­¥ï¼\n\n * Master ä¸»åºå¨äºå¡æäº¤æ¶ï¼ä¼ææ°æ®åæ´ä½ä¸ºæ¶é´ Events è®°å½å¨äºè¿å¶æ¥å¿æä»¶ Binlog ä¸­ã\n\n * ä¸»åºæ¨éäºè¿å¶æ¥å¿æä»¶ Binlog ä¸­çæ¥å¿äºä»¶å°ä»åºçä¸­ç»§æ¥å¿ Relay Log ã\n\n * slave éåä¸­ç»§æ¥å¿ä¸­çäºä»¶ï¼å°æ¹ååæ å®èªå·±çæ°æ®ã\n\n\n# å¤å¶ä¼å¿\n\nMySQL å¤å¶çæç¹ä¸»è¦åå«ä»¥ä¸ä¸ä¸ªæ¹é¢ï¼\n\n * ä¸»åºåºç°é®é¢ï¼å¯ä»¥å¿«éåæ¢å°ä»åºæä¾æå¡ã\n\n * å¯ä»¥å¨ä»åºä¸æ§è¡æ¥è¯¢æä½ï¼ä»ä¸»åºä¸­æ´æ°ï¼å®ç°è¯»ååç¦»ï¼éä½ä¸»åºçè®¿é®ååã\n\n * å¯ä»¥å¨ä»åºä¸­æ§è¡å¤ä»½ï¼ä»¥é¿åå¤ä»½æé´å½±åä¸»åºçæå¡ã\n\n\n# æ­å»ºæ­¥éª¤\n\n\n# master\n\n1ï¼ å¨master çéç½®æä»¶ï¼/usr/my.cnfï¼ä¸­ï¼éç½®å¦ä¸åå®¹ï¼\n\n#mysql æå¡ID,ä¿è¯æ´ä¸ªéç¾¤ç¯å¢ä¸­å¯ä¸\nserver-id=1\n\n#mysql binlog æ¥å¿çå­å¨è·¯å¾åæä»¶å\nlog-bin=/var/lib/mysql/mysqlbin\n\n#éè¯¯æ¥å¿,é»è®¤å·²ç»å¼å¯\n#log-err\n\n#mysqlçå®è£ç®å½\n#basedir\n\n#mysqlçä¸´æ¶ç®å½\n#tmpdir\n\n#mysqlçæ°æ®å­æ¾ç®å½\n#datadir\n\n#æ¯å¦åªè¯»,1 ä»£è¡¨åªè¯», 0 ä»£è¡¨è¯»å\nread-only=0\n\n#å¿½ç¥çæ°æ®, æä¸éè¦åæ­¥çæ°æ®åº\nbinlog-ignore-db=mysql\n\n#æå®åæ­¥çæ°æ®åº\n#binlog-do-db=db01\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n2ï¼ æ§è¡å®æ¯ä¹åï¼éè¦éå¯Mysqlï¼\n\nservice mysql restart\n#æçæ¯è¿ä¸ª\nservice mysqld restart\n\n\n1\n2\n3\n\n\n3ï¼ åå»ºåæ­¥æ°æ®çè´¦æ·ï¼å¹¶ä¸è¿è¡æææä½ï¼\n\ngrant replication slave on *.* to 'itcast'@'192.168.192.131' identified by 'itcast';\t\n\nflush privileges;\n\n\n1\n2\n3\n\n\n4ï¼ æ¥çmasterç¶æï¼\n\nshow master status;\n\n\n1\n\n\n\n\nå­æ®µ                 å«ä¹\nFile               ä»åªä¸ªæ¥å¿æä»¶å¼å§æ¨éæ¥å¿æä»¶\nPosition           ä»åªä¸ªä½ç½®å¼å§æ¨éæ¥å¿\nBinlog_Ignore_DB   æå®ä¸éè¦åæ­¥çæ°æ®åº\n\n\n# slave\n\n1ï¼ å¨ slave ç«¯éç½®æä»¶ä¸­ï¼éç½®å¦ä¸åå®¹ï¼\n\n#mysqlæå¡ç«¯ID,å¯ä¸\nserver-id=2\n\n#æå®binlogæ¥å¿\nlog-bin=/var/lib/mysql/mysqlbin\n\n\n1\n2\n3\n4\n5\n\n\n2ï¼ æ§è¡å®æ¯ä¹åï¼éè¦éå¯Mysqlï¼\n\nservice mysql restartï¼\n\n\n1\n\n\n3ï¼ æ§è¡å¦ä¸æä»¤ ï¼\n\nchange master to master_host= '192.168.192.130', master_user='itcast', master_password='itcast', master_log_file='mysqlbin.000001', master_log_pos=413;\n\n\n1\n\n\næå®å½åä»åºå¯¹åºçä¸»åºçIPå°åï¼ç¨æ·åï¼å¯ç ï¼ä»åªä¸ªæ¥å¿æä»¶å¼å§çé£ä¸ªä½ç½®å¼å§åæ­¥æ¨éæ¥å¿ã\n\n4ï¼ å¼å¯åæ­¥æä½\n\nstart slave;\n\nshow slave status;\n\n\n1\n2\n3\n\n\n\n\n5ï¼ åæ­¢åæ­¥æä½\n\nstop slave;\n\n\n1\n\n\n\n# éªè¯åæ­¥æä½\n\n1ï¼ å¨ä¸»åºä¸­åå»ºæ°æ®åºï¼åå»ºè¡¨ï¼å¹¶æå¥æ°æ® ï¼\n\ncreate database db01;\n\nuser db01;\n\ncreate table user(\n\tid int(11) not null auto_increment,\n\tname varchar(50) not null,\n\tsex varchar(1),\n\tprimary key (id)\n)engine=innodb default charset=utf8;\n\ninsert into user(id,name,sex) values(null,'Tom','1');\ninsert into user(id,name,sex) values(null,'Trigger','0');\ninsert into user(id,name,sex) values(null,'Dawn','1');\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n2ï¼ å¨ä»åºä¸­æ¥è¯¢æ°æ®ï¼è¿è¡éªè¯ ï¼\n\nå¨ä»åºä¸­ï¼å¯ä»¥æ¥çå°åæåå»ºçæ°æ®åºï¼\n\n\n\nå¨è¯¥æ°æ®åºä¸­ï¼æ¥è¯¢userè¡¨ä¸­çæ°æ®ï¼\n\n",normalizedContent:" * å¤å¶æ¦è¿°\n * å¤å¶åç\n * å¤å¶ä¼å¿\n * æ­å»ºæ­¥éª¤\n   * master\n   * slave\n   * éªè¯åæ­¥æä½\n\n\n# å¤å¶æ¦è¿°\n\nå¤å¶æ¯æå°ä¸»æ°æ®åºçddl å dml æä½éè¿äºè¿å¶æ¥å¿ä¼ å°ä»åºæå¡å¨ä¸­ï¼ç¶åå¨ä»åºä¸å¯¹è¿äºæ¥å¿éæ°æ§è¡ï¼ä¹å«éåï¼ï¼ä»èä½¿å¾ä»åºåä¸»åºçæ°æ®ä¿æåæ­¥ã\n\nmysqlæ¯æä¸å°ä¸»åºåæ¶åå¤å°ä»åºè¿è¡å¤å¶ï¼ ä»åºåæ¶ä¹å¯ä»¥ä½ä¸ºå¶ä»ä»æå¡å¨çä¸»åºï¼å®ç°é¾ç¶å¤å¶ã\n\n\n# å¤å¶åç\n\nmysql çä¸»ä»å¤å¶åçå¦ä¸ã\n\n\n\nä»ä¸å±æ¥çï¼å¤å¶åæä¸æ­¥ï¼\n\n * master ä¸»åºå¨äºå¡æäº¤æ¶ï¼ä¼ææ°æ®åæ´ä½ä¸ºæ¶é´ events è®°å½å¨äºè¿å¶æ¥å¿æä»¶ binlog ä¸­ã\n\n * ä¸»åºæ¨éäºè¿å¶æ¥å¿æä»¶ binlog ä¸­çæ¥å¿äºä»¶å°ä»åºçä¸­ç»§æ¥å¿ relay log ã\n\n * slave éåä¸­ç»§æ¥å¿ä¸­çäºä»¶ï¼å°æ¹ååæ å®èªå·±çæ°æ®ã\n\n\n# å¤å¶ä¼å¿\n\nmysql å¤å¶çæç¹ä¸»è¦åå«ä»¥ä¸ä¸ä¸ªæ¹é¢ï¼\n\n * ä¸»åºåºç°é®é¢ï¼å¯ä»¥å¿«éåæ¢å°ä»åºæä¾æå¡ã\n\n * å¯ä»¥å¨ä»åºä¸æ§è¡æ¥è¯¢æä½ï¼ä»ä¸»åºä¸­æ´æ°ï¼å®ç°è¯»ååç¦»ï¼éä½ä¸»åºçè®¿é®ååã\n\n * å¯ä»¥å¨ä»åºä¸­æ§è¡å¤ä»½ï¼ä»¥é¿åå¤ä»½æé´å½±åä¸»åºçæå¡ã\n\n\n# æ­å»ºæ­¥éª¤\n\n\n# master\n\n1ï¼ å¨master çéç½®æä»¶ï¼/usr/my.cnfï¼ä¸­ï¼éç½®å¦ä¸åå®¹ï¼\n\n#mysql æå¡id,ä¿è¯æ´ä¸ªéç¾¤ç¯å¢ä¸­å¯ä¸\nserver-id=1\n\n#mysql binlog æ¥å¿çå­å¨è·¯å¾åæä»¶å\nlog-bin=/var/lib/mysql/mysqlbin\n\n#éè¯¯æ¥å¿,é»è®¤å·²ç»å¼å¯\n#log-err\n\n#mysqlçå®è£ç®å½\n#basedir\n\n#mysqlçä¸´æ¶ç®å½\n#tmpdir\n\n#mysqlçæ°æ®å­æ¾ç®å½\n#datadir\n\n#æ¯å¦åªè¯»,1 ä»£è¡¨åªè¯», 0 ä»£è¡¨è¯»å\nread-only=0\n\n#å¿½ç¥çæ°æ®, æä¸éè¦åæ­¥çæ°æ®åº\nbinlog-ignore-db=mysql\n\n#æå®åæ­¥çæ°æ®åº\n#binlog-do-db=db01\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n2ï¼ æ§è¡å®æ¯ä¹åï¼éè¦éå¯mysqlï¼\n\nservice mysql restart\n#æçæ¯è¿ä¸ª\nservice mysqld restart\n\n\n1\n2\n3\n\n\n3ï¼ åå»ºåæ­¥æ°æ®çè´¦æ·ï¼å¹¶ä¸è¿è¡æææä½ï¼\n\ngrant replication slave on *.* to 'itcast'@'192.168.192.131' identified by 'itcast';\t\n\nflush privileges;\n\n\n1\n2\n3\n\n\n4ï¼ æ¥çmasterç¶æï¼\n\nshow master status;\n\n\n1\n\n\n\n\nå­æ®µ                 å«ä¹\nfile               ä»åªä¸ªæ¥å¿æä»¶å¼å§æ¨éæ¥å¿æä»¶\nposition           ä»åªä¸ªä½ç½®å¼å§æ¨éæ¥å¿\nbinlog_ignore_db   æå®ä¸éè¦åæ­¥çæ°æ®åº\n\n\n# slave\n\n1ï¼ å¨ slave ç«¯éç½®æä»¶ä¸­ï¼éç½®å¦ä¸åå®¹ï¼\n\n#mysqlæå¡ç«¯id,å¯ä¸\nserver-id=2\n\n#æå®binlogæ¥å¿\nlog-bin=/var/lib/mysql/mysqlbin\n\n\n1\n2\n3\n4\n5\n\n\n2ï¼ æ§è¡å®æ¯ä¹åï¼éè¦éå¯mysqlï¼\n\nservice mysql restartï¼\n\n\n1\n\n\n3ï¼ æ§è¡å¦ä¸æä»¤ ï¼\n\nchange master to master_host= '192.168.192.130', master_user='itcast', master_password='itcast', master_log_file='mysqlbin.000001', master_log_pos=413;\n\n\n1\n\n\næå®å½åä»åºå¯¹åºçä¸»åºçipå°åï¼ç¨æ·åï¼å¯ç ï¼ä»åªä¸ªæ¥å¿æä»¶å¼å§çé£ä¸ªä½ç½®å¼å§åæ­¥æ¨éæ¥å¿ã\n\n4ï¼ å¼å¯åæ­¥æä½\n\nstart slave;\n\nshow slave status;\n\n\n1\n2\n3\n\n\n\n\n5ï¼ åæ­¢åæ­¥æä½\n\nstop slave;\n\n\n1\n\n\n\n# éªè¯åæ­¥æä½\n\n1ï¼ å¨ä¸»åºä¸­åå»ºæ°æ®åºï¼åå»ºè¡¨ï¼å¹¶æå¥æ°æ® ï¼\n\ncreate database db01;\n\nuser db01;\n\ncreate table user(\n\tid int(11) not null auto_increment,\n\tname varchar(50) not null,\n\tsex varchar(1),\n\tprimary key (id)\n)engine=innodb default charset=utf8;\n\ninsert into user(id,name,sex) values(null,'tom','1');\ninsert into user(id,name,sex) values(null,'trigger','0');\ninsert into user(id,name,sex) values(null,'dawn','1');\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n2ï¼ å¨ä»åºä¸­æ¥è¯¢æ°æ®ï¼è¿è¡éªè¯ ï¼\n\nå¨ä»åºä¸­ï¼å¯ä»¥æ¥çå°åæåå»ºçæ°æ®åºï¼\n\n\n\nå¨è¯¥æ°æ®åºä¸­ï¼æ¥è¯¢userè¡¨ä¸­çæ°æ®ï¼\n\n",charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"Redis - ç¥è¯ä½ç³»",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"03.æ°æ®åº/10.Redis/01.Rediså­¦ä¹ ç¬è®°",imgUrl:"/img/web.png",description:"Redis - ç¥è¯ä½ç³»"}},title:"Redis - ç¥è¯ä½ç³»",permalink:"/redis",sidebar:!0,article:!1,comment:!1,editLink:!1,date:"2021-08-03T22:08:32.000Z"},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/10.Redis/00.Redis%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB.html",relativePath:"03.æ°æ®åº/10.Redis/00.Redisç¥è¯ä½ç³».md",key:"v-4c80214c",path:"/redis/",headers:[{level:2,title:"è§é¢æç¨",slug:"è§é¢æç¨",normalizedTitle:"è§é¢æç¨",charIndex:2},{level:2,title:"å­¦ä¹ èµæ",slug:"å­¦ä¹ èµæ",normalizedTitle:"å­¦ä¹ èµæ",charIndex:69}],headersStr:"è§é¢æç¨ å­¦ä¹ èµæ",content:"# è§é¢æç¨\n\n * çç¥\n   \n   https://www.bilibili.com/video/BV1S54y1R7SB\n\n\n# å­¦ä¹ èµæ\n\n * Rediså®ç½:http://redis.io/\n\n * Rediså®æ¹ææ¡£:http://redis.io/documentation\n\n * Redisæç¨:http://www.w3cschool.cn/redis/redis-intro.html\n\n * Redisä¸è½½:http://redis.io/download\n\n * redisè±æææ¡£ https://redis.io/topics/data-types\n\n * redisä¸­æææ¡£ http://www.redis.cn/documentation.html\n\n * ãredisè®¾è®¡ä¸å®ç° 3.0çæ¬ã http://redisbook.com/index.html\n\n * redisèé¸æç¨ https://www.runoob.com/redis/redis-tutorial.html\n\n * redisæºç è§£è¯» 3.2.8çæ¬ https://blog.csdn.net/men_wen/article/details/75668345\n\n * â¥Redisæç¨ - Redisç¥è¯ä½ç³»è¯¦è§£â¥\n   \n   https://www.pdai.tech/md/db/nosql-redis/db-redis-overview.html",normalizedContent:"# è§é¢æç¨\n\n * çç¥\n   \n   https://www.bilibili.com/video/bv1s54y1r7sb\n\n\n# å­¦ä¹ èµæ\n\n * rediså®ç½:http://redis.io/\n\n * rediså®æ¹ææ¡£:http://redis.io/documentation\n\n * redisæç¨:http://www.w3cschool.cn/redis/redis-intro.html\n\n * redisä¸è½½:http://redis.io/download\n\n * redisè±æææ¡£ https://redis.io/topics/data-types\n\n * redisä¸­æææ¡£ http://www.redis.cn/documentation.html\n\n * ãredisè®¾è®¡ä¸å®ç° 3.0çæ¬ã http://redisbook.com/index.html\n\n * redisèé¸æç¨ https://www.runoob.com/redis/redis-tutorial.html\n\n * redisæºç è§£è¯» 3.2.8çæ¬ https://blog.csdn.net/men_wen/article/details/75668345\n\n * â¥redisæç¨ - redisç¥è¯ä½ç³»è¯¦è§£â¥\n   \n   https://www.pdai.tech/md/db/nosql-redis/db-redis-overview.html",charsets:{cjk:!0},lastUpdated:"2021/09/11, 2:09:00",lastUpdatedTimestamp:1631327124e3},{title:"Redis - äºå¤§æ°æ®ç±»å",frontmatter:{title:"Redis - äºå¤§æ°æ®ç±»å",date:"2021-05-17T16:11:13.000Z",permalink:"/pages/6ea36e/"},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/10.Redis/02.%E4%BA%94%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html",relativePath:"03.æ°æ®åº/10.Redis/02.äºå¤§æ°æ®ç±»å.md",key:"v-2fc63d9e",path:"/pages/6ea36e/",headers:[{level:2,title:"äºå¤§æ°æ®ç±»å",slug:"äºå¤§æ°æ®ç±»å",normalizedTitle:"äºå¤§æ°æ®ç±»å",charIndex:2},{level:3,title:"Redisé®ï¼keyï¼",slug:"redisé®-key",normalizedTitle:"redisé®ï¼keyï¼",charIndex:1066},{level:3,title:"å­ç¬¦ä¸²String",slug:"å­ç¬¦ä¸²string",normalizedTitle:"å­ç¬¦ä¸²string",charIndex:2548},{level:3,title:"åè¡¨List",slug:"åè¡¨list",normalizedTitle:"åè¡¨list",charIndex:5329},{level:3,title:"éåSet",slug:"éåset",normalizedTitle:"éåset",charIndex:8622},{level:3,title:"åå¸Hash",slug:"åå¸hash",normalizedTitle:"åå¸hash",charIndex:11041},{level:3,title:"æåºéåZset",slug:"æåºéåzset",normalizedTitle:"æåºéåzset",charIndex:12784}],headersStr:"äºå¤§æ°æ®ç±»å Redisé®ï¼keyï¼ å­ç¬¦ä¸²String åè¡¨List éåSet åå¸Hash æåºéåZset",content:'# äºå¤§æ°æ®ç±»å\n\nå®æ¹ææ¡£ï¼\n\n\n\nå¨æ®µç¿»è¯ï¼\n\nRedis æ¯ä¸ä¸ªå¼æºï¼BSDè®¸å¯ï¼çï¼åå­ä¸­çæ°æ®ç»æå­å¨ç³»ç»ï¼å®å¯ä»¥ç¨ä½æ°æ®åºãç¼å­åæ¶æ¯ä¸­é´ä»¶ã å®æ¯æå¤ç§ç±»åçæ°æ®ç»æï¼å¦ å­ç¬¦ä¸²ï¼stringsï¼ï¼ æ£åï¼hashesï¼ï¼ åè¡¨ï¼listsï¼ï¼ éåï¼setsï¼ï¼ æåºéåï¼sorted setsï¼ ä¸èå´æ¥è¯¢ï¼ bitmapsï¼ hyperloglogs å å°çç©ºé´ï¼geospatialï¼ ç´¢å¼åå¾æ¥è¯¢ã Redis åç½®äº å¤å¶ï¼replicationï¼ï¼LUAèæ¬ï¼Lua scriptingï¼ï¼ LRUé©±å¨äºä»¶ï¼LRU evictionï¼ï¼äºå¡ï¼transactionsï¼ åä¸åçº§å«ç ç£çæä¹åï¼persistenceï¼ï¼ å¹¶éè¿ Rediså¨åµï¼Sentinelï¼åèªå¨ ååºï¼Clusterï¼æä¾é«å¯ç¨æ§ï¼high availabilityï¼ã\n\n * String ï¼å­ç¬¦ä¸²ç±»åï¼\n   \n   Stringæ¯redisæåºæ¬çç±»åï¼ä½ å¯ä»¥çè§£æMemcachedä¸æ¨¡ä¸æ ·çç±»åï¼ä¸ä¸ªkeyå¯¹åºä¸ä¸ªvalueã\n   \n   Stringç±»åæ¯äºè¿å¶å®å¨çï¼æææ¯redisçstringå¯ä»¥åå«ä»»ä½æ°æ®ï¼æ¯å¦jpgå¾çæèåºååçå¯¹è±¡ã\n   \n   Stringç±»åæ¯redisæåºæ¬çæ°æ®ç±»åï¼ä¸ä¸ªredisä¸­å­ç¬¦ä¸²valueæå¤å¯ä»¥æ¯512Mã\n\n * Hashï¼åå¸ï¼ç±»ä¼¼ JavaéçMapï¼\n   \n   Redis hash æ¯ä¸ä¸ªé®å¼å¯¹éåã\n   \n   Redis hash æ¯ä¸ä¸ªStringç±»åçfieldåvalueçæ å°è¡¨ï¼hashç¹å«éåç¨äºå­å¨å¯¹è±¡ã\n   \n   ç±»ä¼¼Javaéé¢çMap\n\n * Listï¼åè¡¨ï¼\n   \n   Redisåè¡¨æ¯ç®åçå­ç¬¦ä¸²åè¡¨ï¼æç§æå¥é¡ºåºæåºï¼ä½ å¯ä»¥æ·»å ä¸ä¸ªåç´ å°åè¡¨çå¤´é¨ï¼å·¦è¾¹ï¼æèå°¾é¨ï¼å³è¾¹ï¼ãå®çåºå±å®éæ¯ä¸ªé¾è¡¨ !\n\n * Setï¼éåï¼\n   \n   RedisçSetæ¯Stringç±»åçæ åºéåï¼å®æ¯éè¿HashTableå®ç°ç !\n\n * Zsetï¼sorted setï¼æåºéåï¼\n   \n   Redis zset å set ä¸æ ·ï¼ä¹æ¯Stringç±»ååç´ çéåï¼ä¸ä¸åè®¸éå¤çæåã\n   \n   ä¸åçæ¯æ¯ä¸ªåç´ é½ä¼å³èä¸ä¸ªdoubleç±»åçåæ°ã\n   \n   Redisæ­£æ¯éè¿åæ°æ¥ä¸ºéåä¸­çæåè¿è¡ä»å°å°å¤§çæåºï¼zsetçæåæ¯å¯ä¸çï¼ä½æ¯åæ°ï¼Scoreï¼ å´å¯ä»¥éå¤ã\n\n\n# Redisé®ï¼keyï¼\n\nå­æ¯å¤§åå°åé½ä¸æ ·\n\n * keys *\n   \n   æ¥çææçkey\n   \n   127.0.0.1:6379> keys *\n   (empty list or set)\n   127.0.0.1:6379> set name zhiyuan\n   OK\n   127.0.0.1:6379> keys *\n   1) "name"\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   \n\n * exists key\n\nå¤æ­æä¸ªkeyæ¯å¦å­å¨\n\n127.0.0.1:6379> EXISTS name\n(integer) 1\n127.0.0.1:6379> EXISTS name1\n(integer) 0\n\n\n1\n2\n3\n4\n\n * move key db\n\nç§»å¨keyå°å«çåº\n\n127.0.0.1:6379> set name zhiyuan\nOK\n127.0.0.1:6379> get name\n"zhiyuan"\n127.0.0.1:6379> move name 1  #èªå¨å°1åº\n(integer) 1\n127.0.0.1:6379> keys *  #å¨æ¬åºæ¥ä¸å°name\n(empty array)\n127.0.0.1:6379> select 1 #éæ©1åº\nOK\n127.0.0.1:6379[1]> keys * #æ¥è¯¢å°name\n1) "name"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n * del key\n   \n   å é¤key\n   \n   127.0.0.1:6379[1]> del name\n   (integer) 1\n   127.0.0.1:6379[1]> keys *\n   (empty array)\n   \n   \n   1\n   2\n   3\n   4\n   \n\n * expire key ç§é\n   \n   ä¸ºç»å® key è®¾ç½®çå­æ¶é´ï¼å½ key è¿ææ¶(çå­æ¶é´ä¸º 0 )ï¼å®ä¼è¢«èªå¨å  é¤ã\n   \n   * ttl key\n   \n   æ¥çè¿æå¤å°ç§è¿æï¼-1 è¡¨ç¤ºæ°¸ä¸è¿æï¼-2 è¡¨ç¤ºå·²è¿æ\n   \n   127.0.0.1:6379> set name zhiyuan\n   OK\n   127.0.0.1:6379> EXPIRE name 10\n   (integer) 1\n   127.0.0.1:6379> ttl name\n   (integer) 4\n   127.0.0.1:6379> ttl name\n   (integer) 1\n   127.0.0.1:6379> ttl name\n   (integer) -2\n   127.0.0.1:6379> keys *\n   (empty list or set)\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   \n\n * type key\n   \n   æ¥çä½ çkeyæ¯ä»ä¹ç±»å\n   \n   127.0.0.1:6379> set name zhiyuan\n   OK\n   127.0.0.1:6379> get name\n   "zhiyuan"\n   127.0.0.1:6379> type name\n   string\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   \n\n\n# å­ç¬¦ä¸²String\n\nåå¼å¤Value\n\nsetãgetãdel\n\nexistsï¼æ¯å¦å­å¨ï¼ãappendï¼è¿½å ï¼ãstrlenï¼è·åé¿åº¦ï¼\n\n127.0.0.1:6379> set key1 value1 # è®¾ç½®å¼\nOK\n127.0.0.1:6379> get key1 # è·å¾key\n"value1"\n127.0.0.1:6379> del key1 # å é¤key\n(integer) 1\n127.0.0.1:6379> keys * # æ¥çå¨é¨çkey\n(empty list or set)\n127.0.0.1:6379> exists key1 # ç¡®ä¿ key1 ä¸å­å¨\n(integer) 0\n127.0.0.1:6379> append key1 "hello" # å¯¹ä¸å­å¨ç keyè¿è¡APPENDï¼ç­åäºSET key1 "hello"\n(integer) 5 # å­ç¬¦é¿åº¦\n127.0.0.1:6379> APPEND key1 "-2333" # å¯¹å·²å­å¨çå­ç¬¦ä¸²è¿è¡ APPEND\n(integer) 10 # é¿åº¦ä» 5 ä¸ªå­ç¬¦å¢å å° 10 ä¸ªå­ç¬¦\n127.0.0.1:6379> get key1\n"hello-2333"\n127.0.0.1:6379> STRLEN key1 # # è·åå­ç¬¦ä¸²çé¿åº¦\n(integer) 10\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nincrãdecr ä¸å®è¦æ¯æ°å­æè½è¿è¡å åï¼+1 å -1ã\n\nincrbyãdecrby å° key ä¸­å¨å­çæ°å­å ä¸æåå»æå®çæ°éã\n\n127.0.0.1:6379> set views 0 # è®¾ç½®æµè§éä¸º0\nOK\n127.0.0.1:6379> incr views # æµè§ + 1\n(integer) 1\n127.0.0.1:6379> incr views # æµè§ + 1\n(integer) 2\n127.0.0.1:6379> decr views # æµè§ - 1\n(integer) 1\n\n127.0.0.1:6379> incrby views 10 # +10\n(integer) 11\n127.0.0.1:6379> decrby views 10 # -10\n(integer) 1\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nrange [èå´]\n\ngetrange è·åæå®åºé´èå´åçå¼ï¼ç±»ä¼¼between...andçå³ç³»ï¼ä»é¶å°è´ä¸è¡¨ç¤ºå¨é¨\n\n127.0.0.1:6379> set key2 abcd123456 # è®¾ç½®key2çå¼\nOK\n127.0.0.1:6379> getrange key2 0 -1 # è·å¾å¨é¨çå¼\n"abcd123456"\n127.0.0.1:6379> getrange key2 0 2 # æªåé¨åå­ç¬¦ä¸²\n"abc"\n\n\n1\n2\n3\n4\n5\n6\n\n\nsetrange è®¾ç½®æå®åºé´èå´åçå¼ï¼æ ¼å¼æ¯setrange keyå¼ å·ä½å¼\n\n127.0.0.1:6379> get key2\n"abcd123456"\n127.0.0.1:6379> SETRANGE key2 1 xx # æ¿æ¢å¼\n(integer) 10\n127.0.0.1:6379> get key2\n"axxd123456"\n\n\n1\n2\n3\n4\n5\n6\n\n\nsetexï¼set with expireï¼è®¾ç½®è¿ææ¶é´\n\nsetnxï¼set if not existï¼å¦ä½keyå­å¨åä¸è¦çå¼ï¼è¿æ¯åæ¥çå¼ï¼åå¸å¼ä¸­å¸¸ç¨ï¼\n\n127.0.0.1:6379> setex key3 60 expire # è®¾ç½®è¿ææ¶é´\nOK\n127.0.0.1:6379> ttl key3 # æ¥çå©ä½çæ¶é´\n(integer) 55\n\n127.0.0.1:6379> setnx mykey "redis" # å¦æä¸å­å¨å°±è®¾ç½®ï¼æåè¿å1\n(integer) 1\n127.0.0.1:6379> setnx mykey "mongodb" # å¦æå¼å­å¨åä¸è¦çå¼ï¼è¿å0\n(integer) 0\n127.0.0.1:6379> get mykey\n"redis"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nmsetï¼åæ¶è®¾ç½®ä¸ä¸ªæå¤ä¸ª key-value å¯¹ã\n\nmgetï¼è¿åææ(ä¸ä¸ªæå¤ä¸ª) key çå¼ã å¦æç»å®ç key éé¢ï¼ææä¸ª key ä¸å­å¨ï¼åæ­¤ key è¿åç¹æ®å¼nil\n\nmsetnxï¼å½ææ key é½æåè®¾ç½®ï¼è¿å 1 ãå¦æææç»å® key é½è®¾ç½®å¤±è´¥(è³å°æä¸ä¸ª key å·²ç»å­å¨)ï¼é£ä¹è¿å 0 ãç¸å½äºåå­æ§æä½ï¼è¦ä¹é½æåï¼è¦ä¹é½ä¸æåã\n\n127.0.0.1:6379> mset k10 v10 k11 v11 k12 v12\nOK\n127.0.0.1:6379> keys *\n1) "k12"\n2) "k11"\n3) "k10"\n\n127.0.0.1:6379> mget k10 k11 k12 k13\n1) "v10"\n2) "v11"\n3) "v12"\n4) (nil)\n\n127.0.0.1:6379> msetnx k10 v10 k15 v15 # åå­æ§æä½ï¼\n(integer) 0\n127.0.0.1:6379> get key15\n(nil)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\nå­å¨å¯¹è±¡ï¼\n\nset user:1 valueï¼jsonæ°æ®ï¼\n\n127.0.0.1:6379> mset user:1:name zhangsan user:1:age 2\nOK\n127.0.0.1:6379> mget user:1:name user:1:age\n1) "zhangsan"\n2) "2"\n\n\n1\n2\n3\n4\n5\n\n\ngetsetï¼ågetåset\n\n127.0.0.1:6379> getset db mongodb # æ²¡ææ§å¼ï¼è¿å nil\n(nil)\n127.0.0.1:6379> get db\n"mongodb"\n127.0.0.1:6379> getset db redis # è¿åæ§å¼ mongodb\n"mongodb"\n127.0.0.1:6379> get db\n"redis"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nStringæ°æ®ç»ææ¯ç®åçkey-valueç±»åï¼valueå¶å®ä¸ä»å¯ä»¥æ¯Stringï¼ä¹å¯ä»¥æ¯æ°å­ã\n\nå¸¸è§è®¡æ°ï¼å¾®åæ°ï¼ç²ä¸æ°ç­ã\n\n\n# åè¡¨List\n\nåå¼å¤Value\n\nå¯æå¥éè¯»çå¼\n\nLpushï¼å°ä¸ä¸ªæå¤ä¸ªå¼æå¥å°åè¡¨å¤´é¨ãï¼LeftPushå·¦ï¼\n\nRpushï¼å°ä¸ä¸ªæå¤ä¸ªå¼æå¥å°åè¡¨å°¾é¨ãï¼RightPushå³ï¼\n\nlrangeï¼è¿ååè¡¨ä¸­æå®åºé´åçåç´ ï¼åºé´ä»¥åç§»é START å END æå®ã\n\nå¶ä¸­ 0 è¡¨ç¤ºåè¡¨çç¬¬ä¸ä¸ªåç´ ï¼ 1 è¡¨ç¤ºåè¡¨çç¬¬äºä¸ªåç´ ï¼ä»¥æ­¤ç±»æ¨ã\n\nä½¿ç¨è´æ°ä¸æ ï¼ä»¥ -1 è¡¨ç¤ºåè¡¨çæåä¸ä¸ªåç´ ï¼ -2 è¡¨ç¤ºåè¡¨çåæ°ç¬¬äºä¸ªåç´ ï¼ä»¥æ­¤ç±»æ¨ã\n\n127.0.0.1:6379> LPUSH list "one"\n(integer) 1\n127.0.0.1:6379> LPUSH list "two"\n(integer) 2\n127.0.0.1:6379> RPUSH list "right"\n(integer) 3\n\n127.0.0.1:6379> Lrange list 0 -1\n1) "two"\n2) "one"\n3) "right"\n127.0.0.1:6379> Lrange list 0 1\n1) "two"\n2) "one"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nlpop å½ä»¤ç¨äºç§»é¤å¹¶è¿ååè¡¨çç¬¬ä¸ä¸ªåç´ ãå½åè¡¨ key ä¸å­å¨æ¶ï¼è¿å nil ã\n\nrpop ç§»é¤åè¡¨çæåä¸ä¸ªåç´ ï¼è¿åå¼ä¸ºç§»é¤çåç´ ã\n\n127.0.0.1:6379> Lpop list\n"two"\n127.0.0.1:6379> Rpop list\n"right"\n127.0.0.1:6379> Lrange list 0 -1\n1) "one"\n\n\n1\n2\n3\n4\n5\n6\n\n\nLindexï¼æç§ç´¢å¼ä¸æ è·å¾åç´ ï¼-1ä»£è¡¨æåä¸ä¸ªï¼0ä»£è¡¨æ¯ç¬¬ä¸ä¸ªï¼\n\n127.0.0.1:6379> Lindex list 1\n(nil)\n127.0.0.1:6379> Lindex list 0\n"one"\n127.0.0.1:6379> Lindex list -1\n"one"\n\n\n1\n2\n3\n4\n5\n6\n\n\nllen ç¨äºè¿ååè¡¨çé¿åº¦ã\n\n127.0.0.1:6379> flushdb\nOK\n127.0.0.1:6379> Lpush list "one"\n(integer) 1\n127.0.0.1:6379> Lpush list "two"\n(integer) 2\n127.0.0.1:6379> Lpush list "three"\n(integer) 3\n127.0.0.1:6379> Llen list # è¿ååè¡¨çé¿åº¦\n(integer) 3\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nlrem ï¼lrem key count elementï¼æ ¹æ®åæ° COUNT çå¼ï¼ç§»é¤åè¡¨ä¸­ä¸åæ° VALUE ç¸ç­çåç´ ã\n\nå¦ææå¤ä¸ªä¸æ ·çlementï¼åå é¤åè¡¨æåé¢çç\n\n127.0.0.1:6379> lrem list 1 "two"\n(integer) 1\n127.0.0.1:6379> Lrange list 0 -1\n1) "three"\n2) "one"\n\n\n1\n2\n3\n4\n5\n\n\nLtrim key å¯¹ä¸ä¸ªåè¡¨è¿è¡ä¿®åª(trim)ï¼åªä¿çæå®åè¡¨ä¸­åºé´åçåç´ ï¼ä¸å¨æå®åºé´ä¹åçåç´ é½å°è¢«å é¤ã\n\n127.0.0.1:6379> RPUSH mylist "hello" "hello" "hello2" "hello3"\n(integer) 4\n127.0.0.1:6379> ltrim mylist 1 2\nOK\n127.0.0.1:6379> lrange mylist 0 -1\n1) "hello"\n2) "hello2"\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nrpoplpush ç§»é¤åè¡¨çæåä¸ä¸ªåç´ ï¼å¹¶å°è¯¥åç´ æ·»å å°å¦ä¸ä¸ªåè¡¨å¹¶è¿åã\n\n127.0.0.1:6379> rpush mylist "hello"\n(integer) 1\n127.0.0.1:6379> rpush mylist "foo"\n(integer) 2\n127.0.0.1:6379> rpush mylist "bar"\n(integer) 3\n127.0.0.1:6379> rpoplpush mylist myotherlist\n"bar"\n127.0.0.1:6379> lrange mylist 0 -1\n1) "hello"\n2) "foo"\n127.0.0.1:6379> lrange myotherlist 0 -1\n1) "bar"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nlset key index value ï¼å°åè¡¨ key ä¸æ ä¸º index çåç´ çå¼è®¾ç½®ä¸º value ã\n\n127.0.0.1:6379> exists list # å¯¹ç©ºåè¡¨(key ä¸å­å¨)è¿è¡ LSET\n(integer) 0\n127.0.0.1:6379> lset list 0 item # æ¥é\n(error) ERR no such key\n\n127.0.0.1:6379> lpush list "value1" # å¯¹éç©ºåè¡¨è¿è¡ LSET\n(integer) 1\n127.0.0.1:6379> lrange list 0 0\n1) "value1"\n127.0.0.1:6379> lset list 0 "new" # æ´æ°å¼\nOK\n127.0.0.1:6379> lrange list 0 0\n1) "new"\n127.0.0.1:6379> lset list 1 "new" # index è¶åºèå´æ¥é\n(error) ERR index out of range\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nlinsert key before/after pivot valueï¼ç¨äºå¨åè¡¨çåç´ åæèåæå¥åç´ ã\n\nå°å¼ value æå¥å°åè¡¨ key å½ä¸­ï¼ä½äºå¼ pivot ä¹åæä¹åã\n\nå¦æpivotæå¤ä¸ªï¼åæå¥æåé¢çé£ä¸ª\n\n127.0.0.1:6379> RPUSH mylist "Hello"\n(integer) 1\n127.0.0.1:6379> RPUSH mylist "world"\n(integer) 2\n127.0.0.1:6379> lrange mylist 0 -1\n1) "Hello"\n2) "world"\n\n127.0.0.1:6379> LINSERT mylist BEFORE "world" "There"\n(integer) 3\n127.0.0.1:6379> lrange mylist 0 -1\n1) "Hello"\n2) "There"\n3) "world"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\næ§è½æ»ç»ï¼\n\n * å®æ¯ä¸ä¸ªå­ç¬¦ä¸²é¾è¡¨ï¼leftï¼right é½å¯ä»¥æå¥æ·»å \n * å¦æé®ä¸å­å¨ï¼åå»ºæ°çé¾è¡¨\n * å¦æé®å·²å­å¨ï¼æ°å¢åå®¹\n * å¦æå¼å¨ç§»é¤ï¼å¯¹åºçé®ä¹å°±æ¶å¤±äº\n * é¾è¡¨çæä½æ è®ºæ¯å¤´åå°¾æçé½æé«ï¼ä½åå¦æ¯å¯¹ä¸­é´åç´ è¿è¡æä½ï¼æçå°±å¾æ¨æ·¡äºã\n\nlistå°±æ¯é¾è¡¨ï¼ç¥ææ°æ®ç»æç¥è¯çäººé½åºè¯¥è½çè§£å¶ç»æãä½¿ç¨Listsç»æï¼æä»¬å¯ä»¥è½»æ¾å°å®ç°ææ°æ¶æ¯æè¡ç­åè½ãListçå¦ä¸ä¸ªåºç¨å°±æ¯æ¶æ¯éåï¼å¯ä»¥å©ç¨ListçPUSHæä½ï¼å°ä»»å¡å­å¨Listä¸­ï¼ç¶åå·¥ä½çº¿ç¨åç¨POPæä½å°ä»»å¡ååºè¿è¡æ§è¡ãRedisè¿æä¾äºæä½Listä¸­æä¸æ®µçapiï¼ä½ å¯ä»¥ç´æ¥æ¥è¯¢ï¼å é¤Listä¸­æä¸æ®µçåç´ ã\n\nRedisçlistæ¯æ¯ä¸ªå­åç´ é½æ¯Stringç±»åçååé¾è¡¨ï¼å¯ä»¥éè¿pushåpopæä½ä»åè¡¨çå¤´é¨æèå°¾é¨æ·»å æèå é¤åç´ ï¼è¿æ ·Listå³å¯ä»¥ä½ä¸ºæ ï¼ä¹å¯ä»¥ä½ä¸ºéåã\n\n\n# éåSet\n\nåå¼å¤value\n\næ åºä¸éå¤éå\n\nsadd å°ä¸ä¸ªæå¤ä¸ªæååç´ å å¥å°éåä¸­ï¼ä¸è½éå¤\n\nsmembers è¿åéåä¸­çææçæåã\n\nsismember å½ä»¤å¤æ­æååç´ æ¯å¦æ¯éåçæåã\n\n127.0.0.1:6379> sadd myset "hello"\n(integer) 1\n127.0.0.1:6379> sadd myset "zhiyuan"\n(integer) 1\n127.0.0.1:6379> sadd myset "zhiyuan" # éå¤å¼ä¸æå¥ è¿å0\n(integer) 0\n127.0.0.1:6379> SMEMBERS myset #æ¥çéåä¸­æææå\n1) "zhiyuan"\n2) "hello"\n127.0.0.1:6379> SISMEMBER myset "hello" #æ¯å¦æ¯æ­¤éåçæå æ¯åæ­£1\n(integer) 1\n127.0.0.1:6379> SISMEMBER myset "world"\n(integer) 0\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nscardï¼è·åéåéé¢çåç´ ä¸ªæ°\n\n127.0.0.1:6379> scard myset\n(integer) 2\n\n\n1\n2\n\n\nsrem key value ç¨äºç§»é¤éåä¸­çä¸ä¸ªæå¤ä¸ªæååç´ \n\n127.0.0.1:6379> srem myset "zhiyuan"\n(integer) 1\n127.0.0.1:6379> SMEMBERS myset\n1) "hello"\n\n\n1\n2\n3\n4\n\n\nsrandmember key ç¨äºè¿åéåä¸­éæºåç´ ãåé¢å ä¸æ°å­ï¼åéæºè¿åå¯¹åºæ°éçæåï¼é»è®¤ä¸ä¸ª\n\n127.0.0.1:6379> SMEMBERS myset\n1) "zhiyuan"\n2) "world"\n3) "hello"\n127.0.0.1:6379> SRANDMEMBER myset\n"hello"\n127.0.0.1:6379> SRANDMEMBER myset 2\n1) "world"\n2) "zhiyuan"\n127.0.0.1:6379> SRANDMEMBER myset 2\n1) "zhiyuan"\n2) "hello"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nspop key [count] ç¨äºç§»é¤æå® key éåçéæºåç´ ï¼ä¸å¡«åé»è®¤ä¸ä¸ªã\n\n127.0.0.1:6379> SMEMBERS myset\n1) "zhiyuan"\n2) "world"\n3) "hello"\n127.0.0.1:6379> spop myset\n"world"\n127.0.0.1:6379> spop myset 2\n1) "zhiyuan"\n2) "hello"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nsmove SOURCE DESTINATION MEMBERï¼ å°æå®æå member åç´ ä» source éåç§»å¨å° destination éå\n\n127.0.0.1:6379> sadd myset "hello" #myset æ·»å åç´ \n(integer) 1\n127.0.0.1:6379> sadd myset "world"\n(integer) 1\n127.0.0.1:6379> sadd myset "zhiyuan"\n(integer) 1\n127.0.0.1:6379> sadd myset2 "set2" #myset2 æ·»å åç´ \n(integer) 1\n127.0.0.1:6379> smove myset myset2 "zhiyuan"\n(integer) 1\n127.0.0.1:6379> SMEMBERS myset\n1) "world"\n2) "hello"\n127.0.0.1:6379> SMEMBERS myset2\n1) "zhiyuan"\n2) "set2"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\næ°å­éåç±»ï¼\n\n * å·®éï¼ sdiff\n * äº¤éï¼ sinter\n * å¹¶éï¼ sunion\n\n127.0.0.1:6379> sadd key1 "a" # key1\n(integer) 1\n127.0.0.1:6379> sadd key1 "b"\n(integer) 1\n127.0.0.1:6379> sadd key1 "c"\n(integer) 1\n127.0.0.1:6379> sadd key2 "c" # key2\n(integer) 1\n127.0.0.1:6379> sadd key2 "d"\n(integer) 1\n127.0.0.1:6379> sadd key2 "e"\n(integer) 1\n127.0.0.1:6379> SDIFF key1 key2 # å·®é\n1) "a"\n2) "b"\n127.0.0.1:6379> SINTER key1 key2 # äº¤é\n1) "c"\n127.0.0.1:6379> SUNION key1 key2 # å¹¶é\n1) "a"\n2) "b"\n3) "c"\n4) "e"\n5) "d"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\nå¨å¾®ååºç¨ä¸­ï¼å¯ä»¥å°ä¸ä¸ªç¨æ·ææçå³æ³¨äººå­å¨ä¸ä¸ªéåä¸­ï¼å°å¶ææç²ä¸å­å¨ä¸ä¸ªéåãRedisè¿ä¸ºéåæä¾äºæ±äº¤éãå¹¶éãå·®éç­æä½ï¼å¯ä»¥éå¸¸æ¹ä¾¿çå®ç°å¦å±åå³æ³¨ãå±ååå¥½ãäºåº¦å¥½åç­åè½ï¼å¯¹ä¸é¢çææéåæä½ï¼ä½ è¿å¯ä»¥ä½¿ç¨ä¸åçå½ä»¤éæ©å°ç»æè¿åç»å®¢æ·ç«¯è¿æ¯å­éå°ä¸ä¸ªæ°çéåä¸­ã\n\n\n# åå¸Hash\n\nk-væ¨¡å¼ä¸åï¼ä½Væ¯ä¸ä¸ªé®å¼å¯¹\n\nhsetãhget å½ä»¤ç¨äºä¸ºåå¸è¡¨ä¸­çå­æ®µèµå¼\n\nhmsetãhmget åæ¶å°å¤ä¸ªfield-valueå¯¹è®¾ç½®å°åå¸è¡¨ä¸­ãä¼è¦çåå¸è¡¨ä¸­å·²å­å¨çå­æ®µ\n\n> Redis 4.0.0å¼å§å¼ç¨HMSETï¼è¯·ä½¿ç¨HSET\n\nhgetall ç¨äºè¿ååå¸è¡¨ä¸­ï¼ææçå­æ®µåå¼ã\n\nhdel ç¨äºå é¤åå¸è¡¨ key ä¸­çä¸ä¸ªæå¤ä¸ªæå®å­æ®µ\n\n127.0.0.1:6379>  hset myhash field1 "zhiyuan"\n(integer) 1\n127.0.0.1:6379> hget myhash field1\n"zhiyuan"\n\n127.0.0.1:6379> HSET myhash field1 "Hello" field2 "World"\n(integer) 2\n127.0.0.1:6379> hgetall myhash\n1) "field1"\n2) "Hello"\n3) "field2"\n4) "World"\n127.0.0.1:6379> HGET myhash field1\n"Hello"\n127.0.0.1:6379> HGET myhash field2\n"World"\n\n127.0.0.1:6379> HDEL myhash field1\n(integer) 1\n127.0.0.1:6379> hgetall myhash\n1) "field2"\n2) "World"\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\nhlen è·ååå¸è¡¨ä¸­å­æ®µçæ°é\n\n127.0.0.1:6379> hlen myhash\n(integer) 1\n127.0.0.1:6379> HSET myhash field1 "Hello" field2 "World"\nOK\n127.0.0.1:6379> hlen myhash\n(integer) 2\n\n\n1\n2\n3\n4\n5\n6\n\n\nhexists æ¥çåå¸è¡¨çæå®å­æ®µæ¯å¦å­å¨\n\n127.0.0.1:6379> hexists myhash field1\n(integer) 1\n127.0.0.1:6379> hexists myhash field3\n(integer) 0\n\n\n1\n2\n3\n4\n\n\nhkeys è·ååå¸è¡¨ä¸­çææåï¼fieldï¼\n\nhvals è¿ååå¸è¡¨ææå(field)çå¼\n\n127.0.0.1:6379> HKEYS myhash\n1) "field2"\n2) "field1"\n127.0.0.1:6379> HVALS myhash\n1) "World"\n2) "Hello"\n\n\n1\n2\n3\n4\n5\n6\n\n\nhincrby ä¸ºåå¸è¡¨ä¸­çå­æ®µå¼å ä¸æå®å¢éå¼\n\n127.0.0.1:6379> hset myhash field 5\n(integer) 1\n127.0.0.1:6379> HINCRBY myhash field 1\n(integer) 6\n127.0.0.1:6379> HINCRBY myhash field -1\n(integer) 5\n127.0.0.1:6379> HINCRBY myhash field -10\n(integer) -5\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nhsetnx ä¸ºåå¸è¡¨ä¸­ä¸å­å¨ççå­æ®µèµå¼ ï¼å­å¨åä¸èµå¼\n\n127.0.0.1:6379> HSETNX myhash field1 "hello"\n(integer) 1 # è®¾ç½®æåï¼è¿å 1 ã\n127.0.0.1:6379> HSETNX myhash field1 "world"\n(integer) 0 # å¦æç»å®å­æ®µå·²ç»å­å¨ï¼è¿å 0 ã\n127.0.0.1:6379> HGET myhash field1\n"hello"\n\n\n1\n2\n3\n4\n5\n6\n\n\nRedis hashæ¯ä¸ä¸ªstringç±»åçfieldåvalueçæ å°è¡¨ï¼hashç¹å«éåç¨äºå­å¨å¯¹è±¡ã å­å¨é¨ååæ´çæ°æ®ï¼å¦ç¨æ·ä¿¡æ¯ç­ã\n\n\n# æåºéåZset\n\nå¨setåºç¡ä¸ï¼å ä¸ä¸ªscoreå¼ãä¹åsetæ¯k1 v1 v2 v3ï¼ç°å¨zsetæ¯ k1 score1 v1 score2 v2\n\nzadd å°ä¸ä¸ªæå¤ä¸ªæååç´ åå¶åæ°å¼å å¥å°æåºéå½ä¸­ã\n\nzrange è¿åæåºéä¸­ï¼æå®åºé´åçæå\n\n127.0.0.1:6379> zadd myset 1 "one"\n(integer) 1\n127.0.0.1:6379> zadd myset 2 "two" 3 "three"\n(integer) 2\n127.0.0.1:6379> ZRANGE myset 0 -1\n1) "one"\n2) "two"\n3) "three"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nzrangebyscore è¿åæåºéåä¸­æå®åæ°åºé´çæååè¡¨ãæåºéæåæåæ°å¼éå¢(ä»å°å°å¤§) æ¬¡åºæåã\n\nZREVRANGE ä»å¤§å°å°\n\n127.0.0.1:6379> zadd salary 2500 xiaoming\n(integer) 1\n127.0.0.1:6379> zadd salary 5000 xiaohong\n(integer) 1\n127.0.0.1:6379> zadd salary 500 kuangshen\n(integer) 1\n\n# Infæ ç©·å¤§é+â,åæ ·å°,-âå¯ä»¥è¡¨ç¤ºä¸º-Infã\n127.0.0.1:6379> ZRANGEBYSCORE salary -inf +inf # æ¾ç¤ºæ´ä¸ªæåºé\n1) "zhiyuan"\n2) "xiaoming"\n3) "xiaohong"\n127.0.0.1:6379> ZRANGEBYSCORE salary -inf +inf withscores # éå¢æå\n1) "zhiyuan"\n2) "500"\n3) "xiaoming"\n4) "2500"\n5) "xiaohong"\n6) "5000"\n127.0.0.1:6379> ZREVRANGE salary 0 -1 WITHSCORES # éåæå\n1) "xiaohong"\n2) "5000"\n3) "xiaoming"\n4) "2500"\n5) "zhiyuan"\n6) "500"\n# æ¾ç¤ºå·¥èµ <=2500çæææå\n127.0.0.1:6379> ZRANGEBYSCORE salary -inf 2500 WITHSCORES \n1) "zhiyuan"\n2) "500"\n3) "xiaoming"\n4) "2500"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\nzrem ç§»é¤æåºéä¸­çä¸ä¸ªæå¤ä¸ªæå\n\n127.0.0.1:6379> ZRANGE salary 0 -1\n1) "zhiyuan"\n2) "xiaoming"\n3) "xiaohong"\n127.0.0.1:6379> zrem salary zhiyuan\n(integer) 1\n127.0.0.1:6379> ZRANGE salary 0 -1\n1) "xiaoming"\n2) "xiaohong"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nzcard å½ä»¤ç¨äºè®¡ç®éåä¸­åç´ çæ°é\n\n127.0.0.1:6379> zcard salary\n(integer) 2\nOK\n\n\n1\n2\n3\n\n\nzcount è®¡ç®æåºéåä¸­æå®åæ°åºé´çæåæ°éã\n\n127.0.0.1:6379> zadd myset 1 "hello"\n(integer) 1\n127.0.0.1:6379> zadd myset 2 "world" 3 "zhiyuan"\n(integer) 2\n127.0.0.1:6379> ZCOUNT myset 1 3\n(integer) 3\n127.0.0.1:6379> ZCOUNT myset 1 2\n(integer) 2\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nzrank è¿åæåºéä¸­æå®æåçæåãå¶ä¸­æåºéæåæåæ°å¼éå¢(ä»å°å°å¤§)é¡ºåºæåã\n\n127.0.0.1:6379> zadd salary 2500 xiaoming\n(integer) 1\n127.0.0.1:6379> zadd salary 5000 xiaohong\n(integer) 1\n127.0.0.1:6379> zadd salary 500 kuangshen\n(integer) 1\n127.0.0.1:6379> ZRANGE salary 0 -1 WITHSCORES # æ¾ç¤ºæææååå¶ score å¼\n1) "kuangshen"\n2) "500"\n3) "xiaoming"\n4) "2500"\n5) "xiaohong"\n6) "5000"\n127.0.0.1:6379> zrank salary kuangshen # æ¾ç¤º kuangshen çèªæ°´æåï¼æå°\n(integer) 0\n127.0.0.1:6379> zrank salary xiaohong # æ¾ç¤º xiaohong çèªæ°´æåï¼ç¬¬ä¸\n(integer) 2\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\nzrevrank è¿åæåºéä¸­æåçæåãå¶ä¸­æåºéæåæåæ°å¼éå(ä»å¤§å°å°)æåº\n\n127.0.0.1:6379> ZREVRANK salary kuangshen # çç¥ç¬¬ä¸\n(integer) 2\n127.0.0.1:6379> ZREVRANK salary xiaohong # å°çº¢ç¬¬ä¸\n(integer) 0\n\n\n1\n2\n3\n4\n\n\nåsetç¸æ¯ï¼sorted setå¢å äºä¸ä¸ªæéåæ°scoreï¼ä½¿å¾éåä¸­çåç´ è½å¤æscoreè¿è¡æåºæåï¼æ¯å¦ ä¸ä¸ªå­å¨å¨ç­åå­¦æç»©çsorted setï¼å¶éåvalueå¯ä»¥æ¯åå­¦çå­¦å·ï¼èscoreå°±å¯ä»¥æ¯å¶èè¯å¾åï¼ è¿æ ·å¨æ°æ®æå¥éåçæ¶åï¼å°±å·²ç»è¿è¡äºå¤©ç¶çæåºãå¯ä»¥ç¨sorted setæ¥åå¸¦æéçéåï¼æ¯å¦æ®éæ¶æ¯çscoreä¸º1ï¼éè¦æ¶æ¯çscoreä¸º2ï¼ç¶åå·¥ä½çº¿ç¨å¯ä»¥éæ©æscoreçååºæ¥è·åå·¥ä½ä»»å¡ãè®© éè¦çä»»å¡ä¼åæ§è¡ã',normalizedContent:'# äºå¤§æ°æ®ç±»å\n\nå®æ¹ææ¡£ï¼\n\n\n\nå¨æ®µç¿»è¯ï¼\n\nredis æ¯ä¸ä¸ªå¼æºï¼bsdè®¸å¯ï¼çï¼åå­ä¸­çæ°æ®ç»æå­å¨ç³»ç»ï¼å®å¯ä»¥ç¨ä½æ°æ®åºãç¼å­åæ¶æ¯ä¸­é´ä»¶ã å®æ¯æå¤ç§ç±»åçæ°æ®ç»æï¼å¦ å­ç¬¦ä¸²ï¼stringsï¼ï¼ æ£åï¼hashesï¼ï¼ åè¡¨ï¼listsï¼ï¼ éåï¼setsï¼ï¼ æåºéåï¼sorted setsï¼ ä¸èå´æ¥è¯¢ï¼ bitmapsï¼ hyperloglogs å å°çç©ºé´ï¼geospatialï¼ ç´¢å¼åå¾æ¥è¯¢ã redis åç½®äº å¤å¶ï¼replicationï¼ï¼luaèæ¬ï¼lua scriptingï¼ï¼ lrué©±å¨äºä»¶ï¼lru evictionï¼ï¼äºå¡ï¼transactionsï¼ åä¸åçº§å«ç ç£çæä¹åï¼persistenceï¼ï¼ å¹¶éè¿ rediså¨åµï¼sentinelï¼åèªå¨ ååºï¼clusterï¼æä¾é«å¯ç¨æ§ï¼high availabilityï¼ã\n\n * string ï¼å­ç¬¦ä¸²ç±»åï¼\n   \n   stringæ¯redisæåºæ¬çç±»åï¼ä½ å¯ä»¥çè§£æmemcachedä¸æ¨¡ä¸æ ·çç±»åï¼ä¸ä¸ªkeyå¯¹åºä¸ä¸ªvalueã\n   \n   stringç±»åæ¯äºè¿å¶å®å¨çï¼æææ¯redisçstringå¯ä»¥åå«ä»»ä½æ°æ®ï¼æ¯å¦jpgå¾çæèåºååçå¯¹è±¡ã\n   \n   stringç±»åæ¯redisæåºæ¬çæ°æ®ç±»åï¼ä¸ä¸ªredisä¸­å­ç¬¦ä¸²valueæå¤å¯ä»¥æ¯512mã\n\n * hashï¼åå¸ï¼ç±»ä¼¼ javaéçmapï¼\n   \n   redis hash æ¯ä¸ä¸ªé®å¼å¯¹éåã\n   \n   redis hash æ¯ä¸ä¸ªstringç±»åçfieldåvalueçæ å°è¡¨ï¼hashç¹å«éåç¨äºå­å¨å¯¹è±¡ã\n   \n   ç±»ä¼¼javaéé¢çmap\n\n * listï¼åè¡¨ï¼\n   \n   redisåè¡¨æ¯ç®åçå­ç¬¦ä¸²åè¡¨ï¼æç§æå¥é¡ºåºæåºï¼ä½ å¯ä»¥æ·»å ä¸ä¸ªåç´ å°åè¡¨çå¤´é¨ï¼å·¦è¾¹ï¼æèå°¾é¨ï¼å³è¾¹ï¼ãå®çåºå±å®éæ¯ä¸ªé¾è¡¨ !\n\n * setï¼éåï¼\n   \n   redisçsetæ¯stringç±»åçæ åºéåï¼å®æ¯éè¿hashtableå®ç°ç !\n\n * zsetï¼sorted setï¼æåºéåï¼\n   \n   redis zset å set ä¸æ ·ï¼ä¹æ¯stringç±»ååç´ çéåï¼ä¸ä¸åè®¸éå¤çæåã\n   \n   ä¸åçæ¯æ¯ä¸ªåç´ é½ä¼å³èä¸ä¸ªdoubleç±»åçåæ°ã\n   \n   redisæ­£æ¯éè¿åæ°æ¥ä¸ºéåä¸­çæåè¿è¡ä»å°å°å¤§çæåºï¼zsetçæåæ¯å¯ä¸çï¼ä½æ¯åæ°ï¼scoreï¼ å´å¯ä»¥éå¤ã\n\n\n# redisé®ï¼keyï¼\n\nå­æ¯å¤§åå°åé½ä¸æ ·\n\n * keys *\n   \n   æ¥çææçkey\n   \n   127.0.0.1:6379> keys *\n   (empty list or set)\n   127.0.0.1:6379> set name zhiyuan\n   ok\n   127.0.0.1:6379> keys *\n   1) "name"\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   \n\n * exists key\n\nå¤æ­æä¸ªkeyæ¯å¦å­å¨\n\n127.0.0.1:6379> exists name\n(integer) 1\n127.0.0.1:6379> exists name1\n(integer) 0\n\n\n1\n2\n3\n4\n\n * move key db\n\nç§»å¨keyå°å«çåº\n\n127.0.0.1:6379> set name zhiyuan\nok\n127.0.0.1:6379> get name\n"zhiyuan"\n127.0.0.1:6379> move name 1  #èªå¨å°1åº\n(integer) 1\n127.0.0.1:6379> keys *  #å¨æ¬åºæ¥ä¸å°name\n(empty array)\n127.0.0.1:6379> select 1 #éæ©1åº\nok\n127.0.0.1:6379[1]> keys * #æ¥è¯¢å°name\n1) "name"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n * del key\n   \n   å é¤key\n   \n   127.0.0.1:6379[1]> del name\n   (integer) 1\n   127.0.0.1:6379[1]> keys *\n   (empty array)\n   \n   \n   1\n   2\n   3\n   4\n   \n\n * expire key ç§é\n   \n   ä¸ºç»å® key è®¾ç½®çå­æ¶é´ï¼å½ key è¿ææ¶(çå­æ¶é´ä¸º 0 )ï¼å®ä¼è¢«èªå¨å  é¤ã\n   \n   * ttl key\n   \n   æ¥çè¿æå¤å°ç§è¿æï¼-1 è¡¨ç¤ºæ°¸ä¸è¿æï¼-2 è¡¨ç¤ºå·²è¿æ\n   \n   127.0.0.1:6379> set name zhiyuan\n   ok\n   127.0.0.1:6379> expire name 10\n   (integer) 1\n   127.0.0.1:6379> ttl name\n   (integer) 4\n   127.0.0.1:6379> ttl name\n   (integer) 1\n   127.0.0.1:6379> ttl name\n   (integer) -2\n   127.0.0.1:6379> keys *\n   (empty list or set)\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   \n\n * type key\n   \n   æ¥çä½ çkeyæ¯ä»ä¹ç±»å\n   \n   127.0.0.1:6379> set name zhiyuan\n   ok\n   127.0.0.1:6379> get name\n   "zhiyuan"\n   127.0.0.1:6379> type name\n   string\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   \n\n\n# å­ç¬¦ä¸²string\n\nåå¼å¤value\n\nsetãgetãdel\n\nexistsï¼æ¯å¦å­å¨ï¼ãappendï¼è¿½å ï¼ãstrlenï¼è·åé¿åº¦ï¼\n\n127.0.0.1:6379> set key1 value1 # è®¾ç½®å¼\nok\n127.0.0.1:6379> get key1 # è·å¾key\n"value1"\n127.0.0.1:6379> del key1 # å é¤key\n(integer) 1\n127.0.0.1:6379> keys * # æ¥çå¨é¨çkey\n(empty list or set)\n127.0.0.1:6379> exists key1 # ç¡®ä¿ key1 ä¸å­å¨\n(integer) 0\n127.0.0.1:6379> append key1 "hello" # å¯¹ä¸å­å¨ç keyè¿è¡appendï¼ç­åäºset key1 "hello"\n(integer) 5 # å­ç¬¦é¿åº¦\n127.0.0.1:6379> append key1 "-2333" # å¯¹å·²å­å¨çå­ç¬¦ä¸²è¿è¡ append\n(integer) 10 # é¿åº¦ä» 5 ä¸ªå­ç¬¦å¢å å° 10 ä¸ªå­ç¬¦\n127.0.0.1:6379> get key1\n"hello-2333"\n127.0.0.1:6379> strlen key1 # # è·åå­ç¬¦ä¸²çé¿åº¦\n(integer) 10\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nincrãdecr ä¸å®è¦æ¯æ°å­æè½è¿è¡å åï¼+1 å -1ã\n\nincrbyãdecrby å° key ä¸­å¨å­çæ°å­å ä¸æåå»æå®çæ°éã\n\n127.0.0.1:6379> set views 0 # è®¾ç½®æµè§éä¸º0\nok\n127.0.0.1:6379> incr views # æµè§ + 1\n(integer) 1\n127.0.0.1:6379> incr views # æµè§ + 1\n(integer) 2\n127.0.0.1:6379> decr views # æµè§ - 1\n(integer) 1\n\n127.0.0.1:6379> incrby views 10 # +10\n(integer) 11\n127.0.0.1:6379> decrby views 10 # -10\n(integer) 1\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nrange [èå´]\n\ngetrange è·åæå®åºé´èå´åçå¼ï¼ç±»ä¼¼between...andçå³ç³»ï¼ä»é¶å°è´ä¸è¡¨ç¤ºå¨é¨\n\n127.0.0.1:6379> set key2 abcd123456 # è®¾ç½®key2çå¼\nok\n127.0.0.1:6379> getrange key2 0 -1 # è·å¾å¨é¨çå¼\n"abcd123456"\n127.0.0.1:6379> getrange key2 0 2 # æªåé¨åå­ç¬¦ä¸²\n"abc"\n\n\n1\n2\n3\n4\n5\n6\n\n\nsetrange è®¾ç½®æå®åºé´èå´åçå¼ï¼æ ¼å¼æ¯setrange keyå¼ å·ä½å¼\n\n127.0.0.1:6379> get key2\n"abcd123456"\n127.0.0.1:6379> setrange key2 1 xx # æ¿æ¢å¼\n(integer) 10\n127.0.0.1:6379> get key2\n"axxd123456"\n\n\n1\n2\n3\n4\n5\n6\n\n\nsetexï¼set with expireï¼è®¾ç½®è¿ææ¶é´\n\nsetnxï¼set if not existï¼å¦ä½keyå­å¨åä¸è¦çå¼ï¼è¿æ¯åæ¥çå¼ï¼åå¸å¼ä¸­å¸¸ç¨ï¼\n\n127.0.0.1:6379> setex key3 60 expire # è®¾ç½®è¿ææ¶é´\nok\n127.0.0.1:6379> ttl key3 # æ¥çå©ä½çæ¶é´\n(integer) 55\n\n127.0.0.1:6379> setnx mykey "redis" # å¦æä¸å­å¨å°±è®¾ç½®ï¼æåè¿å1\n(integer) 1\n127.0.0.1:6379> setnx mykey "mongodb" # å¦æå¼å­å¨åä¸è¦çå¼ï¼è¿å0\n(integer) 0\n127.0.0.1:6379> get mykey\n"redis"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nmsetï¼åæ¶è®¾ç½®ä¸ä¸ªæå¤ä¸ª key-value å¯¹ã\n\nmgetï¼è¿åææ(ä¸ä¸ªæå¤ä¸ª) key çå¼ã å¦æç»å®ç key éé¢ï¼ææä¸ª key ä¸å­å¨ï¼åæ­¤ key è¿åç¹æ®å¼nil\n\nmsetnxï¼å½ææ key é½æåè®¾ç½®ï¼è¿å 1 ãå¦æææç»å® key é½è®¾ç½®å¤±è´¥(è³å°æä¸ä¸ª key å·²ç»å­å¨)ï¼é£ä¹è¿å 0 ãç¸å½äºåå­æ§æä½ï¼è¦ä¹é½æåï¼è¦ä¹é½ä¸æåã\n\n127.0.0.1:6379> mset k10 v10 k11 v11 k12 v12\nok\n127.0.0.1:6379> keys *\n1) "k12"\n2) "k11"\n3) "k10"\n\n127.0.0.1:6379> mget k10 k11 k12 k13\n1) "v10"\n2) "v11"\n3) "v12"\n4) (nil)\n\n127.0.0.1:6379> msetnx k10 v10 k15 v15 # åå­æ§æä½ï¼\n(integer) 0\n127.0.0.1:6379> get key15\n(nil)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\nå­å¨å¯¹è±¡ï¼\n\nset user:1 valueï¼jsonæ°æ®ï¼\n\n127.0.0.1:6379> mset user:1:name zhangsan user:1:age 2\nok\n127.0.0.1:6379> mget user:1:name user:1:age\n1) "zhangsan"\n2) "2"\n\n\n1\n2\n3\n4\n5\n\n\ngetsetï¼ågetåset\n\n127.0.0.1:6379> getset db mongodb # æ²¡ææ§å¼ï¼è¿å nil\n(nil)\n127.0.0.1:6379> get db\n"mongodb"\n127.0.0.1:6379> getset db redis # è¿åæ§å¼ mongodb\n"mongodb"\n127.0.0.1:6379> get db\n"redis"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nstringæ°æ®ç»ææ¯ç®åçkey-valueç±»åï¼valueå¶å®ä¸ä»å¯ä»¥æ¯stringï¼ä¹å¯ä»¥æ¯æ°å­ã\n\nå¸¸è§è®¡æ°ï¼å¾®åæ°ï¼ç²ä¸æ°ç­ã\n\n\n# åè¡¨list\n\nåå¼å¤value\n\nå¯æå¥éè¯»çå¼\n\nlpushï¼å°ä¸ä¸ªæå¤ä¸ªå¼æå¥å°åè¡¨å¤´é¨ãï¼leftpushå·¦ï¼\n\nrpushï¼å°ä¸ä¸ªæå¤ä¸ªå¼æå¥å°åè¡¨å°¾é¨ãï¼rightpushå³ï¼\n\nlrangeï¼è¿ååè¡¨ä¸­æå®åºé´åçåç´ ï¼åºé´ä»¥åç§»é start å end æå®ã\n\nå¶ä¸­ 0 è¡¨ç¤ºåè¡¨çç¬¬ä¸ä¸ªåç´ ï¼ 1 è¡¨ç¤ºåè¡¨çç¬¬äºä¸ªåç´ ï¼ä»¥æ­¤ç±»æ¨ã\n\nä½¿ç¨è´æ°ä¸æ ï¼ä»¥ -1 è¡¨ç¤ºåè¡¨çæåä¸ä¸ªåç´ ï¼ -2 è¡¨ç¤ºåè¡¨çåæ°ç¬¬äºä¸ªåç´ ï¼ä»¥æ­¤ç±»æ¨ã\n\n127.0.0.1:6379> lpush list "one"\n(integer) 1\n127.0.0.1:6379> lpush list "two"\n(integer) 2\n127.0.0.1:6379> rpush list "right"\n(integer) 3\n\n127.0.0.1:6379> lrange list 0 -1\n1) "two"\n2) "one"\n3) "right"\n127.0.0.1:6379> lrange list 0 1\n1) "two"\n2) "one"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nlpop å½ä»¤ç¨äºç§»é¤å¹¶è¿ååè¡¨çç¬¬ä¸ä¸ªåç´ ãå½åè¡¨ key ä¸å­å¨æ¶ï¼è¿å nil ã\n\nrpop ç§»é¤åè¡¨çæåä¸ä¸ªåç´ ï¼è¿åå¼ä¸ºç§»é¤çåç´ ã\n\n127.0.0.1:6379> lpop list\n"two"\n127.0.0.1:6379> rpop list\n"right"\n127.0.0.1:6379> lrange list 0 -1\n1) "one"\n\n\n1\n2\n3\n4\n5\n6\n\n\nlindexï¼æç§ç´¢å¼ä¸æ è·å¾åç´ ï¼-1ä»£è¡¨æåä¸ä¸ªï¼0ä»£è¡¨æ¯ç¬¬ä¸ä¸ªï¼\n\n127.0.0.1:6379> lindex list 1\n(nil)\n127.0.0.1:6379> lindex list 0\n"one"\n127.0.0.1:6379> lindex list -1\n"one"\n\n\n1\n2\n3\n4\n5\n6\n\n\nllen ç¨äºè¿ååè¡¨çé¿åº¦ã\n\n127.0.0.1:6379> flushdb\nok\n127.0.0.1:6379> lpush list "one"\n(integer) 1\n127.0.0.1:6379> lpush list "two"\n(integer) 2\n127.0.0.1:6379> lpush list "three"\n(integer) 3\n127.0.0.1:6379> llen list # è¿ååè¡¨çé¿åº¦\n(integer) 3\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nlrem ï¼lrem key count elementï¼æ ¹æ®åæ° count çå¼ï¼ç§»é¤åè¡¨ä¸­ä¸åæ° value ç¸ç­çåç´ ã\n\nå¦ææå¤ä¸ªä¸æ ·çlementï¼åå é¤åè¡¨æåé¢çç\n\n127.0.0.1:6379> lrem list 1 "two"\n(integer) 1\n127.0.0.1:6379> lrange list 0 -1\n1) "three"\n2) "one"\n\n\n1\n2\n3\n4\n5\n\n\nltrim key å¯¹ä¸ä¸ªåè¡¨è¿è¡ä¿®åª(trim)ï¼åªä¿çæå®åè¡¨ä¸­åºé´åçåç´ ï¼ä¸å¨æå®åºé´ä¹åçåç´ é½å°è¢«å é¤ã\n\n127.0.0.1:6379> rpush mylist "hello" "hello" "hello2" "hello3"\n(integer) 4\n127.0.0.1:6379> ltrim mylist 1 2\nok\n127.0.0.1:6379> lrange mylist 0 -1\n1) "hello"\n2) "hello2"\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nrpoplpush ç§»é¤åè¡¨çæåä¸ä¸ªåç´ ï¼å¹¶å°è¯¥åç´ æ·»å å°å¦ä¸ä¸ªåè¡¨å¹¶è¿åã\n\n127.0.0.1:6379> rpush mylist "hello"\n(integer) 1\n127.0.0.1:6379> rpush mylist "foo"\n(integer) 2\n127.0.0.1:6379> rpush mylist "bar"\n(integer) 3\n127.0.0.1:6379> rpoplpush mylist myotherlist\n"bar"\n127.0.0.1:6379> lrange mylist 0 -1\n1) "hello"\n2) "foo"\n127.0.0.1:6379> lrange myotherlist 0 -1\n1) "bar"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nlset key index value ï¼å°åè¡¨ key ä¸æ ä¸º index çåç´ çå¼è®¾ç½®ä¸º value ã\n\n127.0.0.1:6379> exists list # å¯¹ç©ºåè¡¨(key ä¸å­å¨)è¿è¡ lset\n(integer) 0\n127.0.0.1:6379> lset list 0 item # æ¥é\n(error) err no such key\n\n127.0.0.1:6379> lpush list "value1" # å¯¹éç©ºåè¡¨è¿è¡ lset\n(integer) 1\n127.0.0.1:6379> lrange list 0 0\n1) "value1"\n127.0.0.1:6379> lset list 0 "new" # æ´æ°å¼\nok\n127.0.0.1:6379> lrange list 0 0\n1) "new"\n127.0.0.1:6379> lset list 1 "new" # index è¶åºèå´æ¥é\n(error) err index out of range\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nlinsert key before/after pivot valueï¼ç¨äºå¨åè¡¨çåç´ åæèåæå¥åç´ ã\n\nå°å¼ value æå¥å°åè¡¨ key å½ä¸­ï¼ä½äºå¼ pivot ä¹åæä¹åã\n\nå¦æpivotæå¤ä¸ªï¼åæå¥æåé¢çé£ä¸ª\n\n127.0.0.1:6379> rpush mylist "hello"\n(integer) 1\n127.0.0.1:6379> rpush mylist "world"\n(integer) 2\n127.0.0.1:6379> lrange mylist 0 -1\n1) "hello"\n2) "world"\n\n127.0.0.1:6379> linsert mylist before "world" "there"\n(integer) 3\n127.0.0.1:6379> lrange mylist 0 -1\n1) "hello"\n2) "there"\n3) "world"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\næ§è½æ»ç»ï¼\n\n * å®æ¯ä¸ä¸ªå­ç¬¦ä¸²é¾è¡¨ï¼leftï¼right é½å¯ä»¥æå¥æ·»å \n * å¦æé®ä¸å­å¨ï¼åå»ºæ°çé¾è¡¨\n * å¦æé®å·²å­å¨ï¼æ°å¢åå®¹\n * å¦æå¼å¨ç§»é¤ï¼å¯¹åºçé®ä¹å°±æ¶å¤±äº\n * é¾è¡¨çæä½æ è®ºæ¯å¤´åå°¾æçé½æé«ï¼ä½åå¦æ¯å¯¹ä¸­é´åç´ è¿è¡æä½ï¼æçå°±å¾æ¨æ·¡äºã\n\nlistå°±æ¯é¾è¡¨ï¼ç¥ææ°æ®ç»æç¥è¯çäººé½åºè¯¥è½çè§£å¶ç»æãä½¿ç¨listsç»æï¼æä»¬å¯ä»¥è½»æ¾å°å®ç°ææ°æ¶æ¯æè¡ç­åè½ãlistçå¦ä¸ä¸ªåºç¨å°±æ¯æ¶æ¯éåï¼å¯ä»¥å©ç¨listçpushæä½ï¼å°ä»»å¡å­å¨listä¸­ï¼ç¶åå·¥ä½çº¿ç¨åç¨popæä½å°ä»»å¡ååºè¿è¡æ§è¡ãredisè¿æä¾äºæä½listä¸­æä¸æ®µçapiï¼ä½ å¯ä»¥ç´æ¥æ¥è¯¢ï¼å é¤listä¸­æä¸æ®µçåç´ ã\n\nredisçlistæ¯æ¯ä¸ªå­åç´ é½æ¯stringç±»åçååé¾è¡¨ï¼å¯ä»¥éè¿pushåpopæä½ä»åè¡¨çå¤´é¨æèå°¾é¨æ·»å æèå é¤åç´ ï¼è¿æ ·listå³å¯ä»¥ä½ä¸ºæ ï¼ä¹å¯ä»¥ä½ä¸ºéåã\n\n\n# éåset\n\nåå¼å¤value\n\næ åºä¸éå¤éå\n\nsadd å°ä¸ä¸ªæå¤ä¸ªæååç´ å å¥å°éåä¸­ï¼ä¸è½éå¤\n\nsmembers è¿åéåä¸­çææçæåã\n\nsismember å½ä»¤å¤æ­æååç´ æ¯å¦æ¯éåçæåã\n\n127.0.0.1:6379> sadd myset "hello"\n(integer) 1\n127.0.0.1:6379> sadd myset "zhiyuan"\n(integer) 1\n127.0.0.1:6379> sadd myset "zhiyuan" # éå¤å¼ä¸æå¥ è¿å0\n(integer) 0\n127.0.0.1:6379> smembers myset #æ¥çéåä¸­æææå\n1) "zhiyuan"\n2) "hello"\n127.0.0.1:6379> sismember myset "hello" #æ¯å¦æ¯æ­¤éåçæå æ¯åæ­£1\n(integer) 1\n127.0.0.1:6379> sismember myset "world"\n(integer) 0\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nscardï¼è·åéåéé¢çåç´ ä¸ªæ°\n\n127.0.0.1:6379> scard myset\n(integer) 2\n\n\n1\n2\n\n\nsrem key value ç¨äºç§»é¤éåä¸­çä¸ä¸ªæå¤ä¸ªæååç´ \n\n127.0.0.1:6379> srem myset "zhiyuan"\n(integer) 1\n127.0.0.1:6379> smembers myset\n1) "hello"\n\n\n1\n2\n3\n4\n\n\nsrandmember key ç¨äºè¿åéåä¸­éæºåç´ ãåé¢å ä¸æ°å­ï¼åéæºè¿åå¯¹åºæ°éçæåï¼é»è®¤ä¸ä¸ª\n\n127.0.0.1:6379> smembers myset\n1) "zhiyuan"\n2) "world"\n3) "hello"\n127.0.0.1:6379> srandmember myset\n"hello"\n127.0.0.1:6379> srandmember myset 2\n1) "world"\n2) "zhiyuan"\n127.0.0.1:6379> srandmember myset 2\n1) "zhiyuan"\n2) "hello"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nspop key [count] ç¨äºç§»é¤æå® key éåçéæºåç´ ï¼ä¸å¡«åé»è®¤ä¸ä¸ªã\n\n127.0.0.1:6379> smembers myset\n1) "zhiyuan"\n2) "world"\n3) "hello"\n127.0.0.1:6379> spop myset\n"world"\n127.0.0.1:6379> spop myset 2\n1) "zhiyuan"\n2) "hello"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nsmove source destination memberï¼ å°æå®æå member åç´ ä» source éåç§»å¨å° destination éå\n\n127.0.0.1:6379> sadd myset "hello" #myset æ·»å åç´ \n(integer) 1\n127.0.0.1:6379> sadd myset "world"\n(integer) 1\n127.0.0.1:6379> sadd myset "zhiyuan"\n(integer) 1\n127.0.0.1:6379> sadd myset2 "set2" #myset2 æ·»å åç´ \n(integer) 1\n127.0.0.1:6379> smove myset myset2 "zhiyuan"\n(integer) 1\n127.0.0.1:6379> smembers myset\n1) "world"\n2) "hello"\n127.0.0.1:6379> smembers myset2\n1) "zhiyuan"\n2) "set2"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\næ°å­éåç±»ï¼\n\n * å·®éï¼ sdiff\n * äº¤éï¼ sinter\n * å¹¶éï¼ sunion\n\n127.0.0.1:6379> sadd key1 "a" # key1\n(integer) 1\n127.0.0.1:6379> sadd key1 "b"\n(integer) 1\n127.0.0.1:6379> sadd key1 "c"\n(integer) 1\n127.0.0.1:6379> sadd key2 "c" # key2\n(integer) 1\n127.0.0.1:6379> sadd key2 "d"\n(integer) 1\n127.0.0.1:6379> sadd key2 "e"\n(integer) 1\n127.0.0.1:6379> sdiff key1 key2 # å·®é\n1) "a"\n2) "b"\n127.0.0.1:6379> sinter key1 key2 # äº¤é\n1) "c"\n127.0.0.1:6379> sunion key1 key2 # å¹¶é\n1) "a"\n2) "b"\n3) "c"\n4) "e"\n5) "d"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\nå¨å¾®ååºç¨ä¸­ï¼å¯ä»¥å°ä¸ä¸ªç¨æ·ææçå³æ³¨äººå­å¨ä¸ä¸ªéåä¸­ï¼å°å¶ææç²ä¸å­å¨ä¸ä¸ªéåãredisè¿ä¸ºéåæä¾äºæ±äº¤éãå¹¶éãå·®éç­æä½ï¼å¯ä»¥éå¸¸æ¹ä¾¿çå®ç°å¦å±åå³æ³¨ãå±ååå¥½ãäºåº¦å¥½åç­åè½ï¼å¯¹ä¸é¢çææéåæä½ï¼ä½ è¿å¯ä»¥ä½¿ç¨ä¸åçå½ä»¤éæ©å°ç»æè¿åç»å®¢æ·ç«¯è¿æ¯å­éå°ä¸ä¸ªæ°çéåä¸­ã\n\n\n# åå¸hash\n\nk-væ¨¡å¼ä¸åï¼ä½væ¯ä¸ä¸ªé®å¼å¯¹\n\nhsetãhget å½ä»¤ç¨äºä¸ºåå¸è¡¨ä¸­çå­æ®µèµå¼\n\nhmsetãhmget åæ¶å°å¤ä¸ªfield-valueå¯¹è®¾ç½®å°åå¸è¡¨ä¸­ãä¼è¦çåå¸è¡¨ä¸­å·²å­å¨çå­æ®µ\n\n> redis 4.0.0å¼å§å¼ç¨hmsetï¼è¯·ä½¿ç¨hset\n\nhgetall ç¨äºè¿ååå¸è¡¨ä¸­ï¼ææçå­æ®µåå¼ã\n\nhdel ç¨äºå é¤åå¸è¡¨ key ä¸­çä¸ä¸ªæå¤ä¸ªæå®å­æ®µ\n\n127.0.0.1:6379>  hset myhash field1 "zhiyuan"\n(integer) 1\n127.0.0.1:6379> hget myhash field1\n"zhiyuan"\n\n127.0.0.1:6379> hset myhash field1 "hello" field2 "world"\n(integer) 2\n127.0.0.1:6379> hgetall myhash\n1) "field1"\n2) "hello"\n3) "field2"\n4) "world"\n127.0.0.1:6379> hget myhash field1\n"hello"\n127.0.0.1:6379> hget myhash field2\n"world"\n\n127.0.0.1:6379> hdel myhash field1\n(integer) 1\n127.0.0.1:6379> hgetall myhash\n1) "field2"\n2) "world"\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\nhlen è·ååå¸è¡¨ä¸­å­æ®µçæ°é\n\n127.0.0.1:6379> hlen myhash\n(integer) 1\n127.0.0.1:6379> hset myhash field1 "hello" field2 "world"\nok\n127.0.0.1:6379> hlen myhash\n(integer) 2\n\n\n1\n2\n3\n4\n5\n6\n\n\nhexists æ¥çåå¸è¡¨çæå®å­æ®µæ¯å¦å­å¨\n\n127.0.0.1:6379> hexists myhash field1\n(integer) 1\n127.0.0.1:6379> hexists myhash field3\n(integer) 0\n\n\n1\n2\n3\n4\n\n\nhkeys è·ååå¸è¡¨ä¸­çææåï¼fieldï¼\n\nhvals è¿ååå¸è¡¨ææå(field)çå¼\n\n127.0.0.1:6379> hkeys myhash\n1) "field2"\n2) "field1"\n127.0.0.1:6379> hvals myhash\n1) "world"\n2) "hello"\n\n\n1\n2\n3\n4\n5\n6\n\n\nhincrby ä¸ºåå¸è¡¨ä¸­çå­æ®µå¼å ä¸æå®å¢éå¼\n\n127.0.0.1:6379> hset myhash field 5\n(integer) 1\n127.0.0.1:6379> hincrby myhash field 1\n(integer) 6\n127.0.0.1:6379> hincrby myhash field -1\n(integer) 5\n127.0.0.1:6379> hincrby myhash field -10\n(integer) -5\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nhsetnx ä¸ºåå¸è¡¨ä¸­ä¸å­å¨ççå­æ®µèµå¼ ï¼å­å¨åä¸èµå¼\n\n127.0.0.1:6379> hsetnx myhash field1 "hello"\n(integer) 1 # è®¾ç½®æåï¼è¿å 1 ã\n127.0.0.1:6379> hsetnx myhash field1 "world"\n(integer) 0 # å¦æç»å®å­æ®µå·²ç»å­å¨ï¼è¿å 0 ã\n127.0.0.1:6379> hget myhash field1\n"hello"\n\n\n1\n2\n3\n4\n5\n6\n\n\nredis hashæ¯ä¸ä¸ªstringç±»åçfieldåvalueçæ å°è¡¨ï¼hashç¹å«éåç¨äºå­å¨å¯¹è±¡ã å­å¨é¨ååæ´çæ°æ®ï¼å¦ç¨æ·ä¿¡æ¯ç­ã\n\n\n# æåºéåzset\n\nå¨setåºç¡ä¸ï¼å ä¸ä¸ªscoreå¼ãä¹åsetæ¯k1 v1 v2 v3ï¼ç°å¨zsetæ¯ k1 score1 v1 score2 v2\n\nzadd å°ä¸ä¸ªæå¤ä¸ªæååç´ åå¶åæ°å¼å å¥å°æåºéå½ä¸­ã\n\nzrange è¿åæåºéä¸­ï¼æå®åºé´åçæå\n\n127.0.0.1:6379> zadd myset 1 "one"\n(integer) 1\n127.0.0.1:6379> zadd myset 2 "two" 3 "three"\n(integer) 2\n127.0.0.1:6379> zrange myset 0 -1\n1) "one"\n2) "two"\n3) "three"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nzrangebyscore è¿åæåºéåä¸­æå®åæ°åºé´çæååè¡¨ãæåºéæåæåæ°å¼éå¢(ä»å°å°å¤§) æ¬¡åºæåã\n\nzrevrange ä»å¤§å°å°\n\n127.0.0.1:6379> zadd salary 2500 xiaoming\n(integer) 1\n127.0.0.1:6379> zadd salary 5000 xiaohong\n(integer) 1\n127.0.0.1:6379> zadd salary 500 kuangshen\n(integer) 1\n\n# infæ ç©·å¤§é+â,åæ ·å°,-âå¯ä»¥è¡¨ç¤ºä¸º-infã\n127.0.0.1:6379> zrangebyscore salary -inf +inf # æ¾ç¤ºæ´ä¸ªæåºé\n1) "zhiyuan"\n2) "xiaoming"\n3) "xiaohong"\n127.0.0.1:6379> zrangebyscore salary -inf +inf withscores # éå¢æå\n1) "zhiyuan"\n2) "500"\n3) "xiaoming"\n4) "2500"\n5) "xiaohong"\n6) "5000"\n127.0.0.1:6379> zrevrange salary 0 -1 withscores # éåæå\n1) "xiaohong"\n2) "5000"\n3) "xiaoming"\n4) "2500"\n5) "zhiyuan"\n6) "500"\n# æ¾ç¤ºå·¥èµ <=2500çæææå\n127.0.0.1:6379> zrangebyscore salary -inf 2500 withscores \n1) "zhiyuan"\n2) "500"\n3) "xiaoming"\n4) "2500"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\nzrem ç§»é¤æåºéä¸­çä¸ä¸ªæå¤ä¸ªæå\n\n127.0.0.1:6379> zrange salary 0 -1\n1) "zhiyuan"\n2) "xiaoming"\n3) "xiaohong"\n127.0.0.1:6379> zrem salary zhiyuan\n(integer) 1\n127.0.0.1:6379> zrange salary 0 -1\n1) "xiaoming"\n2) "xiaohong"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nzcard å½ä»¤ç¨äºè®¡ç®éåä¸­åç´ çæ°é\n\n127.0.0.1:6379> zcard salary\n(integer) 2\nok\n\n\n1\n2\n3\n\n\nzcount è®¡ç®æåºéåä¸­æå®åæ°åºé´çæåæ°éã\n\n127.0.0.1:6379> zadd myset 1 "hello"\n(integer) 1\n127.0.0.1:6379> zadd myset 2 "world" 3 "zhiyuan"\n(integer) 2\n127.0.0.1:6379> zcount myset 1 3\n(integer) 3\n127.0.0.1:6379> zcount myset 1 2\n(integer) 2\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nzrank è¿åæåºéä¸­æå®æåçæåãå¶ä¸­æåºéæåæåæ°å¼éå¢(ä»å°å°å¤§)é¡ºåºæåã\n\n127.0.0.1:6379> zadd salary 2500 xiaoming\n(integer) 1\n127.0.0.1:6379> zadd salary 5000 xiaohong\n(integer) 1\n127.0.0.1:6379> zadd salary 500 kuangshen\n(integer) 1\n127.0.0.1:6379> zrange salary 0 -1 withscores # æ¾ç¤ºæææååå¶ score å¼\n1) "kuangshen"\n2) "500"\n3) "xiaoming"\n4) "2500"\n5) "xiaohong"\n6) "5000"\n127.0.0.1:6379> zrank salary kuangshen # æ¾ç¤º kuangshen çèªæ°´æåï¼æå°\n(integer) 0\n127.0.0.1:6379> zrank salary xiaohong # æ¾ç¤º xiaohong çèªæ°´æåï¼ç¬¬ä¸\n(integer) 2\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\nzrevrank è¿åæåºéä¸­æåçæåãå¶ä¸­æåºéæåæåæ°å¼éå(ä»å¤§å°å°)æåº\n\n127.0.0.1:6379> zrevrank salary kuangshen # çç¥ç¬¬ä¸\n(integer) 2\n127.0.0.1:6379> zrevrank salary xiaohong # å°çº¢ç¬¬ä¸\n(integer) 0\n\n\n1\n2\n3\n4\n\n\nåsetç¸æ¯ï¼sorted setå¢å äºä¸ä¸ªæéåæ°scoreï¼ä½¿å¾éåä¸­çåç´ è½å¤æscoreè¿è¡æåºæåï¼æ¯å¦ ä¸ä¸ªå­å¨å¨ç­åå­¦æç»©çsorted setï¼å¶éåvalueå¯ä»¥æ¯åå­¦çå­¦å·ï¼èscoreå°±å¯ä»¥æ¯å¶èè¯å¾åï¼ è¿æ ·å¨æ°æ®æå¥éåçæ¶åï¼å°±å·²ç»è¿è¡äºå¤©ç¶çæåºãå¯ä»¥ç¨sorted setæ¥åå¸¦æéçéåï¼æ¯å¦æ®éæ¶æ¯çscoreä¸º1ï¼éè¦æ¶æ¯çscoreä¸º2ï¼ç¶åå·¥ä½çº¿ç¨å¯ä»¥éæ©æscoreçååºæ¥è·åå·¥ä½ä»»å¡ãè®© éè¦çä»»å¡ä¼åæ§è¡ã',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"Redis - æ¦å¿µååºç¡",frontmatter:{title:"Redis - æ¦å¿µååºç¡",date:"2021-05-17T16:10:19.000Z",permalink:"/pages/28aa50/"},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/10.Redis/01.Redis%20-%20%E5%85%A5%E9%97%A8.html",relativePath:"03.æ°æ®åº/10.Redis/01.Redis - å¥é¨.md",key:"v-cfeb30e6",path:"/pages/28aa50/",headers:[{level:2,title:"æ¦è¿°",slug:"æ¦è¿°",normalizedTitle:"æ¦è¿°",charIndex:64},{level:2,title:"å¸¸ç¨ç½ç«",slug:"å¸¸ç¨ç½ç«",normalizedTitle:"å¸¸ç¨ç½ç«",charIndex:406},{level:2,title:"å®è£Redis",slug:"å®è£redis",normalizedTitle:"å®è£redis",charIndex:482},{level:2,title:"åºç¡ç¥è¯è¯´æ",slug:"åºç¡ç¥è¯è¯´æ",normalizedTitle:"åºç¡ç¥è¯è¯´æ",charIndex:2723},{level:3,title:"redisååæµè¯",slug:"redisååæµè¯",normalizedTitle:"redisååæµè¯",charIndex:2734},{level:3,title:"åºæ¬æ°æ®åºå¸¸è¯",slug:"åºæ¬æ°æ®åºå¸¸è¯",normalizedTitle:"åºæ¬æ°æ®åºå¸¸è¯",charIndex:3801},{level:2,title:"å³äºredisçåçº¿ç¨",slug:"å³äºredisçåçº¿ç¨",normalizedTitle:"å³äºredisçåçº¿ç¨",charIndex:4638}],headersStr:"æ¦è¿° å¸¸ç¨ç½ç« å®è£Redis åºç¡ç¥è¯è¯´æ redisååæµè¯ åºæ¬æ°æ®åºå¸¸è¯ å³äºredisçåçº¿ç¨",content:'çç¥redisè§é¢æç¨è§é¢æç¨ï¼https://www.bilibili.com/video/BV1S54y1R7SB\n\n\n# æ¦è¿°\n\nRedisï¼REmote DIctionary Serverï¼è¿ç¨å­å¸æå¡å¨ï¼\n\næ¯å®å¨å¼æºåè´¹çï¼ç¨Cè¯­è¨ç¼åçï¼éµå®BSDåè®®ï¼æ¯ä¸ä¸ªé«æ§è½çï¼Key/Valueï¼åå¸å¼åå­æ°æ® åºï¼åºäºåå­è¿è¡ï¼å¹¶æ¯ææä¹åçNoSQLæ°æ®åºï¼æ¯å½åæç­é¨çNoSQLæ°æ®åºä¹ä¸ï¼ä¹è¢«äººä»¬ç§°ä¸ºæ°æ®ç»ææå¡å¨\n\nRedisä¸å¶ä»key-valueç¼å­äº§åæä»¥ä¸ä¸ä¸ªç¹ç¹\n\n * Redisæ¯ææ°æ®çæä¹åï¼å¯ä»¥å°åå­ä¸­çæ°æ®ä¿æå¨ç£çä¸­ï¼éå¯çæ¶åå¯ä»¥åæ¬¡å è½½è¿è¡ä½¿ç¨ã\n * Redisä¸ä»ä»æ¯æç®åç key-value ç±»åçæ°æ®ï¼åæ¶è¿æä¾listãsetãzsetãhashç­æ°æ®ç»æçå­å¨ã\n * Redisæ¯ææ°æ®çå¤ä»½ï¼å³master-slaveæ¨¡å¼çæ°æ®å¤ä»½ã\n\n\n# å¸¸ç¨ç½ç«\n\n * å®ç½\n   \n   https://redis.io/\n\n * ä¸­æç½\n   \n   http://www.redis.cn\n\n\n# å®è£Redis\n\nç±äºä¼ä¸éé¢åRediså¼åï¼99%é½æ¯Linuxççè¿ç¨åå®è£ï¼å ä¹ä¸ä¼æ¶åå°Windowsçï¼æä»¥è¿éå°±ä»¥linuxçä¸ºä¸»ï¼å¯ä»¥èªå·±å»æµè¯ç©ç©ï¼Windowså®è£åä½¿ç¨æç¨ï¼https://www.cnblogs.com/xing-nb/p/12146449.html\n\nlinuxç´æ¥å»å®ç½ä¸è½½ï¼https://redis.io/download\n\nå®è£æ­¥éª¤ï¼åºäºå½æ¶ææ°ç6.2.1ï¼ï¼\n\n 1. ä¸è½½åç¼©åï¼æ¾ç½®Linuxçç®å½ä¸ /opt\n\n 2. å¨/opt ç®å½ä¸è§£åï¼å½ä»¤ ï¼ tar -zxvf redis-6.2.1.tar.gz\n\n 3. è§£åå®æååºç°æä»¶å¤¹ï¼redis-6.2.1\n\n 4. è¿å¥ç®å½ï¼ cd redis-6.2.1\n\n 5. å¨ redis-6.2.1 ç®å½ä¸æ§è¡ make å½ä»¤\n    \n    è¿è¡makeå½ä»¤æ¶ææåºç°çéè¯¯è§£æï¼\n    \n    1. å®è£gcc ï¼gccæ¯linuxä¸çä¸ä¸ªç¼è¯ç¨åºï¼æ¯cç¨åºçç¼è¯å·¥å·ï¼\n       \n       è½ä¸ç½: yum install gcc-c++\n       \n       çæ¬æµè¯: gcc-v\n    \n    2. äºæ¬¡make\n    \n    3. Jemalloc/jemalloc.hï¼æ²¡æé£ä¸ªæä»¶æç®å½\n       \n       è¿è¡ make distclean ä¹ååmake\n    \n    4. Redis Testï¼å¯ä»¥ä¸ç¨æ§è¡ï¼\n\n 6. å¦æmakeå®æåæ§è¡ make install\n\n 7. æ¥çé»è®¤å®è£ç®å½ï¼cd /usr/local/bin\n    \n    /usr è¿æ¯ä¸ä¸ªéå¸¸éè¦çç®å½ï¼ç±»ä¼¼äºwindowsä¸çProgram Filesï¼å­æ¾ç¨æ·çç¨åº\n    \n    \n\n 8. redisé»è®¤ä¸æ¯åå°å¯å¨ï¼ä¿®æ¹æä»¶\n    \n    ä¸è¬æä»¬å¨ /usr/local/bin ç®å½ä¸ï¼åå»ºmyconfigç®å½ï¼å­æ¾æä»¬çéç½®æä»¶\n    \n    cd /usr/local/bin\n    mkdir myconfig   #åå»ºç®å½\n    \n    #æ·è´éç½®æä»¶\n    cd /opt/redis-6.2.1\n    cp redis.conf /usr/local/bin # æ·ä¸ä¸ªå¤ä»½ï¼å»æè¯å¥½çä¹ æ¯ï¼æä»¬å°±ä¿®æ¹è¿ä¸ªæä»¶\n    # ä¿®æ¹éç½®ä¿è¯å¯ä»¥åå°åºç¨\n    vim redis.conf\n    /daemonize   #æ¥æ¾\n    :wq    #ä¿å­\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    \n    \n    \n    \n    * Aãredis.conféç½®æä»¶ä¸­daemonizeå®æ¤çº¿ç¨ï¼é»è®¤æ¯NOã\n    * Bãdaemonizeæ¯ç¨æ¥æå®redisæ¯å¦è¦ç¨å®æ¤çº¿ç¨çæ¹å¼å¯å¨ã\n    \n    daemonize è®¾ç½®yesæènoåºå«\n    \n    * daemonize:yes\n      \n      rediséç¨çæ¯åè¿ç¨å¤çº¿ç¨çæ¨¡å¼ãå½redis.confä¸­éé¡¹daemonizeè®¾ç½®æyesæ¶ï¼ä»£è¡¨å¼å¯å®æ¤è¿ç¨æ¨¡å¼ãå¨è¯¥æ¨¡å¼ä¸ï¼redisä¼å¨åå°è¿è¡ï¼å¹¶å°è¿ç¨pidå·åå¥è³redis.conféé¡¹ pidfileè®¾ç½®çæä»¶ä¸­ï¼æ­¤æ¶rediså°ä¸ç´è¿è¡ï¼é¤éæå¨killè¯¥è¿ç¨ã\n    \n    * daemonize:no\n      \n      å½daemonizeéé¡¹è®¾ç½®ænoæ¶ï¼å½åçé¢å°è¿å¥redisçå½ä»¤è¡çé¢ï¼exitå¼ºå¶éåºæèå³é­è¿æ¥å·¥å·(putty,xshellç­)é½ä¼å¯¼è´redisè¿ç¨éåºã\n\n 9. å¯å¨æµè¯ä¸ä¸ï¼\n\n * å¯å¨redisæå¡\n   \n   cd /usr/local/bin\n   redis-server myconfig/redis.conf\n   \n   \n   1\n   2\n   \n\n * rediså®¢æ·ç«¯è¿æ¥\n   \n      redis-cli -p 6379\n   \n   \n   1\n   \n   \n   è§å¯å°åçååï¼å¦æè¿æ¥æåï¼æ¯ç´æ¥è¿ä¸çï¼redisé»è®¤ç«¯å£å· 6379\n   \n   \n\n * æ§è¡pingãgetåsetæä½ãéåº\n   \n      127.0.0.1:6379> ping\n      PONG\n      127.0.0.1:6379> get hello\n      (nil)\n      127.0.0.1:6379> set hello zhiyuan\n      OK\n      127.0.0.1:6379> get hello\n      "zhiyuan"\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   \n   \n   \n\n * å³é­è¿æ¥\n   \n      127.0.0.1:6379> shutdown\n      not connected> exit\n   \n   \n   1\n   2\n   \n\nå¯ä»¥ä½¿ç¨æä»¤ps -ef|grep redisæ¾ç¤ºç³»ç»å½åredis è¿ç¨ä¿¡æ¯ï¼æ¥çå¼å¯åå³é­è¿æ¥çåå\n\n\n# åºç¡ç¥è¯è¯´æ\n\n\n# redisååæµè¯\n\nRedis-benchmarkæ¯å®æ¹èªå¸¦çRedisæ§è½æµè¯å·¥å·ï¼å¯ä»¥ææçæµè¯Redisæå¡çæ§è½ã\n\nredis æ§è½æµè¯å·¥å·å¯éåæ°å¦ä¸æç¤ºï¼\n\nåºå·   éé¡¹      æè¿°                                  é»è®¤å¼\n1    -h      æå®æå¡å¨ä¸»æºå                            127.0.0.1\n2    -p      æå®æå¡å¨ç«¯å£                             6379\n3    -s      æå®æå¡å¨ socket                        \n4    -c      æå®å¹¶åè¿æ¥æ°                             50\n5    -n      æå®è¯·æ±æ°                               10000\n6    -d      ä»¥å­èçå½¢å¼æå® SET/GET å¼çæ°æ®å¤§å°             2\n7    -k      1=keep alive 0=reconnect            1\n8    -r      SET/GET/INCR ä½¿ç¨éæº key, SADD ä½¿ç¨éæºå¼   \n9    -P      éè¿ç®¡éä¼ è¾ numreq è¯·æ±                    1\n10   -q      å¼ºå¶éåº redisãä»æ¾ç¤º query/sec å¼          \n11   --csv   ä»¥ CSV æ ¼å¼è¾åº                          \n12   -l      çæå¾ªç¯ï¼æ°¸ä¹æ§è¡æµè¯                         \n13   -t      ä»è¿è¡ä»¥éå·åéçæµè¯å½ä»¤åè¡¨ã                    \n14   -I      Idle æ¨¡å¼ãä»æå¼ N ä¸ª idle è¿æ¥å¹¶ç­å¾ã         \n\n# æµè¯ï¼100ä¸ªå¹¶åè¿æ¥ï¼100000ä¸ªè¯·æ±ï¼æ£æµhostä¸ºlocalhost ç«¯å£ä¸º6379çredisæå¡å¨æ§è½\ncd  /usr/local/bin\nredis-benchmark -h localhost -p 6379 -c 100 -n 100000\n\n\n1\n2\n3\n\n\nåèèµæï¼https://www.runoob.com/redis/redis-benchmarks.html\n\n\n# åºæ¬æ°æ®åºå¸¸è¯\n\né»è®¤16ä¸ªæ°æ®åºï¼ç±»ä¼¼æ°ç»ä¸æ ä»é¶å¼å§ï¼åå§é»è®¤ä½¿ç¨é¶å·åº\n\næ¥ç redis.conf ï¼éé¢æé»è®¤çéç½®\n\n# Set the number of databases. The default database is DB 0, you can select\n# a different one on a per-connection basis using SELECT <dbid> where\n# dbid is a number between 0 and \'databases\'-1\ndatabases 16\n\n\n1\n2\n3\n4\n\n\nSelectå½ä»¤åæ¢æ°æ®åº\n\n127.0.0.1:6379> select 7\nOK\n127.0.0.1:6379[7]>\n# ä¸åçåºå¯ä»¥å­ä¸åçæ°æ®\n\n\n1\n2\n3\n4\n\n\nDbsizeæ¥çå½åæ°æ®åºçkeyçæ°é\n\n127.0.0.1:6379> select 7\nOK\n127.0.0.1:6379[7]> DBSIZE\n(integer) 0\n127.0.0.1:6379[7]> select 0\nOK\n127.0.0.1:6379> DBSIZE\n(integer) 5\n127.0.0.1:6379> keys * # æ¥çå·ä½çkey\n1) "counter:__rand_int__"\n2) "mylist"\n3) "k1"\n4) "myset:__rand_int__"\n5) "key:__rand_int__"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nFlushdbï¼æ¸ç©ºå½ååº\n\nFlushallï¼æ¸ç©ºå¨é¨çåº\n\n127.0.0.1:6379> DBSIZE\n(integer) 5\n127.0.0.1:6379> FLUSHDB\nOK\n127.0.0.1:6379> DBSIZE\n(integer) 0\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# å³äºredisçåçº¿ç¨\n\næ³¨ï¼6.xçæ¬æå¤çº¿ç¨ï¼ä¸è¬ç¨ä¸å°ï¼åçº¿ç¨è¶³å¤åºå¯¹\n\næä»¬é¦åè¦æç½ï¼Rediså¾å¿«ï¼å®æ¹è¡¨ç¤ºï¼å ä¸ºRedisæ¯åºäºåå­çæä½ï¼CPUä¸æ¯Redisçç¶é¢ï¼Redis çç¶é¢ææå¯è½æ¯æºå¨åå­çå¤§å°æèç½ç»å¸¦å®½ãæ¢ç¶åçº¿ç¨å®¹æå®ç°ï¼èä¸CPUä¸ä¼æä¸ºç¶é¢ï¼é£å°± é¡ºçæç« å°éç¨åçº¿ç¨çæ¹æ¡äºï¼\n\nRediséç¨çæ¯åºäºåå­çéç¨çæ¯åè¿ç¨åçº¿ç¨æ¨¡åç KV æ°æ®åºï¼ç±Cè¯­è¨ç¼åï¼å®æ¹æä¾çæ°æ®æ¯å¯ä»¥è¾¾å°100000+çQPSï¼æ¯ç§åæ¥è¯¢æ¬¡æ°ï¼ãè¿ä¸ªæ°æ®ä¸æ¯éç¨åè¿ç¨å¤çº¿ç¨çåæ ·åºäºåå­ç KV æ°æ®åº Memcached å·®ï¼\n\nRedisä¸ºä»ä¹è¿ä¹å¿«ï¼\n\nredis æ ¸å¿å°±æ¯ å¦ææçæ°æ®å¨é½å¨åå­éï¼æåçº¿ç¨çå»æä½ å°±æ¯æçæé«çï¼ä¸ºä»ä¹å¢ï¼å ä¸º å¤çº¿ç¨çæ¬è´¨å°±æ¯ CPU æ¨¡æåºæ¥å¤ä¸ªçº¿ç¨çæåµï¼è¿ç§æ¨¡æåºæ¥çæåµå°±æä¸ä¸ªä»£ä»·ï¼å°±æ¯ä¸ä¸æçå æ¢ï¼å¯¹äºä¸ä¸ªåå­çç³»ç»æ¥è¯´ï¼å®æ²¡æä¸ä¸æçåæ¢å°±æ¯æçæé«çãredis ç¨ åä¸ªCPU ç»å®ä¸ååå­ çæ°æ®ï¼ç¶åéå¯¹è¿ååå­çæ°æ®è¿è¡å¤æ¬¡è¯»åçæ¶åï¼é½æ¯å¨ä¸ä¸ªCPUä¸å®æçï¼æä»¥å®æ¯åçº¿ç¨å¤ çè¿ä¸ªäºãå¨åå­çæåµä¸ï¼è¿ä¸ªæ¹æ¡å°±æ¯æä½³æ¹æ¡ã\n\nå ä¸ºä¸æ¬¡CPUä¸ä¸æçåæ¢å¤§æ¦å¨ 1500ns å·¦å³ãä»åå­ä¸­è¯»å 1MB çè¿ç»­æ°æ®ï¼èæ¶å¤§çº¦ä¸º 250usï¼ åè®¾1MBçæ°æ®ç±å¤ä¸ªçº¿ç¨è¯»åäº1000æ¬¡ï¼é£ä¹å°±æ1000æ¬¡æ¶é´ä¸ä¸æçåæ¢ï¼é£ä¹å°±æ1500ns * 1000 = 1500us ï¼æåçº¿ç¨çè¯»å®1MBæ°æ®æ250us ,ä½ åæ¶é´ä¸ä¸æçåæ¢å°±ç¨äº1500usäºï¼æè¿ä¸ç®ä½ æ¯æ¬¡è¯»ä¸ç¹æ°æ®çæ¶é´ã',normalizedContent:'çç¥redisè§é¢æç¨è§é¢æç¨ï¼https://www.bilibili.com/video/bv1s54y1r7sb\n\n\n# æ¦è¿°\n\nredisï¼remote dictionary serverï¼è¿ç¨å­å¸æå¡å¨ï¼\n\næ¯å®å¨å¼æºåè´¹çï¼ç¨cè¯­è¨ç¼åçï¼éµå®bsdåè®®ï¼æ¯ä¸ä¸ªé«æ§è½çï¼key/valueï¼åå¸å¼åå­æ°æ® åºï¼åºäºåå­è¿è¡ï¼å¹¶æ¯ææä¹åçnosqlæ°æ®åºï¼æ¯å½åæç­é¨çnosqlæ°æ®åºä¹ä¸ï¼ä¹è¢«äººä»¬ç§°ä¸ºæ°æ®ç»ææå¡å¨\n\nredisä¸å¶ä»key-valueç¼å­äº§åæä»¥ä¸ä¸ä¸ªç¹ç¹\n\n * redisæ¯ææ°æ®çæä¹åï¼å¯ä»¥å°åå­ä¸­çæ°æ®ä¿æå¨ç£çä¸­ï¼éå¯çæ¶åå¯ä»¥åæ¬¡å è½½è¿è¡ä½¿ç¨ã\n * redisä¸ä»ä»æ¯æç®åç key-value ç±»åçæ°æ®ï¼åæ¶è¿æä¾listãsetãzsetãhashç­æ°æ®ç»æçå­å¨ã\n * redisæ¯ææ°æ®çå¤ä»½ï¼å³master-slaveæ¨¡å¼çæ°æ®å¤ä»½ã\n\n\n# å¸¸ç¨ç½ç«\n\n * å®ç½\n   \n   https://redis.io/\n\n * ä¸­æç½\n   \n   http://www.redis.cn\n\n\n# å®è£redis\n\nç±äºä¼ä¸éé¢årediså¼åï¼99%é½æ¯linuxççè¿ç¨åå®è£ï¼å ä¹ä¸ä¼æ¶åå°windowsçï¼æä»¥è¿éå°±ä»¥linuxçä¸ºä¸»ï¼å¯ä»¥èªå·±å»æµè¯ç©ç©ï¼windowså®è£åä½¿ç¨æç¨ï¼https://www.cnblogs.com/xing-nb/p/12146449.html\n\nlinuxç´æ¥å»å®ç½ä¸è½½ï¼https://redis.io/download\n\nå®è£æ­¥éª¤ï¼åºäºå½æ¶ææ°ç6.2.1ï¼ï¼\n\n 1. ä¸è½½åç¼©åï¼æ¾ç½®linuxçç®å½ä¸ /opt\n\n 2. å¨/opt ç®å½ä¸è§£åï¼å½ä»¤ ï¼ tar -zxvf redis-6.2.1.tar.gz\n\n 3. è§£åå®æååºç°æä»¶å¤¹ï¼redis-6.2.1\n\n 4. è¿å¥ç®å½ï¼ cd redis-6.2.1\n\n 5. å¨ redis-6.2.1 ç®å½ä¸æ§è¡ make å½ä»¤\n    \n    è¿è¡makeå½ä»¤æ¶ææåºç°çéè¯¯è§£æï¼\n    \n    1. å®è£gcc ï¼gccæ¯linuxä¸çä¸ä¸ªç¼è¯ç¨åºï¼æ¯cç¨åºçç¼è¯å·¥å·ï¼\n       \n       è½ä¸ç½: yum install gcc-c++\n       \n       çæ¬æµè¯: gcc-v\n    \n    2. äºæ¬¡make\n    \n    3. jemalloc/jemalloc.hï¼æ²¡æé£ä¸ªæä»¶æç®å½\n       \n       è¿è¡ make distclean ä¹ååmake\n    \n    4. redis testï¼å¯ä»¥ä¸ç¨æ§è¡ï¼\n\n 6. å¦æmakeå®æåæ§è¡ make install\n\n 7. æ¥çé»è®¤å®è£ç®å½ï¼cd /usr/local/bin\n    \n    /usr è¿æ¯ä¸ä¸ªéå¸¸éè¦çç®å½ï¼ç±»ä¼¼äºwindowsä¸çprogram filesï¼å­æ¾ç¨æ·çç¨åº\n    \n    \n\n 8. redisé»è®¤ä¸æ¯åå°å¯å¨ï¼ä¿®æ¹æä»¶\n    \n    ä¸è¬æä»¬å¨ /usr/local/bin ç®å½ä¸ï¼åå»ºmyconfigç®å½ï¼å­æ¾æä»¬çéç½®æä»¶\n    \n    cd /usr/local/bin\n    mkdir myconfig   #åå»ºç®å½\n    \n    #æ·è´éç½®æä»¶\n    cd /opt/redis-6.2.1\n    cp redis.conf /usr/local/bin # æ·ä¸ä¸ªå¤ä»½ï¼å»æè¯å¥½çä¹ æ¯ï¼æä»¬å°±ä¿®æ¹è¿ä¸ªæä»¶\n    # ä¿®æ¹éç½®ä¿è¯å¯ä»¥åå°åºç¨\n    vim redis.conf\n    /daemonize   #æ¥æ¾\n    :wq    #ä¿å­\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    \n    \n    \n    \n    * aãredis.conféç½®æä»¶ä¸­daemonizeå®æ¤çº¿ç¨ï¼é»è®¤æ¯noã\n    * bãdaemonizeæ¯ç¨æ¥æå®redisæ¯å¦è¦ç¨å®æ¤çº¿ç¨çæ¹å¼å¯å¨ã\n    \n    daemonize è®¾ç½®yesæènoåºå«\n    \n    * daemonize:yes\n      \n      rediséç¨çæ¯åè¿ç¨å¤çº¿ç¨çæ¨¡å¼ãå½redis.confä¸­éé¡¹daemonizeè®¾ç½®æyesæ¶ï¼ä»£è¡¨å¼å¯å®æ¤è¿ç¨æ¨¡å¼ãå¨è¯¥æ¨¡å¼ä¸ï¼redisä¼å¨åå°è¿è¡ï¼å¹¶å°è¿ç¨pidå·åå¥è³redis.conféé¡¹ pidfileè®¾ç½®çæä»¶ä¸­ï¼æ­¤æ¶rediså°ä¸ç´è¿è¡ï¼é¤éæå¨killè¯¥è¿ç¨ã\n    \n    * daemonize:no\n      \n      å½daemonizeéé¡¹è®¾ç½®ænoæ¶ï¼å½åçé¢å°è¿å¥redisçå½ä»¤è¡çé¢ï¼exitå¼ºå¶éåºæèå³é­è¿æ¥å·¥å·(putty,xshellç­)é½ä¼å¯¼è´redisè¿ç¨éåºã\n\n 9. å¯å¨æµè¯ä¸ä¸ï¼\n\n * å¯å¨redisæå¡\n   \n   cd /usr/local/bin\n   redis-server myconfig/redis.conf\n   \n   \n   1\n   2\n   \n\n * rediså®¢æ·ç«¯è¿æ¥\n   \n      redis-cli -p 6379\n   \n   \n   1\n   \n   \n   è§å¯å°åçååï¼å¦æè¿æ¥æåï¼æ¯ç´æ¥è¿ä¸çï¼redisé»è®¤ç«¯å£å· 6379\n   \n   \n\n * æ§è¡pingãgetåsetæä½ãéåº\n   \n      127.0.0.1:6379> ping\n      pong\n      127.0.0.1:6379> get hello\n      (nil)\n      127.0.0.1:6379> set hello zhiyuan\n      ok\n      127.0.0.1:6379> get hello\n      "zhiyuan"\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   \n   \n   \n\n * å³é­è¿æ¥\n   \n      127.0.0.1:6379> shutdown\n      not connected> exit\n   \n   \n   1\n   2\n   \n\nå¯ä»¥ä½¿ç¨æä»¤ps -ef|grep redisæ¾ç¤ºç³»ç»å½åredis è¿ç¨ä¿¡æ¯ï¼æ¥çå¼å¯åå³é­è¿æ¥çåå\n\n\n# åºç¡ç¥è¯è¯´æ\n\n\n# redisååæµè¯\n\nredis-benchmarkæ¯å®æ¹èªå¸¦çredisæ§è½æµè¯å·¥å·ï¼å¯ä»¥ææçæµè¯redisæå¡çæ§è½ã\n\nredis æ§è½æµè¯å·¥å·å¯éåæ°å¦ä¸æç¤ºï¼\n\nåºå·   éé¡¹      æè¿°                                  é»è®¤å¼\n1    -h      æå®æå¡å¨ä¸»æºå                            127.0.0.1\n2    -p      æå®æå¡å¨ç«¯å£                             6379\n3    -s      æå®æå¡å¨ socket                        \n4    -c      æå®å¹¶åè¿æ¥æ°                             50\n5    -n      æå®è¯·æ±æ°                               10000\n6    -d      ä»¥å­èçå½¢å¼æå® set/get å¼çæ°æ®å¤§å°             2\n7    -k      1=keep alive 0=reconnect            1\n8    -r      set/get/incr ä½¿ç¨éæº key, sadd ä½¿ç¨éæºå¼   \n9    -p      éè¿ç®¡éä¼ è¾ numreq è¯·æ±                    1\n10   -q      å¼ºå¶éåº redisãä»æ¾ç¤º query/sec å¼          \n11   --csv   ä»¥ csv æ ¼å¼è¾åº                          \n12   -l      çæå¾ªç¯ï¼æ°¸ä¹æ§è¡æµè¯                         \n13   -t      ä»è¿è¡ä»¥éå·åéçæµè¯å½ä»¤åè¡¨ã                    \n14   -i      idle æ¨¡å¼ãä»æå¼ n ä¸ª idle è¿æ¥å¹¶ç­å¾ã         \n\n# æµè¯ï¼100ä¸ªå¹¶åè¿æ¥ï¼100000ä¸ªè¯·æ±ï¼æ£æµhostä¸ºlocalhost ç«¯å£ä¸º6379çredisæå¡å¨æ§è½\ncd  /usr/local/bin\nredis-benchmark -h localhost -p 6379 -c 100 -n 100000\n\n\n1\n2\n3\n\n\nåèèµæï¼https://www.runoob.com/redis/redis-benchmarks.html\n\n\n# åºæ¬æ°æ®åºå¸¸è¯\n\né»è®¤16ä¸ªæ°æ®åºï¼ç±»ä¼¼æ°ç»ä¸æ ä»é¶å¼å§ï¼åå§é»è®¤ä½¿ç¨é¶å·åº\n\næ¥ç redis.conf ï¼éé¢æé»è®¤çéç½®\n\n# set the number of databases. the default database is db 0, you can select\n# a different one on a per-connection basis using select <dbid> where\n# dbid is a number between 0 and \'databases\'-1\ndatabases 16\n\n\n1\n2\n3\n4\n\n\nselectå½ä»¤åæ¢æ°æ®åº\n\n127.0.0.1:6379> select 7\nok\n127.0.0.1:6379[7]>\n# ä¸åçåºå¯ä»¥å­ä¸åçæ°æ®\n\n\n1\n2\n3\n4\n\n\ndbsizeæ¥çå½åæ°æ®åºçkeyçæ°é\n\n127.0.0.1:6379> select 7\nok\n127.0.0.1:6379[7]> dbsize\n(integer) 0\n127.0.0.1:6379[7]> select 0\nok\n127.0.0.1:6379> dbsize\n(integer) 5\n127.0.0.1:6379> keys * # æ¥çå·ä½çkey\n1) "counter:__rand_int__"\n2) "mylist"\n3) "k1"\n4) "myset:__rand_int__"\n5) "key:__rand_int__"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nflushdbï¼æ¸ç©ºå½ååº\n\nflushallï¼æ¸ç©ºå¨é¨çåº\n\n127.0.0.1:6379> dbsize\n(integer) 5\n127.0.0.1:6379> flushdb\nok\n127.0.0.1:6379> dbsize\n(integer) 0\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# å³äºredisçåçº¿ç¨\n\næ³¨ï¼6.xçæ¬æå¤çº¿ç¨ï¼ä¸è¬ç¨ä¸å°ï¼åçº¿ç¨è¶³å¤åºå¯¹\n\næä»¬é¦åè¦æç½ï¼rediså¾å¿«ï¼å®æ¹è¡¨ç¤ºï¼å ä¸ºredisæ¯åºäºåå­çæä½ï¼cpuä¸æ¯redisçç¶é¢ï¼redis çç¶é¢ææå¯è½æ¯æºå¨åå­çå¤§å°æèç½ç»å¸¦å®½ãæ¢ç¶åçº¿ç¨å®¹æå®ç°ï¼èä¸cpuä¸ä¼æä¸ºç¶é¢ï¼é£å°± é¡ºçæç« å°éç¨åçº¿ç¨çæ¹æ¡äºï¼\n\nrediséç¨çæ¯åºäºåå­çéç¨çæ¯åè¿ç¨åçº¿ç¨æ¨¡åç kv æ°æ®åºï¼ç±cè¯­è¨ç¼åï¼å®æ¹æä¾çæ°æ®æ¯å¯ä»¥è¾¾å°100000+çqpsï¼æ¯ç§åæ¥è¯¢æ¬¡æ°ï¼ãè¿ä¸ªæ°æ®ä¸æ¯éç¨åè¿ç¨å¤çº¿ç¨çåæ ·åºäºåå­ç kv æ°æ®åº memcached å·®ï¼\n\nredisä¸ºä»ä¹è¿ä¹å¿«ï¼\n\nredis æ ¸å¿å°±æ¯ å¦ææçæ°æ®å¨é½å¨åå­éï¼æåçº¿ç¨çå»æä½ å°±æ¯æçæé«çï¼ä¸ºä»ä¹å¢ï¼å ä¸º å¤çº¿ç¨çæ¬è´¨å°±æ¯ cpu æ¨¡æåºæ¥å¤ä¸ªçº¿ç¨çæåµï¼è¿ç§æ¨¡æåºæ¥çæåµå°±æä¸ä¸ªä»£ä»·ï¼å°±æ¯ä¸ä¸æçå æ¢ï¼å¯¹äºä¸ä¸ªåå­çç³»ç»æ¥è¯´ï¼å®æ²¡æä¸ä¸æçåæ¢å°±æ¯æçæé«çãredis ç¨ åä¸ªcpu ç»å®ä¸ååå­ çæ°æ®ï¼ç¶åéå¯¹è¿ååå­çæ°æ®è¿è¡å¤æ¬¡è¯»åçæ¶åï¼é½æ¯å¨ä¸ä¸ªcpuä¸å®æçï¼æä»¥å®æ¯åçº¿ç¨å¤ çè¿ä¸ªäºãå¨åå­çæåµä¸ï¼è¿ä¸ªæ¹æ¡å°±æ¯æä½³æ¹æ¡ã\n\nå ä¸ºä¸æ¬¡cpuä¸ä¸æçåæ¢å¤§æ¦å¨ 1500ns å·¦å³ãä»åå­ä¸­è¯»å 1mb çè¿ç»­æ°æ®ï¼èæ¶å¤§çº¦ä¸º 250usï¼ åè®¾1mbçæ°æ®ç±å¤ä¸ªçº¿ç¨è¯»åäº1000æ¬¡ï¼é£ä¹å°±æ1000æ¬¡æ¶é´ä¸ä¸æçåæ¢ï¼é£ä¹å°±æ1500ns * 1000 = 1500us ï¼æåçº¿ç¨çè¯»å®1mbæ°æ®æ250us ,ä½ åæ¶é´ä¸ä¸æçåæ¢å°±ç¨äº1500usäºï¼æè¿ä¸ç®ä½ æ¯æ¬¡è¯»ä¸ç¹æ°æ®çæ¶é´ã',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"Redis - ä¸ç§ç¹æ®æ°æ®ç±»å",frontmatter:{title:"Redis - ä¸ç§ç¹æ®æ°æ®ç±»å",date:"2021-05-17T16:12:21.000Z",permalink:"/pages/5898ab/"},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/10.Redis/03.%E4%B8%89%E7%A7%8D%E7%89%B9%E6%AE%8A%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html",relativePath:"03.æ°æ®åº/10.Redis/03.ä¸ç§ç¹æ®æ°æ®ç±»å.md",key:"v-7a1e2428",path:"/pages/5898ab/",headers:[{level:2,title:"ä¸ç§ç¹æ®æ°æ®ç±»å",slug:"ä¸ç§ç¹æ®æ°æ®ç±»å",normalizedTitle:"ä¸ç§ç¹æ®æ°æ®ç±»å",charIndex:2},{level:3,title:"GEOå°çä½ç½®",slug:"geoå°çä½ç½®",normalizedTitle:"geoå°çä½ç½®",charIndex:15},{level:4,title:"ç®ä»",slug:"ç®ä»",normalizedTitle:"ç®ä»",charIndex:26},{level:4,title:"å¸¸ç¨æä»¤",slug:"å¸¸ç¨æä»¤",normalizedTitle:"å¸¸ç¨æä»¤",charIndex:271},{level:3,title:"HyperLogLog",slug:"hyperloglog",normalizedTitle:"hyperloglog",charIndex:3929},{level:3,title:"BitMap",slug:"bitmap",normalizedTitle:"bitmap",charIndex:5024},{level:4,title:"ç®ä»",slug:"ç®ä»-2",normalizedTitle:"ç®ä»",charIndex:26},{level:4,title:"æä½",slug:"æä½",normalizedTitle:"æä½",charIndex:95}],headersStr:"ä¸ç§ç¹æ®æ°æ®ç±»å GEOå°çä½ç½® ç®ä» å¸¸ç¨æä»¤ HyperLogLog BitMap ç®ä» æä½",content:'# ä¸ç§ç¹æ®æ°æ®ç±»å\n\n\n# GEOå°çä½ç½®\n\n# ç®ä»\n\nRedis ç GEO ç¹æ§å¨ Redis 3.2 çæ¬ä¸­æ¨åºï¼ è¿ä¸ªåè½å¯ä»¥å°ç¨æ·ç»å®çå°çä½ç½®ä¿¡æ¯å¨å­èµ·æ¥ï¼ å¹¶å¯¹è¿äºä¿¡æ¯è¿è¡æä½ãæ¥å®ç°è¯¸å¦éè¿ä½ç½®ãæä¸æè¿ç±»ä¾èµäºå°çä½ç½®ä¿¡æ¯çåè½ãgeoçæ°æ®ç±»åä¸º zsetã\n\nGEO çæ°æ®ç»ææ»å±æå­ä¸ªå¸¸ç¨å½ä»¤ï¼geoaddãgeoposãgeodistãgeoradiusã georadiusbymemberãgethash\n\nå®æ¹ææ¡£ï¼https://www.redis.net.cn/order/3685.html\n\n# å¸¸ç¨æä»¤\n\n1ãgeoadd\n\nè¯­æ³ï¼geoadd key longitude latitude member ...\n\nå°ç»å®çç©ºé´åç´ (ç»åº¦ãçº¬åº¦ãåå­)æ·»å å°æå®çé®éé¢ã è¿äºæ°æ®ä¼ä»¥æåºéçå½¢å¼è¢«å¨å­å¨é®éé¢ï¼ä»èä½¿å¾georadiusågeoradiusbymemberè¿æ ·ç å½ä»¤å¯ä»¥å¨ä¹åéè¿ä½ç½®æ¥è¯¢åå¾è¿äºåç´ ã geoaddå½ä»¤ä»¥æ åçx,yæ ¼å¼æ¥ååæ°ï¼æä»¥ç¨æ·å¿é¡»åè¾å¥ç»åº¦ï¼ç¶ååè¾å¥çº¬åº¦ã geoaddè½å¤è®°å½çåæ æ¯æéçï¼éå¸¸æ¥è¿ä¸¤æçåºåæ æ³è¢«ç´¢å¼ã ææçç»åº¦ä»äº-180-180åº¦ä¹é´ï¼ææççº¬åº¦ä»äº-85.05112878 åº¦è³ 85.05112878 åº¦ä¹é´ å½ç¨æ·å°è¯è¾å¥ä¸ä¸ªè¶åºèå´çç»åº¦æèçº¬åº¦æ¶,geoaddå½ä»¤å°è¿åä¸ä¸ªéè¯¯ã\n\næµè¯ï¼ç¾åº¦æç´¢ç»çº¬åº¦æ¥è¯¢ï¼æ¨¡æçå®æ°æ®\n\n127.0.0.1:6379> geoadd china:city 116.23 40.22 åäº¬\n(integer) 1\n127.0.0.1:6379> geoadd china:city 121.48 31.40 ä¸æµ· 113.88 22.55 æ·±å³ 120.21 30.20 æ­å·\n(integer) 3\n127.0.0.1:6379> geoadd china:city 106.54 29.40 éåº 108.93 34.23 è¥¿å® 114.02 30.58 æ­¦æ±\n(integer) 3\n\n\n1\n2\n3\n4\n5\n6\n\n\n2ãgeopos\n\nè¯­æ³ï¼geopos key member [member...]\n\nä»keyéè¿åææç»å®ä½ç½®åç´ çä½ç½®ï¼ç»åº¦åçº¬åº¦ï¼\n\n127.0.0.1:6379> geopos china:city åäº¬\n1) 1) "116.23000055551528931"\n2) "40.2200010338739844"\n127.0.0.1:6379> geopos china:city ä¸æµ· éåº\n1) 1) "121.48000091314315796"\n2) "31.40000025319353938"\n2) 1) "106.54000014066696167"\n2) "29.39999880018641676"\n127.0.0.1:6379> geopos china:city æ°ç\n1) (nil)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n3ãgeodist\n\nè¯­æ³ï¼geodist key member1 member2 [unit]\n\nè¿åä¸¤ä¸ªç»å®ä½ç½®ä¹é´çè·ç¦»ï¼å¦æä¸¤ä¸ªä½ç½®ä¹é´çå¶ä¸­ä¸ä¸ªä¸å­å¨ï¼é£ä¹å½ä»¤è¿åç©ºå¼\n\næå®åä½çåæ°unitå¿é¡»æ¯ä»¥ä¸åä½çå¶ä¸­ä¸ä¸ªï¼\n\n * mè¡¨ç¤ºåä½ä¸ºç±³\n * kmè¡¨ç¤ºåä½ä¸ºåç±³\n * miè¡¨ç¤ºåä½ä¸ºè±é\n * ftè¡¨ç¤ºåä½ä¸ºè±å°º\n\nå¦æç¨æ·æ²¡ææ¾å¼å°æå®åä½åæ°ï¼é£ä¹geodisté»è®¤ä½¿ç¨ ç±³ ä½ä¸ºåä½ã\n\ngeodistå½ä»¤å¨è®¡ç®è·ç¦»æ¶ä¼åè®¾å°çä¸ºå®ç¾ççå½¢ï¼å¨æéæåµä¸ï¼è¿ä¸åè®¾æå¤§ä¼é æ0.5%çè¯¯å·®ã\n\n127.0.0.1:6379> geodist china:city åäº¬ ä¸æµ·\n"1088785.4302"\n127.0.0.1:6379> geodist china:city åäº¬ ä¸æµ· km\n"1088.7854"\n127.0.0.1:6379> geodist china:city éåº åäº¬ km\n"1491.6716"\n\n\n1\n2\n3\n4\n5\n6\n\n\n4ãgeoradius\n\nè¯­æ³ï¼\n\ngeoradius key longitude latitude radius m|km|ft|mi [withcoord][withdist] [withhash][asc|desc][count count]\n\n\n1\n\n\nä»¥ç»å®çç»çº¬åº¦ä¸ºä¸­å¿ï¼ æ¾åºæä¸åå¾åçåç´ \n\néæ°è¿æ¥ redis-cliï¼å¢å åæ° --raw ï¼å¯ä»¥å¼ºå¶è¾åºä¸­æï¼ä¸ç¶ä¼ä¹±ç \n\n127.0.0.1:6379> georadius china:city 100 30 1000 km #ä¹±ç \n1) "\\xe9\\x87\\x8d\\xe5\\xba\\x86"\n2) "\\xe8\\xa5\\xbf\\xe5\\xae\\x89"\n127.0.0.1:6379> exit\n[root@localhost bin]#  redis-cli --raw -p 6379\n# å¨ china:city ä¸­å¯»æ¾åæ  100 30 åå¾ä¸º 1000km çåå¸\n127.0.0.1:6379> georadius china:city 100 30 1000 km\néåº\nè¥¿å®\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nwithdist è¿åä½ç½®åç§°åä¸­å¿è·ç¦»\n\n127.0.0.1:6379> georadius china:city 100 30 1000 km withdist\néåº\n635.2850\nè¥¿å®\n963.3171\n\n\n1\n2\n3\n4\n5\n\n\nwithcoord è¿åä½ç½®åç§°ãç»çº¬åº¦\n\n127.0.0.1:6379> georadius china:city 100 30 1000 km withcoord\néåº\n106.54000014066696167\n29.39999880018641676\nè¥¿å®\n108.92999857664108276\n34.23000121926852302\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nwithdist withcoord è¿åä½ç½®åç§°ãè·ç¦»ãç»çº¬åº¦ï¼count éå®å¯»æ¾ä¸ªæ°\n\n127.0.0.1:6379> georadius china:city 100 30 1000 km withcoord withdist count 1\néåº\n635.2850\n106.54000014066696167\n29.39999880018641676\n127.0.0.1:6379> georadius china:city 100 30 1000 km withcoord withdist count 2\néåº\n635.2850\n106.54000014066696167\n29.39999880018641676\nè¥¿å®\n963.3171\n108.92999857664108276\n34.23000121926852302\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n5ãgeoradiusbymember\n\nè¯­æ³ï¼\n\ngeoradiusbymember key member radius m|km|ft|mi [withcoord][withdist] [withhash][asc|desc][count count]\n\n\n1\n\n\næ¾åºä½äºæå®èå´åçåç´ ï¼ä¸­å¿ç¹æ¯ç±ç»å®çä½ç½®åç´ å³å®\n\n127.0.0.1:6379> GEORADIUSBYMEMBER china:city åäº¬ 1000 km\nåäº¬\nè¥¿å®\n127.0.0.1:6379> GEORADIUSBYMEMBER china:city ä¸æµ· 400 km\næ­å·\nä¸æµ·\n\n\n1\n2\n3\n4\n5\n6\n\n\n6ãgeohash\n\nè¯­æ³ï¼geohash key member [member...]\n\nRedisä½¿ç¨geohashå°äºç»´ç»çº¬åº¦è½¬æ¢ä¸ºä¸ç»´å­ç¬¦ä¸²ï¼å­ç¬¦ä¸²è¶é¿è¡¨ç¤ºä½ç½®æ´ç²¾ç¡®ï¼ä¸¤ä¸ªå­ç¬¦ä¸²è¶ç¸ä¼¼è¡¨ç¤ºè·ç¦»è¶è¿ã\n\n127.0.0.1:6379> geohash china:city åäº¬ éåº\nwx4sucu47r0\nwm5z22h53v0\n127.0.0.1:6379> geohash china:city åäº¬ ä¸æµ·\nwx4sucu47r0\nwtw6sk5n300\n\n\n1\n2\n3\n4\n5\n6\n\n\nzrem\n\nGEOæ²¡ææä¾å é¤æåçå½ä»¤ï¼ä½æ¯å ä¸ºGEOçåºå±å®ç°æ¯zsetï¼æä»¥å¯ä»¥åç¨zremå½ä»¤å®ç°å¯¹å°çä½ç½®ä¿¡æ¯çå é¤ã\n\n127.0.0.1:6379> geoadd china:city 116.23 40.22 beijing\n1\n127.0.0.1:6379> zrange china:city 0 -1 # æ¥çå¨é¨çåç´ \néåº\nè¥¿å®\næ·±å³\næ­¦æ±\næ­å·\nä¸æµ·\nbeijing\nåäº¬\n127.0.0.1:6379> zrem china:city beijing # ç§»é¤åç´ \n1\n127.0.0.1:6379> zrem china:city åäº¬ # ç§»é¤åç´ \n1\n127.0.0.1:6379> zrange china:city 0 -1\néåº\nè¥¿å®\næ·±å³\næ­¦æ±\næ­å·\nä¸æµ·\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# HyperLogLog\n\nRedis å¨ 2.8.9 çæ¬æ·»å äº HyperLogLog ç»æã\n\nRedis HyperLogLog æ¯ç¨æ¥ååºæ°ç»è®¡çç®æ³ï¼HyperLogLog çä¼ç¹æ¯ï¼å¨è¾å¥åç´ çæ°éæèä½ç§¯éå¸¸éå¸¸å¤§æ¶ï¼è®¡ç®åºæ°æéçç©ºé´æ»æ¯åºå®çãå¹¶ä¸æ¯å¾å°çã\n\nå¨ Redis éé¢ï¼æ¯ä¸ª HyperLogLog é®åªéè¦è±è´¹ 12 KB åå­ï¼å°±å¯ä»¥è®¡ç®æ¥è¿ 2^64 ä¸ªä¸ååç´ çåºæ°ãè¿åè®¡ç®åºæ°æ¶ï¼åç´ è¶å¤èè´¹åå­å°±è¶å¤çéåå½¢æé²æå¯¹æ¯ã\n\nHyperLogLogåæ¯ä¸ç§ç®æ³ï¼å®æä¾äºä¸ç²¾ç¡®çå»éè®¡æ°æ¹æ¡ã\n\nä¸¾ä¸ªæ å­ï¼åå¦æè¦ç»è®¡ç½é¡µçUVï¼æµè§ç¨æ·æ°éï¼ä¸å¤©ååä¸ä¸ªç¨æ·å¤æ¬¡è®¿é®åªè½ç®ä¸æ¬¡ï¼ï¼ä¼ ç»çè§£å³æ¹æ¡æ¯ä½¿ç¨Setæ¥ä¿å­ç¨æ·idï¼ç¶åç»è®¡Setä¸­çåç´ æ°éæ¥è·åé¡µé¢UVãä½è¿ç§æ¹æ¡åªè½æ¿è½½å°éç¨æ·ï¼ä¸æ¦ç¨æ·æ°éå¤§èµ·æ¥å°±éè¦æ¶èå¤§éçç©ºé´æ¥å­å¨ç¨æ·idãæçç®çæ¯ç»è®¡ç¨æ·æ°éèä¸æ¯ä¿å­ç¨æ·ï¼è¿ç®ç´æ¯ä¸ªååä¸è®¨å¥½çæ¹æ¡ï¼èä½¿ç¨RedisçHyperLogLogæå¤éè¦12kå°±å¯ä»¥ç»è®¡å¤§éçç¨æ·æ°ï¼å°½ç®¡å®å¤§æ¦æ0.81%çéè¯¯çï¼ä½å¯¹äºç»è®¡UVè¿ç§ä¸éè¦å¾ç²¾ç¡®çæ°æ®æ¯å¯ä»¥å¿½ç¥ä¸è®¡çã\n\nä»ä¹æ¯åºæ°ï¼\n\næ¯å¦æ°æ®é {1, 3, 5, 7, 5, 7, 8}ï¼ é£ä¹è¿ä¸ªæ°æ®éçåºæ°éä¸º {1, 3, 5 ,7, 8}, åºæ°(ä¸éå¤åç´ çæ°é)ä¸º5ã\n\nåºæ°ä¼°è®¡å°±æ¯å¨è¯¯å·®å¯æ¥åçèå´åï¼å¿«éè®¡ç®åºæ°ã\n\nåºæ¬å½ä»¤\n\nåºå·   å½ä»¤åæè¿°\n1    [PFADD key element element ...]\n     æ·»å æå®åç´ å° HyperLogLog ä¸­ã\n2    [PFCOUNT key key ...]\n     è¿åç»å® HyperLogLog çåºæ°ä¼°ç®å¼ã\n3    [PFMERGE destkey sourcekey sourcekey ...]\n     å°å¤ä¸ª HyperLogLog åå¹¶ä¸ºä¸ä¸ª HyperLogLogï¼å¹¶éè®¡ç®\n\n127.0.0.1:6379> PFADD mykey a b c d e f g h i j\n1\n127.0.0.1:6379> PFCOUNT mykey\n10\n127.0.0.1:6379> PFADD mykey2 i j z x c v b n m\n1\n127.0.0.1:6379> PFMERGE mykey3 mykey mykey2\nOK\n127.0.0.1:6379> PFCOUNT mykey3\n15\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# BitMap\n\n# ç®ä»\n\nå¨å¼åä¸­ï¼å¯è½ä¼éå°è¿ç§æåµï¼éè¦ç»è®¡ç¨æ·çæäºä¿¡æ¯ï¼å¦æ´»è·æä¸æ´»è·ï¼ç»å½æèä¸ç»å½ï¼åå¦ éè¦è®°å½ç¨æ·ä¸å¹´çæå¡æåµï¼æå¡äºæ¯1ï¼ æ²¡ææå¡æ¯0ï¼å¦æä½¿ç¨æ®éç key/valueå­å¨ï¼åè¦è®°å½ 365æ¡è®°å½ï¼å¦æç¨æ·éå¾å¤§ï¼éè¦çç©ºé´ä¹ä¼å¾å¤§ï¼æä»¥ Redis æä¾äº Bitmap ä½å¾è¿ä¸­æ°æ®ç»æï¼ Bitmap å°±æ¯éè¿æä½äºè¿å¶ä½æ¥è¿è¡è®°å½ï¼å³ä¸º 0 å 1ï¼å¦æè¦è®°å½ 365 å¤©çæå¡æåµï¼ä½¿ç¨ Bitmap è¡¨ç¤ºçå½¢å¼å¤§æ¦å¦ä¸ï¼0101000111000111...........................ï¼è¿æ ·æä»ä¹å¥½å¤å¢ï¼å½ç¶å°±æ¯èçº¦åå­ äºï¼365 å¤©ç¸å½äº 365 bitï¼å 1 å­è = 8 bit , æä»¥ç¸å½äºä½¿ç¨ 46 ä¸ªå­èå³å¯ã\n\nBitMap å°±æ¯éè¿ä¸ä¸ª bit ä½æ¥è¡¨ç¤ºæä¸ªåç´ å¯¹åºçå¼æèç¶æ, å¶ä¸­ç key å°±æ¯å¯¹åºåç´ æ¬èº«ï¼å®éä¸åºå±ä¹æ¯éè¿å¯¹å­ç¬¦ä¸²çæä½æ¥å®ç°ãRedis ä» 2.2 çæ¬ä¹åæ°å¢äºsetbit, getbit, bitcount ç­å ä¸ª bitmap ç¸å³å½ä»¤ã\n\n# æä½\n\n1ãsetbit è®¾ç½®æä½\n\nSETBIT key offset value : è®¾ç½® key çç¬¬ offset ä½ä¸ºvalue (1æ0)\n\nä½¿ç¨ bitmap æ¥è®°å½ä¸è¿°äºä¾ä¸­ä¸å¨çæå¡è®°å½å¦ä¸æç¤ºï¼\n\nå¨ä¸ï¼1ï¼å¨äºï¼0ï¼å¨ä¸ï¼0ï¼å¨åï¼1ï¼å¨äºï¼1ï¼å¨å­ï¼0ï¼å¨å¤©ï¼0 ï¼1 ä¸ºæå¡ï¼0 ä¸ºä¸æå¡ï¼\n\n127.0.0.1:6379> setbit sign 0 1\n0\n127.0.0.1:6379> setbit sign 1 0\n0\n127.0.0.1:6379> setbit sign 2 0\n0\n127.0.0.1:6379> setbit sign 3 1\n0\n127.0.0.1:6379> setbit sign 4 1\n0\n127.0.0.1:6379> setbit sign 5 0\n0\n127.0.0.1:6379> setbit sign 6 0\n0\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n2ãgetbit è·åæä½\n\nGETBIT key offset è·åoffsetè®¾ç½®çå¼ï¼æªè®¾ç½®è¿é»è®¤è¿å0\n\n127.0.0.1:6379> getbit sign 3 # æ¥çå¨åæ¯å¦æå¡\n1\n127.0.0.1:6379> getbit sign 6 # æ¥çå¨ä¸æ¯å¦æå¡\n0\n\n\n1\n2\n3\n4\n\n\n3ãbitcount ç»è®¡æä½\n\nbitcount key [start, end] ç»è®¡ key ä¸ä½ä¸º1çä¸ªæ°\n\nç»è®¡è¿å¨æå¡çè®°å½ï¼å¯ä»¥çå°åªæ3å¤©æ¯æå¡çç¶æï¼\n\n127.0.0.1:6379> bitcount sign\n3\n\n\n1\n2\n',normalizedContent:'# ä¸ç§ç¹æ®æ°æ®ç±»å\n\n\n# geoå°çä½ç½®\n\n# ç®ä»\n\nredis ç geo ç¹æ§å¨ redis 3.2 çæ¬ä¸­æ¨åºï¼ è¿ä¸ªåè½å¯ä»¥å°ç¨æ·ç»å®çå°çä½ç½®ä¿¡æ¯å¨å­èµ·æ¥ï¼ å¹¶å¯¹è¿äºä¿¡æ¯è¿è¡æä½ãæ¥å®ç°è¯¸å¦éè¿ä½ç½®ãæä¸æè¿ç±»ä¾èµäºå°çä½ç½®ä¿¡æ¯çåè½ãgeoçæ°æ®ç±»åä¸º zsetã\n\ngeo çæ°æ®ç»ææ»å±æå­ä¸ªå¸¸ç¨å½ä»¤ï¼geoaddãgeoposãgeodistãgeoradiusã georadiusbymemberãgethash\n\nå®æ¹ææ¡£ï¼https://www.redis.net.cn/order/3685.html\n\n# å¸¸ç¨æä»¤\n\n1ãgeoadd\n\nè¯­æ³ï¼geoadd key longitude latitude member ...\n\nå°ç»å®çç©ºé´åç´ (ç»åº¦ãçº¬åº¦ãåå­)æ·»å å°æå®çé®éé¢ã è¿äºæ°æ®ä¼ä»¥æåºéçå½¢å¼è¢«å¨å­å¨é®éé¢ï¼ä»èä½¿å¾georadiusågeoradiusbymemberè¿æ ·ç å½ä»¤å¯ä»¥å¨ä¹åéè¿ä½ç½®æ¥è¯¢åå¾è¿äºåç´ ã geoaddå½ä»¤ä»¥æ åçx,yæ ¼å¼æ¥ååæ°ï¼æä»¥ç¨æ·å¿é¡»åè¾å¥ç»åº¦ï¼ç¶ååè¾å¥çº¬åº¦ã geoaddè½å¤è®°å½çåæ æ¯æéçï¼éå¸¸æ¥è¿ä¸¤æçåºåæ æ³è¢«ç´¢å¼ã ææçç»åº¦ä»äº-180-180åº¦ä¹é´ï¼ææççº¬åº¦ä»äº-85.05112878 åº¦è³ 85.05112878 åº¦ä¹é´ å½ç¨æ·å°è¯è¾å¥ä¸ä¸ªè¶åºèå´çç»åº¦æèçº¬åº¦æ¶,geoaddå½ä»¤å°è¿åä¸ä¸ªéè¯¯ã\n\næµè¯ï¼ç¾åº¦æç´¢ç»çº¬åº¦æ¥è¯¢ï¼æ¨¡æçå®æ°æ®\n\n127.0.0.1:6379> geoadd china:city 116.23 40.22 åäº¬\n(integer) 1\n127.0.0.1:6379> geoadd china:city 121.48 31.40 ä¸æµ· 113.88 22.55 æ·±å³ 120.21 30.20 æ­å·\n(integer) 3\n127.0.0.1:6379> geoadd china:city 106.54 29.40 éåº 108.93 34.23 è¥¿å® 114.02 30.58 æ­¦æ±\n(integer) 3\n\n\n1\n2\n3\n4\n5\n6\n\n\n2ãgeopos\n\nè¯­æ³ï¼geopos key member [member...]\n\nä»keyéè¿åææç»å®ä½ç½®åç´ çä½ç½®ï¼ç»åº¦åçº¬åº¦ï¼\n\n127.0.0.1:6379> geopos china:city åäº¬\n1) 1) "116.23000055551528931"\n2) "40.2200010338739844"\n127.0.0.1:6379> geopos china:city ä¸æµ· éåº\n1) 1) "121.48000091314315796"\n2) "31.40000025319353938"\n2) 1) "106.54000014066696167"\n2) "29.39999880018641676"\n127.0.0.1:6379> geopos china:city æ°ç\n1) (nil)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n3ãgeodist\n\nè¯­æ³ï¼geodist key member1 member2 [unit]\n\nè¿åä¸¤ä¸ªç»å®ä½ç½®ä¹é´çè·ç¦»ï¼å¦æä¸¤ä¸ªä½ç½®ä¹é´çå¶ä¸­ä¸ä¸ªä¸å­å¨ï¼é£ä¹å½ä»¤è¿åç©ºå¼\n\næå®åä½çåæ°unitå¿é¡»æ¯ä»¥ä¸åä½çå¶ä¸­ä¸ä¸ªï¼\n\n * mè¡¨ç¤ºåä½ä¸ºç±³\n * kmè¡¨ç¤ºåä½ä¸ºåç±³\n * miè¡¨ç¤ºåä½ä¸ºè±é\n * ftè¡¨ç¤ºåä½ä¸ºè±å°º\n\nå¦æç¨æ·æ²¡ææ¾å¼å°æå®åä½åæ°ï¼é£ä¹geodisté»è®¤ä½¿ç¨ ç±³ ä½ä¸ºåä½ã\n\ngeodistå½ä»¤å¨è®¡ç®è·ç¦»æ¶ä¼åè®¾å°çä¸ºå®ç¾ççå½¢ï¼å¨æéæåµä¸ï¼è¿ä¸åè®¾æå¤§ä¼é æ0.5%çè¯¯å·®ã\n\n127.0.0.1:6379> geodist china:city åäº¬ ä¸æµ·\n"1088785.4302"\n127.0.0.1:6379> geodist china:city åäº¬ ä¸æµ· km\n"1088.7854"\n127.0.0.1:6379> geodist china:city éåº åäº¬ km\n"1491.6716"\n\n\n1\n2\n3\n4\n5\n6\n\n\n4ãgeoradius\n\nè¯­æ³ï¼\n\ngeoradius key longitude latitude radius m|km|ft|mi [withcoord][withdist] [withhash][asc|desc][count count]\n\n\n1\n\n\nä»¥ç»å®çç»çº¬åº¦ä¸ºä¸­å¿ï¼ æ¾åºæä¸åå¾åçåç´ \n\néæ°è¿æ¥ redis-cliï¼å¢å åæ° --raw ï¼å¯ä»¥å¼ºå¶è¾åºä¸­æï¼ä¸ç¶ä¼ä¹±ç \n\n127.0.0.1:6379> georadius china:city 100 30 1000 km #ä¹±ç \n1) "\\xe9\\x87\\x8d\\xe5\\xba\\x86"\n2) "\\xe8\\xa5\\xbf\\xe5\\xae\\x89"\n127.0.0.1:6379> exit\n[root@localhost bin]#  redis-cli --raw -p 6379\n# å¨ china:city ä¸­å¯»æ¾åæ  100 30 åå¾ä¸º 1000km çåå¸\n127.0.0.1:6379> georadius china:city 100 30 1000 km\néåº\nè¥¿å®\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nwithdist è¿åä½ç½®åç§°åä¸­å¿è·ç¦»\n\n127.0.0.1:6379> georadius china:city 100 30 1000 km withdist\néåº\n635.2850\nè¥¿å®\n963.3171\n\n\n1\n2\n3\n4\n5\n\n\nwithcoord è¿åä½ç½®åç§°ãç»çº¬åº¦\n\n127.0.0.1:6379> georadius china:city 100 30 1000 km withcoord\néåº\n106.54000014066696167\n29.39999880018641676\nè¥¿å®\n108.92999857664108276\n34.23000121926852302\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nwithdist withcoord è¿åä½ç½®åç§°ãè·ç¦»ãç»çº¬åº¦ï¼count éå®å¯»æ¾ä¸ªæ°\n\n127.0.0.1:6379> georadius china:city 100 30 1000 km withcoord withdist count 1\néåº\n635.2850\n106.54000014066696167\n29.39999880018641676\n127.0.0.1:6379> georadius china:city 100 30 1000 km withcoord withdist count 2\néåº\n635.2850\n106.54000014066696167\n29.39999880018641676\nè¥¿å®\n963.3171\n108.92999857664108276\n34.23000121926852302\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n5ãgeoradiusbymember\n\nè¯­æ³ï¼\n\ngeoradiusbymember key member radius m|km|ft|mi [withcoord][withdist] [withhash][asc|desc][count count]\n\n\n1\n\n\næ¾åºä½äºæå®èå´åçåç´ ï¼ä¸­å¿ç¹æ¯ç±ç»å®çä½ç½®åç´ å³å®\n\n127.0.0.1:6379> georadiusbymember china:city åäº¬ 1000 km\nåäº¬\nè¥¿å®\n127.0.0.1:6379> georadiusbymember china:city ä¸æµ· 400 km\næ­å·\nä¸æµ·\n\n\n1\n2\n3\n4\n5\n6\n\n\n6ãgeohash\n\nè¯­æ³ï¼geohash key member [member...]\n\nredisä½¿ç¨geohashå°äºç»´ç»çº¬åº¦è½¬æ¢ä¸ºä¸ç»´å­ç¬¦ä¸²ï¼å­ç¬¦ä¸²è¶é¿è¡¨ç¤ºä½ç½®æ´ç²¾ç¡®ï¼ä¸¤ä¸ªå­ç¬¦ä¸²è¶ç¸ä¼¼è¡¨ç¤ºè·ç¦»è¶è¿ã\n\n127.0.0.1:6379> geohash china:city åäº¬ éåº\nwx4sucu47r0\nwm5z22h53v0\n127.0.0.1:6379> geohash china:city åäº¬ ä¸æµ·\nwx4sucu47r0\nwtw6sk5n300\n\n\n1\n2\n3\n4\n5\n6\n\n\nzrem\n\ngeoæ²¡ææä¾å é¤æåçå½ä»¤ï¼ä½æ¯å ä¸ºgeoçåºå±å®ç°æ¯zsetï¼æä»¥å¯ä»¥åç¨zremå½ä»¤å®ç°å¯¹å°çä½ç½®ä¿¡æ¯çå é¤ã\n\n127.0.0.1:6379> geoadd china:city 116.23 40.22 beijing\n1\n127.0.0.1:6379> zrange china:city 0 -1 # æ¥çå¨é¨çåç´ \néåº\nè¥¿å®\næ·±å³\næ­¦æ±\næ­å·\nä¸æµ·\nbeijing\nåäº¬\n127.0.0.1:6379> zrem china:city beijing # ç§»é¤åç´ \n1\n127.0.0.1:6379> zrem china:city åäº¬ # ç§»é¤åç´ \n1\n127.0.0.1:6379> zrange china:city 0 -1\néåº\nè¥¿å®\næ·±å³\næ­¦æ±\næ­å·\nä¸æµ·\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# hyperloglog\n\nredis å¨ 2.8.9 çæ¬æ·»å äº hyperloglog ç»æã\n\nredis hyperloglog æ¯ç¨æ¥ååºæ°ç»è®¡çç®æ³ï¼hyperloglog çä¼ç¹æ¯ï¼å¨è¾å¥åç´ çæ°éæèä½ç§¯éå¸¸éå¸¸å¤§æ¶ï¼è®¡ç®åºæ°æéçç©ºé´æ»æ¯åºå®çãå¹¶ä¸æ¯å¾å°çã\n\nå¨ redis éé¢ï¼æ¯ä¸ª hyperloglog é®åªéè¦è±è´¹ 12 kb åå­ï¼å°±å¯ä»¥è®¡ç®æ¥è¿ 2^64 ä¸ªä¸ååç´ çåºæ°ãè¿åè®¡ç®åºæ°æ¶ï¼åç´ è¶å¤èè´¹åå­å°±è¶å¤çéåå½¢æé²æå¯¹æ¯ã\n\nhyperloglogåæ¯ä¸ç§ç®æ³ï¼å®æä¾äºä¸ç²¾ç¡®çå»éè®¡æ°æ¹æ¡ã\n\nä¸¾ä¸ªæ å­ï¼åå¦æè¦ç»è®¡ç½é¡µçuvï¼æµè§ç¨æ·æ°éï¼ä¸å¤©ååä¸ä¸ªç¨æ·å¤æ¬¡è®¿é®åªè½ç®ä¸æ¬¡ï¼ï¼ä¼ ç»çè§£å³æ¹æ¡æ¯ä½¿ç¨setæ¥ä¿å­ç¨æ·idï¼ç¶åç»è®¡setä¸­çåç´ æ°éæ¥è·åé¡µé¢uvãä½è¿ç§æ¹æ¡åªè½æ¿è½½å°éç¨æ·ï¼ä¸æ¦ç¨æ·æ°éå¤§èµ·æ¥å°±éè¦æ¶èå¤§éçç©ºé´æ¥å­å¨ç¨æ·idãæçç®çæ¯ç»è®¡ç¨æ·æ°éèä¸æ¯ä¿å­ç¨æ·ï¼è¿ç®ç´æ¯ä¸ªååä¸è®¨å¥½çæ¹æ¡ï¼èä½¿ç¨redisçhyperloglogæå¤éè¦12kå°±å¯ä»¥ç»è®¡å¤§éçç¨æ·æ°ï¼å°½ç®¡å®å¤§æ¦æ0.81%çéè¯¯çï¼ä½å¯¹äºç»è®¡uvè¿ç§ä¸éè¦å¾ç²¾ç¡®çæ°æ®æ¯å¯ä»¥å¿½ç¥ä¸è®¡çã\n\nä»ä¹æ¯åºæ°ï¼\n\næ¯å¦æ°æ®é {1, 3, 5, 7, 5, 7, 8}ï¼ é£ä¹è¿ä¸ªæ°æ®éçåºæ°éä¸º {1, 3, 5 ,7, 8}, åºæ°(ä¸éå¤åç´ çæ°é)ä¸º5ã\n\nåºæ°ä¼°è®¡å°±æ¯å¨è¯¯å·®å¯æ¥åçèå´åï¼å¿«éè®¡ç®åºæ°ã\n\nåºæ¬å½ä»¤\n\nåºå·   å½ä»¤åæè¿°\n1    [pfadd key element element ...]\n     æ·»å æå®åç´ å° hyperloglog ä¸­ã\n2    [pfcount key key ...]\n     è¿åç»å® hyperloglog çåºæ°ä¼°ç®å¼ã\n3    [pfmerge destkey sourcekey sourcekey ...]\n     å°å¤ä¸ª hyperloglog åå¹¶ä¸ºä¸ä¸ª hyperloglogï¼å¹¶éè®¡ç®\n\n127.0.0.1:6379> pfadd mykey a b c d e f g h i j\n1\n127.0.0.1:6379> pfcount mykey\n10\n127.0.0.1:6379> pfadd mykey2 i j z x c v b n m\n1\n127.0.0.1:6379> pfmerge mykey3 mykey mykey2\nok\n127.0.0.1:6379> pfcount mykey3\n15\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# bitmap\n\n# ç®ä»\n\nå¨å¼åä¸­ï¼å¯è½ä¼éå°è¿ç§æåµï¼éè¦ç»è®¡ç¨æ·çæäºä¿¡æ¯ï¼å¦æ´»è·æä¸æ´»è·ï¼ç»å½æèä¸ç»å½ï¼åå¦ éè¦è®°å½ç¨æ·ä¸å¹´çæå¡æåµï¼æå¡äºæ¯1ï¼ æ²¡ææå¡æ¯0ï¼å¦æä½¿ç¨æ®éç key/valueå­å¨ï¼åè¦è®°å½ 365æ¡è®°å½ï¼å¦æç¨æ·éå¾å¤§ï¼éè¦çç©ºé´ä¹ä¼å¾å¤§ï¼æä»¥ redis æä¾äº bitmap ä½å¾è¿ä¸­æ°æ®ç»æï¼ bitmap å°±æ¯éè¿æä½äºè¿å¶ä½æ¥è¿è¡è®°å½ï¼å³ä¸º 0 å 1ï¼å¦æè¦è®°å½ 365 å¤©çæå¡æåµï¼ä½¿ç¨ bitmap è¡¨ç¤ºçå½¢å¼å¤§æ¦å¦ä¸ï¼0101000111000111...........................ï¼è¿æ ·æä»ä¹å¥½å¤å¢ï¼å½ç¶å°±æ¯èçº¦åå­ äºï¼365 å¤©ç¸å½äº 365 bitï¼å 1 å­è = 8 bit , æä»¥ç¸å½äºä½¿ç¨ 46 ä¸ªå­èå³å¯ã\n\nbitmap å°±æ¯éè¿ä¸ä¸ª bit ä½æ¥è¡¨ç¤ºæä¸ªåç´ å¯¹åºçå¼æèç¶æ, å¶ä¸­ç key å°±æ¯å¯¹åºåç´ æ¬èº«ï¼å®éä¸åºå±ä¹æ¯éè¿å¯¹å­ç¬¦ä¸²çæä½æ¥å®ç°ãredis ä» 2.2 çæ¬ä¹åæ°å¢äºsetbit, getbit, bitcount ç­å ä¸ª bitmap ç¸å³å½ä»¤ã\n\n# æä½\n\n1ãsetbit è®¾ç½®æä½\n\nsetbit key offset value : è®¾ç½® key çç¬¬ offset ä½ä¸ºvalue (1æ0)\n\nä½¿ç¨ bitmap æ¥è®°å½ä¸è¿°äºä¾ä¸­ä¸å¨çæå¡è®°å½å¦ä¸æç¤ºï¼\n\nå¨ä¸ï¼1ï¼å¨äºï¼0ï¼å¨ä¸ï¼0ï¼å¨åï¼1ï¼å¨äºï¼1ï¼å¨å­ï¼0ï¼å¨å¤©ï¼0 ï¼1 ä¸ºæå¡ï¼0 ä¸ºä¸æå¡ï¼\n\n127.0.0.1:6379> setbit sign 0 1\n0\n127.0.0.1:6379> setbit sign 1 0\n0\n127.0.0.1:6379> setbit sign 2 0\n0\n127.0.0.1:6379> setbit sign 3 1\n0\n127.0.0.1:6379> setbit sign 4 1\n0\n127.0.0.1:6379> setbit sign 5 0\n0\n127.0.0.1:6379> setbit sign 6 0\n0\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n2ãgetbit è·åæä½\n\ngetbit key offset è·åoffsetè®¾ç½®çå¼ï¼æªè®¾ç½®è¿é»è®¤è¿å0\n\n127.0.0.1:6379> getbit sign 3 # æ¥çå¨åæ¯å¦æå¡\n1\n127.0.0.1:6379> getbit sign 6 # æ¥çå¨ä¸æ¯å¦æå¡\n0\n\n\n1\n2\n3\n4\n\n\n3ãbitcount ç»è®¡æä½\n\nbitcount key [start, end] ç»è®¡ key ä¸ä½ä¸º1çä¸ªæ°\n\nç»è®¡è¿å¨æå¡çè®°å½ï¼å¯ä»¥çå°åªæ3å¤©æ¯æå¡çç¶æï¼\n\n127.0.0.1:6379> bitcount sign\n3\n\n\n1\n2\n',charsets:{cjk:!0},lastUpdated:"2021/09/11, 2:09:00",lastUpdatedTimestamp:1631327124e3},{title:"Redis - äºå¡",frontmatter:{title:"Redis - äºå¡",date:"2021-05-17T16:13:06.000Z",permalink:"/pages/41f31b/"},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/10.Redis/04.Redis%E4%BA%8B%E5%8A%A1.html",relativePath:"03.æ°æ®åº/10.Redis/04.Redisäºå¡.md",key:"v-6971b032",path:"/pages/41f31b/",headers:[{level:2,title:"Redisäºå¡",slug:"redisäºå¡",normalizedTitle:"redisäºå¡",charIndex:2},{level:3,title:"çè®º",slug:"çè®º",normalizedTitle:"çè®º",charIndex:14},{level:3,title:"å®è·µ",slug:"å®è·µ",normalizedTitle:"å®è·µ",charIndex:609},{level:3,title:"å°ç»",slug:"å°ç»",normalizedTitle:"å°ç»",charIndex:2277}],headersStr:"Redisäºå¡ çè®º å®è·µ å°ç»",content:'# Redisäºå¡\n\n\n# çè®º\n\nRedisäºå¡çæ¦å¿µï¼\n\nRedis äºå¡çæ¬è´¨æ¯ä¸ç»å½ä»¤çéåãäºå¡æ¯æä¸æ¬¡æ§è¡å¤ä¸ªå½ä»¤ï¼ä¸ä¸ªäºå¡ä¸­ææå½ä»¤é½ä¼è¢«åºååãå¨äºå¡æ§è¡è¿ç¨ï¼ä¼æç§é¡ºåºä¸²è¡åæ§è¡éåä¸­çå½ä»¤ï¼å¶ä»å®¢æ·ç«¯æäº¤çå½ä»¤è¯·æ±ä¸ä¼æå¥å°äº å¡æ§è¡å½ä»¤åºåä¸­ã\n\næ»ç»è¯´ï¼redisäºå¡å°±æ¯ä¸æ¬¡æ§ãé¡ºåºæ§ãæä»æ§çæ§è¡ä¸ä¸ªéåä¸­çä¸ç³»åå½ä»¤ã\n\nRedisäºå¡æ²¡æéç¦»çº§å«çæ¦å¿µï¼\n\næ¹éæä½å¨åé EXEC å½ä»¤åè¢«æ¾å¥éåç¼å­ï¼å¹¶ä¸ä¼è¢«å®éæ§è¡ï¼\n\nRedisä¸ä¿è¯åå­æ§ï¼\n\nRedisä¸­ï¼åæ¡å½ä»¤æ¯åå­æ§æ§è¡çï¼ä½äºå¡ä¸ä¿è¯åå­æ§ï¼ä¸æ²¡æåæ»ãäºå¡ä¸­ä»»æå½ä»¤æ§è¡å¤±è´¥ï¼å¶ ä½çå½ä»¤ä»ä¼è¢«æ§è¡ã\n\nRedisäºå¡çä¸ä¸ªé¶æ®µï¼\n\n * å¼å§äºå¡\n * å½ä»¤å¥é\n * æ§è¡äºå¡\n\nRedisäºå¡ç¸å³å½ä»¤ï¼\n\nåºå·   å½ä»¤åæè¿°\n1    DISCARD\n     åæ¶äºå¡ï¼æ¾å¼æ§è¡äºå¡ååçææå½ä»¤ã\n2    EXEC\n     æ§è¡ææäºå¡ååçå½ä»¤ã\n3    MULTI\n     æ è®°ä¸ä¸ªäºå¡åçå¼å§ã\n4    UNWATCH\n     åæ¶ WATCH å½ä»¤å¯¹ææ key ççè§ã\n5    WATCH key [key ...]\n     çè§ä¸ä¸ª(æå¤ä¸ª) key ï¼å¦æå¨äºå¡æ§è¡ä¹åè¿ä¸ª(æè¿äº) key è¢«å¶ä»å½ä»¤ææ¹å¨ï¼é£ä¹äºå¡å°è¢«ææ­ãï¼\n     ç±»ä¼¼ä¹è§é ï¼\n\n\n# å®è·µ\n\næ­£å¸¸æ§è¡\n\n\n\næ¾å¼äºå¡\n\n\n\nè¥å¨äºå¡éåä¸­å­å¨å½ä»¤æ§éè¯¯ï¼ç±»ä¼¼äºjavaç¼è¯æ§éè¯¯ï¼ï¼åæ§è¡EXECå½ä»¤æ¶ï¼ææå½ä»¤é½ä¸ä¼æ§è¡\n\n\n\nè¥å¨äºå¡éåä¸­å­å¨è¯­æ³æ§éè¯¯ï¼ç±»ä¼¼äºjavaç1/0çè¿è¡æ¶å¼å¸¸ï¼ï¼åæ§è¡EXECå½ä»¤æ¶ï¼å¶ä»æ­£ç¡®å½ä»¤ä¼è¢«æ§è¡ï¼éè¯¯å½ä»¤æåºå¼å¸¸ã\n\n\n\nWatch çæ§\n\n * æ²è§éï¼\n   \n   æ²è§é(Pessimistic Lock)ï¼é¡¾åæä¹ï¼å°±æ¯å¾æ²è§ï¼æ¯æ¬¡å»æ¿æ°æ®çæ¶åé½è®¤ä¸ºå«äººä¼ä¿®æ¹ï¼æä»¥æ¯æ¬¡å¨æ¿æ°æ®çæ¶åé½ä¼ä¸éï¼è¿æ ·å«äººæ³æ¿å°è¿ä¸ªæ°æ®å°±ä¼blockç´å°å®æ¿å°éãä¼ ç»çå³ç³»åæ°æ®åºéé¢å°±ç¨å°äºå¾å¤è¿ç§éæºå¶ï¼æ¯å¦è¡éï¼è¡¨éç­ï¼è¯»éï¼åéç­ï¼é½æ¯å¨æä½ä¹ååä¸éã\n\n * ä¹è§éï¼\n   \n   ä¹è§é(Optimistic Lock)ï¼é¡¾åæä¹ï¼å°±æ¯å¾ä¹è§ï¼æ¯æ¬¡å»æ¿æ°æ®çæ¶åé½è®¤ä¸ºå«äººä¸ä¼ä¿®æ¹ï¼æä»¥ä¸ä¼ éãä½æ¯å¨æ´æ°çæ¶åä¼å¤æ­ä¸ä¸åæ­¤æé´å«äººææ²¡æå»æ´æ°è¿ä¸ªæ°æ®ï¼å¯ä»¥ä½¿ç¨çæ¬å·ç­æºå¶ï¼ä¹è§ééç¨äºå¤è¯»çåºç¨ç±»åï¼è¿æ ·å¯ä»¥æé«ååéï¼ä¹è§éç­ç¥ï¼æäº¤çæ¬å¿é¡»å¤§äºè®°å½å½åçæ¬æè½ æ§è¡æ´æ°ã\n\næµè¯ï¼\n\n1ãåå§åä¿¡ç¨å¡å¯ç¨ä½é¢åæ¬ é¢\n\n127.0.0.1:6379> set balance 100\nOK\n127.0.0.1:6379> set debt 0\nOK\n\n\n1\n2\n3\n4\n\n\n2ãä½¿ç¨watchæ£æµbalanceï¼äºå¡æé´balanceæ°æ®æªåå¨ï¼äºå¡æ§è¡æå\n\n127.0.0.1:6379> watch balance\nOK\n127.0.0.1:6379> MULTI\t#å¼å¯äºå¡\nOK\n127.0.0.1:6379> decrby balance 20\t#å¯ç¨ä½é¢-20\nQUEUED\n127.0.0.1:6379> incrby debt 20\t#æ¬ æ¬¾+20\nQUEUED\n127.0.0.1:6379> exec\t#æ§è¡äºå¡\n1) (integer) 80\n2) (integer) 20\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n3ãä½¿ç¨watchæ£æµbalanceï¼è¥äºå¡æé´balanceæ°æ®åå¨ï¼äºå¡æ§è¡å¤±è´¥ï¼\n\n# çªå£ä¸\n127.0.0.1:6379> watch balance\t#çè§balance\nOK\n127.0.0.1:6379> MULTI # æ§è¡å®æ¯åï¼æ§è¡çªå£äºä»£ç æµè¯\nOK\n127.0.0.1:6379> decrby balance 20\nQUEUED\n127.0.0.1:6379> incrby debt 20\nQUEUED\n127.0.0.1:6379> exec # ä¿®æ¹å¤±è´¥ï¼å ä¸ºè¢«çè§çbalanceå¼æ¹å\n(nil)\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nçªå£äº\n\n# çªå£äº\n127.0.0.1:6379> get balance\n"80"\n127.0.0.1:6379> set balance 200\nOK\n\n\n1\n2\n3\n4\n5\n\n\nçªå£ä¸ï¼åºç°é®é¢åæ¾å¼çè§ï¼ç¶åéæ¥ï¼\n\n127.0.0.1:6379> UNWATCH # æ¾å¼çè§ï¼è¿æ¯åæ¶ææççè§\nOK\n127.0.0.1:6379> watch balance\t#çè§\nOK\n127.0.0.1:6379> MULTI\t#äºå¡\nOK\n127.0.0.1:6379> decrby balance 20\nQUEUED\n127.0.0.1:6379> incrby debt 20\nQUEUED\n127.0.0.1:6379> exec # æåï¼\n1) (integer) 180\n2) (integer) 40\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nè¯´æï¼\n\nä¸ä½æ§è¡ EXEC å¼å¯äºå¡çæ§è¡åï¼æ è®ºäºå¡ä½¿ç¨æ§è¡æåï¼ WARCH å¯¹åéççæ§é½å°è¢«åæ¶ã\n\næå½äºå¡æ§è¡å¤±è´¥åï¼ééæ°æ§è¡WATCHå½ä»¤å¯¹åéè¿è¡çæ§ï¼å¹¶å¼å¯æ°çäºå¡è¿è¡æä½ã\n\n\n# å°ç»\n\nwatchæä»¤ç±»ä¼¼äºä¹è§éï¼å¨äºå¡æäº¤æ¶ï¼å¦æwatchçæ§çå¤ä¸ªKEYä¸­ä»»ä½KEYçå¼å·²ç»è¢«å¶ä»å®¢æ·ç«¯æ´æ¹ï¼åä½¿ç¨EXECæ§è¡äºå¡æ¶ï¼äºå¡éåå°ä¸ä¼è¢«æ§è¡ï¼åæ¶è¿åNullmulti-bulkåºç­ä»¥éç¥è°ç¨èäºå¡æ§è¡å¤±è´¥ã',normalizedContent:'# redisäºå¡\n\n\n# çè®º\n\nredisäºå¡çæ¦å¿µï¼\n\nredis äºå¡çæ¬è´¨æ¯ä¸ç»å½ä»¤çéåãäºå¡æ¯æä¸æ¬¡æ§è¡å¤ä¸ªå½ä»¤ï¼ä¸ä¸ªäºå¡ä¸­ææå½ä»¤é½ä¼è¢«åºååãå¨äºå¡æ§è¡è¿ç¨ï¼ä¼æç§é¡ºåºä¸²è¡åæ§è¡éåä¸­çå½ä»¤ï¼å¶ä»å®¢æ·ç«¯æäº¤çå½ä»¤è¯·æ±ä¸ä¼æå¥å°äº å¡æ§è¡å½ä»¤åºåä¸­ã\n\næ»ç»è¯´ï¼redisäºå¡å°±æ¯ä¸æ¬¡æ§ãé¡ºåºæ§ãæä»æ§çæ§è¡ä¸ä¸ªéåä¸­çä¸ç³»åå½ä»¤ã\n\nredisäºå¡æ²¡æéç¦»çº§å«çæ¦å¿µï¼\n\næ¹éæä½å¨åé exec å½ä»¤åè¢«æ¾å¥éåç¼å­ï¼å¹¶ä¸ä¼è¢«å®éæ§è¡ï¼\n\nredisä¸ä¿è¯åå­æ§ï¼\n\nredisä¸­ï¼åæ¡å½ä»¤æ¯åå­æ§æ§è¡çï¼ä½äºå¡ä¸ä¿è¯åå­æ§ï¼ä¸æ²¡æåæ»ãäºå¡ä¸­ä»»æå½ä»¤æ§è¡å¤±è´¥ï¼å¶ ä½çå½ä»¤ä»ä¼è¢«æ§è¡ã\n\nredisäºå¡çä¸ä¸ªé¶æ®µï¼\n\n * å¼å§äºå¡\n * å½ä»¤å¥é\n * æ§è¡äºå¡\n\nredisäºå¡ç¸å³å½ä»¤ï¼\n\nåºå·   å½ä»¤åæè¿°\n1    discard\n     åæ¶äºå¡ï¼æ¾å¼æ§è¡äºå¡ååçææå½ä»¤ã\n2    exec\n     æ§è¡ææäºå¡ååçå½ä»¤ã\n3    multi\n     æ è®°ä¸ä¸ªäºå¡åçå¼å§ã\n4    unwatch\n     åæ¶ watch å½ä»¤å¯¹ææ key ççè§ã\n5    watch key [key ...]\n     çè§ä¸ä¸ª(æå¤ä¸ª) key ï¼å¦æå¨äºå¡æ§è¡ä¹åè¿ä¸ª(æè¿äº) key è¢«å¶ä»å½ä»¤ææ¹å¨ï¼é£ä¹äºå¡å°è¢«ææ­ãï¼\n     ç±»ä¼¼ä¹è§é ï¼\n\n\n# å®è·µ\n\næ­£å¸¸æ§è¡\n\n\n\næ¾å¼äºå¡\n\n\n\nè¥å¨äºå¡éåä¸­å­å¨å½ä»¤æ§éè¯¯ï¼ç±»ä¼¼äºjavaç¼è¯æ§éè¯¯ï¼ï¼åæ§è¡execå½ä»¤æ¶ï¼ææå½ä»¤é½ä¸ä¼æ§è¡\n\n\n\nè¥å¨äºå¡éåä¸­å­å¨è¯­æ³æ§éè¯¯ï¼ç±»ä¼¼äºjavaç1/0çè¿è¡æ¶å¼å¸¸ï¼ï¼åæ§è¡execå½ä»¤æ¶ï¼å¶ä»æ­£ç¡®å½ä»¤ä¼è¢«æ§è¡ï¼éè¯¯å½ä»¤æåºå¼å¸¸ã\n\n\n\nwatch çæ§\n\n * æ²è§éï¼\n   \n   æ²è§é(pessimistic lock)ï¼é¡¾åæä¹ï¼å°±æ¯å¾æ²è§ï¼æ¯æ¬¡å»æ¿æ°æ®çæ¶åé½è®¤ä¸ºå«äººä¼ä¿®æ¹ï¼æä»¥æ¯æ¬¡å¨æ¿æ°æ®çæ¶åé½ä¼ä¸éï¼è¿æ ·å«äººæ³æ¿å°è¿ä¸ªæ°æ®å°±ä¼blockç´å°å®æ¿å°éãä¼ ç»çå³ç³»åæ°æ®åºéé¢å°±ç¨å°äºå¾å¤è¿ç§éæºå¶ï¼æ¯å¦è¡éï¼è¡¨éç­ï¼è¯»éï¼åéç­ï¼é½æ¯å¨æä½ä¹ååä¸éã\n\n * ä¹è§éï¼\n   \n   ä¹è§é(optimistic lock)ï¼é¡¾åæä¹ï¼å°±æ¯å¾ä¹è§ï¼æ¯æ¬¡å»æ¿æ°æ®çæ¶åé½è®¤ä¸ºå«äººä¸ä¼ä¿®æ¹ï¼æä»¥ä¸ä¼ éãä½æ¯å¨æ´æ°çæ¶åä¼å¤æ­ä¸ä¸åæ­¤æé´å«äººææ²¡æå»æ´æ°è¿ä¸ªæ°æ®ï¼å¯ä»¥ä½¿ç¨çæ¬å·ç­æºå¶ï¼ä¹è§ééç¨äºå¤è¯»çåºç¨ç±»åï¼è¿æ ·å¯ä»¥æé«ååéï¼ä¹è§éç­ç¥ï¼æäº¤çæ¬å¿é¡»å¤§äºè®°å½å½åçæ¬æè½ æ§è¡æ´æ°ã\n\næµè¯ï¼\n\n1ãåå§åä¿¡ç¨å¡å¯ç¨ä½é¢åæ¬ é¢\n\n127.0.0.1:6379> set balance 100\nok\n127.0.0.1:6379> set debt 0\nok\n\n\n1\n2\n3\n4\n\n\n2ãä½¿ç¨watchæ£æµbalanceï¼äºå¡æé´balanceæ°æ®æªåå¨ï¼äºå¡æ§è¡æå\n\n127.0.0.1:6379> watch balance\nok\n127.0.0.1:6379> multi\t#å¼å¯äºå¡\nok\n127.0.0.1:6379> decrby balance 20\t#å¯ç¨ä½é¢-20\nqueued\n127.0.0.1:6379> incrby debt 20\t#æ¬ æ¬¾+20\nqueued\n127.0.0.1:6379> exec\t#æ§è¡äºå¡\n1) (integer) 80\n2) (integer) 20\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n3ãä½¿ç¨watchæ£æµbalanceï¼è¥äºå¡æé´balanceæ°æ®åå¨ï¼äºå¡æ§è¡å¤±è´¥ï¼\n\n# çªå£ä¸\n127.0.0.1:6379> watch balance\t#çè§balance\nok\n127.0.0.1:6379> multi # æ§è¡å®æ¯åï¼æ§è¡çªå£äºä»£ç æµè¯\nok\n127.0.0.1:6379> decrby balance 20\nqueued\n127.0.0.1:6379> incrby debt 20\nqueued\n127.0.0.1:6379> exec # ä¿®æ¹å¤±è´¥ï¼å ä¸ºè¢«çè§çbalanceå¼æ¹å\n(nil)\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nçªå£äº\n\n# çªå£äº\n127.0.0.1:6379> get balance\n"80"\n127.0.0.1:6379> set balance 200\nok\n\n\n1\n2\n3\n4\n5\n\n\nçªå£ä¸ï¼åºç°é®é¢åæ¾å¼çè§ï¼ç¶åéæ¥ï¼\n\n127.0.0.1:6379> unwatch # æ¾å¼çè§ï¼è¿æ¯åæ¶ææççè§\nok\n127.0.0.1:6379> watch balance\t#çè§\nok\n127.0.0.1:6379> multi\t#äºå¡\nok\n127.0.0.1:6379> decrby balance 20\nqueued\n127.0.0.1:6379> incrby debt 20\nqueued\n127.0.0.1:6379> exec # æåï¼\n1) (integer) 180\n2) (integer) 40\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nè¯´æï¼\n\nä¸ä½æ§è¡ exec å¼å¯äºå¡çæ§è¡åï¼æ è®ºäºå¡ä½¿ç¨æ§è¡æåï¼ warch å¯¹åéççæ§é½å°è¢«åæ¶ã\n\næå½äºå¡æ§è¡å¤±è´¥åï¼ééæ°æ§è¡watchå½ä»¤å¯¹åéè¿è¡çæ§ï¼å¹¶å¼å¯æ°çäºå¡è¿è¡æä½ã\n\n\n# å°ç»\n\nwatchæä»¤ç±»ä¼¼äºä¹è§éï¼å¨äºå¡æäº¤æ¶ï¼å¦æwatchçæ§çå¤ä¸ªkeyä¸­ä»»ä½keyçå¼å·²ç»è¢«å¶ä»å®¢æ·ç«¯æ´æ¹ï¼åä½¿ç¨execæ§è¡äºå¡æ¶ï¼äºå¡éåå°ä¸ä¼è¢«æ§è¡ï¼åæ¶è¿ånullmulti-bulkåºç­ä»¥éç¥è°ç¨èäºå¡æ§è¡å¤±è´¥ã',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"Redis - Java",frontmatter:{title:"Redis - Java",date:"2021-05-17T16:13:40.000Z",permalink:"/pages/216cfe/"},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/10.Redis/05.Redis%20-%20Java.html",relativePath:"03.æ°æ®åº/10.Redis/05.Redis - Java.md",key:"v-597ac620",path:"/pages/216cfe/",headers:[{level:2,title:"Jedis",slug:"jedis",normalizedTitle:"jedis",charIndex:2},{level:3,title:"æµè¯ping",slug:"æµè¯ping",normalizedTitle:"æµè¯ping",charIndex:82},{level:3,title:"å¸¸ç¨API",slug:"å¸¸ç¨api",normalizedTitle:"å¸¸ç¨api",charIndex:786},{level:3,title:"äºå¡",slug:"äºå¡",normalizedTitle:"äºå¡",charIndex:11810},{level:2,title:"SpringBootæ´å",slug:"springbootæ´å",normalizedTitle:"springbootæ´å",charIndex:12899},{level:3,title:"åºç¡ä½¿ç¨",slug:"åºç¡ä½¿ç¨",normalizedTitle:"åºç¡ä½¿ç¨",charIndex:12916},{level:3,title:"åºååconfig",slug:"åºååconfig",normalizedTitle:"åºååconfig",charIndex:13794},{level:3,title:"rediså·¥å·ç±»",slug:"rediså·¥å·ç±»",normalizedTitle:"rediså·¥å·ç±»",charIndex:17823}],headersStr:"Jedis æµè¯ping å¸¸ç¨API äºå¡ SpringBootæ´å åºç¡ä½¿ç¨ åºååconfig rediså·¥å·ç±»",content:'# Jedis\n\nJedisæ¯Rediså®æ¹æ¨èçJavaè¿æ¥å¼åå·¥å·ãè¦å¨Javaå¼åä¸­ä½¿ç¨å¥½Redisä¸­é´ä»¶ï¼å¿é¡»å¯¹Jedisçææè½ åææ¼äº®çä»£ç \n\n\n# æµè¯ping\n\nåææå¼äºredisæå¡ã\n\n1ãæ°å»ºä¸ä¸ªæ®éçMavené¡¹ç®\n\n2ãå¯¼å¥redisçä¾èµï¼\n\n<dependencies>\n    \x3c!-- https://mvnrepository.com/artifact/redis.clients/jedis --\x3e\n    <dependency>\n        <groupId>redis.clients</groupId>\n        <artifactId>jedis</artifactId>\n        <version>3.5.2</version>\n    </dependency>\n    <dependency>\n        <groupId>com.alibaba</groupId>\n        <artifactId>fastjson</artifactId>\n        <version>1.2.75</version>\n    </dependency>\n</dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n3ãç¼åæµè¯ä»£ç \n\npublic class Ping {\n    public static void main(String[] args) {\n        Jedis jedis = new Jedis("127.0.0.1", 6379);\n        //æ¥çæå¡æ¯å¦è¿è¡\n        System.out.println(jedis.ping());\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# å¸¸ç¨API\n\nåºæ¬æä½\n\npublic static void main(String[] args) {\n    Jedis jedis = new Jedis("127.0.0.1", 6379);\n\n    //éªè¯å¯ç ï¼å¦ææ²¡æè®¾ç½®å¯ç è¿æ®µä»£ç çç¥\n    // jedis.auth("password");\n\n    jedis.connect(); //è¿æ¥\n    jedis.disconnect(); //æ­å¼è¿æ¥\n    jedis.flushAll(); //æ¸ç©ºææçkey\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nå¯¹keyæä½çå½ä»¤\n\npublic class TestKey {\n    public static void main(String[] args) {\n        Jedis jedis = new Jedis("127.0.0.1", 6379);\n        \n        System.out.println("æ¸ç©ºæ°æ®ï¼" + jedis.flushDB());\n        System.out.println("å¤æ­æä¸ªé®æ¯å¦å­å¨ï¼" + jedis.exists("username"));\n        System.out.println("æ°å¢<\'username\',\'zhiyuan\'>çé®å¼å¯¹ï¼" + jedis.set("username", "zhiyuan"));\n        System.out.println("æ°å¢<\'password\',\'password\'>çé®å¼å¯¹ï¼" + jedis.set("password", "password"));\n\n        System.out.print("ç³»ç»ä¸­ææçé®å¦ä¸ï¼");\n        Set<String> keys = jedis.keys("*");\n        System.out.println(keys);\n\n        System.out.println("å é¤é®password:" + jedis.del("password"));\n        System.out.println("å¤æ­é®passwordæ¯å¦å­å¨ï¼" + jedis.exists("password"));\n        System.out.println("æ¥çé®usernameæå­å¨çå¼çç±»åï¼" + jedis.type("username"));\n        System.out.println("éæºè¿åkeyç©ºé´çä¸ä¸ªï¼" + jedis.randomKey());\n        System.out.println("éå½åkeyï¼" + jedis.rename("username", "name"));\n        System.out.println("ååºæ¹åçnameï¼" + jedis.get("name"));\n        System.out.println("æç´¢å¼æ¥è¯¢ï¼" + jedis.select(0));\n        System.out.println("å é¤å½åéæ©æ°æ®åºä¸­çæækeyï¼" + jedis.flushDB());\n        System.out.println("è¿åå½åæ°æ®åºä¸­keyçæ°ç®ï¼" + jedis.dbSize());\n        System.out.println("å é¤æææ°æ®åºä¸­çæækeyï¼" + jedis.flushAll());\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\nå¯¹Stringæä½çå½ä»¤\n\npublic class TestString {\n    public static void main(String[] args) {\n        Jedis jedis = new Jedis("127.0.0.1", 6379);\n\n        jedis.flushDB();\n        System.out.println("===========å¢å æ°æ®===========");\n        System.out.println(jedis.set("key1", "value1"));\n        System.out.println(jedis.set("key2", "value2"));\n        System.out.println(jedis.set("key3", "value3"));\n\n        System.out.println("å é¤é®key2:" + jedis.del("key2"));\n        System.out.println("è·åé®key2:" + jedis.get("key2"));\n        System.out.println("ä¿®æ¹key1:" + jedis.set("key1", "value1Changed"));\n        System.out.println("è·åkey1çå¼ï¼" + jedis.get("key1"));\n        System.out.println("å¨key3åé¢å å¥å¼ï¼" + jedis.append("key3", "End"));\n        System.out.println("key3çå¼ï¼" + jedis.get("key3"));\n        System.out.println("å¢å å¤ä¸ªé®å¼å¯¹ï¼" + jedis.mset("key01", "value01", "key02", "value02", "key03", "value03"));\n        System.out.println("è·åå¤ä¸ªé®å¼å¯¹ï¼" + jedis.mget("key01", "key02", "key03"));\n        System.out.println("è·åå¤ä¸ªé®å¼å¯¹ï¼" + jedis.mget("key01", "key02", "key03", "key04"));\n        System.out.println("å é¤å¤ä¸ªé®å¼å¯¹ï¼" + jedis.del("key01", "key02"));\n        System.out.println("è·åå¤ä¸ªé®å¼å¯¹ï¼" + jedis.mget("key01", "key02", "key03"));\n\n        jedis.flushDB();\n\n        System.out.println("===========æ°å¢é®å¼å¯¹é²æ­¢è¦çååå¼==============");\n        System.out.println(jedis.setnx("key1", "value1"));\n        System.out.println(jedis.setnx("key2", "value2"));\n        System.out.println(jedis.setnx("key2", "value2-new"));\n        System.out.println(jedis.get("key1"));\n        System.out.println(jedis.get("key2"));\n        System.out.println("===========æ°å¢é®å¼å¯¹å¹¶è®¾ç½®æææ¶é´=============");\n        System.out.println(jedis.setex("key3", 2, "value3"));\n        System.out.println(jedis.get("key3"));\n        try {\n            TimeUnit.SECONDS.sleep(3);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        System.out.println(jedis.get("key3"));\n        System.out.println("===========è·ååå¼ï¼æ´æ°ä¸ºæ°å¼==========");\n        System.out.println(jedis.getSet("key2", "key2GetSet"));\n        System.out.println(jedis.get("key2"));\n        System.out.println("è·å¾key2çå¼çå­ä¸²ï¼" + jedis.getrange("key2", 2,4));\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n\n\nå¯¹Listæä½å½ä»¤\n\npublic class TestList {\n    public static void main(String[] args) {\n        Jedis jedis = new Jedis("127.0.0.1", 6379);\n        jedis.flushDB();\n        System.out.println("===========æ·»å ä¸ä¸ªlist===========");\n        jedis.lpush("collections", "ArrayList", "Vector", "Stack", "HashMap", "WeakHashMap", "LinkedHashMap");\n        jedis.lpush("collections", "HashSet");\n        jedis.lpush("collections", "TreeSet");\n        jedis.lpush("collections", "TreeMap");\n        System.out.println("collectionsçåå®¹ï¼" + jedis.lrange("collections", 0, -1));//-1ä»£è¡¨åæ°ç¬¬ä¸ä¸ªåç´ ï¼-2ä»£è¡¨åæ°ç¬¬äºä¸ªåç´ ,endä¸º-1è¡¨ç¤ºæ¥è¯¢å¨é¨\n        System.out.println("collectionsåºé´0-3çåç´ ï¼" + jedis.lrange("collections", 0, 3));\n        System.out.println("===============================");\n        // å é¤åè¡¨æå®çå¼ ï¼ç¬¬äºä¸ªåæ°ä¸ºå é¤çä¸ªæ°ï¼æéå¤æ¶ï¼ï¼åaddè¿å»çå¼åè¢«å ï¼ç±»ä¼¼äºåºæ \n        System.out.println("å é¤æå®åç´ ä¸ªæ°ï¼" + jedis.lrem("collections", 2,\n                "HashMap"));\n        System.out.println("collectionsçåå®¹ï¼" + jedis.lrange("collections",\n                0, -1));\n        System.out.println("å é¤ä¸è¡¨0-3åºé´ä¹å¤çåç´ ï¼" + jedis.ltrim("collections", 0, 3));\n        System.out.println("collectionsçåå®¹ï¼" + jedis.lrange("collections",\n                0, -1));\n        System.out.println("collectionsåè¡¨åºæ ï¼å·¦ç«¯ï¼ï¼" + jedis.lpop("collections"));\n        System.out.println("collectionsçåå®¹ï¼" + jedis.lrange("collections", 0, -1));\n        System.out.println("collectionsæ·»å åç´ ï¼ä»åè¡¨å³ç«¯ï¼ä¸lpushç¸å¯¹åºï¼" + jedis.rpush("collections", "EnumMap"));\n        System.out.println("collectionsçåå®¹ï¼" + jedis.lrange("collections",\n                0, -1));\n        System.out.println("collectionsåè¡¨åºæ ï¼å³ç«¯ï¼ï¼" + jedis.rpop("collections"));\n        System.out.println("collectionsçåå®¹ï¼" + jedis.lrange("collections",\n                0, -1));\n        System.out.println("ä¿®æ¹collectionsæå®ä¸æ 1çåå®¹ï¼" + jedis.lset("collections", 1, "LinkedArrayList"));\n        System.out.println("collectionsçåå®¹ï¼" + jedis.lrange("collections",\n                0, -1));\n        System.out.println("===============================");\n        System.out.println("collectionsçé¿åº¦ï¼" + jedis.llen("collections"));\n        System.out.println("è·åcollectionsä¸æ ä¸º2çåç´ ï¼" + jedis.lindex("collections", 2));\n        System.out.println("===============================");\n        jedis.lpush("sortedList", "3", "6", "2", "0", "7", "4");\n        System.out.println("sortedListæåºåï¼" + jedis.lrange("sortedList", 0,\n                -1));\n        System.out.println(jedis.sort("sortedList"));\n        System.out.println("sortedListæåºåï¼" + jedis.lrange("sortedList", 0, -1));\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\nå¯¹Setçæä½å½ä»¤\n\npublic class TestSet {\n    public static void main(String[] args) {\n        Jedis jedis = new Jedis("127.0.0.1", 6379);\n        jedis.flushDB();\n        System.out.println("============åéåä¸­æ·»å åç´ ï¼ä¸éå¤ï¼============");\n        System.out.println(jedis.sadd("eleSet", "e1", "e2", "e4", "e3", "e0", "e8", "e7", "e5"));\n        System.out.println(jedis.sadd("eleSet", "e6"));\n        System.out.println(jedis.sadd("eleSet", "e6"));\n        System.out.println("eleSetçææåç´ ä¸ºï¼" + jedis.smembers("eleSet"));\n        System.out.println("å é¤ä¸ä¸ªåç´ e0ï¼" + jedis.srem("eleSet", "e0"));\n\n        System.out.println("eleSetçææåç´ ä¸ºï¼" + jedis.smembers("eleSet"));\n        System.out.println("å é¤ä¸¤ä¸ªåç´ e7åe6ï¼" + jedis.srem("eleSet", "e7", "e6"));\n        System.out.println("eleSetçææåç´ ä¸ºï¼" + jedis.smembers("eleSet"));\n        System.out.println("éæºçç§»é¤éåä¸­çä¸ä¸ªåç´ ï¼" + jedis.spop("eleSet"));\n        System.out.println("éæºçç§»é¤éåä¸­çä¸ä¸ªåç´ ï¼" + jedis.spop("eleSet"));\n        System.out.println("eleSetçææåç´ ä¸ºï¼" + jedis.smembers("eleSet"));\n        System.out.println("eleSetä¸­åå«åç´ çä¸ªæ°ï¼" + jedis.scard("eleSet"));\n        System.out.println("e3æ¯å¦å¨eleSetä¸­ï¼" + jedis.sismember("eleSet", "e3"));\n        System.out.println("e1æ¯å¦å¨eleSetä¸­ï¼" + jedis.sismember("eleSet", "e1"));\n        System.out.println("e1æ¯å¦å¨eleSetä¸­ï¼" + jedis.sismember("eleSet", "e5"));\n        System.out.println("=================================");\n        System.out.println(jedis.sadd("eleSet1", "e1", "e2", "e4", "e3", "e0", "e8", "e7", "e5"));\n        System.out.println(jedis.sadd("eleSet2","e1", "e2", "e4", "e3", "e0", "e8"));\n        System.out.println("å°eleSet1ä¸­å é¤e1å¹¶å­å¥eleSet3ä¸­ï¼" + jedis.smove("eleSet1", "eleSet3", "e1"));//ç§»å°éååç´ \n        System.out.println("å°eleSet1ä¸­å é¤e2å¹¶å­å¥eleSet3ä¸­ï¼" + jedis.smove("eleSet1", "eleSet3", "e2"));\n        System.out.println("eleSet1ä¸­çåç´ ï¼" + jedis.smembers("eleSet1"));\n        System.out.println("eleSet3ä¸­çåç´ ï¼" + jedis.smembers("eleSet3"));\n        System.out.println("============éåè¿ç®=================");\n        System.out.println("eleSet1ä¸­çåç´ ï¼" + jedis.smembers("eleSet1"));\n        System.out.println("eleSet2ä¸­çåç´ ï¼" + jedis.smembers("eleSet2"));\n        System.out.println("eleSet1åeleSet2çäº¤é:" + jedis.sinter("eleSet1", "eleSet2"));\n        System.out.println("eleSet1åeleSet2çå¹¶é:" + jedis.sunion("eleSet1", "eleSet2"));\n        System.out.println("eleSet1åeleSet2çå·®é:" + jedis.sdiff("eleSet1", "eleSet2"));//eleSet1ä¸­æï¼eleSet2ä¸­æ²¡æ\n        jedis.sinterstore("eleSet4", "eleSet1", "eleSet2");//æ±äº¤éå¹¶å°äº¤éä¿å­å°dstkeyçéå\n        System.out.println("eleSet4ä¸­çåç´ ï¼" + jedis.smembers("eleSet4"));\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\nå¯¹Hashçæä½å½ä»¤\n\npublic class TestHash {\n    public static void main(String[] args) {\n        Jedis jedis = new Jedis("127.0.0.1", 6379);\n        jedis.flushDB();\n        Map<String, String> map = new HashMap<>();\n        map.put("key1", "value1");\n        map.put("key2", "value2");\n        map.put("key3", "value3");\n        map.put("key4", "value4");\n        //æ·»å åç§°ä¸ºhashï¼keyï¼çhashåç´ \n        jedis.hmset("hash", map);\n        //ååç§°ä¸ºhashçhashä¸­æ·»å keyä¸ºkey5ï¼valueä¸ºvalue5åç´ \n        jedis.hset("hash", "key5", "value5");\n        System.out.println("æ£åhashçææé®å¼å¯¹ä¸ºï¼" + jedis.hgetAll("hash"));//return Map<String,String>\n\n        System.out.println("æ£åhashçææé®ä¸ºï¼" + jedis.hkeys("hash"));//returnSet<String>\n        System.out.println("æ£åhashçææå¼ä¸ºï¼" + jedis.hvals("hash"));//returnList<String>\n        System.out.println("å°key6ä¿å­çå¼å ä¸ä¸ä¸ªæ´æ°ï¼å¦ækey6ä¸å­å¨åæ·»å key6ï¼" + jedis.hincrBy("hash", "key6", 6));\n        System.out.println("æ£åhashçææé®å¼å¯¹ä¸ºï¼" + jedis.hgetAll("hash"));\n        System.out.println("å°key6ä¿å­çå¼å ä¸ä¸ä¸ªæ´æ°ï¼å¦ækey6ä¸å­å¨åæ·»å key6ï¼" + jedis.hincrBy("hash", "key6", 3));\n        System.out.println("æ£åhashçææé®å¼å¯¹ä¸ºï¼" + jedis.hgetAll("hash"));\n        System.out.println("å é¤ä¸ä¸ªæèå¤ä¸ªé®å¼å¯¹ï¼" + jedis.hdel("hash", "key2"));\n        System.out.println("æ£åhashçææé®å¼å¯¹ä¸ºï¼" + jedis.hgetAll("hash"));\n        System.out.println("æ£åhashä¸­é®å¼å¯¹çä¸ªæ°ï¼" + jedis.hlen("hash"));\n        System.out.println("å¤æ­hashä¸­æ¯å¦å­å¨key2ï¼" + jedis.hexists("hash", "key2"));\n        System.out.println("å¤æ­hashä¸­æ¯å¦å­å¨key3ï¼" + jedis.hexists("hash", "key3"));\n        System.out.println("è·åhashä¸­çå¼ï¼" + jedis.hmget("hash", "key3"));\n        System.out.println("è·åhashä¸­çå¼ï¼" + jedis.hmget("hash", "key3", "key4"));\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n\n# äºå¡\n\npublic class TestMulti {\n    public static void main(String[] args) {\n        //åå»ºå®¢æ·ç«¯è¿æ¥æå¡ç«¯ï¼redisæå¡ç«¯éè¦è¢«å¼å¯\n        Jedis jedis = new Jedis("127.0.0.1", 6379);\n        jedis.flushDB();\n        JSONObject jsonObject = new JSONObject();\n        jsonObject.put("hello", "world");\n        jsonObject.put("name", "java");\n        //å¼å¯äºå¡\n        Transaction multi = jedis.multi();\n        String result = jsonObject.toJSONString();\n        try {\n            //årediså­å¥ä¸æ¡æ°æ®\n            multi.set("json", result);\n            //åå­å¥ä¸æ¡æ°æ®\n            multi.set("json2", result);\n            //è¿éå¼åäºå¼å¸¸ï¼ç¨0ä½ä¸ºè¢«é¤æ°\n            int i = 100 / 0;\n            //å¦ææ²¡æå¼åå¼å¸¸ï¼æ§è¡è¿å¥éåçå½ä»¤\n            multi.exec();\n        } catch (Exception e) {\n            e.printStackTrace();\n            //å¦æåºç°å¼å¸¸ï¼åæ»\n            multi.discard();\n        } finally {\n            System.out.println(jedis.get("json"));\n            System.out.println(jedis.get("json2"));\n            //æç»å³é­å®¢æ·ç«¯\n            jedis.close();\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n\n# SpringBootæ´å\n\n\n# åºç¡ä½¿ç¨\n\næ¦è¿°ï¼\n\nå¨SpringBootä¸­ä¸è¬ä½¿ç¨RedisTemplateæä¾çæ¹æ³æ¥æä½Redisãé£ä¹ä½¿ç¨SpringBootæ´åRediséè¦ é£äºæ­¥éª¤å¢ã\n\n1ã JedisPoolConfig (è¿ä¸ªæ¯éç½®è¿æ¥æ± )\n\n2ã RedisConnectionFactory è¿ä¸ªæ¯éç½®è¿æ¥ä¿¡æ¯ï¼è¿éçRedisConnectionFactoryæ¯ä¸ä¸ªæ¥å£ï¼æä»¬éè¦ä½¿ç¨å®çå®ç°ç±»ï¼å¨SpringD Data Redisæ¹æ¡ä¸­æä¾äºä»¥ä¸åç§å·¥åæ¨¡åï¼\n\n * JredisConnectionFactory\n * JedisConnectionFactory\n * LettuceConnectionFactory\n * SrpConnectionFactory\n\n3ã RedisTemplate åºæ¬æä½\n\nå¯¼å¥ä¾èµ\n\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-data-redis</artifactId>\n</dependency>\n\n\n1\n2\n3\n4\n\n\nè¯´æï¼å¨springboot2.xä¹åï¼åæ¥ä½¿ç¨çjedisè¢«æ¿æ¢ælettuce\n\nyamléç½®\n\nspring:\n  redis:\n    host: 127.0.0.1\n    port: 6379\n\n\n1\n2\n3\n4\n\n\næµè¯ç±»ä¸­æµè¯\n\n@Autowired\nprivate RedisTemplate<String, String> redisTemplate;\n\n@Test\nvoid contextLoads() {\n    redisTemplate.opsForValue().set("myKey", "myValue");\n    System.out.println(redisTemplate.opsForValue().get("myKey"));\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# åºååconfig\n\nåå»ºspringbootæ°é¡¹ç®ï¼å®è£ä¸é¢æ­¥éª¤å¯¼å¥ä¾èµ\n\n1ãåæ RedisAutoConfiguration èªå¨éç½®ç±»\n\n@Configuration(proxyBeanMethods = false)\n@ConditionalOnClass(RedisOperations.class)\n@EnableConfigurationProperties(RedisProperties.class)\n@Import({ LettuceConnectionConfiguration.class, JedisConnectionConfiguration.class })\npublic class RedisAutoConfiguration {\n\n   @Bean\n   @ConditionalOnMissingBean(name = "redisTemplate")\n   @ConditionalOnSingleCandidate(RedisConnectionFactory.class)\n   public RedisTemplate<Object, Object> redisTemplate(RedisConnectionFactory redisConnectionFactory) {\n      RedisTemplate<Object, Object> template = new RedisTemplate<>();\n      template.setConnectionFactory(redisConnectionFactory);\n      return template;\n   }\n\n   @Bean\n   @ConditionalOnMissingBean\n   @ConditionalOnSingleCandidate(RedisConnectionFactory.class)\n   public StringRedisTemplate stringRedisTemplate(RedisConnectionFactory redisConnectionFactory) {\n      StringRedisTemplate template = new StringRedisTemplate();\n      template.setConnectionFactory(redisConnectionFactory);\n      return template;\n   }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\néè¿æºç å¯ä»¥çåºï¼SpringBootèªå¨å¸®æä»¬å¨å®¹å¨ä¸­çæäºä¸ä¸ªRedisTemplateåä¸ä¸ªStringRedisTemplateã\n\nä½æ¯ï¼è¿ä¸ªRedisTemplateçæ³åæ¯ï¼åä»£ç ä¸æ¹ä¾¿ï¼éè¦åå¥½å¤ç±»åè½¬æ¢çä»£ç ï¼æä»¬éè¦ä¸ä¸ªæ³åä¸ºå½¢å¼çRedisTemplateã\n\nå¹¶ä¸ï¼è¿ä¸ªRedisTemplateæ²¡æè®¾ç½®æ°æ®å­å¨Redisæ¶ï¼keyåvalueçåºååæ¹å¼ã\n\nçå°è¿ä¸ª@ConditionalOnMissingBeanæ³¨è§£åï¼å°±ç¥éå¦æSpringå®¹å¨ä¸­æäºRedisTemplateå¯¹è±¡äºï¼ è¿ä¸ªèªå¨éç½®çRedisTemplateä¸ä¼å®ä¾åãå æ­¤æä»¬å¯ä»¥ç´æ¥èªå·±åä¸ªéç½®ç±»ï¼éç½® RedisTemplateã\n\nç¨è¿ä¸ªéç½®æä»¬ä¸å¯ä»¥å­å¨å¯¹è±¡ï¼å¦åä¼æ¥SerializationExceptionï¼å¤§å®¶å¯èªå·±è¯è¯\n\n2ãæ¢ç¶èªå¨éç½®ä¸å¥½ç¨ï¼å°±éæ°éç½®ä¸ä¸ªRedisTemplate\n\npackage com.oddfar.config;\n\nimport com.fasterxml.jackson.annotation.JsonAutoDetect;\nimport com.fasterxml.jackson.annotation.PropertyAccessor;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.jsontype.impl.LaissezFaireSubTypeValidator;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.redis.connection.RedisConnectionFactory;\nimport org.springframework.data.redis.core.RedisTemplate;\nimport org.springframework.data.redis.serializer.Jackson2JsonRedisSerializer;\nimport org.springframework.data.redis.serializer.StringRedisSerializer;\n\n@Configuration\npublic class RedisConfig {\n    @Bean\n    public RedisTemplate<String, Object> redisTemplate(RedisConnectionFactory factory) {\n        RedisTemplate<String, Object> template = new RedisTemplate<String, Object>();\n        template.setConnectionFactory(factory);\n        Jackson2JsonRedisSerializer jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer(Object.class);\n        ObjectMapper om = new ObjectMapper();\n        om.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);\n//        om.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL); //æ­¤æ¹æ³å·²è¿æ\n        //æ°æ¹æ³\n        om.activateDefaultTyping(LaissezFaireSubTypeValidator.instance, ObjectMapper.DefaultTyping.NON_FINAL);\n        jackson2JsonRedisSerializer.setObjectMapper(om);\n        StringRedisSerializer stringRedisSerializer = new StringRedisSerializer();\n\n        // keyéç¨Stringçåºååæ¹å¼\n        template.setKeySerializer(stringRedisSerializer);\n        // hashçkeyä¹éç¨Stringçåºååæ¹å¼\n        template.setHashKeySerializer(stringRedisSerializer);\n        // valueåºååæ¹å¼éç¨jackson\n        template.setValueSerializer(jackson2JsonRedisSerializer);\n        // hashçvalueåºååæ¹å¼éç¨jackson\n        template.setHashValueSerializer(jackson2JsonRedisSerializer);\n        template.afterPropertiesSet();\n\n        return template;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n\n\nåå»ºUserå¯¹è±¡ï¼nameåage\n\næµè¯å­å¯¹è±¡\n\n@SpringBootTest\npublic class RedisTest {\n\n    @Autowired\n    private RedisTemplate redisTemplate;\n\n    @Test\n    void test() {\n        User user = new User("è´è¿",3);\n        redisTemplate.opsForValue().set("user",user);\n        System.out.println(redisTemplate.opsForValue().get("user"));\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# rediså·¥å·ç±»\n\nä½¿ç¨RedisTemplateéè¦é¢ç¹è°ç¨.opForxxxç¶åæè½è¿è¡å¯¹åºçæä½ï¼è¿æ ·ä½¿ç¨èµ·æ¥ä»£ç æçä½ä¸ï¼å·¥ä½ä¸­ä¸è¬ä¸ä¼è¿æ ·ä½¿ç¨ï¼èæ¯å°è¿äºå¸¸ç¨çå¬å±APIæ½ååºæ¥å°è£æä¸ºä¸ä¸ªå·¥å·ç±»ï¼ç¶åç´æ¥ä½¿ç¨å·¥å·ç±»æ¥é´æ¥æä½Redis,ä¸ä½æçé«å¹¶ä¸æç¨ã\n\nå·¥å·ç±»åèåå®¢ï¼\n\nhttps://www.cnblogs.com/zeng1994/p/03303c805731afc9aa9c60dbbd32a323.html\n\nhttps://www.cnblogs.com/zhzhlong/p/11434284.html',normalizedContent:'# jedis\n\njedisæ¯rediså®æ¹æ¨èçjavaè¿æ¥å¼åå·¥å·ãè¦å¨javaå¼åä¸­ä½¿ç¨å¥½redisä¸­é´ä»¶ï¼å¿é¡»å¯¹jedisçææè½ åææ¼äº®çä»£ç \n\n\n# æµè¯ping\n\nåææå¼äºredisæå¡ã\n\n1ãæ°å»ºä¸ä¸ªæ®éçmavené¡¹ç®\n\n2ãå¯¼å¥redisçä¾èµï¼\n\n<dependencies>\n    \x3c!-- https://mvnrepository.com/artifact/redis.clients/jedis --\x3e\n    <dependency>\n        <groupid>redis.clients</groupid>\n        <artifactid>jedis</artifactid>\n        <version>3.5.2</version>\n    </dependency>\n    <dependency>\n        <groupid>com.alibaba</groupid>\n        <artifactid>fastjson</artifactid>\n        <version>1.2.75</version>\n    </dependency>\n</dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n3ãç¼åæµè¯ä»£ç \n\npublic class ping {\n    public static void main(string[] args) {\n        jedis jedis = new jedis("127.0.0.1", 6379);\n        //æ¥çæå¡æ¯å¦è¿è¡\n        system.out.println(jedis.ping());\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# å¸¸ç¨api\n\nåºæ¬æä½\n\npublic static void main(string[] args) {\n    jedis jedis = new jedis("127.0.0.1", 6379);\n\n    //éªè¯å¯ç ï¼å¦ææ²¡æè®¾ç½®å¯ç è¿æ®µä»£ç çç¥\n    // jedis.auth("password");\n\n    jedis.connect(); //è¿æ¥\n    jedis.disconnect(); //æ­å¼è¿æ¥\n    jedis.flushall(); //æ¸ç©ºææçkey\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nå¯¹keyæä½çå½ä»¤\n\npublic class testkey {\n    public static void main(string[] args) {\n        jedis jedis = new jedis("127.0.0.1", 6379);\n        \n        system.out.println("æ¸ç©ºæ°æ®ï¼" + jedis.flushdb());\n        system.out.println("å¤æ­æä¸ªé®æ¯å¦å­å¨ï¼" + jedis.exists("username"));\n        system.out.println("æ°å¢<\'username\',\'zhiyuan\'>çé®å¼å¯¹ï¼" + jedis.set("username", "zhiyuan"));\n        system.out.println("æ°å¢<\'password\',\'password\'>çé®å¼å¯¹ï¼" + jedis.set("password", "password"));\n\n        system.out.print("ç³»ç»ä¸­ææçé®å¦ä¸ï¼");\n        set<string> keys = jedis.keys("*");\n        system.out.println(keys);\n\n        system.out.println("å é¤é®password:" + jedis.del("password"));\n        system.out.println("å¤æ­é®passwordæ¯å¦å­å¨ï¼" + jedis.exists("password"));\n        system.out.println("æ¥çé®usernameæå­å¨çå¼çç±»åï¼" + jedis.type("username"));\n        system.out.println("éæºè¿åkeyç©ºé´çä¸ä¸ªï¼" + jedis.randomkey());\n        system.out.println("éå½åkeyï¼" + jedis.rename("username", "name"));\n        system.out.println("ååºæ¹åçnameï¼" + jedis.get("name"));\n        system.out.println("æç´¢å¼æ¥è¯¢ï¼" + jedis.select(0));\n        system.out.println("å é¤å½åéæ©æ°æ®åºä¸­çæækeyï¼" + jedis.flushdb());\n        system.out.println("è¿åå½åæ°æ®åºä¸­keyçæ°ç®ï¼" + jedis.dbsize());\n        system.out.println("å é¤æææ°æ®åºä¸­çæækeyï¼" + jedis.flushall());\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\nå¯¹stringæä½çå½ä»¤\n\npublic class teststring {\n    public static void main(string[] args) {\n        jedis jedis = new jedis("127.0.0.1", 6379);\n\n        jedis.flushdb();\n        system.out.println("===========å¢å æ°æ®===========");\n        system.out.println(jedis.set("key1", "value1"));\n        system.out.println(jedis.set("key2", "value2"));\n        system.out.println(jedis.set("key3", "value3"));\n\n        system.out.println("å é¤é®key2:" + jedis.del("key2"));\n        system.out.println("è·åé®key2:" + jedis.get("key2"));\n        system.out.println("ä¿®æ¹key1:" + jedis.set("key1", "value1changed"));\n        system.out.println("è·åkey1çå¼ï¼" + jedis.get("key1"));\n        system.out.println("å¨key3åé¢å å¥å¼ï¼" + jedis.append("key3", "end"));\n        system.out.println("key3çå¼ï¼" + jedis.get("key3"));\n        system.out.println("å¢å å¤ä¸ªé®å¼å¯¹ï¼" + jedis.mset("key01", "value01", "key02", "value02", "key03", "value03"));\n        system.out.println("è·åå¤ä¸ªé®å¼å¯¹ï¼" + jedis.mget("key01", "key02", "key03"));\n        system.out.println("è·åå¤ä¸ªé®å¼å¯¹ï¼" + jedis.mget("key01", "key02", "key03", "key04"));\n        system.out.println("å é¤å¤ä¸ªé®å¼å¯¹ï¼" + jedis.del("key01", "key02"));\n        system.out.println("è·åå¤ä¸ªé®å¼å¯¹ï¼" + jedis.mget("key01", "key02", "key03"));\n\n        jedis.flushdb();\n\n        system.out.println("===========æ°å¢é®å¼å¯¹é²æ­¢è¦çååå¼==============");\n        system.out.println(jedis.setnx("key1", "value1"));\n        system.out.println(jedis.setnx("key2", "value2"));\n        system.out.println(jedis.setnx("key2", "value2-new"));\n        system.out.println(jedis.get("key1"));\n        system.out.println(jedis.get("key2"));\n        system.out.println("===========æ°å¢é®å¼å¯¹å¹¶è®¾ç½®æææ¶é´=============");\n        system.out.println(jedis.setex("key3", 2, "value3"));\n        system.out.println(jedis.get("key3"));\n        try {\n            timeunit.seconds.sleep(3);\n        } catch (interruptedexception e) {\n            e.printstacktrace();\n        }\n        system.out.println(jedis.get("key3"));\n        system.out.println("===========è·ååå¼ï¼æ´æ°ä¸ºæ°å¼==========");\n        system.out.println(jedis.getset("key2", "key2getset"));\n        system.out.println(jedis.get("key2"));\n        system.out.println("è·å¾key2çå¼çå­ä¸²ï¼" + jedis.getrange("key2", 2,4));\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n\n\nå¯¹listæä½å½ä»¤\n\npublic class testlist {\n    public static void main(string[] args) {\n        jedis jedis = new jedis("127.0.0.1", 6379);\n        jedis.flushdb();\n        system.out.println("===========æ·»å ä¸ä¸ªlist===========");\n        jedis.lpush("collections", "arraylist", "vector", "stack", "hashmap", "weakhashmap", "linkedhashmap");\n        jedis.lpush("collections", "hashset");\n        jedis.lpush("collections", "treeset");\n        jedis.lpush("collections", "treemap");\n        system.out.println("collectionsçåå®¹ï¼" + jedis.lrange("collections", 0, -1));//-1ä»£è¡¨åæ°ç¬¬ä¸ä¸ªåç´ ï¼-2ä»£è¡¨åæ°ç¬¬äºä¸ªåç´ ,endä¸º-1è¡¨ç¤ºæ¥è¯¢å¨é¨\n        system.out.println("collectionsåºé´0-3çåç´ ï¼" + jedis.lrange("collections", 0, 3));\n        system.out.println("===============================");\n        // å é¤åè¡¨æå®çå¼ ï¼ç¬¬äºä¸ªåæ°ä¸ºå é¤çä¸ªæ°ï¼æéå¤æ¶ï¼ï¼åaddè¿å»çå¼åè¢«å ï¼ç±»ä¼¼äºåºæ \n        system.out.println("å é¤æå®åç´ ä¸ªæ°ï¼" + jedis.lrem("collections", 2,\n                "hashmap"));\n        system.out.println("collectionsçåå®¹ï¼" + jedis.lrange("collections",\n                0, -1));\n        system.out.println("å é¤ä¸è¡¨0-3åºé´ä¹å¤çåç´ ï¼" + jedis.ltrim("collections", 0, 3));\n        system.out.println("collectionsçåå®¹ï¼" + jedis.lrange("collections",\n                0, -1));\n        system.out.println("collectionsåè¡¨åºæ ï¼å·¦ç«¯ï¼ï¼" + jedis.lpop("collections"));\n        system.out.println("collectionsçåå®¹ï¼" + jedis.lrange("collections", 0, -1));\n        system.out.println("collectionsæ·»å åç´ ï¼ä»åè¡¨å³ç«¯ï¼ä¸lpushç¸å¯¹åºï¼" + jedis.rpush("collections", "enummap"));\n        system.out.println("collectionsçåå®¹ï¼" + jedis.lrange("collections",\n                0, -1));\n        system.out.println("collectionsåè¡¨åºæ ï¼å³ç«¯ï¼ï¼" + jedis.rpop("collections"));\n        system.out.println("collectionsçåå®¹ï¼" + jedis.lrange("collections",\n                0, -1));\n        system.out.println("ä¿®æ¹collectionsæå®ä¸æ 1çåå®¹ï¼" + jedis.lset("collections", 1, "linkedarraylist"));\n        system.out.println("collectionsçåå®¹ï¼" + jedis.lrange("collections",\n                0, -1));\n        system.out.println("===============================");\n        system.out.println("collectionsçé¿åº¦ï¼" + jedis.llen("collections"));\n        system.out.println("è·åcollectionsä¸æ ä¸º2çåç´ ï¼" + jedis.lindex("collections", 2));\n        system.out.println("===============================");\n        jedis.lpush("sortedlist", "3", "6", "2", "0", "7", "4");\n        system.out.println("sortedlistæåºåï¼" + jedis.lrange("sortedlist", 0,\n                -1));\n        system.out.println(jedis.sort("sortedlist"));\n        system.out.println("sortedlistæåºåï¼" + jedis.lrange("sortedlist", 0, -1));\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\nå¯¹setçæä½å½ä»¤\n\npublic class testset {\n    public static void main(string[] args) {\n        jedis jedis = new jedis("127.0.0.1", 6379);\n        jedis.flushdb();\n        system.out.println("============åéåä¸­æ·»å åç´ ï¼ä¸éå¤ï¼============");\n        system.out.println(jedis.sadd("eleset", "e1", "e2", "e4", "e3", "e0", "e8", "e7", "e5"));\n        system.out.println(jedis.sadd("eleset", "e6"));\n        system.out.println(jedis.sadd("eleset", "e6"));\n        system.out.println("elesetçææåç´ ä¸ºï¼" + jedis.smembers("eleset"));\n        system.out.println("å é¤ä¸ä¸ªåç´ e0ï¼" + jedis.srem("eleset", "e0"));\n\n        system.out.println("elesetçææåç´ ä¸ºï¼" + jedis.smembers("eleset"));\n        system.out.println("å é¤ä¸¤ä¸ªåç´ e7åe6ï¼" + jedis.srem("eleset", "e7", "e6"));\n        system.out.println("elesetçææåç´ ä¸ºï¼" + jedis.smembers("eleset"));\n        system.out.println("éæºçç§»é¤éåä¸­çä¸ä¸ªåç´ ï¼" + jedis.spop("eleset"));\n        system.out.println("éæºçç§»é¤éåä¸­çä¸ä¸ªåç´ ï¼" + jedis.spop("eleset"));\n        system.out.println("elesetçææåç´ ä¸ºï¼" + jedis.smembers("eleset"));\n        system.out.println("elesetä¸­åå«åç´ çä¸ªæ°ï¼" + jedis.scard("eleset"));\n        system.out.println("e3æ¯å¦å¨elesetä¸­ï¼" + jedis.sismember("eleset", "e3"));\n        system.out.println("e1æ¯å¦å¨elesetä¸­ï¼" + jedis.sismember("eleset", "e1"));\n        system.out.println("e1æ¯å¦å¨elesetä¸­ï¼" + jedis.sismember("eleset", "e5"));\n        system.out.println("=================================");\n        system.out.println(jedis.sadd("eleset1", "e1", "e2", "e4", "e3", "e0", "e8", "e7", "e5"));\n        system.out.println(jedis.sadd("eleset2","e1", "e2", "e4", "e3", "e0", "e8"));\n        system.out.println("å°eleset1ä¸­å é¤e1å¹¶å­å¥eleset3ä¸­ï¼" + jedis.smove("eleset1", "eleset3", "e1"));//ç§»å°éååç´ \n        system.out.println("å°eleset1ä¸­å é¤e2å¹¶å­å¥eleset3ä¸­ï¼" + jedis.smove("eleset1", "eleset3", "e2"));\n        system.out.println("eleset1ä¸­çåç´ ï¼" + jedis.smembers("eleset1"));\n        system.out.println("eleset3ä¸­çåç´ ï¼" + jedis.smembers("eleset3"));\n        system.out.println("============éåè¿ç®=================");\n        system.out.println("eleset1ä¸­çåç´ ï¼" + jedis.smembers("eleset1"));\n        system.out.println("eleset2ä¸­çåç´ ï¼" + jedis.smembers("eleset2"));\n        system.out.println("eleset1åeleset2çäº¤é:" + jedis.sinter("eleset1", "eleset2"));\n        system.out.println("eleset1åeleset2çå¹¶é:" + jedis.sunion("eleset1", "eleset2"));\n        system.out.println("eleset1åeleset2çå·®é:" + jedis.sdiff("eleset1", "eleset2"));//eleset1ä¸­æï¼eleset2ä¸­æ²¡æ\n        jedis.sinterstore("eleset4", "eleset1", "eleset2");//æ±äº¤éå¹¶å°äº¤éä¿å­å°dstkeyçéå\n        system.out.println("eleset4ä¸­çåç´ ï¼" + jedis.smembers("eleset4"));\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\nå¯¹hashçæä½å½ä»¤\n\npublic class testhash {\n    public static void main(string[] args) {\n        jedis jedis = new jedis("127.0.0.1", 6379);\n        jedis.flushdb();\n        map<string, string> map = new hashmap<>();\n        map.put("key1", "value1");\n        map.put("key2", "value2");\n        map.put("key3", "value3");\n        map.put("key4", "value4");\n        //æ·»å åç§°ä¸ºhashï¼keyï¼çhashåç´ \n        jedis.hmset("hash", map);\n        //ååç§°ä¸ºhashçhashä¸­æ·»å keyä¸ºkey5ï¼valueä¸ºvalue5åç´ \n        jedis.hset("hash", "key5", "value5");\n        system.out.println("æ£åhashçææé®å¼å¯¹ä¸ºï¼" + jedis.hgetall("hash"));//return map<string,string>\n\n        system.out.println("æ£åhashçææé®ä¸ºï¼" + jedis.hkeys("hash"));//returnset<string>\n        system.out.println("æ£åhashçææå¼ä¸ºï¼" + jedis.hvals("hash"));//returnlist<string>\n        system.out.println("å°key6ä¿å­çå¼å ä¸ä¸ä¸ªæ´æ°ï¼å¦ækey6ä¸å­å¨åæ·»å key6ï¼" + jedis.hincrby("hash", "key6", 6));\n        system.out.println("æ£åhashçææé®å¼å¯¹ä¸ºï¼" + jedis.hgetall("hash"));\n        system.out.println("å°key6ä¿å­çå¼å ä¸ä¸ä¸ªæ´æ°ï¼å¦ækey6ä¸å­å¨åæ·»å key6ï¼" + jedis.hincrby("hash", "key6", 3));\n        system.out.println("æ£åhashçææé®å¼å¯¹ä¸ºï¼" + jedis.hgetall("hash"));\n        system.out.println("å é¤ä¸ä¸ªæèå¤ä¸ªé®å¼å¯¹ï¼" + jedis.hdel("hash", "key2"));\n        system.out.println("æ£åhashçææé®å¼å¯¹ä¸ºï¼" + jedis.hgetall("hash"));\n        system.out.println("æ£åhashä¸­é®å¼å¯¹çä¸ªæ°ï¼" + jedis.hlen("hash"));\n        system.out.println("å¤æ­hashä¸­æ¯å¦å­å¨key2ï¼" + jedis.hexists("hash", "key2"));\n        system.out.println("å¤æ­hashä¸­æ¯å¦å­å¨key3ï¼" + jedis.hexists("hash", "key3"));\n        system.out.println("è·åhashä¸­çå¼ï¼" + jedis.hmget("hash", "key3"));\n        system.out.println("è·åhashä¸­çå¼ï¼" + jedis.hmget("hash", "key3", "key4"));\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n\n# äºå¡\n\npublic class testmulti {\n    public static void main(string[] args) {\n        //åå»ºå®¢æ·ç«¯è¿æ¥æå¡ç«¯ï¼redisæå¡ç«¯éè¦è¢«å¼å¯\n        jedis jedis = new jedis("127.0.0.1", 6379);\n        jedis.flushdb();\n        jsonobject jsonobject = new jsonobject();\n        jsonobject.put("hello", "world");\n        jsonobject.put("name", "java");\n        //å¼å¯äºå¡\n        transaction multi = jedis.multi();\n        string result = jsonobject.tojsonstring();\n        try {\n            //årediså­å¥ä¸æ¡æ°æ®\n            multi.set("json", result);\n            //åå­å¥ä¸æ¡æ°æ®\n            multi.set("json2", result);\n            //è¿éå¼åäºå¼å¸¸ï¼ç¨0ä½ä¸ºè¢«é¤æ°\n            int i = 100 / 0;\n            //å¦ææ²¡æå¼åå¼å¸¸ï¼æ§è¡è¿å¥éåçå½ä»¤\n            multi.exec();\n        } catch (exception e) {\n            e.printstacktrace();\n            //å¦æåºç°å¼å¸¸ï¼åæ»\n            multi.discard();\n        } finally {\n            system.out.println(jedis.get("json"));\n            system.out.println(jedis.get("json2"));\n            //æç»å³é­å®¢æ·ç«¯\n            jedis.close();\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n\n# springbootæ´å\n\n\n# åºç¡ä½¿ç¨\n\næ¦è¿°ï¼\n\nå¨springbootä¸­ä¸è¬ä½¿ç¨redistemplateæä¾çæ¹æ³æ¥æä½redisãé£ä¹ä½¿ç¨springbootæ´årediséè¦ é£äºæ­¥éª¤å¢ã\n\n1ã jedispoolconfig (è¿ä¸ªæ¯éç½®è¿æ¥æ± )\n\n2ã redisconnectionfactory è¿ä¸ªæ¯éç½®è¿æ¥ä¿¡æ¯ï¼è¿éçredisconnectionfactoryæ¯ä¸ä¸ªæ¥å£ï¼æä»¬éè¦ä½¿ç¨å®çå®ç°ç±»ï¼å¨springd data redisæ¹æ¡ä¸­æä¾äºä»¥ä¸åç§å·¥åæ¨¡åï¼\n\n * jredisconnectionfactory\n * jedisconnectionfactory\n * lettuceconnectionfactory\n * srpconnectionfactory\n\n3ã redistemplate åºæ¬æä½\n\nå¯¼å¥ä¾èµ\n\n<dependency>\n    <groupid>org.springframework.boot</groupid>\n    <artifactid>spring-boot-starter-data-redis</artifactid>\n</dependency>\n\n\n1\n2\n3\n4\n\n\nè¯´æï¼å¨springboot2.xä¹åï¼åæ¥ä½¿ç¨çjedisè¢«æ¿æ¢ælettuce\n\nyamléç½®\n\nspring:\n  redis:\n    host: 127.0.0.1\n    port: 6379\n\n\n1\n2\n3\n4\n\n\næµè¯ç±»ä¸­æµè¯\n\n@autowired\nprivate redistemplate<string, string> redistemplate;\n\n@test\nvoid contextloads() {\n    redistemplate.opsforvalue().set("mykey", "myvalue");\n    system.out.println(redistemplate.opsforvalue().get("mykey"));\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# åºååconfig\n\nåå»ºspringbootæ°é¡¹ç®ï¼å®è£ä¸é¢æ­¥éª¤å¯¼å¥ä¾èµ\n\n1ãåæ redisautoconfiguration èªå¨éç½®ç±»\n\n@configuration(proxybeanmethods = false)\n@conditionalonclass(redisoperations.class)\n@enableconfigurationproperties(redisproperties.class)\n@import({ lettuceconnectionconfiguration.class, jedisconnectionconfiguration.class })\npublic class redisautoconfiguration {\n\n   @bean\n   @conditionalonmissingbean(name = "redistemplate")\n   @conditionalonsinglecandidate(redisconnectionfactory.class)\n   public redistemplate<object, object> redistemplate(redisconnectionfactory redisconnectionfactory) {\n      redistemplate<object, object> template = new redistemplate<>();\n      template.setconnectionfactory(redisconnectionfactory);\n      return template;\n   }\n\n   @bean\n   @conditionalonmissingbean\n   @conditionalonsinglecandidate(redisconnectionfactory.class)\n   public stringredistemplate stringredistemplate(redisconnectionfactory redisconnectionfactory) {\n      stringredistemplate template = new stringredistemplate();\n      template.setconnectionfactory(redisconnectionfactory);\n      return template;\n   }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\néè¿æºç å¯ä»¥çåºï¼springbootèªå¨å¸®æä»¬å¨å®¹å¨ä¸­çæäºä¸ä¸ªredistemplateåä¸ä¸ªstringredistemplateã\n\nä½æ¯ï¼è¿ä¸ªredistemplateçæ³åæ¯ï¼åä»£ç ä¸æ¹ä¾¿ï¼éè¦åå¥½å¤ç±»åè½¬æ¢çä»£ç ï¼æä»¬éè¦ä¸ä¸ªæ³åä¸ºå½¢å¼çredistemplateã\n\nå¹¶ä¸ï¼è¿ä¸ªredistemplateæ²¡æè®¾ç½®æ°æ®å­å¨redisæ¶ï¼keyåvalueçåºååæ¹å¼ã\n\nçå°è¿ä¸ª@conditionalonmissingbeanæ³¨è§£åï¼å°±ç¥éå¦æspringå®¹å¨ä¸­æäºredistemplateå¯¹è±¡äºï¼ è¿ä¸ªèªå¨éç½®çredistemplateä¸ä¼å®ä¾åãå æ­¤æä»¬å¯ä»¥ç´æ¥èªå·±åä¸ªéç½®ç±»ï¼éç½® redistemplateã\n\nç¨è¿ä¸ªéç½®æä»¬ä¸å¯ä»¥å­å¨å¯¹è±¡ï¼å¦åä¼æ¥serializationexceptionï¼å¤§å®¶å¯èªå·±è¯è¯\n\n2ãæ¢ç¶èªå¨éç½®ä¸å¥½ç¨ï¼å°±éæ°éç½®ä¸ä¸ªredistemplate\n\npackage com.oddfar.config;\n\nimport com.fasterxml.jackson.annotation.jsonautodetect;\nimport com.fasterxml.jackson.annotation.propertyaccessor;\nimport com.fasterxml.jackson.databind.objectmapper;\nimport com.fasterxml.jackson.databind.jsontype.impl.laissezfairesubtypevalidator;\nimport org.springframework.context.annotation.bean;\nimport org.springframework.context.annotation.configuration;\nimport org.springframework.data.redis.connection.redisconnectionfactory;\nimport org.springframework.data.redis.core.redistemplate;\nimport org.springframework.data.redis.serializer.jackson2jsonredisserializer;\nimport org.springframework.data.redis.serializer.stringredisserializer;\n\n@configuration\npublic class redisconfig {\n    @bean\n    public redistemplate<string, object> redistemplate(redisconnectionfactory factory) {\n        redistemplate<string, object> template = new redistemplate<string, object>();\n        template.setconnectionfactory(factory);\n        jackson2jsonredisserializer jackson2jsonredisserializer = new jackson2jsonredisserializer(object.class);\n        objectmapper om = new objectmapper();\n        om.setvisibility(propertyaccessor.all, jsonautodetect.visibility.any);\n//        om.enabledefaulttyping(objectmapper.defaulttyping.non_final); //æ­¤æ¹æ³å·²è¿æ\n        //æ°æ¹æ³\n        om.activatedefaulttyping(laissezfairesubtypevalidator.instance, objectmapper.defaulttyping.non_final);\n        jackson2jsonredisserializer.setobjectmapper(om);\n        stringredisserializer stringredisserializer = new stringredisserializer();\n\n        // keyéç¨stringçåºååæ¹å¼\n        template.setkeyserializer(stringredisserializer);\n        // hashçkeyä¹éç¨stringçåºååæ¹å¼\n        template.sethashkeyserializer(stringredisserializer);\n        // valueåºååæ¹å¼éç¨jackson\n        template.setvalueserializer(jackson2jsonredisserializer);\n        // hashçvalueåºååæ¹å¼éç¨jackson\n        template.sethashvalueserializer(jackson2jsonredisserializer);\n        template.afterpropertiesset();\n\n        return template;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n\n\nåå»ºuserå¯¹è±¡ï¼nameåage\n\næµè¯å­å¯¹è±¡\n\n@springboottest\npublic class redistest {\n\n    @autowired\n    private redistemplate redistemplate;\n\n    @test\n    void test() {\n        user user = new user("è´è¿",3);\n        redistemplate.opsforvalue().set("user",user);\n        system.out.println(redistemplate.opsforvalue().get("user"));\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# rediså·¥å·ç±»\n\nä½¿ç¨redistemplateéè¦é¢ç¹è°ç¨.opforxxxç¶åæè½è¿è¡å¯¹åºçæä½ï¼è¿æ ·ä½¿ç¨èµ·æ¥ä»£ç æçä½ä¸ï¼å·¥ä½ä¸­ä¸è¬ä¸ä¼è¿æ ·ä½¿ç¨ï¼èæ¯å°è¿äºå¸¸ç¨çå¬å±apiæ½ååºæ¥å°è£æä¸ºä¸ä¸ªå·¥å·ç±»ï¼ç¶åç´æ¥ä½¿ç¨å·¥å·ç±»æ¥é´æ¥æä½redis,ä¸ä½æçé«å¹¶ä¸æç¨ã\n\nå·¥å·ç±»åèåå®¢ï¼\n\nhttps://www.cnblogs.com/zeng1994/p/03303c805731afc9aa9c60dbbd32a323.html\n\nhttps://www.cnblogs.com/zhzhlong/p/11434284.html',charsets:{cjk:!0},lastUpdated:"2021/09/11, 2:09:00",lastUpdatedTimestamp:1631327124e3},{title:"Redis - å­¦ä¹ ç¬è®°-æ»è§",frontmatter:{title:"Redis - å­¦ä¹ ç¬è®°-æ»è§",date:"2021-05-10T16:16:46.000Z",permalink:"/pages/feab74/"},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/10.Redis/10.Redis%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E6%80%BB%E8%A7%88.html",relativePath:"03.æ°æ®åº/10.Redis/10.Rediså­¦ä¹ ç¬è®°-æ»è§.md",key:"v-7f6d5ac0",path:"/pages/feab74/",headers:[{level:2,title:"Redis.conf",slug:"redis-conf",normalizedTitle:"redis.conf",charIndex:2},{level:3,title:"çæåºæ¬éç½®",slug:"çæåºæ¬éç½®",normalizedTitle:"çæåºæ¬éç½®",charIndex:17},{level:2,title:"Redisçæä¹å",slug:"redisçæä¹å",normalizedTitle:"redisçæä¹å",charIndex:2280},{level:3,title:"RDBï¼Redis DataBaseï¼",slug:"rdb-redis-database",normalizedTitle:"rdbï¼redis databaseï¼",charIndex:2395},{level:3,title:"AOFï¼Append Only Fileï¼",slug:"aof-append-only-file",normalizedTitle:"aofï¼append only fileï¼",charIndex:3809},{level:3,title:"æ»ç»",slug:"æ»ç»",normalizedTitle:"æ»ç»",charIndex:5297},{level:2,title:"Redis åå¸è®¢é",slug:"redis-åå¸è®¢é",normalizedTitle:"redis åå¸è®¢é",charIndex:6190},{level:3,title:"ç®ä»",slug:"ç®ä»",normalizedTitle:"ç®ä»",charIndex:3834},{level:3,title:"æµè¯",slug:"æµè¯",normalizedTitle:"æµè¯",charIndex:525},{level:3,title:"åç",slug:"åç",normalizedTitle:"åç",charIndex:4840},{level:2,title:"Redisä¸»ä»å¤å¶",slug:"redisä¸»ä»å¤å¶",normalizedTitle:"redisä¸»ä»å¤å¶",charIndex:7993},{level:3,title:"æ¦å¿µ",slug:"æ¦å¿µ",normalizedTitle:"æ¦å¿µ",charIndex:8007},{level:3,title:"ç¯å¢éç½®",slug:"ç¯å¢éç½®",normalizedTitle:"ç¯å¢éç½®",charIndex:8765},{level:3,title:"ä¸ä¸»äºä»",slug:"ä¸ä¸»äºä»",normalizedTitle:"ä¸ä¸»äºä»",charIndex:9999},{level:3,title:"å¨åµæ¨¡å¼",slug:"å¨åµæ¨¡å¼",normalizedTitle:"å¨åµæ¨¡å¼",charIndex:10685},{level:2,title:"ç¼å­ç©¿éä¸éªå´©",slug:"ç¼å­ç©¿éä¸éªå´©",normalizedTitle:"ç¼å­ç©¿éä¸éªå´©",charIndex:14968},{level:3,title:"ç¼å­ç©¿éï¼æ¥ä¸å°ï¼",slug:"ç¼å­ç©¿é-æ¥ä¸å°",normalizedTitle:"ç¼å­ç©¿éï¼æ¥ä¸å°ï¼",charIndex:14980},{level:3,title:"ç¼å­å»ç©¿ï¼éå¤ªå¤§ï¼ç¼å­è¿æï¼",slug:"ç¼å­å»ç©¿-éå¤ªå¤§-ç¼å­è¿æ",normalizedTitle:"ç¼å­å»ç©¿ï¼éå¤ªå¤§ï¼ç¼å­è¿æï¼",charIndex:15420},{level:3,title:"ç¼å­éªå´©",slug:"ç¼å­éªå´©",normalizedTitle:"ç¼å­éªå´©",charIndex:15837}],headersStr:"Redis.conf çæåºæ¬éç½® Redisçæä¹å RDBï¼Redis DataBaseï¼ AOFï¼Append Only Fileï¼ æ»ç» Redis åå¸è®¢é ç®ä» æµè¯ åç Redisä¸»ä»å¤å¶ æ¦å¿µ ç¯å¢éç½® ä¸ä¸»äºä» å¨åµæ¨¡å¼ ç¼å­ç©¿éä¸éªå´© ç¼å­ç©¿éï¼æ¥ä¸å°ï¼ ç¼å­å»ç©¿ï¼éå¤ªå¤§ï¼ç¼å­è¿æï¼ ç¼å­éªå´©",content:'# Redis.conf\n\n\n# çæåºæ¬éç½®\n\n> ä½ç½®\n\nRedis çéç½®æä»¶ä½äº Redis å®è£ç®å½ä¸ï¼æä»¶åä¸º redis.conf\n\nconfig get * # è·åå¨é¨çéç½®\n\n\n1\n\n\næä»¬ä¸è¬æåµä¸ï¼ä¼åç¬æ·è´åºæ¥ä¸ä»½è¿è¡æä½ãæ¥ä¿è¯åå§æä»¶çå®å¨ã\n\næ­£å¦å¨ å®è£redis ä¸­çè®²è§£ä¸­æ·è´ä¸ä»½\n\n> å®¹éåä½ä¸åºåå¤§å°åï¼GåGBæåºå«\n\n\n\n> include ç»åå¤ä¸ªéç½®\n\n\n\nåSpringéç½®æä»¶ç±»ä¼¼ï¼å¯ä»¥éè¿includesåå«ï¼redis.conf å¯ä»¥ä½ä¸ºæ»æä»¶ï¼å¯ä»¥åå«å¶ä»æä»¶ï¼\n\n> NETWORK ç½ç»éç½®\n\nbind 127.0.0.1 # ç»å®çip\nprotected-mode yes # ä¿æ¤æ¨¡å¼\nport 6379 # é»è®¤ç«¯å£\n\n\n1\n2\n3\n\n\n> GENERAL éç¨\n\ndaemonize yes # é»è®¤æåµä¸ï¼Redisä¸ä½ä¸ºå®æ¤è¿ç¨è¿è¡ãéè¦å¼å¯çè¯ï¼æ¹ä¸º yes\n\nsupervised no # å¯éè¿upstartåsystemdç®¡çRediså®æ¤è¿ç¨\n\nloglevel notice # æ¥å¿çº§å«ãå¯éé¡¹æï¼\n\t\t\t\t# debugï¼è®°å½å¤§éæ¥å¿ä¿¡æ¯ï¼éç¨äºå¼åãæµè¯é¶æ®µï¼\n\t\t\t\t# verboseï¼è¾å¤æ¥å¿ä¿¡æ¯ï¼\n\t\t\t\t# noticeï¼ééæ¥å¿ä¿¡æ¯ï¼ä½¿ç¨äºçäº§ç¯å¢ï¼\n\t\t\t\t# warningï¼ä»æé¨åéè¦ãå³é®ä¿¡æ¯æä¼è¢«è®°å½ï¼\nlogfile "" # æ¥å¿æä»¶çä½ç½®ï¼å½æå®ä¸ºç©ºå­ç¬¦ä¸²æ¶ï¼ä¸ºæ åè¾åº\ndatabases 16 # è®¾ç½®æ°æ®åºçæ°ç®ãé»è®¤çæ°æ®åºæ¯DB 0\nalways-show-logo yes # æ¯å¦æ»æ¯æ¾ç¤ºlogo\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n> SNAPSHOPTING å¿«ç§ï¼æä¹åè§å\n\nç±äºRedisæ¯åºäºåå­çæ°æ®åºï¼éè¦å°æ°æ®ç±åå­æä¹åå°æä»¶ä¸­\n\næä¹åæ¹å¼ï¼\n\n * RDB\n * AOF\n\n# 900ç§ï¼15åéï¼åè³å°1ä¸ªkeyå¼æ¹åï¼åè¿è¡æ°æ®åºä¿å­--æä¹åï¼\nsave 900 1\n# 300ç§ï¼5åéï¼åè³å°10ä¸ªkeyå¼æ¹åï¼åè¿è¡æ°æ®åºä¿å­--æä¹åï¼\nsave 300 10\n# 60ç§ï¼1åéï¼åè³å°10000ä¸ªkeyå¼æ¹åï¼åè¿è¡æ°æ®åºä¿å­--æä¹åï¼\nsave 60 10000\n\n\n1\n2\n3\n4\n5\n6\n\n\nRDBæä»¶ç¸å³\n\nstop-writes-on-bgsave-error yes # æä¹ååºç°éè¯¯åï¼æ¯å¦ä¾ç¶è¿è¡ç»§ç»­è¿è¡å·¥ä½\n\nrdbcompression yes # ä½¿ç¨åç¼©rdbæä»¶ yesï¼åç¼©ï¼ä½æ¯éè¦ä¸äºcpuçæ¶èãnoï¼ä¸åç¼©ï¼éè¦æ´å¤çç£çç©ºé´\n\nrdbchecksum yes # æ¯å¦æ ¡éªrdbæä»¶ï¼æ´æå©äºæä»¶çå®¹éæ§ï¼ä½æ¯å¨ä¿å­rdbæä»¶çæ¶åï¼ä¼æå¤§æ¦10%çæ§è½æè\n\ndbfilename dump.rdb # dbfilenamerdbæä»¶åç§°\n\ndir ./ # dir æ°æ®ç®å½ï¼æ°æ®åºçåå¥ä¼å¨è¿ä¸ªç®å½ãrdbãaofæä»¶ä¹ä¼åå¨è¿ä¸ªç®å½\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n> REPLICATIONä¸»ä»å¤å¶\n\n\n\nåé¢è¯¦ç»è¯´\n\n> SECURITYå®å¨\n\nè®¿é®å¯ç çæ¥çï¼è®¾ç½®ååæ¶\n\n# å¯å¨redis\n# è¿æ¥å®¢æ·ç«¯\n\n# è·å¾åè®¾ç½®å¯ç \nconfig get requirepass\nconfig set requirepass "123456"\n\n#æµè¯pingï¼åç°éè¦éªè¯\n127.0.0.1:6379> ping\nNOAUTH Authentication required.\n# éªè¯\n127.0.0.1:6379> auth 123456\nOK\n127.0.0.1:6379> ping\nPONG\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n> å®¢æ·ç«¯è¿æ¥ç¸å³\n\nmaxclients 10000  æå¤§å®¢æ·ç«¯æ°é\nmaxmemory <bytes> æå¤§åå­éå¶\nmaxmemory-policy noeviction # åå­è¾¾å°éå¶å¼çå¤çç­ç¥\n\n\n1\n2\n3\n\n\nmaxmemory-policy å­ç§æ¹å¼\n\n**1ãvolatile-lruï¼**å©ç¨LRUç®æ³ç§»é¤è®¾ç½®è¿è¿ææ¶é´çkeyã\n\n2ãallkeys-lru ï¼ ç¨lruç®æ³å é¤lkey\n\n**3ãvolatile-randomï¼**éæºå é¤å³å°è¿ækey\n\n**4ãallkeys-randomï¼**éæºå é¤\n\n5ãvolatile-ttl ï¼ å é¤å³å°è¿æç\n\n6ãnoeviction ï¼ ä¸ç§»é¤ä»»ä½keyï¼åªæ¯è¿åä¸ä¸ªåéè¯¯ã\n\nredis ä¸­çé»è®¤çè¿æç­ç¥æ¯ volatile-lru ã\n\nè®¾ç½®æ¹å¼\n\nconfig set maxmemory-policy volatile-lru \n\n\n1\n\n\n> append onlyæ¨¡å¼\n\nï¼AOFç¸å³é¨åï¼\n\n\n\n\n\nappendfsync everysec # appendfsync aofæä¹åç­ç¥çéç½®\n        # noè¡¨ç¤ºä¸æ§è¡fsyncï¼ç±æä½ç³»ç»ä¿è¯æ°æ®åæ­¥å°ç£çï¼éåº¦æå¿«ã\n        # alwaysè¡¨ç¤ºæ¯æ¬¡åå¥é½æ§è¡fsyncï¼ä»¥ä¿è¯æ°æ®åæ­¥å°ç£çã\n        # everysecè¡¨ç¤ºæ¯ç§æ§è¡ä¸æ¬¡fsyncï¼å¯è½ä¼å¯¼è´ä¸¢å¤±è¿1sæ°æ®ã\n\n\n1\n2\n3\n4\n\n\n\n# Redisçæä¹å\n\nRedis æ¯åå­æ°æ®åºï¼å¦æä¸å°åå­ä¸­çæ°æ®åºç¶æä¿å­å°ç£çï¼é£ä¹ä¸æ¦æå¡å¨è¿ç¨éåºï¼æå¡å¨ä¸­çæ°æ®åºç¶æä¹ä¼æ¶å¤±ãæä»¥ Redis æä¾äºæä¹ååè½ï¼\n\nRdb ä¿å­çæ¯ dump.rdb æä»¶\n\n\n# RDBï¼Redis DataBaseï¼\n\n> ä»ä¹æ¯RDB\n\nå¨æå®çæ¶é´é´éåå°åå­ä¸­çæ°æ®éå¿«ç§åå¥ç£çï¼ä¹å°±æ¯è¡è¯è®²çSnapshotå¿«ç§ï¼å®æ¢å¤æ¶æ¯å°å¿« ç§æä»¶ç´æ¥è¯»å°åå­éã\n\nRedisä¼åç¬åå»ºï¼forkï¼ä¸ä¸ªå­è¿ç¨æ¥è¿è¡æä¹åï¼ä¼åå°æ°æ®åå¥å°ä¸ä¸ªä¸´æ¶æä»¶ä¸­ï¼å¾æä¹åè¿ç¨é½ç»æäºï¼åç¨è¿ä¸ªä¸´æ¶æä»¶æ¿æ¢ä¸æ¬¡æä¹åå¥½çæä»¶ãæ´ä¸ªè¿ç¨ä¸­ï¼ä¸»è¿ç¨æ¯ä¸è¿è¡ä»»ä½IOæä½çã è¿å°±ç¡®ä¿äºæé«çæ§è½ãå¦æéè¦è¿è¡å¤§è§æ¨¡æ°æ®çæ¢å¤ï¼ä¸å¯¹äºæ°æ®æ¢å¤çå®æ´æ§ä¸æ¯éå¸¸ææï¼é£ RDBæ¹å¼è¦æ¯AOFæ¹å¼æ´å çé«æãRDBçç¼ºç¹æ¯æåä¸æ¬¡æä¹ååçæ°æ®å¯è½ä¸¢å¤±ã\n\n> Fork\n\nForkçä½ç¨æ¯å¤å¶ä¸ä¸ªä¸å½åè¿ç¨ä¸æ ·çè¿ç¨ãæ°è¿ç¨çæææ°æ®ï¼åéï¼ç¯å¢åéï¼ç¨åºè®¡æ°å¨ç­ï¼ æ°å¼é½ååè¿ç¨ä¸è´ï¼ä½æ¯æ¯ä¸ä¸ªå¨æ°çè¿ç¨ï¼å¹¶ä½ä¸ºåè¿ç¨çå­è¿ç¨ã\n\néç½®ä½ç½®åSNAPSHOTTINGè§£æ\n\n\n\nè¿éçè§¦åæ¡ä»¶æºå¶ï¼æä»¬å¯ä»¥ä¿®æ¹æµè¯ä¸ä¸ï¼\n\nsave 120 10 # 120ç§åä¿®æ¹10æ¬¡åè§¦åRDB\n\n\n1\n\n\nRDB æ¯æ´ååå­çåç¼©è¿çSnapshotï¼RDB çæ°æ®ç»æï¼å¯ä»¥éç½®å¤åçå¿«ç§è§¦åæ¡ä»¶ã\n\nå¦ææ³ç¦ç¨RDBæä¹åçç­ç¥ï¼åªè¦ä¸è®¾ç½®ä»»ä½saveæä»¤ï¼æèç»saveä¼ å¥ä¸ä¸ªç©ºå­ç¬¦ä¸²åæ°ä¹å¯ä»¥ã\n\nè¥è¦ä¿®æ¹å®æ¯éè¦ç«é©¬çæï¼å¯ä»¥æå¨ä½¿ç¨ save å½ä»¤ï¼ç«é©¬çæ !\n\nsaveä¸æ¯åå»ºä¸ä¸ªæ°è¿ç¨å»è¿è¡æä¹å\n\n> å¶ä½å½ä»¤è§£æ\n\nStop-writes-on-bgsave-errorï¼å¦æéç½®ä¸ºnoï¼è¡¨ç¤ºä½ ä¸å¨ä¹æ°æ®ä¸ä¸è´æèæå¶ä»çææ®µåç°åæ§å¶ï¼é»è®¤ä¸ºyesã\n\nrbdcompressionï¼å¯¹äºå­å¨å°ç£çä¸­çå¿«ç§ï¼å¯ä»¥è®¾ç½®æ¯å¦è¿è¡åç¼©å­å¨ãå¦ææ¯çè¯ï¼redisä¼éç¨ LZFç®æ³è¿è¡åç¼©ï¼å¦æä½ ä¸æ³æ¶èCPUæ¥è¿è¡åç¼©çè¯ï¼å¯ä»¥è®¾ç½®ä¸ºå³é­æ­¤åè½ã\n\nrdbchecksumï¼å¨å­å¨å¿«ç§åï¼è¿å¯ä»¥è®©redisä½¿ç¨CRC64ç®æ³æ¥è¿è¡æ°æ®æ ¡éªï¼ä½æ¯è¿æ ·åä¼å¢å å¤§çº¦ 10%çæ§è½æ¶èï¼å¦æå¸æè·åå°æå¤§çæ§è½æåï¼å¯ä»¥å³é­æ­¤åè½ãé»è®¤ä¸ºyesã\n\n> å¦ä½è§¦åRDBå¿«ç§\n\n1ãéç½®æä»¶ä¸­é»è®¤çå¿«ç§éç½®ï¼å»ºè®®å¤ç¨ä¸å°æºå­ä½ä¸ºå¤ä»½ï¼å¤å¶ä¸ä»½ dump.rdb\n\n2ãå½ä»¤saveæèæ¯bgsave\n\n * save æ¶åªç®¡ä¿å­ï¼å¶ä»ä¸ç®¡ï¼å¨é¨é»å¡\n\n * bgsaveï¼Redis ä¼å¨åå°å¼æ­¥è¿è¡å¿«ç§æä½ï¼å¿«ç§åæ¶è¿å¯ä»¥ååºå®¢æ·ç«¯è¯·æ±ãå¯ä»¥éè¿lastsave å½ä»¤è·åæåä¸æ¬¡æåæ§è¡å¿«ç§çæ¶é´ã\n\n3ãæ§è¡flushallå½ä»¤ï¼ä¹ä¼äº§ç dump.rdb æä»¶ï¼ä½éé¢æ¯ç©ºçï¼æ æä¹ !\n\n4ãéåºçæ¶åä¹ä¼äº§ç dump.rdb æä»¶ï¼\n\n> å¦ä½æ¢å¤\n\n1ãå°å¤ä»½æä»¶ï¼dump.rdbï¼ç§»å¨å°rediså®è£ç®å½å¹¶å¯å¨æå¡å³å¯\n\n2ãCONFIG GET dir è·åç®å½\n\n127.0.0.1:6379> config get dir\ndir\n/usr/local/bin\n\n\n1\n2\n3\n\n\n> ä¼ç¹åç¼ºç¹\n\nä¼ç¹ï¼\n\n1ãéåå¤§è§æ¨¡çæ°æ®æ¢å¤\n\n2ãå¯¹æ°æ®å®æ´æ§åä¸è´æ§è¦æ±ä¸é«\n\nç¼ºç¹ï¼\n\n1ãå¨ä¸å®é´éæ¶é´åä¸æ¬¡å¤ä»½ï¼æä»¥å¦æredisæå¤downæçè¯ï¼å°±ä¼ä¸¢å¤±æåä¸æ¬¡å¿«ç§åçææä¿®æ¹\n\n2ãForkçæ¶åï¼åå­ä¸­çæ°æ®è¢«åéäºä¸ä»½ï¼å¤§è´2åçè¨èæ§éè¦èèã\n\n> å°ç»\n\n\n\n\n# AOFï¼Append Only Fileï¼\n\n> ç®ä»\n\nä»¥æ¥å¿çå½¢å¼æ¥è®°å½æ¯ä¸ªåæä½ï¼å°Redisæ§è¡è¿çæææä»¤è®°å½ä¸æ¥ï¼è¯»æä½ä¸è®°å½ï¼ï¼åªè®¸è¿½å æä»¶ä½ä¸å¯ä»¥æ¹åæä»¶ï¼rediså¯å¨ä¹åä¼è¯»åè¯¥æä»¶éæ°æå»ºæ°æ®ï¼æ¢è¨ä¹ï¼rediséå¯çè¯å°±æ ¹æ®æ¥å¿æä»¶ çåå®¹å°åæä»¤ä»åå°åæ§è¡ä¸æ¬¡ä»¥å®ææ°æ®çæ¢å¤å·¥ä½\n\nAofä¿å­çæ¯ appendonly.aof æä»¶\n\n> éç½®\n\n\n\n * appendonly no\n   \n   æ¯å¦ä»¥append onlyæ¨¡å¼ä½ä¸ºæä¹åæ¹å¼ï¼é»è®¤ä½¿ç¨çæ¯rdbæ¹å¼æä¹åï¼è¿ ç§æ¹å¼å¨è®¸å¤åºç¨ä¸­å·²ç»è¶³å¤ç¨äº\n\n * appendfilename "appendonly.aof"\n   \n   appendfilename AOF æä»¶åç§°\n\n * appendfsync everysec\n   \n   appendfsync aofæä¹åç­ç¥çéç½®\n   \n   > noè¡¨ç¤ºä¸æ§è¡fsyncï¼ç±æä½ç³»ç»ä¿è¯æ°æ®åæ­¥å°ç£çï¼éåº¦æå¿«ã alwaysè¡¨ç¤ºæ¯æ¬¡åå¥é½æ§è¡fsyncï¼ä»¥ä¿è¯æ°æ®åæ­¥å°ç£çã everysecè¡¨ç¤ºæ¯ç§æ§è¡ä¸æ¬¡fsyncï¼å¯è½ä¼å¯¼è´ä¸¢å¤±è¿1sæ°æ®ã\n\n * No-appendfsync-on-rewrite\n   \n   éåæ¶æ¯å¦å¯ä»¥è¿ç¨Appendfsyncï¼ç¨é»è®¤noå³å¯ï¼ä¿è¯æ°æ®å®å¨æ§\n\n * Auto-aof-rewrite-min-size\n   \n   è®¾ç½®éåçåºåå¼\n\n * Auto-aof-rewrite-percentage\n   \n   è®¾ç½®éåçåºåå¼\n\n> AOF å¯å¨/ä¿®å¤/æ¢å¤\n\næ­£å¸¸æ¢å¤ï¼\n\nå¯å¨ï¼è®¾ç½®Yesï¼ä¿®æ¹é»è®¤çappendonly noï¼æ¹ä¸ºyes å°ææ°æ®çaofæä»¶å¤å¶ä¸ä»½ä¿å­å°å¯¹åºç®å½ï¼config get dirï¼ æ¢å¤ï¼éå¯redisç¶åéæ°å è½½\n\nå¼å¸¸æ¢å¤ï¼\n\nå¯å¨ï¼è®¾ç½®Yes ææç ´å appendonly.aof æä»¶ï¼ ä¿®å¤ï¼å½ä»¤redis-check-aof --fix appendonly.aof è¿è¡ä¿®å¤ æ¢å¤ï¼éå¯ redis ç¶åéæ°å è½½\n\n> Rewriteéå\n\nAOF éç¨æä»¶è¿½å æ¹å¼ï¼æä»¶ä¼è¶æ¥è¶å¤§ï¼ä¸ºé¿ååºç°æ­¤ç§æåµï¼æ°å¢äºéåæºå¶ï¼å½AOFæä»¶çå¤§å°è¶è¿æè®¾å®çéå¼æ¶ï¼Redis å°±ä¼å¯å¨AOF æä»¶çåå®¹åç¼©ï¼åªä¿çå¯ä»¥æ¢å¤æ°æ®çæå°æä»¤éï¼å¯ä»¥ ä½¿ç¨å½ä»¤ bgrewriteaof ï¼\n\néååçï¼\n\nAOF æä»¶æç»­å¢é¿èè¿å¤§æ¶ï¼ä¼forkåºä¸æ¡æ°è¿ç¨æ¥å°æä»¶éåï¼ä¹æ¯ååä¸´æ¶æä»¶æåå renameï¼ï¼éåæ°è¿ç¨çåå­ä¸­æ°æ®ï¼æ¯æ¡è®°å½æä¸æ¡çSetè¯­å¥ãéåaofæä»¶çæä½ï¼å¹¶æ²¡æè¯»åæ§ çaofæä»¶ï¼è¿ç¹åå¿«ç§æç¹ç±»ä¼¼ï¼\n\nè§¦åæºå¶ï¼\n\nRedisä¼è®°å½ä¸æ¬¡éåæ¶çAOFå¤§å°ï¼é»è®¤éç½®æ¯å½AOFæä»¶å¤§å°æ¯ä¸æ¬¡rewriteåå¤§å°çå·²è¢«ä¸æä»¶å¤§ äº64Mçè§¦åã\n\n> ä¼ç¹åç¼ºç¹\n\nä¼ç¹ï¼\n\n1ãæ¯ä¿®æ¹åæ­¥ï¼appendfsync always åæ­¥æä¹åï¼æ¯æ¬¡åçæ°æ®åæ´ä¼è¢«ç«å³è®°å½å°ç£çï¼æ§è½è¾å·®ä½æ°æ®å®æ´æ§æ¯è¾å¥½\n\n2ãæ¯ç§åæ­¥ï¼ appendfsync everysec å¼æ­¥æä½ï¼æ¯ç§è®°å½ ï¼å¦æä¸ç§åå®æºï¼ææ°æ®ä¸¢å¤±\n\n3ãä¸åæ­¥ï¼ appendfsync no ä»ä¸åæ­¥\n\nç¼ºç¹ï¼\n\n1ãç¸åæ°æ®éçæ°æ®èè¨ï¼aof æä»¶è¦è¿å¤§äº rdbæä»¶ï¼æ¢å¤éåº¦æ¢äº rdbã\n\n2ãAof è¿è¡æçè¦æ¢äº rdbï¼æ¯ç§åæ­¥ç­ç¥æçè¾å¥½ï¼ä¸åæ­¥æçårdbç¸åã\n\n> å°ç»\n\n\n\n\n# æ»ç»\n\n1ãRDB æä¹åæ¹å¼è½å¤å¨æå®çæ¶é´é´éåå¯¹ä½ çæ°æ®è¿è¡å¿«ç§å­å¨\n\n2ãAOF æä¹åæ¹å¼è®°å½æ¯æ¬¡å¯¹æå¡å¨åçæä½ï¼å½æå¡å¨éå¯çæ¶åä¼éæ°æ§è¡è¿äºå½ä»¤æ¥æ¢å¤åå§çæ°æ®ï¼AOFå½ä»¤ä»¥Redis åè®®è¿½å ä¿å­æ¯æ¬¡åçæä½å°æä»¶æ«å°¾ï¼Redisè¿è½å¯¹AOFæä»¶è¿è¡åå°éåï¼ä½¿å¾AOFæä»¶çä½ç§¯ä¸è³äºè¿å¤§ã\n\n3ãåªåç¼å­ï¼å¦æä½ åªå¸æä½ çæ°æ®å¨æå¡å¨è¿è¡çæ¶åå­å¨ï¼ä½ ä¹å¯ä»¥ä¸ä½¿ç¨ä»»ä½æä¹å\n\n4ãåæ¶å¼å¯ä¸¤ç§æä¹åæ¹å¼\n\n * å¨è¿ç§æåµä¸ï¼å½rediséå¯çæ¶åä¼ä¼åè½½å¥AOFæä»¶æ¥æ¢å¤åå§çæ°æ®ï¼å ä¸ºå¨éå¸¸æåµä¸AOF æä»¶ä¿å­çæ°æ®éè¦æ¯RDBæä»¶ä¿å­çæ°æ®éè¦å®æ´ã\n * RDB çæ°æ®ä¸å®æ¶ï¼åæ¶ä½¿ç¨ä¸¤èæ¶æå¡å¨éå¯ä¹åªä¼æ¾AOFæä»¶ï¼é£è¦ä¸è¦åªä½¿ç¨AOFå¢ï¼å»ºè®®ä¸è¦ï¼å ä¸ºRDBæ´éåç¨äºå¤ä»½æ°æ®åºï¼AOFå¨ä¸æ­ååä¸å¥½å¤ä»½ï¼ï¼å¿«ééå¯ï¼èä¸ä¸ä¼æ AOFå¯è½æ½å¨çBugï¼ççä½ä¸ºä¸ä¸ªä¸ä¸çææ®µã\n\n5ãæ§è½å»ºè®®\n\n * å ä¸ºRDBæä»¶åªç¨ä½åå¤ç¨éï¼å»ºè®®åªå¨Slaveä¸æä¹åRDBæä»¶ï¼èä¸åªè¦15åéå¤ä»½ä¸æ¬¡å°±å¤ äºï¼åªä¿ç save 900 1 è¿æ¡è§åã\n * å¦æEnable AOF ï¼å¥½å¤æ¯å¨ææ¶å£æåµä¸ä¹åªä¼ä¸¢å¤±ä¸è¶è¿ä¸¤ç§æ°æ®ï¼å¯å¨èæ¬è¾ç®ååªloadèª å·±çAOFæä»¶å°±å¯ä»¥äºï¼ä»£ä»·ä¸æ¯å¸¦æ¥äºæç»­çIOï¼äºæ¯AOF rewrite çæåå° rewrite è¿ç¨ä¸­äº§ ççæ°æ°æ®åå°æ°æä»¶é æçé»å¡å ä¹æ¯ä¸å¯é¿åçãåªè¦ç¡¬çè®¸å¯ï¼åºè¯¥å°½éåå°AOF rewrite çé¢çï¼AOFéåçåºç¡å¤§å°é»è®¤å¼64Må¤ªå°äºï¼å¯ä»¥è®¾å°5Gä»¥ä¸ï¼é»è®¤è¶è¿åå¤§å°100%å¤§å°é åå¯ä»¥æ¹å°éå½çæ°å¼ã\n * å¦æä¸Enable AOF ï¼ä»é  Master-Slave Repllcation å®ç°é«å¯ç¨æ§ä¹å¯ä»¥ï¼è½çæä¸å¤§ç¬IOï¼ä¹ åå°äºrewriteæ¶å¸¦æ¥çç³»ç»æ³¢å¨ãä»£ä»·æ¯å¦æMaster/Slave åæ¶åæï¼ä¼ä¸¢å¤±åå åéçæ°æ®ï¼ å¯å¨èæ¬ä¹è¦æ¯è¾ä¸¤ä¸ª Master/Slave ä¸­ç RDBæä»¶ï¼è½½å¥è¾æ°çé£ä¸ªï¼å¾®åå°±æ¯è¿ç§æ¶æã\n\n\n# Redis åå¸è®¢é\n\n\n# ç®ä»\n\nRedis åå¸è®¢é(pub/sub)æ¯ä¸ç§æ¶æ¯éä¿¡æ¨¡å¼ï¼åéè(pub)åéæ¶æ¯ï¼è®¢éè(sub)æ¥æ¶æ¶æ¯ã\n\nRedis å®¢æ·ç«¯å¯ä»¥è®¢éä»»ææ°éçé¢éã\n\nè®¢é/åå¸æ¶æ¯å¾ï¼\n\n\n\nä¸å¾å±ç¤ºäºé¢é channel1 ï¼ ä»¥åè®¢éè¿ä¸ªé¢éçä¸ä¸ªå®¢æ·ç«¯ ââ client2 ã client5 å client1 ä¹é´çå³ç³»ï¼\n\n\n\nå½ææ°æ¶æ¯éè¿ PUBLISH å½ä»¤åéç»é¢é channel1 æ¶ï¼ è¿ä¸ªæ¶æ¯å°±ä¼è¢«åéç»è®¢éå®çä¸ä¸ªå®¢æ·ç«¯ï¼\n\n\n\nå½ä»¤\n\nä¸è¡¨ååºäº redis åå¸è®¢éå¸¸ç¨å½ä»¤ï¼\n\nåºå·   å½ä»¤åæè¿°\n1    [PSUBSCRIBE pattern [pattern ...]]\n     è®¢éä¸ä¸ªæå¤ä¸ªç¬¦åç»å®æ¨¡å¼çé¢éã\n2    [PUBSUB subcommand [argument [argument ...]]]\n     æ¥çè®¢éä¸åå¸ç³»ç»ç¶æã\n3    [PUBLISH channel message]\n     å°ä¿¡æ¯åéå°æå®çé¢éã\n4    [PUNSUBSCRIBE [pattern [pattern ...]]]\n     éè®¢ææç»å®æ¨¡å¼çé¢éã\n5    [SUBSCRIBE channel [channel ...]]\n     è®¢éç»å®çä¸ä¸ªæå¤ä¸ªé¢éçä¿¡æ¯ã\n6    [UNSUBSCRIBE [channel [channel ...]]]\n     æéè®¢ç»å®çé¢éã\n\n\n# æµè¯\n\nä»¥ä¸å®ä¾æ¼ç¤ºäºåå¸è®¢éæ¯å¦ä½å·¥ä½çã\n\næä»¬åæå¼ä¸¤ä¸ª redis-cli å®¢æ·ç«¯\n\nå¨ç¬¬ä¸ä¸ª redis-cli å®¢æ·ç«¯ï¼åå»ºè®¢éé¢éåä¸º redisChatï¼è¾å¥SUBSCRIBE redisChat\n\nredis 127.0.0.1:6379> SUBSCRIBE redisChat\nReading messages... (press Ctrl-C to quit)\n1) "subscribe"\n2) "redisChat"\n3) (integer) 1\n\n\n1\n2\n3\n4\n5\n\n\nå¨ç¬¬äºä¸ªå®¢æ·ç«¯ï¼åå¸ä¸¤æ¬¡æ¶æ¯ï¼è®¢éèå°±è½æ¥æ¶ å°æ¶æ¯ã\n\nredis 127.0.0.1:6379> PUBLISH redisChat "Hello,Redis"\n(integer) 1\nredis 127.0.0.1:6379> PUBLISH redisChat "Helloï¼java"\n(integer) 1\n\n\n1\n2\n3\n4\n\n\nè®¢éèçå®¢æ·ç«¯ä¼æ¾ç¤ºå¦ä¸æ¶æ¯\n\n>  1. "message"\n>  2. "redisChat"\n>  3. "Hello,Redis"\n>  4. "message"\n>  5. "redisChat"\n>  6. "Helloï¼java"\n\n\n# åç\n\nRedisæ¯ä½¿ç¨Cå®ç°çï¼éè¿åæ Redis æºç éç pubsub.c æä»¶ï¼äºè§£åå¸åè®¢éæºå¶çåºå±å®ç°ï¼æ¥å æ·±å¯¹ Redis ççè§£ã\n\nRedis éè¿ PUBLISH ãSUBSCRIBE å PSUBSCRIBE ç­å½ä»¤å®ç°åå¸åè®¢éåè½ã\n\néè¿ SUBSCRIBE å½ä»¤è®¢éæé¢éåï¼redis-server éç»´æ¤äºä¸ä¸ªå­å¸ï¼å­å¸çé®å°±æ¯ä¸ä¸ªä¸ª channel ï¼èå­å¸çå¼åæ¯ä¸ä¸ªé¾è¡¨ï¼é¾è¡¨ä¸­ä¿å­äºææè®¢éè¿ä¸ª channel çå®¢æ·ç«¯ãSUBSCRIBE å½ä»¤çå³é®ï¼å°±æ¯å°å®¢æ·ç«¯æ·»å å°ç»å® channel çè®¢éé¾è¡¨ä¸­ã\n\néè¿ PUBLISH å½ä»¤åè®¢éèåéæ¶æ¯ï¼redis-server ä¼ä½¿ç¨ç»å®çé¢éä½ä¸ºé®ï¼å¨å®æç»´æ¤ç channel å­å¸ä¸­æ¥æ¾è®°å½äºè®¢éè¿ä¸ªé¢éçææå®¢æ·ç«¯çé¾è¡¨ï¼éåè¿ä¸ªé¾è¡¨ï¼å°æ¶æ¯åå¸ç»ææè®¢éèã\n\nPub/Sub ä»å­é¢ä¸çè§£å°±æ¯åå¸ï¼Publishï¼ä¸è®¢éï¼Subscribeï¼ï¼å¨Redisä¸­ï¼ä½ å¯ä»¥è®¾å®å¯¹æä¸ä¸ª keyå¼è¿è¡æ¶æ¯åå¸åæ¶æ¯è®¢éï¼å½ä¸ä¸ªkeyå¼ä¸è¿è¡äºæ¶æ¯åå¸åï¼ææè®¢éå®çå®¢æ·ç«¯é½ä¼æ¶å°ç¸åºçæ¶æ¯ãè¿ä¸åè½æææ¾çç¨æ³å°±æ¯ç¨ä½å®æ¶æ¶æ¯ç³»ç»ï¼æ¯å¦æ®éçå³æ¶èå¤©ï¼ç¾¤èç­åè½ã\n\nä½¿ç¨åºæ¯ï¼\n\nRedisçPub/Subç³»ç»å¯ä»¥æå»ºå®æ¶çæ¶æ¯ç³»ç»ï¼æ¯å¦å¾å¤ç¨Pub/Subæå»ºçå®æ¶èå¤©ç³»ç»çä¾å­ã\n\n\n# Redisä¸»ä»å¤å¶\n\n\n# æ¦å¿µ\n\nä¸»ä»å¤å¶ï¼æ¯æå°ä¸å°Redisæå¡å¨çæ°æ®ï¼å¤å¶å°å¶ä»çRedisæå¡å¨ãåèç§°ä¸ºä¸»èç¹ (master/leader)ï¼åèç§°ä¸ºä»èç¹(slave/follower)ï¼æ°æ®çå¤å¶æ¯ååçï¼åªè½ç±ä¸»èç¹å°ä»èç¹ã Masterä»¥åä¸ºä¸»ï¼Slave ä»¥è¯»ä¸ºä¸»ã\n\né»è®¤æåµä¸ï¼æ¯å°Redisæå¡å¨é½æ¯ä¸»èç¹ï¼ä¸ä¸ä¸ªä¸»èç¹å¯ä»¥æå¤ä¸ªä»èç¹(ææ²¡æä»èç¹)ï¼ä½ä¸ä¸ªä»èç¹åªè½æä¸ä¸ªä¸»èç¹ã\n\nä¸»ä»å¤å¶çä½ç¨ä¸»è¦åæ¬ï¼\n\n1ãæ°æ®åä½ï¼ä¸»ä»å¤å¶å®ç°äºæ°æ®çç­å¤ä»½ï¼æ¯æä¹åä¹å¤çä¸ç§æ°æ®åä½æ¹å¼ã\n\n2ãæéæ¢å¤ï¼å½ä¸»èç¹åºç°é®é¢æ¶ï¼å¯ä»¥ç±ä»èç¹æä¾æå¡ï¼å®ç°å¿«éçæéæ¢å¤ï¼å®éä¸æ¯ä¸ç§æå¡çåä½ã\n\n3ãè´è½½åè¡¡ï¼å¨ä¸»ä»å¤å¶çåºç¡ä¸ï¼éåè¯»ååç¦»ï¼å¯ä»¥ç±ä¸»èç¹æä¾åæå¡ï¼ç±ä»èç¹æä¾è¯»æå¡ ï¼å³åRedisæ°æ®æ¶åºç¨è¿æ¥ä¸»èç¹ï¼è¯»Redisæ°æ®æ¶åºç¨è¿æ¥ä»èç¹ï¼ï¼åææå¡å¨è´è½½ï¼å°¤å¶æ¯å¨åå°è¯»å¤çåºæ¯ä¸ï¼éè¿å¤ä¸ªä»èç¹åæè¯»è´è½½ï¼å¯ä»¥å¤§å¤§æé«Redisæå¡å¨çå¹¶åéã\n\n4ãé«å¯ç¨åºç³ï¼é¤äºä¸è¿°ä½ç¨ä»¥å¤ï¼ä¸»ä»å¤å¶è¿æ¯å¨åµåéç¾¤è½å¤å®æ½çåºç¡ï¼å æ­¤è¯´ä¸»ä»å¤å¶æ¯ Redisé«å¯ç¨çåºç¡ã\n\nä¸è¬æ¥è¯´ï¼è¦å°Redisè¿ç¨äºå·¥ç¨é¡¹ç®ä¸­ï¼åªä½¿ç¨ä¸å°Redisæ¯ä¸ä¸ä¸è½çï¼åå å¦ä¸ï¼\n\n1ãä»ç»æä¸ï¼åä¸ªRedisæå¡å¨ä¼åçåç¹æéï¼å¹¶ä¸ä¸å°æå¡å¨éè¦å¤çææçè¯·æ±è´è½½ï¼ååè¾ å¤§ï¼\n\n2ãä»å®¹éä¸ï¼åä¸ªRedisæå¡å¨åå­å®¹éæéï¼å°±ç®ä¸å°Redisæå¡å¨åå­å®¹éä¸º256Gï¼ä¹ä¸è½å°ææåå­ç¨ä½Rediså­å¨åå­ï¼ä¸è¬æ¥è¯´ï¼åå°Redisæå¤§ä½¿ç¨åå­ä¸åºè¯¥è¶è¿20Gã\n\nçµåç½ç«ä¸çååï¼ä¸è¬é½æ¯ä¸æ¬¡ä¸ä¼ ï¼æ æ°æ¬¡æµè§çï¼è¯´ä¸ä¸ç¹ä¹å°±æ¯"å¤è¯»å°å"ã\n\nå¯¹äºè¿ç§åºæ¯ï¼æä»¬å¯ä»¥ä½¿å¦ä¸è¿ç§æ¶æï¼\n\n\n\n\n# ç¯å¢éç½®\n\n> åºæ¬éç½®\n\næ¥çå½ååºçä¿¡æ¯ï¼info replication\n\n127.0.0.1:6379> info replication\n# Replication\nrole:master\t# è§è²\nconnected_slaves:0\t# ä»æºæ°é\nmaster_failover_state:no-failover\nmaster_replid:1a6933acf7ec9711bfa0a1848976676557e1e6a0\nmaster_replid2:0000000000000000000000000000000000000000\nmaster_repl_offset:0\nsecond_repl_offset:-1\nrepl_backlog_active:0\nrepl_backlog_size:1048576\nrepl_backlog_first_byte_offset:0\nrepl_backlog_histlen:0\n127.0.0.1:6379> \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nå ä¸ºæ²¡æå¤ä¸ªæå¡å¨ï¼å°±ä»¥æ¬å°å¼å¯3ä¸ªç«¯å£ï¼æ¨¡æ3ä¸ªæå¡\n\næ¢ç¶éè¦å¯å¨å¤ä¸ªæå¡ï¼å°±éè¦å¤ä¸ªéç½®æä»¶ãæ¯ä¸ªéç½®æä»¶å¯¹åºä¿®æ¹ä»¥ä¸ä¿¡æ¯ï¼\n\n * ç«¯å£å·ï¼portï¼\n * pidæä»¶åï¼pidfileï¼\n * æ¥å¿æä»¶åï¼logfileï¼\n * rdbæä»¶åï¼dbfilenameï¼\n\n1ãæ·è´å¤ä¸ªredis.conf æä»¶\n\nç«¯å£åå«æ¯6379ã6380ã6381\n\n[root@localhost ~]# cd /usr/local/bin/myconfig\n[root@localhost myconfig]# ls\ndump.rdb  redis.conf\n[root@localhost myconfig]# cp redis.conf redis79.conf\n[root@localhost myconfig]# cp redis.conf redis80.conf\n[root@localhost myconfig]# cp redis.conf redis81.conf\n[root@localhost myconfig]# ls\ndump.rdb  redis79.conf  redis80.conf  redis81.conf  redis.conf\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nåå«ä¿®æ¹éç½®ä¸é¢åç¹å¯¹åºçéç½®ï¼ä¸¾ä¾ï¼\n\n\n\n\n\n\n\néç½®å¥½åå«å¯å¨3ä¸ªä¸åç«¯å£æå¡\n\n * redis-server myconfig/redis79.conf\n\n * redis-server myconfig/redis80.conf\n\n * redis-server myconfig/redis81.conf\n\nredis-server myconfig/redis79.conf\n\n\n\n\n# ä¸ä¸»äºä»\n\n1ãä¹åæä»¬ååå«å¼å¯redisè¿æ¥ï¼redis-cli -p 6379ï¼redis-cli -p 6380ï¼redis-cli -p 6381\n\néè¿æä»¤\n\n127.0.0.1:6379> info replication\n\n\n1\n\n\nå¯ä»¥åç°ï¼é»è®¤æåµä¸ï¼å¼å¯çæ¯ä¸ªredisæå¡å¨é½æ¯ä¸»èç¹\n\n\n\n2ãéç½®ä¸ºä¸ä¸ªMaster ä¸¤ä¸ªSlaveï¼å³ä¸ä¸»äºä»ï¼\n\n6379ä¸ºä¸»ï¼6380,6381ä¸ºä»\n\nslaveof 127.0.0.1 6379\n\n\n\n3ãå¨ä¸»æºè®¾ç½®å¼ï¼å¨ä»æºé½å¯ä»¥åå°ï¼ä»æºä¸è½åå¼ï¼\n\n\n\næä»¬è¿éæ¯ä½¿ç¨å½ä»¤æ­å»ºï¼æ¯âææ¶çâï¼ä¹å¯å»éç½®éè¿è¡ä¿®æ¹ï¼è¿æ ·è¯åæ¯âæ°¸ä¹çâ\n\n\n\n> ä½¿ç¨è§å\n\nå½ä¸»æºæ­çµå®æºåï¼é»è®¤æåµä¸ä»æºçè§è²ä¸ä¼åçåå ï¼éç¾¤ä¸­åªæ¯å¤±å»äºåæä½ï¼å½ä¸»æºæ¢å¤ä»¥åï¼åä¼è¿æ¥ä¸ä»æºæ¢å¤åç¶ã\n\nå½ä»æºæ­çµå®æºåï¼è¥ä¸æ¯ä½¿ç¨éç½®æä»¶éç½®çä»æºï¼åæ¬¡å¯å¨åä½ä¸ºä¸»æºæ¯æ æ³è·åä¹åä¸»æºçæ°æ®çï¼è¥æ­¤æ¶éæ°éç½®ç§°ä¸ºä»æºï¼åå¯ä»¥è·åå°ä¸»æºçæææ°æ®ãè¿éå°±è¦æå°ä¸ä¸ªåæ­¥åçã\n\næä¸¤ç§æ¹å¼å¯ä»¥äº§çæ°çä¸»æºï¼çä¸æâè°æç¯¡ä½â\n\n> å±å±é¾è·¯\n\nä¸ä¸ä¸ªSlave å¯ä»¥æ¯ä¸ä¸ä¸ªslave å Masterï¼Slave åæ ·å¯ä»¥æ¥æ¶å¶ä» slaves çè¿æ¥ååæ­¥è¯·æ±ï¼é£ä¹ è¯¥ slave ä½ä¸ºäºé¾æ¡ä¸­ä¸ä¸ä¸ªçmasterï¼å¯ä»¥ææåè½» master çåååï¼\n\n\n\n\n\n> è°æç¯¡ä½\n\næä¸¤ç§æ¹å¼å¯ä»¥äº§çæ°çä¸»æºï¼\n\n * ä»æºæå¨æ§è¡å½ä»¤slaveof no one,è¿æ ·æ§è¡ä»¥åä»æºä¼ç¬ç«åºæ¥æä¸ºä¸ä¸ªä¸»æº\n * ä½¿ç¨å¨åµæ¨¡å¼ï¼èªå¨éä¸¾ï¼\n\n> å¤å¶åç\n\nSlave å¯å¨æåè¿æ¥å° master åä¼åéä¸ä¸ªsyncå½ä»¤\n\nMaster æ¥å°å½ä»¤ï¼å¯å¨åå°çå­çè¿ç¨ï¼åæ¶æ¶éæææ¥æ¶å°çç¨äºä¿®æ¹æ°æ®éå½ä»¤ï¼å¨åå°è¿ç¨æ§è¡ å®æ¯ä¹åï¼masterå°ä¼ éæ´ä¸ªæ°æ®æä»¶å°slaveï¼å¹¶å®æä¸æ¬¡å®å¨åæ­¥ã\n\nå¨éå¤å¶ï¼èslaveæå¡å¨æ¥æ¶å°æ°æ®åºæä»¶æ°æ®åï¼å°å¶å­çå¹¶å è½½å°åå­ä¸­ã\n\nå¢éå¤å¶ï¼Master ç»§ç»­å°æ°çæææ¶éå°çä¿®æ¹å½ä»¤ä¾æ¬¡ä¼ ç»slaveï¼å®æåæ­¥\n\nä½æ¯åªè¦æ¯éæ°è¿æ¥masterï¼ä¸æ¬¡å®å¨åæ­¥ï¼å¨éå¤å¶ï¼å°è¢«èªå¨æ§è¡\n\n\n# å¨åµæ¨¡å¼\n\næ´å¤ä¿¡æ¯åèåå®¢ï¼https://www.jianshu.com/p/06ab9daf921d\n\n> æ¦è¿°\n\nä¸»ä»åæ¢ææ¯çæ¹æ³æ¯ï¼å½ä¸»æå¡å¨å®æºåï¼éè¦æå¨æä¸å°ä»æå¡å¨åæ¢ä¸ºä¸»æå¡å¨ï¼è¿å°±éè¦äººå·¥ å¹²é¢ï¼è´¹äºè´¹åï¼è¿ä¼é æä¸æ®µæ¶é´åæå¡ä¸å¯ç¨ãè¿ä¸æ¯ä¸ç§æ¨èçæ¹å¼ï¼æ´å¤æ¶åï¼æä»¬ä¼åèè å¨åµæ¨¡å¼ãRedisä»2.8å¼å§æ­£å¼æä¾äºSentinelï¼å¨åµï¼ æ¶ææ¥è§£å³è¿ä¸ªé®é¢ã\n\nè°æç¯¡ä½çèªå¨çï¼è½å¤åå°çæ§ä¸»æºæ¯å¦æéï¼å¦ææéäºæ ¹æ®æç¥¨æ°èªå¨å°ä»åºè½¬æ¢ä¸ºä¸»åºã\n\nå¨åµæ¨¡å¼æ¯ä¸ç§ç¹æ®çæ¨¡å¼ï¼é¦åRedisæä¾äºå¨åµçå½ä»¤ï¼å¨åµæ¯ä¸ä¸ªç¬ç«çè¿ç¨ï¼ä½ä¸ºè¿ç¨ï¼å®ä¼ç¬ ç«è¿è¡ãå¶åçæ¯å¨åµéè¿åéå½ä»¤ï¼ç­å¾Redisæå¡å¨ååºï¼ä»èçæ§è¿è¡çå¤ä¸ªRediså®ä¾ã\n\n\n\nè¿éçå¨åµæä¸¤ä¸ªä½ç¨\n\n * éè¿åéå½ä»¤ï¼è®©Redisæå¡å¨è¿åçæ§å¶è¿è¡ç¶æï¼åæ¬ä¸»æå¡å¨åä»æå¡å¨ã\n * å½å¨åµçæµå°masterå®æºï¼ä¼èªå¨å°slaveåæ¢æmasterï¼ç¶åéè¿åå¸è®¢éæ¨¡å¼éç¥å¶ä»çä»æå¡å¨ï¼ä¿®æ¹éç½®æä»¶ï¼è®©å®ä»¬åæ¢ä¸»æºã\n\nç¶èä¸ä¸ªå¨åµè¿ç¨å¯¹Redisæå¡å¨è¿è¡çæ§ï¼å¯è½ä¼åºç°é®é¢ï¼ä¸ºæ­¤ï¼æä»¬å¯ä»¥ä½¿ç¨å¤ä¸ªå¨åµè¿è¡çæ§ã åä¸ªå¨åµä¹é´è¿ä¼è¿è¡çæ§ï¼è¿æ ·å°±å½¢æäºå¤å¨åµæ¨¡å¼ã\n\n\n\nåè®¾ä¸»æå¡å¨å®æºï¼å¨åµ1åæ£æµå°è¿ä¸ªç»æï¼ç³»ç»å¹¶ä¸ä¼é©¬ä¸è¿è¡failoverè¿ç¨ï¼ä»ä»æ¯å¨åµ1ä¸»è§çè®¤ ä¸ºä¸»æå¡å¨ä¸å¯ç¨ï¼è¿ä¸ªç°è±¡æä¸ºä¸»è§ä¸çº¿ãå½åé¢çå¨åµä¹æ£æµå°ä¸»æå¡å¨ä¸å¯ç¨ï¼å¹¶ä¸æ°éè¾¾å°ä¸ å®å¼æ¶ï¼é£ä¹å¨åµä¹é´å°±ä¼è¿è¡ä¸æ¬¡æç¥¨ï¼æç¥¨çç»æç±ä¸ä¸ªå¨åµåèµ·ï¼è¿è¡failover[æéè½¬ç§»]æä½ã åæ¢æååï¼å°±ä¼éè¿åå¸è®¢éæ¨¡å¼ï¼è®©åä¸ªå¨åµæèªå·±çæ§çä»æå¡å¨å®ç°åæ¢ä¸»æºï¼è¿ä¸ªè¿ç¨ç§°ä¸º å®¢è§ä¸çº¿ã\n\n> éç½®æµè¯\n\n1ãè°æ´ç»æï¼6379å¸¦ç80ã81\n\n2ãèªå®ä¹ç /myconfig ç®å½ä¸æ°å»º sentinel.conf æä»¶ï¼åå­åä¸ä¸è¦é\n\n3ãéç½®å¨åµï¼å¡«ååå®¹\n\n * sentinel monitor è¢«çæ§ä¸»æºåå­ 127.0.0.1 6379 1\n   \n   ä¾å¦ï¼sentinel monitor mymaster 127.0.0.1 6379 1ï¼\n   \n   ä¸é¢æåä¸ä¸ªæ°å­1ï¼è¡¨ç¤ºä¸»æºææåslaveæç¥¨çè®©è°æ¥æ¿æä¸ºä¸»æºï¼å¾ç¥¨æ°å¤å°åæä¸ºä¸»æº\n\n4ãå¯å¨å¨åµ\n\n * Redis-sentinel myconfig/sentinel.conf\n   \n   ä¸è¿°ç®å½ä¾ç§åèªçå®éæåµéç½®ï¼å¯è½ç®å½ä¸å\n\næåå¯å¨å¨åµæ¨¡å¼\n\n\n\næ­¤æ¶å¨åµçè§çæä»¬çä¸»æº6379ï¼å½æä»¬æ­å¼ä¸»æºåï¼\n\n\n\n> å¨åµæ¨¡å¼çä¼ç¼ºç¹\n\nä¼ç¹\n\n 1. å¨åµéç¾¤ï¼åºäºä¸»ä»å¤å¶æ¨¡å¼ï¼ææä¸»ä»å¤å¶çä¼ç¹ï¼å®é½æ\n 2. ä¸»ä»å¯ä»¥åæ¢ï¼æéå¯ä»¥è½¬ç§»ï¼ç³»ç»çå¯ç¨æ§æ´å¥½\n 3. å¨åµæ¨¡å¼æ¯ä¸»ä»æ¨¡å¼çåçº§ï¼æå¨å°èªå¨ï¼æ´å å¥å£®\n\nç¼ºç¹ï¼\n\n 1. Redisä¸å¥½å¨çº¿æ©å®¹ï¼éç¾¤å®¹éä¸æ¦è¾¾å°ä¸éï¼å¨çº¿æ©å®¹å°±ååéº»ç¦\n 2. å®ç°å¨åµæ¨¡å¼çéç½®å¶å®æ¯å¾éº»ç¦çï¼éé¢æå¾å¤éç½®é¡¹\n\n> å¨åµæ¨¡å¼çå¨é¨éç½®\n\nå®æ´çå¨åµæ¨¡å¼éç½®æä»¶ sentinel.conf\n\n# Example sentinel.conf\n \n# å¨åµsentinelå®ä¾è¿è¡çç«¯å£ é»è®¤26379\nport 26379\n \n# å¨åµsentinelçå·¥ä½ç®å½\ndir /tmp\n \n# å¨åµsentinelçæ§çredisä¸»èç¹ç ip port \n# master-name  å¯ä»¥èªå·±å½åçä¸»èç¹åå­ åªè½ç±å­æ¯A-zãæ°å­0-9 ãè¿ä¸ä¸ªå­ç¬¦".-_"ç»æã\n# quorum å½è¿äºquorumä¸ªæ°sentinelå¨åµè®¤ä¸ºmasterä¸»èç¹å¤±è é£ä¹è¿æ¶ å®¢è§ä¸è®¤ä¸ºä¸»èç¹å¤±èäº\n# sentinel monitor <master-name> <ip> <redis-port> <quorum>\nsentinel monitor mymaster 127.0.0.1 6379 1\n \n# å½å¨Rediså®ä¾ä¸­å¼å¯äºrequirepass foobared ææå¯ç  è¿æ ·ææè¿æ¥Rediså®ä¾çå®¢æ·ç«¯é½è¦æä¾å¯ç \n# è®¾ç½®å¨åµsentinel è¿æ¥ä¸»ä»çå¯ç  æ³¨æå¿é¡»ä¸ºä¸»ä»è®¾ç½®ä¸æ ·çéªè¯å¯ç \n# sentinel auth-pass <master-name> <password>\nsentinel auth-pass mymaster MySUPER--secret-0123passw0rd\n \n \n# æå®å¤å°æ¯«ç§ä¹å ä¸»èç¹æ²¡æåºç­å¨åµsentinel æ­¤æ¶ å¨åµä¸»è§ä¸è®¤ä¸ºä¸»èç¹ä¸çº¿ é»è®¤30ç§\n# sentinel down-after-milliseconds <master-name> <milliseconds>\nsentinel down-after-milliseconds mymaster 30000\n \n# è¿ä¸ªéç½®é¡¹æå®äºå¨åçfailoverä¸»å¤åæ¢æ¶æå¤å¯ä»¥æå¤å°ä¸ªslaveåæ¶å¯¹æ°çmasterè¿è¡ åæ­¥ï¼\nè¿ä¸ªæ°å­è¶å°ï¼å®æfailoveræéçæ¶é´å°±è¶é¿ï¼\nä½æ¯å¦æè¿ä¸ªæ°å­è¶å¤§ï¼å°±æå³çè¶ å¤çslaveå ä¸ºreplicationèä¸å¯ç¨ã\nå¯ä»¥éè¿å°è¿ä¸ªå¼è®¾ä¸º 1 æ¥ä¿è¯æ¯æ¬¡åªæä¸ä¸ªslave å¤äºä¸è½å¤çå½ä»¤è¯·æ±çç¶æã\n# sentinel parallel-syncs <master-name> <numslaves>\nsentinel parallel-syncs mymaster 1\n \n \n \n# æéè½¬ç§»çè¶æ¶æ¶é´ failover-timeout å¯ä»¥ç¨å¨ä»¥ä¸è¿äºæ¹é¢ï¼ \n#1. åä¸ä¸ªsentinelå¯¹åä¸ä¸ªmasterä¸¤æ¬¡failoverä¹é´çé´éæ¶é´ã\n#2. å½ä¸ä¸ªslaveä»ä¸ä¸ªéè¯¯çmasteré£éåæ­¥æ°æ®å¼å§è®¡ç®æ¶é´ãç´å°slaveè¢«çº æ­£ä¸ºåæ­£ç¡®çmasteré£éåæ­¥æ°æ®æ¶ã\n#3.å½æ³è¦åæ¶ä¸ä¸ªæ­£å¨è¿è¡çfailoveræéè¦çæ¶é´ã  \n#4.å½è¿è¡failoveræ¶ï¼éç½®ææslavesæåæ°çmasteræéçæå¤§æ¶é´ãä¸è¿ï¼å³ä½¿è¿äºè¿ä¸ªè¶æ¶ï¼slavesä¾ç¶ä¼è¢«æ­£ç¡®éç½®ä¸ºæåmasterï¼ä½æ¯å°±ä¸æparallel-syncsæéç½®çè§åæ¥äº\n# é»è®¤ä¸åé\n# sentinel failover-timeout <master-name> <milliseconds>\nsentinel failover-timeout mymaster 180000\n \n# SCRIPTS EXECUTION\n \n#éç½®å½æä¸äºä»¶åçæ¶æéè¦æ§è¡çèæ¬ï¼å¯ä»¥éè¿èæ¬æ¥éç¥ç®¡çåï¼ä¾å¦å½ç³»ç»è¿è¡ä¸æ­£å¸¸æ¶åé®ä»¶éç¥ç¸å³äººåã\n#å¯¹äºèæ¬çè¿è¡ç»ææä»¥ä¸è§åï¼\n#è¥èæ¬æ§è¡åè¿å1ï¼é£ä¹è¯¥èæ¬ç¨åå°ä¼è¢«åæ¬¡æ§è¡ï¼éå¤æ¬¡æ°ç®åé»è®¤ä¸º10\n#è¥èæ¬æ§è¡åè¿å2ï¼æèæ¯2æ´é«çä¸ä¸ªè¿åå¼ï¼èæ¬å°ä¸ä¼éå¤æ§è¡ã\n#å¦æèæ¬å¨æ§è¡è¿ç¨ä¸­ç±äºæ¶å°ç³»ç»ä¸­æ­ä¿¡å·è¢«ç»æ­¢äºï¼ååè¿åå¼ä¸º1æ¶çè¡ä¸ºç¸åã\n#ä¸ä¸ªèæ¬çæå¤§æ§è¡æ¶é´ä¸º60sï¼å¦æè¶è¿è¿ä¸ªæ¶é´ï¼èæ¬å°ä¼è¢«ä¸ä¸ªSIGKILLä¿¡å·ç»æ­¢ï¼ä¹åéæ°æ§è¡ã\n \n#éç¥åèæ¬:å½sentinelæä»»ä½è­¦åçº§å«çäºä»¶åçæ¶ï¼æ¯å¦è¯´rediså®ä¾çä¸»è§å¤±æåå®¢è§å¤±æç­ç­ï¼ï¼å°ä¼å»è°ç¨è¿ä¸ªèæ¬ï¼\n#è¿æ¶è¿ä¸ªèæ¬åºè¯¥éè¿é®ä»¶ï¼SMSç­æ¹å¼å»éç¥ç³»ç»ç®¡çåå³äºç³»ç»ä¸æ­£å¸¸è¿è¡çä¿¡æ¯ãè°ç¨è¯¥èæ¬æ¶ï¼å°ä¼ ç»èæ¬ä¸¤ä¸ªåæ°ï¼\n#ä¸ä¸ªæ¯äºä»¶çç±»åï¼\n#ä¸ä¸ªæ¯äºä»¶çæè¿°ã\n#å¦æsentinel.conféç½®æä»¶ä¸­éç½®äºè¿ä¸ªèæ¬è·¯å¾ï¼é£ä¹å¿é¡»ä¿è¯è¿ä¸ªèæ¬å­å¨äºè¿ä¸ªè·¯å¾ï¼å¹¶ä¸æ¯å¯æ§è¡çï¼å¦åsentinelæ æ³æ­£å¸¸å¯å¨æåã\n#éç¥èæ¬\n# sentinel notification-script <master-name> <script-path>\n  sentinel notification-script mymaster /var/redis/notify.sh\n \n# å®¢æ·ç«¯éæ°éç½®ä¸»èç¹åæ°èæ¬\n# å½ä¸ä¸ªmasterç±äºfailoverèåçæ¹åæ¶ï¼è¿ä¸ªèæ¬å°ä¼è¢«è°ç¨ï¼éç¥ç¸å³çå®¢æ·ç«¯å³äºmasterå°åå·²ç»åçæ¹åçä¿¡æ¯ã\n# ä»¥ä¸åæ°å°ä¼å¨è°ç¨èæ¬æ¶ä¼ ç»èæ¬:\n# <master-name> <role> <state> <from-ip> <from-port> <to-ip> <to-port>\n# ç®å<state>æ»æ¯âfailoverâ,\n# <role>æ¯âleaderâæèâobserverâä¸­çä¸ä¸ªã \n# åæ° from-ip, from-port, to-ip, to-portæ¯ç¨æ¥åæ§çmasteråæ°çmaster(å³æ§çslave)éä¿¡ç\n# è¿ä¸ªèæ¬åºè¯¥æ¯éç¨çï¼è½è¢«å¤æ¬¡è°ç¨ï¼ä¸æ¯éå¯¹æ§çã\n# sentinel client-reconfig-script <master-name> <script-path>\nsentinel client-reconfig-script mymaster /var/redis/reconfig.sh\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n\n\n\n# ç¼å­ç©¿éä¸éªå´©\n\n\n# ç¼å­ç©¿éï¼æ¥ä¸å°ï¼\n\n> æ¦å¿µ\n\nå¨é»è®¤æåµä¸ï¼ç¨æ·è¯·æ±æ°æ®æ¶ï¼ä¼åå¨ç¼å­(Redis)ä¸­æ¥æ¾ï¼è¥æ²¡æ¾å°å³ç¼å­æªå½ä¸­ï¼åå¨æ°æ®åºä¸­è¿è¡æ¥æ¾ï¼æ°éå°å¯è½é®é¢ä¸å¤§ï¼å¯æ¯ä¸æ¦å¤§éçè¯·æ±æ°æ®ï¼ä¾å¦ç§æåºæ¯ï¼ç¼å­é½æ²¡æå½ä¸­çè¯ï¼å°±ä¼å¨é¨è½¬ç§»å°æ°æ®åºä¸ï¼é ææ°æ®åºæå¤§çååï¼å°±æå¯è½å¯¼è´æ°æ®åºå´©æºãç½ç»å®å¨ä¸­ä¹æäººæ¶æä½¿ç¨è¿ç§ææ®µè¿è¡æ»å»è¢«ç§°ä¸ºæ´ªæ°´æ»å»ã\n\n> è§£å³æ¹æ¡\n\nå¸éè¿æ»¤å¨\n\nå¯¹ææå¯è½æ¥è¯¢çåæ°ä»¥Hashçå½¢å¼å­å¨ï¼ä»¥ä¾¿å¿«éç¡®å®æ¯å¦å­å¨è¿ä¸ªå¼ï¼å¨æ§å¶å±åè¿è¡æ¦æªæ ¡éªï¼æ ¡éªä¸éè¿ç´æ¥æåï¼åè½»äºå­å¨ç³»ç»çååã\n\n\n\nç¼å­ç©ºå¯¹è±¡\n\nä¸æ¬¡è¯·æ±è¥å¨ç¼å­åæ°æ®åºä¸­é½æ²¡æ¾å°ï¼å°±å¨ç¼å­ä¸­æ¹ä¸ä¸ªç©ºå¯¹è±¡ç¨äºå¤çåç»­è¿ä¸ªè¯·æ±ã\n\n\n\nè¿æ ·åæä¸ä¸ªç¼ºé·ï¼å­å¨ç©ºå¯¹è±¡ä¹éè¦ç©ºé´ï¼å¤§éçç©ºå¯¹è±¡ä¼èè´¹ä¸å®çç©ºé´ï¼å­å¨æçå¹¶ä¸é«ãè§£å³è¿ä¸ªç¼ºé·çæ¹å¼å°±æ¯è®¾ç½®è¾ç­è¿ææ¶é´\n\nå³ä½¿å¯¹ç©ºå¼è®¾ç½®äºè¿ææ¶é´ï¼è¿æ¯ä¼å­å¨ç¼å­å±åå­å¨å±çæ°æ®ä¼æä¸æ®µæ¶é´çªå£çä¸ä¸è´ï¼è¿å¯¹äºéè¦ä¿æä¸è´æ§çä¸å¡ä¼æå½±åã\n\n\n# ç¼å­å»ç©¿ï¼éå¤ªå¤§ï¼ç¼å­è¿æï¼\n\n> æ¦å¿µ\n\nç¸è¾äºç¼å­ç©¿éï¼ç¼å­å»ç©¿çç®çæ§æ´å¼ºï¼ä¸ä¸ªå­å¨çkeyï¼å¨ç¼å­è¿æçä¸å»ï¼åæ¶æå¤§éçè¯·æ±ï¼è¿äºè¯·æ±é½ä¼å»ç©¿å°DBï¼é æç¬æ¶DBè¯·æ±éå¤§ãååéª¤å¢ãè¿å°±æ¯ç¼å­è¢«å»ç©¿ï¼åªæ¯éå¯¹å¶ä¸­æä¸ªkeyçç¼å­ä¸å¯ç¨èå¯¼è´å»ç©¿ï¼ä½æ¯å¶ä»çkeyä¾ç¶å¯ä»¥ä½¿ç¨ç¼å­ååºã\n\næ¯å¦ç­ææè¡ä¸ï¼ä¸ä¸ªç­ç¹æ°é»è¢«åæ¶å¤§éè®¿é®å°±å¯è½å¯¼è´ç¼å­å»ç©¿ã\n\n> è§£å³æ¹æ¡\n\n 1. è®¾ç½®ç­ç¹æ°æ®æ°¸ä¸è¿æ\n    \n    è¿æ ·å°±ä¸ä¼åºç°ç­ç¹æ°æ®è¿æçæåµï¼ä½æ¯å½Redisåå­ç©ºé´æ»¡çæ¶åä¹ä¼æ¸çé¨åæ°æ®ï¼èä¸æ­¤ç§æ¹æ¡ä¼å ç¨ç©ºé´ï¼ä¸æ¦ç­ç¹æ°æ®å¤äºèµ·æ¥ï¼å°±ä¼å ç¨é¨åç©ºé´ã\n\n 2. å äºæ¥é(åå¸å¼é)\n    \n    å¨è®¿é®keyä¹åï¼éç¨SETNXï¼set if not existsï¼æ¥è®¾ç½®å¦ä¸ä¸ªç­ækeyæ¥éä½å½åkeyçè®¿é®ï¼è®¿é®ç»æåå é¤è¯¥ç­ækeyãä¿è¯åæ¶å»åªæä¸ä¸ªçº¿ç¨è®¿é®ãè¿æ ·å¯¹éçè¦æ±å°±ååé«ã\n\n\n# ç¼å­éªå´©\n\n> æ¦å¿µ\n\nå¤§éçkeyè®¾ç½®äºç¸åçè¿ææ¶é´ï¼å¯¼è´å¨ç¼å­å¨åä¸æ¶å»å¨é¨å¤±æï¼é æç¬æ¶DBè¯·æ±éå¤§ãååéª¤å¢ï¼å¼èµ·éªå´©ã\n\näº§çéªå´©çåå ä¹ä¸ï¼æ¯å¦å¨åæ¬æçæ¶åï¼é©¬ä¸å°±è¦å°ååäºé¶ç¹ï¼å¾å¿«å°±ä¼è¿æ¥ä¸æ³¢æ¢è´­ï¼è¿æ³¢ååæ¶é´æ¯è¾éä¸­çæ¾å¥äºç¼å­ï¼åè®¾ç¼å­ä¸ä¸ªå°æ¶ãé£ä¹å°äºåæ¨ä¸ç¹éçæ¶åï¼è¿æ¹ååçç¼å­å°±é½è¿æäºãèå¯¹è¿æ¹ååçè®¿é®æ¥è¯¢ï¼é½è½å°äºæ°æ®åºä¸ï¼å¯¹äºæ°æ®åºèè¨ï¼å°±ä¼äº§çå¨ææ§çååæ³¢å³°ãäºæ¯ææçè¯·æ±é½ä¼è¾¾å°å­å¨å±ï¼å­å¨å±çè°ç¨éä¼æ´å¢ï¼é æå­å¨å±ä¹ä¼ææçæåµã\n\n\n\nå¶å®éä¸­è¿æï¼åä¸æ¯éå¸¸è´å½ï¼æ¯è¾è´å½çç¼å­éªå´©ï¼æ¯ç¼å­æå¡å¨æä¸ªèç¹å®æºææ­ç½ãå ä¸ºèªç¶ å½¢æçç¼å­éªå´©ï¼ä¸å®æ¯å¨æä¸ªæ¶é´æ®µéä¸­åå»ºç¼å­ï¼è¿ä¸ªæ¶åï¼æ°æ®åºä¹æ¯å¯ä»¥é¡¶ä½ååçãæ éå°± æ¯å¯¹æ°æ®åºäº§çå¨ææ§çååèå·²ãèç¼å­æå¡èç¹çå®æºï¼å¯¹æ°æ®åºæå¡å¨é æçååæ¯ä¸å¯é¢ç¥ çï¼å¾æå¯è½ç¬é´å°±ææ°æ®åºåå®ã\n\n> è§£å³æ¹æ¡\n\n * redisé«å¯ç¨\n   \n   è¿ä¸ªææ³çå«ä¹æ¯ï¼æ¢ç¶redisæå¯è½ææï¼é£æå¤å¢è®¾å å°redisï¼è¿æ ·ä¸å°ææä¹åå¶ä»çè¿å¯ä»¥ç»§ç»­å·¥ä½ï¼å¶å®å°±æ¯æ­å»ºçéç¾¤\n\n * éæµéçº§\n   \n   è¿ä¸ªè§£å³æ¹æ¡çææ³æ¯ï¼å¨ç¼å­å¤±æåï¼éè¿å éæèéåæ¥æ§å¶è¯»æ°æ®åºåç¼å­ççº¿ç¨æ°éãæ¯å¦å¯¹æä¸ªkeyåªåè®¸ä¸ä¸ªçº¿ç¨æ¥è¯¢æ°æ®ååç¼å­ï¼å¶ä»çº¿ç¨ç­å¾ã\n\n * æ°æ®é¢ç­\n   \n   æ°æ®å ç­çå«ä¹å°±æ¯å¨æ­£å¼é¨ç½²ä¹åï¼æåæå¯è½çæ°æ®åé¢åè®¿é®ä¸éï¼è¿æ ·é¨åå¯è½å¤§éè®¿é®çæ°æ®å°±ä¼å è½½å°ç¼å­ä¸­ãå¨å³å°åçå¤§å¹¶åè®¿é®åæå¨è§¦åå è½½ç¼å­ä¸åçkeyï¼è®¾ç½®ä¸åçè¿ææ¶é´ï¼è®©ç¼å­å¤±æçæ¶é´ç¹å°½éååã',normalizedContent:'# redis.conf\n\n\n# çæåºæ¬éç½®\n\n> ä½ç½®\n\nredis çéç½®æä»¶ä½äº redis å®è£ç®å½ä¸ï¼æä»¶åä¸º redis.conf\n\nconfig get * # è·åå¨é¨çéç½®\n\n\n1\n\n\næä»¬ä¸è¬æåµä¸ï¼ä¼åç¬æ·è´åºæ¥ä¸ä»½è¿è¡æä½ãæ¥ä¿è¯åå§æä»¶çå®å¨ã\n\næ­£å¦å¨ å®è£redis ä¸­çè®²è§£ä¸­æ·è´ä¸ä»½\n\n> å®¹éåä½ä¸åºåå¤§å°åï¼gågbæåºå«\n\n\n\n> include ç»åå¤ä¸ªéç½®\n\n\n\nåspringéç½®æä»¶ç±»ä¼¼ï¼å¯ä»¥éè¿includesåå«ï¼redis.conf å¯ä»¥ä½ä¸ºæ»æä»¶ï¼å¯ä»¥åå«å¶ä»æä»¶ï¼\n\n> network ç½ç»éç½®\n\nbind 127.0.0.1 # ç»å®çip\nprotected-mode yes # ä¿æ¤æ¨¡å¼\nport 6379 # é»è®¤ç«¯å£\n\n\n1\n2\n3\n\n\n> general éç¨\n\ndaemonize yes # é»è®¤æåµä¸ï¼redisä¸ä½ä¸ºå®æ¤è¿ç¨è¿è¡ãéè¦å¼å¯çè¯ï¼æ¹ä¸º yes\n\nsupervised no # å¯éè¿upstartåsystemdç®¡çrediså®æ¤è¿ç¨\n\nloglevel notice # æ¥å¿çº§å«ãå¯éé¡¹æï¼\n\t\t\t\t# debugï¼è®°å½å¤§éæ¥å¿ä¿¡æ¯ï¼éç¨äºå¼åãæµè¯é¶æ®µï¼\n\t\t\t\t# verboseï¼è¾å¤æ¥å¿ä¿¡æ¯ï¼\n\t\t\t\t# noticeï¼ééæ¥å¿ä¿¡æ¯ï¼ä½¿ç¨äºçäº§ç¯å¢ï¼\n\t\t\t\t# warningï¼ä»æé¨åéè¦ãå³é®ä¿¡æ¯æä¼è¢«è®°å½ï¼\nlogfile "" # æ¥å¿æä»¶çä½ç½®ï¼å½æå®ä¸ºç©ºå­ç¬¦ä¸²æ¶ï¼ä¸ºæ åè¾åº\ndatabases 16 # è®¾ç½®æ°æ®åºçæ°ç®ãé»è®¤çæ°æ®åºæ¯db 0\nalways-show-logo yes # æ¯å¦æ»æ¯æ¾ç¤ºlogo\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n> snapshopting å¿«ç§ï¼æä¹åè§å\n\nç±äºredisæ¯åºäºåå­çæ°æ®åºï¼éè¦å°æ°æ®ç±åå­æä¹åå°æä»¶ä¸­\n\næä¹åæ¹å¼ï¼\n\n * rdb\n * aof\n\n# 900ç§ï¼15åéï¼åè³å°1ä¸ªkeyå¼æ¹åï¼åè¿è¡æ°æ®åºä¿å­--æä¹åï¼\nsave 900 1\n# 300ç§ï¼5åéï¼åè³å°10ä¸ªkeyå¼æ¹åï¼åè¿è¡æ°æ®åºä¿å­--æä¹åï¼\nsave 300 10\n# 60ç§ï¼1åéï¼åè³å°10000ä¸ªkeyå¼æ¹åï¼åè¿è¡æ°æ®åºä¿å­--æä¹åï¼\nsave 60 10000\n\n\n1\n2\n3\n4\n5\n6\n\n\nrdbæä»¶ç¸å³\n\nstop-writes-on-bgsave-error yes # æä¹ååºç°éè¯¯åï¼æ¯å¦ä¾ç¶è¿è¡ç»§ç»­è¿è¡å·¥ä½\n\nrdbcompression yes # ä½¿ç¨åç¼©rdbæä»¶ yesï¼åç¼©ï¼ä½æ¯éè¦ä¸äºcpuçæ¶èãnoï¼ä¸åç¼©ï¼éè¦æ´å¤çç£çç©ºé´\n\nrdbchecksum yes # æ¯å¦æ ¡éªrdbæä»¶ï¼æ´æå©äºæä»¶çå®¹éæ§ï¼ä½æ¯å¨ä¿å­rdbæä»¶çæ¶åï¼ä¼æå¤§æ¦10%çæ§è½æè\n\ndbfilename dump.rdb # dbfilenamerdbæä»¶åç§°\n\ndir ./ # dir æ°æ®ç®å½ï¼æ°æ®åºçåå¥ä¼å¨è¿ä¸ªç®å½ãrdbãaofæä»¶ä¹ä¼åå¨è¿ä¸ªç®å½\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n> replicationä¸»ä»å¤å¶\n\n\n\nåé¢è¯¦ç»è¯´\n\n> securityå®å¨\n\nè®¿é®å¯ç çæ¥çï¼è®¾ç½®ååæ¶\n\n# å¯å¨redis\n# è¿æ¥å®¢æ·ç«¯\n\n# è·å¾åè®¾ç½®å¯ç \nconfig get requirepass\nconfig set requirepass "123456"\n\n#æµè¯pingï¼åç°éè¦éªè¯\n127.0.0.1:6379> ping\nnoauth authentication required.\n# éªè¯\n127.0.0.1:6379> auth 123456\nok\n127.0.0.1:6379> ping\npong\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n> å®¢æ·ç«¯è¿æ¥ç¸å³\n\nmaxclients 10000  æå¤§å®¢æ·ç«¯æ°é\nmaxmemory <bytes> æå¤§åå­éå¶\nmaxmemory-policy noeviction # åå­è¾¾å°éå¶å¼çå¤çç­ç¥\n\n\n1\n2\n3\n\n\nmaxmemory-policy å­ç§æ¹å¼\n\n**1ãvolatile-lruï¼**å©ç¨lruç®æ³ç§»é¤è®¾ç½®è¿è¿ææ¶é´çkeyã\n\n2ãallkeys-lru ï¼ ç¨lruç®æ³å é¤lkey\n\n**3ãvolatile-randomï¼**éæºå é¤å³å°è¿ækey\n\n**4ãallkeys-randomï¼**éæºå é¤\n\n5ãvolatile-ttl ï¼ å é¤å³å°è¿æç\n\n6ãnoeviction ï¼ ä¸ç§»é¤ä»»ä½keyï¼åªæ¯è¿åä¸ä¸ªåéè¯¯ã\n\nredis ä¸­çé»è®¤çè¿æç­ç¥æ¯ volatile-lru ã\n\nè®¾ç½®æ¹å¼\n\nconfig set maxmemory-policy volatile-lru \n\n\n1\n\n\n> append onlyæ¨¡å¼\n\nï¼aofç¸å³é¨åï¼\n\n\n\n\n\nappendfsync everysec # appendfsync aofæä¹åç­ç¥çéç½®\n        # noè¡¨ç¤ºä¸æ§è¡fsyncï¼ç±æä½ç³»ç»ä¿è¯æ°æ®åæ­¥å°ç£çï¼éåº¦æå¿«ã\n        # alwaysè¡¨ç¤ºæ¯æ¬¡åå¥é½æ§è¡fsyncï¼ä»¥ä¿è¯æ°æ®åæ­¥å°ç£çã\n        # everysecè¡¨ç¤ºæ¯ç§æ§è¡ä¸æ¬¡fsyncï¼å¯è½ä¼å¯¼è´ä¸¢å¤±è¿1sæ°æ®ã\n\n\n1\n2\n3\n4\n\n\n\n# redisçæä¹å\n\nredis æ¯åå­æ°æ®åºï¼å¦æä¸å°åå­ä¸­çæ°æ®åºç¶æä¿å­å°ç£çï¼é£ä¹ä¸æ¦æå¡å¨è¿ç¨éåºï¼æå¡å¨ä¸­çæ°æ®åºç¶æä¹ä¼æ¶å¤±ãæä»¥ redis æä¾äºæä¹ååè½ï¼\n\nrdb ä¿å­çæ¯ dump.rdb æä»¶\n\n\n# rdbï¼redis databaseï¼\n\n> ä»ä¹æ¯rdb\n\nå¨æå®çæ¶é´é´éåå°åå­ä¸­çæ°æ®éå¿«ç§åå¥ç£çï¼ä¹å°±æ¯è¡è¯è®²çsnapshotå¿«ç§ï¼å®æ¢å¤æ¶æ¯å°å¿« ç§æä»¶ç´æ¥è¯»å°åå­éã\n\nredisä¼åç¬åå»ºï¼forkï¼ä¸ä¸ªå­è¿ç¨æ¥è¿è¡æä¹åï¼ä¼åå°æ°æ®åå¥å°ä¸ä¸ªä¸´æ¶æä»¶ä¸­ï¼å¾æä¹åè¿ç¨é½ç»æäºï¼åç¨è¿ä¸ªä¸´æ¶æä»¶æ¿æ¢ä¸æ¬¡æä¹åå¥½çæä»¶ãæ´ä¸ªè¿ç¨ä¸­ï¼ä¸»è¿ç¨æ¯ä¸è¿è¡ä»»ä½ioæä½çã è¿å°±ç¡®ä¿äºæé«çæ§è½ãå¦æéè¦è¿è¡å¤§è§æ¨¡æ°æ®çæ¢å¤ï¼ä¸å¯¹äºæ°æ®æ¢å¤çå®æ´æ§ä¸æ¯éå¸¸ææï¼é£ rdbæ¹å¼è¦æ¯aofæ¹å¼æ´å çé«æãrdbçç¼ºç¹æ¯æåä¸æ¬¡æä¹ååçæ°æ®å¯è½ä¸¢å¤±ã\n\n> fork\n\nforkçä½ç¨æ¯å¤å¶ä¸ä¸ªä¸å½åè¿ç¨ä¸æ ·çè¿ç¨ãæ°è¿ç¨çæææ°æ®ï¼åéï¼ç¯å¢åéï¼ç¨åºè®¡æ°å¨ç­ï¼ æ°å¼é½ååè¿ç¨ä¸è´ï¼ä½æ¯æ¯ä¸ä¸ªå¨æ°çè¿ç¨ï¼å¹¶ä½ä¸ºåè¿ç¨çå­è¿ç¨ã\n\néç½®ä½ç½®åsnapshottingè§£æ\n\n\n\nè¿éçè§¦åæ¡ä»¶æºå¶ï¼æä»¬å¯ä»¥ä¿®æ¹æµè¯ä¸ä¸ï¼\n\nsave 120 10 # 120ç§åä¿®æ¹10æ¬¡åè§¦årdb\n\n\n1\n\n\nrdb æ¯æ´ååå­çåç¼©è¿çsnapshotï¼rdb çæ°æ®ç»æï¼å¯ä»¥éç½®å¤åçå¿«ç§è§¦åæ¡ä»¶ã\n\nå¦ææ³ç¦ç¨rdbæä¹åçç­ç¥ï¼åªè¦ä¸è®¾ç½®ä»»ä½saveæä»¤ï¼æèç»saveä¼ å¥ä¸ä¸ªç©ºå­ç¬¦ä¸²åæ°ä¹å¯ä»¥ã\n\nè¥è¦ä¿®æ¹å®æ¯éè¦ç«é©¬çæï¼å¯ä»¥æå¨ä½¿ç¨ save å½ä»¤ï¼ç«é©¬çæ !\n\nsaveä¸æ¯åå»ºä¸ä¸ªæ°è¿ç¨å»è¿è¡æä¹å\n\n> å¶ä½å½ä»¤è§£æ\n\nstop-writes-on-bgsave-errorï¼å¦æéç½®ä¸ºnoï¼è¡¨ç¤ºä½ ä¸å¨ä¹æ°æ®ä¸ä¸è´æèæå¶ä»çææ®µåç°åæ§å¶ï¼é»è®¤ä¸ºyesã\n\nrbdcompressionï¼å¯¹äºå­å¨å°ç£çä¸­çå¿«ç§ï¼å¯ä»¥è®¾ç½®æ¯å¦è¿è¡åç¼©å­å¨ãå¦ææ¯çè¯ï¼redisä¼éç¨ lzfç®æ³è¿è¡åç¼©ï¼å¦æä½ ä¸æ³æ¶ècpuæ¥è¿è¡åç¼©çè¯ï¼å¯ä»¥è®¾ç½®ä¸ºå³é­æ­¤åè½ã\n\nrdbchecksumï¼å¨å­å¨å¿«ç§åï¼è¿å¯ä»¥è®©redisä½¿ç¨crc64ç®æ³æ¥è¿è¡æ°æ®æ ¡éªï¼ä½æ¯è¿æ ·åä¼å¢å å¤§çº¦ 10%çæ§è½æ¶èï¼å¦æå¸æè·åå°æå¤§çæ§è½æåï¼å¯ä»¥å³é­æ­¤åè½ãé»è®¤ä¸ºyesã\n\n> å¦ä½è§¦årdbå¿«ç§\n\n1ãéç½®æä»¶ä¸­é»è®¤çå¿«ç§éç½®ï¼å»ºè®®å¤ç¨ä¸å°æºå­ä½ä¸ºå¤ä»½ï¼å¤å¶ä¸ä»½ dump.rdb\n\n2ãå½ä»¤saveæèæ¯bgsave\n\n * save æ¶åªç®¡ä¿å­ï¼å¶ä»ä¸ç®¡ï¼å¨é¨é»å¡\n\n * bgsaveï¼redis ä¼å¨åå°å¼æ­¥è¿è¡å¿«ç§æä½ï¼å¿«ç§åæ¶è¿å¯ä»¥ååºå®¢æ·ç«¯è¯·æ±ãå¯ä»¥éè¿lastsave å½ä»¤è·åæåä¸æ¬¡æåæ§è¡å¿«ç§çæ¶é´ã\n\n3ãæ§è¡flushallå½ä»¤ï¼ä¹ä¼äº§ç dump.rdb æä»¶ï¼ä½éé¢æ¯ç©ºçï¼æ æä¹ !\n\n4ãéåºçæ¶åä¹ä¼äº§ç dump.rdb æä»¶ï¼\n\n> å¦ä½æ¢å¤\n\n1ãå°å¤ä»½æä»¶ï¼dump.rdbï¼ç§»å¨å°rediså®è£ç®å½å¹¶å¯å¨æå¡å³å¯\n\n2ãconfig get dir è·åç®å½\n\n127.0.0.1:6379> config get dir\ndir\n/usr/local/bin\n\n\n1\n2\n3\n\n\n> ä¼ç¹åç¼ºç¹\n\nä¼ç¹ï¼\n\n1ãéåå¤§è§æ¨¡çæ°æ®æ¢å¤\n\n2ãå¯¹æ°æ®å®æ´æ§åä¸è´æ§è¦æ±ä¸é«\n\nç¼ºç¹ï¼\n\n1ãå¨ä¸å®é´éæ¶é´åä¸æ¬¡å¤ä»½ï¼æä»¥å¦æredisæå¤downæçè¯ï¼å°±ä¼ä¸¢å¤±æåä¸æ¬¡å¿«ç§åçææä¿®æ¹\n\n2ãforkçæ¶åï¼åå­ä¸­çæ°æ®è¢«åéäºä¸ä»½ï¼å¤§è´2åçè¨èæ§éè¦èèã\n\n> å°ç»\n\n\n\n\n# aofï¼append only fileï¼\n\n> ç®ä»\n\nä»¥æ¥å¿çå½¢å¼æ¥è®°å½æ¯ä¸ªåæä½ï¼å°redisæ§è¡è¿çæææä»¤è®°å½ä¸æ¥ï¼è¯»æä½ä¸è®°å½ï¼ï¼åªè®¸è¿½å æä»¶ä½ä¸å¯ä»¥æ¹åæä»¶ï¼rediså¯å¨ä¹åä¼è¯»åè¯¥æä»¶éæ°æå»ºæ°æ®ï¼æ¢è¨ä¹ï¼rediséå¯çè¯å°±æ ¹æ®æ¥å¿æä»¶ çåå®¹å°åæä»¤ä»åå°åæ§è¡ä¸æ¬¡ä»¥å®ææ°æ®çæ¢å¤å·¥ä½\n\naofä¿å­çæ¯ appendonly.aof æä»¶\n\n> éç½®\n\n\n\n * appendonly no\n   \n   æ¯å¦ä»¥append onlyæ¨¡å¼ä½ä¸ºæä¹åæ¹å¼ï¼é»è®¤ä½¿ç¨çæ¯rdbæ¹å¼æä¹åï¼è¿ ç§æ¹å¼å¨è®¸å¤åºç¨ä¸­å·²ç»è¶³å¤ç¨äº\n\n * appendfilename "appendonly.aof"\n   \n   appendfilename aof æä»¶åç§°\n\n * appendfsync everysec\n   \n   appendfsync aofæä¹åç­ç¥çéç½®\n   \n   > noè¡¨ç¤ºä¸æ§è¡fsyncï¼ç±æä½ç³»ç»ä¿è¯æ°æ®åæ­¥å°ç£çï¼éåº¦æå¿«ã alwaysè¡¨ç¤ºæ¯æ¬¡åå¥é½æ§è¡fsyncï¼ä»¥ä¿è¯æ°æ®åæ­¥å°ç£çã everysecè¡¨ç¤ºæ¯ç§æ§è¡ä¸æ¬¡fsyncï¼å¯è½ä¼å¯¼è´ä¸¢å¤±è¿1sæ°æ®ã\n\n * no-appendfsync-on-rewrite\n   \n   éåæ¶æ¯å¦å¯ä»¥è¿ç¨appendfsyncï¼ç¨é»è®¤noå³å¯ï¼ä¿è¯æ°æ®å®å¨æ§\n\n * auto-aof-rewrite-min-size\n   \n   è®¾ç½®éåçåºåå¼\n\n * auto-aof-rewrite-percentage\n   \n   è®¾ç½®éåçåºåå¼\n\n> aof å¯å¨/ä¿®å¤/æ¢å¤\n\næ­£å¸¸æ¢å¤ï¼\n\nå¯å¨ï¼è®¾ç½®yesï¼ä¿®æ¹é»è®¤çappendonly noï¼æ¹ä¸ºyes å°ææ°æ®çaofæä»¶å¤å¶ä¸ä»½ä¿å­å°å¯¹åºç®å½ï¼config get dirï¼ æ¢å¤ï¼éå¯redisç¶åéæ°å è½½\n\nå¼å¸¸æ¢å¤ï¼\n\nå¯å¨ï¼è®¾ç½®yes ææç ´å appendonly.aof æä»¶ï¼ ä¿®å¤ï¼å½ä»¤redis-check-aof --fix appendonly.aof è¿è¡ä¿®å¤ æ¢å¤ï¼éå¯ redis ç¶åéæ°å è½½\n\n> rewriteéå\n\naof éç¨æä»¶è¿½å æ¹å¼ï¼æä»¶ä¼è¶æ¥è¶å¤§ï¼ä¸ºé¿ååºç°æ­¤ç§æåµï¼æ°å¢äºéåæºå¶ï¼å½aofæä»¶çå¤§å°è¶è¿æè®¾å®çéå¼æ¶ï¼redis å°±ä¼å¯å¨aof æä»¶çåå®¹åç¼©ï¼åªä¿çå¯ä»¥æ¢å¤æ°æ®çæå°æä»¤éï¼å¯ä»¥ ä½¿ç¨å½ä»¤ bgrewriteaof ï¼\n\néååçï¼\n\naof æä»¶æç»­å¢é¿èè¿å¤§æ¶ï¼ä¼forkåºä¸æ¡æ°è¿ç¨æ¥å°æä»¶éåï¼ä¹æ¯ååä¸´æ¶æä»¶æåå renameï¼ï¼éåæ°è¿ç¨çåå­ä¸­æ°æ®ï¼æ¯æ¡è®°å½æä¸æ¡çsetè¯­å¥ãéåaofæä»¶çæä½ï¼å¹¶æ²¡æè¯»åæ§ çaofæä»¶ï¼è¿ç¹åå¿«ç§æç¹ç±»ä¼¼ï¼\n\nè§¦åæºå¶ï¼\n\nredisä¼è®°å½ä¸æ¬¡éåæ¶çaofå¤§å°ï¼é»è®¤éç½®æ¯å½aofæä»¶å¤§å°æ¯ä¸æ¬¡rewriteåå¤§å°çå·²è¢«ä¸æä»¶å¤§ äº64mçè§¦åã\n\n> ä¼ç¹åç¼ºç¹\n\nä¼ç¹ï¼\n\n1ãæ¯ä¿®æ¹åæ­¥ï¼appendfsync always åæ­¥æä¹åï¼æ¯æ¬¡åçæ°æ®åæ´ä¼è¢«ç«å³è®°å½å°ç£çï¼æ§è½è¾å·®ä½æ°æ®å®æ´æ§æ¯è¾å¥½\n\n2ãæ¯ç§åæ­¥ï¼ appendfsync everysec å¼æ­¥æä½ï¼æ¯ç§è®°å½ ï¼å¦æä¸ç§åå®æºï¼ææ°æ®ä¸¢å¤±\n\n3ãä¸åæ­¥ï¼ appendfsync no ä»ä¸åæ­¥\n\nç¼ºç¹ï¼\n\n1ãç¸åæ°æ®éçæ°æ®èè¨ï¼aof æä»¶è¦è¿å¤§äº rdbæä»¶ï¼æ¢å¤éåº¦æ¢äº rdbã\n\n2ãaof è¿è¡æçè¦æ¢äº rdbï¼æ¯ç§åæ­¥ç­ç¥æçè¾å¥½ï¼ä¸åæ­¥æçårdbç¸åã\n\n> å°ç»\n\n\n\n\n# æ»ç»\n\n1ãrdb æä¹åæ¹å¼è½å¤å¨æå®çæ¶é´é´éåå¯¹ä½ çæ°æ®è¿è¡å¿«ç§å­å¨\n\n2ãaof æä¹åæ¹å¼è®°å½æ¯æ¬¡å¯¹æå¡å¨åçæä½ï¼å½æå¡å¨éå¯çæ¶åä¼éæ°æ§è¡è¿äºå½ä»¤æ¥æ¢å¤åå§çæ°æ®ï¼aofå½ä»¤ä»¥redis åè®®è¿½å ä¿å­æ¯æ¬¡åçæä½å°æä»¶æ«å°¾ï¼redisè¿è½å¯¹aofæä»¶è¿è¡åå°éåï¼ä½¿å¾aofæä»¶çä½ç§¯ä¸è³äºè¿å¤§ã\n\n3ãåªåç¼å­ï¼å¦æä½ åªå¸æä½ çæ°æ®å¨æå¡å¨è¿è¡çæ¶åå­å¨ï¼ä½ ä¹å¯ä»¥ä¸ä½¿ç¨ä»»ä½æä¹å\n\n4ãåæ¶å¼å¯ä¸¤ç§æä¹åæ¹å¼\n\n * å¨è¿ç§æåµä¸ï¼å½rediséå¯çæ¶åä¼ä¼åè½½å¥aofæä»¶æ¥æ¢å¤åå§çæ°æ®ï¼å ä¸ºå¨éå¸¸æåµä¸aof æä»¶ä¿å­çæ°æ®éè¦æ¯rdbæä»¶ä¿å­çæ°æ®éè¦å®æ´ã\n * rdb çæ°æ®ä¸å®æ¶ï¼åæ¶ä½¿ç¨ä¸¤èæ¶æå¡å¨éå¯ä¹åªä¼æ¾aofæä»¶ï¼é£è¦ä¸è¦åªä½¿ç¨aofå¢ï¼å»ºè®®ä¸è¦ï¼å ä¸ºrdbæ´éåç¨äºå¤ä»½æ°æ®åºï¼aofå¨ä¸æ­ååä¸å¥½å¤ä»½ï¼ï¼å¿«ééå¯ï¼èä¸ä¸ä¼æ aofå¯è½æ½å¨çbugï¼ççä½ä¸ºä¸ä¸ªä¸ä¸çææ®µã\n\n5ãæ§è½å»ºè®®\n\n * å ä¸ºrdbæä»¶åªç¨ä½åå¤ç¨éï¼å»ºè®®åªå¨slaveä¸æä¹årdbæä»¶ï¼èä¸åªè¦15åéå¤ä»½ä¸æ¬¡å°±å¤ äºï¼åªä¿ç save 900 1 è¿æ¡è§åã\n * å¦æenable aof ï¼å¥½å¤æ¯å¨ææ¶å£æåµä¸ä¹åªä¼ä¸¢å¤±ä¸è¶è¿ä¸¤ç§æ°æ®ï¼å¯å¨èæ¬è¾ç®ååªloadèª å·±çaofæä»¶å°±å¯ä»¥äºï¼ä»£ä»·ä¸æ¯å¸¦æ¥äºæç»­çioï¼äºæ¯aof rewrite çæåå° rewrite è¿ç¨ä¸­äº§ ççæ°æ°æ®åå°æ°æä»¶é æçé»å¡å ä¹æ¯ä¸å¯é¿åçãåªè¦ç¡¬çè®¸å¯ï¼åºè¯¥å°½éåå°aof rewrite çé¢çï¼aoféåçåºç¡å¤§å°é»è®¤å¼64må¤ªå°äºï¼å¯ä»¥è®¾å°5gä»¥ä¸ï¼é»è®¤è¶è¿åå¤§å°100%å¤§å°é åå¯ä»¥æ¹å°éå½çæ°å¼ã\n * å¦æä¸enable aof ï¼ä»é  master-slave repllcation å®ç°é«å¯ç¨æ§ä¹å¯ä»¥ï¼è½çæä¸å¤§ç¬ioï¼ä¹ åå°äºrewriteæ¶å¸¦æ¥çç³»ç»æ³¢å¨ãä»£ä»·æ¯å¦æmaster/slave åæ¶åæï¼ä¼ä¸¢å¤±åå åéçæ°æ®ï¼ å¯å¨èæ¬ä¹è¦æ¯è¾ä¸¤ä¸ª master/slave ä¸­ç rdbæä»¶ï¼è½½å¥è¾æ°çé£ä¸ªï¼å¾®åå°±æ¯è¿ç§æ¶æã\n\n\n# redis åå¸è®¢é\n\n\n# ç®ä»\n\nredis åå¸è®¢é(pub/sub)æ¯ä¸ç§æ¶æ¯éä¿¡æ¨¡å¼ï¼åéè(pub)åéæ¶æ¯ï¼è®¢éè(sub)æ¥æ¶æ¶æ¯ã\n\nredis å®¢æ·ç«¯å¯ä»¥è®¢éä»»ææ°éçé¢éã\n\nè®¢é/åå¸æ¶æ¯å¾ï¼\n\n\n\nä¸å¾å±ç¤ºäºé¢é channel1 ï¼ ä»¥åè®¢éè¿ä¸ªé¢éçä¸ä¸ªå®¢æ·ç«¯ ââ client2 ã client5 å client1 ä¹é´çå³ç³»ï¼\n\n\n\nå½ææ°æ¶æ¯éè¿ publish å½ä»¤åéç»é¢é channel1 æ¶ï¼ è¿ä¸ªæ¶æ¯å°±ä¼è¢«åéç»è®¢éå®çä¸ä¸ªå®¢æ·ç«¯ï¼\n\n\n\nå½ä»¤\n\nä¸è¡¨ååºäº redis åå¸è®¢éå¸¸ç¨å½ä»¤ï¼\n\nåºå·   å½ä»¤åæè¿°\n1    [psubscribe pattern [pattern ...]]\n     è®¢éä¸ä¸ªæå¤ä¸ªç¬¦åç»å®æ¨¡å¼çé¢éã\n2    [pubsub subcommand [argument [argument ...]]]\n     æ¥çè®¢éä¸åå¸ç³»ç»ç¶æã\n3    [publish channel message]\n     å°ä¿¡æ¯åéå°æå®çé¢éã\n4    [punsubscribe [pattern [pattern ...]]]\n     éè®¢ææç»å®æ¨¡å¼çé¢éã\n5    [subscribe channel [channel ...]]\n     è®¢éç»å®çä¸ä¸ªæå¤ä¸ªé¢éçä¿¡æ¯ã\n6    [unsubscribe [channel [channel ...]]]\n     æéè®¢ç»å®çé¢éã\n\n\n# æµè¯\n\nä»¥ä¸å®ä¾æ¼ç¤ºäºåå¸è®¢éæ¯å¦ä½å·¥ä½çã\n\næä»¬åæå¼ä¸¤ä¸ª redis-cli å®¢æ·ç«¯\n\nå¨ç¬¬ä¸ä¸ª redis-cli å®¢æ·ç«¯ï¼åå»ºè®¢éé¢éåä¸º redischatï¼è¾å¥subscribe redischat\n\nredis 127.0.0.1:6379> subscribe redischat\nreading messages... (press ctrl-c to quit)\n1) "subscribe"\n2) "redischat"\n3) (integer) 1\n\n\n1\n2\n3\n4\n5\n\n\nå¨ç¬¬äºä¸ªå®¢æ·ç«¯ï¼åå¸ä¸¤æ¬¡æ¶æ¯ï¼è®¢éèå°±è½æ¥æ¶ å°æ¶æ¯ã\n\nredis 127.0.0.1:6379> publish redischat "hello,redis"\n(integer) 1\nredis 127.0.0.1:6379> publish redischat "helloï¼java"\n(integer) 1\n\n\n1\n2\n3\n4\n\n\nè®¢éèçå®¢æ·ç«¯ä¼æ¾ç¤ºå¦ä¸æ¶æ¯\n\n>  1. "message"\n>  2. "redischat"\n>  3. "hello,redis"\n>  4. "message"\n>  5. "redischat"\n>  6. "helloï¼java"\n\n\n# åç\n\nredisæ¯ä½¿ç¨cå®ç°çï¼éè¿åæ redis æºç éç pubsub.c æä»¶ï¼äºè§£åå¸åè®¢éæºå¶çåºå±å®ç°ï¼æ¥å æ·±å¯¹ redis ççè§£ã\n\nredis éè¿ publish ãsubscribe å psubscribe ç­å½ä»¤å®ç°åå¸åè®¢éåè½ã\n\néè¿ subscribe å½ä»¤è®¢éæé¢éåï¼redis-server éç»´æ¤äºä¸ä¸ªå­å¸ï¼å­å¸çé®å°±æ¯ä¸ä¸ªä¸ª channel ï¼èå­å¸çå¼åæ¯ä¸ä¸ªé¾è¡¨ï¼é¾è¡¨ä¸­ä¿å­äºææè®¢éè¿ä¸ª channel çå®¢æ·ç«¯ãsubscribe å½ä»¤çå³é®ï¼å°±æ¯å°å®¢æ·ç«¯æ·»å å°ç»å® channel çè®¢éé¾è¡¨ä¸­ã\n\néè¿ publish å½ä»¤åè®¢éèåéæ¶æ¯ï¼redis-server ä¼ä½¿ç¨ç»å®çé¢éä½ä¸ºé®ï¼å¨å®æç»´æ¤ç channel å­å¸ä¸­æ¥æ¾è®°å½äºè®¢éè¿ä¸ªé¢éçææå®¢æ·ç«¯çé¾è¡¨ï¼éåè¿ä¸ªé¾è¡¨ï¼å°æ¶æ¯åå¸ç»ææè®¢éèã\n\npub/sub ä»å­é¢ä¸çè§£å°±æ¯åå¸ï¼publishï¼ä¸è®¢éï¼subscribeï¼ï¼å¨redisä¸­ï¼ä½ å¯ä»¥è®¾å®å¯¹æä¸ä¸ª keyå¼è¿è¡æ¶æ¯åå¸åæ¶æ¯è®¢éï¼å½ä¸ä¸ªkeyå¼ä¸è¿è¡äºæ¶æ¯åå¸åï¼ææè®¢éå®çå®¢æ·ç«¯é½ä¼æ¶å°ç¸åºçæ¶æ¯ãè¿ä¸åè½æææ¾çç¨æ³å°±æ¯ç¨ä½å®æ¶æ¶æ¯ç³»ç»ï¼æ¯å¦æ®éçå³æ¶èå¤©ï¼ç¾¤èç­åè½ã\n\nä½¿ç¨åºæ¯ï¼\n\nredisçpub/subç³»ç»å¯ä»¥æå»ºå®æ¶çæ¶æ¯ç³»ç»ï¼æ¯å¦å¾å¤ç¨pub/subæå»ºçå®æ¶èå¤©ç³»ç»çä¾å­ã\n\n\n# redisä¸»ä»å¤å¶\n\n\n# æ¦å¿µ\n\nä¸»ä»å¤å¶ï¼æ¯æå°ä¸å°redisæå¡å¨çæ°æ®ï¼å¤å¶å°å¶ä»çredisæå¡å¨ãåèç§°ä¸ºä¸»èç¹ (master/leader)ï¼åèç§°ä¸ºä»èç¹(slave/follower)ï¼æ°æ®çå¤å¶æ¯ååçï¼åªè½ç±ä¸»èç¹å°ä»èç¹ã masterä»¥åä¸ºä¸»ï¼slave ä»¥è¯»ä¸ºä¸»ã\n\né»è®¤æåµä¸ï¼æ¯å°redisæå¡å¨é½æ¯ä¸»èç¹ï¼ä¸ä¸ä¸ªä¸»èç¹å¯ä»¥æå¤ä¸ªä»èç¹(ææ²¡æä»èç¹)ï¼ä½ä¸ä¸ªä»èç¹åªè½æä¸ä¸ªä¸»èç¹ã\n\nä¸»ä»å¤å¶çä½ç¨ä¸»è¦åæ¬ï¼\n\n1ãæ°æ®åä½ï¼ä¸»ä»å¤å¶å®ç°äºæ°æ®çç­å¤ä»½ï¼æ¯æä¹åä¹å¤çä¸ç§æ°æ®åä½æ¹å¼ã\n\n2ãæéæ¢å¤ï¼å½ä¸»èç¹åºç°é®é¢æ¶ï¼å¯ä»¥ç±ä»èç¹æä¾æå¡ï¼å®ç°å¿«éçæéæ¢å¤ï¼å®éä¸æ¯ä¸ç§æå¡çåä½ã\n\n3ãè´è½½åè¡¡ï¼å¨ä¸»ä»å¤å¶çåºç¡ä¸ï¼éåè¯»ååç¦»ï¼å¯ä»¥ç±ä¸»èç¹æä¾åæå¡ï¼ç±ä»èç¹æä¾è¯»æå¡ ï¼å³åredisæ°æ®æ¶åºç¨è¿æ¥ä¸»èç¹ï¼è¯»redisæ°æ®æ¶åºç¨è¿æ¥ä»èç¹ï¼ï¼åææå¡å¨è´è½½ï¼å°¤å¶æ¯å¨åå°è¯»å¤çåºæ¯ä¸ï¼éè¿å¤ä¸ªä»èç¹åæè¯»è´è½½ï¼å¯ä»¥å¤§å¤§æé«redisæå¡å¨çå¹¶åéã\n\n4ãé«å¯ç¨åºç³ï¼é¤äºä¸è¿°ä½ç¨ä»¥å¤ï¼ä¸»ä»å¤å¶è¿æ¯å¨åµåéç¾¤è½å¤å®æ½çåºç¡ï¼å æ­¤è¯´ä¸»ä»å¤å¶æ¯ redisé«å¯ç¨çåºç¡ã\n\nä¸è¬æ¥è¯´ï¼è¦å°redisè¿ç¨äºå·¥ç¨é¡¹ç®ä¸­ï¼åªä½¿ç¨ä¸å°redisæ¯ä¸ä¸ä¸è½çï¼åå å¦ä¸ï¼\n\n1ãä»ç»æä¸ï¼åä¸ªredisæå¡å¨ä¼åçåç¹æéï¼å¹¶ä¸ä¸å°æå¡å¨éè¦å¤çææçè¯·æ±è´è½½ï¼ååè¾ å¤§ï¼\n\n2ãä»å®¹éä¸ï¼åä¸ªredisæå¡å¨åå­å®¹éæéï¼å°±ç®ä¸å°redisæå¡å¨åå­å®¹éä¸º256gï¼ä¹ä¸è½å°ææåå­ç¨ä½rediså­å¨åå­ï¼ä¸è¬æ¥è¯´ï¼åå°redisæå¤§ä½¿ç¨åå­ä¸åºè¯¥è¶è¿20gã\n\nçµåç½ç«ä¸çååï¼ä¸è¬é½æ¯ä¸æ¬¡ä¸ä¼ ï¼æ æ°æ¬¡æµè§çï¼è¯´ä¸ä¸ç¹ä¹å°±æ¯"å¤è¯»å°å"ã\n\nå¯¹äºè¿ç§åºæ¯ï¼æä»¬å¯ä»¥ä½¿å¦ä¸è¿ç§æ¶æï¼\n\n\n\n\n# ç¯å¢éç½®\n\n> åºæ¬éç½®\n\næ¥çå½ååºçä¿¡æ¯ï¼info replication\n\n127.0.0.1:6379> info replication\n# replication\nrole:master\t# è§è²\nconnected_slaves:0\t# ä»æºæ°é\nmaster_failover_state:no-failover\nmaster_replid:1a6933acf7ec9711bfa0a1848976676557e1e6a0\nmaster_replid2:0000000000000000000000000000000000000000\nmaster_repl_offset:0\nsecond_repl_offset:-1\nrepl_backlog_active:0\nrepl_backlog_size:1048576\nrepl_backlog_first_byte_offset:0\nrepl_backlog_histlen:0\n127.0.0.1:6379> \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nå ä¸ºæ²¡æå¤ä¸ªæå¡å¨ï¼å°±ä»¥æ¬å°å¼å¯3ä¸ªç«¯å£ï¼æ¨¡æ3ä¸ªæå¡\n\næ¢ç¶éè¦å¯å¨å¤ä¸ªæå¡ï¼å°±éè¦å¤ä¸ªéç½®æä»¶ãæ¯ä¸ªéç½®æä»¶å¯¹åºä¿®æ¹ä»¥ä¸ä¿¡æ¯ï¼\n\n * ç«¯å£å·ï¼portï¼\n * pidæä»¶åï¼pidfileï¼\n * æ¥å¿æä»¶åï¼logfileï¼\n * rdbæä»¶åï¼dbfilenameï¼\n\n1ãæ·è´å¤ä¸ªredis.conf æä»¶\n\nç«¯å£åå«æ¯6379ã6380ã6381\n\n[root@localhost ~]# cd /usr/local/bin/myconfig\n[root@localhost myconfig]# ls\ndump.rdb  redis.conf\n[root@localhost myconfig]# cp redis.conf redis79.conf\n[root@localhost myconfig]# cp redis.conf redis80.conf\n[root@localhost myconfig]# cp redis.conf redis81.conf\n[root@localhost myconfig]# ls\ndump.rdb  redis79.conf  redis80.conf  redis81.conf  redis.conf\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nåå«ä¿®æ¹éç½®ä¸é¢åç¹å¯¹åºçéç½®ï¼ä¸¾ä¾ï¼\n\n\n\n\n\n\n\néç½®å¥½åå«å¯å¨3ä¸ªä¸åç«¯å£æå¡\n\n * redis-server myconfig/redis79.conf\n\n * redis-server myconfig/redis80.conf\n\n * redis-server myconfig/redis81.conf\n\nredis-server myconfig/redis79.conf\n\n\n\n\n# ä¸ä¸»äºä»\n\n1ãä¹åæä»¬ååå«å¼å¯redisè¿æ¥ï¼redis-cli -p 6379ï¼redis-cli -p 6380ï¼redis-cli -p 6381\n\néè¿æä»¤\n\n127.0.0.1:6379> info replication\n\n\n1\n\n\nå¯ä»¥åç°ï¼é»è®¤æåµä¸ï¼å¼å¯çæ¯ä¸ªredisæå¡å¨é½æ¯ä¸»èç¹\n\n\n\n2ãéç½®ä¸ºä¸ä¸ªmaster ä¸¤ä¸ªslaveï¼å³ä¸ä¸»äºä»ï¼\n\n6379ä¸ºä¸»ï¼6380,6381ä¸ºä»\n\nslaveof 127.0.0.1 6379\n\n\n\n3ãå¨ä¸»æºè®¾ç½®å¼ï¼å¨ä»æºé½å¯ä»¥åå°ï¼ä»æºä¸è½åå¼ï¼\n\n\n\næä»¬è¿éæ¯ä½¿ç¨å½ä»¤æ­å»ºï¼æ¯âææ¶çâï¼ä¹å¯å»éç½®éè¿è¡ä¿®æ¹ï¼è¿æ ·è¯åæ¯âæ°¸ä¹çâ\n\n\n\n> ä½¿ç¨è§å\n\nå½ä¸»æºæ­çµå®æºåï¼é»è®¤æåµä¸ä»æºçè§è²ä¸ä¼åçåå ï¼éç¾¤ä¸­åªæ¯å¤±å»äºåæä½ï¼å½ä¸»æºæ¢å¤ä»¥åï¼åä¼è¿æ¥ä¸ä»æºæ¢å¤åç¶ã\n\nå½ä»æºæ­çµå®æºåï¼è¥ä¸æ¯ä½¿ç¨éç½®æä»¶éç½®çä»æºï¼åæ¬¡å¯å¨åä½ä¸ºä¸»æºæ¯æ æ³è·åä¹åä¸»æºçæ°æ®çï¼è¥æ­¤æ¶éæ°éç½®ç§°ä¸ºä»æºï¼åå¯ä»¥è·åå°ä¸»æºçæææ°æ®ãè¿éå°±è¦æå°ä¸ä¸ªåæ­¥åçã\n\næä¸¤ç§æ¹å¼å¯ä»¥äº§çæ°çä¸»æºï¼çä¸æâè°æç¯¡ä½â\n\n> å±å±é¾è·¯\n\nä¸ä¸ä¸ªslave å¯ä»¥æ¯ä¸ä¸ä¸ªslave å masterï¼slave åæ ·å¯ä»¥æ¥æ¶å¶ä» slaves çè¿æ¥ååæ­¥è¯·æ±ï¼é£ä¹ è¯¥ slave ä½ä¸ºäºé¾æ¡ä¸­ä¸ä¸ä¸ªçmasterï¼å¯ä»¥ææåè½» master çåååï¼\n\n\n\n\n\n> è°æç¯¡ä½\n\næä¸¤ç§æ¹å¼å¯ä»¥äº§çæ°çä¸»æºï¼\n\n * ä»æºæå¨æ§è¡å½ä»¤slaveof no one,è¿æ ·æ§è¡ä»¥åä»æºä¼ç¬ç«åºæ¥æä¸ºä¸ä¸ªä¸»æº\n * ä½¿ç¨å¨åµæ¨¡å¼ï¼èªå¨éä¸¾ï¼\n\n> å¤å¶åç\n\nslave å¯å¨æåè¿æ¥å° master åä¼åéä¸ä¸ªsyncå½ä»¤\n\nmaster æ¥å°å½ä»¤ï¼å¯å¨åå°çå­çè¿ç¨ï¼åæ¶æ¶éæææ¥æ¶å°çç¨äºä¿®æ¹æ°æ®éå½ä»¤ï¼å¨åå°è¿ç¨æ§è¡ å®æ¯ä¹åï¼masterå°ä¼ éæ´ä¸ªæ°æ®æä»¶å°slaveï¼å¹¶å®æä¸æ¬¡å®å¨åæ­¥ã\n\nå¨éå¤å¶ï¼èslaveæå¡å¨æ¥æ¶å°æ°æ®åºæä»¶æ°æ®åï¼å°å¶å­çå¹¶å è½½å°åå­ä¸­ã\n\nå¢éå¤å¶ï¼master ç»§ç»­å°æ°çæææ¶éå°çä¿®æ¹å½ä»¤ä¾æ¬¡ä¼ ç»slaveï¼å®æåæ­¥\n\nä½æ¯åªè¦æ¯éæ°è¿æ¥masterï¼ä¸æ¬¡å®å¨åæ­¥ï¼å¨éå¤å¶ï¼å°è¢«èªå¨æ§è¡\n\n\n# å¨åµæ¨¡å¼\n\næ´å¤ä¿¡æ¯åèåå®¢ï¼https://www.jianshu.com/p/06ab9daf921d\n\n> æ¦è¿°\n\nä¸»ä»åæ¢ææ¯çæ¹æ³æ¯ï¼å½ä¸»æå¡å¨å®æºåï¼éè¦æå¨æä¸å°ä»æå¡å¨åæ¢ä¸ºä¸»æå¡å¨ï¼è¿å°±éè¦äººå·¥ å¹²é¢ï¼è´¹äºè´¹åï¼è¿ä¼é æä¸æ®µæ¶é´åæå¡ä¸å¯ç¨ãè¿ä¸æ¯ä¸ç§æ¨èçæ¹å¼ï¼æ´å¤æ¶åï¼æä»¬ä¼åèè å¨åµæ¨¡å¼ãredisä»2.8å¼å§æ­£å¼æä¾äºsentinelï¼å¨åµï¼ æ¶ææ¥è§£å³è¿ä¸ªé®é¢ã\n\nè°æç¯¡ä½çèªå¨çï¼è½å¤åå°çæ§ä¸»æºæ¯å¦æéï¼å¦ææéäºæ ¹æ®æç¥¨æ°èªå¨å°ä»åºè½¬æ¢ä¸ºä¸»åºã\n\nå¨åµæ¨¡å¼æ¯ä¸ç§ç¹æ®çæ¨¡å¼ï¼é¦åredisæä¾äºå¨åµçå½ä»¤ï¼å¨åµæ¯ä¸ä¸ªç¬ç«çè¿ç¨ï¼ä½ä¸ºè¿ç¨ï¼å®ä¼ç¬ ç«è¿è¡ãå¶åçæ¯å¨åµéè¿åéå½ä»¤ï¼ç­å¾redisæå¡å¨ååºï¼ä»èçæ§è¿è¡çå¤ä¸ªrediså®ä¾ã\n\n\n\nè¿éçå¨åµæä¸¤ä¸ªä½ç¨\n\n * éè¿åéå½ä»¤ï¼è®©redisæå¡å¨è¿åçæ§å¶è¿è¡ç¶æï¼åæ¬ä¸»æå¡å¨åä»æå¡å¨ã\n * å½å¨åµçæµå°masterå®æºï¼ä¼èªå¨å°slaveåæ¢æmasterï¼ç¶åéè¿åå¸è®¢éæ¨¡å¼éç¥å¶ä»çä»æå¡å¨ï¼ä¿®æ¹éç½®æä»¶ï¼è®©å®ä»¬åæ¢ä¸»æºã\n\nç¶èä¸ä¸ªå¨åµè¿ç¨å¯¹redisæå¡å¨è¿è¡çæ§ï¼å¯è½ä¼åºç°é®é¢ï¼ä¸ºæ­¤ï¼æä»¬å¯ä»¥ä½¿ç¨å¤ä¸ªå¨åµè¿è¡çæ§ã åä¸ªå¨åµä¹é´è¿ä¼è¿è¡çæ§ï¼è¿æ ·å°±å½¢æäºå¤å¨åµæ¨¡å¼ã\n\n\n\nåè®¾ä¸»æå¡å¨å®æºï¼å¨åµ1åæ£æµå°è¿ä¸ªç»æï¼ç³»ç»å¹¶ä¸ä¼é©¬ä¸è¿è¡failoverè¿ç¨ï¼ä»ä»æ¯å¨åµ1ä¸»è§çè®¤ ä¸ºä¸»æå¡å¨ä¸å¯ç¨ï¼è¿ä¸ªç°è±¡æä¸ºä¸»è§ä¸çº¿ãå½åé¢çå¨åµä¹æ£æµå°ä¸»æå¡å¨ä¸å¯ç¨ï¼å¹¶ä¸æ°éè¾¾å°ä¸ å®å¼æ¶ï¼é£ä¹å¨åµä¹é´å°±ä¼è¿è¡ä¸æ¬¡æç¥¨ï¼æç¥¨çç»æç±ä¸ä¸ªå¨åµåèµ·ï¼è¿è¡failover[æéè½¬ç§»]æä½ã åæ¢æååï¼å°±ä¼éè¿åå¸è®¢éæ¨¡å¼ï¼è®©åä¸ªå¨åµæèªå·±çæ§çä»æå¡å¨å®ç°åæ¢ä¸»æºï¼è¿ä¸ªè¿ç¨ç§°ä¸º å®¢è§ä¸çº¿ã\n\n> éç½®æµè¯\n\n1ãè°æ´ç»æï¼6379å¸¦ç80ã81\n\n2ãèªå®ä¹ç /myconfig ç®å½ä¸æ°å»º sentinel.conf æä»¶ï¼åå­åä¸ä¸è¦é\n\n3ãéç½®å¨åµï¼å¡«ååå®¹\n\n * sentinel monitor è¢«çæ§ä¸»æºåå­ 127.0.0.1 6379 1\n   \n   ä¾å¦ï¼sentinel monitor mymaster 127.0.0.1 6379 1ï¼\n   \n   ä¸é¢æåä¸ä¸ªæ°å­1ï¼è¡¨ç¤ºä¸»æºææåslaveæç¥¨çè®©è°æ¥æ¿æä¸ºä¸»æºï¼å¾ç¥¨æ°å¤å°åæä¸ºä¸»æº\n\n4ãå¯å¨å¨åµ\n\n * redis-sentinel myconfig/sentinel.conf\n   \n   ä¸è¿°ç®å½ä¾ç§åèªçå®éæåµéç½®ï¼å¯è½ç®å½ä¸å\n\næåå¯å¨å¨åµæ¨¡å¼\n\n\n\næ­¤æ¶å¨åµçè§çæä»¬çä¸»æº6379ï¼å½æä»¬æ­å¼ä¸»æºåï¼\n\n\n\n> å¨åµæ¨¡å¼çä¼ç¼ºç¹\n\nä¼ç¹\n\n 1. å¨åµéç¾¤ï¼åºäºä¸»ä»å¤å¶æ¨¡å¼ï¼ææä¸»ä»å¤å¶çä¼ç¹ï¼å®é½æ\n 2. ä¸»ä»å¯ä»¥åæ¢ï¼æéå¯ä»¥è½¬ç§»ï¼ç³»ç»çå¯ç¨æ§æ´å¥½\n 3. å¨åµæ¨¡å¼æ¯ä¸»ä»æ¨¡å¼çåçº§ï¼æå¨å°èªå¨ï¼æ´å å¥å£®\n\nç¼ºç¹ï¼\n\n 1. redisä¸å¥½å¨çº¿æ©å®¹ï¼éç¾¤å®¹éä¸æ¦è¾¾å°ä¸éï¼å¨çº¿æ©å®¹å°±ååéº»ç¦\n 2. å®ç°å¨åµæ¨¡å¼çéç½®å¶å®æ¯å¾éº»ç¦çï¼éé¢æå¾å¤éç½®é¡¹\n\n> å¨åµæ¨¡å¼çå¨é¨éç½®\n\nå®æ´çå¨åµæ¨¡å¼éç½®æä»¶ sentinel.conf\n\n# example sentinel.conf\n \n# å¨åµsentinelå®ä¾è¿è¡çç«¯å£ é»è®¤26379\nport 26379\n \n# å¨åµsentinelçå·¥ä½ç®å½\ndir /tmp\n \n# å¨åµsentinelçæ§çredisä¸»èç¹ç ip port \n# master-name  å¯ä»¥èªå·±å½åçä¸»èç¹åå­ åªè½ç±å­æ¯a-zãæ°å­0-9 ãè¿ä¸ä¸ªå­ç¬¦".-_"ç»æã\n# quorum å½è¿äºquorumä¸ªæ°sentinelå¨åµè®¤ä¸ºmasterä¸»èç¹å¤±è é£ä¹è¿æ¶ å®¢è§ä¸è®¤ä¸ºä¸»èç¹å¤±èäº\n# sentinel monitor <master-name> <ip> <redis-port> <quorum>\nsentinel monitor mymaster 127.0.0.1 6379 1\n \n# å½å¨rediså®ä¾ä¸­å¼å¯äºrequirepass foobared ææå¯ç  è¿æ ·ææè¿æ¥rediså®ä¾çå®¢æ·ç«¯é½è¦æä¾å¯ç \n# è®¾ç½®å¨åµsentinel è¿æ¥ä¸»ä»çå¯ç  æ³¨æå¿é¡»ä¸ºä¸»ä»è®¾ç½®ä¸æ ·çéªè¯å¯ç \n# sentinel auth-pass <master-name> <password>\nsentinel auth-pass mymaster mysuper--secret-0123passw0rd\n \n \n# æå®å¤å°æ¯«ç§ä¹å ä¸»èç¹æ²¡æåºç­å¨åµsentinel æ­¤æ¶ å¨åµä¸»è§ä¸è®¤ä¸ºä¸»èç¹ä¸çº¿ é»è®¤30ç§\n# sentinel down-after-milliseconds <master-name> <milliseconds>\nsentinel down-after-milliseconds mymaster 30000\n \n# è¿ä¸ªéç½®é¡¹æå®äºå¨åçfailoverä¸»å¤åæ¢æ¶æå¤å¯ä»¥æå¤å°ä¸ªslaveåæ¶å¯¹æ°çmasterè¿è¡ åæ­¥ï¼\nè¿ä¸ªæ°å­è¶å°ï¼å®æfailoveræéçæ¶é´å°±è¶é¿ï¼\nä½æ¯å¦æè¿ä¸ªæ°å­è¶å¤§ï¼å°±æå³çè¶ å¤çslaveå ä¸ºreplicationèä¸å¯ç¨ã\nå¯ä»¥éè¿å°è¿ä¸ªå¼è®¾ä¸º 1 æ¥ä¿è¯æ¯æ¬¡åªæä¸ä¸ªslave å¤äºä¸è½å¤çå½ä»¤è¯·æ±çç¶æã\n# sentinel parallel-syncs <master-name> <numslaves>\nsentinel parallel-syncs mymaster 1\n \n \n \n# æéè½¬ç§»çè¶æ¶æ¶é´ failover-timeout å¯ä»¥ç¨å¨ä»¥ä¸è¿äºæ¹é¢ï¼ \n#1. åä¸ä¸ªsentinelå¯¹åä¸ä¸ªmasterä¸¤æ¬¡failoverä¹é´çé´éæ¶é´ã\n#2. å½ä¸ä¸ªslaveä»ä¸ä¸ªéè¯¯çmasteré£éåæ­¥æ°æ®å¼å§è®¡ç®æ¶é´ãç´å°slaveè¢«çº æ­£ä¸ºåæ­£ç¡®çmasteré£éåæ­¥æ°æ®æ¶ã\n#3.å½æ³è¦åæ¶ä¸ä¸ªæ­£å¨è¿è¡çfailoveræéè¦çæ¶é´ã  \n#4.å½è¿è¡failoveræ¶ï¼éç½®ææslavesæåæ°çmasteræéçæå¤§æ¶é´ãä¸è¿ï¼å³ä½¿è¿äºè¿ä¸ªè¶æ¶ï¼slavesä¾ç¶ä¼è¢«æ­£ç¡®éç½®ä¸ºæåmasterï¼ä½æ¯å°±ä¸æparallel-syncsæéç½®çè§åæ¥äº\n# é»è®¤ä¸åé\n# sentinel failover-timeout <master-name> <milliseconds>\nsentinel failover-timeout mymaster 180000\n \n# scripts execution\n \n#éç½®å½æä¸äºä»¶åçæ¶æéè¦æ§è¡çèæ¬ï¼å¯ä»¥éè¿èæ¬æ¥éç¥ç®¡çåï¼ä¾å¦å½ç³»ç»è¿è¡ä¸æ­£å¸¸æ¶åé®ä»¶éç¥ç¸å³äººåã\n#å¯¹äºèæ¬çè¿è¡ç»ææä»¥ä¸è§åï¼\n#è¥èæ¬æ§è¡åè¿å1ï¼é£ä¹è¯¥èæ¬ç¨åå°ä¼è¢«åæ¬¡æ§è¡ï¼éå¤æ¬¡æ°ç®åé»è®¤ä¸º10\n#è¥èæ¬æ§è¡åè¿å2ï¼æèæ¯2æ´é«çä¸ä¸ªè¿åå¼ï¼èæ¬å°ä¸ä¼éå¤æ§è¡ã\n#å¦æèæ¬å¨æ§è¡è¿ç¨ä¸­ç±äºæ¶å°ç³»ç»ä¸­æ­ä¿¡å·è¢«ç»æ­¢äºï¼ååè¿åå¼ä¸º1æ¶çè¡ä¸ºç¸åã\n#ä¸ä¸ªèæ¬çæå¤§æ§è¡æ¶é´ä¸º60sï¼å¦æè¶è¿è¿ä¸ªæ¶é´ï¼èæ¬å°ä¼è¢«ä¸ä¸ªsigkillä¿¡å·ç»æ­¢ï¼ä¹åéæ°æ§è¡ã\n \n#éç¥åèæ¬:å½sentinelæä»»ä½è­¦åçº§å«çäºä»¶åçæ¶ï¼æ¯å¦è¯´rediså®ä¾çä¸»è§å¤±æåå®¢è§å¤±æç­ç­ï¼ï¼å°ä¼å»è°ç¨è¿ä¸ªèæ¬ï¼\n#è¿æ¶è¿ä¸ªèæ¬åºè¯¥éè¿é®ä»¶ï¼smsç­æ¹å¼å»éç¥ç³»ç»ç®¡çåå³äºç³»ç»ä¸æ­£å¸¸è¿è¡çä¿¡æ¯ãè°ç¨è¯¥èæ¬æ¶ï¼å°ä¼ ç»èæ¬ä¸¤ä¸ªåæ°ï¼\n#ä¸ä¸ªæ¯äºä»¶çç±»åï¼\n#ä¸ä¸ªæ¯äºä»¶çæè¿°ã\n#å¦æsentinel.conféç½®æä»¶ä¸­éç½®äºè¿ä¸ªèæ¬è·¯å¾ï¼é£ä¹å¿é¡»ä¿è¯è¿ä¸ªèæ¬å­å¨äºè¿ä¸ªè·¯å¾ï¼å¹¶ä¸æ¯å¯æ§è¡çï¼å¦åsentinelæ æ³æ­£å¸¸å¯å¨æåã\n#éç¥èæ¬\n# sentinel notification-script <master-name> <script-path>\n  sentinel notification-script mymaster /var/redis/notify.sh\n \n# å®¢æ·ç«¯éæ°éç½®ä¸»èç¹åæ°èæ¬\n# å½ä¸ä¸ªmasterç±äºfailoverèåçæ¹åæ¶ï¼è¿ä¸ªèæ¬å°ä¼è¢«è°ç¨ï¼éç¥ç¸å³çå®¢æ·ç«¯å³äºmasterå°åå·²ç»åçæ¹åçä¿¡æ¯ã\n# ä»¥ä¸åæ°å°ä¼å¨è°ç¨èæ¬æ¶ä¼ ç»èæ¬:\n# <master-name> <role> <state> <from-ip> <from-port> <to-ip> <to-port>\n# ç®å<state>æ»æ¯âfailoverâ,\n# <role>æ¯âleaderâæèâobserverâä¸­çä¸ä¸ªã \n# åæ° from-ip, from-port, to-ip, to-portæ¯ç¨æ¥åæ§çmasteråæ°çmaster(å³æ§çslave)éä¿¡ç\n# è¿ä¸ªèæ¬åºè¯¥æ¯éç¨çï¼è½è¢«å¤æ¬¡è°ç¨ï¼ä¸æ¯éå¯¹æ§çã\n# sentinel client-reconfig-script <master-name> <script-path>\nsentinel client-reconfig-script mymaster /var/redis/reconfig.sh\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n\n\n\n# ç¼å­ç©¿éä¸éªå´©\n\n\n# ç¼å­ç©¿éï¼æ¥ä¸å°ï¼\n\n> æ¦å¿µ\n\nå¨é»è®¤æåµä¸ï¼ç¨æ·è¯·æ±æ°æ®æ¶ï¼ä¼åå¨ç¼å­(redis)ä¸­æ¥æ¾ï¼è¥æ²¡æ¾å°å³ç¼å­æªå½ä¸­ï¼åå¨æ°æ®åºä¸­è¿è¡æ¥æ¾ï¼æ°éå°å¯è½é®é¢ä¸å¤§ï¼å¯æ¯ä¸æ¦å¤§éçè¯·æ±æ°æ®ï¼ä¾å¦ç§æåºæ¯ï¼ç¼å­é½æ²¡æå½ä¸­çè¯ï¼å°±ä¼å¨é¨è½¬ç§»å°æ°æ®åºä¸ï¼é ææ°æ®åºæå¤§çååï¼å°±æå¯è½å¯¼è´æ°æ®åºå´©æºãç½ç»å®å¨ä¸­ä¹æäººæ¶æä½¿ç¨è¿ç§ææ®µè¿è¡æ»å»è¢«ç§°ä¸ºæ´ªæ°´æ»å»ã\n\n> è§£å³æ¹æ¡\n\nå¸éè¿æ»¤å¨\n\nå¯¹ææå¯è½æ¥è¯¢çåæ°ä»¥hashçå½¢å¼å­å¨ï¼ä»¥ä¾¿å¿«éç¡®å®æ¯å¦å­å¨è¿ä¸ªå¼ï¼å¨æ§å¶å±åè¿è¡æ¦æªæ ¡éªï¼æ ¡éªä¸éè¿ç´æ¥æåï¼åè½»äºå­å¨ç³»ç»çååã\n\n\n\nç¼å­ç©ºå¯¹è±¡\n\nä¸æ¬¡è¯·æ±è¥å¨ç¼å­åæ°æ®åºä¸­é½æ²¡æ¾å°ï¼å°±å¨ç¼å­ä¸­æ¹ä¸ä¸ªç©ºå¯¹è±¡ç¨äºå¤çåç»­è¿ä¸ªè¯·æ±ã\n\n\n\nè¿æ ·åæä¸ä¸ªç¼ºé·ï¼å­å¨ç©ºå¯¹è±¡ä¹éè¦ç©ºé´ï¼å¤§éçç©ºå¯¹è±¡ä¼èè´¹ä¸å®çç©ºé´ï¼å­å¨æçå¹¶ä¸é«ãè§£å³è¿ä¸ªç¼ºé·çæ¹å¼å°±æ¯è®¾ç½®è¾ç­è¿ææ¶é´\n\nå³ä½¿å¯¹ç©ºå¼è®¾ç½®äºè¿ææ¶é´ï¼è¿æ¯ä¼å­å¨ç¼å­å±åå­å¨å±çæ°æ®ä¼æä¸æ®µæ¶é´çªå£çä¸ä¸è´ï¼è¿å¯¹äºéè¦ä¿æä¸è´æ§çä¸å¡ä¼æå½±åã\n\n\n# ç¼å­å»ç©¿ï¼éå¤ªå¤§ï¼ç¼å­è¿æï¼\n\n> æ¦å¿µ\n\nç¸è¾äºç¼å­ç©¿éï¼ç¼å­å»ç©¿çç®çæ§æ´å¼ºï¼ä¸ä¸ªå­å¨çkeyï¼å¨ç¼å­è¿æçä¸å»ï¼åæ¶æå¤§éçè¯·æ±ï¼è¿äºè¯·æ±é½ä¼å»ç©¿å°dbï¼é æç¬æ¶dbè¯·æ±éå¤§ãååéª¤å¢ãè¿å°±æ¯ç¼å­è¢«å»ç©¿ï¼åªæ¯éå¯¹å¶ä¸­æä¸ªkeyçç¼å­ä¸å¯ç¨èå¯¼è´å»ç©¿ï¼ä½æ¯å¶ä»çkeyä¾ç¶å¯ä»¥ä½¿ç¨ç¼å­ååºã\n\næ¯å¦ç­ææè¡ä¸ï¼ä¸ä¸ªç­ç¹æ°é»è¢«åæ¶å¤§éè®¿é®å°±å¯è½å¯¼è´ç¼å­å»ç©¿ã\n\n> è§£å³æ¹æ¡\n\n 1. è®¾ç½®ç­ç¹æ°æ®æ°¸ä¸è¿æ\n    \n    è¿æ ·å°±ä¸ä¼åºç°ç­ç¹æ°æ®è¿æçæåµï¼ä½æ¯å½redisåå­ç©ºé´æ»¡çæ¶åä¹ä¼æ¸çé¨åæ°æ®ï¼èä¸æ­¤ç§æ¹æ¡ä¼å ç¨ç©ºé´ï¼ä¸æ¦ç­ç¹æ°æ®å¤äºèµ·æ¥ï¼å°±ä¼å ç¨é¨åç©ºé´ã\n\n 2. å äºæ¥é(åå¸å¼é)\n    \n    å¨è®¿é®keyä¹åï¼éç¨setnxï¼set if not existsï¼æ¥è®¾ç½®å¦ä¸ä¸ªç­ækeyæ¥éä½å½åkeyçè®¿é®ï¼è®¿é®ç»æåå é¤è¯¥ç­ækeyãä¿è¯åæ¶å»åªæä¸ä¸ªçº¿ç¨è®¿é®ãè¿æ ·å¯¹éçè¦æ±å°±ååé«ã\n\n\n# ç¼å­éªå´©\n\n> æ¦å¿µ\n\nå¤§éçkeyè®¾ç½®äºç¸åçè¿ææ¶é´ï¼å¯¼è´å¨ç¼å­å¨åä¸æ¶å»å¨é¨å¤±æï¼é æç¬æ¶dbè¯·æ±éå¤§ãååéª¤å¢ï¼å¼èµ·éªå´©ã\n\näº§çéªå´©çåå ä¹ä¸ï¼æ¯å¦å¨åæ¬æçæ¶åï¼é©¬ä¸å°±è¦å°ååäºé¶ç¹ï¼å¾å¿«å°±ä¼è¿æ¥ä¸æ³¢æ¢è´­ï¼è¿æ³¢ååæ¶é´æ¯è¾éä¸­çæ¾å¥äºç¼å­ï¼åè®¾ç¼å­ä¸ä¸ªå°æ¶ãé£ä¹å°äºåæ¨ä¸ç¹éçæ¶åï¼è¿æ¹ååçç¼å­å°±é½è¿æäºãèå¯¹è¿æ¹ååçè®¿é®æ¥è¯¢ï¼é½è½å°äºæ°æ®åºä¸ï¼å¯¹äºæ°æ®åºèè¨ï¼å°±ä¼äº§çå¨ææ§çååæ³¢å³°ãäºæ¯ææçè¯·æ±é½ä¼è¾¾å°å­å¨å±ï¼å­å¨å±çè°ç¨éä¼æ´å¢ï¼é æå­å¨å±ä¹ä¼ææçæåµã\n\n\n\nå¶å®éä¸­è¿æï¼åä¸æ¯éå¸¸è´å½ï¼æ¯è¾è´å½çç¼å­éªå´©ï¼æ¯ç¼å­æå¡å¨æä¸ªèç¹å®æºææ­ç½ãå ä¸ºèªç¶ å½¢æçç¼å­éªå´©ï¼ä¸å®æ¯å¨æä¸ªæ¶é´æ®µéä¸­åå»ºç¼å­ï¼è¿ä¸ªæ¶åï¼æ°æ®åºä¹æ¯å¯ä»¥é¡¶ä½ååçãæ éå°± æ¯å¯¹æ°æ®åºäº§çå¨ææ§çååèå·²ãèç¼å­æå¡èç¹çå®æºï¼å¯¹æ°æ®åºæå¡å¨é æçååæ¯ä¸å¯é¢ç¥ çï¼å¾æå¯è½ç¬é´å°±ææ°æ®åºåå®ã\n\n> è§£å³æ¹æ¡\n\n * redisé«å¯ç¨\n   \n   è¿ä¸ªææ³çå«ä¹æ¯ï¼æ¢ç¶redisæå¯è½ææï¼é£æå¤å¢è®¾å å°redisï¼è¿æ ·ä¸å°ææä¹åå¶ä»çè¿å¯ä»¥ç»§ç»­å·¥ä½ï¼å¶å®å°±æ¯æ­å»ºçéç¾¤\n\n * éæµéçº§\n   \n   è¿ä¸ªè§£å³æ¹æ¡çææ³æ¯ï¼å¨ç¼å­å¤±æåï¼éè¿å éæèéåæ¥æ§å¶è¯»æ°æ®åºåç¼å­ççº¿ç¨æ°éãæ¯å¦å¯¹æä¸ªkeyåªåè®¸ä¸ä¸ªçº¿ç¨æ¥è¯¢æ°æ®ååç¼å­ï¼å¶ä»çº¿ç¨ç­å¾ã\n\n * æ°æ®é¢ç­\n   \n   æ°æ®å ç­çå«ä¹å°±æ¯å¨æ­£å¼é¨ç½²ä¹åï¼æåæå¯è½çæ°æ®åé¢åè®¿é®ä¸éï¼è¿æ ·é¨åå¯è½å¤§éè®¿é®çæ°æ®å°±ä¼å è½½å°ç¼å­ä¸­ãå¨å³å°åçå¤§å¹¶åè®¿é®åæå¨è§¦åå è½½ç¼å­ä¸åçkeyï¼è®¾ç½®ä¸åçè¿ææ¶é´ï¼è®©ç¼å­å¤±æçæ¶é´ç¹å°½éååã',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"ElasticSearch - ç¥è¯ä½ç³»",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"03.æ°æ®åº/15.ElasticSearch",imgUrl:"/img/web.png",description:"ElasticSearchç®å½é¡µ"}},title:"ElasticSearch - ç¥è¯ä½ç³»",permalink:"/es",sidebar:!0,article:!1,comment:!1,editLink:!1,date:"2021-08-03T18:04:03.000Z"},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/15.ElasticSearch/01.ElasticSearch.html",relativePath:"03.æ°æ®åº/15.ElasticSearch/01.ElasticSearch.md",key:"v-56b0312c",path:"/es/",headers:[{level:2,title:"è§é¢æç¨",slug:"è§é¢æç¨",normalizedTitle:"è§é¢æç¨",charIndex:3},{level:2,title:"å®æ¹ææ¡£",slug:"å®æ¹ææ¡£",normalizedTitle:"å®æ¹ææ¡£",charIndex:11},{level:2,title:"åèæç« ",slug:"åèæç« ",normalizedTitle:"åèæç« ",charIndex:19}],headersStr:"è§é¢æç¨ å®æ¹ææ¡£ åèæç« ",content:" * è§é¢æç¨\n * å®æ¹ææ¡£\n * åèæç« \n\n\n# è§é¢æç¨\n\nä¸­åç³æçè®²è§£è§é¢\n\n * åçº§è§é¢ï¼\n   \n   https://www.bilibili.com/video/BV1p4411h7sR\n\n * è¿é¶è§é¢ï¼\n   \n   https://www.bilibili.com/video/BV1p4411Y7F4\n\nå¬è¯´ä¸­åç³è¡«è®²çå¥½ï¼å°ç¡è°·ãçç¥ï¼æççæ¯çç¥è®²çï¼è®²çä¹é½å¯ä»¥\n\n\n# å®æ¹ææ¡£\n\n * ä½çæ¬ä¸­æææ¡£\n   \n   https://www.elastic.co/guide/cn/elasticsearch/guide/current/foreword_id.html\n\n * ææ°çæ¬çå®æ¹ææ¡£\n   \n   https://www.elastic.co/guide/en/elasticsearch/reference/7.x/index.html\n\n * Javaæä½Esçå®¢æ·ç«¯ææ¡£\n   \n   https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high.html\n\n * Kibanaæ°æ®å¯è§åçé¢ä½¿ç¨å®æ¹ææ¡£\n   \n   https://www.elastic.co/guide/en/kibana/current/index.html\n\n\n# åèæç« \n\nå­¦ä¹ èµæä»¥å®ç½ææ¡£ä¸ºä¸»\n\n * ElasticSearchç¥è¯ä½ç³»è¯¦è§£\n   \n   https://www.pdai.tech/md/db/nosql-es/elasticsearch.html\n\n * SpringBoot æ£ç´¢ç¯ - æ´å Elasticsearch7.6.2\n   \n   https://blog.csdn.net/weixin_41105242/article/details/107711634\n\næ¬äººElasticSearchå­¦ä¹ ç¬è®°åé´äºæ­¤ç½ç«ãçç¥æç¨ãå°ç¡è°·æç¨ä»¥åå¶ä»åå®¢åå®¹",normalizedContent:" * è§é¢æç¨\n * å®æ¹ææ¡£\n * åèæç« \n\n\n# è§é¢æç¨\n\nä¸­åç³æçè®²è§£è§é¢\n\n * åçº§è§é¢ï¼\n   \n   https://www.bilibili.com/video/bv1p4411h7sr\n\n * è¿é¶è§é¢ï¼\n   \n   https://www.bilibili.com/video/bv1p4411y7f4\n\nå¬è¯´ä¸­åç³è¡«è®²çå¥½ï¼å°ç¡è°·ãçç¥ï¼æççæ¯çç¥è®²çï¼è®²çä¹é½å¯ä»¥\n\n\n# å®æ¹ææ¡£\n\n * ä½çæ¬ä¸­æææ¡£\n   \n   https://www.elastic.co/guide/cn/elasticsearch/guide/current/foreword_id.html\n\n * ææ°çæ¬çå®æ¹ææ¡£\n   \n   https://www.elastic.co/guide/en/elasticsearch/reference/7.x/index.html\n\n * javaæä½esçå®¢æ·ç«¯ææ¡£\n   \n   https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high.html\n\n * kibanaæ°æ®å¯è§åçé¢ä½¿ç¨å®æ¹ææ¡£\n   \n   https://www.elastic.co/guide/en/kibana/current/index.html\n\n\n# åèæç« \n\nå­¦ä¹ èµæä»¥å®ç½ææ¡£ä¸ºä¸»\n\n * elasticsearchç¥è¯ä½ç³»è¯¦è§£\n   \n   https://www.pdai.tech/md/db/nosql-es/elasticsearch.html\n\n * springboot æ£ç´¢ç¯ - æ´å elasticsearch7.6.2\n   \n   https://blog.csdn.net/weixin_41105242/article/details/107711634\n\næ¬äººelasticsearchå­¦ä¹ ç¬è®°åé´äºæ­¤ç½ç«ãçç¥æç¨ãå°ç¡è°·æç¨ä»¥åå¶ä»åå®¢åå®¹",charsets:{cjk:!0},lastUpdated:"2021/08/03, 15:08:00",lastUpdatedTimestamp:1628003018e3},{title:"ES - ElasticSearchåºç¡æ¦å¿µ",frontmatter:{permalink:"/es/introduce",title:"ES - ElasticSearchåºç¡æ¦å¿µ",date:"2021-06-07T17:02:23.000Z"},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/15.ElasticSearch/02.ES%20-%20%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5.html",relativePath:"03.æ°æ®åº/15.ElasticSearch/02.ES - åºç¡æ¦å¿µ.md",key:"v-78e814f8",path:"/es/introduce/",headers:[{level:2,title:"ä¸ºä»ä¹éè¦å­¦ä¹ ElasticSearch",slug:"ä¸ºä»ä¹éè¦å­¦ä¹ elasticsearch",normalizedTitle:"ä¸ºä»ä¹éè¦å­¦ä¹ elasticsearch",charIndex:24},{level:2,title:"Doug Cutting",slug:"doug-cutting",normalizedTitle:"doug cutting",charIndex:48},{level:3,title:"Lucene",slug:"lucene",normalizedTitle:"lucene",charIndex:66},{level:2,title:"ä»ä¹æ¯ElasticSearch",slug:"ä»ä¹æ¯elasticsearch",normalizedTitle:"ä»ä¹æ¯elasticsearch",charIndex:76},{level:3,title:"ElasticSearchçç±æ¥",slug:"elasticsearchçç±æ¥",normalizedTitle:"elasticsearchçç±æ¥",charIndex:98},{level:3,title:"è°å¨ä½¿ç¨ElasticSearch",slug:"è°å¨ä½¿ç¨elasticsearch",normalizedTitle:"è°å¨ä½¿ç¨elasticsearch",charIndex:120},{level:3,title:"ä¸ºä»ä¹ä¸æ¯ç´æ¥ä½¿ç¨Lucene",slug:"ä¸ºä»ä¹ä¸æ¯ç´æ¥ä½¿ç¨lucene",normalizedTitle:"ä¸ºä»ä¹ä¸æ¯ç´æ¥ä½¿ç¨lucene",charIndex:143},{level:2,title:"ESåsolrçå·®å«",slug:"esåsolrçå·®å«",normalizedTitle:"esåsolrçå·®å«",charIndex:162},{level:2,title:"ESçåºç¡æ¦å¿µ",slug:"esçåºç¡æ¦å¿µ",normalizedTitle:"esçåºç¡æ¦å¿µ",charIndex:176},{level:2,title:"RESTful",slug:"restful",normalizedTitle:"restful",charIndex:187}],headersStr:"ä¸ºä»ä¹éè¦å­¦ä¹ ElasticSearch Doug Cutting Lucene ä»ä¹æ¯ElasticSearch ElasticSearchçç±æ¥ è°å¨ä½¿ç¨ElasticSearch ä¸ºä»ä¹ä¸æ¯ç´æ¥ä½¿ç¨Lucene ESåsolrçå·®å« ESçåºç¡æ¦å¿µ RESTful",content:"# ElasticSearchåºç¡æ¦å¿µ\n\n * ä¸ºä»ä¹éè¦å­¦ä¹ ElasticSearch\n * Doug Cutting\n   * Lucene\n * ä»ä¹æ¯ElasticSearch\n   * ElasticSearchçç±æ¥\n   * è°å¨ä½¿ç¨ElasticSearch\n   * ä¸ºä»ä¹ä¸æ¯ç´æ¥ä½¿ç¨Lucene\n * ESåsolrçå·®å«\n * ESçåºç¡æ¦å¿µ\n * RESTful\n\n\n# ä¸ºä»ä¹éè¦å­¦ä¹ ElasticSearch\n\næå\n\næ ¹æ® DB Engineçæå æ¾ç¤ºï¼ElasticSearchæ¯æåæ¬¢è¿çä¼ä¸çº§æç´¢å¼æã\n\nElasticSearchå¨ååååï¼\n\n\n\næä»¥ä¸ºä»ä¹è¦å­¦ä¹ ElasticSearchå¢ï¼\n\n1ãå¨å½åè½¯ä»¶è¡ä¸ä¸­ï¼æç´¢æ¯ä¸ä¸ªè½¯ä»¶ç³»ç»æå¹³å°çåºæ¬åè½ï¼ å­¦ä¹ ElasticSearchå°±å¯ä»¥ä¸ºç¸åºçè½¯ä»¶æé åºè¯å¥½çæç´¢ä½éªã\n\n2ãå¶æ¬¡ï¼ElasticSearchå·å¤éå¸¸å¼ºçå¤§æ°æ®åæè½åãè½ç¶Hadoopä¹å¯ä»¥åå¤§æ°æ®åæï¼ä½æ¯ElasticSearchçåæè½åéå¸¸é«ï¼å·å¤Hadoopä¸å·å¤çè½åãæ¯å¦ææ¶åç¨Hadoopåæä¸ä¸ªç»æï¼å¯è½ç­å¾çæ¶é´æ¯è¾é¿ã\n\n3ãElasticSearchå¯ä»¥å¾æ¹ä¾¿çè¿è¡ä½¿ç¨ï¼å¯ä»¥å°å¶å®è£å¨ä¸ªäººçç¬è®°æ¬çµèï¼ä¹å¯ä»¥å¨çäº§ç¯å¢ä¸­ï¼å°å¶è¿è¡æ°´å¹³æ©å±ã\n\n4ãå½åæ¯è¾å¤§çäºèç½å¬å¸é½å¨ä½¿ç¨ï¼æ¯å¦å°ç±³ãæ»´æ»´ãæºç¨ç­å¬å¸ãå¦å¤ï¼å¨è¾è®¯äºãé¿éäºçäºå¹³å°ä¸ï¼ä¹é½æç¸åºçElasticSearchäºäº§åå¯ä»¥ä½¿ç¨ã\n\n5ãå¨å½ä»å¤§æ°æ®æ¶ä»£ï¼ææ¡è¿å®æ¶çæç´¢ååæè½åï¼æè½ææ¡æ ¸å¿ç«äºåï¼æ´è§æªæ¥ã\n\n\n# Doug Cutting\n\nHadoopä¹ç¶ï¼Doug Cutting\n\n1998å¹´9æ4æ¥ï¼Google å¬å¸å¨ç¾å½ç¡è°·æç«ãæ­£å¦å¤§å®¶æç¥ï¼å®æ¯ä¸å®¶åæç´¢å¼æèµ·å®¶çå¬å¸ã\n\n\n\nä¸ä½åå« **DougâCutting **çç¾å½å·¥ç¨å¸ï¼ä¹è¿·ä¸äºæç´¢å¼æãä»åäºä¸ä¸ªç¨äºææ¬æç´¢çå½æ°åºï¼å§ä¸çè§£ä¸ºè½¯ä»¶çåè½ç»ä»¶ï¼ï¼å½åä¸º Luceneã\n\n\n\nLucene æ¯ç¨ JAVA åæçï¼ç®æ æ¯ä¸ºåç§ä¸­å°ååºç¨è½¯ä»¶å å¥å¨ææ£ç´¢åè½ãå ä¸ºå¥½ç¨èä¸å¼æºï¼éå¸¸åç¨åºåä»¬çæ¬¢è¿ã\n\næ©æçæ¶åï¼è¿ä¸ªé¡¹ç®è¢«åå¸å¨Doug Cuttingçä¸ªäººç½ç«åSourceForgeï¼ä¸ä¸ªå¼æºè½¯ä»¶ç½ç«ï¼ãåæ¥ï¼2001å¹´åºï¼Lucene æä¸º Apache è½¯ä»¶åºéä¼ jakarta é¡¹ç®çä¸ä¸ªå­é¡¹ç®ã\n\n\n\n2004å¹´ï¼Doug Cuttingåæ¥åå±ï¼å¨Luceneçåºç¡ä¸ï¼åApacheå¼æºä¼ä¼´ Mike Cafarella åä½ï¼å¼åäºä¸æ¬¾å¯ä»¥ä»£æ¿å½æ¶çä¸»æµæç´¢çå¼æºæç´¢å¼æï¼å½åä¸º Nutch ã\n\n\n\nNutchæ¯ä¸ä¸ªå»ºç«å¨Luceneæ ¸å¿ä¹ä¸çç½é¡µæç´¢åºç¨ç¨åºï¼å¯ä»¥ä¸è½½ä¸æ¥ç´æ¥ä½¿ç¨ãå®å¨Luceneçåºç¡ä¸å äºç½ç»ç¬è«åä¸äºç½é¡µç¸å³çåè½ï¼ç®çå°±æ¯ä»ä¸ä¸ªç®åçç«åæ£ç´¢æ¨å¹¿å°å¨çç½ç»çæç´¢ä¸ï¼å°±åGoogleä¸æ ·ã\n\nNutchå¨ä¸ççå½±ååæ¯Luceneæ´å¤§ã\n\nå¤§æ¹ç½ç«éç¨äºNutchå¹³å°ï¼å¤§å¤§éä½äºææ¯é¨æ§ï¼ä½¿ä½ææ¬çæ®éè®¡ç®æºåä»£é«ä»·çWebæå¡å¨æä¸ºå¯è½ãçè³æä¸æ®µæ¶é´ï¼å¨ç¡è°·æäºä¸è¡ç¨Nutchä½ææ¬åä¸çæ½®æµã\n\néçæ¶é´çæ¨ç§»ï¼æ è®ºæ¯Googleè¿æ¯Nutchï¼é½é¢ä¸´æç´¢å¯¹è±¡âä½ç§¯âä¸æ­å¢å¤§çé®é¢ã\n\nå°¤å¶æ¯Googleï¼ä½ä¸ºäºèç½æç´¢å¼æï¼éè¦å­å¨å¤§éçç½é¡µï¼å¹¶ä¸æ­ä¼åèªå·±çæç´¢ç®æ³ï¼æåæç´¢æçã\n\n\n\nå¨è¿ä¸ªè¿ç¨ä¸­ï¼Googleç¡®å®æ¾å°äºä¸å°å¥½åæ³ï¼å¹¶ä¸æ ç§å°åäº«äºåºæ¥ã\n\n2003å¹´ï¼Googleåè¡¨äºä¸ç¯ææ¯å­¦æ¯è®ºæï¼å¬å¼ä»ç»äºèªå·±çè°·æ­æä»¶ç³»ç»GFSï¼GoogleâFileâ Systemï¼ã\n\nè¿æ¯Googleå¬å¸ä¸ºäºå­å¨æµ·éæç´¢æ°æ®èè®¾è®¡çä¸ç¨æä»¶ç³»ç»ã\n\nç¬¬äºå¹´ï¼ä¹å°±æ¯2004å¹´ï¼DougâCuttingåºäºGoogleçGFSè®ºæï¼å®ç°äºåå¸å¼æä»¶å­å¨ç³»ç»ï¼å¹¶å°å®å½åä¸ºNDFSï¼Nutch Distributed FileâSystemï¼ã\n\n\n\nè¿æ¯2004å¹´ï¼Googleååè¡¨äºä¸ç¯ææ¯å­¦æ¯è®ºæï¼ä»ç»èªå·±çMapReduceç¼ç¨æ¨¡åãè¿ä¸ªç¼ç¨æ¨¡åï¼ ç¨äºå¤§è§æ¨¡æ°æ®éï¼å¤§äº1TBï¼çå¹¶è¡åæè¿ç®ã\n\nç¬¬äºå¹´ï¼2005å¹´ï¼ï¼DougâCuttingååºäºMapReduceï¼å¨Nutchæç´¢å¼æå®ç°äºè¯¥åè½ã\n\n\n\n2006å¹´ï¼Yahooï¼éèï¼å¬å¸ï¼æå®äºDougâCutting\n\n\n\nå çYahooä¹åï¼DougâCuttingå°NDFSåMapReduceè¿è¡äºåçº§æ¹é ï¼å¹¶éæ°å½åä¸º Hadoopï¼NDFSä¹æ¹åä¸ºHDFSï¼Hadoop Distributed FileâSystemï¼ã\n\nè¿ä¸ªï¼å°±æ¯åæ¥å¤§åé¼é¼çå¤§æ°æ®æ¡æ¶ç³»ç»ââHadoopçç±æ¥ã\n\nèDougâCuttingï¼åè¢«äººä»¬ç§°ä¸º Hadoopä¹ç¶ã\n\n\n\nHadoopè¿ä¸ªåå­ï¼å®éä¸æ¯DougâCuttingä»å¿å­çé»è²ç©å·å¤§è±¡çåå­ãæä»¥ï¼HadoopçLogoï¼å°±æ¯ä¸åªå¥è·çé»è²å¤§è±¡ã\n\n\n\næä»¬ç»§ç»­å¾ä¸è¯´ã è¿æ¯2006å¹´ï¼Googleååè®ºæäºã\n\nè¿æ¬¡ï¼å®ä»¬ä»ç»äºèªå·±çBigTableãè¿æ¯ä¸ç§åå¸å¼æ°æ®å­å¨ç³»ç»ï¼ä¸ç§ç¨æ¥å¤çæµ·éæ°æ®çéå³ç³»åæ°æ®åºã\n\nDougâCuttingå½ç¶æ²¡ææ¾è¿ï¼å¨èªå·±çhadoopç³»ç»éé¢ï¼å¼å¥äºBigTableï¼å¹¶å½åä¸ºHBaseã\n\n\n\nå¥½å§ï¼åæ­£å°±æ¯ç´§è·Googleæ¶ä»£æ­¥ä¼ï¼ä½ åºä»ä¹ï¼æå­¦ä»ä¹ã\n\næä»¥ï¼Hadoopçæ ¸å¿é¨åï¼åºæ¬ä¸é½æGoogleçå½±å­ã\n\n\n\n2008å¹´1æï¼Hadoopæåä¸ä½ï¼æ­£å¼æä¸ºApacheåºéä¼çé¡¶çº§é¡¹ç®ã\n\nåå¹´2æï¼Yahooå®£å¸å»ºæäºä¸ä¸ªæ¥æ1ä¸ä¸ªåæ ¸ç Hadoop éç¾¤ï¼å¹¶å°èªå·±çæç´¢å¼æäº§åé¨ç½²å¨ä¸é¢ã\n\n7æï¼Hadoopæç ´ä¸ççºªå½ï¼æä¸ºæå¿«æåº1TBæ°æ®çç³»ç»ï¼ç¨æ¶ 209 ç§ã\n\n\n# Lucene\n\nLuceneæ¯ä¸å¥ä¿¡æ¯æ£ç´¢å·¥å·åï¼å¹¶ä¸åå«æç´¢å¼æç³»ç»ï¼å®åå«äºç´¢å¼ç»æãè¯»åç´¢å¼å·¥å·ãç¸å³æ§å·¥å·ãæåºç­åè½ï¼å æ­¤å¨ä½¿ç¨Luceneæ¶ä»éè¦å³æ³¨æç´¢å¼æç³»ç»ï¼ä¾å¦æ°æ®è·åãè§£æãåè¯ç­æ¹é¢ç ä¸è¥¿ã\n\nä¸ºä»ä¹è¦ç»å¤§å®¶ä»ç»ä¸Luceneå¢ï¼å ä¸ºæä»¬å­¦è¿ç solr å å³å°è¦å­¦ä¹ ç elasticsearch é½æ¯åºäºè¯¥å·¥å·ååçä¸äºå°è£åå¢å¼ºç½¢äº\n\n\n# ä»ä¹æ¯ElasticSearch\n\n\n# ElasticSearchçç±æ¥\n\nè®¸å¤å¹´åï¼ä¸ä¸ªåç»å©çåå« Shay Banon çå¤±ä¸å¼åèï¼è·çä»çå¦»å­å»äºä¼¦æ¦ï¼ä»çå¦»å­å¨é£éå­¦ä¹ å¨å¸ã å¨å¯»æ¾ä¸ä¸ªèµé±çå·¥ä½çæ¶åï¼ä¸ºäºç»ä»çå¦»å­åä¸ä¸ªé£è°±æç´¢å¼æï¼ä»å¼å§ä½¿ç¨ Lucene çä¸ä¸ªæ©æçæ¬ã\n\nç´æ¥ä½¿ç¨ Lucene æ¯å¾é¾çï¼å æ­¤ Shay å¼å§åä¸ä¸ªæ½è±¡å±ï¼Java å¼åèä½¿ç¨å®å¯ä»¥å¾ç®åçç»ä»ä»¬çç¨åºæ·»å æç´¢åè½ã ä»åå¸äºä»çç¬¬ä¸ä¸ªå¼æºé¡¹ç® Compassã\n\nåæ¥ Shay è·å¾äºä¸ä»½å·¥ä½ï¼ä¸»è¦æ¯é«æ§è½ï¼åå¸å¼ç¯å¢ä¸çåå­æ°æ®ç½æ ¼ãè¿ä¸ªå¯¹äºé«æ§è½ï¼å®æ¶ï¼åå¸å¼æç´¢å¼æçéæ±å°¤ä¸ºçªåºï¼ ä»å³å®éå Compassï¼æå®åä¸ºä¸ä¸ªç¬ç«çæå¡å¹¶åå Elasticsearchã\n\nç¬¬ä¸ä¸ªå¬å¼çæ¬å¨2010å¹´2æåå¸ï¼ä»æ­¤ä»¥åï¼Elasticsearch å·²ç»æä¸ºäº Github ä¸ææ´»è·çé¡¹ç®ä¹ä¸ï¼ä»æ¥æè¶è¿300å contributors(ç®å736å contributors )ã ä¸å®¶å¬å¸å·²ç»å¼å§å´ç» Elasticsearch æä¾åä¸æå¡ï¼å¹¶å¼åæ°çç¹æ§ï¼ä½æ¯ï¼Elasticsearch å°æ°¸è¿å¼æºå¹¶å¯¹ææäººå¯ç¨ã\n\næ®è¯´ï¼Shay çå¦»å­è¿å¨ç­çå¥¹çé£è°±æç´¢å¼æâ¦\n\n\n# è°å¨ä½¿ç¨ElasticSearch\n\nElasticSearchæ¯ä¸æ¬¾éå¸¸å¼ºå¤§çãåºäºLuceneçå¼æºæç´¢ååæå¼æï¼å®æ¯ä¸ä¸ªå®æ¶çåå¸å¼æç´¢åæå¼æï¼å®è½è®©ä½ ä»¥åææªæçéåº¦åè§æ¨¡ï¼å»æ¢ç´¢ä½ çæ°æ®ã\n\nå®è¢«ç¨ä½å¨ææ£ç´¢ãç»æåæç´¢ãåæä»¥åè¿ä¸ä¸ªåè½çç»åï¼\n\n * Wikipedia ä½¿ç¨ Elasticsearch æä¾å¸¦æé«äº®çæ®µçå¨ææç´¢ï¼è¿æ search-as-you-type å did-you-mean çå»ºè®®ã\n\n * The Guardian ï¼å½å¤æ°é»ç½ç«ï¼ï¼ç±»ä¼¼æçæ°é»ï¼ç¨æ·è¡ä¸ºæ¥å¿ï¼ç¹å»ï¼æµè§ï¼æ¶èï¼è¯è®ºï¼+ç¤¾äº¤ç½ç»æ°æ®ï¼å¯¹æææ°é»çç¸å³çæ³ï¼ï¼æ°æ®åæï¼ç»å°æ¯ç¯æ°é»æç« çä½èï¼ä¸ºå®çç¼è¾ä»¬æä¾å¬ä¼å¯¹äºæ°æç« çå®æ¶åé¦ï¼å¥½ï¼åï¼ç­é¨ï¼åå¾ï¼éè§ï¼å´æï¼\n\n * Stack Overflow å°å°çä½ç½®æ¥è¯¢èå¥å¨ææ£ç´¢ä¸­å»ï¼å¹¶ä¸ä½¿ç¨ more-like-this æ¥å£å»æ¥æ¾ç¸å³çé®é¢ååç­ã\n\n * GitHub ä½¿ç¨ Elasticsearch å¯¹1300äº¿è¡ä»£ç è¿è¡æ¥è¯¢ã\n\n * .....\n\né¤äºæç´¢ï¼ç»åKibanaãLogstashãBeatså¼æºäº§åï¼Elastic Stackï¼ç®ç§°ELKï¼è¿è¢«å¹¿æ³è¿ç¨å¨å¤§æ°æ®è¿å®æ¶åæé¢åï¼åæ¬ï¼æ¥å¿åæãææ çæ§ãä¿¡æ¯å®å¨ç­ãå®å¯ä»¥å¸®å©ä½ æ¢ç´¢æµ·éç»æåãéç»æåæ°æ®ï¼æéåå»ºå¯è§åæ¥è¡¨ï¼å¯¹çæ§æ°æ®è®¾ç½®æ¥è­¦éå¼ï¼éè¿ä½¿ç¨æºå¨å­¦ä¹ ï¼èªå¨è¯å«å¼å¸¸ç¶åµã\n\n\n# ä¸ºä»ä¹ä¸æ¯ç´æ¥ä½¿ç¨Lucene\n\nLuceneç®ä»\n\nLuceneæ¯apacheè½¯ä»¶åºéä¼4 jakartaé¡¹ç®ç»çä¸ä¸ªå­é¡¹ç®ï¼æ¯ä¸ä¸ªå¼æ¾æºä»£ç çå¨ææ£ç´¢å¼æå·¥å· åï¼ä½å®ä¸æ¯ä¸ä¸ªå®æ´çå¨ææ£ç´¢å¼æï¼èæ¯ä¸ä¸ªå¨ææ£ç´¢å¼æçæ¶æï¼æä¾äºå®æ´çæ¥è¯¢å¼æåç´¢å¼å¼æï¼é¨åææ¬åæå¼æï¼è±æä¸å¾·æä¸¤ç§è¥¿æ¹è¯­è¨ï¼ã\n\nLuceneçç®çæ¯ä¸ºè½¯ä»¶å¼åäººåæä¾ä¸ä¸ªç®åæç¨çå·¥å·åï¼ä»¥æ¹ä¾¿çå¨ç®æ ç³»ç»ä¸­å®ç°å¨ææ£ç´¢çåè½ï¼æèæ¯ä»¥æ­¤ä¸ºåºç¡å»ºç«èµ·å®æ´çå¨ææ£ç´¢å¼æã\n\nLuceneæ¯ä¸å¥ç¨äºå¨ææ£ç´¢åæå¯»çå¼æºç¨å¼åºï¼ç±Apacheè½¯ä»¶åºéä¼æ¯æåæä¾ã\n\nLuceneæä¾äºä¸ä¸ªç®åå´å¼ºå¤§çåºç¨ç¨å¼æ¥å£ï¼è½å¤åå¨æç´¢å¼åæå¯»ã\n\nå¨Javaå¼åç¯å¢éLuceneæ¯ä¸ä¸ªæççåè´¹å¼æºå·¥å·ãå°±å¶æ¬èº«èè¨ï¼Luceneæ¯å½åä»¥åæè¿å å¹´æåæ¬¢è¿çåè´¹Javaä¿¡æ¯æ£ç´¢ç¨åºåºãäººä»¬ç»å¸¸æå°ä¿¡æ¯æ£ç´¢ç¨åºåºï¼è½ç¶ä¸æç´¢å¼ææå³ï¼ä½ä¸åºè¯¥å°ä¿¡æ¯æ£ç´¢ç¨åºåºä¸æç´¢å¼æç¸æ··æ·ã\n\nå¨ææç´¢å¼ææ¯åå¯å¶å®çæç´¢å¼æï¼å½å¤å·ä»£è¡¨æ§çæGoogleãFast/AllTheWebãAltaVistaã InktomiãTeomaãWiseNutç­ï¼å½åèåçæç¾åº¦ï¼Baiduï¼ãå®ä»¬é½æ¯éè¿ä»äºèç½ä¸æåçåä¸ªç½ç«çä¿¡æ¯ï¼ä»¥ç½é¡µæå­ä¸ºä¸»ï¼èå»ºç«çæ°æ®åºä¸­ï¼æ£ç´¢ä¸ç¨æ·æ¥è¯¢æ¡ä»¶å¹éçç¸å³è®°å½ï¼ç¶åæä¸å®çæåé¡ºåºå°ç»æè¿åç»ç¨æ·ï¼å æ­¤ä»ä»¬æ¯çæ­£çæç´¢å¼æã\n\nä»æç´¢ç»ææ¥æºçè§åº¦ï¼å¨ææç´¢å¼æåå¯ç»åä¸ºä¸¤ç§ï¼ä¸ç§æ¯æ¥æèªå·±çæ£ç´¢ç¨åºï¼Indexerï¼ï¼ä¿ç§° âèèâï¼Spiderï¼ç¨åºæâæºå¨äººâï¼Robotï¼ç¨åºï¼å¹¶èªå»ºç½é¡µæ°æ®åºï¼æç´¢ç»æç´æ¥ä»èªèº«çæ°æ®åºä¸­ è°ç¨ï¼å¦ä¸é¢æå°ç7å®¶å¼æï¼å¦ä¸ç§åæ¯ç§ç¨å¶ä»å¼æçæ°æ®åºï¼å¹¶æèªå®çæ ¼å¼æåæç´¢ç»æï¼å¦ Lycoså¼æã\n\nElasticSearchæ¯åºäºLuceneçï¼é£ä¹ä¸ºä»ä¹ä¸æ¯ç´æ¥ä½¿ç¨Luceneå¢ï¼\n\nLucene å¯ä»¥è¯´æ¯å½ä¸æåè¿ãé«æ§è½ãå¨åè½çæç´¢å¼æåºã\n\nä½æ¯ Lucene ä»ä»åªæ¯ä¸ä¸ªåºãä¸ºäºåååæ¥å¶åè½ï¼ä½ éè¦ä½¿ç¨ Java å¹¶å° Lucene ç´æ¥éæå°åºç¨ç¨åºä¸­ã æ´ç³ç³çæ¯ï¼æ¨å¯è½éè¦è·å¾ä¿¡æ¯æ£ç´¢å­¦ä½æè½äºè§£å¶å·¥ä½åçãLucene éå¸¸ å¤æã\n\nElasticsearch ä¹æ¯ä½¿ç¨ Java ç¼åçï¼å®çåé¨ä½¿ç¨ Lucene åç´¢å¼ä¸æç´¢ï¼ä½æ¯å®çç®çæ¯ä½¿å¨ææ£ç´¢åå¾ç®åï¼éè¿éè Lucene çå¤ææ§ï¼åèä»£ä¹çæä¾ä¸å¥ç®åä¸è´ç RESTful APIã\n\nç¶èï¼Elasticsearch ä¸ä»ä»æ¯ Luceneï¼å¹¶ä¸ä¹ä¸ä»ä»åªæ¯ä¸ä¸ªå¨ææç´¢å¼æã å®å¯ä»¥è¢«ä¸é¢è¿æ ·åç¡®çå½¢å®¹ï¼\n\n * ä¸ä¸ªåå¸å¼çå®æ¶ææ¡£å­å¨ï¼æ¯ä¸ªå­æ®µ å¯ä»¥è¢«ç´¢å¼ä¸æç´¢\n * ä¸ä¸ªåå¸å¼å®æ¶åææç´¢å¼æ\n * è½èä»»ä¸ç¾ä¸ªæå¡èç¹çæ©å±ï¼å¹¶æ¯æ PB çº§å«çç»æåæèéç»æåæ°æ®\n\n\n# ESåsolrçå·®å«\n\nSolrç®ä»\n\nSolr æ¯Apacheä¸çä¸ä¸ªé¡¶çº§å¼æºé¡¹ç®ï¼éç¨Javaå¼åï¼å®æ¯åºäºLuceneçå¨ææç´¢æå¡å¨ãSolræä¾äº æ¯Luceneæ´ä¸ºä¸°å¯çæ¥è¯¢è¯­è¨ï¼åæ¶å®ç°äºå¯éç½®ãå¯æ©å±ï¼å¹¶å¯¹ç´¢å¼ãæç´¢æ§è½è¿è¡äºä¼å\n\nSolrå¯ä»¥ç¬ç«è¿è¡ï¼è¿è¡å¨ JettyãTomcat ç­è¿äº Servlet å®¹å¨ä¸­ï¼Solr ç´¢å¼çå®ç°æ¹æ³å¾ç®åï¼ç¨ POST æ¹æ³å Solr æå¡å¨åéä¸ä¸ªæè¿° Field åå¶åå®¹ç XML ææ¡£ï¼Solr æ ¹æ® xml ææ¡£æ·»å ãå é¤ãæ´æ°ç´¢å¼ ãSolr æç´¢åªéè¦åé HTTP GET è¯·æ±ï¼ç¶åå¯¹ Solr è¿åXmlãjson ç­æ ¼å¼çæ¥è¯¢ç»æè¿è¡è§£æï¼ç»ç»é¡µé¢å¸å±ãSolr ä¸æä¾æå»º UI çåè½ï¼Solr æä¾äºä¸ä¸ªç®¡ççé¢ï¼éè¿ç®¡ççé¢å¯ä»¥æ¥è¯¢Solrçéç½®åè¿è¡æåµã\n\nsolræ¯åºäºluceneå¼åä¼ä¸çº§æç´¢æå¡å¨ï¼å®éä¸å°±æ¯å°è£äºluceneã\n\nSolræ¯ä¸ä¸ªç¬ç«çä¼ä¸çº§æç´¢åºç¨æå¡å¨ï¼å®å¯¹å¤æä¾ç±»ä¼¼äº Web-service çAPIæ¥å£ãç¨æ·å¯ä»¥éè¿ http è¯·æ±ï¼åæç´¢å¼ææå¡å¨æäº¤ä¸å®æ ¼å¼çæä»¶ï¼çæç´¢å¼ï¼ä¹å¯ä»¥éè¿æåºæ¥æ¾è¯·æ±ï¼å¹¶å¾å°è¿åç»æã\n\nElasticsearchåSolræ¯è¾\n\n\n\n\n\n\n\n\n\n\n\næ»ç»\n\n1ãesåºæ¬æ¯å¼ç®±å³ç¨ï¼éå¸¸ç®åãSolrå®è£ç¥å¾®å¤æä¸ä¸¢ä¸¢ï¼\n\n2ãSolr å©ç¨ Zookeeper è¿è¡åå¸å¼ç®¡çï¼è Elasticsearch èªèº«å¸¦æåå¸å¼åè°ç®¡çåè½ã\n\n3ãSolr æ¯ææ´å¤æ ¼å¼çæ°æ®ï¼æ¯å¦JSONãXMLãCSVï¼è Elasticsearch ä»æ¯æjsonæä»¶æ ¼å¼ã\n\n4ãSolr å®æ¹æä¾çåè½æ´å¤ï¼è Elasticsearch æ¬èº«æ´æ³¨éäºæ ¸å¿åè½ï¼é«çº§åè½å¤æç¬¬ä¸æ¹æä»¶æä¾ï¼ä¾å¦å¾å½¢åçé¢éè¦ kibana åå¥½æ¯æ\n\n5ãSolr æ¥è¯¢å¿«ï¼ä½æ´æ°ç´¢å¼æ¶æ¢ï¼å³æå¥å é¤æ¢ï¼ï¼ç¨äºçµåç­æ¥è¯¢å¤çåºç¨ï¼\n\n * ESå»ºç«ç´¢å¼å¿«ï¼å³æ¥è¯¢æ¢ï¼ï¼å³å®æ¶æ§æ¥è¯¢å¿«ï¼ç¨äºfacebookæ°æµªç­æç´¢ã\n * Solr æ¯ä¼ ç»æç´¢åºç¨çæåè§£å³æ¹æ¡ï¼ä½ Elasticsearch æ´éç¨äºæ°å´çå®æ¶æç´¢åºç¨ã\n\n6ãSolræ¯è¾æçï¼æä¸ä¸ªæ´å¤§ï¼æ´æççç¨æ·ãå¼ååè´¡ç®èç¤¾åºï¼è Elasticsearchç¸å¯¹å¼åç»´æ¤èè¾å°ï¼æ´æ°å¤ªå¿«ï¼å­¦ä¹ ä½¿ç¨ææ¬è¾é«ã\n\n\n# ESçåºç¡æ¦å¿µ\n\næä»¬è¿éå¯¹æ¯ç»æåæ°æ®åºï¼ççESçåºç¡æ¦å¿µï¼ä¸ºæä»¬åé¢å­¦ä¹ ä½éºå«ã\n\n * Near Realtimeï¼NRTï¼ è¿å®æ¶ãæ°æ®æäº¤ç´¢å¼åï¼ç«é©¬å°±å¯ä»¥æç´¢å°ã\n * Cluster éç¾¤ï¼ä¸ä¸ªéç¾¤ç±ä¸ä¸ªå¯ä¸çåå­æ è¯ï¼é»è®¤ä¸ºâelasticsearchâãéç¾¤åç§°éå¸¸éè¦ï¼å·æç¸åéç¾¤åçèç¹æä¼ç»æä¸ä¸ªéç¾¤ãéç¾¤åç§°å¯ä»¥å¨éç½®æä»¶ä¸­æå®ã\n * Node èç¹ï¼å­å¨éç¾¤çæ°æ®ï¼åä¸éç¾¤çç´¢å¼åæç´¢åè½ãåéç¾¤æåå­ï¼èç¹ä¹æèªå·±çåç§°ï¼é»è®¤å¨å¯å¨æ¶ä¼ä»¥ä¸ä¸ªéæºçUUIDçåä¸ä¸ªå­ç¬¦ä½ä¸ºèç¹çåå­ï¼ä½ å¯ä»¥ä¸ºå¶æå®ä»»æçåå­ãéè¿éç¾¤åå¨ç½ç»ä¸­åç°åä¼´ç»æéç¾¤ãä¸ä¸ªèç¹ä¹å¯æ¯éç¾¤ã\n * Index ç´¢å¼: ä¸ä¸ªç´¢å¼æ¯ä¸ä¸ªææ¡£çéåï¼ç­åäºsolrä¸­çéåï¼ãæ¯ä¸ªç´¢å¼æå¯ä¸çåå­ï¼éè¿è¿ä¸ªåå­æ¥æä½å®ãä¸ä¸ªéç¾¤ä¸­å¯ä»¥æä»»æå¤ä¸ªç´¢å¼ã\n * Type ç±»åï¼æå¨ä¸ä¸ªç´¢å¼ä¸­ï¼å¯ä»¥ç´¢å¼ä¸åç±»åçææ¡£ï¼å¦ç¨æ·æ°æ®ãåå®¢æ°æ®ãä»6.0.0 çæ¬èµ·å·²åºå¼ï¼ä¸ä¸ªç´¢å¼ä¸­åªå­æ¾ä¸ç±»æ°æ®ã\n * Document ææ¡£ï¼è¢«ç´¢å¼çä¸æ¡æ°æ®ï¼ç´¢å¼çåºæ¬ä¿¡æ¯ååï¼ä»¥JSONæ ¼å¼æ¥è¡¨ç¤ºã\n * Shard åçï¼å¨åå»ºä¸ä¸ªç´¢å¼æ¶å¯ä»¥æå®åæå¤å°ä¸ªåçæ¥å­å¨ãæ¯ä¸ªåçæ¬èº«ä¹æ¯ä¸ä¸ªåè½å®åä¸ç¬ç«çâç´¢å¼âï¼å¯ä»¥è¢«æ¾ç½®å¨éç¾¤çä»»æèç¹ä¸ã\n * Replication å¤ä»½: ä¸ä¸ªåçå¯ä»¥æå¤ä¸ªå¤ä»½ï¼å¯æ¬ï¼\n\nä¸ºäºæ¹ä¾¿çè§£ï¼ä½ä¸ä¸ªESåæ°æ®åºçå¯¹æ¯\n\n\n\nå mysql çç±»æ¯\n\n\n\nElasticsearch 7.X ä¸­, Type çæ¦å¿µå·²ç»è¢«å é¤äºã\n\n\n# RESTful\n\nREST æçæ¯ä¸ç»æ¶æçº¦ææ¡ä»¶åååãæ»¡è¶³è¿äºçº¦ææ¡ä»¶åååçåºç¨ç¨åºæè®¾è®¡å°±æ¯ RESTfulãWeb åºç¨ç¨åºæéè¦ç REST ååæ¯ï¼å®¢æ·ç«¯åæå¡å¨ä¹é´çäº¤äºå¨è¯·æ±ä¹é´æ¯æ ç¶æçãä»å®¢æ·ç«¯å°æå¡å¨çæ¯ä¸ªè¯·æ±é½å¿é¡»åå«çè§£è¯·æ±æå¿éçä¿¡æ¯ãå¦ææå¡å¨å¨è¯·æ±ä¹é´çä»»ä½æ¶é´ç¹éå¯ï¼å®¢æ·ç«¯ä¸ä¼å¾å°éç¥ãæ­¤å¤ï¼æ ç¶æè¯·æ±å¯ä»¥ç±ä»»ä½å¯ç¨æå¡å¨åç­ï¼è¿ååéåäºè®¡ç®ä¹ç±»çç¯å¢ãå®¢æ·ç«¯å¯ä»¥ç¼å­æ°æ®ä»¥æ¹è¿æ§è½ã\n\nå¨æå¡å¨ç«¯ï¼åºç¨ç¨åºç¶æååè½å¯ä»¥åä¸ºåç§èµæºãèµæºæ¯ä¸ä¸ªæè¶£çæ¦å¿µå®ä½ï¼å®åå®¢æ·ç«¯å¬å¼ãèµæºçä¾å­æï¼åºç¨ç¨åºå¯¹è±¡ãæ°æ®åºè®°å½ãç®æ³ç­ç­ãæ¯ä¸ªèµæºé½ä½¿ç¨ URI (Universal Resource Identifier) å¾å°ä¸ä¸ªå¯ä¸çå°åãææèµæºé½å±äº«ç»ä¸çæ¥å£ï¼ä»¥ä¾¿å¨å®¢ æ·ç«¯åæå¡å¨ä¹é´ä¼ è¾ç¶æãä½¿ç¨çæ¯æ åç HTTP æ¹æ³ï¼æ¯å¦ GETãPUTãPOST å DELETEã\n\nå¨ REST æ ·å¼ç Web æå¡ä¸­ï¼æ¯ä¸ªèµæºé½æä¸ä¸ªå°åãèµæºæ¬èº«é½æ¯æ¹æ³è°ç¨çç®æ ï¼æ¹æ³åè¡¨å¯¹ææèµæºé½æ¯ä¸æ ·çãè¿äºæ¹æ³é½æ¯æ åæ¹æ³ï¼åæ¬ HTTP GETãPOSTã PUTãDELETEï¼è¿å¯è½åæ¬ HEAD å OPTIONSãç®åççè§£å°±æ¯ï¼å¦ææ³è¦è®¿é®äºèç½ä¸çèµæºï¼å°±å¿é¡»åèµæºæå¨çæå¡å¨ååºè¯·æ±ï¼è¯·æ±ä½ä¸­å¿é¡»åå«èµæºçç½ç»è·¯å¾ï¼ä»¥åå¯¹èµæºè¿è¡çæä½(å¢å æ¹æ¥)ã",normalizedContent:"# elasticsearchåºç¡æ¦å¿µ\n\n * ä¸ºä»ä¹éè¦å­¦ä¹ elasticsearch\n * doug cutting\n   * lucene\n * ä»ä¹æ¯elasticsearch\n   * elasticsearchçç±æ¥\n   * è°å¨ä½¿ç¨elasticsearch\n   * ä¸ºä»ä¹ä¸æ¯ç´æ¥ä½¿ç¨lucene\n * esåsolrçå·®å«\n * esçåºç¡æ¦å¿µ\n * restful\n\n\n# ä¸ºä»ä¹éè¦å­¦ä¹ elasticsearch\n\næå\n\næ ¹æ® db engineçæå æ¾ç¤ºï¼elasticsearchæ¯æåæ¬¢è¿çä¼ä¸çº§æç´¢å¼æã\n\nelasticsearchå¨ååååï¼\n\n\n\næä»¥ä¸ºä»ä¹è¦å­¦ä¹ elasticsearchå¢ï¼\n\n1ãå¨å½åè½¯ä»¶è¡ä¸ä¸­ï¼æç´¢æ¯ä¸ä¸ªè½¯ä»¶ç³»ç»æå¹³å°çåºæ¬åè½ï¼ å­¦ä¹ elasticsearchå°±å¯ä»¥ä¸ºç¸åºçè½¯ä»¶æé åºè¯å¥½çæç´¢ä½éªã\n\n2ãå¶æ¬¡ï¼elasticsearchå·å¤éå¸¸å¼ºçå¤§æ°æ®åæè½åãè½ç¶hadoopä¹å¯ä»¥åå¤§æ°æ®åæï¼ä½æ¯elasticsearchçåæè½åéå¸¸é«ï¼å·å¤hadoopä¸å·å¤çè½åãæ¯å¦ææ¶åç¨hadoopåæä¸ä¸ªç»æï¼å¯è½ç­å¾çæ¶é´æ¯è¾é¿ã\n\n3ãelasticsearchå¯ä»¥å¾æ¹ä¾¿çè¿è¡ä½¿ç¨ï¼å¯ä»¥å°å¶å®è£å¨ä¸ªäººçç¬è®°æ¬çµèï¼ä¹å¯ä»¥å¨çäº§ç¯å¢ä¸­ï¼å°å¶è¿è¡æ°´å¹³æ©å±ã\n\n4ãå½åæ¯è¾å¤§çäºèç½å¬å¸é½å¨ä½¿ç¨ï¼æ¯å¦å°ç±³ãæ»´æ»´ãæºç¨ç­å¬å¸ãå¦å¤ï¼å¨è¾è®¯äºãé¿éäºçäºå¹³å°ä¸ï¼ä¹é½æç¸åºçelasticsearchäºäº§åå¯ä»¥ä½¿ç¨ã\n\n5ãå¨å½ä»å¤§æ°æ®æ¶ä»£ï¼ææ¡è¿å®æ¶çæç´¢ååæè½åï¼æè½ææ¡æ ¸å¿ç«äºåï¼æ´è§æªæ¥ã\n\n\n# doug cutting\n\nhadoopä¹ç¶ï¼doug cutting\n\n1998å¹´9æ4æ¥ï¼google å¬å¸å¨ç¾å½ç¡è°·æç«ãæ­£å¦å¤§å®¶æç¥ï¼å®æ¯ä¸å®¶åæç´¢å¼æèµ·å®¶çå¬å¸ã\n\n\n\nä¸ä½åå« **dougâcutting **çç¾å½å·¥ç¨å¸ï¼ä¹è¿·ä¸äºæç´¢å¼æãä»åäºä¸ä¸ªç¨äºææ¬æç´¢çå½æ°åºï¼å§ä¸çè§£ä¸ºè½¯ä»¶çåè½ç»ä»¶ï¼ï¼å½åä¸º luceneã\n\n\n\nlucene æ¯ç¨ java åæçï¼ç®æ æ¯ä¸ºåç§ä¸­å°ååºç¨è½¯ä»¶å å¥å¨ææ£ç´¢åè½ãå ä¸ºå¥½ç¨èä¸å¼æºï¼éå¸¸åç¨åºåä»¬çæ¬¢è¿ã\n\næ©æçæ¶åï¼è¿ä¸ªé¡¹ç®è¢«åå¸å¨doug cuttingçä¸ªäººç½ç«åsourceforgeï¼ä¸ä¸ªå¼æºè½¯ä»¶ç½ç«ï¼ãåæ¥ï¼2001å¹´åºï¼lucene æä¸º apache è½¯ä»¶åºéä¼ jakarta é¡¹ç®çä¸ä¸ªå­é¡¹ç®ã\n\n\n\n2004å¹´ï¼doug cuttingåæ¥åå±ï¼å¨luceneçåºç¡ä¸ï¼åapacheå¼æºä¼ä¼´ mike cafarella åä½ï¼å¼åäºä¸æ¬¾å¯ä»¥ä»£æ¿å½æ¶çä¸»æµæç´¢çå¼æºæç´¢å¼æï¼å½åä¸º nutch ã\n\n\n\nnutchæ¯ä¸ä¸ªå»ºç«å¨luceneæ ¸å¿ä¹ä¸çç½é¡µæç´¢åºç¨ç¨åºï¼å¯ä»¥ä¸è½½ä¸æ¥ç´æ¥ä½¿ç¨ãå®å¨luceneçåºç¡ä¸å äºç½ç»ç¬è«åä¸äºç½é¡µç¸å³çåè½ï¼ç®çå°±æ¯ä»ä¸ä¸ªç®åçç«åæ£ç´¢æ¨å¹¿å°å¨çç½ç»çæç´¢ä¸ï¼å°±ågoogleä¸æ ·ã\n\nnutchå¨ä¸ççå½±ååæ¯luceneæ´å¤§ã\n\nå¤§æ¹ç½ç«éç¨äºnutchå¹³å°ï¼å¤§å¤§éä½äºææ¯é¨æ§ï¼ä½¿ä½ææ¬çæ®éè®¡ç®æºåä»£é«ä»·çwebæå¡å¨æä¸ºå¯è½ãçè³æä¸æ®µæ¶é´ï¼å¨ç¡è°·æäºä¸è¡ç¨nutchä½ææ¬åä¸çæ½®æµã\n\néçæ¶é´çæ¨ç§»ï¼æ è®ºæ¯googleè¿æ¯nutchï¼é½é¢ä¸´æç´¢å¯¹è±¡âä½ç§¯âä¸æ­å¢å¤§çé®é¢ã\n\nå°¤å¶æ¯googleï¼ä½ä¸ºäºèç½æç´¢å¼æï¼éè¦å­å¨å¤§éçç½é¡µï¼å¹¶ä¸æ­ä¼åèªå·±çæç´¢ç®æ³ï¼æåæç´¢æçã\n\n\n\nå¨è¿ä¸ªè¿ç¨ä¸­ï¼googleç¡®å®æ¾å°äºä¸å°å¥½åæ³ï¼å¹¶ä¸æ ç§å°åäº«äºåºæ¥ã\n\n2003å¹´ï¼googleåè¡¨äºä¸ç¯ææ¯å­¦æ¯è®ºæï¼å¬å¼ä»ç»äºèªå·±çè°·æ­æä»¶ç³»ç»gfsï¼googleâfileâ systemï¼ã\n\nè¿æ¯googleå¬å¸ä¸ºäºå­å¨æµ·éæç´¢æ°æ®èè®¾è®¡çä¸ç¨æä»¶ç³»ç»ã\n\nç¬¬äºå¹´ï¼ä¹å°±æ¯2004å¹´ï¼dougâcuttingåºäºgoogleçgfsè®ºæï¼å®ç°äºåå¸å¼æä»¶å­å¨ç³»ç»ï¼å¹¶å°å®å½åä¸ºndfsï¼nutch distributed fileâsystemï¼ã\n\n\n\nè¿æ¯2004å¹´ï¼googleååè¡¨äºä¸ç¯ææ¯å­¦æ¯è®ºæï¼ä»ç»èªå·±çmapreduceç¼ç¨æ¨¡åãè¿ä¸ªç¼ç¨æ¨¡åï¼ ç¨äºå¤§è§æ¨¡æ°æ®éï¼å¤§äº1tbï¼çå¹¶è¡åæè¿ç®ã\n\nç¬¬äºå¹´ï¼2005å¹´ï¼ï¼dougâcuttingååºäºmapreduceï¼å¨nutchæç´¢å¼æå®ç°äºè¯¥åè½ã\n\n\n\n2006å¹´ï¼yahooï¼éèï¼å¬å¸ï¼æå®äºdougâcutting\n\n\n\nå çyahooä¹åï¼dougâcuttingå°ndfsåmapreduceè¿è¡äºåçº§æ¹é ï¼å¹¶éæ°å½åä¸º hadoopï¼ndfsä¹æ¹åä¸ºhdfsï¼hadoop distributed fileâsystemï¼ã\n\nè¿ä¸ªï¼å°±æ¯åæ¥å¤§åé¼é¼çå¤§æ°æ®æ¡æ¶ç³»ç»ââhadoopçç±æ¥ã\n\nèdougâcuttingï¼åè¢«äººä»¬ç§°ä¸º hadoopä¹ç¶ã\n\n\n\nhadoopè¿ä¸ªåå­ï¼å®éä¸æ¯dougâcuttingä»å¿å­çé»è²ç©å·å¤§è±¡çåå­ãæä»¥ï¼hadoopçlogoï¼å°±æ¯ä¸åªå¥è·çé»è²å¤§è±¡ã\n\n\n\næä»¬ç»§ç»­å¾ä¸è¯´ã è¿æ¯2006å¹´ï¼googleååè®ºæäºã\n\nè¿æ¬¡ï¼å®ä»¬ä»ç»äºèªå·±çbigtableãè¿æ¯ä¸ç§åå¸å¼æ°æ®å­å¨ç³»ç»ï¼ä¸ç§ç¨æ¥å¤çæµ·éæ°æ®çéå³ç³»åæ°æ®åºã\n\ndougâcuttingå½ç¶æ²¡ææ¾è¿ï¼å¨èªå·±çhadoopç³»ç»éé¢ï¼å¼å¥äºbigtableï¼å¹¶å½åä¸ºhbaseã\n\n\n\nå¥½å§ï¼åæ­£å°±æ¯ç´§è·googleæ¶ä»£æ­¥ä¼ï¼ä½ åºä»ä¹ï¼æå­¦ä»ä¹ã\n\næä»¥ï¼hadoopçæ ¸å¿é¨åï¼åºæ¬ä¸é½ægoogleçå½±å­ã\n\n\n\n2008å¹´1æï¼hadoopæåä¸ä½ï¼æ­£å¼æä¸ºapacheåºéä¼çé¡¶çº§é¡¹ç®ã\n\nåå¹´2æï¼yahooå®£å¸å»ºæäºä¸ä¸ªæ¥æ1ä¸ä¸ªåæ ¸ç hadoop éç¾¤ï¼å¹¶å°èªå·±çæç´¢å¼æäº§åé¨ç½²å¨ä¸é¢ã\n\n7æï¼hadoopæç ´ä¸ççºªå½ï¼æä¸ºæå¿«æåº1tbæ°æ®çç³»ç»ï¼ç¨æ¶ 209 ç§ã\n\n\n# lucene\n\nluceneæ¯ä¸å¥ä¿¡æ¯æ£ç´¢å·¥å·åï¼å¹¶ä¸åå«æç´¢å¼æç³»ç»ï¼å®åå«äºç´¢å¼ç»æãè¯»åç´¢å¼å·¥å·ãç¸å³æ§å·¥å·ãæåºç­åè½ï¼å æ­¤å¨ä½¿ç¨luceneæ¶ä»éè¦å³æ³¨æç´¢å¼æç³»ç»ï¼ä¾å¦æ°æ®è·åãè§£æãåè¯ç­æ¹é¢ç ä¸è¥¿ã\n\nä¸ºä»ä¹è¦ç»å¤§å®¶ä»ç»ä¸luceneå¢ï¼å ä¸ºæä»¬å­¦è¿ç solr å å³å°è¦å­¦ä¹ ç elasticsearch é½æ¯åºäºè¯¥å·¥å·ååçä¸äºå°è£åå¢å¼ºç½¢äº\n\n\n# ä»ä¹æ¯elasticsearch\n\n\n# elasticsearchçç±æ¥\n\nè®¸å¤å¹´åï¼ä¸ä¸ªåç»å©çåå« shay banon çå¤±ä¸å¼åèï¼è·çä»çå¦»å­å»äºä¼¦æ¦ï¼ä»çå¦»å­å¨é£éå­¦ä¹ å¨å¸ã å¨å¯»æ¾ä¸ä¸ªèµé±çå·¥ä½çæ¶åï¼ä¸ºäºç»ä»çå¦»å­åä¸ä¸ªé£è°±æç´¢å¼æï¼ä»å¼å§ä½¿ç¨ lucene çä¸ä¸ªæ©æçæ¬ã\n\nç´æ¥ä½¿ç¨ lucene æ¯å¾é¾çï¼å æ­¤ shay å¼å§åä¸ä¸ªæ½è±¡å±ï¼java å¼åèä½¿ç¨å®å¯ä»¥å¾ç®åçç»ä»ä»¬çç¨åºæ·»å æç´¢åè½ã ä»åå¸äºä»çç¬¬ä¸ä¸ªå¼æºé¡¹ç® compassã\n\nåæ¥ shay è·å¾äºä¸ä»½å·¥ä½ï¼ä¸»è¦æ¯é«æ§è½ï¼åå¸å¼ç¯å¢ä¸çåå­æ°æ®ç½æ ¼ãè¿ä¸ªå¯¹äºé«æ§è½ï¼å®æ¶ï¼åå¸å¼æç´¢å¼æçéæ±å°¤ä¸ºçªåºï¼ ä»å³å®éå compassï¼æå®åä¸ºä¸ä¸ªç¬ç«çæå¡å¹¶åå elasticsearchã\n\nç¬¬ä¸ä¸ªå¬å¼çæ¬å¨2010å¹´2æåå¸ï¼ä»æ­¤ä»¥åï¼elasticsearch å·²ç»æä¸ºäº github ä¸ææ´»è·çé¡¹ç®ä¹ä¸ï¼ä»æ¥æè¶è¿300å contributors(ç®å736å contributors )ã ä¸å®¶å¬å¸å·²ç»å¼å§å´ç» elasticsearch æä¾åä¸æå¡ï¼å¹¶å¼åæ°çç¹æ§ï¼ä½æ¯ï¼elasticsearch å°æ°¸è¿å¼æºå¹¶å¯¹ææäººå¯ç¨ã\n\næ®è¯´ï¼shay çå¦»å­è¿å¨ç­çå¥¹çé£è°±æç´¢å¼æâ¦\n\n\n# è°å¨ä½¿ç¨elasticsearch\n\nelasticsearchæ¯ä¸æ¬¾éå¸¸å¼ºå¤§çãåºäºluceneçå¼æºæç´¢ååæå¼æï¼å®æ¯ä¸ä¸ªå®æ¶çåå¸å¼æç´¢åæå¼æï¼å®è½è®©ä½ ä»¥åææªæçéåº¦åè§æ¨¡ï¼å»æ¢ç´¢ä½ çæ°æ®ã\n\nå®è¢«ç¨ä½å¨ææ£ç´¢ãç»æåæç´¢ãåæä»¥åè¿ä¸ä¸ªåè½çç»åï¼\n\n * wikipedia ä½¿ç¨ elasticsearch æä¾å¸¦æé«äº®çæ®µçå¨ææç´¢ï¼è¿æ search-as-you-type å did-you-mean çå»ºè®®ã\n\n * the guardian ï¼å½å¤æ°é»ç½ç«ï¼ï¼ç±»ä¼¼æçæ°é»ï¼ç¨æ·è¡ä¸ºæ¥å¿ï¼ç¹å»ï¼æµè§ï¼æ¶èï¼è¯è®ºï¼+ç¤¾äº¤ç½ç»æ°æ®ï¼å¯¹æææ°é»çç¸å³çæ³ï¼ï¼æ°æ®åæï¼ç»å°æ¯ç¯æ°é»æç« çä½èï¼ä¸ºå®çç¼è¾ä»¬æä¾å¬ä¼å¯¹äºæ°æç« çå®æ¶åé¦ï¼å¥½ï¼åï¼ç­é¨ï¼åå¾ï¼éè§ï¼å´æï¼\n\n * stack overflow å°å°çä½ç½®æ¥è¯¢èå¥å¨ææ£ç´¢ä¸­å»ï¼å¹¶ä¸ä½¿ç¨ more-like-this æ¥å£å»æ¥æ¾ç¸å³çé®é¢ååç­ã\n\n * github ä½¿ç¨ elasticsearch å¯¹1300äº¿è¡ä»£ç è¿è¡æ¥è¯¢ã\n\n * .....\n\né¤äºæç´¢ï¼ç»åkibanaãlogstashãbeatså¼æºäº§åï¼elastic stackï¼ç®ç§°elkï¼è¿è¢«å¹¿æ³è¿ç¨å¨å¤§æ°æ®è¿å®æ¶åæé¢åï¼åæ¬ï¼æ¥å¿åæãææ çæ§ãä¿¡æ¯å®å¨ç­ãå®å¯ä»¥å¸®å©ä½ æ¢ç´¢æµ·éç»æåãéç»æåæ°æ®ï¼æéåå»ºå¯è§åæ¥è¡¨ï¼å¯¹çæ§æ°æ®è®¾ç½®æ¥è­¦éå¼ï¼éè¿ä½¿ç¨æºå¨å­¦ä¹ ï¼èªå¨è¯å«å¼å¸¸ç¶åµã\n\n\n# ä¸ºä»ä¹ä¸æ¯ç´æ¥ä½¿ç¨lucene\n\nluceneç®ä»\n\nluceneæ¯apacheè½¯ä»¶åºéä¼4 jakartaé¡¹ç®ç»çä¸ä¸ªå­é¡¹ç®ï¼æ¯ä¸ä¸ªå¼æ¾æºä»£ç çå¨ææ£ç´¢å¼æå·¥å· åï¼ä½å®ä¸æ¯ä¸ä¸ªå®æ´çå¨ææ£ç´¢å¼æï¼èæ¯ä¸ä¸ªå¨ææ£ç´¢å¼æçæ¶æï¼æä¾äºå®æ´çæ¥è¯¢å¼æåç´¢å¼å¼æï¼é¨åææ¬åæå¼æï¼è±æä¸å¾·æä¸¤ç§è¥¿æ¹è¯­è¨ï¼ã\n\nluceneçç®çæ¯ä¸ºè½¯ä»¶å¼åäººåæä¾ä¸ä¸ªç®åæç¨çå·¥å·åï¼ä»¥æ¹ä¾¿çå¨ç®æ ç³»ç»ä¸­å®ç°å¨ææ£ç´¢çåè½ï¼æèæ¯ä»¥æ­¤ä¸ºåºç¡å»ºç«èµ·å®æ´çå¨ææ£ç´¢å¼æã\n\nluceneæ¯ä¸å¥ç¨äºå¨ææ£ç´¢åæå¯»çå¼æºç¨å¼åºï¼ç±apacheè½¯ä»¶åºéä¼æ¯æåæä¾ã\n\nluceneæä¾äºä¸ä¸ªç®åå´å¼ºå¤§çåºç¨ç¨å¼æ¥å£ï¼è½å¤åå¨æç´¢å¼åæå¯»ã\n\nå¨javaå¼åç¯å¢éluceneæ¯ä¸ä¸ªæççåè´¹å¼æºå·¥å·ãå°±å¶æ¬èº«èè¨ï¼luceneæ¯å½åä»¥åæè¿å å¹´æåæ¬¢è¿çåè´¹javaä¿¡æ¯æ£ç´¢ç¨åºåºãäººä»¬ç»å¸¸æå°ä¿¡æ¯æ£ç´¢ç¨åºåºï¼è½ç¶ä¸æç´¢å¼ææå³ï¼ä½ä¸åºè¯¥å°ä¿¡æ¯æ£ç´¢ç¨åºåºä¸æç´¢å¼æç¸æ··æ·ã\n\nå¨ææç´¢å¼ææ¯åå¯å¶å®çæç´¢å¼æï¼å½å¤å·ä»£è¡¨æ§çægoogleãfast/allthewebãaltavistaã inktomiãteomaãwisenutç­ï¼å½åèåçæç¾åº¦ï¼baiduï¼ãå®ä»¬é½æ¯éè¿ä»äºèç½ä¸æåçåä¸ªç½ç«çä¿¡æ¯ï¼ä»¥ç½é¡µæå­ä¸ºä¸»ï¼èå»ºç«çæ°æ®åºä¸­ï¼æ£ç´¢ä¸ç¨æ·æ¥è¯¢æ¡ä»¶å¹éçç¸å³è®°å½ï¼ç¶åæä¸å®çæåé¡ºåºå°ç»æè¿åç»ç¨æ·ï¼å æ­¤ä»ä»¬æ¯çæ­£çæç´¢å¼æã\n\nä»æç´¢ç»ææ¥æºçè§åº¦ï¼å¨ææç´¢å¼æåå¯ç»åä¸ºä¸¤ç§ï¼ä¸ç§æ¯æ¥æèªå·±çæ£ç´¢ç¨åºï¼indexerï¼ï¼ä¿ç§° âèèâï¼spiderï¼ç¨åºæâæºå¨äººâï¼robotï¼ç¨åºï¼å¹¶èªå»ºç½é¡µæ°æ®åºï¼æç´¢ç»æç´æ¥ä»èªèº«çæ°æ®åºä¸­ è°ç¨ï¼å¦ä¸é¢æå°ç7å®¶å¼æï¼å¦ä¸ç§åæ¯ç§ç¨å¶ä»å¼æçæ°æ®åºï¼å¹¶æèªå®çæ ¼å¼æåæç´¢ç»æï¼å¦ lycoså¼æã\n\nelasticsearchæ¯åºäºluceneçï¼é£ä¹ä¸ºä»ä¹ä¸æ¯ç´æ¥ä½¿ç¨luceneå¢ï¼\n\nlucene å¯ä»¥è¯´æ¯å½ä¸æåè¿ãé«æ§è½ãå¨åè½çæç´¢å¼æåºã\n\nä½æ¯ lucene ä»ä»åªæ¯ä¸ä¸ªåºãä¸ºäºåååæ¥å¶åè½ï¼ä½ éè¦ä½¿ç¨ java å¹¶å° lucene ç´æ¥éæå°åºç¨ç¨åºä¸­ã æ´ç³ç³çæ¯ï¼æ¨å¯è½éè¦è·å¾ä¿¡æ¯æ£ç´¢å­¦ä½æè½äºè§£å¶å·¥ä½åçãlucene éå¸¸ å¤æã\n\nelasticsearch ä¹æ¯ä½¿ç¨ java ç¼åçï¼å®çåé¨ä½¿ç¨ lucene åç´¢å¼ä¸æç´¢ï¼ä½æ¯å®çç®çæ¯ä½¿å¨ææ£ç´¢åå¾ç®åï¼éè¿éè lucene çå¤ææ§ï¼åèä»£ä¹çæä¾ä¸å¥ç®åä¸è´ç restful apiã\n\nç¶èï¼elasticsearch ä¸ä»ä»æ¯ luceneï¼å¹¶ä¸ä¹ä¸ä»ä»åªæ¯ä¸ä¸ªå¨ææç´¢å¼æã å®å¯ä»¥è¢«ä¸é¢è¿æ ·åç¡®çå½¢å®¹ï¼\n\n * ä¸ä¸ªåå¸å¼çå®æ¶ææ¡£å­å¨ï¼æ¯ä¸ªå­æ®µ å¯ä»¥è¢«ç´¢å¼ä¸æç´¢\n * ä¸ä¸ªåå¸å¼å®æ¶åææç´¢å¼æ\n * è½èä»»ä¸ç¾ä¸ªæå¡èç¹çæ©å±ï¼å¹¶æ¯æ pb çº§å«çç»æåæèéç»æåæ°æ®\n\n\n# esåsolrçå·®å«\n\nsolrç®ä»\n\nsolr æ¯apacheä¸çä¸ä¸ªé¡¶çº§å¼æºé¡¹ç®ï¼éç¨javaå¼åï¼å®æ¯åºäºluceneçå¨ææç´¢æå¡å¨ãsolræä¾äº æ¯luceneæ´ä¸ºä¸°å¯çæ¥è¯¢è¯­è¨ï¼åæ¶å®ç°äºå¯éç½®ãå¯æ©å±ï¼å¹¶å¯¹ç´¢å¼ãæç´¢æ§è½è¿è¡äºä¼å\n\nsolrå¯ä»¥ç¬ç«è¿è¡ï¼è¿è¡å¨ jettyãtomcat ç­è¿äº servlet å®¹å¨ä¸­ï¼solr ç´¢å¼çå®ç°æ¹æ³å¾ç®åï¼ç¨ post æ¹æ³å solr æå¡å¨åéä¸ä¸ªæè¿° field åå¶åå®¹ç xml ææ¡£ï¼solr æ ¹æ® xml ææ¡£æ·»å ãå é¤ãæ´æ°ç´¢å¼ ãsolr æç´¢åªéè¦åé http get è¯·æ±ï¼ç¶åå¯¹ solr è¿åxmlãjson ç­æ ¼å¼çæ¥è¯¢ç»æè¿è¡è§£æï¼ç»ç»é¡µé¢å¸å±ãsolr ä¸æä¾æå»º ui çåè½ï¼solr æä¾äºä¸ä¸ªç®¡ççé¢ï¼éè¿ç®¡ççé¢å¯ä»¥æ¥è¯¢solrçéç½®åè¿è¡æåµã\n\nsolræ¯åºäºluceneå¼åä¼ä¸çº§æç´¢æå¡å¨ï¼å®éä¸å°±æ¯å°è£äºluceneã\n\nsolræ¯ä¸ä¸ªç¬ç«çä¼ä¸çº§æç´¢åºç¨æå¡å¨ï¼å®å¯¹å¤æä¾ç±»ä¼¼äº web-service çapiæ¥å£ãç¨æ·å¯ä»¥éè¿ http è¯·æ±ï¼åæç´¢å¼ææå¡å¨æäº¤ä¸å®æ ¼å¼çæä»¶ï¼çæç´¢å¼ï¼ä¹å¯ä»¥éè¿æåºæ¥æ¾è¯·æ±ï¼å¹¶å¾å°è¿åç»æã\n\nelasticsearchåsolræ¯è¾\n\n\n\n\n\n\n\n\n\n\n\næ»ç»\n\n1ãesåºæ¬æ¯å¼ç®±å³ç¨ï¼éå¸¸ç®åãsolrå®è£ç¥å¾®å¤æä¸ä¸¢ä¸¢ï¼\n\n2ãsolr å©ç¨ zookeeper è¿è¡åå¸å¼ç®¡çï¼è elasticsearch èªèº«å¸¦æåå¸å¼åè°ç®¡çåè½ã\n\n3ãsolr æ¯ææ´å¤æ ¼å¼çæ°æ®ï¼æ¯å¦jsonãxmlãcsvï¼è elasticsearch ä»æ¯æjsonæä»¶æ ¼å¼ã\n\n4ãsolr å®æ¹æä¾çåè½æ´å¤ï¼è elasticsearch æ¬èº«æ´æ³¨éäºæ ¸å¿åè½ï¼é«çº§åè½å¤æç¬¬ä¸æ¹æä»¶æä¾ï¼ä¾å¦å¾å½¢åçé¢éè¦ kibana åå¥½æ¯æ\n\n5ãsolr æ¥è¯¢å¿«ï¼ä½æ´æ°ç´¢å¼æ¶æ¢ï¼å³æå¥å é¤æ¢ï¼ï¼ç¨äºçµåç­æ¥è¯¢å¤çåºç¨ï¼\n\n * eså»ºç«ç´¢å¼å¿«ï¼å³æ¥è¯¢æ¢ï¼ï¼å³å®æ¶æ§æ¥è¯¢å¿«ï¼ç¨äºfacebookæ°æµªç­æç´¢ã\n * solr æ¯ä¼ ç»æç´¢åºç¨çæåè§£å³æ¹æ¡ï¼ä½ elasticsearch æ´éç¨äºæ°å´çå®æ¶æç´¢åºç¨ã\n\n6ãsolræ¯è¾æçï¼æä¸ä¸ªæ´å¤§ï¼æ´æççç¨æ·ãå¼ååè´¡ç®èç¤¾åºï¼è elasticsearchç¸å¯¹å¼åç»´æ¤èè¾å°ï¼æ´æ°å¤ªå¿«ï¼å­¦ä¹ ä½¿ç¨ææ¬è¾é«ã\n\n\n# esçåºç¡æ¦å¿µ\n\næä»¬è¿éå¯¹æ¯ç»æåæ°æ®åºï¼ççesçåºç¡æ¦å¿µï¼ä¸ºæä»¬åé¢å­¦ä¹ ä½éºå«ã\n\n * near realtimeï¼nrtï¼ è¿å®æ¶ãæ°æ®æäº¤ç´¢å¼åï¼ç«é©¬å°±å¯ä»¥æç´¢å°ã\n * cluster éç¾¤ï¼ä¸ä¸ªéç¾¤ç±ä¸ä¸ªå¯ä¸çåå­æ è¯ï¼é»è®¤ä¸ºâelasticsearchâãéç¾¤åç§°éå¸¸éè¦ï¼å·æç¸åéç¾¤åçèç¹æä¼ç»æä¸ä¸ªéç¾¤ãéç¾¤åç§°å¯ä»¥å¨éç½®æä»¶ä¸­æå®ã\n * node èç¹ï¼å­å¨éç¾¤çæ°æ®ï¼åä¸éç¾¤çç´¢å¼åæç´¢åè½ãåéç¾¤æåå­ï¼èç¹ä¹æèªå·±çåç§°ï¼é»è®¤å¨å¯å¨æ¶ä¼ä»¥ä¸ä¸ªéæºçuuidçåä¸ä¸ªå­ç¬¦ä½ä¸ºèç¹çåå­ï¼ä½ å¯ä»¥ä¸ºå¶æå®ä»»æçåå­ãéè¿éç¾¤åå¨ç½ç»ä¸­åç°åä¼´ç»æéç¾¤ãä¸ä¸ªèç¹ä¹å¯æ¯éç¾¤ã\n * index ç´¢å¼: ä¸ä¸ªç´¢å¼æ¯ä¸ä¸ªææ¡£çéåï¼ç­åäºsolrä¸­çéåï¼ãæ¯ä¸ªç´¢å¼æå¯ä¸çåå­ï¼éè¿è¿ä¸ªåå­æ¥æä½å®ãä¸ä¸ªéç¾¤ä¸­å¯ä»¥æä»»æå¤ä¸ªç´¢å¼ã\n * type ç±»åï¼æå¨ä¸ä¸ªç´¢å¼ä¸­ï¼å¯ä»¥ç´¢å¼ä¸åç±»åçææ¡£ï¼å¦ç¨æ·æ°æ®ãåå®¢æ°æ®ãä»6.0.0 çæ¬èµ·å·²åºå¼ï¼ä¸ä¸ªç´¢å¼ä¸­åªå­æ¾ä¸ç±»æ°æ®ã\n * document ææ¡£ï¼è¢«ç´¢å¼çä¸æ¡æ°æ®ï¼ç´¢å¼çåºæ¬ä¿¡æ¯ååï¼ä»¥jsonæ ¼å¼æ¥è¡¨ç¤ºã\n * shard åçï¼å¨åå»ºä¸ä¸ªç´¢å¼æ¶å¯ä»¥æå®åæå¤å°ä¸ªåçæ¥å­å¨ãæ¯ä¸ªåçæ¬èº«ä¹æ¯ä¸ä¸ªåè½å®åä¸ç¬ç«çâç´¢å¼âï¼å¯ä»¥è¢«æ¾ç½®å¨éç¾¤çä»»æèç¹ä¸ã\n * replication å¤ä»½: ä¸ä¸ªåçå¯ä»¥æå¤ä¸ªå¤ä»½ï¼å¯æ¬ï¼\n\nä¸ºäºæ¹ä¾¿çè§£ï¼ä½ä¸ä¸ªesåæ°æ®åºçå¯¹æ¯\n\n\n\nå mysql çç±»æ¯\n\n\n\nelasticsearch 7.x ä¸­, type çæ¦å¿µå·²ç»è¢«å é¤äºã\n\n\n# restful\n\nrest æçæ¯ä¸ç»æ¶æçº¦ææ¡ä»¶åååãæ»¡è¶³è¿äºçº¦ææ¡ä»¶åååçåºç¨ç¨åºæè®¾è®¡å°±æ¯ restfulãweb åºç¨ç¨åºæéè¦ç rest ååæ¯ï¼å®¢æ·ç«¯åæå¡å¨ä¹é´çäº¤äºå¨è¯·æ±ä¹é´æ¯æ ç¶æçãä»å®¢æ·ç«¯å°æå¡å¨çæ¯ä¸ªè¯·æ±é½å¿é¡»åå«çè§£è¯·æ±æå¿éçä¿¡æ¯ãå¦ææå¡å¨å¨è¯·æ±ä¹é´çä»»ä½æ¶é´ç¹éå¯ï¼å®¢æ·ç«¯ä¸ä¼å¾å°éç¥ãæ­¤å¤ï¼æ ç¶æè¯·æ±å¯ä»¥ç±ä»»ä½å¯ç¨æå¡å¨åç­ï¼è¿ååéåäºè®¡ç®ä¹ç±»çç¯å¢ãå®¢æ·ç«¯å¯ä»¥ç¼å­æ°æ®ä»¥æ¹è¿æ§è½ã\n\nå¨æå¡å¨ç«¯ï¼åºç¨ç¨åºç¶æååè½å¯ä»¥åä¸ºåç§èµæºãèµæºæ¯ä¸ä¸ªæè¶£çæ¦å¿µå®ä½ï¼å®åå®¢æ·ç«¯å¬å¼ãèµæºçä¾å­æï¼åºç¨ç¨åºå¯¹è±¡ãæ°æ®åºè®°å½ãç®æ³ç­ç­ãæ¯ä¸ªèµæºé½ä½¿ç¨ uri (universal resource identifier) å¾å°ä¸ä¸ªå¯ä¸çå°åãææèµæºé½å±äº«ç»ä¸çæ¥å£ï¼ä»¥ä¾¿å¨å®¢ æ·ç«¯åæå¡å¨ä¹é´ä¼ è¾ç¶æãä½¿ç¨çæ¯æ åç http æ¹æ³ï¼æ¯å¦ getãputãpost å deleteã\n\nå¨ rest æ ·å¼ç web æå¡ä¸­ï¼æ¯ä¸ªèµæºé½æä¸ä¸ªå°åãèµæºæ¬èº«é½æ¯æ¹æ³è°ç¨çç®æ ï¼æ¹æ³åè¡¨å¯¹ææèµæºé½æ¯ä¸æ ·çãè¿äºæ¹æ³é½æ¯æ åæ¹æ³ï¼åæ¬ http getãpostã putãdeleteï¼è¿å¯è½åæ¬ head å optionsãç®åççè§£å°±æ¯ï¼å¦ææ³è¦è®¿é®äºèç½ä¸çèµæºï¼å°±å¿é¡»åèµæºæå¨çæå¡å¨ååºè¯·æ±ï¼è¯·æ±ä½ä¸­å¿é¡»åå«èµæºçç½ç»è·¯å¾ï¼ä»¥åå¯¹èµæºè¿è¡çæä½(å¢å æ¹æ¥)ã",charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"ES - å®è£ElasticSearch",frontmatter:{permalink:"/es/install",title:"ES - å®è£ElasticSearch",date:"2021-06-09T21:44:50.000Z"},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/15.ElasticSearch/04.ES%20-%20%E5%AE%89%E8%A3%85.html",relativePath:"03.æ°æ®åº/15.ElasticSearch/04.ES - å®è£.md",key:"v-b013a97e",path:"/es/install/",headers:[{level:2,title:"å®ç½ç¸å³æç¨",slug:"å®ç½ç¸å³æç¨",normalizedTitle:"å®ç½ç¸å³æç¨",charIndex:3},{level:2,title:"å®è£ElasticSearch",slug:"å®è£elasticsearch",normalizedTitle:"å®è£elasticsearch",charIndex:13},{level:3,title:"windows çæ¬",slug:"windows-çæ¬",normalizedTitle:"windows çæ¬",charIndex:34},{level:3,title:"linux çæ¬",slug:"linux-çæ¬",normalizedTitle:"linux çæ¬",charIndex:50},{level:3,title:"ä½¿ç¨ Docker",slug:"ä½¿ç¨-docker",normalizedTitle:"ä½¿ç¨ docker",charIndex:64},{level:2,title:"éç½®å¯ç è®¿é®",slug:"éç½®å¯ç è®¿é®",normalizedTitle:"éç½®å¯ç è®¿é®",charIndex:77}],headersStr:"å®ç½ç¸å³æç¨ å®è£ElasticSearch windows çæ¬ linux çæ¬ ä½¿ç¨ Docker éç½®å¯ç è®¿é®",content:' * å®ç½ç¸å³æç¨\n * å®è£ElasticSearch\n   * windows çæ¬\n   * linux çæ¬\n   * ä½¿ç¨ Docker\n * éç½®å¯ç è®¿é®\n\n\n# å®ç½ç¸å³æç¨\n\n> å®è£ElasticSearchè¿æ¯åè¦çä¸å®æ¹ç½ç«ã\n\n * å®æ¹ç½ç«\n * å®æ¹2.xä¸­ææç¨ä¸­å®è£æç¨\n * å®æ¹ElasticSearchä¸è½½å°å\n * å®æ¹Kibanaä¸è½½å°å\n\næ¬ç³»åæç¨åºäºElasticSearch 7.xçæ¬ã\n\n\n# å®è£ElasticSearch\n\nElasticSearch æ¯ä½¿ç¨ java å¼åçï¼ä¸æ¬çæ¬ç es éè¦ç jdk çæ¬è¦æ¯ 1.8 ä»¥ä¸ï¼æä»¥å®è£ElasticSearch ä¹åä¿è¯ JDK1.8+ ï¼å¹¶æ­£ç¡®çéç½®å¥½JDKç¯å¢åéï¼å¦åä¼å¯å¨ElasticSearchå¤±è´¥ã\n\n\n# windows çæ¬\n\nElasticSearch\n\nwinä¸è½½ï¼https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.6.1.zip\n\n * æä»¶ï¼\n\nbinï¼å¯å¨æä»¶\nconfigï¼éç½®æä»¶\n    log4j2.propertiesï¼æ¥å¿éç½®æä»¶\n    jvm.optionsï¼javaèææºçéç½®\n    elasticsearch.ymlï¼esçéç½®æä»¶\ndataï¼ç´¢å¼æ°æ®ç®å½\nlibï¼ç¸å³ç±»åºJarå\nlogsï¼æ¥å¿ç®å½\nmodulesï¼åè½æ¨¡å\npluginsï¼æä»¶\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n * å¯å¨ï¼\n\nåå» ElasticSearch ä¸ç bin ç®å½ä¸­ç elasticsearch.bat å¯å¨\n\n * è®¿é®ï¼\n\nhttp://localhost:9200\n\nå®è£ESçå¾å½¢åçé¢æä»¶å®¢æ·ç«¯Head\n\næ³¨æï¼éè¦ NodeJS çç¯å¢\n\nHead æ¯ elasticsearch çéç¾¤ç®¡çå·¥å·ï¼å¯ä»¥ç¨äºæ°æ®çæµè§æ¥è¯¢ï¼è¢«æç®¡å¨ github ä¸é¢ï¼\n\nå°åï¼ https://github.com/mobz/elasticsearch-head/\n\n1ãä¸è½½å¹¶è§£å\n\nä¸è½½ elasticsearch-head-master.zip\n\n#å®è£ä¾èµï¼\ncnpm install\n#è¿è¡\nnpm run start\n\n\n1\n2\n3\n4\n\n\n2ãä¿®æ¹éç½®æä»¶ elasticsearch.yml\n\nç±äº ES è¿ç¨åå®¢æ·ç«¯è¿ç¨ç«¯å£å·ä¸åï¼å­å¨è·¨åé®é¢ï¼æä»¥æä»¬è¦å¨ ES çéç½®æä»¶ä¸­éç½®ä¸è·¨åé®é¢\n\n# è·¨åéç½®ï¼\nhttp.cors.enabled: true\nhttp.cors.allow-origin: "*"\n\n\n1\n2\n3\n\n\n3ãå¯å¨æµè¯\n\nå¯å¨ ElasticSearch\n\nå¹¶ä½¿ç¨headå·¥å·è¿è¡è¿æ¥æµè¯ï¼\n\nè®¿é®urlï¼http://localhost:9100/\n\nå®è£Kibana\n\nKibana æ¯ä¸ä¸ªéå¯¹ Elasticsearch çå¼æºåæåå¯è§åå¹³å°ï¼ç¨æ¥æç´¢ãæ¥çäº¤äºå­å¨å¨ Elasticsearch ç´¢å¼ä¸­çæ°æ®ã\n\nä½¿ç¨Kibanaï¼å¯ä»¥éè¿åç§å¾è¡¨è¿è¡é«çº§æ°æ®åæåå±ç¤ºãKibanaè®©æµ·éæ°æ®æ´å®¹æçè§£ãå®æä½ç®åï¼åºäºæµè§å¨çç¨æ·çé¢å¯ä»¥å¿«éåå»ºä»ªè¡¨æ¿ï¼dashboardï¼å®æ¶æ¾ç¤ºElasticsearchæ¥è¯¢å¨æã\n\nè®¾ç½®Kibanaéå¸¸ç®åãæ éç¼ç æèé¢å¤çåºç¡æ¶æï¼å åéåå°±å¯ä»¥å®æKibanaå®è£å¹¶å¯å¨ Elasticsearchç´¢å¼çæµã\n\n * ä¸è½½Kibana\n\næ³¨æçæ¬å¯¹åºå³ç³»ï¼ https://www.elastic.co/cn/downloads/kibana\n\nè§£ååè¿å¥ï¼åå» kibana.bat å¯å¨æå¡å°±å¯ä»¥äºï¼ELKåºæ¬ä¸é½æ¯æç®±å³ç¨ç\n\nç¶åè®¿é® http://localhost:5601/\n\nkibanaä¼èªå¨å»è®¿é®9200ï¼ä¹å°±æ¯ elasticsearch çç«¯å£å·ï¼å½ç¶ elasticsearch è¿ä¸ªæ¶åå¿é¡»å¯å¨çï¼ï¼ç¶åå°±å¯ä»¥ä½¿ç¨ kibana äºï¼\n\n * è®¿é®çé¢æ¯è±æï¼å¯ä¿®æ¹æä¸­æ\n\nåªéè¦å¨éç½®æä»¶ kibana.yml ä¸­å å¥\n\ni18n.locale: "zh-CN"\n\n\n1\n\n\néå¯å³å¯ï¼\n\n\n# linux çæ¬\n\nè¯·åç¡®ä¿å®è£äº jdk1.8 ä»¥ä¸çæ¬\n\nå®è£ElasticSearch\n\n * è¿å¥ä¸ä¸ªç®å½ï¼ä¸è½½\n\ncurl -O https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.6.1-linux-x86_64.tar.gz\n\n\n1\n\n * è§£å\n\ntar zxvf /opt/elasticsearch-7.6.1-linux-x86_64.tar.gz\n\n\n1\n\n * å¢å elasticSearchç¨æ·\n\nå¿é¡»åå»ºä¸ä¸ªérootç¨æ·æ¥è¿è¡ElasticSearch\n\nå¦æä½ ä½¿ç¨rootç¨æ·æ¥å¯å¨ElasticSearchï¼åä¼æå¦ä¸éè¯¯ä¿¡æ¯ï¼\n\n[root@VM-0-6-centos elasticsearch-7.6.1]# ./bin/elasticsearch\nOpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.\n[2021-06-11T17:15:56,884][ERROR][o.e.b.ElasticsearchUncaughtExceptionHandler] [VM-0-6-centos] uncaught exception in thread [main]\norg.elasticsearch.bootstrap.StartupException: java.lang.RuntimeException: can not run elasticsearch as root\n\tat org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:174) ~[elasticsearch-7.6.1.jar:7.6.1]\n\tat org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:161) ~[elasticsearch-7.6.1.jar:7.6.1]\n\tat org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86) ~[elasticsearch-7.6.1.jar:7.6.1]\n\tat org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:125) ~[elasticsearch-cli-7.6.1.jar:7.6.1]\n\tat org.elasticsearch.cli.Command.main(Command.java:90) ~[elasticsearch-cli-7.6.1.jar:7.6.1]\n\tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:126) ~[elasticsearch-7.6.1.jar:7.6.1]\n\tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:92) ~[elasticsearch-7.6.1.jar:7.6.1]\nCaused by: java.lang.RuntimeException: can not run elasticsearch as root\n\tat org.elasticsearch.bootstrap.Bootstrap.initializeNatives(Bootstrap.java:105) ~[elasticsearch-7.6.1.jar:7.6.1]\n\tat org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:172) ~[elasticsearch-7.6.1.jar:7.6.1]\n\tat org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:349) ~[elasticsearch-7.6.1.jar:7.6.1]\n\tat org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:170) ~[elasticsearch-7.6.1.jar:7.6.1]\n\t... 6 more\nuncaught exception in thread [main]\njava.lang.RuntimeException: can not run elasticsearch as root\n\tat org.elasticsearch.bootstrap.Bootstrap.initializeNatives(Bootstrap.java:105)\n\tat org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:172)\n\tat org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:349)\n\tat org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:170)\n\tat org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:161)\n\tat org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86)\n\tat org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:125)\n\tat org.elasticsearch.cli.Command.main(Command.java:90)\n\tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:126)\n\tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:92)\nFor complete error details, refer to the log at /opt/elasticsearch-7.6.1/logs/elasticsearch.log\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\nå¢å  elasticsearch ç¨æ·ï¼\n\n[root@VM-0-6-centos elasticsearch-7.6.1]# useradd elasticsearch\n[root@VM-0-6-centos elasticsearch-7.6.1]# passwd elasticsearch\nChanging password for user elasticsearch.\nNew password: \nBAD PASSWORD: The password contains the user name in some form\nRetype new password: \npasswd: all authentication tokens updated successfully.\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nä¿®æ¹ç®å½æéè³æ°å¢ç elasticsearch ç¨æ·ï¼æ²¡æéå¯å¨ä¼æ¥éï¼\n\nå¨ root ç¨æ·ä¸æ§è¡å½ä»¤\n\n[root@VM-0-6-centos ~]# chown -R elasticsearch /opt/elasticsearch-7.6.1\n\n\n1\n\n * å¯å¨\n\n#\tåæ¢ç¨æ·\nsu elasticsearch\n#\tå¯å¨\n./bin/elasticsearch -d\n\n\n1\n2\n3\n4\n\n * æ¥çå®è£æ¯å¦æå\n\n[root@VM-0-6-centos ~]# netstat -ntlp | grep 9200\ntcp6       0      0 127.0.0.1:9200          :::*                    LISTEN      11601/java          \ntcp6       0      0 ::1:9200                :::*                    LISTEN      11601/java          \n#\tè®¿é®æå\n[root@VM-0-6-centos ~]# curl 127.0.0.1:9200\n{\n  "name" : "VM-0-6-centos",\n  "cluster_name" : "elasticsearch",\n  "cluster_uuid" : "sLGiUbfQQ5-btWB9QiOnxg",\n  "version" : {\n    "number" : "7.6.1",\n    "build_flavor" : "default",\n    "build_type" : "tar",\n    "build_hash" : "aa751e09be0a5072e8570670309b1f12348f023b",\n    "build_date" : "2020-02-29T00:15:25.529771Z",\n    "build_snapshot" : false,\n    "lucene_version" : "8.4.0",\n    "minimum_wire_compatibility_version" : "6.8.0",\n    "minimum_index_compatibility_version" : "6.0.0-beta1"\n  },\n  "tagline" : "You Know, for Search"\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\nå®è£Kibana\n\nå®è£ Kibana å ElasticSearch ç¸å³éç½®è¯·è®¿é®ï¼https://www.pdai.tech/md/db/nosql-es/elasticsearch-x-install.html\n\n\n# ä½¿ç¨ Docker\n\nå®æ¹ææ¡£ï¼https://www.elastic.co/guide/en/kibana/current/docker.html\n\nåå»ºç½ç»\n\ndocker network create elastic\n\n\n1\n\n\nå ä¸åå­éå¶å¯å¨ ES\n\ndocker run -d --name es01-test --net elastic -p 9200:9200 -p 9300:9300 -e "discovery.type=single-node" -e ES_JAVA_OPTS="-Xms64m -Xmx512m" elasticsearch:7.6.1\n\n\n1\n\n\nå¯å¨ Kibana\n\ndocker run -d --name kib01-test --net elastic -p 5601:5601 -e "ELASTICSEARCH_HOSTS=http://es01-test:9200" kibana:7.6.1\n\n\n1\n\n\nå¯è§åå·¥å· Elasticsearch-headï¼å¯éï¼\n\ndocker run -d --name head-test --net elastic -p 9100:9100  mobz/elasticsearch-head:5\n\n\n1\n\n\n\n# éç½®å¯ç è®¿é®\n\nä¿®æ¹Elasticéç½®\n\nä½¿ç¨åºæ¬è®¸å¯è¯æ¶ï¼é»è®¤æåµä¸ç¦ç¨Elasticsearchå®å¨åè½ãç±äºææµè¯ç¯å¢æ¯æ¾å¨å¬ç½ä¸çï¼æä»¥éè¦è®¾ç½®ä¸å¯ç è®¿é®ãç¸å³ææ¡£å¯ä»¥åèè¿é\n\n1ãè¿å¥æ­£å¨è¿è¡çå®¹å¨\n\n#\ndocker exec -it å®¹å¨id /bin/bash\n#å®è£ vim\nyum -y install vim\n\n\n1\n2\n3\n4\n\n\n2ãæ´æ¹ config/elasticsearch.yml æä»¶ï¼è®¾ç½® xpack.security.enabled ä¸º true\n\n[root@06c5914709a5 config]# vim elasticsearch.yml\n[root@06c5914709a5 config]# cat elasticsearch.yml\ncluster.name: "docker-cluster"\nnetwork.host: 0.0.0.0\nxpack.security.enabled: true\n\n\n1\n2\n3\n4\n5\n\n\n3ãéå¯elasticsearchå®¹å¨\n\n[root@VM-0-6-centos z-test]# docker restart es01-test\nes01-test\n\n\n1\n2\n\n\n4ãè¿å¥å®¹å¨è®¾ç½®åä¸ªç»ä»¶çå¯ç \n\n[root@06c5914709a5 elasticsearch]# ./bin/elasticsearch-setup-passwords interactive\nInitiating the setup of passwords for reserved users elastic,apm_system,kibana,logstash_system,beats_system,remote_monitoring_user.\nYou will be prompted to enter passwords as the process progresses.\nPlease confirm that you would like to continue [y/N]y\n\n\nEnter password for [elastic]: \nReenter password for [elastic]: \nEnter password for [apm_system]: \nReenter password for [apm_system]: \nEnter password for [kibana]: \nReenter password for [kibana]: \nEnter password for [logstash_system]: \nReenter password for [logstash_system]: \nEnter password for [beats_system]: \nReenter password for [beats_system]: \nEnter password for [remote_monitoring_user]: \nReenter password for [remote_monitoring_user]: \nChanged password for user [apm_system]\nChanged password for user [kibana]\nChanged password for user [logstash_system]\nChanged password for user [beats_system]\nChanged password for user [remote_monitoring_user]\nChanged password for user [elastic]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\nä¿®æ¹ Kibana éç½®\n\n1ãä¿®æ¹ kibana.yml\n\nè¿å¥å®¹å¨\n\næ·»å éç½®ï¼ elasticsearch.username: "elastic"\n\nbash-4.2$ vi kibana.yml\nbash-4.2$ cat kibana.yml\n#\n# ** THIS IS AN AUTO-GENERATED FILE **\n#\n\n# Default Kibana configuration for docker target\nserver.name: kibana\nserver.host: "0"\nelasticsearch.hosts: [ "http://elasticsearch:9200" ]\nxpack.monitoring.ui.container.elasticsearch.enabled: true\nelasticsearch.username: "elastic"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n2ãåå»ºkibana keystore\n\n./bin/kibana-keystore create\n\n\n1\n\n\n3ãå¨kibana keystore ä¸­æ·»å å¯ç \n\n./bin/kibana-keystore add elasticsearch.password\n\n\n1\n\n\n4ãéå¯å®¹å¨\n\n[root@VM-0-6-centos /]# docker restart kib01-test\nkib01-test\n\n\n1\n2\n\n\nåæ¬¡è®¿é®ï¼ip:9200ï¼åéè¦è¾å¥è´¦å·åå¯ç \n\nè´¦å·ä¸ºï¼elastic\n\n',normalizedContent:' * å®ç½ç¸å³æç¨\n * å®è£elasticsearch\n   * windows çæ¬\n   * linux çæ¬\n   * ä½¿ç¨ docker\n * éç½®å¯ç è®¿é®\n\n\n# å®ç½ç¸å³æç¨\n\n> å®è£elasticsearchè¿æ¯åè¦çä¸å®æ¹ç½ç«ã\n\n * å®æ¹ç½ç«\n * å®æ¹2.xä¸­ææç¨ä¸­å®è£æç¨\n * å®æ¹elasticsearchä¸è½½å°å\n * å®æ¹kibanaä¸è½½å°å\n\næ¬ç³»åæç¨åºäºelasticsearch 7.xçæ¬ã\n\n\n# å®è£elasticsearch\n\nelasticsearch æ¯ä½¿ç¨ java å¼åçï¼ä¸æ¬çæ¬ç es éè¦ç jdk çæ¬è¦æ¯ 1.8 ä»¥ä¸ï¼æä»¥å®è£elasticsearch ä¹åä¿è¯ jdk1.8+ ï¼å¹¶æ­£ç¡®çéç½®å¥½jdkç¯å¢åéï¼å¦åä¼å¯å¨elasticsearchå¤±è´¥ã\n\n\n# windows çæ¬\n\nelasticsearch\n\nwinä¸è½½ï¼https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.6.1.zip\n\n * æä»¶ï¼\n\nbinï¼å¯å¨æä»¶\nconfigï¼éç½®æä»¶\n    log4j2.propertiesï¼æ¥å¿éç½®æä»¶\n    jvm.optionsï¼javaèææºçéç½®\n    elasticsearch.ymlï¼esçéç½®æä»¶\ndataï¼ç´¢å¼æ°æ®ç®å½\nlibï¼ç¸å³ç±»åºjarå\nlogsï¼æ¥å¿ç®å½\nmodulesï¼åè½æ¨¡å\npluginsï¼æä»¶\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n * å¯å¨ï¼\n\nåå» elasticsearch ä¸ç bin ç®å½ä¸­ç elasticsearch.bat å¯å¨\n\n * è®¿é®ï¼\n\nhttp://localhost:9200\n\nå®è£esçå¾å½¢åçé¢æä»¶å®¢æ·ç«¯head\n\næ³¨æï¼éè¦ nodejs çç¯å¢\n\nhead æ¯ elasticsearch çéç¾¤ç®¡çå·¥å·ï¼å¯ä»¥ç¨äºæ°æ®çæµè§æ¥è¯¢ï¼è¢«æç®¡å¨ github ä¸é¢ï¼\n\nå°åï¼ https://github.com/mobz/elasticsearch-head/\n\n1ãä¸è½½å¹¶è§£å\n\nä¸è½½ elasticsearch-head-master.zip\n\n#å®è£ä¾èµï¼\ncnpm install\n#è¿è¡\nnpm run start\n\n\n1\n2\n3\n4\n\n\n2ãä¿®æ¹éç½®æä»¶ elasticsearch.yml\n\nç±äº es è¿ç¨åå®¢æ·ç«¯è¿ç¨ç«¯å£å·ä¸åï¼å­å¨è·¨åé®é¢ï¼æä»¥æä»¬è¦å¨ es çéç½®æä»¶ä¸­éç½®ä¸è·¨åé®é¢\n\n# è·¨åéç½®ï¼\nhttp.cors.enabled: true\nhttp.cors.allow-origin: "*"\n\n\n1\n2\n3\n\n\n3ãå¯å¨æµè¯\n\nå¯å¨ elasticsearch\n\nå¹¶ä½¿ç¨headå·¥å·è¿è¡è¿æ¥æµè¯ï¼\n\nè®¿é®urlï¼http://localhost:9100/\n\nå®è£kibana\n\nkibana æ¯ä¸ä¸ªéå¯¹ elasticsearch çå¼æºåæåå¯è§åå¹³å°ï¼ç¨æ¥æç´¢ãæ¥çäº¤äºå­å¨å¨ elasticsearch ç´¢å¼ä¸­çæ°æ®ã\n\nä½¿ç¨kibanaï¼å¯ä»¥éè¿åç§å¾è¡¨è¿è¡é«çº§æ°æ®åæåå±ç¤ºãkibanaè®©æµ·éæ°æ®æ´å®¹æçè§£ãå®æä½ç®åï¼åºäºæµè§å¨çç¨æ·çé¢å¯ä»¥å¿«éåå»ºä»ªè¡¨æ¿ï¼dashboardï¼å®æ¶æ¾ç¤ºelasticsearchæ¥è¯¢å¨æã\n\nè®¾ç½®kibanaéå¸¸ç®åãæ éç¼ç æèé¢å¤çåºç¡æ¶æï¼å åéåå°±å¯ä»¥å®ækibanaå®è£å¹¶å¯å¨ elasticsearchç´¢å¼çæµã\n\n * ä¸è½½kibana\n\næ³¨æçæ¬å¯¹åºå³ç³»ï¼ https://www.elastic.co/cn/downloads/kibana\n\nè§£ååè¿å¥ï¼åå» kibana.bat å¯å¨æå¡å°±å¯ä»¥äºï¼elkåºæ¬ä¸é½æ¯æç®±å³ç¨ç\n\nç¶åè®¿é® http://localhost:5601/\n\nkibanaä¼èªå¨å»è®¿é®9200ï¼ä¹å°±æ¯ elasticsearch çç«¯å£å·ï¼å½ç¶ elasticsearch è¿ä¸ªæ¶åå¿é¡»å¯å¨çï¼ï¼ç¶åå°±å¯ä»¥ä½¿ç¨ kibana äºï¼\n\n * è®¿é®çé¢æ¯è±æï¼å¯ä¿®æ¹æä¸­æ\n\nåªéè¦å¨éç½®æä»¶ kibana.yml ä¸­å å¥\n\ni18n.locale: "zh-cn"\n\n\n1\n\n\néå¯å³å¯ï¼\n\n\n# linux çæ¬\n\nè¯·åç¡®ä¿å®è£äº jdk1.8 ä»¥ä¸çæ¬\n\nå®è£elasticsearch\n\n * è¿å¥ä¸ä¸ªç®å½ï¼ä¸è½½\n\ncurl -o https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.6.1-linux-x86_64.tar.gz\n\n\n1\n\n * è§£å\n\ntar zxvf /opt/elasticsearch-7.6.1-linux-x86_64.tar.gz\n\n\n1\n\n * å¢å elasticsearchç¨æ·\n\nå¿é¡»åå»ºä¸ä¸ªérootç¨æ·æ¥è¿è¡elasticsearch\n\nå¦æä½ ä½¿ç¨rootç¨æ·æ¥å¯å¨elasticsearchï¼åä¼æå¦ä¸éè¯¯ä¿¡æ¯ï¼\n\n[root@vm-0-6-centos elasticsearch-7.6.1]# ./bin/elasticsearch\nopenjdk 64-bit server vm warning: option useconcmarksweepgc was deprecated in version 9.0 and will likely be removed in a future release.\n[2021-06-11t17:15:56,884][error][o.e.b.elasticsearchuncaughtexceptionhandler] [vm-0-6-centos] uncaught exception in thread [main]\norg.elasticsearch.bootstrap.startupexception: java.lang.runtimeexception: can not run elasticsearch as root\n\tat org.elasticsearch.bootstrap.elasticsearch.init(elasticsearch.java:174) ~[elasticsearch-7.6.1.jar:7.6.1]\n\tat org.elasticsearch.bootstrap.elasticsearch.execute(elasticsearch.java:161) ~[elasticsearch-7.6.1.jar:7.6.1]\n\tat org.elasticsearch.cli.environmentawarecommand.execute(environmentawarecommand.java:86) ~[elasticsearch-7.6.1.jar:7.6.1]\n\tat org.elasticsearch.cli.command.mainwithouterrorhandling(command.java:125) ~[elasticsearch-cli-7.6.1.jar:7.6.1]\n\tat org.elasticsearch.cli.command.main(command.java:90) ~[elasticsearch-cli-7.6.1.jar:7.6.1]\n\tat org.elasticsearch.bootstrap.elasticsearch.main(elasticsearch.java:126) ~[elasticsearch-7.6.1.jar:7.6.1]\n\tat org.elasticsearch.bootstrap.elasticsearch.main(elasticsearch.java:92) ~[elasticsearch-7.6.1.jar:7.6.1]\ncaused by: java.lang.runtimeexception: can not run elasticsearch as root\n\tat org.elasticsearch.bootstrap.bootstrap.initializenatives(bootstrap.java:105) ~[elasticsearch-7.6.1.jar:7.6.1]\n\tat org.elasticsearch.bootstrap.bootstrap.setup(bootstrap.java:172) ~[elasticsearch-7.6.1.jar:7.6.1]\n\tat org.elasticsearch.bootstrap.bootstrap.init(bootstrap.java:349) ~[elasticsearch-7.6.1.jar:7.6.1]\n\tat org.elasticsearch.bootstrap.elasticsearch.init(elasticsearch.java:170) ~[elasticsearch-7.6.1.jar:7.6.1]\n\t... 6 more\nuncaught exception in thread [main]\njava.lang.runtimeexception: can not run elasticsearch as root\n\tat org.elasticsearch.bootstrap.bootstrap.initializenatives(bootstrap.java:105)\n\tat org.elasticsearch.bootstrap.bootstrap.setup(bootstrap.java:172)\n\tat org.elasticsearch.bootstrap.bootstrap.init(bootstrap.java:349)\n\tat org.elasticsearch.bootstrap.elasticsearch.init(elasticsearch.java:170)\n\tat org.elasticsearch.bootstrap.elasticsearch.execute(elasticsearch.java:161)\n\tat org.elasticsearch.cli.environmentawarecommand.execute(environmentawarecommand.java:86)\n\tat org.elasticsearch.cli.command.mainwithouterrorhandling(command.java:125)\n\tat org.elasticsearch.cli.command.main(command.java:90)\n\tat org.elasticsearch.bootstrap.elasticsearch.main(elasticsearch.java:126)\n\tat org.elasticsearch.bootstrap.elasticsearch.main(elasticsearch.java:92)\nfor complete error details, refer to the log at /opt/elasticsearch-7.6.1/logs/elasticsearch.log\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\nå¢å  elasticsearch ç¨æ·ï¼\n\n[root@vm-0-6-centos elasticsearch-7.6.1]# useradd elasticsearch\n[root@vm-0-6-centos elasticsearch-7.6.1]# passwd elasticsearch\nchanging password for user elasticsearch.\nnew password: \nbad password: the password contains the user name in some form\nretype new password: \npasswd: all authentication tokens updated successfully.\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nä¿®æ¹ç®å½æéè³æ°å¢ç elasticsearch ç¨æ·ï¼æ²¡æéå¯å¨ä¼æ¥éï¼\n\nå¨ root ç¨æ·ä¸æ§è¡å½ä»¤\n\n[root@vm-0-6-centos ~]# chown -r elasticsearch /opt/elasticsearch-7.6.1\n\n\n1\n\n * å¯å¨\n\n#\tåæ¢ç¨æ·\nsu elasticsearch\n#\tå¯å¨\n./bin/elasticsearch -d\n\n\n1\n2\n3\n4\n\n * æ¥çå®è£æ¯å¦æå\n\n[root@vm-0-6-centos ~]# netstat -ntlp | grep 9200\ntcp6       0      0 127.0.0.1:9200          :::*                    listen      11601/java          \ntcp6       0      0 ::1:9200                :::*                    listen      11601/java          \n#\tè®¿é®æå\n[root@vm-0-6-centos ~]# curl 127.0.0.1:9200\n{\n  "name" : "vm-0-6-centos",\n  "cluster_name" : "elasticsearch",\n  "cluster_uuid" : "slgiubfqq5-btwb9qionxg",\n  "version" : {\n    "number" : "7.6.1",\n    "build_flavor" : "default",\n    "build_type" : "tar",\n    "build_hash" : "aa751e09be0a5072e8570670309b1f12348f023b",\n    "build_date" : "2020-02-29t00:15:25.529771z",\n    "build_snapshot" : false,\n    "lucene_version" : "8.4.0",\n    "minimum_wire_compatibility_version" : "6.8.0",\n    "minimum_index_compatibility_version" : "6.0.0-beta1"\n  },\n  "tagline" : "you know, for search"\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\nå®è£kibana\n\nå®è£ kibana å elasticsearch ç¸å³éç½®è¯·è®¿é®ï¼https://www.pdai.tech/md/db/nosql-es/elasticsearch-x-install.html\n\n\n# ä½¿ç¨ docker\n\nå®æ¹ææ¡£ï¼https://www.elastic.co/guide/en/kibana/current/docker.html\n\nåå»ºç½ç»\n\ndocker network create elastic\n\n\n1\n\n\nå ä¸åå­éå¶å¯å¨ es\n\ndocker run -d --name es01-test --net elastic -p 9200:9200 -p 9300:9300 -e "discovery.type=single-node" -e es_java_opts="-xms64m -xmx512m" elasticsearch:7.6.1\n\n\n1\n\n\nå¯å¨ kibana\n\ndocker run -d --name kib01-test --net elastic -p 5601:5601 -e "elasticsearch_hosts=http://es01-test:9200" kibana:7.6.1\n\n\n1\n\n\nå¯è§åå·¥å· elasticsearch-headï¼å¯éï¼\n\ndocker run -d --name head-test --net elastic -p 9100:9100  mobz/elasticsearch-head:5\n\n\n1\n\n\n\n# éç½®å¯ç è®¿é®\n\nä¿®æ¹elasticéç½®\n\nä½¿ç¨åºæ¬è®¸å¯è¯æ¶ï¼é»è®¤æåµä¸ç¦ç¨elasticsearchå®å¨åè½ãç±äºææµè¯ç¯å¢æ¯æ¾å¨å¬ç½ä¸çï¼æä»¥éè¦è®¾ç½®ä¸å¯ç è®¿é®ãç¸å³ææ¡£å¯ä»¥åèè¿é\n\n1ãè¿å¥æ­£å¨è¿è¡çå®¹å¨\n\n#\ndocker exec -it å®¹å¨id /bin/bash\n#å®è£ vim\nyum -y install vim\n\n\n1\n2\n3\n4\n\n\n2ãæ´æ¹ config/elasticsearch.yml æä»¶ï¼è®¾ç½® xpack.security.enabled ä¸º true\n\n[root@06c5914709a5 config]# vim elasticsearch.yml\n[root@06c5914709a5 config]# cat elasticsearch.yml\ncluster.name: "docker-cluster"\nnetwork.host: 0.0.0.0\nxpack.security.enabled: true\n\n\n1\n2\n3\n4\n5\n\n\n3ãéå¯elasticsearchå®¹å¨\n\n[root@vm-0-6-centos z-test]# docker restart es01-test\nes01-test\n\n\n1\n2\n\n\n4ãè¿å¥å®¹å¨è®¾ç½®åä¸ªç»ä»¶çå¯ç \n\n[root@06c5914709a5 elasticsearch]# ./bin/elasticsearch-setup-passwords interactive\ninitiating the setup of passwords for reserved users elastic,apm_system,kibana,logstash_system,beats_system,remote_monitoring_user.\nyou will be prompted to enter passwords as the process progresses.\nplease confirm that you would like to continue [y/n]y\n\n\nenter password for [elastic]: \nreenter password for [elastic]: \nenter password for [apm_system]: \nreenter password for [apm_system]: \nenter password for [kibana]: \nreenter password for [kibana]: \nenter password for [logstash_system]: \nreenter password for [logstash_system]: \nenter password for [beats_system]: \nreenter password for [beats_system]: \nenter password for [remote_monitoring_user]: \nreenter password for [remote_monitoring_user]: \nchanged password for user [apm_system]\nchanged password for user [kibana]\nchanged password for user [logstash_system]\nchanged password for user [beats_system]\nchanged password for user [remote_monitoring_user]\nchanged password for user [elastic]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\nä¿®æ¹ kibana éç½®\n\n1ãä¿®æ¹ kibana.yml\n\nè¿å¥å®¹å¨\n\næ·»å éç½®ï¼ elasticsearch.username: "elastic"\n\nbash-4.2$ vi kibana.yml\nbash-4.2$ cat kibana.yml\n#\n# ** this is an auto-generated file **\n#\n\n# default kibana configuration for docker target\nserver.name: kibana\nserver.host: "0"\nelasticsearch.hosts: [ "http://elasticsearch:9200" ]\nxpack.monitoring.ui.container.elasticsearch.enabled: true\nelasticsearch.username: "elastic"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n2ãåå»ºkibana keystore\n\n./bin/kibana-keystore create\n\n\n1\n\n\n3ãå¨kibana keystore ä¸­æ·»å å¯ç \n\n./bin/kibana-keystore add elasticsearch.password\n\n\n1\n\n\n4ãéå¯å®¹å¨\n\n[root@vm-0-6-centos /]# docker restart kib01-test\nkib01-test\n\n\n1\n2\n\n\nåæ¬¡è®¿é®ï¼ip:9200ï¼åéè¦è¾å¥è´¦å·åå¯ç \n\nè´¦å·ä¸ºï¼elastic\n\n',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"ES - ç´¢å¼åææ¡£çåºæ¬æä½",frontmatter:{title:"ES - ç´¢å¼åææ¡£çåºæ¬æä½",date:"2021-06-20T22:46:20.000Z",permalink:"/es/index-doc/"},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/15.ElasticSearch/06.ES%20-%20%E7%B4%A2%E5%BC%95%E5%92%8C%E6%96%87%E6%A1%A3%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C.html",relativePath:"03.æ°æ®åº/15.ElasticSearch/06.ES - ç´¢å¼åææ¡£çåºæ¬æä½.md",key:"v-23662401",path:"/es/index-doc/",headers:[{level:2,title:"ç´¢å¼ç®åæä½",slug:"ç´¢å¼ç®åæä½",normalizedTitle:"ç´¢å¼ç®åæä½",charIndex:3},{level:3,title:"åå»ºç´¢å¼",slug:"åå»ºç´¢å¼",normalizedTitle:"åå»ºç´¢å¼",charIndex:15},{level:3,title:"æ¥çåå é¤ç´¢å¼",slug:"æ¥çåå é¤ç´¢å¼",normalizedTitle:"æ¥çåå é¤ç´¢å¼",charIndex:25},{level:3,title:"æ¹éç´¢å¼ææ¡£_bulk",slug:"æ¹éç´¢å¼ææ¡£-bulk",normalizedTitle:"æ¹éç´¢å¼ææ¡£_bulk",charIndex:1802},{level:2,title:"ææ¡£åºæ¬æä½",slug:"ææ¡£åºæ¬æä½",normalizedTitle:"ææ¡£åºæ¬æä½",charIndex:48},{level:3,title:"æ·»å æ°æ® PUT",slug:"æ·»å æ°æ®-put",normalizedTitle:"æ·»å æ°æ® put",charIndex:60},{level:3,title:"æ¥è¯¢æ°æ® GET",slug:"æ¥è¯¢æ°æ®-get",normalizedTitle:"æ¥è¯¢æ°æ® get",charIndex:74},{level:3,title:"æ´æ°æ°æ® POST",slug:"æ´æ°æ°æ®-post",normalizedTitle:"æ´æ°æ°æ® post",charIndex:88},{level:3,title:"å é¤æ°æ® DELETE",slug:"å é¤æ°æ®-delete",normalizedTitle:"å é¤æ°æ® delete",charIndex:103},{level:2,title:"ç´¢å¼çèªå¨åå»º",slug:"ç´¢å¼çèªå¨åå»º",normalizedTitle:"ç´¢å¼çèªå¨åå»º",charIndex:118},{level:2,title:"ç´¢å¼çæ ¼å¼",slug:"ç´¢å¼çæ ¼å¼",normalizedTitle:"ç´¢å¼çæ ¼å¼",charIndex:129},{level:2,title:"ç´¢å¼ç®¡çæä½",slug:"ç´¢å¼ç®¡çæä½",normalizedTitle:"ç´¢å¼ç®¡çæä½",charIndex:138}],headersStr:"ç´¢å¼ç®åæä½ åå»ºç´¢å¼ æ¥çåå é¤ç´¢å¼ æ¹éç´¢å¼ææ¡£_bulk ææ¡£åºæ¬æä½ æ·»å æ°æ® PUT æ¥è¯¢æ°æ® GET æ´æ°æ°æ® POST å é¤æ°æ® DELETE ç´¢å¼çèªå¨åå»º ç´¢å¼çæ ¼å¼ ç´¢å¼ç®¡çæä½",content:' * ç´¢å¼ç®åæä½\n   * åå»ºç´¢å¼\n   * æ¥çåå é¤ç´¢å¼\n   * æ¹éç´¢å¼ææ¡£\n * ææ¡£åºæ¬æä½\n   * æ·»å æ°æ® PUT\n   * æ¥è¯¢æ°æ® GET\n   * æ´æ°æ°æ® POST\n   * å é¤æ°æ® DELETE\n * ç´¢å¼çèªå¨åå»º\n * ç´¢å¼çæ ¼å¼\n * ç´¢å¼ç®¡çæä½\n\n\n# ç´¢å¼ç®åæä½\n\n\n# åå»ºç´¢å¼\n\nPostman è¿è¡æµè¯\n\n * Postmanå®ç½ä¸è½½ï¼https://www.postman.com/downloads/\n\n * æ±åæç¨ï¼https://gitee.com/hlmd/PostmanCn/\n\nç±äºæç ElasticSearch é¨ç½²å°å¨å¬å³ä¸ï¼ä¸æè´¦å·åå¯ç \n\næä»¥å°åä¸ºï¼http://ç¨æ·å:å¯ç @url\n\næ¬å°åä¸ºï¼http://127.0.0.1:9200\n\n * åå»ºç´¢å¼ï¼http://127.0.0.1:9200/shopping\n\n\n\n{\n    //ååºç»æ\n    "acknowledged": true,\n    //åçç»æ\n    "shards_acknowledged": true,\n    //ç´¢å¼åç§°\n    "index": "shopping"\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\næ³¨æï¼åå»ºç´¢å¼åºçåçæ°é»è®¤ 1 çï¼å¨ 7.0.0 ä¹åç Elasticsearch çæ¬ä¸­ï¼é»è®¤ 5 ç\n\nKibanaç dev tool è¿è¡æµè¯\n\nå¦æéå¤æ·»å ç´¢å¼ï¼ä¼è¿åéè¯¯ä¿¡æ¯\n\n\n\nä¸ºäºæ¹ä¾¿æµè¯ï¼åç»­ä½¿ç¨kibanaçdev toolæ¥è¿è¡å­¦ä¹ æµè¯\n\n\n# æ¥çåå é¤ç´¢å¼\n\næ¥çææç´¢å¼\n\nGET /_cat/indices?v\n\n\n1\n\n\n\n\nè¿éè¯·æ±è·¯å¾ä¸­ç_cat è¡¨ç¤ºæ¥ççææï¼indices è¡¨ç¤ºç´¢å¼ï¼æä»¥æ´ä½å«ä¹å°±æ¯æ¥çå½å ES æå¡å¨ä¸­çææç´¢å¼\n\nè¡¨å¤´               å«ä¹\nhealth           å½åæå¡å¨å¥åº·ç¶æï¼\n                 green(éç¾¤å®æ´)ï¼yellow(åç¹æ­£å¸¸ãéç¾¤ä¸å®æ´)ï¼red(åç¹ä¸æ­£å¸¸)\nstatus           ç´¢å¼æå¼ãå³é­ç¶æ\nindex            ç´¢å¼å\nuuid             ç´¢å¼ç»ä¸ç¼å·\npri              ä¸»åçæ°é\nrep              å¯æ¬æ°é\ndocs.count       å¯ç¨ææ¡£æ°é\ndocs.deleted     ææ¡£å é¤ç¶æï¼é»è¾å é¤ï¼\nstore.size       ä¸»åçåå¯åçæ´ä½å ç©ºé´å¤§å°\npri.store.size   ä¸»åçå ç©ºé´å¤§å°\n\næ¥çåä¸ªç´¢å¼\n\nGET /shopping\n\n\n1\n\n\næ¥çç´¢å¼å ES æå¡å¨åéçè¯·æ±è·¯å¾ååå»ºç´¢å¼æ¯ä¸è´çãä½æ¯ HTTP æ¹æ³ä¸ä¸è´ãè¿éå¯ä»¥ä½ä¼ä¸ä¸ RESTful çæä¹ï¼\n\nååºç»æï¼\n\n{\n  "shopping" : {//ãç´¢å¼åã\n    "aliases" : { },//ãå«åã\n    "mappings" : { },//"ãæ å°ã\n    "settings" : {\n      "index" : {\n        "creation_date" : "1624201817578",//ãåå»ºæ¶é´ã\n        "number_of_shards" : "1",//ãä¸»åçæ°éã\n        "number_of_replicas" : "1",//ãå¯åçæ°éã\n        "uuid" : "5fPfnRjcTuyxReq7AFKQnw",//ãå¯ä¸æ è¯ã\n        "version" : {\n          "created" : "7060199"//ãçæ¬ãã\n        },\n        "provided_name" : "shopping"\n      }\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nå é¤ç´¢å¼\n\n * DELETE /ç´¢å¼\n\nDELETE /shopping\n\n\n1\n\n\n{\n  "acknowledged" : true\n}\n\n\n\n1\n2\n3\n4\n\n\n\n# æ¹éç´¢å¼ææ¡£_bulk\n\nES è¿æä¾äºæ¹éæä½ï¼æ¯å¦è¿éæä»¬å¯ä»¥ä½¿ç¨æ¹éæä½æ¥æå¥ä¸äºæ°æ®ï¼ä¾æä»¬å¨åé¢å­¦ä¹ ä½¿ç¨ã\n\nä½¿ç¨æ¹éæ¥æ¹å¤çææ¡£æä½æ¯åç¬æäº¤è¯·æ±è¦å¿«å¾å¤ï¼å ä¸ºå®åå°äºç½ç»å¾è¿ã\n\n * ä¸è½½æµè¯æ°æ®\n   \n   https://download.elastic.co/demos/kibana/gettingstarted/accounts.zip\n\næ°æ®çæ ¼å¼å¦ä¸\n\n{\n  "account_number": 0,\n  "balance": 16623,\n  "firstname": "Bradshaw",\n  "lastname": "Mckenzie",\n  "age": 29,\n  "gender": "F",\n  "address": "244 Columbus Place",\n  "employer": "Euron",\n  "email": "bradshawmckenzie@euron.com",\n  "city": "Hobucken",\n  "state": "CO"\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nä¾å¦ææä»¶å¤å¶å° ES ç®å½ç data\n\ndockerï¼\n\ndocker cp /home/accounts.json  06c5914709a5:/usr/share/elasticsearch/data/\n\n\n1\n\n\nç¶åæ§è¡\n\ncurl -H "Content-Type: application/json" -XPOST "localhost:9200/bank/_bulk?pretty&refresh" --data-binary @accounts.json\n\n\n1\n\n\nå¦æå¨å¶ä»ç®å½ï¼ä¾å¦ /opt//accounts.json\n\ncurl -H "Content-Type: application/json" -XPOST "localhost:9200/bank/_bulk?pretty&refresh" --data-binary "@/opt/accounts.json"\n\n\n1\n\n\n> æèæä»¬å¯ä»¥ç´æ¥æå¥æ°æ®ï¼\n> \n> æ³¨ææ ¼å¼jsonåtextåä¸å¯ï¼è¦å»kibanaéDev Tools\n\nPOST http://localhost:9200/bank/_bulk\n\nä¸¤è¡ä¸ºä¸ä¸ªæ´ä½ï¼indexä»£è¡¨ç´¢å¼ï¼ä¹å°±æ¯ä¿å­æä½ï¼ä¸é¢ä¸è¡ä¸ºä¿å­çæ°æ®\n\n{"index":{"_id":"1"}}\n{"name":"a"}\n{"index":{"_id":"2"}}\n{"name":"b"}\n\n\n1\n2\n3\n4\n\n * è¯­æ³æ ¼å¼ï¼\n\nactionï¼æ§è¡çå¨ä½ï¼æ°å¢ï¼ä¿®æ¹ï¼å é¤ç­\n\nmetadataï¼è¦æä½çæ°æ®ï¼æ¯å¦idæ¯å¤å°\n\n{action:{metadata}}\\n\n{request body  }\\n\n\n{action:{metadata}}\\n\n{request body  }\\n\n\n\n1\n2\n3\n4\n5\n\n\nè¿éçæ¹éæä½ï¼å½åçæä¸æ¡æ§è¡åçå¤±è´¥æ¶ï¼å¶ä»çæ°æ®ä»ç¶è½å¤æ¥çæ§è¡ï¼ä¹å°±æ¯è¯´å½¼æ­¤ä¹é´æ¯ç¬ç«çã\n\nbulk API ä»¥æ­¤æé¡ºåºæ§è¡ææç action(å¨ä½)ãå¦æä¸ä¸ªåä¸ªçå¨ä½å ä»»ä½åå èå¤±è´¥ï¼ å®å°ç»§ç»­å¤çå®åé¢å©ä½çå¨ä½ãå½ bulk API è¿åæ¶ï¼å®å°æä¾æ¯ä¸ªå¨ä½çç¶æ(ä¸åé çé¡ºåºç¸å)ï¼æä»¥æ¨å¯ä»¥æ£æ¥æ¯å¦ä¸ä¸ªæå®çå¨ä½æ¯ä¸æ¯å¤±è´¥äºã\n\n * å®ä¾ï¼\n   \n   å¯¹äºæ´ä¸ªç´¢å¼æ§è¡æ¹éæä½(éå¨kibanaéDev Tools)\n   \n   å½æ²¡æå®ä»»ä½ç´¢å¼æ¶ï¼å°±æ¯å¯¹æ´ä¸ªä½æ¹éæä½\n   \n   POST /_bulk\n   {"delete":{"_index":"website","_type":"blog","_id":"123"}}\n   {"create":{"_index":"website","_type":"blog","_id":"123"}}\n   {"title":"my first blog post"}\n   {"index":{"_index":"website","_type":"blog"}}\n   {"title":"my second blog post"}\n   {"update":{"_index":"website","_type":"blog","_id":"123"}}\n   {"doc":{"title":"my updated blog post"}}\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   \n\n\n# ææ¡£åºæ¬æä½\n\n\n# æ·»å æ°æ® PUT\n\n * æ·»å ç¨æ·1\n\nPUT /stars/_doc/1\n{\n  "name": "è¡å¾å¤",\n  "age": "22",\n  "desc": "é¸¡ä½ å¤ªç¾",\n  "tags": ["å±","è·³","rap","ç¯®ç"]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nå¾å°ååºå¦ä¸ï¼\n\n{\n  "_index" : "stars",\n  "_type" : "_doc",\n  "_id" : "1",\n  "_version" : 1,\n  "result" : "created",\n  "_shards" : {\n    "total" : 2,\n    "successful" : 1,\n    "failed" : 0\n  },\n  "_seq_no" : 0,\n  "_primary_term" : 1\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n * æ·»å ç¨æ·2\n\nPUT /stars/_doc/2\n{\n  "name": "å´äº¦å¡",\n  "age": "29",\n  "desc": "å¤§ç¢å®½é¢",\n  "tags": ["å æ¿å¤§","çµé³","è¯´å±","å»å"]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n * æ·»å ç¨æ·3\n\nPUT /stars/_doc/3\n{\n  "name": "å´å°å¡",\n  "age": "10",\n  "desc": "ä¸ä¸ªå´å°å¡",\n  "tags": ["å¸å¥","å¹²é¥­"]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# æ¥è¯¢æ°æ® GET\n\n * ç®åæ¥è¯¢\n\nGET /stars/_doc/1\n\n\n1\n\n\n{\n  "_index" : "stars",\n  "_type" : "_doc",\n  "_id" : "1",\n  "_version" : 1,\n  "_seq_no" : 0,\n  "_primary_term" : 1,\n  "found" : true,\n  "_source" : {\n    "name" : "è¡å¾å¤",\n    "age" : "22",\n    "desc" : "é¸¡ä½ å¤ªç¾",\n    "tags" : [\n      "å±",\n      "è·³",\n      "rap",\n      "ç¯®ç"\n    ]\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n * æ¡ä»¶æ¥è¯¢_search?q=\n\nä¾å¦æ¥è¯¢ name æ¯ èµµæ·±å®¸\n\nGET /stars/_search?q=name:å´å°å¡\n\n\n1\n\n\n{\n  "took" : 996,\n  "timed_out" : false,\n  "_shards" : {\n    "total" : 1,\n    "successful" : 1,\n    "skipped" : 0,\n    "failed" : 0\n  },\n  "hits" : {\n    "total" : {\n      "value" : 2,\n      "relation" : "eq"\n    },\n    "max_score" : 2.5902672,\n    "hits" : [\n      {\n        "_index" : "stars",\n        "_type" : "_doc",\n        "_id" : "3",\n        "_score" : 2.5902672,\n        "_source" : {\n          "name" : "å´å°å¡",\n          "age" : "10",\n          "desc" : "ä¸ä¸ªå´å°å¡",\n          "tags" : [\n            "å¸å¥",\n            "å¹²é¥­"\n          ]\n        }\n      },\n      {\n        "_index" : "stars",\n        "_type" : "_doc",\n        "_id" : "2",\n        "_score" : 1.3862942,\n        "_source" : {\n          "name" : "å´äº¦å¡",\n          "age" : "29",\n          "desc" : "å¤§ç¢å®½é¢",\n          "tags" : [\n            "å æ¿å¤§",\n            "çµé³",\n            "è¯´å±",\n            "å»å"\n          ]\n        }\n      }\n    ]\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n\n * æ¥è¯¢ææ\n\nGET /stars/_search\n{\n  "query": { \n    "match_all": {} \n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nç¸å³å­æ®µè§£é\n\n * took â Elasticsearchè¿è¡æ¥è¯¢æè±è´¹çæ¶é´ï¼ä»¥æ¯«ç§ä¸ºåä½ï¼\n * timed_out âæç´¢è¯·æ±æ¯å¦è¶æ¶\n * _shards - æç´¢äºå¤å°ä¸ªç¢çï¼ä»¥åæåï¼å¤±è´¥æè·³è¿äºå¤å°ä¸ªç¢ççç»ç®åç±»ã\n * max_score â æ¾å°çæç¸å³ææ¡£çåæ°\n * hits.total.value - æ¾å°äºå¤å°ä¸ªå¹éçææ¡£\n * hits.sort - ææ¡£çæåºä½ç½®ï¼ä¸æç¸å³æ§å¾åæåºæ¶ï¼\n * hits._score - ææ¡£çç¸å³æ§å¾åï¼ä½¿ç¨match_allæ¶ä¸éç¨ï¼\n\n\n# æ´æ°æ°æ® POST\n\n * post\n\nPOST /stars/_doc/1/_update\n{\n  "doc": {\n    "name": "å¤å¤"\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n{\n  "_index" : "stars",\n  "_type" : "_doc",\n  "_id" : "1",\n  "_version" : 2,\n  "result" : "updated",\n  "_shards" : {\n    "total" : 2,\n    "successful" : 1,\n    "failed" : 0\n  },\n  "_seq_no" : 3,\n  "_primary_term" : 1\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n_version - çæ¬ï¼ä¹å°±æ¯æ´æ°æ¬¡æ°\n\nresult - æä½ç»æä¸ºæ´æ°\n\n * put\n\nä¹å¯è¦çæ°æ®æ¥æ´æ°\n\nPUT /stars/_doc/1\n{\n  "name": "è¡å¤å¤",\n  "age": "22",\n  "desc": "é¸¡ä½ å¤ªç¾",\n  "tags": ["å±","è·³","rap","ç¯®ç"]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# å é¤æ°æ® DELETE\n\nå é¤ä¸ä¸ªææ¡£ä¸ä¼ç«å³ä»ç£çä¸ç§»é¤ï¼å®åªæ¯è¢«æ è®°æå·²å é¤ï¼é»è¾å é¤ï¼ã\n\n * æ ¹æ® ID å é¤æ°æ®\n\nDELETE /stars/_doc/1\n\n\n1\n\n * æ¡ä»¶å é¤ææ¡£\n\nä¸è¬å é¤æ°æ®é½æ¯æ ¹æ®ææ¡£çå¯ä¸æ§æ è¯è¿è¡å é¤ï¼å®éæä½æ¶ï¼ä¹å¯ä»¥æ ¹æ®æ¡ä»¶å¯¹å¤æ¡æ°æ®è¿è¡å é¤\n\nä¾å¦ï¼æ¥è¯¢ age ä¸º 22 ç\n\nPOST /stars/_delete_by_query\n{\n "query":{\n   "match":{\n     "age": 22\n   }\n }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# ç´¢å¼çèªå¨åå»º\n\næ·»å æ°æ®æ¶ï¼æ²¡æç´¢å¼ä¼èªå¨åå»ºç´¢å¼åå­æ®µ\n\nPUT /customer/_doc/1\n{\n  "name": "John Doe"\n}\n\n\n1\n2\n3\n4\n\n\næä»¬å¯ä»¥æ¥çä¸è¿ä¸ªç´¢å¼ç mapping => GET /customer/_mapping\n\n{\n  "customer" : {\n    "mappings" : {\n      "properties" : {\n        "name" : {\n          "type" : "text",\n          "fields" : {\n            "keyword" : {\n              "type" : "keyword",\n              "ignore_above" : 256\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\né£ä¹å¦ææä»¬éè¦å¯¹è¿ä¸ªå»ºç«ç´¢å¼çè¿ç¨åæ´å¤çæ§å¶ï¼æ¯å¦æ³è¦ç¡®ä¿è¿ä¸ªç´¢å¼ææ°ééä¸­çä¸»åçï¼å¹¶ä¸å¨æä»¬ç´¢å¼ä»»ä½æ°æ®ä¹åï¼åæå¨åæ å°å·²ç»è¢«å»ºç«å¥½ãé£ä¹å°±ä¼å¼å¥ä¸¤ç¹ï¼ç¬¬ä¸ä¸ªç¦æ­¢èªå¨åå»ºç´¢å¼ï¼ç¬¬äºä¸ªæ¯æå¨åå»ºç´¢å¼ã\n\n * ç¦æ­¢èªå¨åå»ºç´¢å¼\n\nå¯ä»¥éè¿å¨ config/elasticsearch.yml çæ¯ä¸ªèç¹ä¸æ·»å ä¸é¢çéç½®ï¼\n\naction.auto_create_index: false\n\n\n1\n\n\n\n# ç´¢å¼çæ ¼å¼\n\nå¨è¯·æ±ä½éé¢ä¼ å¥è®¾ç½®æç±»åæ å°ï¼å¦ä¸æç¤ºï¼\n\nPUT /my_index\n{\n    "settings": { ... any settings ... },\n    "mappings": {\n        "properties": { ... any properties ... }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n * settings: ç¨æ¥è®¾ç½®åç,å¯æ¬ç­éç½®ä¿¡æ¯\n * mappings: å­æ®µæ å°ï¼ç±»åç­\n   * properties: ç±äºtypeå¨åç»­çæ¬ä¸­ä¼è¢«Deprecated, æä»¥æ éè¢«typeåµå¥\n\n\n# ç´¢å¼ç®¡çæä½\n\nhttps://www.pdai.tech/md/db/nosql-es/elasticsearch-x-index-mapping.html#ç´¢å¼ç®¡çæä½',normalizedContent:' * ç´¢å¼ç®åæä½\n   * åå»ºç´¢å¼\n   * æ¥çåå é¤ç´¢å¼\n   * æ¹éç´¢å¼ææ¡£\n * ææ¡£åºæ¬æä½\n   * æ·»å æ°æ® put\n   * æ¥è¯¢æ°æ® get\n   * æ´æ°æ°æ® post\n   * å é¤æ°æ® delete\n * ç´¢å¼çèªå¨åå»º\n * ç´¢å¼çæ ¼å¼\n * ç´¢å¼ç®¡çæä½\n\n\n# ç´¢å¼ç®åæä½\n\n\n# åå»ºç´¢å¼\n\npostman è¿è¡æµè¯\n\n * postmanå®ç½ä¸è½½ï¼https://www.postman.com/downloads/\n\n * æ±åæç¨ï¼https://gitee.com/hlmd/postmancn/\n\nç±äºæç elasticsearch é¨ç½²å°å¨å¬å³ä¸ï¼ä¸æè´¦å·åå¯ç \n\næä»¥å°åä¸ºï¼http://ç¨æ·å:å¯ç @url\n\næ¬å°åä¸ºï¼http://127.0.0.1:9200\n\n * åå»ºç´¢å¼ï¼http://127.0.0.1:9200/shopping\n\n\n\n{\n    //ååºç»æ\n    "acknowledged": true,\n    //åçç»æ\n    "shards_acknowledged": true,\n    //ç´¢å¼åç§°\n    "index": "shopping"\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\næ³¨æï¼åå»ºç´¢å¼åºçåçæ°é»è®¤ 1 çï¼å¨ 7.0.0 ä¹åç elasticsearch çæ¬ä¸­ï¼é»è®¤ 5 ç\n\nkibanaç dev tool è¿è¡æµè¯\n\nå¦æéå¤æ·»å ç´¢å¼ï¼ä¼è¿åéè¯¯ä¿¡æ¯\n\n\n\nä¸ºäºæ¹ä¾¿æµè¯ï¼åç»­ä½¿ç¨kibanaçdev toolæ¥è¿è¡å­¦ä¹ æµè¯\n\n\n# æ¥çåå é¤ç´¢å¼\n\næ¥çææç´¢å¼\n\nget /_cat/indices?v\n\n\n1\n\n\n\n\nè¿éè¯·æ±è·¯å¾ä¸­ç_cat è¡¨ç¤ºæ¥ççææï¼indices è¡¨ç¤ºç´¢å¼ï¼æä»¥æ´ä½å«ä¹å°±æ¯æ¥çå½å es æå¡å¨ä¸­çææç´¢å¼\n\nè¡¨å¤´               å«ä¹\nhealth           å½åæå¡å¨å¥åº·ç¶æï¼\n                 green(éç¾¤å®æ´)ï¼yellow(åç¹æ­£å¸¸ãéç¾¤ä¸å®æ´)ï¼red(åç¹ä¸æ­£å¸¸)\nstatus           ç´¢å¼æå¼ãå³é­ç¶æ\nindex            ç´¢å¼å\nuuid             ç´¢å¼ç»ä¸ç¼å·\npri              ä¸»åçæ°é\nrep              å¯æ¬æ°é\ndocs.count       å¯ç¨ææ¡£æ°é\ndocs.deleted     ææ¡£å é¤ç¶æï¼é»è¾å é¤ï¼\nstore.size       ä¸»åçåå¯åçæ´ä½å ç©ºé´å¤§å°\npri.store.size   ä¸»åçå ç©ºé´å¤§å°\n\næ¥çåä¸ªç´¢å¼\n\nget /shopping\n\n\n1\n\n\næ¥çç´¢å¼å es æå¡å¨åéçè¯·æ±è·¯å¾ååå»ºç´¢å¼æ¯ä¸è´çãä½æ¯ http æ¹æ³ä¸ä¸è´ãè¿éå¯ä»¥ä½ä¼ä¸ä¸ restful çæä¹ï¼\n\nååºç»æï¼\n\n{\n  "shopping" : {//ãç´¢å¼åã\n    "aliases" : { },//ãå«åã\n    "mappings" : { },//"ãæ å°ã\n    "settings" : {\n      "index" : {\n        "creation_date" : "1624201817578",//ãåå»ºæ¶é´ã\n        "number_of_shards" : "1",//ãä¸»åçæ°éã\n        "number_of_replicas" : "1",//ãå¯åçæ°éã\n        "uuid" : "5fpfnrjctuyxreq7afkqnw",//ãå¯ä¸æ è¯ã\n        "version" : {\n          "created" : "7060199"//ãçæ¬ãã\n        },\n        "provided_name" : "shopping"\n      }\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nå é¤ç´¢å¼\n\n * delete /ç´¢å¼\n\ndelete /shopping\n\n\n1\n\n\n{\n  "acknowledged" : true\n}\n\n\n\n1\n2\n3\n4\n\n\n\n# æ¹éç´¢å¼ææ¡£_bulk\n\nes è¿æä¾äºæ¹éæä½ï¼æ¯å¦è¿éæä»¬å¯ä»¥ä½¿ç¨æ¹éæä½æ¥æå¥ä¸äºæ°æ®ï¼ä¾æä»¬å¨åé¢å­¦ä¹ ä½¿ç¨ã\n\nä½¿ç¨æ¹éæ¥æ¹å¤çææ¡£æä½æ¯åç¬æäº¤è¯·æ±è¦å¿«å¾å¤ï¼å ä¸ºå®åå°äºç½ç»å¾è¿ã\n\n * ä¸è½½æµè¯æ°æ®\n   \n   https://download.elastic.co/demos/kibana/gettingstarted/accounts.zip\n\næ°æ®çæ ¼å¼å¦ä¸\n\n{\n  "account_number": 0,\n  "balance": 16623,\n  "firstname": "bradshaw",\n  "lastname": "mckenzie",\n  "age": 29,\n  "gender": "f",\n  "address": "244 columbus place",\n  "employer": "euron",\n  "email": "bradshawmckenzie@euron.com",\n  "city": "hobucken",\n  "state": "co"\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nä¾å¦ææä»¶å¤å¶å° es ç®å½ç data\n\ndockerï¼\n\ndocker cp /home/accounts.json  06c5914709a5:/usr/share/elasticsearch/data/\n\n\n1\n\n\nç¶åæ§è¡\n\ncurl -h "content-type: application/json" -xpost "localhost:9200/bank/_bulk?pretty&refresh" --data-binary @accounts.json\n\n\n1\n\n\nå¦æå¨å¶ä»ç®å½ï¼ä¾å¦ /opt//accounts.json\n\ncurl -h "content-type: application/json" -xpost "localhost:9200/bank/_bulk?pretty&refresh" --data-binary "@/opt/accounts.json"\n\n\n1\n\n\n> æèæä»¬å¯ä»¥ç´æ¥æå¥æ°æ®ï¼\n> \n> æ³¨ææ ¼å¼jsonåtextåä¸å¯ï¼è¦å»kibanaédev tools\n\npost http://localhost:9200/bank/_bulk\n\nä¸¤è¡ä¸ºä¸ä¸ªæ´ä½ï¼indexä»£è¡¨ç´¢å¼ï¼ä¹å°±æ¯ä¿å­æä½ï¼ä¸é¢ä¸è¡ä¸ºä¿å­çæ°æ®\n\n{"index":{"_id":"1"}}\n{"name":"a"}\n{"index":{"_id":"2"}}\n{"name":"b"}\n\n\n1\n2\n3\n4\n\n * è¯­æ³æ ¼å¼ï¼\n\nactionï¼æ§è¡çå¨ä½ï¼æ°å¢ï¼ä¿®æ¹ï¼å é¤ç­\n\nmetadataï¼è¦æä½çæ°æ®ï¼æ¯å¦idæ¯å¤å°\n\n{action:{metadata}}\\n\n{request body  }\\n\n\n{action:{metadata}}\\n\n{request body  }\\n\n\n\n1\n2\n3\n4\n5\n\n\nè¿éçæ¹éæä½ï¼å½åçæä¸æ¡æ§è¡åçå¤±è´¥æ¶ï¼å¶ä»çæ°æ®ä»ç¶è½å¤æ¥çæ§è¡ï¼ä¹å°±æ¯è¯´å½¼æ­¤ä¹é´æ¯ç¬ç«çã\n\nbulk api ä»¥æ­¤æé¡ºåºæ§è¡ææç action(å¨ä½)ãå¦æä¸ä¸ªåä¸ªçå¨ä½å ä»»ä½åå èå¤±è´¥ï¼ å®å°ç»§ç»­å¤çå®åé¢å©ä½çå¨ä½ãå½ bulk api è¿åæ¶ï¼å®å°æä¾æ¯ä¸ªå¨ä½çç¶æ(ä¸åé çé¡ºåºç¸å)ï¼æä»¥æ¨å¯ä»¥æ£æ¥æ¯å¦ä¸ä¸ªæå®çå¨ä½æ¯ä¸æ¯å¤±è´¥äºã\n\n * å®ä¾ï¼\n   \n   å¯¹äºæ´ä¸ªç´¢å¼æ§è¡æ¹éæä½(éå¨kibanaédev tools)\n   \n   å½æ²¡æå®ä»»ä½ç´¢å¼æ¶ï¼å°±æ¯å¯¹æ´ä¸ªä½æ¹éæä½\n   \n   post /_bulk\n   {"delete":{"_index":"website","_type":"blog","_id":"123"}}\n   {"create":{"_index":"website","_type":"blog","_id":"123"}}\n   {"title":"my first blog post"}\n   {"index":{"_index":"website","_type":"blog"}}\n   {"title":"my second blog post"}\n   {"update":{"_index":"website","_type":"blog","_id":"123"}}\n   {"doc":{"title":"my updated blog post"}}\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   \n\n\n# ææ¡£åºæ¬æä½\n\n\n# æ·»å æ°æ® put\n\n * æ·»å ç¨æ·1\n\nput /stars/_doc/1\n{\n  "name": "è¡å¾å¤",\n  "age": "22",\n  "desc": "é¸¡ä½ å¤ªç¾",\n  "tags": ["å±","è·³","rap","ç¯®ç"]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nå¾å°ååºå¦ä¸ï¼\n\n{\n  "_index" : "stars",\n  "_type" : "_doc",\n  "_id" : "1",\n  "_version" : 1,\n  "result" : "created",\n  "_shards" : {\n    "total" : 2,\n    "successful" : 1,\n    "failed" : 0\n  },\n  "_seq_no" : 0,\n  "_primary_term" : 1\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n * æ·»å ç¨æ·2\n\nput /stars/_doc/2\n{\n  "name": "å´äº¦å¡",\n  "age": "29",\n  "desc": "å¤§ç¢å®½é¢",\n  "tags": ["å æ¿å¤§","çµé³","è¯´å±","å»å"]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n * æ·»å ç¨æ·3\n\nput /stars/_doc/3\n{\n  "name": "å´å°å¡",\n  "age": "10",\n  "desc": "ä¸ä¸ªå´å°å¡",\n  "tags": ["å¸å¥","å¹²é¥­"]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# æ¥è¯¢æ°æ® get\n\n * ç®åæ¥è¯¢\n\nget /stars/_doc/1\n\n\n1\n\n\n{\n  "_index" : "stars",\n  "_type" : "_doc",\n  "_id" : "1",\n  "_version" : 1,\n  "_seq_no" : 0,\n  "_primary_term" : 1,\n  "found" : true,\n  "_source" : {\n    "name" : "è¡å¾å¤",\n    "age" : "22",\n    "desc" : "é¸¡ä½ å¤ªç¾",\n    "tags" : [\n      "å±",\n      "è·³",\n      "rap",\n      "ç¯®ç"\n    ]\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n * æ¡ä»¶æ¥è¯¢_search?q=\n\nä¾å¦æ¥è¯¢ name æ¯ èµµæ·±å®¸\n\nget /stars/_search?q=name:å´å°å¡\n\n\n1\n\n\n{\n  "took" : 996,\n  "timed_out" : false,\n  "_shards" : {\n    "total" : 1,\n    "successful" : 1,\n    "skipped" : 0,\n    "failed" : 0\n  },\n  "hits" : {\n    "total" : {\n      "value" : 2,\n      "relation" : "eq"\n    },\n    "max_score" : 2.5902672,\n    "hits" : [\n      {\n        "_index" : "stars",\n        "_type" : "_doc",\n        "_id" : "3",\n        "_score" : 2.5902672,\n        "_source" : {\n          "name" : "å´å°å¡",\n          "age" : "10",\n          "desc" : "ä¸ä¸ªå´å°å¡",\n          "tags" : [\n            "å¸å¥",\n            "å¹²é¥­"\n          ]\n        }\n      },\n      {\n        "_index" : "stars",\n        "_type" : "_doc",\n        "_id" : "2",\n        "_score" : 1.3862942,\n        "_source" : {\n          "name" : "å´äº¦å¡",\n          "age" : "29",\n          "desc" : "å¤§ç¢å®½é¢",\n          "tags" : [\n            "å æ¿å¤§",\n            "çµé³",\n            "è¯´å±",\n            "å»å"\n          ]\n        }\n      }\n    ]\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n\n * æ¥è¯¢ææ\n\nget /stars/_search\n{\n  "query": { \n    "match_all": {} \n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nç¸å³å­æ®µè§£é\n\n * took â elasticsearchè¿è¡æ¥è¯¢æè±è´¹çæ¶é´ï¼ä»¥æ¯«ç§ä¸ºåä½ï¼\n * timed_out âæç´¢è¯·æ±æ¯å¦è¶æ¶\n * _shards - æç´¢äºå¤å°ä¸ªç¢çï¼ä»¥åæåï¼å¤±è´¥æè·³è¿äºå¤å°ä¸ªç¢ççç»ç®åç±»ã\n * max_score â æ¾å°çæç¸å³ææ¡£çåæ°\n * hits.total.value - æ¾å°äºå¤å°ä¸ªå¹éçææ¡£\n * hits.sort - ææ¡£çæåºä½ç½®ï¼ä¸æç¸å³æ§å¾åæåºæ¶ï¼\n * hits._score - ææ¡£çç¸å³æ§å¾åï¼ä½¿ç¨match_allæ¶ä¸éç¨ï¼\n\n\n# æ´æ°æ°æ® post\n\n * post\n\npost /stars/_doc/1/_update\n{\n  "doc": {\n    "name": "å¤å¤"\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n{\n  "_index" : "stars",\n  "_type" : "_doc",\n  "_id" : "1",\n  "_version" : 2,\n  "result" : "updated",\n  "_shards" : {\n    "total" : 2,\n    "successful" : 1,\n    "failed" : 0\n  },\n  "_seq_no" : 3,\n  "_primary_term" : 1\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n_version - çæ¬ï¼ä¹å°±æ¯æ´æ°æ¬¡æ°\n\nresult - æä½ç»æä¸ºæ´æ°\n\n * put\n\nä¹å¯è¦çæ°æ®æ¥æ´æ°\n\nput /stars/_doc/1\n{\n  "name": "è¡å¤å¤",\n  "age": "22",\n  "desc": "é¸¡ä½ å¤ªç¾",\n  "tags": ["å±","è·³","rap","ç¯®ç"]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# å é¤æ°æ® delete\n\nå é¤ä¸ä¸ªææ¡£ä¸ä¼ç«å³ä»ç£çä¸ç§»é¤ï¼å®åªæ¯è¢«æ è®°æå·²å é¤ï¼é»è¾å é¤ï¼ã\n\n * æ ¹æ® id å é¤æ°æ®\n\ndelete /stars/_doc/1\n\n\n1\n\n * æ¡ä»¶å é¤ææ¡£\n\nä¸è¬å é¤æ°æ®é½æ¯æ ¹æ®ææ¡£çå¯ä¸æ§æ è¯è¿è¡å é¤ï¼å®éæä½æ¶ï¼ä¹å¯ä»¥æ ¹æ®æ¡ä»¶å¯¹å¤æ¡æ°æ®è¿è¡å é¤\n\nä¾å¦ï¼æ¥è¯¢ age ä¸º 22 ç\n\npost /stars/_delete_by_query\n{\n "query":{\n   "match":{\n     "age": 22\n   }\n }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# ç´¢å¼çèªå¨åå»º\n\næ·»å æ°æ®æ¶ï¼æ²¡æç´¢å¼ä¼èªå¨åå»ºç´¢å¼åå­æ®µ\n\nput /customer/_doc/1\n{\n  "name": "john doe"\n}\n\n\n1\n2\n3\n4\n\n\næä»¬å¯ä»¥æ¥çä¸è¿ä¸ªç´¢å¼ç mapping => get /customer/_mapping\n\n{\n  "customer" : {\n    "mappings" : {\n      "properties" : {\n        "name" : {\n          "type" : "text",\n          "fields" : {\n            "keyword" : {\n              "type" : "keyword",\n              "ignore_above" : 256\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\né£ä¹å¦ææä»¬éè¦å¯¹è¿ä¸ªå»ºç«ç´¢å¼çè¿ç¨åæ´å¤çæ§å¶ï¼æ¯å¦æ³è¦ç¡®ä¿è¿ä¸ªç´¢å¼ææ°ééä¸­çä¸»åçï¼å¹¶ä¸å¨æä»¬ç´¢å¼ä»»ä½æ°æ®ä¹åï¼åæå¨åæ å°å·²ç»è¢«å»ºç«å¥½ãé£ä¹å°±ä¼å¼å¥ä¸¤ç¹ï¼ç¬¬ä¸ä¸ªç¦æ­¢èªå¨åå»ºç´¢å¼ï¼ç¬¬äºä¸ªæ¯æå¨åå»ºç´¢å¼ã\n\n * ç¦æ­¢èªå¨åå»ºç´¢å¼\n\nå¯ä»¥éè¿å¨ config/elasticsearch.yml çæ¯ä¸ªèç¹ä¸æ·»å ä¸é¢çéç½®ï¼\n\naction.auto_create_index: false\n\n\n1\n\n\n\n# ç´¢å¼çæ ¼å¼\n\nå¨è¯·æ±ä½éé¢ä¼ å¥è®¾ç½®æç±»åæ å°ï¼å¦ä¸æç¤ºï¼\n\nput /my_index\n{\n    "settings": { ... any settings ... },\n    "mappings": {\n        "properties": { ... any properties ... }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n * settings: ç¨æ¥è®¾ç½®åç,å¯æ¬ç­éç½®ä¿¡æ¯\n * mappings: å­æ®µæ å°ï¼ç±»åç­\n   * properties: ç±äºtypeå¨åç»­çæ¬ä¸­ä¼è¢«deprecated, æä»¥æ éè¢«typeåµå¥\n\n\n# ç´¢å¼ç®¡çæä½\n\nhttps://www.pdai.tech/md/db/nosql-es/elasticsearch-x-index-mapping.html#ç´¢å¼ç®¡çæä½',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"ES - é«çº§æ¥è¯¢æä½",frontmatter:{title:"ES - é«çº§æ¥è¯¢æä½",date:"2021-06-21T09:43:35.000Z",permalink:"/es/query/"},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/15.ElasticSearch/08.ES%20-%20%E9%AB%98%E7%BA%A7%E6%9F%A5%E8%AF%A2%E6%93%8D%E4%BD%9C.html",relativePath:"03.æ°æ®åº/15.ElasticSearch/08.ES - é«çº§æ¥è¯¢æä½.md",key:"v-d48a660e",path:"/es/query/",headers:[{level:2,title:"SearchAPI",slug:"searchapi",normalizedTitle:"searchapi",charIndex:3},{level:2,title:"æ¥è¯¢æ°æ®Query DSL",slug:"æ¥è¯¢æ°æ®query-dsl",normalizedTitle:"æ¥è¯¢æ°æ®query dsl",charIndex:16},{level:3,title:"æå®å­æ®µæ¥è¯¢ match",slug:"æå®å­æ®µæ¥è¯¢-match",normalizedTitle:"æå®å­æ®µæ¥è¯¢ match",charIndex:35},{level:3,title:"æ¥è¯¢ç­è¯­å¹é match_phrase",slug:"æ¥è¯¢ç­è¯­å¹é-match-phrase",normalizedTitle:"æ¥è¯¢ç­è¯­å¹é match_phrase",charIndex:53},{level:3,title:"å¤å­æ®µå¹é multi_match",slug:"å¤å­æ®µå¹é-multi-match",normalizedTitle:"å¤å­æ®µå¹é multi_match",charIndex:78},{level:3,title:"æ¥è¯¢ç»ææ¾ç¤ºæå®å­æ®µ",slug:"æ¥è¯¢ç»ææ¾ç¤ºæå®å­æ®µ",normalizedTitle:"æ¥è¯¢ç»ææ¾ç¤ºæå®å­æ®µ",charIndex:101},{level:3,title:"æåºååé¡µ",slug:"æåºååé¡µ",normalizedTitle:"æåºååé¡µ",charIndex:117},{level:3,title:"å¤æ¡ä»¶æ¥è¯¢",slug:"å¤æ¡ä»¶æ¥è¯¢",normalizedTitle:"å¤æ¡ä»¶æ¥è¯¢",charIndex:128},{level:3,title:"ç»æè¿æ»¤æ¥è¯¢ filter",slug:"ç»æè¿æ»¤æ¥è¯¢-filter",normalizedTitle:"ç»æè¿æ»¤æ¥è¯¢ filter",charIndex:139},{level:3,title:"å¹éå¤ä¸ªæ¡ä»¶æ¥è¯¢",slug:"å¹éå¤ä¸ªæ¡ä»¶æ¥è¯¢",normalizedTitle:"å¹éå¤ä¸ªæ¡ä»¶æ¥è¯¢",charIndex:158},{level:3,title:"ç²¾ç¡®æ¥è¯¢term",slug:"ç²¾ç¡®æ¥è¯¢term",normalizedTitle:"ç²¾ç¡®æ¥è¯¢term",charIndex:172},{level:3,title:"é«äº®æ¥è¯¢",slug:"é«äº®æ¥è¯¢",normalizedTitle:"é«äº®æ¥è¯¢",charIndex:186},{level:2,title:"èåæ¥è¯¢",slug:"èåæ¥è¯¢",normalizedTitle:"èåæ¥è¯¢",charIndex:194},{level:3,title:"ç®åèå",slug:"ç®åèå",normalizedTitle:"ç®åèå",charIndex:204},{level:3,title:"åµå¥èå",slug:"åµå¥èå",normalizedTitle:"åµå¥èå",charIndex:214},{level:3,title:"å¯¹èåç»ææåº",slug:"å¯¹èåç»ææåº",normalizedTitle:"å¯¹èåç»ææåº",charIndex:224}],headersStr:"SearchAPI æ¥è¯¢æ°æ®Query DSL æå®å­æ®µæ¥è¯¢ match æ¥è¯¢ç­è¯­å¹é match_phrase å¤å­æ®µå¹é multi_match æ¥è¯¢ç»ææ¾ç¤ºæå®å­æ®µ æåºååé¡µ å¤æ¡ä»¶æ¥è¯¢ ç»æè¿æ»¤æ¥è¯¢ filter å¹éå¤ä¸ªæ¡ä»¶æ¥è¯¢ ç²¾ç¡®æ¥è¯¢term é«äº®æ¥è¯¢ èåæ¥è¯¢ ç®åèå åµå¥èå å¯¹èåç»ææåº",content:' * SearchAPI\n * æ¥è¯¢æ°æ®Query DSL\n   * æå®å­æ®µæ¥è¯¢ match\n   * æ¥è¯¢ç­è¯­å¹é match_phrase\n   * å¤å­æ®µå¹é multi_match\n   * æ¥è¯¢ç»ææ¾ç¤ºæå®å­æ®µ\n   * æåºååé¡µ\n   * å¤æ¡ä»¶æ¥è¯¢\n   * ç»æè¿æ»¤æ¥è¯¢ filter\n   * å¹éå¤ä¸ªæ¡ä»¶æ¥è¯¢\n   * ç²¾ç¡®æ¥è¯¢term\n   * é«äº®æ¥è¯¢\n * èåæ¥è¯¢\n   * ç®åèå\n   * åµå¥èå\n   * å¯¹èåç»ææåº\n\n\n\n\n# SearchAPI\n\nESæ¯æä¸¤ç§åºæ¬æ¹å¼æ£ç´¢ï¼\n\n * éè¿REST request uri åéæç´¢åæ° ï¼uri +æ£ç´¢åæ°ï¼ï¼\n * éè¿REST request body æ¥åéå®ä»¬ï¼uri+è¯·æ±ä½ï¼ï¼\n\n> æ£ç´¢ä¿¡æ¯\n\n * æ£ç´¢ä»_searchå¼å§\n   \n   ä¾å¦ï¼\n   \n   GET bank/_search?q=*&sort=account_number:asc\n   \n   \n   1\n   \n   \n   ç­ä»·äº\n   \n   GET bank/_search \n   {\n       "query":{\n           "match_all":{ }\n       },\n       "sort":[\n           {\n               "account_number":{\n                   "order":"desc"\n               }\n           }\n       ]\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   \n\n * ååºç»æè§£é: took - Elasticsearch æ§è¡æç´¢çæ¶é´(æ¯«ç§) time_out - åè¯æä»¬æç´¢æ¯å¦è¶æ¶ _shards - åè¯æä»¬å¤å°ä¸ªåçè¢«æç´¢äºï¼ä»¥åç»è®¡äºæå/å¤±è´¥çæç´¢åç hits - æç´¢ç»æ hits.total - æç´¢ç»æ hits.hits - å®éçæç´¢ç»ææ°ç»(é»è®¤ä¸ºå 10 çææ¡£) sort - ç»æçæåº key(é®)(æ²¡æåæ score æåº) score å max_score âç¸å³æ§å¾ååæé«å¾å(å¨ææ£ç´¢ç¨)\n\n\n# æ¥è¯¢æ°æ®Query DSL\n\n\n# æå®å­æ®µæ¥è¯¢ match\n\næ¥è¯¢ name ä¸­å«æ å¤ æ å° ç\n\nGET /stars/_search\n{\n  "query": {\n    "match": {\n      "name": "å¤ å°"\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# æ¥è¯¢ç­è¯­å¹é match_phrase\n\nå¦ææä»¬å¸ææ¥è¯¢çæ¡ä»¶æ¯æå­æ®µä¸­åå« "å¤ å°"\n\nä¹å°±æ¯å°éè¦å¹éçå¼å½æä¸ä¸ªæ´ä½åè¯(ä¸åè¯)è¿è¡æ£ç´¢ï¼ä½¿ç¨ match_phrase\n\nGET /stars/_search\n{\n  "query": {\n    "match_phrase": {\n      "name": "å¤ å°"\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# å¤å­æ®µå¹é multi_match\n\næ¥è¯¢ state æè address åå« mill\n\n GET bank/_search \n{\n    "query":{\n        "multi_match":{\n            "query":"mill",\n            "fields":[\n                "state",\n                "address"\n            ]\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# æ¥è¯¢ç»ææ¾ç¤ºæå®å­æ®µ\n\nä¾å¦ï¼æ¥è¯¢ç»æåªæ¾ç¤º age å desc\n\nGET /stars/_search\n{\n  "query": {\n    "match": {\n      "name": "å¡"\n    }\n  },\n  "_source":["age", "desc"] \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# æåºååé¡µ\n\n * asc ååºãdesc éåº\n\nGET /stars/_search\n{\n  "query": { "match_all": {} },\n  "sort": [\n    {\n      "age.keyword": {\n        "order": "desc"\n      }\n    }\n  ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n * åé¡µæ¥è¯¢\n\næ¬è´¨ä¸å°±æ¯ fromï¼å¼å§ä½ç½®ï¼å sizeï¼è¿åæ°æ®æ°ç®ï¼ä¸¤ä¸ªå­æ®µ\n\nGET /stars/_search\n{\n  "query": { "match_all": {} },\n  "from": 0,\n  "size": 2\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# å¤æ¡ä»¶æ¥è¯¢\n\n * bool\n\nmustï¼ç¸å½äºå³ç³»åæ°æ®åº and\n\nGET stars/_search\n{\n  "query": {\n    "bool": {\n      "must": [\n        {\n          "match": {\n            "name": "å´äº¦å¡"\n          }\n        },\n        {\n          "match": {\n            "age": "29"\n          }\n        }\n      ]\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nshouldï¼ç¸å½äºå³ç³»åæ°æ®åº or\n\nGET stars/_search\n{\n  "query": {\n    "bool": {\n      "should": [\n        {\n          "match": {\n            "name": "å´äº¦å¡"\n          }\n        },\n        {\n          "match": {\n            "age": "19"\n          }\n        }\n      ]\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nmust_notï¼ç¸å½äºå³ç³»åæ°æ®åº not\n\n\n# ç»æè¿æ»¤æ¥è¯¢ filter\n\nä¾å¦ï¼æ¥è¯¢ 10å²<=age=<30å²\n\nGET stars/_search\n{\n  "query": {\n    "bool": {\n      "filter": [\n        {\n          "range": {\n            "age": {\n              "gte": 10, \n              "lte": 30 \n            }\n          }\n        }\n      ]\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# å¹éå¤ä¸ªæ¡ä»¶æ¥è¯¢\n\næ¥è¯¢ tags æ å±è·³ ç\n\nGET stars/_search\n{\n  "query": {\n    "match": {\n      "tags": "å± è·³"\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nå¤ä¸ªæ¡ä»¶ä½¿ç¨ç©ºæ ¼éå¼\n\n\n# ç²¾ç¡®æ¥è¯¢term\n\nå³äºåè¯\n\n * termï¼ç´æ¥éè¿åæç´¢å¼æå®çè¯æ¡è¿è¡ç²¾ç¡®æ¥è¯¢\n\nGET stars/_search\n{\n  "query": {\n    "bool": {\n      "must": [\n        {\n          "term": {\n            "name": "å´äº¦å¡"\n          }\n        }\n      ]\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nè¿å\n\n{\n  "took" : 0,\n  "timed_out" : false,\n  "_shards" : {\n    "total" : 1,\n    "successful" : 1,\n    "skipped" : 0,\n    "failed" : 0\n  },\n  "hits" : {\n    "total" : {\n      "value" : 0,\n      "relation" : "eq"\n    },\n    "max_score" : null,\n    "hits" : [ ]\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n * matchï¼ååæææ¡£ï¼åéè¿åæçææ¡£è¿è¡æ¥è¯¢\n\nå´å°å¡ ä¹ä¼è¢«æ¥åºæ¥\n\n\n\nä¸¤ä¸ªå­æ®µç±»å\n\n * textï¼ä¼è¢«åè¯å¨è§£æ\n * keywordï¼ä¸ä¼è¢«åè¯å¨è§£æ\n\nåå»ºç´¢å¼ï¼ç¨mappingsææç±»åï¼å¹¶æå¥æ°æ®\n\nPUT testdb\n{\n    "mappings": {\n        "properties": {\n            "name": {\n                "type": "text"\n            }, \n            "desc": {\n                "type": "keyword"\n            }\n        }\n    }\n}\n\n\nPUT testdb/_doc/1\n{\n  "name": "èµµæ·±å®¸ name",\n  "desc": "è´è¿ desc"\n}\n\nPUT testdb/_doc/2\n{\n  "name": "èµµæ·±å®¸ name2",\n  "desc": "è´è¿ desc2"\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\nä¸è¿°ä¸­ testdb ç´¢å¼ä¸­ï¼å­æ®µnameå¨è¢«æ¥è¯¢æ¶ä¼è¢«åæå¨è¿è¡åæåå¹éæ¥è¯¢ãèå±äºkeywordç±»åä¸ä¼è¢«åæå¨å¤çã\n\næä»¬æ¥éªè¯ä¸ä¸ï¼\n\n * keyword\n\nGET _analyze\n{\n  "analyzer": "keyword",\n  "text": "èµµæ·±å®¸ name"\n}\n\n\n1\n2\n3\n4\n5\n\n\nè¿å\n\n{\n  "tokens" : [\n    {\n      "token" : "èµµæ·±å®¸ name",\n      "start_offset" : 0,\n      "end_offset" : 8,\n      "type" : "word",\n      "position" : 0\n    }\n  ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n * standard\n\nGET _analyze\n{\n  "analyzer": "standard",\n  "text": "èµµæ·±å®¸ name"\n}\n\n\n1\n2\n3\n4\n5\n\n\nè¿å\n\n{\n  "tokens" : [\n    {\n      "token" : "èµµ",\n      "start_offset" : 0,\n      "end_offset" : 1,\n      "type" : "<IDEOGRAPHIC>",\n      "position" : 0\n    },\n    {\n      "token" : "æ·±",\n      "start_offset" : 1,\n      "end_offset" : 2,\n      "type" : "<IDEOGRAPHIC>",\n      "position" : 1\n    },\n    {\n      "token" : "å®¸",\n      "start_offset" : 2,\n      "end_offset" : 3,\n      "type" : "<IDEOGRAPHIC>",\n      "position" : 2\n    },\n    {\n      "token" : "name",\n      "start_offset" : 4,\n      "end_offset" : 8,\n      "type" : "<ALPHANUM>",\n      "position" : 3\n    }\n  ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\næ¥è¯¢æµè¯ä¸ï¼\n\nGET testdb/_search\n{\n  "query": {\n    "match": {\n     "desc": "è´è¿ desc"\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nç»æï¼\n\nåªè¿å ä¸æ¡æ°æ®ï¼æ¥è¯¢ç»ææ²¡æ âè´è¿ desc2â\n\n * æå®å­æ®µç±»åè¿è¡æ¥è¯¢\n\nGET stars/_search\n{\n  "query": {\n    "bool": {\n      "must": [\n        {\n          "match": {\n            "name.keyword": "å´äº¦å¡"\n          }\n        }\n      ]\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n * æ¥æ¾å¤ä¸ªç²¾ç¡®å¼\n   \n   https://www.elastic.co/guide/cn/elasticsearch/guide/current/_finding_multiple_exact_values.html\n\n\n# é«äº®æ¥è¯¢\n\n * é»è®¤é«äº®æ ç­¾\n\nGET stars/_search\n{\n  "query": {\n    "match": {\n      "name": "å´äº¦å¡"\n    }\n  },\n  "highlight": {\n    "fields": {\n      "name": {}\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nè¿å\n\n{\n  "took" : 160,\n  "timed_out" : false,\n  "_shards" : {\n    "total" : 1,\n    "successful" : 1,\n    "skipped" : 0,\n    "failed" : 0\n  },\n  "hits" : {\n    "total" : {\n      "value" : 1,\n      "relation" : "eq"\n    },\n    "max_score" : 2.9424872,\n    "hits" : [\n      {\n        "_index" : "stars",\n        "_type" : "_doc",\n        "_id" : "2",\n        "_score" : 2.9424872,\n        "_source" : {\n          "name" : "å´äº¦å¡",\n          "age" : "29",\n          "desc" : "å¤§ç¢å®½é¢",\n          "tags" : [\n            "å æ¿å¤§",\n            "çµé³",\n            "è¯´å±",\n            "å»å"\n          ]\n        },\n        "highlight" : {\n          "name" : [\n            "<em>å´</em><em>äº¦</em><em>å¡</em>"\n          ]\n        }\n      }\n    ]\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n * èªå®ä¹é«äº®æ ç­¾\n\nGET stars/_search\n{\n  "query": {\n    "match": {\n      "name": "å´äº¦å¡"\n    }\n  },\n  "highlight": {\n    "pre_tags": "<p class=\'key\' style=\'color:red\'>",\n    "post_tags": "</p>", \n    "fields": {\n      "name": {}\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nç»æï¼\n\n"highlight" : {\n          "name" : [\n            "<p class=\'key\' style=\'color:red\'>å´</p><p class=\'key\' style=\'color:red\'>äº¦</p><p class=\'key\' style=\'color:red\'>å¡</p>"\n          ]\n        }\n\n"highlight" : {\n          "name" : [\n            "<p class=\'key\' style=\'color:red\'>å´</p>å°<p class=\'key\' style=\'color:red\'>å¡</p>"\n          ]\n        }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# èåæ¥è¯¢\n\næä»¬ç¥éSQLä¸­ægroup byï¼å¨ESä¸­å®å«Aggregationï¼å³èåè¿ç®ã\n\nç¨ä¹åå¯¼å¥ç´¢å¼çæ°æ®è¿è¡æµè¯\n\n\n# ç®åèå\n\næ¯å¦æä»¬å¸æè®¡ç®åºæ¯ä¸ªå·çç»è®¡æ°éï¼ ä½¿ç¨aggså³é®å­å¯¹stateå­æ®µèåï¼è¢«èåçå­æ®µæ éå¯¹åè¯ç»è®¡ï¼æä»¥ä½¿ç¨state.keywordå¯¹æ´ä¸ªå­æ®µç»è®¡\n\ngroup_by_state ä¸ºåçåå­ï¼æ ¹æ®èªå·±éæ±åå\n\nGET /bank/_search\n{\n  "size": 0,\n  "aggs": {\n    "group_by_state": {\n      "terms": {\n        "field": "state.keyword"\n      }\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nè¿åï¼\n\n{\n  "took" : 1,\n  "timed_out" : false,\n  "_shards" : {\n    "total" : 1,\n    "successful" : 1,\n    "skipped" : 0,\n    "failed" : 0\n  },\n  "hits" : {\n    "total" : {\n      "value" : 1000,\n      "relation" : "eq"\n    },\n    "max_score" : null,\n    "hits" : [ ]\n  },\n  "aggregations" : {\n    "group_by_state" : {\n      "doc_count_error_upper_bound" : 0,\n      "sum_other_doc_count" : 743,\n      "buckets" : [\n        {\n          "key" : "TX",\n          "doc_count" : 30\n        },\n        {\n          "key" : "MD",\n          "doc_count" : 28\n        },\n        {\n          "key" : "ID",\n          "doc_count" : 27\n        },\n        {\n          "key" : "AL",\n          "doc_count" : 25\n        },\n        {\n          "key" : "ME",\n          "doc_count" : 25\n        },\n        {\n          "key" : "TN",\n          "doc_count" : 25\n        },\n        {\n          "key" : "WY",\n          "doc_count" : 25\n        },\n        {\n          "key" : "DC",\n          "doc_count" : 24\n        },\n        {\n          "key" : "MA",\n          "doc_count" : 24\n        },\n        {\n          "key" : "ND",\n          "doc_count" : 24\n        }\n      ]\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n\n\nå ä¸ºæ éè¿åæ¡ä»¶çå·ä½æ°æ®, æä»¥è®¾ç½®size=0ï¼è¿åhitsä¸ºç©ºã\n\ndoc_countè¡¨ç¤ºbucketä¸­æ¯ä¸ªå·çæ°æ®æ¡æ°ã\n\n\n# åµå¥èå\n\næ¯å¦æ¿æ¥ä¸ä¸ªä¾å­ï¼ è®¡ç®æ¯ä¸ªå·çå¹³åç»ä½ãæ¶åå°çå°±æ¯å¨å¯¹stateåç»çåºç¡ä¸ï¼åµå¥è®¡ç®avg(balance):\n\nGET /bank/_search\n{\n  "size": 0,\n  "aggs": {\n    "group_by_state": {\n      "terms": {\n        "field": "state.keyword"\n      },\n      "aggs": {\n        "average_balance": {\n          "avg": {\n            "field": "balance"\n          }\n        }\n      }\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nè¿åï¼\n\n{\n  "took" : 49,\n  "timed_out" : false,\n  "_shards" : {\n    "total" : 1,\n    "successful" : 1,\n    "skipped" : 0,\n    "failed" : 0\n  },\n  "hits" : {\n    "total" : {\n      "value" : 1000,\n      "relation" : "eq"\n    },\n    "max_score" : null,\n    "hits" : [ ]\n  },\n  "aggregations" : {\n    "group_by_state" : {\n      "doc_count_error_upper_bound" : 0,\n      "sum_other_doc_count" : 743,\n      "buckets" : [\n        {\n          "key" : "TX",\n          "doc_count" : 30,\n          "average_balance" : {\n            "value" : 26073.3\n          }\n        },\n        {\n          "key" : "MD",\n          "doc_count" : 28,\n          "average_balance" : {\n            "value" : 26161.535714285714\n          }\n        },\n        {\n          "key" : "ID",\n          "doc_count" : 27,\n          "average_balance" : {\n            "value" : 24368.777777777777\n          }\n        },\n        {\n          "key" : "AL",\n          "doc_count" : 25,\n          "average_balance" : {\n            "value" : 25739.56\n          }\n        },\n        {\n          "key" : "ME",\n          "doc_count" : 25,\n          "average_balance" : {\n            "value" : 21663.0\n          }\n        },\n        {\n          "key" : "TN",\n          "doc_count" : 25,\n          "average_balance" : {\n            "value" : 28365.4\n          }\n        },\n        {\n          "key" : "WY",\n          "doc_count" : 25,\n          "average_balance" : {\n            "value" : 21731.52\n          }\n        },\n        {\n          "key" : "DC",\n          "doc_count" : 24,\n          "average_balance" : {\n            "value" : 23180.583333333332\n          }\n        },\n        {\n          "key" : "MA",\n          "doc_count" : 24,\n          "average_balance" : {\n            "value" : 29600.333333333332\n          }\n        },\n        {\n          "key" : "ND",\n          "doc_count" : 24,\n          "average_balance" : {\n            "value" : 26577.333333333332\n          }\n        }\n      ]\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n\n\n\n# å¯¹èåç»ææåº\n\nå¯ä»¥éè¿å¨aggsä¸­å¯¹åµå¥èåçç»æè¿è¡æåº\n\næ¯å¦æ¿æ¥ä¸ä¸ªä¾å­ï¼ å¯¹åµå¥è®¡ç®åºçavg(balance)ï¼è¿éæ¯average_balanceï¼è¿è¡æåº\n\nGET /bank/_search\n{\n  "size": 0,\n  "aggs": {\n    "group_by_state": {\n      "terms": {\n        "field": "state.keyword",\n        "order": {\n          "average_balance": "desc"\n        }\n      },\n      "aggs": {\n        "average_balance": {\n          "avg": {\n            "field": "balance"\n          }\n        }\n      }\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n',normalizedContent:' * searchapi\n * æ¥è¯¢æ°æ®query dsl\n   * æå®å­æ®µæ¥è¯¢ match\n   * æ¥è¯¢ç­è¯­å¹é match_phrase\n   * å¤å­æ®µå¹é multi_match\n   * æ¥è¯¢ç»ææ¾ç¤ºæå®å­æ®µ\n   * æåºååé¡µ\n   * å¤æ¡ä»¶æ¥è¯¢\n   * ç»æè¿æ»¤æ¥è¯¢ filter\n   * å¹éå¤ä¸ªæ¡ä»¶æ¥è¯¢\n   * ç²¾ç¡®æ¥è¯¢term\n   * é«äº®æ¥è¯¢\n * èåæ¥è¯¢\n   * ç®åèå\n   * åµå¥èå\n   * å¯¹èåç»ææåº\n\n\n\n\n# searchapi\n\nesæ¯æä¸¤ç§åºæ¬æ¹å¼æ£ç´¢ï¼\n\n * éè¿rest request uri åéæç´¢åæ° ï¼uri +æ£ç´¢åæ°ï¼ï¼\n * éè¿rest request body æ¥åéå®ä»¬ï¼uri+è¯·æ±ä½ï¼ï¼\n\n> æ£ç´¢ä¿¡æ¯\n\n * æ£ç´¢ä»_searchå¼å§\n   \n   ä¾å¦ï¼\n   \n   get bank/_search?q=*&sort=account_number:asc\n   \n   \n   1\n   \n   \n   ç­ä»·äº\n   \n   get bank/_search \n   {\n       "query":{\n           "match_all":{ }\n       },\n       "sort":[\n           {\n               "account_number":{\n                   "order":"desc"\n               }\n           }\n       ]\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   \n\n * ååºç»æè§£é: took - elasticsearch æ§è¡æç´¢çæ¶é´(æ¯«ç§) time_out - åè¯æä»¬æç´¢æ¯å¦è¶æ¶ _shards - åè¯æä»¬å¤å°ä¸ªåçè¢«æç´¢äºï¼ä»¥åç»è®¡äºæå/å¤±è´¥çæç´¢åç hits - æç´¢ç»æ hits.total - æç´¢ç»æ hits.hits - å®éçæç´¢ç»ææ°ç»(é»è®¤ä¸ºå 10 çææ¡£) sort - ç»æçæåº key(é®)(æ²¡æåæ score æåº) score å max_score âç¸å³æ§å¾ååæé«å¾å(å¨ææ£ç´¢ç¨)\n\n\n# æ¥è¯¢æ°æ®query dsl\n\n\n# æå®å­æ®µæ¥è¯¢ match\n\næ¥è¯¢ name ä¸­å«æ å¤ æ å° ç\n\nget /stars/_search\n{\n  "query": {\n    "match": {\n      "name": "å¤ å°"\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# æ¥è¯¢ç­è¯­å¹é match_phrase\n\nå¦ææä»¬å¸ææ¥è¯¢çæ¡ä»¶æ¯æå­æ®µä¸­åå« "å¤ å°"\n\nä¹å°±æ¯å°éè¦å¹éçå¼å½æä¸ä¸ªæ´ä½åè¯(ä¸åè¯)è¿è¡æ£ç´¢ï¼ä½¿ç¨ match_phrase\n\nget /stars/_search\n{\n  "query": {\n    "match_phrase": {\n      "name": "å¤ å°"\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# å¤å­æ®µå¹é multi_match\n\næ¥è¯¢ state æè address åå« mill\n\n get bank/_search \n{\n    "query":{\n        "multi_match":{\n            "query":"mill",\n            "fields":[\n                "state",\n                "address"\n            ]\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# æ¥è¯¢ç»ææ¾ç¤ºæå®å­æ®µ\n\nä¾å¦ï¼æ¥è¯¢ç»æåªæ¾ç¤º age å desc\n\nget /stars/_search\n{\n  "query": {\n    "match": {\n      "name": "å¡"\n    }\n  },\n  "_source":["age", "desc"] \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# æåºååé¡µ\n\n * asc ååºãdesc éåº\n\nget /stars/_search\n{\n  "query": { "match_all": {} },\n  "sort": [\n    {\n      "age.keyword": {\n        "order": "desc"\n      }\n    }\n  ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n * åé¡µæ¥è¯¢\n\næ¬è´¨ä¸å°±æ¯ fromï¼å¼å§ä½ç½®ï¼å sizeï¼è¿åæ°æ®æ°ç®ï¼ä¸¤ä¸ªå­æ®µ\n\nget /stars/_search\n{\n  "query": { "match_all": {} },\n  "from": 0,\n  "size": 2\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# å¤æ¡ä»¶æ¥è¯¢\n\n * bool\n\nmustï¼ç¸å½äºå³ç³»åæ°æ®åº and\n\nget stars/_search\n{\n  "query": {\n    "bool": {\n      "must": [\n        {\n          "match": {\n            "name": "å´äº¦å¡"\n          }\n        },\n        {\n          "match": {\n            "age": "29"\n          }\n        }\n      ]\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nshouldï¼ç¸å½äºå³ç³»åæ°æ®åº or\n\nget stars/_search\n{\n  "query": {\n    "bool": {\n      "should": [\n        {\n          "match": {\n            "name": "å´äº¦å¡"\n          }\n        },\n        {\n          "match": {\n            "age": "19"\n          }\n        }\n      ]\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nmust_notï¼ç¸å½äºå³ç³»åæ°æ®åº not\n\n\n# ç»æè¿æ»¤æ¥è¯¢ filter\n\nä¾å¦ï¼æ¥è¯¢ 10å²<=age=<30å²\n\nget stars/_search\n{\n  "query": {\n    "bool": {\n      "filter": [\n        {\n          "range": {\n            "age": {\n              "gte": 10, \n              "lte": 30 \n            }\n          }\n        }\n      ]\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# å¹éå¤ä¸ªæ¡ä»¶æ¥è¯¢\n\næ¥è¯¢ tags æ å±è·³ ç\n\nget stars/_search\n{\n  "query": {\n    "match": {\n      "tags": "å± è·³"\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nå¤ä¸ªæ¡ä»¶ä½¿ç¨ç©ºæ ¼éå¼\n\n\n# ç²¾ç¡®æ¥è¯¢term\n\nå³äºåè¯\n\n * termï¼ç´æ¥éè¿åæç´¢å¼æå®çè¯æ¡è¿è¡ç²¾ç¡®æ¥è¯¢\n\nget stars/_search\n{\n  "query": {\n    "bool": {\n      "must": [\n        {\n          "term": {\n            "name": "å´äº¦å¡"\n          }\n        }\n      ]\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nè¿å\n\n{\n  "took" : 0,\n  "timed_out" : false,\n  "_shards" : {\n    "total" : 1,\n    "successful" : 1,\n    "skipped" : 0,\n    "failed" : 0\n  },\n  "hits" : {\n    "total" : {\n      "value" : 0,\n      "relation" : "eq"\n    },\n    "max_score" : null,\n    "hits" : [ ]\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n * matchï¼ååæææ¡£ï¼åéè¿åæçææ¡£è¿è¡æ¥è¯¢\n\nå´å°å¡ ä¹ä¼è¢«æ¥åºæ¥\n\n\n\nä¸¤ä¸ªå­æ®µç±»å\n\n * textï¼ä¼è¢«åè¯å¨è§£æ\n * keywordï¼ä¸ä¼è¢«åè¯å¨è§£æ\n\nåå»ºç´¢å¼ï¼ç¨mappingsææç±»åï¼å¹¶æå¥æ°æ®\n\nput testdb\n{\n    "mappings": {\n        "properties": {\n            "name": {\n                "type": "text"\n            }, \n            "desc": {\n                "type": "keyword"\n            }\n        }\n    }\n}\n\n\nput testdb/_doc/1\n{\n  "name": "èµµæ·±å®¸ name",\n  "desc": "è´è¿ desc"\n}\n\nput testdb/_doc/2\n{\n  "name": "èµµæ·±å®¸ name2",\n  "desc": "è´è¿ desc2"\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\nä¸è¿°ä¸­ testdb ç´¢å¼ä¸­ï¼å­æ®µnameå¨è¢«æ¥è¯¢æ¶ä¼è¢«åæå¨è¿è¡åæåå¹éæ¥è¯¢ãèå±äºkeywordç±»åä¸ä¼è¢«åæå¨å¤çã\n\næä»¬æ¥éªè¯ä¸ä¸ï¼\n\n * keyword\n\nget _analyze\n{\n  "analyzer": "keyword",\n  "text": "èµµæ·±å®¸ name"\n}\n\n\n1\n2\n3\n4\n5\n\n\nè¿å\n\n{\n  "tokens" : [\n    {\n      "token" : "èµµæ·±å®¸ name",\n      "start_offset" : 0,\n      "end_offset" : 8,\n      "type" : "word",\n      "position" : 0\n    }\n  ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n * standard\n\nget _analyze\n{\n  "analyzer": "standard",\n  "text": "èµµæ·±å®¸ name"\n}\n\n\n1\n2\n3\n4\n5\n\n\nè¿å\n\n{\n  "tokens" : [\n    {\n      "token" : "èµµ",\n      "start_offset" : 0,\n      "end_offset" : 1,\n      "type" : "<ideographic>",\n      "position" : 0\n    },\n    {\n      "token" : "æ·±",\n      "start_offset" : 1,\n      "end_offset" : 2,\n      "type" : "<ideographic>",\n      "position" : 1\n    },\n    {\n      "token" : "å®¸",\n      "start_offset" : 2,\n      "end_offset" : 3,\n      "type" : "<ideographic>",\n      "position" : 2\n    },\n    {\n      "token" : "name",\n      "start_offset" : 4,\n      "end_offset" : 8,\n      "type" : "<alphanum>",\n      "position" : 3\n    }\n  ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\næ¥è¯¢æµè¯ä¸ï¼\n\nget testdb/_search\n{\n  "query": {\n    "match": {\n     "desc": "è´è¿ desc"\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nç»æï¼\n\nåªè¿å ä¸æ¡æ°æ®ï¼æ¥è¯¢ç»ææ²¡æ âè´è¿ desc2â\n\n * æå®å­æ®µç±»åè¿è¡æ¥è¯¢\n\nget stars/_search\n{\n  "query": {\n    "bool": {\n      "must": [\n        {\n          "match": {\n            "name.keyword": "å´äº¦å¡"\n          }\n        }\n      ]\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n * æ¥æ¾å¤ä¸ªç²¾ç¡®å¼\n   \n   https://www.elastic.co/guide/cn/elasticsearch/guide/current/_finding_multiple_exact_values.html\n\n\n# é«äº®æ¥è¯¢\n\n * é»è®¤é«äº®æ ç­¾\n\nget stars/_search\n{\n  "query": {\n    "match": {\n      "name": "å´äº¦å¡"\n    }\n  },\n  "highlight": {\n    "fields": {\n      "name": {}\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nè¿å\n\n{\n  "took" : 160,\n  "timed_out" : false,\n  "_shards" : {\n    "total" : 1,\n    "successful" : 1,\n    "skipped" : 0,\n    "failed" : 0\n  },\n  "hits" : {\n    "total" : {\n      "value" : 1,\n      "relation" : "eq"\n    },\n    "max_score" : 2.9424872,\n    "hits" : [\n      {\n        "_index" : "stars",\n        "_type" : "_doc",\n        "_id" : "2",\n        "_score" : 2.9424872,\n        "_source" : {\n          "name" : "å´äº¦å¡",\n          "age" : "29",\n          "desc" : "å¤§ç¢å®½é¢",\n          "tags" : [\n            "å æ¿å¤§",\n            "çµé³",\n            "è¯´å±",\n            "å»å"\n          ]\n        },\n        "highlight" : {\n          "name" : [\n            "<em>å´</em><em>äº¦</em><em>å¡</em>"\n          ]\n        }\n      }\n    ]\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n * èªå®ä¹é«äº®æ ç­¾\n\nget stars/_search\n{\n  "query": {\n    "match": {\n      "name": "å´äº¦å¡"\n    }\n  },\n  "highlight": {\n    "pre_tags": "<p class=\'key\' style=\'color:red\'>",\n    "post_tags": "</p>", \n    "fields": {\n      "name": {}\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nç»æï¼\n\n"highlight" : {\n          "name" : [\n            "<p class=\'key\' style=\'color:red\'>å´</p><p class=\'key\' style=\'color:red\'>äº¦</p><p class=\'key\' style=\'color:red\'>å¡</p>"\n          ]\n        }\n\n"highlight" : {\n          "name" : [\n            "<p class=\'key\' style=\'color:red\'>å´</p>å°<p class=\'key\' style=\'color:red\'>å¡</p>"\n          ]\n        }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# èåæ¥è¯¢\n\næä»¬ç¥ésqlä¸­ægroup byï¼å¨esä¸­å®å«aggregationï¼å³èåè¿ç®ã\n\nç¨ä¹åå¯¼å¥ç´¢å¼çæ°æ®è¿è¡æµè¯\n\n\n# ç®åèå\n\næ¯å¦æä»¬å¸æè®¡ç®åºæ¯ä¸ªå·çç»è®¡æ°éï¼ ä½¿ç¨aggså³é®å­å¯¹stateå­æ®µèåï¼è¢«èåçå­æ®µæ éå¯¹åè¯ç»è®¡ï¼æä»¥ä½¿ç¨state.keywordå¯¹æ´ä¸ªå­æ®µç»è®¡\n\ngroup_by_state ä¸ºåçåå­ï¼æ ¹æ®èªå·±éæ±åå\n\nget /bank/_search\n{\n  "size": 0,\n  "aggs": {\n    "group_by_state": {\n      "terms": {\n        "field": "state.keyword"\n      }\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nè¿åï¼\n\n{\n  "took" : 1,\n  "timed_out" : false,\n  "_shards" : {\n    "total" : 1,\n    "successful" : 1,\n    "skipped" : 0,\n    "failed" : 0\n  },\n  "hits" : {\n    "total" : {\n      "value" : 1000,\n      "relation" : "eq"\n    },\n    "max_score" : null,\n    "hits" : [ ]\n  },\n  "aggregations" : {\n    "group_by_state" : {\n      "doc_count_error_upper_bound" : 0,\n      "sum_other_doc_count" : 743,\n      "buckets" : [\n        {\n          "key" : "tx",\n          "doc_count" : 30\n        },\n        {\n          "key" : "md",\n          "doc_count" : 28\n        },\n        {\n          "key" : "id",\n          "doc_count" : 27\n        },\n        {\n          "key" : "al",\n          "doc_count" : 25\n        },\n        {\n          "key" : "me",\n          "doc_count" : 25\n        },\n        {\n          "key" : "tn",\n          "doc_count" : 25\n        },\n        {\n          "key" : "wy",\n          "doc_count" : 25\n        },\n        {\n          "key" : "dc",\n          "doc_count" : 24\n        },\n        {\n          "key" : "ma",\n          "doc_count" : 24\n        },\n        {\n          "key" : "nd",\n          "doc_count" : 24\n        }\n      ]\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n\n\nå ä¸ºæ éè¿åæ¡ä»¶çå·ä½æ°æ®, æä»¥è®¾ç½®size=0ï¼è¿åhitsä¸ºç©ºã\n\ndoc_countè¡¨ç¤ºbucketä¸­æ¯ä¸ªå·çæ°æ®æ¡æ°ã\n\n\n# åµå¥èå\n\næ¯å¦æ¿æ¥ä¸ä¸ªä¾å­ï¼ è®¡ç®æ¯ä¸ªå·çå¹³åç»ä½ãæ¶åå°çå°±æ¯å¨å¯¹stateåç»çåºç¡ä¸ï¼åµå¥è®¡ç®avg(balance):\n\nget /bank/_search\n{\n  "size": 0,\n  "aggs": {\n    "group_by_state": {\n      "terms": {\n        "field": "state.keyword"\n      },\n      "aggs": {\n        "average_balance": {\n          "avg": {\n            "field": "balance"\n          }\n        }\n      }\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nè¿åï¼\n\n{\n  "took" : 49,\n  "timed_out" : false,\n  "_shards" : {\n    "total" : 1,\n    "successful" : 1,\n    "skipped" : 0,\n    "failed" : 0\n  },\n  "hits" : {\n    "total" : {\n      "value" : 1000,\n      "relation" : "eq"\n    },\n    "max_score" : null,\n    "hits" : [ ]\n  },\n  "aggregations" : {\n    "group_by_state" : {\n      "doc_count_error_upper_bound" : 0,\n      "sum_other_doc_count" : 743,\n      "buckets" : [\n        {\n          "key" : "tx",\n          "doc_count" : 30,\n          "average_balance" : {\n            "value" : 26073.3\n          }\n        },\n        {\n          "key" : "md",\n          "doc_count" : 28,\n          "average_balance" : {\n            "value" : 26161.535714285714\n          }\n        },\n        {\n          "key" : "id",\n          "doc_count" : 27,\n          "average_balance" : {\n            "value" : 24368.777777777777\n          }\n        },\n        {\n          "key" : "al",\n          "doc_count" : 25,\n          "average_balance" : {\n            "value" : 25739.56\n          }\n        },\n        {\n          "key" : "me",\n          "doc_count" : 25,\n          "average_balance" : {\n            "value" : 21663.0\n          }\n        },\n        {\n          "key" : "tn",\n          "doc_count" : 25,\n          "average_balance" : {\n            "value" : 28365.4\n          }\n        },\n        {\n          "key" : "wy",\n          "doc_count" : 25,\n          "average_balance" : {\n            "value" : 21731.52\n          }\n        },\n        {\n          "key" : "dc",\n          "doc_count" : 24,\n          "average_balance" : {\n            "value" : 23180.583333333332\n          }\n        },\n        {\n          "key" : "ma",\n          "doc_count" : 24,\n          "average_balance" : {\n            "value" : 29600.333333333332\n          }\n        },\n        {\n          "key" : "nd",\n          "doc_count" : 24,\n          "average_balance" : {\n            "value" : 26577.333333333332\n          }\n        }\n      ]\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n\n\n\n# å¯¹èåç»ææåº\n\nå¯ä»¥éè¿å¨aggsä¸­å¯¹åµå¥èåçç»æè¿è¡æåº\n\næ¯å¦æ¿æ¥ä¸ä¸ªä¾å­ï¼ å¯¹åµå¥è®¡ç®åºçavg(balance)ï¼è¿éæ¯average_balanceï¼è¿è¡æåº\n\nget /bank/_search\n{\n  "size": 0,\n  "aggs": {\n    "group_by_state": {\n      "terms": {\n        "field": "state.keyword",\n        "order": {\n          "average_balance": "desc"\n        }\n      },\n      "aggs": {\n        "average_balance": {\n          "avg": {\n            "field": "balance"\n          }\n        }\n      }\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"ES - åè¯",frontmatter:{title:"ES - åè¯",date:"2022-07-28T22:08:54.000Z",permalink:"/pages/87178e/"},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/15.ElasticSearch/12.ES%20-%20%E5%88%86%E8%AF%8D.html",relativePath:"03.æ°æ®åº/15.ElasticSearch/12.ES - åè¯.md",key:"v-792e46c1",path:"/pages/87178e/",headers:[{level:2,title:"å®è£IKåè¯å¨æä»¶",slug:"å®è£ikåè¯å¨æä»¶",normalizedTitle:"å®è£ikåè¯å¨æä»¶",charIndex:3},{level:2,title:"æµè¯åè¯å¨",slug:"æµè¯åè¯å¨",normalizedTitle:"æµè¯åè¯å¨",charIndex:16},{level:2,title:"èªå®ä¹è¯åº",slug:"èªå®ä¹è¯åº",normalizedTitle:"èªå®ä¹è¯åº",charIndex:25},{level:2,title:"Elasticsearch-Rest-Client",slug:"elasticsearch-rest-client",normalizedTitle:"elasticsearch-rest-client",charIndex:34}],headersStr:"å®è£IKåè¯å¨æä»¶ æµè¯åè¯å¨ èªå®ä¹è¯åº Elasticsearch-Rest-Client",content:' * å®è£IKåè¯å¨æä»¶\n * æµè¯åè¯å¨\n * èªå®ä¹è¯åº\n * Elasticsearch-Rest-Client\n\n\n\nä¸ä¸ªtokenizerï¼åè¯å¨ï¼æ¥æ¶ä¸ä¸ªå­ç¬¦æµï¼å°ä¹åå²ä¸ºç¬ç«çtokensï¼è¯åï¼éå¸¸æ¯ç¬ç«çåè¯ï¼ï¼ç¶åè¾åºtokensæµã\n\nä¾å¦ï¼whitespace tokenizeréå°ç©ºç½å­ç¬¦æ¶åå²ææ¬ãå®ä¼å°ææ¬"Quick brown fox!"åå²ä¸º[Quick,brown,fox!]\n\nElasticSearchæä¾äºå¾å¤åç½®çåè¯å¨ï¼æ ååè¯å¨ï¼ï¼å¯ä»¥ç¨æ¥æå»ºcustom analyzersï¼èªå®ä¹åè¯å¨ï¼ã\n\nå®æ¹ææ¡£ï¼https://www.elastic.co/guide/en/elasticsearch/reference/7.17/analysis.html\n\nPOST _analyze\n{\n  "analyzer": "standard",\n  "text": "The 2 Brown-Foxes bone."\n}\n\n\n1\n2\n3\n4\n5\n\n\næ§è¡ç»æï¼\n\n{\n  "tokens" : [\n    {\n      "token" : "the",\n      "start_offset" : 0,\n      "end_offset" : 3,\n      "type" : "<ALPHANUM>",\n      "position" : 0\n    },\n    {\n      "token" : "2",\n      "start_offset" : 4,\n      "end_offset" : 5,\n      "type" : "<NUM>",\n      "position" : 1\n    },\n    {\n      "token" : "brown",\n      "start_offset" : 6,\n      "end_offset" : 11,\n      "type" : "<ALPHANUM>",\n      "position" : 2\n    },\n    {\n      "token" : "foxes",\n      "start_offset" : 12,\n      "end_offset" : 17,\n      "type" : "<ALPHANUM>",\n      "position" : 3\n    },\n    {\n      "token" : "bone",\n      "start_offset" : 18,\n      "end_offset" : 22,\n      "type" : "<ALPHANUM>",\n      "position" : 4\n    }\n  ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n\n\nå¯¹äºä¸­æï¼æä»¬éè¦å®è£é¢å¤çåè¯å¨\n\n\n# å®è£IKåè¯å¨æä»¶\n\n * ä¸è½½å°åï¼https://github.com/medcl/elasticsearch-analysis-ik/releases\n\néè¦çæ¬å·å¯¹åº\n\n * åå»ºç®å½elasticsearch/plugins/ikï¼å¹¶å¨ç®å½ä¸è§£åï¼ä¹åéå¯\n * å¨å½ä»¤è¡æ§è¡elasticsearch-plugin listå½ä»¤ï¼ç¡®è®¤ikæä»¶å®è£æå\n\n\n# æµè¯åè¯å¨\n\nä½¿ç¨é»è®¤åè¯å¨\n\nGET _analyze\n{\n   "text":"ææ¯ä¸­å½äºº"\n}\n\n\n1\n2\n3\n4\n\n\nä½¿ç¨åè¯å¨\n\nGET _analyze\n{\n   "analyzer": "ik_smart", \n   "text":"ææ¯ä¸­å½äºº"\n}\n\n\n1\n2\n3\n4\n5\n\n\nå¦å¤ä¸ä¸ªåè¯å¨\n\nGET _analyze\n{\n   "analyzer": "ik_max_word", \n   "text":"ææ¯ä¸­å½äºº"\n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# èªå®ä¹è¯åº\n\n * ä¿®æ¹/elasticsearch/plugins/ik/configä¸­çIKAnalyzer.cfg.xml\n\næ ¹æ®èªå·±éæ±ä¿®æ¹ï¼å¦ææ¯éç½®èªå·±çæ©å±å­å¸ï¼æ¬å°ï¼ï¼åå¨ik/configç®å½ä¸æ°å»ºæä»¶\n\n<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">\n<properties>\n\t<comment>IK Analyzer æ©å±éç½®</comment>\n\t\x3c!--ç¨æ·å¯ä»¥å¨è¿ééç½®èªå·±çæ©å±å­å¸ --\x3e\n\t<entry key="ext_dict"></entry>\n\t \x3c!--ç¨æ·å¯ä»¥å¨è¿ééç½®èªå·±çæ©å±åæ­¢è¯å­å¸--\x3e\n\t<entry key="ext_stopwords"></entry>\n\t\x3c!--ç¨æ·å¯ä»¥å¨è¿ééç½®è¿ç¨æ©å±å­å¸ --\x3e\n\t<entry key="remote_ext_dict">http://192.168.56.10/es/fenci.txt</entry> \n\t\x3c!--ç¨æ·å¯ä»¥å¨è¿ééç½®è¿ç¨æ©å±åæ­¢è¯å­å¸--\x3e\n\t\x3c!-- <entry key="remote_ext_stopwords">words_location</entry> --\x3e\n</properties>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nä¿®æ¹å®æåï¼éè¦éå¯elasticsearchå®¹å¨ï¼å¦åä¿®æ¹ä¸çæã\n\næ´æ°å®æåï¼esåªä¼å¯¹äºæ°å¢çæ°æ®ç¨æ´æ°åè¯ã\n\nåå²æ°æ®æ¯ä¸ä¼éæ°åè¯çãå¦ææ³è¦åå²æ°æ®éæ°åè¯ï¼éè¦æ§è¡ï¼\n\nPOST my_index/_update_by_query?conflicts=proceed\n\n\n1\n\n\n\n# Elasticsearch-Rest-Client\n\njava-rest-highï¼https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high.html\n\nå®è£ï¼https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-getting-started-initialization.html\n\nä½¿ç¨apiï¼https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-document-index.html',normalizedContent:' * å®è£ikåè¯å¨æä»¶\n * æµè¯åè¯å¨\n * èªå®ä¹è¯åº\n * elasticsearch-rest-client\n\n\n\nä¸ä¸ªtokenizerï¼åè¯å¨ï¼æ¥æ¶ä¸ä¸ªå­ç¬¦æµï¼å°ä¹åå²ä¸ºç¬ç«çtokensï¼è¯åï¼éå¸¸æ¯ç¬ç«çåè¯ï¼ï¼ç¶åè¾åºtokensæµã\n\nä¾å¦ï¼whitespace tokenizeréå°ç©ºç½å­ç¬¦æ¶åå²ææ¬ãå®ä¼å°ææ¬"quick brown fox!"åå²ä¸º[quick,brown,fox!]\n\nelasticsearchæä¾äºå¾å¤åç½®çåè¯å¨ï¼æ ååè¯å¨ï¼ï¼å¯ä»¥ç¨æ¥æå»ºcustom analyzersï¼èªå®ä¹åè¯å¨ï¼ã\n\nå®æ¹ææ¡£ï¼https://www.elastic.co/guide/en/elasticsearch/reference/7.17/analysis.html\n\npost _analyze\n{\n  "analyzer": "standard",\n  "text": "the 2 brown-foxes bone."\n}\n\n\n1\n2\n3\n4\n5\n\n\næ§è¡ç»æï¼\n\n{\n  "tokens" : [\n    {\n      "token" : "the",\n      "start_offset" : 0,\n      "end_offset" : 3,\n      "type" : "<alphanum>",\n      "position" : 0\n    },\n    {\n      "token" : "2",\n      "start_offset" : 4,\n      "end_offset" : 5,\n      "type" : "<num>",\n      "position" : 1\n    },\n    {\n      "token" : "brown",\n      "start_offset" : 6,\n      "end_offset" : 11,\n      "type" : "<alphanum>",\n      "position" : 2\n    },\n    {\n      "token" : "foxes",\n      "start_offset" : 12,\n      "end_offset" : 17,\n      "type" : "<alphanum>",\n      "position" : 3\n    },\n    {\n      "token" : "bone",\n      "start_offset" : 18,\n      "end_offset" : 22,\n      "type" : "<alphanum>",\n      "position" : 4\n    }\n  ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n\n\nå¯¹äºä¸­æï¼æä»¬éè¦å®è£é¢å¤çåè¯å¨\n\n\n# å®è£ikåè¯å¨æä»¶\n\n * ä¸è½½å°åï¼https://github.com/medcl/elasticsearch-analysis-ik/releases\n\néè¦çæ¬å·å¯¹åº\n\n * åå»ºç®å½elasticsearch/plugins/ikï¼å¹¶å¨ç®å½ä¸è§£åï¼ä¹åéå¯\n * å¨å½ä»¤è¡æ§è¡elasticsearch-plugin listå½ä»¤ï¼ç¡®è®¤ikæä»¶å®è£æå\n\n\n# æµè¯åè¯å¨\n\nä½¿ç¨é»è®¤åè¯å¨\n\nget _analyze\n{\n   "text":"ææ¯ä¸­å½äºº"\n}\n\n\n1\n2\n3\n4\n\n\nä½¿ç¨åè¯å¨\n\nget _analyze\n{\n   "analyzer": "ik_smart", \n   "text":"ææ¯ä¸­å½äºº"\n}\n\n\n1\n2\n3\n4\n5\n\n\nå¦å¤ä¸ä¸ªåè¯å¨\n\nget _analyze\n{\n   "analyzer": "ik_max_word", \n   "text":"ææ¯ä¸­å½äºº"\n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# èªå®ä¹è¯åº\n\n * ä¿®æ¹/elasticsearch/plugins/ik/configä¸­çikanalyzer.cfg.xml\n\næ ¹æ®èªå·±éæ±ä¿®æ¹ï¼å¦ææ¯éç½®èªå·±çæ©å±å­å¸ï¼æ¬å°ï¼ï¼åå¨ik/configç®å½ä¸æ°å»ºæä»¶\n\n<?xml version="1.0" encoding="utf-8"?>\n<!doctype properties system "http://java.sun.com/dtd/properties.dtd">\n<properties>\n\t<comment>ik analyzer æ©å±éç½®</comment>\n\t\x3c!--ç¨æ·å¯ä»¥å¨è¿ééç½®èªå·±çæ©å±å­å¸ --\x3e\n\t<entry key="ext_dict"></entry>\n\t \x3c!--ç¨æ·å¯ä»¥å¨è¿ééç½®èªå·±çæ©å±åæ­¢è¯å­å¸--\x3e\n\t<entry key="ext_stopwords"></entry>\n\t\x3c!--ç¨æ·å¯ä»¥å¨è¿ééç½®è¿ç¨æ©å±å­å¸ --\x3e\n\t<entry key="remote_ext_dict">http://192.168.56.10/es/fenci.txt</entry> \n\t\x3c!--ç¨æ·å¯ä»¥å¨è¿ééç½®è¿ç¨æ©å±åæ­¢è¯å­å¸--\x3e\n\t\x3c!-- <entry key="remote_ext_stopwords">words_location</entry> --\x3e\n</properties>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nä¿®æ¹å®æåï¼éè¦éå¯elasticsearchå®¹å¨ï¼å¦åä¿®æ¹ä¸çæã\n\næ´æ°å®æåï¼esåªä¼å¯¹äºæ°å¢çæ°æ®ç¨æ´æ°åè¯ã\n\nåå²æ°æ®æ¯ä¸ä¼éæ°åè¯çãå¦ææ³è¦åå²æ°æ®éæ°åè¯ï¼éè¦æ§è¡ï¼\n\npost my_index/_update_by_query?conflicts=proceed\n\n\n1\n\n\n\n# elasticsearch-rest-client\n\njava-rest-highï¼https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high.html\n\nå®è£ï¼https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-getting-started-initialization.html\n\nä½¿ç¨apiï¼https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-document-index.html',charsets:{cjk:!0},lastUpdated:"2022/08/07, 3:08:00",lastUpdatedTimestamp:1659842691e3},{title:"Mongo - åºç¡æ¦å¿µ",frontmatter:{title:"Mongo - åºç¡æ¦å¿µ",date:"2021-09-11T10:39:30.000Z",permalink:"/pages/34c4ae/"},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/20.MongoDB/05.Mongo%20-%20%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5.html",relativePath:"03.æ°æ®åº/20.MongoDB/05.Mongo - åºç¡æ¦å¿µ.md",key:"v-7a59e988",path:"/pages/34c4ae/",headers:[{level:2,title:"ä»ä¹æ¯NoSQLï¼",slug:"ä»ä¹æ¯nosql",normalizedTitle:"ä»ä¹æ¯nosqlï¼",charIndex:2},{level:3,title:"ä¸ºä»ä¹ä½¿ç¨NoSQLï¼",slug:"ä¸ºä»ä¹ä½¿ç¨nosql",normalizedTitle:"ä¸ºä»ä¹ä½¿ç¨nosqlï¼",charIndex:315},{level:3,title:"NoSQLæ°æ®åºçç®è¦åå²",slug:"nosqlæ°æ®åºçç®è¦åå²",normalizedTitle:"nosqlæ°æ®åºçç®è¦åå²",charIndex:553},{level:3,title:"NoSQLçåè½",slug:"nosqlçåè½",normalizedTitle:"nosqlçåè½",charIndex:769},{level:2,title:"ä»ä¹æ¯MongoDB",slug:"ä»ä¹æ¯mongodb",normalizedTitle:"ä»ä¹æ¯mongodb",charIndex:1268},{level:3,title:"ä¸å¡åºæ¯",slug:"ä¸å¡åºæ¯",normalizedTitle:"ä¸å¡åºæ¯",charIndex:1356},{level:3,title:"MongoDB ç®ä»",slug:"mongodb-ç®ä»",normalizedTitle:"mongodb ç®ä»",charIndex:2417},{level:3,title:"MongoDBä¸RDBMSåºå«",slug:"mongodbä¸rdbmsåºå«",normalizedTitle:"mongodbä¸rdbmsåºå«",charIndex:2801},{level:3,title:"æ°æ®æ¨¡å",slug:"æ°æ®æ¨¡å",normalizedTitle:"æ°æ®æ¨¡å",charIndex:2136},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:3797}],headersStr:"ä»ä¹æ¯NoSQLï¼ ä¸ºä»ä¹ä½¿ç¨NoSQLï¼ NoSQLæ°æ®åºçç®è¦åå² NoSQLçåè½ ä»ä¹æ¯MongoDB ä¸å¡åºæ¯ MongoDB ç®ä» MongoDBä¸RDBMSåºå« æ°æ®æ¨¡å åèèµæ",content:"# ä»ä¹æ¯NoSQLï¼\n\nNoSQLæ¯ä¸ç§éå³ç³»åDMSï¼ä¸éè¦åºå®çæ¶æï¼å¯ä»¥é¿åjoinsé¾æ¥ï¼å¹¶ä¸æäºæ©å±ãNoSQLæ°æ®åºç¨äºå·æåºå¤§æ°æ®å­å¨éæ±çåå¸å¼æ°æ®å­å¨ãNoSQLç¨äºå¤§æ°æ®åå®æ¶Webåºç¨ç¨åºãä¾å¦ï¼åTwitterï¼Facebookï¼Googleè¿æ ·çå¤§åå¬å¸ï¼æ¯å¤©å¯è½äº§çTBçº§çç¨æ·æ°æ®ã\n\nNoSQLæ°æ®åºä»£è¡¨âä¸ä»ä»æ¯SQLâæâä¸æ¯SQLâãè½ç¶NoRELNoSQLä¼æ¯ä¸ä¸ªæ´å¥½çåè¯ãCarl Strozzå¨1998å¹´å¼å¥äºNoSQLæ¦å¿µã\n\nä¼ ç»çRDBMSä½¿ç¨SQLè¯­æ³æ¥å­å¨åæ¥è¯¢æ°æ®ãç¸åï¼NoSQLæ°æ®åºç³»ç»åå«å¯å­å¨ç»æåï¼åç»æåï¼éç»æååå¤ææ°æ®çå¤ç§æ°æ®åºææ¯ã\n\n\n\n\n# ä¸ºä»ä¹ä½¿ç¨NoSQLï¼\n\nNoSQLæ°æ®åºçæ¦å¿µå¨å¤çå¤§éæ°æ®çäºèç½å·¨å¤´ï¼ä¾å¦Googleï¼Facebookï¼Amazonç­ï¼ä¸­åå¾å¾æµè¡ãä½¿ç¨RDBMSå¤çæµ·éæ°æ®æ¶ï¼ç³»ç»ååºæ¶é´åæ¢ã\n\nä¸ºäºè§£å³æ­¤é®é¢ï¼å½ç¶å¯ä»¥éè¿åçº§ç°æç¡¬ä»¶æ¥âæ¨ªåæ©å±âæä»¬çç³»ç»ãä½è¿ä¸ªææ¬å¾é«ã\n\nè¿ä¸ªé®é¢çæ¿ä»£æ¹æ¡æ¯å¨è´è½½å¢å æ¶å°æ°æ®åºè´è½½åéå°å¤ä¸ªä¸»æºä¸ãè¿ç§æ¹æ³ç§°ä¸ºâæ¨ªåæ©å±âã\n\n\n\nNoSQLæ°æ®åºæ¯éå³ç³»æ°æ®åºï¼å æ­¤å¨è®¾è®¡æ¶èèå°Webåºç¨ç¨åºï¼æ¯å³ç³»æ°æ®åºæ´å¥½å°æ©å±ã\n\n\n# NoSQLæ°æ®åºçç®è¦åå²\n\n * 1998å¹´-Carlo Strozziå¨ä»çè½»éçº§å¼æºå³ç³»æ°æ®åºä¸­ä½¿ç¨æ¯è¯­NoSQL\n * 2000-å¾å½¢æ°æ®åºNeo4jå¯å¨\n * 2004å¹´-æ¨åºGoogle BigTable\n * 2005å¹´-å¯å¨CouchDB\n * 2007å¹´-åå¸æå³Amazon Dynamoçç ç©¶è®ºæ\n * 2008å¹´-Facebookå¼æºCassandraé¡¹ç®\n * 2009å¹´-éæ°å¼å¥NoSQLæ¯è¯­\n\n\n# NoSQLçåè½\n\néå³ç³»\n\n * NoSQLæ°æ®åºä»ä¸éµå¾ªå³ç³»æ¨¡å\n * åå¿ä¸ºtables æä¾åºå®çåºå®åè®°å½\n * ä½¿ç¨èªåå«çèåæBLOB\n * ä¸éè¦å¯¹è±¡å³ç³»æ å°åæ°æ®è§èå\n * æ²¡æå¤æçåè½ï¼ä¾å¦æ¥è¯¢è¯­è¨ï¼æ¥è¯¢è®¡åèï¼\n * åç§å®æ´æ§èæ¥ï¼ACID\n\nå¨ææ¶æ\n\n * NoSQLæ°æ®åºæ¯æ æ¨¡å¼çæå·æå®½æ¾æ¨¡å¼çæ°æ®åº\n * ä¸éè¦å¯¹æ°æ®æ¶æè¿è¡ä»»ä½å½¢å¼çå®ä¹\n * æä¾åä¸åä¸­çå¼ææ°æ®ç»æ\n\n\n\nç®åçAPI\n\n * æä¾æäºä½¿ç¨ççé¢ï¼ç¨äºå­å¨åæ¥è¯¢æä¾çæ°æ®\n * APIåè®¸è¿è¡ä½çº§æ°æ®æä½åéæ©æ¹æ³\n * åºäºææ¬çåè®®ï¼éå¸¸ä¸å¸¦æJSONçHTTP RESTä¸èµ·ä½¿ç¨\n * å¤æ°ä¸ä½¿ç¨åºäºæ åçæ¥è¯¢è¯­è¨\n * æ¯æWebçæ°æ®åºä½ä¸ºé¢åäºèç½çæå¡è¿è¡\n\nåå¸å¼\n\n * å¯ä»¥ä»¥åå¸å¼æ¹å¼æ§è¡å¤ä¸ªNoSQLæ°æ®åº\n * æä¾èªå¨ç¼©æ¾åæéè½¬ç§»åè½\n * éå¸¸å¯çºç²ACIDæ¦å¿µæ¥å®ç°å¯ä¼¸ç¼©æ§åååé\n * åå¸å¼èç¹ä¹é´å ä¹æ²¡æåæ­¥å¤å¶ï¼å¤ä¸ºå¼æ­¥å¤ä¸»å¤å¶ï¼å¯¹ç­ï¼HDFSå¤å¶\n * ä»æä¾æç»çä¸è´æ§\n * æ å±äº«æ¶æãè¿æ ·å¯ä»¥åå°åè°å¹¶æé«åå¸\n\n\n\n\n# ä»ä¹æ¯MongoDB\n\nMongoDBæ¯é¢åææ¡£çNoSQLæ°æ®åºï¼ç¨äºå¤§éæ°æ®å­å¨ãMongoDBæ¯ä¸ä¸ªå¨2000å¹´ä»£ä¸­æé®ä¸çæ°æ®åºãå±äºNoSQLæ°æ®åºçç±»å«ã\n\n\n# ä¸å¡åºæ¯\n\nä¼ ç»çå³ç³»åæ°æ®åº (æ¯å¦ MySQL), å¨æ°æ®æä½çâä¸é«âéæ±ä»¥åå¯¹åºç Web 2.0 ç½ç«éæ±é¢å, ä¼æâåä¸ä»å¿âçæè§\n\næè°çä¸é«éæ±:\n\né«å¹¶å, é«æ§è½, é«å¯ç¨, ç®ç§°ä¸é«\n\n * High Performance: å¯¹æ°æ®åºçé«å¹¶åè¯»åçè¦æ±\n * High Storage: å¯¹æµ·éæ°æ®çé«æçå­å¨åè®¿é®çéæ±\n * High Scalability && High Available: å¯¹æ°æ®çé«æ©å±æ§åé«å¯ç¨æ§çéæ±\n\nè MongoDB å¯ä»¥åºå¯¹ä¸é«éæ±\n\nå·ä½çåºç¨åºæ¯:\n\n * ç¤¾äº¤åºæ¯, ä½¿ç¨ MongoDB å­å¨å­å¨ç¨æ·ä¿¡æ¯, ä»¥åç¨æ·åè¡¨çæååä¿¡æ¯, éè¿å°çä½ç½®ç´¢å¼å®ç°éè¿çäºº, å°ç¹ç­åè½.\n * æ¸¸æåºæ¯, ä½¿ç¨ MongoDB å­å¨æ¸¸æç¨æ·ä¿¡æ¯, ç¨æ·çè£å¤, ç§¯åç­ç´æ¥ä»¥ååµææ¡£çå½¢å¼å­å¨, æ¹ä¾¿æ¥è¯¢, é«æçå­å¨åè®¿é®.\n * ç©æµåºæ¯, ä½¿ç¨ MongoDB å­å¨è®¢åä¿¡æ¯, è®¢åç¶æå¨è¿éè¿ç¨ä¸­ä¼ä¸æ­æ´æ°, ä»¥ MongoDB ååµæ°ç»çå½¢å¼æ¥å­å¨, ä¸æ¬¡æ¥è¯¢å°±è½å°è®¢åææçåæ´è¯»ååºæ¥.\n * ç©èç½åºæ¯, ä½¿ç¨ MongoDB å­å¨æææ¥å¥çæºè½è®¾å¤ä¿¡æ¯, ä»¥åè®¾å¤æ±æ¥çæ¥å¿ä¿¡æ¯, å¹¶å¯¹è¿äºä¿¡æ¯è¿è¡å¤ç»´åº¦çåæ.\n * è§é¢ç´æ­, ä½¿ç¨ MongoDB å­å¨ç¨æ·ä¿¡æ¯, ç¹èµäºå¨ä¿¡æ¯ç­.\n\nè¿äºåºç¨åºæ¯ä¸­, æ°æ®æä½æ¹é¢çå±åç¹æ:\n\n 1. æ°æ®éå¤§\n 2. åå¥æä½é¢ç¹\n 3. ä»·å¼è¾ä½çæ°æ®, å¯¹äºå¡æ§è¦æ±ä¸é«\n\nå¯¹äºè¿æ ·çæ°æ®, æ´éåç¨ MongoDB æ¥å®ç°æ°æ®å­å¨\n\né£ä¹æä»¬ä»ä¹æ¶åéæ© MongoDB å¢?\n\né¤äºæ¶æéåä¸, é¤äºä¸è¿°ä¸ä¸ªç¹ç¹ä¹å¤, è¿è¦èèä¸é¢è¿äºé®é¢:\n\n * åºç¨ä¸éè¦äºå¡åå¤æ JOIN æ¯æ\n * æ°åºç¨, éæ±ä¼å, æ°æ®æ¨¡åæ æ³ç¡®å®, æ³å¿«éè¿­ä»£å¼å\n * åºç¨éè¦ 2000 - 3000 ä»¥ä¸çè¯»åQPSï¼æ´é«ä¹å¯ä»¥ï¼\n * åºç¨éè¦ TB çè³ PB çº§å«æ°æ®å­å¨\n * åºç¨åå±è¿é, éè¦è½å¿«éæ°´å¹³æ©å±\n * åºç¨è¦æ±å­å¨çæ°æ®ä¸ä¸¢å¤±\n * åºç¨éè¦ 99.999% é«å¯ç¨\n * åºç¨éè¦å¤§éçå°çä½ç½®æ¥è¯¢, ææ¬æ¥è¯¢\n\nå¦æä¸è¿°æ1ä¸ªç¬¦å, å¯ä»¥èè MongoDB, 2ä¸ªåä»¥ä¸çç¬¦å, éæ© MongoDB ç»ä¸ä¼åæ.\n\n> å¦æç¨MySQLå¢?\n> \n> ç¸å¯¹MySQL, MongoDBå¯ä»¥ä»¥æ´ä½çææ¬è§£å³é®é¢ï¼åæ¬å­¦ä¹ , å¼å, è¿ç»´ç­ææ¬ï¼\n\n\n# MongoDB ç®ä»\n\nMongoDBæ¯ä¸ä¸ªå¼æºï¼ é«æ§è½ï¼æ æ¨¡å¼çææ¡£åæ°æ®åºï¼å½åçè®¾è®¡å°±æ¯ç¨äºç®åå¼ååæ¹ä¾¿æ©å±ï¼æ¯NoSQLæ°æ®åºäº§åä¸­çä¸ç§ãæ¯æåå³ç³»åæ°æ®åºï¼MySQLï¼çéå³ç³»åæ°æ®åºã å®æ¯æçæ°æ®ç»æéå¸¸æ¾æ£ï¼æ¯ä¸ç§ç±»ä¼¼äº JSON ç æ ¼å¼å«BSONï¼ æä»¥å®æ¢å¯ä»¥å­å¨æ¯è¾å¤æçæ°æ®ç±»åï¼ åç¸å½ççµæ´»ãMongoDBä¸­çè®°å½æ¯ä¸ä¸ªææ¡£ï¼å®æ¯ä¸ä¸ªç±å­æ®µåå¼å¯¹ï¼ï¬eld:valueï¼ç»æçæ°æ®ç»æãMongoDBææ¡£ç±»ä¼¼äºJSONå¯¹è±¡ï¼å³ä¸ä¸ªææ¡£è®¤ ä¸ºå°±æ¯ä¸ä¸ªå¯¹è±¡ãå­æ®µçæ°æ®ç±»åæ¯å­ç¬¦åï¼ å®çå¼é¤äºä½¿ç¨åºæ¬çä¸äºç±»åå¤, è¿å¯ä»¥åæ¬å¶ä»ææ¡£ï¼ æ®éæ°ç»åææ¡£æ°ç»ã\n\nMongoDB æ°æ®æ¨¡åæ¯é¢åææ¡£ç, æè°ææ¡£å°±æ¯ä¸ç§ç±»ä¼¼äº JSON çç»æ, ç®åçè§£ MongoDB è¿ä¸ªæ°æ®åºä¸­å­å¨çæ¯åç§åæ ·ç JSONï¼BSONï¼\n\n\n# MongoDBä¸RDBMSåºå«\n\nä¸è¡¨å°å¸®å©æ¨æ´å®¹æçè§£Mongoä¸­çä¸äºæ¦å¿µï¼\n\nSQLæ¯è¯­/æ¦å¿µ      MONGODBæ¯è¯­/æ¦å¿µ   è§£é/è¯´æ\ndatabase      database       æ°æ®åº\ntable         collection     æ°æ®åºè¡¨/éå\nrow           document       æ°æ®è®°å½è¡/ææ¡£\ncolumn        field          æ°æ®å­æ®µ/å\nindex         index          ç´¢å¼\ntable joins                  è¡¨è¿æ¥,MongoDBä¸æ¯æ\nprimary key   primary key    ä¸»é®,MongoDBèªå¨å°_idå­æ®µè®¾ç½®ä¸ºä¸»é®\n\n\n\nå¨ MongoDB ä¸­, æ°æ®åºåéåé½ä¸éè¦æå¨åå»º, å½æä»¬åå»ºææ¡£æ¶, å¦æææ¡£æå¨çéåæèæ°æ®åºä¸å­å¨, åä¼èªå¨åå»ºæ°æ®åºæèéå\n\n\n# æ°æ®æ¨¡å\n\nMongoDBçæå°å­å¨åä½å°±æ¯ææ¡£(document)å¯¹è±¡ãææ¡£(document)å¯¹è±¡å¯¹åºäºå³ç³»åæ°æ®åºçè¡ãæ°æ®å¨MongoDBä¸­ä»¥ BSONï¼Binary-JSONï¼ææ¡£çæ ¼å¼å­å¨å¨ç£çä¸ã\n\nBSONï¼Binary Serialized Document Formatï¼æ¯ä¸ç§ç±»jsonçä¸ç§äºè¿å¶å½¢å¼çå­å¨æ ¼å¼ï¼ç®ç§°Binary JSONãBSONåJSONä¸æ ·ï¼æ¯æ ååµçææ¡£å¯¹è±¡åæ°ç»å¯¹è±¡ï¼ä½æ¯BSONæJSONæ²¡æçä¸äºæ°æ®ç±»åï¼å¦DateåBinDataç±»åã\n\nBSONéç¨äºç±»ä¼¼äº C è¯­è¨ç»æä½çåç§°ãå¯¹è¡¨ç¤ºæ¹æ³ï¼æ¯æååµçææ¡£å¯¹è±¡åæ°ç»å¯¹è±¡ï¼å·æè½»éæ§ãå¯éåæ§ãé«ææ§çä¸ä¸ªç¹ç¹ï¼å¯ ä»¥æææè¿°éç»æåæ°æ®åç»æåæ°æ®ãè¿ç§æ ¼å¼çä¼ç¹æ¯çµæ´»æ§é«ï¼ä½å®çç¼ºç¹æ¯ç©ºé´å©ç¨çä¸æ¯å¾çæ³ã\n\nBsonä¸­ï¼é¤äºåºæ¬çJSONç±»åï¼string,integer,boolean,double,null,arrayåobjectï¼mongoè¿ä½¿ç¨äºç¹æ®çæ°æ®ç±»åãè¿äºç±»ååæ¬ date,object id,binary data,regular expression åcodeãæ¯ä¸ä¸ªé©±å¨é½ä»¥ç¹å®è¯­è¨çæ¹å¼å®ç°äºè¿äºç±»åï¼æ¥çä½ çé©±å¨çææ¡£æ¥è·åè¯¦ç»ä¿¡æ¯ã\n\nBSONæ°æ®ç±»ååèåè¡¨ï¼\n\n\n\n\n# åèèµæ\n\n * https://www.pdai.tech/md/db/nosql-mongo/mongo-x-basic.html\n * https://zhenye-na.github.io/2020/01/27/intro-to-mongodb.html\n * https://gitee.com/heguangchuan/rainmeter/blob/master/document/mongodb/01-æ¦è¿°.md",normalizedContent:"# ä»ä¹æ¯nosqlï¼\n\nnosqlæ¯ä¸ç§éå³ç³»ådmsï¼ä¸éè¦åºå®çæ¶æï¼å¯ä»¥é¿åjoinsé¾æ¥ï¼å¹¶ä¸æäºæ©å±ãnosqlæ°æ®åºç¨äºå·æåºå¤§æ°æ®å­å¨éæ±çåå¸å¼æ°æ®å­å¨ãnosqlç¨äºå¤§æ°æ®åå®æ¶webåºç¨ç¨åºãä¾å¦ï¼åtwitterï¼facebookï¼googleè¿æ ·çå¤§åå¬å¸ï¼æ¯å¤©å¯è½äº§çtbçº§çç¨æ·æ°æ®ã\n\nnosqlæ°æ®åºä»£è¡¨âä¸ä»ä»æ¯sqlâæâä¸æ¯sqlâãè½ç¶norelnosqlä¼æ¯ä¸ä¸ªæ´å¥½çåè¯ãcarl strozzå¨1998å¹´å¼å¥äºnosqlæ¦å¿µã\n\nä¼ ç»çrdbmsä½¿ç¨sqlè¯­æ³æ¥å­å¨åæ¥è¯¢æ°æ®ãç¸åï¼nosqlæ°æ®åºç³»ç»åå«å¯å­å¨ç»æåï¼åç»æåï¼éç»æååå¤ææ°æ®çå¤ç§æ°æ®åºææ¯ã\n\n\n\n\n# ä¸ºä»ä¹ä½¿ç¨nosqlï¼\n\nnosqlæ°æ®åºçæ¦å¿µå¨å¤çå¤§éæ°æ®çäºèç½å·¨å¤´ï¼ä¾å¦googleï¼facebookï¼amazonç­ï¼ä¸­åå¾å¾æµè¡ãä½¿ç¨rdbmså¤çæµ·éæ°æ®æ¶ï¼ç³»ç»ååºæ¶é´åæ¢ã\n\nä¸ºäºè§£å³æ­¤é®é¢ï¼å½ç¶å¯ä»¥éè¿åçº§ç°æç¡¬ä»¶æ¥âæ¨ªåæ©å±âæä»¬çç³»ç»ãä½è¿ä¸ªææ¬å¾é«ã\n\nè¿ä¸ªé®é¢çæ¿ä»£æ¹æ¡æ¯å¨è´è½½å¢å æ¶å°æ°æ®åºè´è½½åéå°å¤ä¸ªä¸»æºä¸ãè¿ç§æ¹æ³ç§°ä¸ºâæ¨ªåæ©å±âã\n\n\n\nnosqlæ°æ®åºæ¯éå³ç³»æ°æ®åºï¼å æ­¤å¨è®¾è®¡æ¶èèå°webåºç¨ç¨åºï¼æ¯å³ç³»æ°æ®åºæ´å¥½å°æ©å±ã\n\n\n# nosqlæ°æ®åºçç®è¦åå²\n\n * 1998å¹´-carlo strozziå¨ä»çè½»éçº§å¼æºå³ç³»æ°æ®åºä¸­ä½¿ç¨æ¯è¯­nosql\n * 2000-å¾å½¢æ°æ®åºneo4jå¯å¨\n * 2004å¹´-æ¨åºgoogle bigtable\n * 2005å¹´-å¯å¨couchdb\n * 2007å¹´-åå¸æå³amazon dynamoçç ç©¶è®ºæ\n * 2008å¹´-facebookå¼æºcassandraé¡¹ç®\n * 2009å¹´-éæ°å¼å¥nosqlæ¯è¯­\n\n\n# nosqlçåè½\n\néå³ç³»\n\n * nosqlæ°æ®åºä»ä¸éµå¾ªå³ç³»æ¨¡å\n * åå¿ä¸ºtables æä¾åºå®çåºå®åè®°å½\n * ä½¿ç¨èªåå«çèåæblob\n * ä¸éè¦å¯¹è±¡å³ç³»æ å°åæ°æ®è§èå\n * æ²¡æå¤æçåè½ï¼ä¾å¦æ¥è¯¢è¯­è¨ï¼æ¥è¯¢è®¡åèï¼\n * åç§å®æ´æ§èæ¥ï¼acid\n\nå¨ææ¶æ\n\n * nosqlæ°æ®åºæ¯æ æ¨¡å¼çæå·æå®½æ¾æ¨¡å¼çæ°æ®åº\n * ä¸éè¦å¯¹æ°æ®æ¶æè¿è¡ä»»ä½å½¢å¼çå®ä¹\n * æä¾åä¸åä¸­çå¼ææ°æ®ç»æ\n\n\n\nç®åçapi\n\n * æä¾æäºä½¿ç¨ççé¢ï¼ç¨äºå­å¨åæ¥è¯¢æä¾çæ°æ®\n * apiåè®¸è¿è¡ä½çº§æ°æ®æä½åéæ©æ¹æ³\n * åºäºææ¬çåè®®ï¼éå¸¸ä¸å¸¦æjsonçhttp restä¸èµ·ä½¿ç¨\n * å¤æ°ä¸ä½¿ç¨åºäºæ åçæ¥è¯¢è¯­è¨\n * æ¯æwebçæ°æ®åºä½ä¸ºé¢åäºèç½çæå¡è¿è¡\n\nåå¸å¼\n\n * å¯ä»¥ä»¥åå¸å¼æ¹å¼æ§è¡å¤ä¸ªnosqlæ°æ®åº\n * æä¾èªå¨ç¼©æ¾åæéè½¬ç§»åè½\n * éå¸¸å¯çºç²acidæ¦å¿µæ¥å®ç°å¯ä¼¸ç¼©æ§åååé\n * åå¸å¼èç¹ä¹é´å ä¹æ²¡æåæ­¥å¤å¶ï¼å¤ä¸ºå¼æ­¥å¤ä¸»å¤å¶ï¼å¯¹ç­ï¼hdfså¤å¶\n * ä»æä¾æç»çä¸è´æ§\n * æ å±äº«æ¶æãè¿æ ·å¯ä»¥åå°åè°å¹¶æé«åå¸\n\n\n\n\n# ä»ä¹æ¯mongodb\n\nmongodbæ¯é¢åææ¡£çnosqlæ°æ®åºï¼ç¨äºå¤§éæ°æ®å­å¨ãmongodbæ¯ä¸ä¸ªå¨2000å¹´ä»£ä¸­æé®ä¸çæ°æ®åºãå±äºnosqlæ°æ®åºçç±»å«ã\n\n\n# ä¸å¡åºæ¯\n\nä¼ ç»çå³ç³»åæ°æ®åº (æ¯å¦ mysql), å¨æ°æ®æä½çâä¸é«âéæ±ä»¥åå¯¹åºç web 2.0 ç½ç«éæ±é¢å, ä¼æâåä¸ä»å¿âçæè§\n\næè°çä¸é«éæ±:\n\né«å¹¶å, é«æ§è½, é«å¯ç¨, ç®ç§°ä¸é«\n\n * high performance: å¯¹æ°æ®åºçé«å¹¶åè¯»åçè¦æ±\n * high storage: å¯¹æµ·éæ°æ®çé«æçå­å¨åè®¿é®çéæ±\n * high scalability && high available: å¯¹æ°æ®çé«æ©å±æ§åé«å¯ç¨æ§çéæ±\n\nè mongodb å¯ä»¥åºå¯¹ä¸é«éæ±\n\nå·ä½çåºç¨åºæ¯:\n\n * ç¤¾äº¤åºæ¯, ä½¿ç¨ mongodb å­å¨å­å¨ç¨æ·ä¿¡æ¯, ä»¥åç¨æ·åè¡¨çæååä¿¡æ¯, éè¿å°çä½ç½®ç´¢å¼å®ç°éè¿çäºº, å°ç¹ç­åè½.\n * æ¸¸æåºæ¯, ä½¿ç¨ mongodb å­å¨æ¸¸æç¨æ·ä¿¡æ¯, ç¨æ·çè£å¤, ç§¯åç­ç´æ¥ä»¥ååµææ¡£çå½¢å¼å­å¨, æ¹ä¾¿æ¥è¯¢, é«æçå­å¨åè®¿é®.\n * ç©æµåºæ¯, ä½¿ç¨ mongodb å­å¨è®¢åä¿¡æ¯, è®¢åç¶æå¨è¿éè¿ç¨ä¸­ä¼ä¸æ­æ´æ°, ä»¥ mongodb ååµæ°ç»çå½¢å¼æ¥å­å¨, ä¸æ¬¡æ¥è¯¢å°±è½å°è®¢åææçåæ´è¯»ååºæ¥.\n * ç©èç½åºæ¯, ä½¿ç¨ mongodb å­å¨æææ¥å¥çæºè½è®¾å¤ä¿¡æ¯, ä»¥åè®¾å¤æ±æ¥çæ¥å¿ä¿¡æ¯, å¹¶å¯¹è¿äºä¿¡æ¯è¿è¡å¤ç»´åº¦çåæ.\n * è§é¢ç´æ­, ä½¿ç¨ mongodb å­å¨ç¨æ·ä¿¡æ¯, ç¹èµäºå¨ä¿¡æ¯ç­.\n\nè¿äºåºç¨åºæ¯ä¸­, æ°æ®æä½æ¹é¢çå±åç¹æ:\n\n 1. æ°æ®éå¤§\n 2. åå¥æä½é¢ç¹\n 3. ä»·å¼è¾ä½çæ°æ®, å¯¹äºå¡æ§è¦æ±ä¸é«\n\nå¯¹äºè¿æ ·çæ°æ®, æ´éåç¨ mongodb æ¥å®ç°æ°æ®å­å¨\n\né£ä¹æä»¬ä»ä¹æ¶åéæ© mongodb å¢?\n\né¤äºæ¶æéåä¸, é¤äºä¸è¿°ä¸ä¸ªç¹ç¹ä¹å¤, è¿è¦èèä¸é¢è¿äºé®é¢:\n\n * åºç¨ä¸éè¦äºå¡åå¤æ join æ¯æ\n * æ°åºç¨, éæ±ä¼å, æ°æ®æ¨¡åæ æ³ç¡®å®, æ³å¿«éè¿­ä»£å¼å\n * åºç¨éè¦ 2000 - 3000 ä»¥ä¸çè¯»åqpsï¼æ´é«ä¹å¯ä»¥ï¼\n * åºç¨éè¦ tb çè³ pb çº§å«æ°æ®å­å¨\n * åºç¨åå±è¿é, éè¦è½å¿«éæ°´å¹³æ©å±\n * åºç¨è¦æ±å­å¨çæ°æ®ä¸ä¸¢å¤±\n * åºç¨éè¦ 99.999% é«å¯ç¨\n * åºç¨éè¦å¤§éçå°çä½ç½®æ¥è¯¢, ææ¬æ¥è¯¢\n\nå¦æä¸è¿°æ1ä¸ªç¬¦å, å¯ä»¥èè mongodb, 2ä¸ªåä»¥ä¸çç¬¦å, éæ© mongodb ç»ä¸ä¼åæ.\n\n> å¦æç¨mysqlå¢?\n> \n> ç¸å¯¹mysql, mongodbå¯ä»¥ä»¥æ´ä½çææ¬è§£å³é®é¢ï¼åæ¬å­¦ä¹ , å¼å, è¿ç»´ç­ææ¬ï¼\n\n\n# mongodb ç®ä»\n\nmongodbæ¯ä¸ä¸ªå¼æºï¼ é«æ§è½ï¼æ æ¨¡å¼çææ¡£åæ°æ®åºï¼å½åçè®¾è®¡å°±æ¯ç¨äºç®åå¼ååæ¹ä¾¿æ©å±ï¼æ¯nosqlæ°æ®åºäº§åä¸­çä¸ç§ãæ¯æåå³ç³»åæ°æ®åºï¼mysqlï¼çéå³ç³»åæ°æ®åºã å®æ¯æçæ°æ®ç»æéå¸¸æ¾æ£ï¼æ¯ä¸ç§ç±»ä¼¼äº json ç æ ¼å¼å«bsonï¼ æä»¥å®æ¢å¯ä»¥å­å¨æ¯è¾å¤æçæ°æ®ç±»åï¼ åç¸å½ççµæ´»ãmongodbä¸­çè®°å½æ¯ä¸ä¸ªææ¡£ï¼å®æ¯ä¸ä¸ªç±å­æ®µåå¼å¯¹ï¼ï¬eld:valueï¼ç»æçæ°æ®ç»æãmongodbææ¡£ç±»ä¼¼äºjsonå¯¹è±¡ï¼å³ä¸ä¸ªææ¡£è®¤ ä¸ºå°±æ¯ä¸ä¸ªå¯¹è±¡ãå­æ®µçæ°æ®ç±»åæ¯å­ç¬¦åï¼ å®çå¼é¤äºä½¿ç¨åºæ¬çä¸äºç±»åå¤, è¿å¯ä»¥åæ¬å¶ä»ææ¡£ï¼ æ®éæ°ç»åææ¡£æ°ç»ã\n\nmongodb æ°æ®æ¨¡åæ¯é¢åææ¡£ç, æè°ææ¡£å°±æ¯ä¸ç§ç±»ä¼¼äº json çç»æ, ç®åçè§£ mongodb è¿ä¸ªæ°æ®åºä¸­å­å¨çæ¯åç§åæ ·ç jsonï¼bsonï¼\n\n\n# mongodbä¸rdbmsåºå«\n\nä¸è¡¨å°å¸®å©æ¨æ´å®¹æçè§£mongoä¸­çä¸äºæ¦å¿µï¼\n\nsqlæ¯è¯­/æ¦å¿µ      mongodbæ¯è¯­/æ¦å¿µ   è§£é/è¯´æ\ndatabase      database       æ°æ®åº\ntable         collection     æ°æ®åºè¡¨/éå\nrow           document       æ°æ®è®°å½è¡/ææ¡£\ncolumn        field          æ°æ®å­æ®µ/å\nindex         index          ç´¢å¼\ntable joins                  è¡¨è¿æ¥,mongodbä¸æ¯æ\nprimary key   primary key    ä¸»é®,mongodbèªå¨å°_idå­æ®µè®¾ç½®ä¸ºä¸»é®\n\n\n\nå¨ mongodb ä¸­, æ°æ®åºåéåé½ä¸éè¦æå¨åå»º, å½æä»¬åå»ºææ¡£æ¶, å¦æææ¡£æå¨çéåæèæ°æ®åºä¸å­å¨, åä¼èªå¨åå»ºæ°æ®åºæèéå\n\n\n# æ°æ®æ¨¡å\n\nmongodbçæå°å­å¨åä½å°±æ¯ææ¡£(document)å¯¹è±¡ãææ¡£(document)å¯¹è±¡å¯¹åºäºå³ç³»åæ°æ®åºçè¡ãæ°æ®å¨mongodbä¸­ä»¥ bsonï¼binary-jsonï¼ææ¡£çæ ¼å¼å­å¨å¨ç£çä¸ã\n\nbsonï¼binary serialized document formatï¼æ¯ä¸ç§ç±»jsonçä¸ç§äºè¿å¶å½¢å¼çå­å¨æ ¼å¼ï¼ç®ç§°binary jsonãbsonåjsonä¸æ ·ï¼æ¯æ ååµçææ¡£å¯¹è±¡åæ°ç»å¯¹è±¡ï¼ä½æ¯bsonæjsonæ²¡æçä¸äºæ°æ®ç±»åï¼å¦dateåbindataç±»åã\n\nbsonéç¨äºç±»ä¼¼äº c è¯­è¨ç»æä½çåç§°ãå¯¹è¡¨ç¤ºæ¹æ³ï¼æ¯æååµçææ¡£å¯¹è±¡åæ°ç»å¯¹è±¡ï¼å·æè½»éæ§ãå¯éåæ§ãé«ææ§çä¸ä¸ªç¹ç¹ï¼å¯ ä»¥æææè¿°éç»æåæ°æ®åç»æåæ°æ®ãè¿ç§æ ¼å¼çä¼ç¹æ¯çµæ´»æ§é«ï¼ä½å®çç¼ºç¹æ¯ç©ºé´å©ç¨çä¸æ¯å¾çæ³ã\n\nbsonä¸­ï¼é¤äºåºæ¬çjsonç±»åï¼string,integer,boolean,double,null,arrayåobjectï¼mongoè¿ä½¿ç¨äºç¹æ®çæ°æ®ç±»åãè¿äºç±»ååæ¬ date,object id,binary data,regular expression åcodeãæ¯ä¸ä¸ªé©±å¨é½ä»¥ç¹å®è¯­è¨çæ¹å¼å®ç°äºè¿äºç±»åï¼æ¥çä½ çé©±å¨çææ¡£æ¥è·åè¯¦ç»ä¿¡æ¯ã\n\nbsonæ°æ®ç±»ååèåè¡¨ï¼\n\n\n\n\n# åèèµæ\n\n * https://www.pdai.tech/md/db/nosql-mongo/mongo-x-basic.html\n * https://zhenye-na.github.io/2020/01/27/intro-to-mongodb.html\n * https://gitee.com/heguangchuan/rainmeter/blob/master/document/mongodb/01-æ¦è¿°.md",charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"ES - ç´¢å¼ç®¡ç",frontmatter:{title:"ES - ç´¢å¼ç®¡ç",date:"2022-07-28T20:46:32.000Z",permalink:"/pages/8b85ee/"},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/15.ElasticSearch/10.ES%20-%20%E7%B4%A2%E5%BC%95%E7%AE%A1%E7%90%86.html",relativePath:"03.æ°æ®åº/15.ElasticSearch/10.ES - ç´¢å¼ç®¡ç.md",key:"v-37e966eb",path:"/pages/8b85ee/",headers:[{level:2,title:"Mapping",slug:"mapping",normalizedTitle:"mapping",charIndex:3},{level:3,title:"å­æ®µç±»å",slug:"å­æ®µç±»å",normalizedTitle:"å­æ®µç±»å",charIndex:16},{level:3,title:"æ å°",slug:"æ å°",normalizedTitle:"æ å°",charIndex:26},{level:2,title:"ç´¢å¼ç®¡çæä½",slug:"ç´¢å¼ç®¡çæä½",normalizedTitle:"ç´¢å¼ç®¡çæä½",charIndex:32},{level:2,title:"æ°æ®è¿ç§»",slug:"æ°æ®è¿ç§»",normalizedTitle:"æ°æ®è¿ç§»",charIndex:42}],headersStr:"Mapping å­æ®µç±»å æ å° ç´¢å¼ç®¡çæä½ æ°æ®è¿ç§»",content:' * Mapping\n   * å­æ®µç±»å\n   * æ å°\n * ç´¢å¼ç®¡çæä½\n * æ°æ®è¿ç§»\n\n\n\n\n# Mapping\n\n\n# å­æ®µç±»å\n\nå®æ¹ææ¡£ï¼https://www.elastic.co/guide/en/elasticsearch/reference/7.17/mapping-types.html\n\n> æ ¸å¿æ°æ®ç±»å\n\n * å­ç¬¦ä¸²\n   \n   text â½¤äºå¨â½ç´¢å¼ï¼æç´¢æ¶ä¼èªå¨ä½¿ç¨åè¯å¨è¿â¾åè¯åå¹é keyword ä¸åè¯ï¼æç´¢æ¶éè¦å¹éå®æ´çå¼\n\n * æ°å¼å\n   \n   æ´åï¼ byteï¼shortï¼integerï¼long æµ®ç¹åï¼ float, half_float, scaled_floatï¼double\n\n * æ¥æç±»åï¼date\n\n * èå´å\n   \n   integer_rangeï¼ long_rangeï¼ float_rangeï¼double_rangeï¼date_range\n   \n   gtæ¯å¤§äºï¼ltæ¯å°äºï¼eæ¯equalsç­äºã\n   \n   age_limitçåºé´åå«äºæ­¤å¼çææ¡£é½ç®æ¯å¹éã\n\n * å¸å°\n   \n   boolean\n\n * äºè¿å¶\n   \n   binary ä¼æå¼å½åç»è¿ base64 ç¼ç çå­ç¬¦ä¸²ï¼é»è®¤ä¸å­å¨ï¼ä¸ä¸å¯æç´¢\n\n> å¤ææ°æ®ç±»å\n\n * å¯¹è±¡\n   \n   objectä¸ä¸ªå¯¹è±¡ä¸­å¯ä»¥åµå¥å¯¹è±¡ã\n\n * æ°ç»\n   \n   Arrayï¼åµå¥ç±»å\n   \n   nested ç¨äºjsonå¯¹è±¡æ°ç»\n\n\n# æ å°\n\nMapping(æ å°)æ¯ç¨æ¥å®ä¹ä¸ä¸ªææ¡£ï¼documentï¼ï¼ä»¥åå®æåå«çå±æ§ï¼fieldï¼æ¯å¦ä½å­å¨åç´¢å¼çã\n\nçmappingä¿¡æ¯:\n\nGET bank/_mapping\n\n\n1\n\n\n\n# ç´¢å¼ç®¡çæä½\n\n * åå»ºç´¢å¼å¹¶æå®æ å°\n\nPUT /my_index\n{\n  "mappings": {\n    "properties": {\n      "age": {\n        "type": "integer"\n      },\n      "email": {\n        "type": "keyword" # æå®ä¸ºkeyword\n      },\n      "name": {\n        "type": "text" # å¨ææ£ç´¢ãä¿å­æ¶ååè¯ï¼æ£ç´¢æ¶åè¿è¡åè¯å¹é\n      }\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n * æ¥çæ å°\n\nGET /my_index\n\n\n1\n\n * æ·»å æ°çå­æ®µæ å°\n\nPUT /my_index/_mapping\n{\n  "properties": {\n    "employee-id": {\n      "type": "keyword",\n      "index": false # å­æ®µä¸è½è¢«æ£ç´¢ãæ£ç´¢\n    }\n  }\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nè¯¥indexéé¡¹æ§å¶å­æ®µå¼æ¯å¦è¢«ç´¢å¼ãå®æ¥åtrue orfalseå¹¶é»è®¤ä¸ºtrue. æªç¼å¥ç´¢å¼çå­æ®µä¸å¯æ¥è¯¢ã\n\n * ä¿®æ¹æ å°\n   \n   ä¸è½æ´æ°æ å°ï¼å¯¹äºå·²ç»å­å¨çå­æ®µæ å°ä¸è½æ´æ°ã\n   \n   æ´æ°å¿é¡»åå»ºæ°çç´¢å¼ï¼è¿è¡æ°æ®è¿ç§»ã\n\n\n# æ°æ®è¿ç§»\n\nå®æ¹ææ¡£ï¼https://www.elastic.co/guide/en/elasticsearch/reference/7.16/docs-reindex.html\n\nååå»ºnew_twitterçæ­£ç¡®æ å°ã\n\nç¶åä½¿ç¨å¦ä¸æ¹å¼è¿è¡æ°æ®è¿ç§»ï¼ætwitterè¿ç§»å°new_twitters\n\nPOST _reindex\n{\n  "source":{\n      "index":"twitter"\n   },\n  "dest":{\n      "index":"new_twitters"\n   }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n',normalizedContent:' * mapping\n   * å­æ®µç±»å\n   * æ å°\n * ç´¢å¼ç®¡çæä½\n * æ°æ®è¿ç§»\n\n\n\n\n# mapping\n\n\n# å­æ®µç±»å\n\nå®æ¹ææ¡£ï¼https://www.elastic.co/guide/en/elasticsearch/reference/7.17/mapping-types.html\n\n> æ ¸å¿æ°æ®ç±»å\n\n * å­ç¬¦ä¸²\n   \n   text â½¤äºå¨â½ç´¢å¼ï¼æç´¢æ¶ä¼èªå¨ä½¿ç¨åè¯å¨è¿â¾åè¯åå¹é keyword ä¸åè¯ï¼æç´¢æ¶éè¦å¹éå®æ´çå¼\n\n * æ°å¼å\n   \n   æ´åï¼ byteï¼shortï¼integerï¼long æµ®ç¹åï¼ float, half_float, scaled_floatï¼double\n\n * æ¥æç±»åï¼date\n\n * èå´å\n   \n   integer_rangeï¼ long_rangeï¼ float_rangeï¼double_rangeï¼date_range\n   \n   gtæ¯å¤§äºï¼ltæ¯å°äºï¼eæ¯equalsç­äºã\n   \n   age_limitçåºé´åå«äºæ­¤å¼çææ¡£é½ç®æ¯å¹éã\n\n * å¸å°\n   \n   boolean\n\n * äºè¿å¶\n   \n   binary ä¼æå¼å½åç»è¿ base64 ç¼ç çå­ç¬¦ä¸²ï¼é»è®¤ä¸å­å¨ï¼ä¸ä¸å¯æç´¢\n\n> å¤ææ°æ®ç±»å\n\n * å¯¹è±¡\n   \n   objectä¸ä¸ªå¯¹è±¡ä¸­å¯ä»¥åµå¥å¯¹è±¡ã\n\n * æ°ç»\n   \n   arrayï¼åµå¥ç±»å\n   \n   nested ç¨äºjsonå¯¹è±¡æ°ç»\n\n\n# æ å°\n\nmapping(æ å°)æ¯ç¨æ¥å®ä¹ä¸ä¸ªææ¡£ï¼documentï¼ï¼ä»¥åå®æåå«çå±æ§ï¼fieldï¼æ¯å¦ä½å­å¨åç´¢å¼çã\n\nçmappingä¿¡æ¯:\n\nget bank/_mapping\n\n\n1\n\n\n\n# ç´¢å¼ç®¡çæä½\n\n * åå»ºç´¢å¼å¹¶æå®æ å°\n\nput /my_index\n{\n  "mappings": {\n    "properties": {\n      "age": {\n        "type": "integer"\n      },\n      "email": {\n        "type": "keyword" # æå®ä¸ºkeyword\n      },\n      "name": {\n        "type": "text" # å¨ææ£ç´¢ãä¿å­æ¶ååè¯ï¼æ£ç´¢æ¶åè¿è¡åè¯å¹é\n      }\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n * æ¥çæ å°\n\nget /my_index\n\n\n1\n\n * æ·»å æ°çå­æ®µæ å°\n\nput /my_index/_mapping\n{\n  "properties": {\n    "employee-id": {\n      "type": "keyword",\n      "index": false # å­æ®µä¸è½è¢«æ£ç´¢ãæ£ç´¢\n    }\n  }\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nè¯¥indexéé¡¹æ§å¶å­æ®µå¼æ¯å¦è¢«ç´¢å¼ãå®æ¥åtrue orfalseå¹¶é»è®¤ä¸ºtrue. æªç¼å¥ç´¢å¼çå­æ®µä¸å¯æ¥è¯¢ã\n\n * ä¿®æ¹æ å°\n   \n   ä¸è½æ´æ°æ å°ï¼å¯¹äºå·²ç»å­å¨çå­æ®µæ å°ä¸è½æ´æ°ã\n   \n   æ´æ°å¿é¡»åå»ºæ°çç´¢å¼ï¼è¿è¡æ°æ®è¿ç§»ã\n\n\n# æ°æ®è¿ç§»\n\nå®æ¹ææ¡£ï¼https://www.elastic.co/guide/en/elasticsearch/reference/7.16/docs-reindex.html\n\nååå»ºnew_twitterçæ­£ç¡®æ å°ã\n\nç¶åä½¿ç¨å¦ä¸æ¹å¼è¿è¡æ°æ®è¿ç§»ï¼ætwitterè¿ç§»å°new_twitters\n\npost _reindex\n{\n  "source":{\n      "index":"twitter"\n   },\n  "dest":{\n      "index":"new_twitters"\n   }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n',charsets:{cjk:!0},lastUpdated:"2022/08/07, 3:08:00",lastUpdatedTimestamp:1659842691e3},{title:"Mongo - å®è£åCRUD",frontmatter:{title:"Mongo - å®è£åCRUD",date:"2021-09-11T11:24:13.000Z",permalink:"/pages/f04bc7/"},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/20.MongoDB/10.Mongo%20-%20%E5%AE%89%E8%A3%85%E5%92%8CCRUD.html",relativePath:"03.æ°æ®åº/20.MongoDB/10.Mongo - å®è£åCRUD.md",key:"v-66cd1cb0",path:"/pages/f04bc7/",headers:[{level:2,title:"MongoDBå®è£",slug:"mongodbå®è£",normalizedTitle:"mongodbå®è£",charIndex:2},{level:3,title:"åèææ¡£",slug:"åèææ¡£",normalizedTitle:"åèææ¡£",charIndex:16},{level:3,title:"ä»¥Dockerä¸ºä¾å®è£",slug:"ä»¥dockerä¸ºä¾å®è£",normalizedTitle:"ä»¥dockerä¸ºä¾å®è£",charIndex:213},{level:2,title:"è¿æ¥åå»ºåº",slug:"è¿æ¥åå»ºåº",normalizedTitle:"è¿æ¥åå»ºåº",charIndex:1578},{level:2,title:"ææ¡£åºæ¬ CRUD",slug:"ææ¡£åºæ¬-crud",normalizedTitle:"ææ¡£åºæ¬ crud",charIndex:2071},{level:3,title:"æå¥",slug:"æå¥",normalizedTitle:"æå¥",charIndex:2130},{level:3,title:"æ¥è¯¢",slug:"æ¥è¯¢",normalizedTitle:"æ¥è¯¢",charIndex:4229},{level:3,title:"æ´æ°",slug:"æ´æ°",normalizedTitle:"æ´æ°",charIndex:5661},{level:3,title:"å é¤",slug:"å é¤",normalizedTitle:"å é¤",charIndex:4414},{level:2,title:"åèæç« ",slug:"åèæç« ",normalizedTitle:"åèæç« ",charIndex:8380}],headersStr:"MongoDBå®è£ åèææ¡£ ä»¥Dockerä¸ºä¾å®è£ è¿æ¥åå»ºåº ææ¡£åºæ¬ CRUD æå¥ æ¥è¯¢ æ´æ° å é¤ åèæç« ",content:'# MongoDBå®è£\n\n\n# åèææ¡£\n\nå®ç½ä¸è½½ï¼https://www.mongodb.com/try/download/community\n\nå®ç½ææ¡£ï¼https://docs.mongodb.com/v3.6/administration/install-community/\n\nèé¸æç¨ï¼https://www.runoob.com/mongodb/mongodb-window-install.html\n\n\n# ä»¥Dockerä¸ºä¾å®è£\n\n1ãæåéå\n\ndocker pull mongo:latest\n\n\n1\n\n\næ³¨æï¼æçæå¡å¨ä¸æ¯ææ°çæ¬ï¼ä¼å¯¼è´Dockerå¯å¨å¤±è´¥ï¼å·ä½åå çæ¥éåå®¹\n\nå¯éæ©å¶ä»çæ¬ï¼æä½¿ç¨çæå¡å¨5.0åä»¥ä¸çæ¬é½ä¸å¯ä½¿ï¼\n\ndocker pull mongo:4.4.8\n\n\n1\n\n\n2ãåå»ºåå¯å¨å®¹å¨\n\nä»¥ 4.4.8 çæ¬ä¸ºä¾\n\ndocker run -d --restart=always  --name mymongo \\\n  -p 27017:27017 \\\n  -v /data/docker/mongodb:/data/db \\\n  mongo:4.4.8\n\n\n1\n2\n3\n4\n\n\ndocker run -d --restart=always --name mymongo \\\n  -p 27017:27017  \\\n  -e MONGO_INITDB_ROOT_USERNAME=mymongoadmin \\\n  -e MONGO_INITDB_ROOT_PASSWORD=root123456 \\\n  -v /data/docker/mongodb:/data/db \\\n  mongo:4.4.8\n\n\n1\n2\n3\n4\n5\n6\n\n\nä½¿ç¨è´¦æ·å¯ç å¯å¨çï¼éè¦ç»æ°æ®åºåå»ºç¨æ·æéï¼\n\ndb.createUser(\n    {\n        user:"admin",\n        pwd:"root123456",\n        roles:[\n            {role:"dbOwner",db:"yygh_hosp"}\n        ]\n    }\n)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nä¹åspingä¸­MongoDBå°åæ¹æï¼\n\nspring.data.mongodb.uri=mongodb://admin:root123456@IP:ç«¯å£/yygh_hosp\n\n\n1\n\n\nè§è²æéè¯´æ(role)ï¼\n\nBuilt-In Rolesï¼åç½®è§è²ï¼ï¼\n\n 1. æ°æ®åºç¨æ·è§è²ï¼readãreadWrite;\n 2. æ°æ®åºç®¡çè§è²ï¼dbAdminãdbOwnerãuserAdminï¼\n 3. éç¾¤ç®¡çè§è²ï¼clusterAdminãclusterManagerãclusterMonitorãhostManagerï¼\n 4. å¤ä»½æ¢å¤è§è²ï¼backupãrestoreï¼\n 5. æææ°æ®åºè§è²ï¼readAnyDatabaseãreadWriteAnyDatabaseãuserAdminAnyDatabaseãdbAdminAnyDatabase\n 6. è¶çº§ç¨æ·è§è²ï¼root\n\n> è¿éè¿æå ä¸ªè§è²é´æ¥æç´æ¥æä¾äºç³»ç»è¶çº§ç¨æ·çè®¿é®\n> \n> ï¼dbOwner ãuserAdminãuserAdminAnyDatabaseï¼\n\nä¹åå­¦ä¹  å°ç¡è°·-å°å»éé¡¹ç® ç¨å°äºMongoDB\n\næå®è£å°äºæå¡å¨ä¸ï¼æ²¡æ¢ç«¯å£å°åä¸æ²¡è®¾å¯ç \n\nåæ¥æä¸å¤©ï¼æ°æ®åºè®©æ·¦äºï¼æææ°æ®é½æ²¡äºï¼åªå©ä¸ä¸ªåç´¢æ°æ®ï¼\n\n\n\nç¿»è¯åï¼\n\n\n\nè¿å¥½åªæ¯å­¦ä¹ çæµè¯æ°æ®ï¼ä¸ç¶å°±å®çå­äº\n\nç¾åº¦äºä¸ä¸åèäº mongoDB æ°æ®è«åå¶å¦çæ²¡äº è¿ç¯æç« ï¼æç¥éæ°æ®åºæ¯è¢«é»äº\n\n\n# è¿æ¥åå»ºåº\n\né»è®¤ä¿ççæ°æ®åº\n\n * admin: ä»æéè§åº¦èè, è¿æ¯ root æ°æ®åº, å¦æå°ä¸ä¸ªç¨æ·æ·»å å°è¿ä¸ªæ°æ®åº, è¿ä¸ªç¨æ·èªå¨ç»§æ¿æææ°æ®åºçæé, ä¸äºç¹å®çæå¡å¨ç«¯å½ä»¤ä¹åªè½ä»è¿ä¸ªæ°æ®åºè¿è¡, æ¯å¦ååºææçæ°æ®åºæèå³é­æå¡å¨\n * local: æ°æ®æ°¸è¿ä¸ä¼è¢«å¤å¶, å¯ä»¥ç¨æ¥å­å¨éäºæ¬å°çåå°æå¡å¨çéå (é¨ç½²éç¾¤, åçç­)\n * config: Mongo ç¨äºåçè®¾ç½®æ¶, config æ°æ®åºå¨åé¨ä½¿ç¨, ç¨æ¥ä¿å­åççç¸å³ä¿¡æ¯\n\nè¿å¥å®¹å¨\n\ndocker exec -it mymongo /bin/bash \n\n\n1\n\n\nè¿æ¥mongo\n\nmongo -u mymongoadmin -p root123456\n\n\n1\n\n\nåºæ¬æä½ï¼\n\n#æ¥çæææ°æ®åº\nshow dbs\n#ä½¿ç¨æ°æ®åºï¼æ²¡æè¿ä¸ªæ°æ®åèªå¨åå»º\nuse testdb\n\n\n1\n2\n3\n4\n\n\nå½ use testdb çæ¶å. testdb å¶å®å­æ¾å¨åå­ä¹ä¸­,\n\nå½ testdb ä¸­å­å¨ä¸ä¸ª document ä¹å, mongo æä¼å°è¿ä¸ªæ°æ®åºæä¹åå°ç¡¬çä¹ä¸­.\n\n\n# ææ¡£åºæ¬ CRUD\n\nå®æ¹ææ¡£\n\nhttps://docs.mongodb.com/manual/crud/\n\n\n# æå¥\n\n * å¾ä¾\n\nusers ä¸ºè¦æå¥ç"è¡¨"\n\n\n\n#åéåä¸­æ·»å ä¸ä¸ªææ¡£\ndb.inventory.insertOne(\n   { item: "canvas", qty: 100, tags: ["cotton"], size: { h: 28, w: 35.5, uom: "cm" } }\n)\n#åéåä¸­æ·»å å¤ä¸ªææ¡£\ndb.inventory.insertMany([\n   { item: "journal", qty: 25, tags: ["blank", "red"], size: { h: 14, w: 21, uom: "cm" } },\n   { item: "mat", qty: 85, tags: ["gray"], size: { h: 27.9, w: 35.5, uom: "cm" } },\n   { item: "mousepad", qty: 25, tags: ["gel", "blue"], size: { h: 19, w: 22.85, uom: "cm" } }\n])\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\næ³¨ï¼å½æä»¬å inventory ä¸­æå¥ document ææ¡£æ¶, å¦ææ²¡æç»ææ¡£æå® _id å±æ§, é£ä¹æ°æ®åºä¼ä¸ºææ¡£èªå¨æ·»å  _id field, å¹¶ä¸å¼ç±»åæ¯ ObjectId(blablabla), å°±æ¯ææ¡£çå¯ä¸æ è¯, ç±»ä¼¼äº relational database éç primary key\n\nè¿ä¸ªæ°æ®åºå·¥å·å« Navicat\n\n> âNavicatâæ¯ä¸å¥å¯åå»ºå¤ä¸ªè¿æ¥çæ°æ®åºç®¡çå·¥å·ï¼ç¨ä»¥æ¹ä¾¿ç®¡ç MySQLãOracleãPostgreSQLãSQLiteãSQL ServerãMariaDB å/æ MongoDB ç­ä¸åç±»åçæ°æ®åºï¼å¹¶æ¯æç®¡çæäºäºæ°æ®åºï¼ä¾å¦é¿éäºãâè¾è®¯äºã\n\n\n\n>  * mongo ä¸­çæ°å­, é»è®¤æåµä¸æ¯ double ç±»å, å¦æè¦å­æ´å, å¿é¡»ä½¿ç¨å½æ° NumberInt(æ´åæ°å­), å¦åååºæ¥å°±æé®é¢äº\n>  * æå¥å½åæ¥æå¯ä»¥ä½¿ç¨ new Date()\n\nå¦æææ¡æ°æ®æå¥å¤±è´¥, å°ä¼ç»æ­¢æå¥, ä½å·²ç»æå¥æåçæ°æ®ä¸ä¼åæ»æ. å ä¸ºæ¹éæå¥ç±äºæ°æ®è¾å¤å®¹æåºç°å¤±è´¥, å æ­¤, å¯ä»¥ä½¿ç¨ try catch è¿è¡å¼å¸¸ææå¤ç, æµè¯çæ¶åå¯ä»¥ä¸å¤ç.å¦ï¼\n\ntry {\n  db.comment.insertMany([\n    {"_id":"1","articleid":"100001","content":"æä»¬ä¸åºè¯¥ææ¸æ¨æµªè´¹å¨ææºä¸, å¥åº·å¾éè¦, ä¸æ¯æ¸©æ°´å¹¸ç¦ä½ æ ä».","userid":"1002","nickname":"ç¸å¿äºæ±æ¹","createdatetime":new Date("2019-0805T22:08:15.522Z"),"likenum":NumberInt(1000),"state":"1"},\n    {"_id":"2","articleid":"100001","content":"æå¤å¤©ç©ºè¹ååå¼æ°´, å¬å¤©åæ¸©å¼æ°´","userid":"1005","nickname":"ä¼äººæ æ´","createdatetime":new Date("2019-08-05T23:58:51.485Z"),"likenum":NumberInt(888),"state":"1"},\n    {"_id":"3","articleid":"100001","content":"æä¸ç´ååå¼æ°´, å¬å¤©å¤å¤©é½å.","userid":"1004","nickname":"æ°åè¹ é¿","createdatetime":new Date("2019-08-06T01:05:06.321Z"),"likenum":NumberInt(666),"state":"1"},\n    {"_id":"4","articleid":"100001","content":"ä¸å®¶è¯´ä¸è½ç©ºè¹åé¥­, å½±åå¥åº·.","userid":"1003","nickname":"å¯ æ","createdatetime":new Date("2019-08-06T08:18:35.288Z"),"likenum":NumberInt(2000),"state":"1"},\n    {"_id":"5","articleid":"100001","content":"ç ç©¶è¡¨æ, åç§å¼çæ°´åä¸ä¸è½å, å ä¸ºç« å´.","userid":"1003","nickname":"å¯æ","createdatetime":new Date("2019-0806T11:01:02.521Z"),"likenum":NumberInt(3000),"state":"1"}\n\n]);\n\n} catch (e) {\n  print (e);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# æ¥è¯¢\n\n\n\n * ä½¿ç¨ db.<collection_name>.find() æ¹æ³å¯¹éåè¿è¡æ¥è¯¢, æ¥åä¸ä¸ª json æ ¼å¼çæ¥è¯¢æ¡ä»¶. è¿åçæ¯ä¸ä¸ªæ°ç»\n * db.<collection_name>.findOne() æ¥è¯¢éåä¸­ç¬¦åæ¡ä»¶çç¬¬ä¸ä¸ªææ¡£, è¿åçæ¯ä¸ä¸ªå¯¹è±¡\n\næ¥è¯¢å¨é¨æ°æ®ï¼\n\ndb.inventory.find()\n\n\n1\n\n * æ°æ®åå¤ï¼\n\nåå é¤ä¹åçæ°æ®ï¼\n\ndb.comment.deleteMany({})\n\n\n1\n\n\næä»¬åå¾ comment æå¥ä¸äºæ°æ®ï¼\n\ndb.comment.insertMany([\n   { item: "journal", qty: 25, size: { h: 14, w: 21, uom: "cm" }, status: "A" },\n   { item: "notebook", qty: 50, size: { h: 8.5, w: 11, uom: "in" }, status: "A" },\n   { item: "paper", qty: 100, size: { h: 8.5, w: 11, uom: "in" }, status: "D" },\n   { item: "planner", qty: 75, size: { h: 22.85, w: 30, uom: "cm" }, status: "D" },\n   { item: "postcard", qty: 45, size: { h: 10, w: 15.25, uom: "cm" }, status: "A" }\n]);\n\n\n1\n2\n3\n4\n5\n6\n7\n\n * å¯ä»¥ä½¿ç¨ $in æä½ç¬¦è¡¨ç¤ºï¼æ¥çç¶ææ¯ A å D ç\n\ndb.comment.find( { status: { $in: [ "A", "D" ] } } )\n\n\n1\n\n * å¤ä¸ªæ¥è¯¢æ¡ä»¶ç¨éå·åé, è¡¨ç¤º AND çå³ç³»\n\ndb.comment.find( { status: "A", qty: { $lt: 30 } } )\n\n\n1\n\n\nç­ä»·äºsql : SELECT * FROM comment WHERE status = "A" AND qty < 30\n\n * ä½¿ç¨ $or æä½ç¬¦è¡¨ç¤ºåè¾¹æ°ç»ä¸­çæ¡ä»¶æ¯ORçå³ç³»\n\ndb.comment.find( { $or: [ { status: "A" }, { qty: { $lt: 30 } } ] } )\n\n\n1\n\n\nç­ä»·äºsql : SELECT * FROM inventory WHERE status = "A" OR qty < 30\n\n * å¯ä»¥ä½¿ç¨ pretty() æ¥å¸®å©éè¯»\n\ndb.comment.find().pretty()\n\n\n1\n\n\nåå»ºç´¢å¼\n\ndb.posts.createIndex({\n  { title : \'text\' }\n})\n\n// ææ¬æç´¢\n// will return document with title "Post One"\n// if there is no more posts created\ndb.posts.find({\n  $text : {\n    $search : "\\"Post O\\""\n  }\n}).pretty()\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# æ´æ°\n\n\n\n * ä½¿ç¨ db.<collection_name>.updateOne(<filter>, <update>, <options>) æ¹æ³ä¿®æ¹ä¸ä¸ªå¹é <filter> æ¡ä»¶çææ¡£\n * ä½¿ç¨ db.<collection_name>.updateMany(<filter>, <update>, <options>) æ¹æ³ä¿®æ¹ææå¹é <filter> æ¡ä»¶çææ¡£\n * ä½¿ç¨ db.<collection_name>.replaceOne(<filter>, <update>, <options>) æ¹æ³æ¿æ¢ä¸ä¸ªå¹é <filter> æ¡ä»¶çææ¡£\n * db.<collection_name>.update(æ¥è¯¢å¯¹è±¡, æ°å¯¹è±¡) é»è®¤æåµä¸ä¼ä½¿ç¨æ°å¯¹è±¡æ¿æ¢æ§å¯¹è±¡\n\nå¶ä¸­ <filter> åæ°ä¸æ¥è¯¢æ¹æ³ä¸­çæ¡ä»¶åæ°ç¨æ³ä¸è´.\n\nå¦æéè¦ä¿®æ¹æå®çå±æ§, èä¸æ¯æ¿æ¢éè¦ç¨âä¿®æ¹æä½ç¬¦âæ¥è¿è¡ä¿®æ¹\n\n * $set ä¿®æ¹ææ¡£ä¸­çå¶å®å±æ§\n\nå¶ä¸­æå¸¸ç¨çä¿®æ¹æä½ç¬¦å³ä¸º$setå$unset,åå«è¡¨ç¤ºèµå¼ååæ¶èµå¼.\n\nåå å¥ä¸äºæ°æ®ï¼\n\ndb.inventory.insertMany( [\n   { item: "canvas", qty: 100, size: { h: 28, w: 35.5, uom: "cm" }, status: "A" },\n   { item: "journal", qty: 25, size: { h: 14, w: 21, uom: "cm" }, status: "A" },\n   { item: "mat", qty: 85, size: { h: 27.9, w: 35.5, uom: "cm" }, status: "A" },\n   { item: "mousepad", qty: 25, size: { h: 19, w: 22.85, uom: "cm" }, status: "P" },\n   { item: "notebook", qty: 50, size: { h: 8.5, w: 11, uom: "in" }, status: "P" },\n   { item: "paper", qty: 100, size: { h: 8.5, w: 11, uom: "in" }, status: "D" },\n   { item: "planner", qty: 75, size: { h: 22.85, w: 30, uom: "cm" }, status: "D" },\n   { item: "postcard", qty: 45, size: { h: 10, w: 15.25, uom: "cm" }, status: "A" },\n   { item: "sketchbook", qty: 80, size: { h: 14, w: 21, uom: "cm" }, status: "A" },\n   { item: "sketch pad", qty: 95, size: { h: 22.85, w: 30.5, uom: "cm" }, status: "A" }\n] );\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\næ´æ°æ°æ®ï¼\n\ndb.inventory.updateOne(\n    { item: "paper" },\n    {\n        $set: { "size.uom": "cm", status: "P" },\n        $currentDate: { lastModified: true }\n    }\n)\n\ndb.inventory.updateMany(\n    { qty: { $lt: 50 } },\n    {\n        $set: { "size.uom": "in", status: "P" },\n        $currentDate: { lastModified: true }\n    }\n)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\ndb.<collection_name>.replaceOne() æ¹æ³æ¿æ¢é¤ _id å±æ§å¤çææå±æ§, å¶<update>åæ°åºä¸ºä¸ä¸ªå¨æ°çææ¡£.\n\ndb.inventory.replaceOne(\n    { item: "paper" },\n    { item: "paper", instock: [ { warehouse: "A", qty: 60 }, { warehouse: "B", qty: 40 } ] }\n)\n\n\n1\n2\n3\n4\n\n\n> ä¿®æ¹åï¼ { item: "paper", qty: 100, size: { h: 8.5, w: 11, uom: "in" }, status: "D" }\n> \n> ä¿®æ¹å®åï¼ { "item" : "paper", "instock" : [ { "warehouse" : "A", "qty" : 60 }, { "warehouse" : "B", "qty" : 40 } ] }\n\næ¹éä¿®æ¹\n\n// é»è®¤ä¼ä¿®æ¹ç¬¬ä¸æ¡\ndb.document.update({ userid: "30", { $set {username: "guest"} } })\n\n// ä¿®æ¹ææç¬¦åæ¡ä»¶çæ°æ®\ndb.document.update( { userid: "30", { $set {username: "guest"} } }, {multi: true} )\n\n\n1\n2\n3\n4\n5\n\n\n\n# å é¤\n\n * ä½¿ç¨ db.collection.deleteMany() æ¹æ³å é¤ææå¹éçææ¡£.\n * ä½¿ç¨ db.collection.deleteOne() æ¹æ³å é¤åä¸ªå¹éçææ¡£.\n * db.collection.drop()\n * db.dropDatabase()\n\ndb.inventory.deleteMany( { qty : { $lt : 50 } } )\n\n\n1\n\n\n> Delete operations do not drop indexes, even if deleting all documents from a collection.\n> \n> ä¸è¬æ°æ®åºä¸­çæ°æ®é½ä¸ä¼çæ­£æä¹ä¸çå é¤, ä¼æ·»å ä¸ä¸ªå­æ®µ, ç¨æ¥è¡¨ç¤ºè¿ä¸ªæ°æ®æ¯å¦è¢«å é¤\n\n\n# åèæç« \n\n * https://zhenye-na.github.io/2020/01/27/intro-to-mongodb.html\n * https://www.pdai.tech/md/db/nosql-mongo/mongo-x-usage-1.html',normalizedContent:'# mongodbå®è£\n\n\n# åèææ¡£\n\nå®ç½ä¸è½½ï¼https://www.mongodb.com/try/download/community\n\nå®ç½ææ¡£ï¼https://docs.mongodb.com/v3.6/administration/install-community/\n\nèé¸æç¨ï¼https://www.runoob.com/mongodb/mongodb-window-install.html\n\n\n# ä»¥dockerä¸ºä¾å®è£\n\n1ãæåéå\n\ndocker pull mongo:latest\n\n\n1\n\n\næ³¨æï¼æçæå¡å¨ä¸æ¯ææ°çæ¬ï¼ä¼å¯¼è´dockerå¯å¨å¤±è´¥ï¼å·ä½åå çæ¥éåå®¹\n\nå¯éæ©å¶ä»çæ¬ï¼æä½¿ç¨çæå¡å¨5.0åä»¥ä¸çæ¬é½ä¸å¯ä½¿ï¼\n\ndocker pull mongo:4.4.8\n\n\n1\n\n\n2ãåå»ºåå¯å¨å®¹å¨\n\nä»¥ 4.4.8 çæ¬ä¸ºä¾\n\ndocker run -d --restart=always  --name mymongo \\\n  -p 27017:27017 \\\n  -v /data/docker/mongodb:/data/db \\\n  mongo:4.4.8\n\n\n1\n2\n3\n4\n\n\ndocker run -d --restart=always --name mymongo \\\n  -p 27017:27017  \\\n  -e mongo_initdb_root_username=mymongoadmin \\\n  -e mongo_initdb_root_password=root123456 \\\n  -v /data/docker/mongodb:/data/db \\\n  mongo:4.4.8\n\n\n1\n2\n3\n4\n5\n6\n\n\nä½¿ç¨è´¦æ·å¯ç å¯å¨çï¼éè¦ç»æ°æ®åºåå»ºç¨æ·æéï¼\n\ndb.createuser(\n    {\n        user:"admin",\n        pwd:"root123456",\n        roles:[\n            {role:"dbowner",db:"yygh_hosp"}\n        ]\n    }\n)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nä¹åspingä¸­mongodbå°åæ¹æï¼\n\nspring.data.mongodb.uri=mongodb://admin:root123456@ip:ç«¯å£/yygh_hosp\n\n\n1\n\n\nè§è²æéè¯´æ(role)ï¼\n\nbuilt-in rolesï¼åç½®è§è²ï¼ï¼\n\n 1. æ°æ®åºç¨æ·è§è²ï¼readãreadwrite;\n 2. æ°æ®åºç®¡çè§è²ï¼dbadminãdbownerãuseradminï¼\n 3. éç¾¤ç®¡çè§è²ï¼clusteradminãclustermanagerãclustermonitorãhostmanagerï¼\n 4. å¤ä»½æ¢å¤è§è²ï¼backupãrestoreï¼\n 5. æææ°æ®åºè§è²ï¼readanydatabaseãreadwriteanydatabaseãuseradminanydatabaseãdbadminanydatabase\n 6. è¶çº§ç¨æ·è§è²ï¼root\n\n> è¿éè¿æå ä¸ªè§è²é´æ¥æç´æ¥æä¾äºç³»ç»è¶çº§ç¨æ·çè®¿é®\n> \n> ï¼dbowner ãuseradminãuseradminanydatabaseï¼\n\nä¹åå­¦ä¹  å°ç¡è°·-å°å»éé¡¹ç® ç¨å°äºmongodb\n\næå®è£å°äºæå¡å¨ä¸ï¼æ²¡æ¢ç«¯å£å°åä¸æ²¡è®¾å¯ç \n\nåæ¥æä¸å¤©ï¼æ°æ®åºè®©æ·¦äºï¼æææ°æ®é½æ²¡äºï¼åªå©ä¸ä¸ªåç´¢æ°æ®ï¼\n\n\n\nç¿»è¯åï¼\n\n\n\nè¿å¥½åªæ¯å­¦ä¹ çæµè¯æ°æ®ï¼ä¸ç¶å°±å®çå­äº\n\nç¾åº¦äºä¸ä¸åèäº mongodb æ°æ®è«åå¶å¦çæ²¡äº è¿ç¯æç« ï¼æç¥éæ°æ®åºæ¯è¢«é»äº\n\n\n# è¿æ¥åå»ºåº\n\né»è®¤ä¿ççæ°æ®åº\n\n * admin: ä»æéè§åº¦èè, è¿æ¯ root æ°æ®åº, å¦æå°ä¸ä¸ªç¨æ·æ·»å å°è¿ä¸ªæ°æ®åº, è¿ä¸ªç¨æ·èªå¨ç»§æ¿æææ°æ®åºçæé, ä¸äºç¹å®çæå¡å¨ç«¯å½ä»¤ä¹åªè½ä»è¿ä¸ªæ°æ®åºè¿è¡, æ¯å¦ååºææçæ°æ®åºæèå³é­æå¡å¨\n * local: æ°æ®æ°¸è¿ä¸ä¼è¢«å¤å¶, å¯ä»¥ç¨æ¥å­å¨éäºæ¬å°çåå°æå¡å¨çéå (é¨ç½²éç¾¤, åçç­)\n * config: mongo ç¨äºåçè®¾ç½®æ¶, config æ°æ®åºå¨åé¨ä½¿ç¨, ç¨æ¥ä¿å­åççç¸å³ä¿¡æ¯\n\nè¿å¥å®¹å¨\n\ndocker exec -it mymongo /bin/bash \n\n\n1\n\n\nè¿æ¥mongo\n\nmongo -u mymongoadmin -p root123456\n\n\n1\n\n\nåºæ¬æä½ï¼\n\n#æ¥çæææ°æ®åº\nshow dbs\n#ä½¿ç¨æ°æ®åºï¼æ²¡æè¿ä¸ªæ°æ®åèªå¨åå»º\nuse testdb\n\n\n1\n2\n3\n4\n\n\nå½ use testdb çæ¶å. testdb å¶å®å­æ¾å¨åå­ä¹ä¸­,\n\nå½ testdb ä¸­å­å¨ä¸ä¸ª document ä¹å, mongo æä¼å°è¿ä¸ªæ°æ®åºæä¹åå°ç¡¬çä¹ä¸­.\n\n\n# ææ¡£åºæ¬ crud\n\nå®æ¹ææ¡£\n\nhttps://docs.mongodb.com/manual/crud/\n\n\n# æå¥\n\n * å¾ä¾\n\nusers ä¸ºè¦æå¥ç"è¡¨"\n\n\n\n#åéåä¸­æ·»å ä¸ä¸ªææ¡£\ndb.inventory.insertone(\n   { item: "canvas", qty: 100, tags: ["cotton"], size: { h: 28, w: 35.5, uom: "cm" } }\n)\n#åéåä¸­æ·»å å¤ä¸ªææ¡£\ndb.inventory.insertmany([\n   { item: "journal", qty: 25, tags: ["blank", "red"], size: { h: 14, w: 21, uom: "cm" } },\n   { item: "mat", qty: 85, tags: ["gray"], size: { h: 27.9, w: 35.5, uom: "cm" } },\n   { item: "mousepad", qty: 25, tags: ["gel", "blue"], size: { h: 19, w: 22.85, uom: "cm" } }\n])\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\næ³¨ï¼å½æä»¬å inventory ä¸­æå¥ document ææ¡£æ¶, å¦ææ²¡æç»ææ¡£æå® _id å±æ§, é£ä¹æ°æ®åºä¼ä¸ºææ¡£èªå¨æ·»å  _id field, å¹¶ä¸å¼ç±»åæ¯ objectid(blablabla), å°±æ¯ææ¡£çå¯ä¸æ è¯, ç±»ä¼¼äº relational database éç primary key\n\nè¿ä¸ªæ°æ®åºå·¥å·å« navicat\n\n> ânavicatâæ¯ä¸å¥å¯åå»ºå¤ä¸ªè¿æ¥çæ°æ®åºç®¡çå·¥å·ï¼ç¨ä»¥æ¹ä¾¿ç®¡ç mysqlãoracleãpostgresqlãsqliteãsql serverãmariadb å/æ mongodb ç­ä¸åç±»åçæ°æ®åºï¼å¹¶æ¯æç®¡çæäºäºæ°æ®åºï¼ä¾å¦é¿éäºãâè¾è®¯äºã\n\n\n\n>  * mongo ä¸­çæ°å­, é»è®¤æåµä¸æ¯ double ç±»å, å¦æè¦å­æ´å, å¿é¡»ä½¿ç¨å½æ° numberint(æ´åæ°å­), å¦åååºæ¥å°±æé®é¢äº\n>  * æå¥å½åæ¥æå¯ä»¥ä½¿ç¨ new date()\n\nå¦æææ¡æ°æ®æå¥å¤±è´¥, å°ä¼ç»æ­¢æå¥, ä½å·²ç»æå¥æåçæ°æ®ä¸ä¼åæ»æ. å ä¸ºæ¹éæå¥ç±äºæ°æ®è¾å¤å®¹æåºç°å¤±è´¥, å æ­¤, å¯ä»¥ä½¿ç¨ try catch è¿è¡å¼å¸¸ææå¤ç, æµè¯çæ¶åå¯ä»¥ä¸å¤ç.å¦ï¼\n\ntry {\n  db.comment.insertmany([\n    {"_id":"1","articleid":"100001","content":"æä»¬ä¸åºè¯¥ææ¸æ¨æµªè´¹å¨ææºä¸, å¥åº·å¾éè¦, ä¸æ¯æ¸©æ°´å¹¸ç¦ä½ æ ä».","userid":"1002","nickname":"ç¸å¿äºæ±æ¹","createdatetime":new date("2019-0805t22:08:15.522z"),"likenum":numberint(1000),"state":"1"},\n    {"_id":"2","articleid":"100001","content":"æå¤å¤©ç©ºè¹ååå¼æ°´, å¬å¤©åæ¸©å¼æ°´","userid":"1005","nickname":"ä¼äººæ æ´","createdatetime":new date("2019-08-05t23:58:51.485z"),"likenum":numberint(888),"state":"1"},\n    {"_id":"3","articleid":"100001","content":"æä¸ç´ååå¼æ°´, å¬å¤©å¤å¤©é½å.","userid":"1004","nickname":"æ°åè¹ é¿","createdatetime":new date("2019-08-06t01:05:06.321z"),"likenum":numberint(666),"state":"1"},\n    {"_id":"4","articleid":"100001","content":"ä¸å®¶è¯´ä¸è½ç©ºè¹åé¥­, å½±åå¥åº·.","userid":"1003","nickname":"å¯ æ","createdatetime":new date("2019-08-06t08:18:35.288z"),"likenum":numberint(2000),"state":"1"},\n    {"_id":"5","articleid":"100001","content":"ç ç©¶è¡¨æ, åç§å¼çæ°´åä¸ä¸è½å, å ä¸ºç« å´.","userid":"1003","nickname":"å¯æ","createdatetime":new date("2019-0806t11:01:02.521z"),"likenum":numberint(3000),"state":"1"}\n\n]);\n\n} catch (e) {\n  print (e);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# æ¥è¯¢\n\n\n\n * ä½¿ç¨ db.<collection_name>.find() æ¹æ³å¯¹éåè¿è¡æ¥è¯¢, æ¥åä¸ä¸ª json æ ¼å¼çæ¥è¯¢æ¡ä»¶. è¿åçæ¯ä¸ä¸ªæ°ç»\n * db.<collection_name>.findone() æ¥è¯¢éåä¸­ç¬¦åæ¡ä»¶çç¬¬ä¸ä¸ªææ¡£, è¿åçæ¯ä¸ä¸ªå¯¹è±¡\n\næ¥è¯¢å¨é¨æ°æ®ï¼\n\ndb.inventory.find()\n\n\n1\n\n * æ°æ®åå¤ï¼\n\nåå é¤ä¹åçæ°æ®ï¼\n\ndb.comment.deletemany({})\n\n\n1\n\n\næä»¬åå¾ comment æå¥ä¸äºæ°æ®ï¼\n\ndb.comment.insertmany([\n   { item: "journal", qty: 25, size: { h: 14, w: 21, uom: "cm" }, status: "a" },\n   { item: "notebook", qty: 50, size: { h: 8.5, w: 11, uom: "in" }, status: "a" },\n   { item: "paper", qty: 100, size: { h: 8.5, w: 11, uom: "in" }, status: "d" },\n   { item: "planner", qty: 75, size: { h: 22.85, w: 30, uom: "cm" }, status: "d" },\n   { item: "postcard", qty: 45, size: { h: 10, w: 15.25, uom: "cm" }, status: "a" }\n]);\n\n\n1\n2\n3\n4\n5\n6\n7\n\n * å¯ä»¥ä½¿ç¨ $in æä½ç¬¦è¡¨ç¤ºï¼æ¥çç¶ææ¯ a å d ç\n\ndb.comment.find( { status: { $in: [ "a", "d" ] } } )\n\n\n1\n\n * å¤ä¸ªæ¥è¯¢æ¡ä»¶ç¨éå·åé, è¡¨ç¤º and çå³ç³»\n\ndb.comment.find( { status: "a", qty: { $lt: 30 } } )\n\n\n1\n\n\nç­ä»·äºsql : select * from comment where status = "a" and qty < 30\n\n * ä½¿ç¨ $or æä½ç¬¦è¡¨ç¤ºåè¾¹æ°ç»ä¸­çæ¡ä»¶æ¯orçå³ç³»\n\ndb.comment.find( { $or: [ { status: "a" }, { qty: { $lt: 30 } } ] } )\n\n\n1\n\n\nç­ä»·äºsql : select * from inventory where status = "a" or qty < 30\n\n * å¯ä»¥ä½¿ç¨ pretty() æ¥å¸®å©éè¯»\n\ndb.comment.find().pretty()\n\n\n1\n\n\nåå»ºç´¢å¼\n\ndb.posts.createindex({\n  { title : \'text\' }\n})\n\n// ææ¬æç´¢\n// will return document with title "post one"\n// if there is no more posts created\ndb.posts.find({\n  $text : {\n    $search : "\\"post o\\""\n  }\n}).pretty()\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# æ´æ°\n\n\n\n * ä½¿ç¨ db.<collection_name>.updateone(<filter>, <update>, <options>) æ¹æ³ä¿®æ¹ä¸ä¸ªå¹é <filter> æ¡ä»¶çææ¡£\n * ä½¿ç¨ db.<collection_name>.updatemany(<filter>, <update>, <options>) æ¹æ³ä¿®æ¹ææå¹é <filter> æ¡ä»¶çææ¡£\n * ä½¿ç¨ db.<collection_name>.replaceone(<filter>, <update>, <options>) æ¹æ³æ¿æ¢ä¸ä¸ªå¹é <filter> æ¡ä»¶çææ¡£\n * db.<collection_name>.update(æ¥è¯¢å¯¹è±¡, æ°å¯¹è±¡) é»è®¤æåµä¸ä¼ä½¿ç¨æ°å¯¹è±¡æ¿æ¢æ§å¯¹è±¡\n\nå¶ä¸­ <filter> åæ°ä¸æ¥è¯¢æ¹æ³ä¸­çæ¡ä»¶åæ°ç¨æ³ä¸è´.\n\nå¦æéè¦ä¿®æ¹æå®çå±æ§, èä¸æ¯æ¿æ¢éè¦ç¨âä¿®æ¹æä½ç¬¦âæ¥è¿è¡ä¿®æ¹\n\n * $set ä¿®æ¹ææ¡£ä¸­çå¶å®å±æ§\n\nå¶ä¸­æå¸¸ç¨çä¿®æ¹æä½ç¬¦å³ä¸º$setå$unset,åå«è¡¨ç¤ºèµå¼ååæ¶èµå¼.\n\nåå å¥ä¸äºæ°æ®ï¼\n\ndb.inventory.insertmany( [\n   { item: "canvas", qty: 100, size: { h: 28, w: 35.5, uom: "cm" }, status: "a" },\n   { item: "journal", qty: 25, size: { h: 14, w: 21, uom: "cm" }, status: "a" },\n   { item: "mat", qty: 85, size: { h: 27.9, w: 35.5, uom: "cm" }, status: "a" },\n   { item: "mousepad", qty: 25, size: { h: 19, w: 22.85, uom: "cm" }, status: "p" },\n   { item: "notebook", qty: 50, size: { h: 8.5, w: 11, uom: "in" }, status: "p" },\n   { item: "paper", qty: 100, size: { h: 8.5, w: 11, uom: "in" }, status: "d" },\n   { item: "planner", qty: 75, size: { h: 22.85, w: 30, uom: "cm" }, status: "d" },\n   { item: "postcard", qty: 45, size: { h: 10, w: 15.25, uom: "cm" }, status: "a" },\n   { item: "sketchbook", qty: 80, size: { h: 14, w: 21, uom: "cm" }, status: "a" },\n   { item: "sketch pad", qty: 95, size: { h: 22.85, w: 30.5, uom: "cm" }, status: "a" }\n] );\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\næ´æ°æ°æ®ï¼\n\ndb.inventory.updateone(\n    { item: "paper" },\n    {\n        $set: { "size.uom": "cm", status: "p" },\n        $currentdate: { lastmodified: true }\n    }\n)\n\ndb.inventory.updatemany(\n    { qty: { $lt: 50 } },\n    {\n        $set: { "size.uom": "in", status: "p" },\n        $currentdate: { lastmodified: true }\n    }\n)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\ndb.<collection_name>.replaceone() æ¹æ³æ¿æ¢é¤ _id å±æ§å¤çææå±æ§, å¶<update>åæ°åºä¸ºä¸ä¸ªå¨æ°çææ¡£.\n\ndb.inventory.replaceone(\n    { item: "paper" },\n    { item: "paper", instock: [ { warehouse: "a", qty: 60 }, { warehouse: "b", qty: 40 } ] }\n)\n\n\n1\n2\n3\n4\n\n\n> ä¿®æ¹åï¼ { item: "paper", qty: 100, size: { h: 8.5, w: 11, uom: "in" }, status: "d" }\n> \n> ä¿®æ¹å®åï¼ { "item" : "paper", "instock" : [ { "warehouse" : "a", "qty" : 60 }, { "warehouse" : "b", "qty" : 40 } ] }\n\næ¹éä¿®æ¹\n\n// é»è®¤ä¼ä¿®æ¹ç¬¬ä¸æ¡\ndb.document.update({ userid: "30", { $set {username: "guest"} } })\n\n// ä¿®æ¹ææç¬¦åæ¡ä»¶çæ°æ®\ndb.document.update( { userid: "30", { $set {username: "guest"} } }, {multi: true} )\n\n\n1\n2\n3\n4\n5\n\n\n\n# å é¤\n\n * ä½¿ç¨ db.collection.deletemany() æ¹æ³å é¤ææå¹éçææ¡£.\n * ä½¿ç¨ db.collection.deleteone() æ¹æ³å é¤åä¸ªå¹éçææ¡£.\n * db.collection.drop()\n * db.dropdatabase()\n\ndb.inventory.deletemany( { qty : { $lt : 50 } } )\n\n\n1\n\n\n> delete operations do not drop indexes, even if deleting all documents from a collection.\n> \n> ä¸è¬æ°æ®åºä¸­çæ°æ®é½ä¸ä¼çæ­£æä¹ä¸çå é¤, ä¼æ·»å ä¸ä¸ªå­æ®µ, ç¨æ¥è¡¨ç¤ºè¿ä¸ªæ°æ®æ¯å¦è¢«å é¤\n\n\n# åèæç« \n\n * https://zhenye-na.github.io/2020/01/27/intro-to-mongodb.html\n * https://www.pdai.tech/md/db/nosql-mongo/mongo-x-usage-1.html',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"mybatiså­¦ä¹ ç¬è®°",frontmatter:{title:"mybatiså­¦ä¹ ç¬è®°",permalink:"/mybatis/study-note",date:"2021-05-09T09:53:35.000Z"},regularPath:"/04.%E6%A1%86%E6%9E%B6/01.mybatis/01.%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html",relativePath:"04.æ¡æ¶/01.mybatis/01.å­¦ä¹ ç¬è®°.md",key:"v-ece34b10",path:"/mybatis/study-note/",headers:[{level:2,title:"1ãç®ä»",slug:"_1ãç®ä»",normalizedTitle:"1ãç®ä»",charIndex:73},{level:3,title:"1.1ãä»ä¹æ¯Mybatis",slug:"_1-1ãä»ä¹æ¯mybatis",normalizedTitle:"1.1ãä»ä¹æ¯mybatis",charIndex:82},{level:3,title:"1.2ãæä¹å",slug:"_1-2ãæä¹å",normalizedTitle:"1.2ãæä¹å",charIndex:814},{level:3,title:"1.3ãæä¹å±",slug:"_1-3ãæä¹å±",normalizedTitle:"1.3ãæä¹å±",charIndex:952},{level:3,title:"1.4 ä¸ºä»ä¹éè¦Mybatisï¼",slug:"_1-4-ä¸ºä»ä¹éè¦mybatis",normalizedTitle:"1.4 ä¸ºä»ä¹éè¦mybatisï¼",charIndex:1021},{level:2,title:"2ãç¬¬ä¸ä¸ªMybatisç¨åº",slug:"_2ãç¬¬ä¸ä¸ªmybatisç¨åº",normalizedTitle:"2ãç¬¬ä¸ä¸ªmybatisç¨åº",charIndex:1276},{level:3,title:"2.1ãæ­å»ºç¯å¢",slug:"_2-1ãæ­å»ºç¯å¢",normalizedTitle:"2.1ãæ­å»ºç¯å¢",charIndex:1355},{level:3,title:"2.2ãåå»ºä¸ä¸ªæ¨¡å",slug:"_2-2ãåå»ºä¸ä¸ªæ¨¡å",normalizedTitle:"2.2ãåå»ºä¸ä¸ªæ¨¡å",charIndex:3590},{level:3,title:"2.3ãç¼åä»£ç ",slug:"_2-3ãç¼åä»£ç ",normalizedTitle:"2.3ãç¼åä»£ç ",charIndex:5633},{level:3,title:"2.4ãæµè¯",slug:"_2-4ãæµè¯",normalizedTitle:"2.4ãæµè¯",charIndex:7710},{level:2,title:"3ãCRUD",slug:"_3ãcrud",normalizedTitle:"3ãcrud",charIndex:8378},{level:3,title:"1ãnamespace",slug:"_1ãnamespace",normalizedTitle:"1ãnamespace",charIndex:8389},{level:3,title:"2ãselect",slug:"_2ãselect",normalizedTitle:"2ãselect",charIndex:8442},{level:3,title:"3ãInsert",slug:"_3ãinsert",normalizedTitle:"3ãinsert",charIndex:9246},{level:3,title:"4ãupdate",slug:"_4ãupdate",normalizedTitle:"4ãupdate",charIndex:9820},{level:3,title:"5ãDelete",slug:"_5ãdelete",normalizedTitle:"5ãdelete",charIndex:9987},{level:3,title:"6ãåæéè¯¯",slug:"_6ãåæéè¯¯",normalizedTitle:"6ãåæéè¯¯",charIndex:10161},{level:3,title:"7ãä¸è½Map",slug:"_7ãä¸è½map",normalizedTitle:"7ãä¸è½map",charIndex:10303},{level:3,title:"8ãæèé¢",slug:"_8ãæèé¢",normalizedTitle:"8ãæèé¢",charIndex:11282},{level:2,title:"4ãéç½®è§£æ",slug:"_4ãéç½®è§£æ",normalizedTitle:"4ãéç½®è§£æ",charIndex:11523},{level:3,title:"1ãæ ¸å¿éç½®æä»¶",slug:"_1ãæ ¸å¿éç½®æä»¶",normalizedTitle:"1ãæ ¸å¿éç½®æä»¶",charIndex:11550},{level:3,title:"2ãç¯å¢éç½®ï¼environmentsï¼",slug:"_2ãç¯å¢éç½®-environments",normalizedTitle:"2ãç¯å¢éç½®ï¼environmentsï¼",charIndex:11992},{level:3,title:"3ãå±æ§ï¼propertiesï¼",slug:"_3ãå±æ§-properties",normalizedTitle:"3ãå±æ§ï¼propertiesï¼",charIndex:12182},{level:3,title:"4ãç±»åå«åï¼typeAliasesï¼",slug:"_4ãç±»åå«å-typealiases",normalizedTitle:"4ãç±»åå«åï¼typealiasesï¼",charIndex:12728},{level:3,title:"5ãè®¾ç½®",slug:"_5ãè®¾ç½®",normalizedTitle:"5ãè®¾ç½®",charIndex:13223},{level:3,title:"6ãå¶ä»éç½®",slug:"_6ãå¶ä»éç½®",normalizedTitle:"6ãå¶ä»éç½®",charIndex:13281},{level:3,title:"7ãæ å°å¨ï¼mappersï¼",slug:"_7ãæ å°å¨-mappers",normalizedTitle:"7ãæ å°å¨ï¼mappersï¼",charIndex:13412},{level:3,title:"8ãçå½å¨æåä½ç¨å",slug:"_8ãçå½å¨æåä½ç¨å",normalizedTitle:"8ãçå½å¨æåä½ç¨å",charIndex:14082},{level:2,title:"5ãå±æ§ååå­æ®µåéç½®",slug:"_5ãå±æ§ååå­æ®µåéç½®",normalizedTitle:"5ãå±æ§ååå­æ®µåéç½®",charIndex:14515},{level:3,title:"1ã é®é¢",slug:"_1ã-é®é¢",normalizedTitle:"1ã é®é¢",charIndex:14598},{level:3,title:"2ãresultMap",slug:"_2ãresultmap",normalizedTitle:"2ãresultmap",charIndex:14994},{level:2,title:"6ãæ¥å¿",slug:"_6ãæ¥å¿",normalizedTitle:"6ãæ¥å¿",charIndex:15603},{level:3,title:"6.1ãæ¥å¿å·¥å",slug:"_6-1ãæ¥å¿å·¥å",normalizedTitle:"6.1ãæ¥å¿å·¥å",charIndex:15628},{level:3,title:"6.2ãLog4j",slug:"_6-2ãlog4j",normalizedTitle:"6.2ãlog4j",charIndex:15981},{level:2,title:"7ãåé¡µ",slug:"_7ãåé¡µ",normalizedTitle:"7ãåé¡µ",charIndex:18120},{level:3,title:"7.1ãä½¿ç¨Limitåé¡µ",slug:"_7-1ãä½¿ç¨limitåé¡µ",normalizedTitle:"7.1ãä½¿ç¨limitåé¡µ",charIndex:18154},{level:3,title:"7.2ãRowBoundsåé¡µ",slug:"_7-2ãrowboundsåé¡µ",normalizedTitle:"7.2ãrowboundsåé¡µ",charIndex:19256},{level:3,title:"7.3ãåé¡µæä»¶",slug:"_7-3ãåé¡µæä»¶",normalizedTitle:"7.3ãåé¡µæä»¶",charIndex:20131},{level:2,title:"8ãä½¿ç¨æ³¨è§£å¼å",slug:"_8ãä½¿ç¨æ³¨è§£å¼å",normalizedTitle:"8ãä½¿ç¨æ³¨è§£å¼å",charIndex:20182},{level:3,title:"8.1ãé¢åæ¥å£ç¼ç¨",slug:"_8-1ãé¢åæ¥å£ç¼ç¨",normalizedTitle:"8.1ãé¢åæ¥å£ç¼ç¨",charIndex:20211},{level:3,title:"8.2ãä½¿ç¨æ³¨è§£å¼å",slug:"_8-2ãä½¿ç¨æ³¨è§£å¼å",normalizedTitle:"8.2ãä½¿ç¨æ³¨è§£å¼å",charIndex:20880},{level:3,title:"8.3ãCRUD",slug:"_8-3ãcrud",normalizedTitle:"8.3ãcrud",charIndex:21213},{level:2,title:"9ãLombok",slug:"_9ãlombok",normalizedTitle:"9ãlombok",charIndex:22149},{level:2,title:"10ãå¤å¯¹ä¸å¤ç",slug:"_10ãå¤å¯¹ä¸å¤ç",normalizedTitle:"10ãå¤å¯¹ä¸å¤ç",charIndex:23368},{level:3,title:"æµè¯ç¯å¢æ­å»º",slug:"æµè¯ç¯å¢æ­å»º",normalizedTitle:"æµè¯ç¯å¢æ­å»º",charIndex:24601},{level:3,title:"æç§æ¥è¯¢åµå¥å¤ç",slug:"æç§æ¥è¯¢åµå¥å¤ç",normalizedTitle:"æç§æ¥è¯¢åµå¥å¤ç",charIndex:24745},{level:3,title:"æç§ç»æåµå¥å¤ç",slug:"æç§ç»æåµå¥å¤ç",normalizedTitle:"æç§ç»æåµå¥å¤ç",charIndex:25380},{level:2,title:"11ãä¸å¯¹å¤å¤ç",slug:"_11ãä¸å¯¹å¤å¤ç",normalizedTitle:"11ãä¸å¯¹å¤å¤ç",charIndex:25915},{level:3,title:"ç¯å¢æ­å»º",slug:"ç¯å¢æ­å»º",normalizedTitle:"ç¯å¢æ­å»º",charIndex:24603},{level:3,title:"æç§æ¥è¯¢åµå¥å¤ç",slug:"æç§æ¥è¯¢åµå¥å¤ç-2",normalizedTitle:"æç§æ¥è¯¢åµå¥å¤ç",charIndex:24745},{level:3,title:"æç§ç»æåµå¥å¤ç",slug:"æç§ç»æåµå¥å¤ç-2",normalizedTitle:"æç§ç»æåµå¥å¤ç",charIndex:25380},{level:3,title:"å°ç»",slug:"å°ç»",normalizedTitle:"å°ç»",charIndex:27467},{level:2,title:"12ãå¨æ SQL",slug:"_12ãå¨æ-sql",normalizedTitle:"12ãå¨æ sql",charIndex:27779},{level:3,title:"æ­å»ºç¯å¢",slug:"æ­å»ºç¯å¢",normalizedTitle:"æ­å»ºç¯å¢",charIndex:1321},{level:3,title:"IF",slug:"if",normalizedTitle:"if",charIndex:29647},{level:3,title:"choose (when, otherwise)",slug:"choose-when-otherwise",normalizedTitle:"choose (when, otherwise)",charIndex:28012},{level:3,title:"trim (where,set)",slug:"trim-where-set",normalizedTitle:"trim (where,set)",charIndex:31336},{level:3,title:"SQLçæ®µ",slug:"sqlçæ®µ",normalizedTitle:"sqlçæ®µ",charIndex:32404},{level:3,title:"Foreach",slug:"foreach",normalizedTitle:"foreach",charIndex:33068},{level:2,title:"13ãç¼å­",slug:"_13ãç¼å­",normalizedTitle:"13ãç¼å­",charIndex:34508},{level:3,title:"13.1ãç®ä»",slug:"_13-1ãç®ä»",normalizedTitle:"13.1ãç®ä»",charIndex:34534},{level:3,title:"13.2ãMybatisç¼å­",slug:"_13-2ãmybatisç¼å­",normalizedTitle:"13.2ãmybatisç¼å­",charIndex:34890},{level:3,title:"13.3ãä¸çº§ç¼å­",slug:"_13-3ãä¸çº§ç¼å­",normalizedTitle:"13.3ãä¸çº§ç¼å­",charIndex:35154},{level:3,title:"13.4ãäºçº§ç¼å­",slug:"_13-4ãäºçº§ç¼å­",normalizedTitle:"13.4ãäºçº§ç¼å­",charIndex:35498},{level:3,title:"13.5ãç¼å­åç",slug:"_13-5ãç¼å­åç",normalizedTitle:"13.5ãç¼å­åç",charIndex:36432},{level:3,title:"13.6ãèªå®ä¹ç¼å­-ehcache",slug:"_13-6ãèªå®ä¹ç¼å­-ehcache",normalizedTitle:"13.6ãèªå®ä¹ç¼å­-ehcache",charIndex:36448}],headersStr:"1ãç®ä» 1.1ãä»ä¹æ¯Mybatis 1.2ãæä¹å 1.3ãæä¹å± 1.4 ä¸ºä»ä¹éè¦Mybatisï¼ 2ãç¬¬ä¸ä¸ªMybatisç¨åº 2.1ãæ­å»ºç¯å¢ 2.2ãåå»ºä¸ä¸ªæ¨¡å 2.3ãç¼åä»£ç  2.4ãæµè¯ 3ãCRUD 1ãnamespace 2ãselect 3ãInsert 4ãupdate 5ãDelete 6ãåæéè¯¯ 7ãä¸è½Map 8ãæèé¢ 4ãéç½®è§£æ 1ãæ ¸å¿éç½®æä»¶ 2ãç¯å¢éç½®ï¼environmentsï¼ 3ãå±æ§ï¼propertiesï¼ 4ãç±»åå«åï¼typeAliasesï¼ 5ãè®¾ç½® 6ãå¶ä»éç½® 7ãæ å°å¨ï¼mappersï¼ 8ãçå½å¨æåä½ç¨å 5ãå±æ§ååå­æ®µåéç½® 1ã é®é¢ 2ãresultMap 6ãæ¥å¿ 6.1ãæ¥å¿å·¥å 6.2ãLog4j 7ãåé¡µ 7.1ãä½¿ç¨Limitåé¡µ 7.2ãRowBoundsåé¡µ 7.3ãåé¡µæä»¶ 8ãä½¿ç¨æ³¨è§£å¼å 8.1ãé¢åæ¥å£ç¼ç¨ 8.2ãä½¿ç¨æ³¨è§£å¼å 8.3ãCRUD 9ãLombok 10ãå¤å¯¹ä¸å¤ç æµè¯ç¯å¢æ­å»º æç§æ¥è¯¢åµå¥å¤ç æç§ç»æåµå¥å¤ç 11ãä¸å¯¹å¤å¤ç ç¯å¢æ­å»º æç§æ¥è¯¢åµå¥å¤ç æç§ç»æåµå¥å¤ç å°ç» 12ãå¨æ SQL æ­å»ºç¯å¢ IF choose (when, otherwise) trim (where,set) SQLçæ®µ Foreach 13ãç¼å­ 13.1ãç®ä» 13.2ãMybatisç¼å­ 13.3ãä¸çº§ç¼å­ 13.4ãäºçº§ç¼å­ 13.5ãç¼å­åç 13.6ãèªå®ä¹ç¼å­-ehcache",content:'# Mybatis\n\nçç¥mybatisè§é¢æç¨ï¼https://www.bilibili.com/video/BV1NE411Q7Nx\n\n\n# 1ãç®ä»\n\n\n# 1.1ãä»ä¹æ¯Mybatis\n\n\n\n * MyBatis æ¯ä¸æ¬¾ä¼ç§çæä¹å±æ¡æ¶\n * å®æ¯æå®å¶å SQLãå­å¨è¿ç¨ä»¥åé«çº§æ å°ã\n * MyBatis é¿åäºå ä¹ææç JDBC ä»£ç åæå¨è®¾ç½®åæ°ä»¥åè·åç»æéã\n * MyBatis å¯ä»¥ä½¿ç¨ç®åç XML ææ³¨è§£æ¥éç½®åæ å°åçç±»åãæ¥å£å Java ç POJOï¼Plain Old Java Objectsï¼æ®éèå¼ Java å¯¹è±¡ï¼ä¸ºæ°æ®åºä¸­çè®°å½ã\n * MyBatis æ¬æ¯apacheçä¸ä¸ªå¼æºé¡¹ç®iBatis, 2010å¹´è¿ä¸ªé¡¹ç®ç±apache software foundation è¿ç§»å°äºgoogle codeï¼å¹¶ä¸æ¹åä¸ºMyBatis ã\n * 2013å¹´11æè¿ç§»å°Githubã\n\nå¦ä½è·å¾Mybatisï¼\n\n * mavenä»åºï¼\n   \n   \x3c!-- https://mvnrepository.com/artifact/org.mybatis/mybatis --\x3e\n   <dependency>\n       <groupId>org.mybatis</groupId>\n       <artifactId>mybatis</artifactId>\n       <version>3.5.2</version>\n   </dependency>\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   \n\n * Github ï¼ https://github.com/mybatis/mybatis-3/releases\n\n * ä¸­æææ¡£ï¼https://mybatis.org/mybatis-3/zh/index.html\n\n\n# 1.2ãæä¹å\n\næ°æ®æä¹å\n\n * æä¹åå°±æ¯å°ç¨åºçæ°æ®å¨æä¹ç¶æåç¬æ¶ç¶æè½¬åçè¿ç¨\n * åå­ï¼æ­çµå³å¤±\n * æ°æ®åº(Jdbc)ï¼ioæä»¶æä¹åã\n * çæ´»ï¼å·è. ç½å¤´ã\n\nä¸ºä»ä¹éè¦éè¦æä¹åï¼\n\n * æä¸äºå¯¹è±¡ï¼ä¸è½è®©ä»ä¸¢æã\n\n * åå­å¤ªè´µäº\n\n\n# 1.3ãæä¹å±\n\nDaoå±ï¼Serviceå±ï¼Controllerå±â¦.\n\n * å®ææä¹åå·¥ä½çä»£ç å\n * å±çéååææ¾ã\n\n\n# 1.4 ä¸ºä»ä¹éè¦Mybatisï¼\n\n * å¸®å©ç¨åºç¿å°æ°æ®å­å¥å°æ°æ®åºä¸­ã\n * æ¹ä¾¿\n * ä¼ ç»çJDBCä»£ç å¤ªå¤æäºãç®åãæ¡æ¶ãèªå¨åã\n * ä¸ç¨Mybatisä¹å¯ä»¥ãæ´å®¹æä¸æã ææ¯æ²¡æé«ä½ä¹å\n * ä¼ç¹ï¼\n   * ç®åæå­¦\n   * çµæ´»\n   * sqlåä»£ç çåç¦»ï¼æé«äºå¯ç»´æ¤æ§ã\n   * æä¾æ å°æ ç­¾ï¼æ¯æå¯¹è±¡ä¸æ°æ®åºçormå­æ®µå³ç³»æ å°\n   * æä¾å¯¹è±¡å³ç³»æ å°æ ç­¾ï¼æ¯æå¯¹è±¡å³ç³»ç»å»ºç»´æ¤\n   * æä¾xmlæ ç­¾ï¼æ¯æç¼åå¨æsqlã\n\næéè¦çä¸ç¹ï¼ä½¿ç¨çäººå¤ï¼\n\n\n# 2ãç¬¬ä¸ä¸ªMybatisç¨åº\n\nåå»ºæ¨¡åmybatis-01 ä»£ç æä»¶å¦ä¸ï¼\n\n\n\næè·¯ï¼æ­å»ºç¯å¢--\x3eå¯¼å¥Mybatis--\x3eç¼åä»£ç --\x3eæµè¯ï¼\n\n\n# 2.1ãæ­å»ºç¯å¢\n\næ­å»ºæ°æ®åº\n\nCREATE DATABASE `mybatis`;\n\nUSE `mybatis`;\n\nCREATE TABLE `user`(\n  `id` INT(20) NOT NULL PRIMARY KEY,\n  `name` VARCHAR(30) DEFAULT NULL,\n  `pwd` VARCHAR(30) DEFAULT NULL\n)ENGINE=INNODB DEFAULT CHARSET=utf8;\n\nINSERT INTO `user`(`id`,`name`,`pwd`) VALUES \n(1,\'çç¥\',\'123456\'),\n(2,\'å¼ ä¸\',\'123456\'),\n(3,\'æå\',\'123890\')\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\næ°å»ºé¡¹ç®\n\n 1. æ°å»ºä¸ä¸ªæ®éçmavené¡¹ç®\n\n 2. å é¤srcç®å½\n\n 3. å¯¼å¥mavenä¾èµåéææä»¶å¯¼åºéç½®\n    \n    \x3c!--å¯¼å¥ä¾èµ--\x3e\n    <dependencies>\n        \x3c!--mysqlé©±å¨--\x3e\n        <dependency>\n            <groupId>mysql</groupId>\n            <artifactId>mysql-connector-java</artifactId>\n            <version>5.1.47</version>\n        </dependency>\n        \x3c!--mybatis--\x3e\n        \x3c!-- https://mvnrepository.com/artifact/org.mybatis/mybatis --\x3e\n        <dependency>\n            <groupId>org.mybatis</groupId>\n            <artifactId>mybatis</artifactId>\n            <version>3.5.2</version>\n        </dependency>\n        \x3c!--junit--\x3e\n        <dependency>\n            <groupId>junit</groupId>\n            <artifactId>junit</artifactId>\n            <version>4.12</version>\n        </dependency>\n    </dependencies>\n    \n    \x3c!--å¨buildä¸­éç½®resourcesï¼æ¥é²æ­¢æä»¬èµæºå¯¼åºå¤±è´¥çé®é¢--\x3e\n    <build>\n        <resources>\n            <resource>\n                <directory>src/main/resources</directory>\n                <includes>\n                    <include>**/*.properties</include>\n                    <include>**/*.xml</include>\n                </includes>\n                <filtering>true</filtering>\n            </resource>\n            <resource>\n                <directory>src/main/java</directory>\n                <includes>\n                    <include>**/*.properties</include>\n                    <include>**/*.xml</include>\n                </includes>\n                <filtering>true</filtering>\n            </resource>\n        </resources>\n    </build>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    44\n    \n\næ³¨ï¼è¥mysqlé©±å¨çæ¬ä¸º8.xçæ¬ï¼éè¦éç½®mysqlæ¶åºï¼è¿éæ´æ¹é©±å¨ä¸ºcom.mysql.cj.jdbc.Driver\n\n\n# 2.2ãåå»ºä¸ä¸ªæ¨¡å\n\n * ç¼åmybatisçæ ¸å¿éç½®æä»¶\n   \n   å¨resourcesä¸æ·»å mybatis-config.xml\n   \n   <?xml version="1.0" encoding="UTF-8" ?>\n   <!DOCTYPE configuration\n           PUBLIC "-//mybatis.org//DTD Config 3.0//EN"\n           "http://mybatis.org/dtd/mybatis-3-config.dtd">\n   \n   <configuration>\n   \n       <environments default="development">\n           <environment id="development">\n               <transactionManager type="JDBC"/>\n               <dataSource type="POOLED">\n                   <property name="driver" value="com.mysql.jdbc.Driver"/>\n                   <property name="url" value="jdbc:mysql://localhost:3306/mybatis?useSSL=true&amp;useUnicode=true&amp;characterEncoding=UTF-8"/>\n                   <property name="username" value="root"/>\n                   <property name="password" value="123456"/>\n               </dataSource>\n           </environment>\n       </environments>\n   \n   </configuration>\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   \n   \n   å¦æè¦æ·»å ä¸­ææ³¨éï¼æç¬¬ä¸è¡çencoding="UTF-8"æ¹æencoding="utf8"\n\n * ç¼åmybatiså·¥å·ç±»\n   \n   public class MybatisUtils {\n       private static SqlSessionFactory sqlSessionFactory;\n   \n       static {\n           try {\n               //ä½¿ç¨Mybatisç¬¬ä¸æ­¥ï¼è·åsqlSessionFactoryå¯¹è±¡\n               String resource = "mybatis-config.xml";\n               InputStream inputStream = Resources.getResourceAsStream(resource);\n               sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream);\n           } catch (IOException e) {\n               e.printStackTrace();\n           }\n   \n       }\n   \n       /**\n        * æ¢ç¶æäº SqlSessionFactoryï¼é¡¾åæä¹ï¼æä»¬å°±å¯ä»¥ä»ä¸­è·å¾ SqlSession çå®ä¾äºã\n        * SqlSession å®å¨åå«äºé¢åæ°æ®åºæ§è¡ SQL å½ä»¤æéçæææ¹æ³ã\n        * @return SqlSession\n        */\n       public static SqlSession getSqlSession() {\n           return sqlSessionFactory.openSession();\n       }\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   22\n   23\n   24\n   \n\n\n# 2.3ãç¼åä»£ç \n\n * å®ä½ç±»\n   \n   //å®ä½ç±»\n   public class User {\n       private int id;\n       private String name;\n       private String pwd;\n   \n       public User() {\n       }\n   \n       public User(int id, String name, String pwd) {\n           this.id = id;\n           this.name = name;\n           this.pwd = pwd;\n       }\n   \n       public int getId() {\n           return id;\n       }\n   \n       public void setId(int id) {\n           this.id = id;\n       }\n   \n       public String getName() {\n           return name;\n       }\n   \n       public void setName(String name) {\n           this.name = name;\n       }\n   \n       public String getPwd() {\n           return pwd;\n       }\n   \n       public void setPwd(String pwd) {\n           this.pwd = pwd;\n       }\n   \n       @Override\n       public String toString() {\n           return "User{" +\n                   "id=" + id +\n                   ", name=\'" + name + \'\\\'\' +\n                   ", pwd=\'" + pwd + \'\\\'\' +\n                   \'}\';\n       }\n   }\n   \n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   22\n   23\n   24\n   25\n   26\n   27\n   28\n   29\n   30\n   31\n   32\n   33\n   34\n   35\n   36\n   37\n   38\n   39\n   40\n   41\n   42\n   43\n   44\n   45\n   46\n   47\n   48\n   49\n   \n\n * Daoæ¥å£\n   \n   public interface UserDao {\n        /**\n        * æ§è¡sqlï¼è·åliståé\n        * @return\n        */\n       List<User> getUserList();\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   \n\n * æ¥å£å®ç°ç±»ç±åæ¥çUserDaoImplè½¬åä¸ºä¸ä¸ª Mapperéç½®æä»¶\n   \n   UserMapper.xml\n   \n   <?xml version="1.0" encoding="utf8" ?>\n   <!DOCTYPE mapper\n           PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"\n           "http://mybatis.org/dtd/mybatis-3-mapper.dtd">\n   \x3c!--namespace=ç»å®ä¸ä¸ªå¯¹åºçDao/Mapperæ¥å£--\x3e\n   <mapper namespace="com.oddfar.dao.UserMapper">\n   \n       \x3c!--selectæ¥è¯¢è¯­å¥--\x3e\n       <select id="getUserList" resultType="com.oddfar.pojo.User">\n           select * from mybatis.user\n       </select>\n   \n   </mapper>\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   \n\n\n# 2.4ãæµè¯\n\næ ¸å¿éç½®æä»¶ä¸­æ³¨å mappers\n\n * junitæµè¯\n   \n   @Test\n   public void test(){\n       //ç¬¬ä¸æ­¥ï¼è·å¾SqlSessionå¯¹è±¡\n       SqlSession sqlSession = MybatisUtils.getSqlSession();\n   \n   \n       //æ¹å¼ä¸ï¼getMapper\n       UserDao userDao = sqlSession.getMapper(UserDao.class);\n       List<User> userList = userDao.getUserList();\n   \n       for (User user : userList) {\n           System.out.println(user);\n       }\n   \n   \n   \n       //å³é­SqlSession\n       sqlSession.close();\n   }\n   \n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   \n\nä½ ä»¬å¯ä»¥è½ä¼éå°çé®é¢ï¼\n\n 1. éç½®æä»¶æ²¡ææ³¨å\n 2. ç»å®æ¥å£éè¯¯ã\n 3. æ¹æ³åä¸å¯¹\n 4. è¿åç±»åä¸å¯¹\n 5. Mavenå¯¼åºèµæºé®é¢\n\n\n# 3ãCRUD\n\n\n# 1ãnamespace\n\nnamespaceä¸­çååè¦å Dao/mapper æ¥å£çååä¸è´ï¼\n\n\n# 2ãselect\n\néæ©ï¼æ¥è¯¢è¯­å¥;\n\n * id : å°±æ¯å¯¹åºçnamespaceä¸­çæ¹æ³åï¼\n\n * resultTypeï¼Sqlè¯­å¥æ§è¡çè¿åå¼ï¼\n\n * parameterType ï¼ åæ°ç±»åï¼\n\n 1. ç¼åæ¥å£\n    \n    //æ ¹æ®IDæ¥è¯¢ç¨æ·\n    User getUserById(int id);\n    \n    \n    1\n    2\n    \n\n 2. ç¼åå¯¹åºçmapperä¸­çsqlè¯­å¥\n    \n    <select id="getUserById" parameterType="int" resultType="com.oddfar.pojo.User">\n            select * from mybatis.user where id = #{id}\n    </select>\n    \n    \n    1\n    2\n    3\n    \n\n 3. æµè¯\n    \n    @Test\n    public void getUserById() {\n        SqlSession sqlSession = MybatisUtils.getSqlSession();\n    \n        UserMapper mapper = sqlSession.getMapper(UserMapper.class);\n    \n        User user = mapper.getUserById(1);\n        System.out.println(user);\n    \n        sqlSession.close();\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    \n\n\n# 3ãInsert\n\n\x3c!--å¯¹è±¡ä¸­çå±æ§ï¼å¯ä»¥ç´æ¥ååºæ¥--\x3e\n<insert id="addUser" parameterType="com.oddfar.pojo.User">\n    insert into mybatis.user (id, name, pwd) values (#{id},#{name},#{pwd});\n</insert>\n\n\n1\n2\n3\n4\n\n\n@Test\npublic void addUser() {\n    SqlSession sqlSession = MybatisUtils.getSqlSession();\n\n    UserMapper mapper = sqlSession.getMapper(UserMapper.class);\n    int res = mapper.addUser(new User(4, "zhiyuan", "212313"));\n    if (res > 0) {\n        //æäº¤äºå¡\n        sqlSession.commit();\n        System.out.println("æ·»å æå");\n    }\n    sqlSession.close();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# 4ãupdate\n\n<update id="updateUser" parameterType="com.oddfar.pojo.User">\n    update mybatis.user set name=#{name},pwd=#{pwd}  where id = #{id} ;\n</update>\n\n\n1\n2\n3\n\n\n\n# 5ãDelete\n\n<delete id="deleteUser" parameterType="int">\n    delete from mybatis.user where id = #{id};\n</delete>\n\n\n1\n2\n3\n\n\næ³¨æç¹ï¼\n\n * å¢å æ¹éè¦æäº¤äºå¡ï¼\n   \n   sqlSession.commit();\n\n\n# 6ãåæéè¯¯\n\n * æ ç­¾ä¸è¦å¹éé\n * resource ç»å®mapperï¼éè¦ä½¿ç¨è·¯å¾ï¼\n * ç¨åºéç½®æä»¶å¿é¡»ç¬¦åè§èï¼\n * NullPointerExceptionï¼æ²¡ææ³¨åå°èµæº!\n * è¾åºçxmlæä»¶ä¸­å­å¨ä¸­æä¹±ç é®é¢ï¼\n * mavenèµæºæ²¡æå¯¼åºé®é¢ï¼\n\n\n# 7ãä¸è½Map\n\nåè®¾ï¼æä»¬çå®ä½ç±»ï¼æèæ°æ®åºä¸­çè¡¨ï¼å­æ®µæèåæ°è¿å¤ï¼æä»¬åºå½èèä½¿ç¨Mapï¼\n\n//ä¸è½çMap\nint addUser2(Map<String,Object> map);\n\n\n1\n2\n\n\n\x3c!--    ç¨mapéåçæ¹å¼æå¥--\x3e\n<insert id="addUser2" parameterType="map">\n    insert into mybatis.user (id,name,pwd) values (#{userid},#{username},#{passWord});\n</insert>\n\n\n1\n2\n3\n4\n\n\n/**\n * ç¨mapçå½¢å¼æå¥æ°æ®\n */\n@Test\npublic void addUser2() {\n    SqlSession sqlSession = MybatisUtils.getSqlSession();\n\n    UserMapper mapper = sqlSession.getMapper(UserMapper.class);\n    Map<String,Object> map = new HashMap<String, Object>();\n    map.put("userid",5);\n    map.put("passWord","2222333");\n    map.put("username","map");\n\n    int res = mapper.addUser2(map);\n    if (res > 0) {\n        //æäº¤äºå¡\n        sqlSession.commit();\n        System.out.println("æ·»å æå");\n    }\n    sqlSession.close();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\nMapä¼ éåæ°ï¼ç´æ¥å¨sqlä¸­ååºkeyå³å¯ï¼ ãparameterType="map"ã\n\nå¯¹è±¡ä¼ éåæ°ï¼ç´æ¥å¨sqlä¸­åå¯¹è±¡çå±æ§å³å¯ï¼ãparameterType="Object"ã\n\nåªæä¸ä¸ªåºæ¬ç±»ååæ°çæåµä¸ï¼å¯ä»¥ç´æ¥å¨sqlä¸­åå°ï¼\n\nå¤ä¸ªåæ°ç¨Mapï¼æèæ³¨è§£ï¼\n\n\n# 8ãæèé¢\n\næ¨¡ç³æ¥è¯¢æä¹åï¼\n\næä¸¤ç§æ¹å¼\n\n * Javaä»£ç æ§è¡çæ¶åï¼ä¼ éééç¬¦ % %\n\nList<User> userList = mapper.getUserLike("%æ%");\n\n\n1\n\n\nè¿æ¯æä»¬æå®æ¥è¯¢"%æ%"ï¼å¦ææ¾ä¸ªåæ°è·åï¼è¿ç§æ¹å¼åä¸è½é¿åsqlæ³¨å¥é®é¢\n\n * å¨sqlæ¼æ¥ä¸­ä½¿ç¨ééç¬¦ï¼\n\nselect * from mybatis.user where name like "%"#{value}"%"\n\n\n1\n\n\næ¨èä½¿ç¨è¿ç§æ¹æ³\n\n\n# 4ãéç½®è§£æ\n\nåå»ºæ¨¡åmybatis-02\n\n\n# 1ãæ ¸å¿éç½®æä»¶\n\n * mybatis-config.xml\n\n * MyBatis çéç½®æä»¶åå«äºä¼æ·±æ·±å½±å MyBatis è¡ä¸ºçè®¾ç½®åå±æ§ä¿¡æ¯ã\n   \n   configurationï¼éç½®ï¼\n   propertiesï¼å±æ§ï¼\n   settingsï¼è®¾ç½®ï¼\n   typeAliasesï¼ç±»åå«åï¼\n   typeHandlersï¼ç±»åå¤çå¨ï¼\n   objectFactoryï¼å¯¹è±¡å·¥åï¼\n   pluginsï¼æä»¶ï¼\n   environmentsï¼ç¯å¢éç½®ï¼\n   environmentï¼ç¯å¢åéï¼\n   transactionManagerï¼äºå¡ç®¡çå¨ï¼\n   dataSourceï¼æ°æ®æºï¼\n   databaseIdProviderï¼æ°æ®åºååæ è¯ï¼\n   mappersï¼æ å°å¨ï¼\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   \n\n\n# 2ãç¯å¢éç½®ï¼environmentsï¼\n\nMyBatis å¯ä»¥éç½®æéåºå¤ç§ç¯å¢\n\nä¸è¿è¦è®°ä½ï¼å°½ç®¡å¯ä»¥éç½®å¤ä¸ªç¯å¢ï¼ä½æ¯ä¸ª SqlSessionFactory å®ä¾åªè½éæ©ä¸ç§ç¯å¢ã\n\nå¦æè¦æ³åè¿æ¥å¶å®æ°æ®åºï¼åéè¦éæ°ååä¸ªMybatisUtilså·¥å·ç±»\n\nå­¦ä¼ä½¿ç¨éç½®å¤å¥è¿è¡ç¯å¢ï¼\n\nMybatisé»è®¤çäºå¡ç®¡çå¨å°±æ¯ JDBC ï¼ è¿æ¥æ±  ï¼ POOLED\n\n\n# 3ãå±æ§ï¼propertiesï¼\n\næä»¬å¯ä»¥éè¿propertieså±æ§æ¥å®ç°å¼ç¨éç½®æä»¶\n\nè¿äºå±æ§é½æ¯å¯å¤é¨éç½®ä¸å¯å¨ææ¿æ¢çï¼æ¢å¯ä»¥å¨å¸åç Java å±æ§æä»¶ä¸­éç½®ï¼äº¦å¯éè¿ properties åç´ çå­åç´ æ¥ä¼ éã\n\n\n\nç¼åä¸ä¸ªéç½®æä»¶db.properties\n\ndriver=com.mysql.jdbc.Driver\nurl=jdbc:mysql://localhost:3306/mybatis?useSSL=true&useUnicode=true&characterEncoding=UTF-8\nusername=root\npassword=123456\n\n\n1\n2\n3\n4\n\n\nå¨æ ¸å¿éç½®æä»¶ä¸­æ å¥\n\n\x3c!--å¼å¥å¤é¨éç½®æä»¶--\x3e\n<properties resource="db.properties">\n    <property name="username" value="root"/>\n    <property name="pwd" value="11111"/>\n</properties>\n\n\n1\n2\n3\n4\n5\n\n * å¯ä»¥ç´æ¥å¼å¥å¤é¨æä»¶\n * å¯ä»¥å¨å¶ä¸­å¢å ä¸äºå±æ§éç½®\n * å¦æä¸¤ä¸ªæä»¶æåä¸ä¸ªå­æ®µï¼ä¼åä½¿ç¨å¤é¨éç½®æä»¶çï¼\n\n\n# 4ãç±»åå«åï¼typeAliasesï¼\n\n * ç±»åå«åæ¯ä¸º Java ç±»åè®¾ç½®ä¸ä¸ªç­çåå­ãâ\n * å­å¨çæä¹ä»å¨äºç¨æ¥åå°ç±»å®å¨éå®åçåä½ã\n\n\x3c!--å¯ä»¥ç»å®ä½ç±»èµ·å«å--\x3e\n<typeAliases>\n    <typeAlias type="com.oddfar.pojo.User" alias="User"/>\n</typeAliases>\n\n\n1\n2\n3\n4\n\n\nä¹å¯ä»¥æå®ä¸ä¸ªååï¼MyBatis ä¼å¨ååä¸é¢æç´¢éè¦ç Java Beanï¼æ¯å¦ï¼\n\næ«æå®ä½ç±»çåï¼å®çé»è®¤å«åå°±ä¸ºè¿ä¸ªç±»çç±»åï¼é¦å­æ¯å°åï¼\n\n\x3c!--å¯ä»¥ç»å®ä½ç±»èµ·å«å--\x3e\n<typeAliases>\n    <package name="com.oddfar.pojo"/>\n</typeAliases>\n\n\n1\n2\n3\n4\n\n\nå¨å®ä½ç±»æ¯è¾å°çæ¶åï¼ä½¿ç¨ç¬¬ä¸ç§æ¹å¼ã\n\nå¦æå®ä½ç±»ååå¤ï¼å»ºè®®ä½¿ç¨ç¬¬äºç§ã\n\nç¬¬ä¸ç§å¯ä»¥èªå®ä¹å«åï¼ç¬¬äºç§åä¸è¡ï¼å«åä¸ºæä»¶åï¼ï¼å¦æéè¦æ¹ï¼éè¦å¨å®ä½ä¸å¢å æ³¨è§£\n\n@Alias("user")\npublic class User {}\n\n\n1\n2\n\n\n\n# 5ãè®¾ç½®\n\nè¿æ¯ MyBatis ä¸­æä¸ºéè¦çè°æ´è®¾ç½®ï¼å®ä»¬ä¼æ¹å MyBatis çè¿è¡æ¶è¡ä¸ºã\n\n\n\n\n\n\n# 6ãå¶ä»éç½®\n\n * typeHandlersï¼ç±»åå¤çå¨ï¼\n * objectFactoryï¼å¯¹è±¡å·¥åï¼\n * pluginsæä»¶\n   * mybatis-generator-core\n   * mybatis-plus\n   * éç¨mapper\n\n\n# 7ãæ å°å¨ï¼mappersï¼\n\nMapperRegistryï¼æ³¨åç»å®æä»¬çMapperæä»¶ï¼\n\næ¹å¼ä¸ï¼ ãæ¨èä½¿ç¨ã\n\n\x3c!--æ¯ä¸ä¸ªMapper.XMLé½éè¦å¨Mybatisæ ¸å¿éç½®æä»¶ä¸­æ³¨åï¼--\x3e\n<mappers>\n    <mapper resource="com/oddfar/dao/UserMapper.xml"/>\n</mappers>\n\n\n1\n2\n3\n4\n\n\næ¹å¼äºï¼ä½¿ç¨classæä»¶ç»å®æ³¨å\n\n\x3c!--æ¯ä¸ä¸ªMapper.XMLé½éè¦å¨Mybatisæ ¸å¿éç½®æä»¶ä¸­æ³¨åï¼--\x3e\n<mappers>\n    <mapper class="com.oddfar.dao.UserMapper"/>\n</mappers>\n\n\n1\n2\n3\n4\n\n\næ³¨æç¹ï¼\n\n * æ¥å£åä»çMapperéç½®æä»¶å¿é¡»ååï¼\n * æ¥å£åä»çMapperéç½®æä»¶å¿é¡»å¨åä¸ä¸ªåä¸ï¼\n\næ¹å¼ä¸ï¼ä½¿ç¨æ«æåè¿è¡æ³¨å¥ç»å®\n\n\x3c!--æ¯ä¸ä¸ªMapper.XMLé½éè¦å¨Mybatisæ ¸å¿éç½®æä»¶ä¸­æ³¨åï¼--\x3e\n<mappers>\n    <package name="com.oddfar.dao"/>\n</mappers>\n\n\n1\n2\n3\n4\n\n\næ³¨æç¹ï¼\n\n * æ¥å£åä»çMapperéç½®æä»¶å¿é¡»ååï¼\n * æ¥å£åä»çMapperéç½®æä»¶å¿é¡»å¨åä¸ä¸ªåä¸ï¼\n\nç»ä¹ æ¶é´ï¼\n\n * å°æ°æ®åºéç½®æä»¶å¤é¨å¼å¥\n * å®ä½ç±»å«å\n * ä¿è¯UserMapper æ¥å£ å UserMapper .xml æ¹ä¸ºä¸è´ï¼å¹¶ä¸æ¾å¨åä¸ä¸ªåä¸ï¼\n\n\n# 8ãçå½å¨æåä½ç¨å\n\n\n\nçå½å¨æï¼åä½ç¨åï¼æ¯è³å³éè¦çï¼å ä¸ºéè¯¯çä½¿ç¨ä¼å¯¼è´éå¸¸ä¸¥éçå¹¶åé®é¢ã\n\nSqlSessionFactoryBuilderï¼\n\n * ä¸æ¦åå»ºäº SqlSessionFactoryï¼å°±ä¸åéè¦å®äº\n * å±é¨åé\n\nSqlSessionFactoryï¼\n\n * è¯´ç½äºå°±æ¯å¯ä»¥æ³è±¡ä¸º ï¼æ°æ®åºè¿æ¥æ± \n * SqlSessionFactory ä¸æ¦è¢«åå»ºå°±åºè¯¥å¨åºç¨çè¿è¡æé´ä¸ç´å­å¨ï¼æ²¡æä»»ä½çç±ä¸¢å¼å®æéæ°åå»ºå¦ä¸ä¸ªå®ä¾ã\n * å æ­¤ SqlSessionFactory çæä½³ä½ç¨åæ¯åºç¨ä½ç¨åã\n * æç®åçå°±æ¯ä½¿ç¨åä¾æ¨¡å¼æèéæåä¾æ¨¡å¼ã\n\nSqlSession\n\n * è¿æ¥å°è¿æ¥æ± çä¸ä¸ªè¯·æ±ï¼\n * SqlSession çå®ä¾ä¸æ¯çº¿ç¨å®å¨çï¼å æ­¤æ¯ä¸è½è¢«å±äº«çï¼æä»¥å®çæä½³çä½ç¨åæ¯è¯·æ±ææ¹æ³ä½ç¨åã\n * ç¨å®ä¹åéè¦èµ¶ç´§å³é­ï¼å¦åèµæºè¢«å ç¨ï¼\n\n\n\nè¿éé¢çæ¯ä¸ä¸ªMapperï¼å°±ä»£è¡¨ä¸ä¸ªå·ä½çä¸å¡ï¼\n\n\n# 5ãå±æ§ååå­æ®µåéç½®\n\nå¨UserMapper.xmlæä»¶ä¸­\n\nå¦ææä»¬çsqlè¯­å¥ä¸­å±æ§ååå­æ®µåä¸ä¸æ ·ï¼åä¼æ¥ä¸å°æ°æ®\n\næ°å»ºmybatis-03æ¨¡å\n\n\n# 1ã é®é¢\n\næ°æ®åºä¸­çå­æ®µ\n\n\n\næ°å»ºä¸ä¸ªé¡¹ç®ï¼æ·è´ä¹åçï¼æµè¯å®ä½ç±»å­æ®µä¸ä¸è´çæåµ\n\npublic class User {\n    private int id;\n    private String name;\n    private String password;\n}\n\n\n1\n2\n3\n4\n5\n\n\nç¼åsqlï¼æµè¯åºç°é®é¢\n\n\n\nè§£å³æ¹æ³æä¸¤ç§ï¼ä¸ç§èµ·å«åï¼ä¸ç§resultMapï¼ç»æéæ å°ï¼\n\n * èµ·å«å\n   \n   <select id="getUserById" resultType="com.kuang.pojo.User">\n       select id,name,pwd as password from mybatis.user where id = #{id}\n   </select>\n   \n   \n   1\n   2\n   3\n   \n\n\n# 2ãresultMap\n\nç»æéæ å°\n\nid   name   pwd\nid   name   password\n\n\n1\n2\n\n\n\x3c!--ç»æéæ å°--\x3e\n<resultMap id="UserMap" type="User">\n    \x3c!--columnæ°æ®åºä¸­çå­æ®µï¼propertyå®ä½ç±»ä¸­çå±æ§--\x3e\n    <result column="id" property="id"/>\n    <result column="name" property="name"/>\n    <result column="pwd" property="password"/>\n</resultMap>\n\n<select id="getUserById" resultMap="UserMap">\n    select * from mybatis.user where id = #{id}\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n * resultMap åç´ æ¯ MyBatis ä¸­æéè¦æå¼ºå¤§çåç´ \n * ResultMap çè®¾è®¡ææ³æ¯ï¼å¯¹äºç®åçè¯­å¥æ ¹æ¬ä¸éè¦éç½®æ¾å¼çç»ææ å°ï¼èå¯¹äºå¤æä¸ç¹çè¯­å¥åªéè¦æè¿°å®ä»¬çå³ç³»å°±è¡äºã\n * ResultMap æä¼ç§çå°æ¹å¨äºï¼è½ç¶ä½ å·²ç»å¯¹å®ç¸å½äºè§£äºï¼ä½æ¯æ ¹æ¬å°±ä¸éè¦æ¾å¼å°ç¨å°ä»ä»¬ã\n * å¦æä¸çæ»æ¯è¿ä¹ç®åå°±å¥½äºã\n\n\n# 6ãæ¥å¿\n\næ°å»ºæ¨¡åmybatis-04\n\n\n# 6.1ãæ¥å¿å·¥å\n\nå¦æä¸ä¸ªæ°æ®åºæä½ï¼åºç°äºå¼å¸¸ï¼æä»¬éè¦æéãæ¥å¿å°±æ¯æå¥½çå©æï¼\n\næ¾ç»ï¼sout ãdebug\n\nç°å¨ï¼æ¥å¿å·¥åï¼\n\n\n\n * SLF4J\n\n * LOG4J ãææ¡ã\n\n * LOG4J2\n\n * JDK_LOGGING\n\n * COMMONS_LOGGING\n\n * STDOUT_LOGGING ãææ¡ã\n\n * NO_LOGGING\n\nå¨Mybatisä¸­å·ä½ä½¿ç¨é£ä¸ªä¸æ¥å¿å®ç°ï¼å¨è®¾ç½®ä¸­è®¾å®ï¼\n\nSTDOUT_LOGGINGæ åæ¥å¿è¾åº\n\nå¨mybatisæ ¸å¿éç½®æä»¶ä¸­ï¼éç½®æä»¬çæ¥å¿ï¼\n\n<settings>\n    <setting name="logImpl" value="STDOUT_LOGGING"/>\n</settings>\n\n\n1\n2\n3\n\n\n\n\n\n# 6.2ãLog4j\n\nä»ä¹æ¯Log4jï¼\n\n * Log4jæ¯Apacheçä¸ä¸ªå¼æºé¡¹ç®ï¼éè¿ä½¿ç¨Log4jï¼æä»¬å¯ä»¥æ§å¶æ¥å¿ä¿¡æ¯è¾éçç®çå°æ¯æ§å¶å°ãæä»¶ãGUIç»ä»¶\n * æä»¬ä¹å¯ä»¥æ§å¶æ¯ä¸æ¡æ¥å¿çè¾åºæ ¼å¼ï¼\n * éè¿å®ä¹æ¯ä¸æ¡æ¥å¿ä¿¡æ¯ççº§å«ï¼æä»¬è½å¤æ´å ç»è´å°æ§å¶æ¥å¿ççæè¿ç¨ã\n * éè¿ä¸ä¸ªéç½®æä»¶æ¥çµæ´»å°è¿è¡éç½®ï¼èä¸éè¦ä¿®æ¹åºç¨çä»£ç ã\n\n 1. åå¯¼å¥log4jçå\n    \n    \x3c!-- https://mvnrepository.com/artifact/log4j/log4j --\x3e\n    <dependency>\n        <groupId>log4j</groupId>\n        <artifactId>log4j</artifactId>\n        <version>1.2.17</version>\n    </dependency>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    \n\n 2. log4j.properties\n    \n    #å°ç­çº§ä¸ºDEBUGçæ¥å¿ä¿¡æ¯è¾åºå°consoleåfileè¿ä¸¤ä¸ªç®çå°ï¼consoleåfileçå®ä¹å¨ä¸é¢çä»£ç \n    log4j.rootLogger=DEBUG,console,file\n    \n    #æ§å¶å°è¾åºçç¸å³è®¾ç½®\n    log4j.appender.console = org.apache.log4j.ConsoleAppender\n    log4j.appender.console.Target = System.out\n    log4j.appender.console.Threshold=DEBUG\n    log4j.appender.console.layout = org.apache.log4j.PatternLayout\n    log4j.appender.console.layout.ConversionPattern=[%c]-%m%n\n    \n    #æä»¶è¾åºçç¸å³è®¾ç½®\n    log4j.appender.file = org.apache.log4j.RollingFileAppender\n    log4j.appender.file.File=./log/kuang.log\n    log4j.appender.file.MaxFileSize=10mb\n    log4j.appender.file.Threshold=DEBUG\n    log4j.appender.file.layout=org.apache.log4j.PatternLayout\n    log4j.appender.file.layout.ConversionPattern=[%p][%d{yy-MM-dd}][%c]%m%n\n    \n    #æ¥å¿è¾åºçº§å«\n    log4j.logger.org.mybatis=DEBUG\n    log4j.logger.java.sql=DEBUG\n    log4j.logger.java.sql.Statement=DEBUG\n    log4j.logger.java.sql.ResultSet=DEBUG\n    log4j.logger.java.sql.PreparedStatement=DEBUG\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    \n\n 3. éç½®log4jä¸ºæ¥å¿çå®ç°\n    \n    <settings>\n        <setting name="logImpl" value="LOG4J"/>\n    </settings>\n    \n    \n    1\n    2\n    3\n    \n\n 4. Log4jçä½¿ç¨ï¼ï¼ç´æ¥æµè¯è¿è¡åæçæ¥è¯¢\n    \n    \n\nç®åä½¿ç¨\n\n 1. å¨è¦ä½¿ç¨Log4j çç±»ä¸­ï¼å¯¼å¥å import org.apache.log4j.Logger;\n\n 2. æ¥å¿å¯¹è±¡ï¼åæ°ä¸ºå½åç±»çclass\n    \n    static Logger logger = Logger.getLogger(UserDaoTest.class);\n    \n    \n    1\n    \n\n 3. æ¥å¿çº§å«\n    \n    logger.info("info:è¿å¥äºtestLog4j");\n    logger.debug("debug:è¿å¥äºtestLog4j");\n    logger.error("error:è¿å¥äºtestLog4j");\n    \n    \n    1\n    2\n    3\n    \n\n\n# 7ãåé¡µ\n\næèï¼ä¸ºä»ä¹è¦åé¡µï¼\n\n * åå°æ°æ®çå¤çé\n\n\n# 7.1ãä½¿ç¨Limitåé¡µ\n\nè¯­æ³ï¼SELECT * from user limit startIndex,pageSize;\nSELECT * from user limit 3;  #[0,n]\n\n\n1\n2\n\n\nä½¿ç¨Mybatiså®ç°åé¡µï¼æ ¸å¿SQL\n\n 1. æ¥å£\n    \n    //åé¡µ\n    List<User> getUserByLimit(Map<String,Integer> map);\n    \n    \n    1\n    2\n    \n\n 2. Mapper.xml\n    \n    \x3c!--//åé¡µ--\x3e\n    <select id="getUserByLimit" parameterType="map" resultMap="UserMap">\n        select * from  mybatis.user limit #{startIndex},#{pageSize}\n    </select>\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 3. æµè¯\n    \n    @Test\n    public void getUserByLimit(){\n    SqlSession sqlSession = MybatisUtils.getSqlSession();\n    UserMapper mapper = sqlSession.getMapper(UserMapper.class);\n    \n    HashMap<String, Integer> map = new HashMap<String, Integer>();\n        map.put("startIndex",1);\n        map.put("pageSize",2);\n    \n        List<User> userList =  mapper.getUserByLimit(map);\n        for (User user : userList) {\n        System.out.println(user);\n        }\n    \n        sqlSession.close();\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    \n\n\n# 7.2ãRowBoundsåé¡µ\n\nä¸åä½¿ç¨SQLå®ç°åé¡µ\n\n 1. æ¥å£\n    \n    //åé¡µ2\n    List<User> getUserByRowBounds();\n    \n    \n    1\n    2\n    \n\n 2. mapper.xml\n    \n    \x3c!--åé¡µ2--\x3e\n    <select id="getUserByRowBounds" resultMap="UserMap">\n        select * from  mybatis.user\n    </select>\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 3. æµè¯\n    \n    @Test\n    public void getUserByRowBounds(){\n    SqlSession sqlSession = MybatisUtils.getSqlSession();\n    \n    //RowBoundså®ç°\n    RowBounds rowBounds = new RowBounds(1, 2);\n    \n    //éè¿Javaä»£ç å±é¢å®ç°åé¡µ\n    List<User> userList = sqlSession.selectList("com.kuang.dao.UserMapper.getUserByRowBounds",null,rowBounds);\n    \n        for (User user : userList) {\n        System.out.println(user);\n        }\n    \n        sqlSession.close();\n        }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    \n\n\n# 7.3ãåé¡µæä»¶\n\n\n\näºè§£å³å¯ï¼ä¸ä¸ ä»¥åå¬å¸çæ¶æå¸ï¼è¯´è¦ä½¿ç¨ï¼ä½ éè¦ç¥éå®æ¯ä»ä¹ä¸è¥¿ï¼\n\n\n# 8ãä½¿ç¨æ³¨è§£å¼å\n\nå¯¹åºæ¨¡åmybaits-05\n\n\n# 8.1ãé¢åæ¥å£ç¼ç¨\n\nå¤§å®¶ä¹åé½å­¦è¿é¢åå¯¹è±¡ç¼ç¨ï¼ä¹å­¦ä¹ è¿æ¥å£ï¼ä½å¨çæ­£çå¼åä¸­ï¼å¾å¤æ¶åæä»¬ä¼éæ©é¢åæ¥å£ç¼ç¨\n\næ ¹æ¬åå  : è§£è¦ , å¯æå± , æé«å¤ç¨ , åå±å¼åä¸­ , ä¸å±ä¸ç¨ç®¡å·ä½çå®ç° , å¤§å®¶é½éµå®å±åçæ å , ä½¿å¾å¼ååå¾å®¹æ , è§èæ§æ´å¥½\n\nå¨ä¸ä¸ªé¢åå¯¹è±¡çç³»ç»ä¸­ï¼ç³»ç»çåç§åè½æ¯ç±è®¸è®¸å¤å¤çä¸åå¯¹è±¡åä½å®æçãå¨è¿ç§æåµä¸ï¼åä¸ªå¯¹è±¡åé¨æ¯å¦ä½å®ç°èªå·±ç,å¯¹ç³»ç»è®¾è®¡äººåæ¥è®²å°±ä¸é£ä¹éè¦äºï¼\n\nèåä¸ªå¯¹è±¡ä¹é´çåä½å³ç³»åæä¸ºç³»ç»è®¾è®¡çå³é®ãå°å°ä¸åç±»ä¹é´çéä¿¡ï¼å¤§å°åæ¨¡åä¹é´çäº¤äºï¼å¨ç³»ç»è®¾è®¡ä¹åé½æ¯è¦çéèèçï¼è¿ä¹æ¯ç³»ç»è®¾è®¡çä¸»è¦å·¥ä½åå®¹ãé¢åæ¥å£ç¼ç¨å°±æ¯ææç§è¿ç§ææ³æ¥ç¼ç¨ã\n\nå³äºæ¥å£ççè§£\n\n * æ¥å£ä»æ´æ·±å±æ¬¡ççè§£ï¼åºæ¯å®ä¹ï¼è§èï¼çº¦æï¼ä¸å®ç°ï¼åå®åç¦»çååï¼çåç¦»ã\n * æ¥å£çæ¬èº«åæ äºç³»ç»è®¾è®¡äººåå¯¹ç³»ç»çæ½è±¡çè§£ã\n * æ¥å£åºæä¸¤ç±»ï¼\n   * ç¬¬ä¸ç±»æ¯å¯¹ä¸ä¸ªä¸ªä½çæ½è±¡ï¼å®å¯å¯¹åºä¸ºä¸ä¸ªæ½è±¡ä½(abstract class)ï¼\n   * ç¬¬äºç±»æ¯å¯¹ä¸ä¸ªä¸ªä½æä¸æ¹é¢çæ½è±¡ï¼å³å½¢æä¸ä¸ªæ½è±¡é¢ï¼interfaceï¼ï¼\n * ä¸ä¸ªä½æå¯è½æå¤ä¸ªæ½è±¡é¢ãæ½è±¡ä½ä¸æ½è±¡é¢æ¯æåºå«çã\n\nä¸ä¸ªé¢ååºå«\n\n * é¢åå¯¹è±¡æ¯æï¼æä»¬èèé®é¢æ¶ï¼ä»¥å¯¹è±¡ä¸ºåä½ï¼èèå®çå±æ§åæ¹æ³ .\n * é¢åè¿ç¨æ¯æï¼æä»¬èèé®é¢æ¶ï¼ä»¥ä¸ä¸ªå·ä½çæµç¨ï¼äºå¡è¿ç¨ï¼ä¸ºåä½ï¼èèå®çå®ç° .\n * æ¥å£è®¾è®¡ä¸éæ¥å£è®¾è®¡æ¯éå¯¹å¤ç¨ææ¯èè¨çï¼ä¸é¢åå¯¹è±¡ï¼è¿ç¨ï¼ä¸æ¯ä¸ä¸ªé®é¢.æ´å¤çä½ç°å°±æ¯å¯¹ç³»ç»æ´ä½çæ¶æ\n\n\n# 8.2ãä½¿ç¨æ³¨è§£å¼å\n\n 1. æ³¨è§£å¨æ¥å£ä¸å®ç°\n    \n    @Select("select * from user")\n    List<User> getUsers();\n    \n    \n    1\n    2\n    \n\n 2. éè¦åæ ¸å¿éç½®æä»¶ä¸­ç»å®æ¥å£ï¼\n    \n    \x3c!--ç»å®æ¥å£--\x3e\n    <mappers>\n        <mapper class="com.kuang.dao.UserMapper"/>\n    </mappers>\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 3. æµè¯\n\næ¬è´¨ï¼åå°æºå¶å®ç°\n\nåºå±ï¼å¨æä»£çï¼\n\n\n\nMybatisè¯¦ç»çæ§è¡æµç¨ï¼\n\n\n\n\n# 8.3ãCRUD\n\næä»¬å¯ä»¥å¨å·¥å·ç±»åå»ºçæ¶åå®ç°èªå¨æäº¤äºå¡ï¼\n\npublic static SqlSession  getSqlSession(){\n    return sqlSessionFactory.openSession(true);\n}\n\n\n1\n2\n3\n\n\nç¼åæ¥å£ï¼å¢å æ³¨è§£\n\npublic interface UserMapper {\n\n    @Select("select * from user")\n    List<User> getUsers();\n\n    // æ¹æ³å­å¨å¤ä¸ªåæ°ï¼ææçåæ°åé¢å¿é¡»å ä¸ @Param("id")æ³¨è§£\n    @Select("select * from user where id = #{id}")\n    User getUserByID(@Param("id") int id);\n\n\n    @Insert("insert into user(id,name,pwd) values (#{id},#{name},#{password})")\n    int addUser(User user);\n\n    \n    @Update("update user set name=#{name},pwd=#{password} where id = #{id}")\n    int updateUser(User user);\n\n    \n    @Delete("delete from user where id = #{uid}")\n    int deleteUser(@Param("uid") int id);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\næµè¯ç±»\n\nãæ³¨æï¼æä»¬å¿é¡»è¦è®²æ¥å£æ³¨åç»å®å°æä»¬çæ ¸å¿éç½®æä»¶ä¸­ï¼ã\n\nå³äº@Param() æ³¨è§£\n\n * åºæ¬ç±»åçåæ°æèStringç±»åï¼éè¦å ä¸\n * å¼ç¨ç±»åä¸éè¦å \n * å¦æåªæä¸ä¸ªåºæ¬ç±»åçè¯ï¼å¯ä»¥å¿½ç¥ï¼ä½æ¯å»ºè®®å¤§å®¶é½å ä¸ï¼\n * æä»¬å¨SQLä¸­å¼ç¨çå°±æ¯æä»¬è¿éç @Param() ä¸­è®¾å®çå±æ§åï¼\n\n#{} ${} åºå«\n\n\n# 9ãLombok\n\nå¯¹åºæ¨¡åmybatis-06\n\nProject Lombok is a java library that automatically plugs into your editor and build tools, spicing up your java.\nNever write another getter or equals method again, with one annotation your class has a fully featured builder, Automate your logging variables, and much more.\n\n\n1\n2\n\n * java library\n * plugs\n * build tools\n * with one annotation your class\n\nä½¿ç¨æ­¥éª¤ï¼\n\n 1. å¨IDEAä¸­å®è£Lombokæä»¶ï¼\n\n 2. å¨é¡¹ç®ä¸­å¯¼å¥lombokçjarå\n    \n    <dependency>\n        <groupId>org.projectlombok</groupId>\n        <artifactId>lombok</artifactId>\n        <version>1.18.10</version>\n    </dependency>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 3. å¨å®ä½ç±»ä¸å æ³¨è§£å³å¯ï¼\n    \n    @Data\n    @AllArgsConstructor\n    @NoArgsConstructor\n    \n    \n    1\n    2\n    3\n    \n\n@Getter and @Setter\n@FieldNameConstants\n@ToString\n@EqualsAndHashCode\n@AllArgsConstructor, @RequiredArgsConstructor and @NoArgsConstructor\n@Log, @Log4j, @Log4j2, @Slf4j, @XSlf4j, @CommonsLog, @JBossLog, @Flogger\n@Data\n@Builder\n@Singular\n@Delegate\n@Value\n@Accessors\n@Wither\n@SneakyThrows\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nè¯´æï¼\n\n@Dataï¼æ åæé ï¼getãsetãtostringãhashcodeï¼equals\n@AllArgsConstructor\n@NoArgsConstructor\n@EqualsAndHashCode\n@ToString\n@Getter\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 10ãå¤å¯¹ä¸å¤ç\n\nå¯¹åºæ¨¡åmybatis-06\n\nå¤å¯¹ä¸ï¼\n\n\n\n * å¤ä¸ªå­¦çï¼å¯¹åºä¸ä¸ªèå¸\n * å¯¹äºå­¦çè¿è¾¹èè¨ï¼ å³è .. å¤ä¸ªå­¦çï¼å³èä¸ä¸ªèå¸ ãå¤å¯¹ä¸ã\n * å¯¹äºèå¸èè¨ï¼ éå ï¼ ä¸ä¸ªèå¸ï¼æå¾å¤å­¦ç ãä¸å¯¹å¤ã\n\n\n\npojoï¼\n\n@Data\npublic class Student {\n    private int id;\n    private String name;\n    private Teacher teacher;\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n@Data\npublic class Teacher {\n    private int id;\n    private String name;\n}\n\n\n1\n2\n3\n4\n5\n\n\nSQLï¼\n\nCREATE TABLE `teacher` (\n  `id` INT(10) NOT NULL,\n  `name` VARCHAR(30) DEFAULT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=INNODB DEFAULT CHARSET=utf8\n\nINSERT INTO teacher(`id`, `name`) VALUES (1, \'ç§¦èå¸\'); \n\nCREATE TABLE `student` (\n  `id` INT(10) NOT NULL,\n  `name` VARCHAR(30) DEFAULT NULL,\n  `tid` INT(10) DEFAULT NULL,\n  PRIMARY KEY (`id`),\n  KEY `fktid` (`tid`),\n  CONSTRAINT `fktid` FOREIGN KEY (`tid`) REFERENCES `teacher` (`id`)\n) ENGINE=INNODB DEFAULT CHARSET=utf8\n\n\nINSERT INTO `student` (`id`, `name`, `tid`) VALUES (\'1\', \'å°æ\', \'1\'); \nINSERT INTO `student` (`id`, `name`, `tid`) VALUES (\'2\', \'å°çº¢\', \'1\'); \nINSERT INTO `student` (`id`, `name`, `tid`) VALUES (\'3\', \'å°å¼ \', \'1\'); \nINSERT INTO `student` (`id`, `name`, `tid`) VALUES (\'4\', \'å°æ\', \'1\'); \nINSERT INTO `student` (`id`, `name`, `tid`) VALUES (\'5\', \'å°ç\', \'1\');\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# æµè¯ç¯å¢æ­å»º\n\n 1. å¯¼å¥lombok\n 2. æ°å»ºå®ä½ç±» Teacherï¼Student\n 3. å»ºç«Mapperæ¥å£\n 4. å»ºç«Mapper.XMLæä»¶\n 5. å¨æ ¸å¿éç½®æä»¶ä¸­ç»å®æ³¨åæä»¬çMapperæ¥å£æèæä»¶ï¼ãæ¹å¼å¾å¤ï¼éå¿éã\n 6. æµè¯æ¥è¯¢æ¯å¦è½å¤æåï¼\n\n\n# æç§æ¥è¯¢åµå¥å¤ç\n\n\x3c!--\n    æè·¯:\n        1. æ¥è¯¢ææçå­¦çä¿¡æ¯\n        2. æ ¹æ®æ¥è¯¢åºæ¥çå­¦ççtidï¼å¯»æ¾å¯¹åºçèå¸ï¼  å­æ¥è¯¢\n    --\x3e\n\n<select id="getStudent" resultMap="StudentTeacher">\n    select * from student\n</select>\n\n<resultMap id="StudentTeacher" type="Student">\n    <result property="id" column="id"/>\n    <result property="name" column="name"/>\n    \x3c!--å¤æçå±æ§ï¼æä»¬éè¦åç¬å¤ç å¯¹è±¡ï¼ association éåï¼ collection --\x3e\n    <association property="teacher" column="tid" javaType="Teacher" select="getTeacher"/>\n</resultMap>\n\n<select id="getTeacher" resultType="Teacher">\n    select * from teacher where id = #{id}\n</select>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# æç§ç»æåµå¥å¤ç\n\n\x3c!--æç§ç»æåµå¥å¤ç--\x3e\n<select id="getStudent2" resultMap="StudentTeacher2">\n    select s.id sid,s.name sname,t.name tname\n    from student s,teacher t\n    where s.tid = t.id;\n</select>\n\n<resultMap id="StudentTeacher2" type="Student">\n    <result property="id" column="sid"/>\n    <result property="name" column="sname"/>\n    <association property="teacher" javaType="Teacher">\n        <result property="name" column="tname"/>\n    </association>\n</resultMap>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nåé¡¾Mysql å¤å¯¹ä¸æ¥è¯¢æ¹å¼ï¼\n\n * å­æ¥è¯¢\n * èè¡¨æ¥è¯¢\n\n\n# 11ãä¸å¯¹å¤å¤ç\n\nå¯¹åºæ¨¡åmybatis-07\n\næ¯å¦ï¼ä¸ä¸ªèå¸æ¥æå¤ä¸ªå­¦çï¼\n\nå¯¹äºèå¸èè¨ï¼å°±æ¯ä¸å¯¹å¤çå³ç³»!\n\n\n# ç¯å¢æ­å»º\n\nç¯å¢æ­å»ºï¼ååæä¸æ ·\n\nå®ä½ç±»\n\n@Data\npublic class Student {\n    private int id;\n    private String name;\n    private int tid;\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n@Data\npublic class Teacher {\n    private int id;\n    private String name;\n    //ä¸ä¸ªèå¸æ¥æå¤ä¸ªå­¦ç\n    private List<Student> students;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# æç§æ¥è¯¢åµå¥å¤ç\n\n<select id="getTeacher2" resultMap="TeacherStudent2">\n    select * from mybatis.teacher where id = #{tid}\n</select>\n\n<resultMap id="TeacherStudent2" type="Teacher">\n    <collection property="students" javaType="ArrayList" ofType="Student" select="getStudentByTeacherId" column="id"/>\n</resultMap>\n\n<select id="getStudentByTeacherId" resultType="Student">\n    select * from mybatis.student where tid = #{tid}\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# æç§ç»æåµå¥å¤ç\n\n\x3c!--æç»æåµå¥æ¥è¯¢--\x3e\n<select id="getTeacher" resultMap="TeacherStudent">\n    select s.id sid, s.name sname, t.name tname,t.id tid\n    from student s,teacher t\n    where s.tid = t.id and t.id = #{tid}\n</select>\n\n<resultMap id="TeacherStudent" type="Teacher">\n    <result property="id" column="tid"/>\n    <result property="name" column="tname"/>\n    \x3c!--å¤æçå±æ§ï¼æä»¬éè¦åç¬å¤ç å¯¹è±¡ï¼ association éåï¼ collection\n    javaType="" æå®å±æ§çç±»åï¼\n    éåä¸­çæ³åä¿¡æ¯ï¼æä»¬ä½¿ç¨ofTypeè·å\n    --\x3e\n    <collection property="students" ofType="Student">\n        <result property="id" column="sid"/>\n        <result property="name" column="sname"/>\n        <result property="tid" column="tid"/>\n    </collection>\n</resultMap>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# å°ç»\n\n 1. å³è - association ãå¤å¯¹ä¸ã\n 2. éå - collection ãä¸å¯¹å¤ã\n 3. javaType & ofType\n    1. JavaType ç¨æ¥æå®å®ä½ç±»ä¸­å±æ§çç±»å\n    2. ofType ç¨æ¥æå®æ å°å°Listæèéåä¸­ç pojoç±»åï¼æ³åä¸­ççº¦æç±»åï¼\n\næ³¨æç¹ï¼\n\n * ä¿è¯SQLçå¯è¯»æ§ï¼å°½éä¿è¯éä¿ææ\n * æ³¨æä¸å¯¹å¤åå¤å¯¹ä¸ä¸­ï¼å±æ§ååå­æ®µçé®é¢ï¼\n * å¦æé®é¢ä¸å¥½ææ¥éè¯¯ï¼å¯ä»¥ä½¿ç¨æ¥å¿ ï¼ å»ºè®®ä½¿ç¨ Log4j\n\næ¢SQL 1s 1000s\n\né¢è¯é«é¢\n\n * Mysqlå¼æ\n * InnoDBåºå±åç\n * ç´¢å¼\n * ç´¢å¼ä¼åï¼\n\n\n# 12ãå¨æ SQL\n\nå¯¹åºæ¨¡åmybatis-08\n\nä»ä¹æ¯å¨æSQLï¼å¨æSQLå°±æ¯ææ ¹æ®ä¸åçæ¡ä»¶çæä¸åçSQLè¯­å¥\n\nå©ç¨å¨æ SQL è¿ä¸ç¹æ§å¯ä»¥å½»åºæè±è¿ç§çè¦ã\n\nå¨æ SQL åç´ å JSTL æåºäºç±»ä¼¼ XML çææ¬å¤çå¨ç¸ä¼¼ãå¨ MyBatis ä¹åççæ¬ä¸­ï¼æå¾å¤åç´ éè¦è±æ¶é´äºè§£ãMyBatis 3 å¤§å¤§ç²¾ç®äºåç´ ç§ç±»ï¼ç°å¨åªéå­¦ä¹ åæ¥ä¸åçåç´ ä¾¿å¯ãMyBatis éç¨åè½å¼ºå¤§çåºäº OGNL çè¡¨è¾¾å¼æ¥æ·æ±°å¶å®å¤§é¨ååç´ ã\n\nif\nchoose (when, otherwise)\ntrim (where, set)\nforeach\n\n\n1\n2\n3\n4\n\n\n\n# æ­å»ºç¯å¢\n\nCREATE TABLE `blog` (\n  `id` varchar(50) NOT NULL COMMENT \'åå®¢id\',\n  `title` varchar(100) NOT NULL COMMENT \'åå®¢æ é¢\',\n  `author` varchar(30) NOT NULL COMMENT \'åå®¢ä½è\',\n  `create_time` datetime NOT NULL COMMENT \'åå»ºæ¶é´\',\n  `views` int(30) NOT NULL COMMENT \'æµè§é\'\n) ENGINE=InnoDB DEFAULT CHARSET=utf8\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nåå»ºä¸ä¸ªåºç¡å·¥ç¨\n\n 1. å¯¼å\n\n 2. ç¼åéç½®æä»¶\n\n 3. å·¥å·å\n    \n    //æå¶è­¦å\n    @SuppressWarnings("all")\n    public class IDutils {\n        public static String getId(){\n            return UUID.randomUUID().toString().replace("-","");\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    \n\n 4. ç¼åå®ä½ç±»\n    \n    @Data\n    public class Blog {\n        private String id;\n        private String title;\n        private String author;\n        private Date createTime;\n        private int views;\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    \n\næå¥æ°æ®\n\n   @Test\n   public void addInitBlog(){\n       SqlSession sqlSession = MybatisUtils.getSqlSession();\n       BlogMapper mapper = sqlSession.getMapper(BlogMapper.class);\n       Blog blog = new Blog(IDutils.getId(),"Mybatiså¦æ­¤ç®å","çç¥è¯´",new Date(),9999);\n       mapper.addBlog(blog);\n       blog = new Blog(IDutils.getId(),"Javaå¦æ­¤ç®å","çç¥è¯´",new Date(),1000);\n       mapper.addBlog(blog);\n       blog = new Blog(IDutils.getId(),"Springå¦æ­¤ç®å","çç¥è¯´",new Date(),9999);\n       mapper.addBlog(blog);\n       blog = new Blog(IDutils.getId(),"å¾®æå¡å¦æ­¤ç®å","çç¥è¯´",new Date(),9999);\n       mapper.addBlog(blog);\n       sqlSession.close();\n   }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n 5. ç¼åå®ä½ç±»å¯¹åºMapperæ¥å£ å Mapper.XMLæä»¶\n\n\n# IF\n\nxml\n\n<select id="queryBlogIF" parameterType="map" resultType="blog">\n    select * from mybatis.blog where 1=1\n    <if test="title != null">\n        and title = #{title}\n    </if>\n    <if test="author != null">\n        and author = #{author}\n    </if>\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nä»£ç ï¼\n\n@Test\npublic void queryBlogIF() {\n    SqlSession sqlSession = MybatisUtils.getSqlSession();\n    BlogMapper mapper = sqlSession.getMapper(BlogMapper.class);\n    HashMap map = new HashMap();\n//        map.put("title","Mybatiså¦æ­¤ç®å");\n    map.put("author","çç¥è¯´");\n    List<Blog> blogList = mapper.queryBlogIF(map);\n    for (Blog blog : blogList) {\n        System.out.println(blog);\n    }\n\n    sqlSession.close();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# choose (when, otherwise)\n\nç±»ä¼¼äºjavaéçswitch\n\n<select id="queryBlogChoose" parameterType="map" resultType="blog">\n    select * from mybatis.blog\n    <where>\n        <choose>\n            <when test="title != null">\n                title = #{title}\n            </when>\n            <when test="author != null">\n                and author = #{author}\n            </when>\n            <otherwise>\n                and views = #{views}\n            </otherwise>\n        </choose>\n    </where>\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nä»£ç \n\n@Test\npublic void queryBlogChoose(){\n    SqlSession sqlSession = MybatisUtils.getSqlSession();\n    BlogMapper mapper = sqlSession.getMapper(BlogMapper.class);\n    HashMap map = new HashMap();\n    map.put("title","Mybatiså¦æ­¤ç®å2");\n//        map.put("author","çç¥è¯´");\n    map.put("id","5d3adbfea47b4493bc086cf8dbb8998a");\n     mapper.updateBlog(map);\n\n    sqlSession.close();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# trim (where,set)\n\nselect * from mybatis.blog\n<where>\n    <if test="title != null">\n        title = #{title}\n    </if>\n    <if test="author != null">\n        and author = #{author}\n    </if>\n</where>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n<update id="updateBlog" parameterType="map">\n    update mybatis.blog\n    <set>\n        <if test="title != null">\n            title = #{title},\n        </if>\n        <if test="author != null">\n            author = #{author}\n        </if>\n    </set>\n    where id = #{id}\n</update>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nä»£ç ï¼\n\n@Test\npublic void updateBlog(){\n    SqlSession sqlSession = MybatisUtils.getSqlSession();\n    BlogMapper mapper = sqlSession.getMapper(BlogMapper.class);\n    HashMap map = new HashMap();\n//        map.put("title","Mybatiså¦æ­¤ç®å");\n//        map.put("author","çç¥è¯´");\n    List<Blog> blogList = mapper.queryBlogChoose(map);\n    for (Blog blog : blogList) {\n        System.out.println(blog);\n    }\n    sqlSession.close();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\næè°çå¨æSQLï¼æ¬è´¨è¿æ¯SQLè¯­å¥ ï¼ åªæ¯æä»¬å¯ä»¥å¨SQLå±é¢ï¼å»æ§è¡ä¸ä¸ªé»è¾ä»£ç \n\nif\n\nwhere ï¼ set ï¼ choose ï¼when\n\n\n# SQLçæ®µ\n\næçæ¶åï¼æä»¬å¯è½ä¼å°ä¸äºåè½çé¨åæ½ååºæ¥ï¼æ¹ä¾¿å¤ç¨ï¼\n\n 1. ä½¿ç¨SQLæ ç­¾æ½åå¬å±çé¨å\n    \n    <sql id="if-title-author">\n        <if test="title != null">\n            title = #{title}\n        </if>\n        <if test="author != null">\n            and author = #{author}\n        </if>\n    </sql>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    \n\n 2. å¨éè¦ä½¿ç¨çå°æ¹ä½¿ç¨Includeæ ç­¾å¼ç¨å³å¯\n    \n    <select id="queryBlogIF" parameterType="map" resultType="blog">\n        select * from mybatis.blog\n        <where>\n            <include refid="if-title-author"></include>\n        </where>\n    </select>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    \n\næ³¨æäºé¡¹ï¼\n\n * æå¥½åºäºåè¡¨æ¥å®ä¹SQLçæ®µï¼\n * ä¸è¦å­å¨whereæ ç­¾\n\n\n# Foreach\n\nselect * from user where 1=1 and \n\n  <foreach item="id" collection="ids"\n      open="(" separator="or" close=")">\n        #{id}\n  </foreach>\n\n(id=1 or id=2 or id=3)\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n\n\n\n\x3c!--\n        select * from mybatis.blog where 1=1 and (id=1 or id = 2 or id=3)\n\n        æä»¬ç°å¨ä¼ éä¸ä¸ªä¸è½çmap ï¼ è¿mapä¸­å¯ä»¥å­å¨ä¸ä¸ªéåï¼\n--\x3e\n<select id="queryBlogForeach" parameterType="map" resultType="blog">\n    select * from mybatis.blog\n\n    <where>\n        <foreach collection="ids" item="id" open="and (" close=")" separator="or">\n            id = #{id}\n        </foreach>\n    </where>\n\n</select>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\næåsqlä¸ºï¼ select * from mybatis.blog WHERE ( id = ? or id = ? or id = ? )\n\nä»£ç ï¼\n\n@Test\npublic void queryBlogForeach(){\n    SqlSession sqlSession = MybatisUtils.getSqlSession();\n    BlogMapper mapper = sqlSession.getMapper(BlogMapper.class);\n    HashMap map = new HashMap();\n\n    ArrayList<String> ids = new ArrayList<String>();\n    ids.add("d97ca9c234df463e950f252d22fb5f85");\n    ids.add("4cfe16fcebb145f894b6ec9033f8ae33");\n    ids.add("5d3adbfea47b4493bc086cf8dbb8998a");\n\n    map.put("ids",ids);\n\n    List<Blog> blogList = mapper.queryBlogForeach(map);\n    for (Blog blog : blogList) {\n        System.out.println(blog);\n    }\n    sqlSession.close();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nå¨æSQLå°±æ¯å¨æ¼æ¥SQLè¯­å¥ï¼æä»¬åªè¦ä¿è¯SQLçæ­£ç¡®æ§ï¼æç§SQLçæ ¼å¼ï¼å»æåç»åå°±å¯ä»¥äº\n\nå»ºè®®ï¼\n\n * ç°å¨Mysqlä¸­ååºå®æ´çSQL,åå¯¹åºçå»ä¿®æ¹æä¸ºæä»¬çå¨æSQLå®ç°éç¨å³å¯ï¼\n\n\n# 13ãç¼å­\n\nå¯¹åºæ¨¡åmybatis-09\n\n\n# 13.1ãç®ä»\n\næä»¬æ¯æ¬¡æ¥è¯¢æ°æ®çæ¶åï¼æ¯éè¿æ°æ®åºæ¥è¯¢ãå¨æ°æ®éè¦å¤§éæ¥è¯¢æ¶ï¼æä»¬å°±éè¦ç¨å°ç¼å­ï¼ä¸è½½æ¥è¯¢ç¸åçæ¶åï¼éè¿åå­æ¥è¯¢ï¼ä¸éè¦ç»è¿æ°æ®åºï¼å¤§å¤§çèççèµæº\n\n 1. ä»ä¹æ¯ç¼å­ [ Cache ]ï¼\n    \n    * å­å¨åå­ä¸­çä¸´æ¶æ°æ®ã\n    * å°ç¨æ·ç»å¸¸æ¥è¯¢çæ°æ®æ¾å¨ç¼å­ï¼åå­ï¼ä¸­ï¼ç¨æ·å»æ¥è¯¢æ°æ®å°±ä¸ç¨ä»ç£çä¸(å³ç³»åæ°æ®åºæ°æ®æä»¶)æ¥è¯¢ï¼ä»ç¼å­ä¸­æ¥è¯¢ï¼ä»èæé«æ¥è¯¢æçï¼è§£å³äºé«å¹¶åç³»ç»çæ§è½é®é¢ã\n\n 2. ä¸ºä»ä¹ä½¿ç¨ç¼å­ï¼\n    \n    * åå°åæ°æ®åºçäº¤äºæ¬¡æ°ï¼åå°ç³»ç»å¼éï¼æé«ç³»ç»æçã\n\n 3. ä»ä¹æ ·çæ°æ®è½ä½¿ç¨ç¼å­ï¼\n    \n    * ç»å¸¸æ¥è¯¢å¹¶ä¸ä¸ç»å¸¸æ¹åçæ°æ®ããå¯ä»¥ä½¿ç¨ç¼å­ã\n\næä»¬åæ¬¡æ¥è¯¢ç¸åæ°æ®çæ¶åï¼ç´æ¥èµ°ç¼å­ï¼å°±ä¸ç¨èµ°æ°æ®åºäº\n\n\n# 13.2ãMybatisç¼å­\n\n * MyBatisåå«ä¸ä¸ªéå¸¸å¼ºå¤§çæ¥è¯¢ç¼å­ç¹æ§ï¼å®å¯ä»¥éå¸¸æ¹ä¾¿å°å®å¶åéç½®ç¼å­ãç¼å­å¯ä»¥æå¤§çæåæ¥è¯¢æçã\n * MyBatisç³»ç»ä¸­é»è®¤å®ä¹äºä¸¤çº§ç¼å­ï¼ä¸çº§ç¼å­åäºçº§ç¼å­\n   \n   * é»è®¤æåµä¸ï¼åªæä¸çº§ç¼å­å¼å¯ãï¼SqlSessionçº§å«çç¼å­ï¼ä¹ç§°ä¸ºæ¬å°ç¼å­ï¼\n   \n   * äºçº§ç¼å­éè¦æå¨å¼å¯åéç½®ï¼ä»æ¯åºäºnamespaceçº§å«çç¼å­ã\n   \n   * ä¸ºäºæé«æ©å±æ§ï¼MyBatiså®ä¹äºç¼å­æ¥å£Cacheãæä»¬å¯ä»¥éè¿å®ç°Cacheæ¥å£æ¥èªå®ä¹äºçº§ç¼å­\n\n\n# 13.3ãä¸çº§ç¼å­\n\n * ä¸çº§ç¼å­ä¹å«æ¬å°ç¼å­ï¼ SqlSession\n   * ä¸æ°æ®åºåä¸æ¬¡ä¼è¯æé´æ¥è¯¢å°çæ°æ®ä¼æ¾å¨æ¬å°ç¼å­ä¸­ã\n   * ä»¥åå¦æéè¦è·åç¸åçæ°æ®ï¼ç´æ¥ä»ç¼å­ä¸­æ¿ï¼æ²¡å¿é¡»åå»æ¥è¯¢æ°æ®åºï¼\n\næµè¯æ­¥éª¤ï¼\n\n 1. å¼å¯æ¥å¿ï¼\n 2. æµè¯å¨ä¸ä¸ªSesionä¸­æ¥è¯¢ä¸¤æ¬¡ç¸åè®°å½\n 3. æ¥çæ¥å¿è¾åº\n\n\n\nç¼å­å¤±æçæåµï¼\n\n 1. æ¥è¯¢ä¸åçä¸è¥¿\n\n 2. å¢å æ¹æä½ï¼å¯è½ä¼æ¹ååæ¥çæ°æ®ï¼æä»¥å¿å®ä¼å·æ°ç¼å­ï¼\n    \n    \n\n 3. æ¥è¯¢ä¸åçMapper.xml\n\n 4. æå¨æ¸çç¼å­ï¼\n    \n    \n\nå°ç»ï¼ä¸çº§ç¼å­é»è®¤æ¯å¼å¯çï¼åªå¨ä¸æ¬¡SqlSessionä¸­ææï¼ä¹å°±æ¯æ¿å°è¿æ¥å°å³é­è¿æ¥è¿ä¸ªåºé´æ®µï¼\n\nä¸çº§ç¼å­å°±æ¯ä¸ä¸ªMapã\n\n\n# 13.4ãäºçº§ç¼å­\n\n * äºçº§ç¼å­ä¹å«å¨å±ç¼å­ï¼ä¸çº§ç¼å­ä½ç¨åå¤ªä½äºï¼æä»¥è¯çäºäºçº§ç¼å­\n * åºäºnamespaceçº§å«çç¼å­ï¼ä¸ä¸ªåç§°ç©ºé´ï¼å¯¹åºä¸ä¸ªäºçº§ç¼å­ï¼\n * å·¥ä½æºå¶\n   * ä¸ä¸ªä¼è¯æ¥è¯¢ä¸æ¡æ°æ®ï¼è¿ä¸ªæ°æ®å°±ä¼è¢«æ¾å¨å½åä¼è¯çä¸çº§ç¼å­ä¸­ï¼\n   * å¦æå½åä¼è¯å³é­äºï¼è¿ä¸ªä¼è¯å¯¹åºçä¸çº§ç¼å­å°±æ²¡äºï¼ä½æ¯æä»¬æ³è¦çæ¯ï¼ä¼è¯å³é­äºï¼ä¸çº§ç¼å­ä¸­çæ°æ®è¢«ä¿å­å°äºçº§ç¼å­ä¸­ï¼\n   * æ°çä¼è¯æ¥è¯¢ä¿¡æ¯ï¼å°±å¯ä»¥ä»äºçº§ç¼å­ä¸­è·ååå®¹ï¼\n   * ä¸åçmapperæ¥åºçæ°æ®ä¼æ¾å¨èªå·±å¯¹åºçç¼å­ï¼mapï¼ä¸­ï¼\n\næ­¥éª¤ï¼\n\n 1. å¼å¯å¨å±ç¼å­\n    \n    \x3c!--æ¾ç¤ºçå¼å¯å¨å±ç¼å­--\x3e\n    <setting name="cacheEnabled" value="true"/>\n    \n    \n    1\n    2\n    \n\n 2. å¨è¦ä½¿ç¨äºçº§ç¼å­çMapperä¸­å¼å¯\n    \n    \x3c!--å¨å½åMapper.xmlä¸­ä½¿ç¨äºçº§ç¼å­--\x3e\n    <cache/>\n    \n    \n    1\n    2\n    \n    \n    ä¹å¯ä»¥èªå®ä¹åæ°\n    \n    \x3c!--å¨å½åMapper.xmlä¸­ä½¿ç¨äºçº§ç¼å­--\x3e\n    <cache  eviction="FIFO"\n           flushInterval="60000"\n           size="512"\n           readOnly="true"/>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 3. æµè¯\n    \n    1. é®é¢:æä»¬éè¦å°å®ä½ç±»åºååï¼å¦åå°±ä¼æ¥éï¼\n       \n       Caused by: java.io.NotSerializableException: com.kuang.pojo.User\n       \n       \n       1\n       \n\nå°ç»ï¼\n\n * åªè¦å¼å¯äºäºçº§ç¼å­ï¼å¨åä¸ä¸ªMapperä¸å°±ææ\n * ææçæ°æ®é½ä¼åæ¾å¨ä¸çº§ç¼å­ä¸­ï¼\n * åªæå½ä¼è¯æäº¤ï¼æèå³é­çæ¶åï¼æä¼æäº¤å°äºçº§ç¼å²ä¸­ï¼\n\n\n# 13.5ãç¼å­åç\n\n\n\n\n# 13.6ãèªå®ä¹ç¼å­-ehcache\n\nEhcacheæ¯ä¸ç§å¹¿æ³ä½¿ç¨çå¼æºJavaåå¸å¼ç¼å­ãä¸»è¦é¢åéç¨ç¼å­\n\n\n1\n\n\nè¦å¨ç¨åºä¸­ä½¿ç¨ehcacheï¼åè¦å¯¼åï¼\n\n\x3c!-- https://mvnrepository.com/artifact/org.mybatis.caches/mybatis-ehcache --\x3e\n<dependency>\n    <groupId>org.mybatis.caches</groupId>\n    <artifactId>mybatis-ehcache</artifactId>\n    <version>1.1.0</version>\n</dependency>\n\n\n1\n2\n3\n4\n5\n6\n\n\nå¨mapperä¸­æå®ä½¿ç¨æä»¬çehcacheç¼å­å®ç°ï¼\n\n\x3c!--å¨å½åMapper.xmlä¸­ä½¿ç¨äºçº§ç¼å­--\x3e\n<cache type="org.mybatis.caches.ehcache.EhcacheCache"/>\n\n\n1\n2\n\n\nehcache.xml\n\n<?xml version="1.0" encoding="UTF-8"?>\n<ehcache xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n         xsi:noNamespaceSchemaLocation="http://ehcache.org/ehcache.xsd"\n         updateCheck="false">\n    \x3c!--\n       diskStoreï¼ä¸ºç¼å­è·¯å¾ï¼ehcacheåä¸ºåå­åç£çä¸¤çº§ï¼æ­¤å±æ§å®ä¹ç£ççç¼å­ä½ç½®ãåæ°è§£éå¦ä¸ï¼\n       user.home â ç¨æ·ä¸»ç®å½\n       user.dir  â ç¨æ·å½åå·¥ä½ç®å½\n       java.io.tmpdir â é»è®¤ä¸´æ¶æä»¶è·¯å¾\n     --\x3e\n    <diskStore path="./tmpdir/Tmp_EhCache"/>\n    \n    <defaultCache\n            eternal="false"\n            maxElementsInMemory="10000"\n            overflowToDisk="false"\n            diskPersistent="false"\n            timeToIdleSeconds="1800"\n            timeToLiveSeconds="259200"\n            memoryStoreEvictionPolicy="LRU"/>\n \n    <cache\n            name="cloud_user"\n            eternal="false"\n            maxElementsInMemory="5000"\n            overflowToDisk="false"\n            diskPersistent="false"\n            timeToIdleSeconds="1800"\n            timeToLiveSeconds="1800"\n            memoryStoreEvictionPolicy="LRU"/>\n    \x3c!--\n       defaultCacheï¼é»è®¤ç¼å­ç­ç¥ï¼å½ehcacheæ¾ä¸å°å®ä¹çç¼å­æ¶ï¼åä½¿ç¨è¿ä¸ªç¼å­ç­ç¥ãåªè½å®ä¹ä¸ä¸ªã\n     --\x3e\n    \x3c!--\n      name:ç¼å­åç§°ã\n      maxElementsInMemory:ç¼å­æå¤§æ°ç®\n      maxElementsOnDiskï¼ç¡¬çæå¤§ç¼å­ä¸ªæ°ã\n      eternal:å¯¹è±¡æ¯å¦æ°¸ä¹ææï¼ä¸ä½è®¾ç½®äºï¼timeoutå°ä¸èµ·ä½ç¨ã\n      overflowToDisk:æ¯å¦ä¿å­å°ç£çï¼å½ç³»ç»å½æºæ¶\n      timeToIdleSeconds:è®¾ç½®å¯¹è±¡å¨å¤±æåçåè®¸é²ç½®æ¶é´ï¼åä½ï¼ç§ï¼ãä»å½eternal=falseå¯¹è±¡ä¸æ¯æ°¸ä¹æææ¶ä½¿ç¨ï¼å¯éå±æ§ï¼é»è®¤å¼æ¯0ï¼ä¹å°±æ¯å¯é²ç½®æ¶é´æ ç©·å¤§ã\n      timeToLiveSeconds:è®¾ç½®å¯¹è±¡å¨å¤±æååè®¸å­æ´»æ¶é´ï¼åä½ï¼ç§ï¼ãæå¤§æ¶é´ä»äºåå»ºæ¶é´åå¤±ææ¶é´ä¹é´ãä»å½eternal=falseå¯¹è±¡ä¸æ¯æ°¸ä¹æææ¶ä½¿ç¨ï¼é»è®¤æ¯0.ï¼ä¹å°±æ¯å¯¹è±¡å­æ´»æ¶é´æ ç©·å¤§ã\n      diskPersistentï¼æ¯å¦ç¼å­èææºéå¯ææ°æ® Whether the disk store persists between restarts of the Virtual Machine. The default value is false.\n      diskSpoolBufferSizeMBï¼è¿ä¸ªåæ°è®¾ç½®DiskStoreï¼ç£çç¼å­ï¼çç¼å­åºå¤§å°ãé»è®¤æ¯30MBãæ¯ä¸ªCacheé½åºè¯¥æèªå·±çä¸ä¸ªç¼å²åºã\n      diskExpiryThreadIntervalSecondsï¼ç£çå¤±æçº¿ç¨è¿è¡æ¶é´é´éï¼é»è®¤æ¯120ç§ã\n      memoryStoreEvictionPolicyï¼å½è¾¾å°maxElementsInMemoryéå¶æ¶ï¼Ehcacheå°ä¼æ ¹æ®æå®çç­ç¥å»æ¸çåå­ãé»è®¤ç­ç¥æ¯LRUï¼æè¿æå°ä½¿ç¨ï¼ãä½ å¯ä»¥è®¾ç½®ä¸ºFIFOï¼åè¿ååºï¼ææ¯LFUï¼è¾å°ä½¿ç¨ï¼ã\n      clearOnFlushï¼åå­æ°éæå¤§æ¶æ¯å¦æ¸é¤ã\n      memoryStoreEvictionPolicy:å¯éç­ç¥æï¼LRUï¼æè¿æå°ä½¿ç¨ï¼é»è®¤ç­ç¥ï¼ãFIFOï¼åè¿ååºï¼ãLFUï¼æå°è®¿é®æ¬¡æ°ï¼ã\n      FIFOï¼first in first outï¼è¿ä¸ªæ¯å¤§å®¶æççï¼åè¿ååºã\n      LFUï¼ Less Frequently Usedï¼å°±æ¯ä¸é¢ä¾å­ä¸­ä½¿ç¨çç­ç¥ï¼ç´ç½ä¸ç¹å°±æ¯è®²ä¸ç´ä»¥æ¥æå°è¢«ä½¿ç¨çãå¦ä¸é¢æè®²ï¼ç¼å­çåç´ æä¸ä¸ªhitå±æ§ï¼hitå¼æå°çå°ä¼è¢«æ¸åºç¼å­ã\n      LRUï¼Least Recently Usedï¼æè¿æå°ä½¿ç¨çï¼ç¼å­çåç´ æä¸ä¸ªæ¶é´æ³ï¼å½ç¼å­å®¹éæ»¡äºï¼èåéè¦è¾åºå°æ¹æ¥ç¼å­æ°çåç´ çæ¶åï¼é£ä¹ç°æç¼å­åç´ ä¸­æ¶é´æ³ç¦»å½åæ¶é´æè¿çåç´ å°è¢«æ¸åºç¼å­ã\n   --\x3e\n\n</ehcache>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n',normalizedContent:'# mybatis\n\nçç¥mybatisè§é¢æç¨ï¼https://www.bilibili.com/video/bv1ne411q7nx\n\n\n# 1ãç®ä»\n\n\n# 1.1ãä»ä¹æ¯mybatis\n\n\n\n * mybatis æ¯ä¸æ¬¾ä¼ç§çæä¹å±æ¡æ¶\n * å®æ¯æå®å¶å sqlãå­å¨è¿ç¨ä»¥åé«çº§æ å°ã\n * mybatis é¿åäºå ä¹ææç jdbc ä»£ç åæå¨è®¾ç½®åæ°ä»¥åè·åç»æéã\n * mybatis å¯ä»¥ä½¿ç¨ç®åç xml ææ³¨è§£æ¥éç½®åæ å°åçç±»åãæ¥å£å java ç pojoï¼plain old java objectsï¼æ®éèå¼ java å¯¹è±¡ï¼ä¸ºæ°æ®åºä¸­çè®°å½ã\n * mybatis æ¬æ¯apacheçä¸ä¸ªå¼æºé¡¹ç®ibatis, 2010å¹´è¿ä¸ªé¡¹ç®ç±apache software foundation è¿ç§»å°äºgoogle codeï¼å¹¶ä¸æ¹åä¸ºmybatis ã\n * 2013å¹´11æè¿ç§»å°githubã\n\nå¦ä½è·å¾mybatisï¼\n\n * mavenä»åºï¼\n   \n   \x3c!-- https://mvnrepository.com/artifact/org.mybatis/mybatis --\x3e\n   <dependency>\n       <groupid>org.mybatis</groupid>\n       <artifactid>mybatis</artifactid>\n       <version>3.5.2</version>\n   </dependency>\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   \n\n * github ï¼ https://github.com/mybatis/mybatis-3/releases\n\n * ä¸­æææ¡£ï¼https://mybatis.org/mybatis-3/zh/index.html\n\n\n# 1.2ãæä¹å\n\næ°æ®æä¹å\n\n * æä¹åå°±æ¯å°ç¨åºçæ°æ®å¨æä¹ç¶æåç¬æ¶ç¶æè½¬åçè¿ç¨\n * åå­ï¼æ­çµå³å¤±\n * æ°æ®åº(jdbc)ï¼ioæä»¶æä¹åã\n * çæ´»ï¼å·è. ç½å¤´ã\n\nä¸ºä»ä¹éè¦éè¦æä¹åï¼\n\n * æä¸äºå¯¹è±¡ï¼ä¸è½è®©ä»ä¸¢æã\n\n * åå­å¤ªè´µäº\n\n\n# 1.3ãæä¹å±\n\ndaoå±ï¼serviceå±ï¼controllerå±â¦.\n\n * å®ææä¹åå·¥ä½çä»£ç å\n * å±çéååææ¾ã\n\n\n# 1.4 ä¸ºä»ä¹éè¦mybatisï¼\n\n * å¸®å©ç¨åºç¿å°æ°æ®å­å¥å°æ°æ®åºä¸­ã\n * æ¹ä¾¿\n * ä¼ ç»çjdbcä»£ç å¤ªå¤æäºãç®åãæ¡æ¶ãèªå¨åã\n * ä¸ç¨mybatisä¹å¯ä»¥ãæ´å®¹æä¸æã ææ¯æ²¡æé«ä½ä¹å\n * ä¼ç¹ï¼\n   * ç®åæå­¦\n   * çµæ´»\n   * sqlåä»£ç çåç¦»ï¼æé«äºå¯ç»´æ¤æ§ã\n   * æä¾æ å°æ ç­¾ï¼æ¯æå¯¹è±¡ä¸æ°æ®åºçormå­æ®µå³ç³»æ å°\n   * æä¾å¯¹è±¡å³ç³»æ å°æ ç­¾ï¼æ¯æå¯¹è±¡å³ç³»ç»å»ºç»´æ¤\n   * æä¾xmlæ ç­¾ï¼æ¯æç¼åå¨æsqlã\n\næéè¦çä¸ç¹ï¼ä½¿ç¨çäººå¤ï¼\n\n\n# 2ãç¬¬ä¸ä¸ªmybatisç¨åº\n\nåå»ºæ¨¡åmybatis-01 ä»£ç æä»¶å¦ä¸ï¼\n\n\n\næè·¯ï¼æ­å»ºç¯å¢--\x3eå¯¼å¥mybatis--\x3eç¼åä»£ç --\x3eæµè¯ï¼\n\n\n# 2.1ãæ­å»ºç¯å¢\n\næ­å»ºæ°æ®åº\n\ncreate database `mybatis`;\n\nuse `mybatis`;\n\ncreate table `user`(\n  `id` int(20) not null primary key,\n  `name` varchar(30) default null,\n  `pwd` varchar(30) default null\n)engine=innodb default charset=utf8;\n\ninsert into `user`(`id`,`name`,`pwd`) values \n(1,\'çç¥\',\'123456\'),\n(2,\'å¼ ä¸\',\'123456\'),\n(3,\'æå\',\'123890\')\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\næ°å»ºé¡¹ç®\n\n 1. æ°å»ºä¸ä¸ªæ®éçmavené¡¹ç®\n\n 2. å é¤srcç®å½\n\n 3. å¯¼å¥mavenä¾èµåéææä»¶å¯¼åºéç½®\n    \n    \x3c!--å¯¼å¥ä¾èµ--\x3e\n    <dependencies>\n        \x3c!--mysqlé©±å¨--\x3e\n        <dependency>\n            <groupid>mysql</groupid>\n            <artifactid>mysql-connector-java</artifactid>\n            <version>5.1.47</version>\n        </dependency>\n        \x3c!--mybatis--\x3e\n        \x3c!-- https://mvnrepository.com/artifact/org.mybatis/mybatis --\x3e\n        <dependency>\n            <groupid>org.mybatis</groupid>\n            <artifactid>mybatis</artifactid>\n            <version>3.5.2</version>\n        </dependency>\n        \x3c!--junit--\x3e\n        <dependency>\n            <groupid>junit</groupid>\n            <artifactid>junit</artifactid>\n            <version>4.12</version>\n        </dependency>\n    </dependencies>\n    \n    \x3c!--å¨buildä¸­éç½®resourcesï¼æ¥é²æ­¢æä»¬èµæºå¯¼åºå¤±è´¥çé®é¢--\x3e\n    <build>\n        <resources>\n            <resource>\n                <directory>src/main/resources</directory>\n                <includes>\n                    <include>**/*.properties</include>\n                    <include>**/*.xml</include>\n                </includes>\n                <filtering>true</filtering>\n            </resource>\n            <resource>\n                <directory>src/main/java</directory>\n                <includes>\n                    <include>**/*.properties</include>\n                    <include>**/*.xml</include>\n                </includes>\n                <filtering>true</filtering>\n            </resource>\n        </resources>\n    </build>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    44\n    \n\næ³¨ï¼è¥mysqlé©±å¨çæ¬ä¸º8.xçæ¬ï¼éè¦éç½®mysqlæ¶åºï¼è¿éæ´æ¹é©±å¨ä¸ºcom.mysql.cj.jdbc.driver\n\n\n# 2.2ãåå»ºä¸ä¸ªæ¨¡å\n\n * ç¼åmybatisçæ ¸å¿éç½®æä»¶\n   \n   å¨resourcesä¸æ·»å mybatis-config.xml\n   \n   <?xml version="1.0" encoding="utf-8" ?>\n   <!doctype configuration\n           public "-//mybatis.org//dtd config 3.0//en"\n           "http://mybatis.org/dtd/mybatis-3-config.dtd">\n   \n   <configuration>\n   \n       <environments default="development">\n           <environment id="development">\n               <transactionmanager type="jdbc"/>\n               <datasource type="pooled">\n                   <property name="driver" value="com.mysql.jdbc.driver"/>\n                   <property name="url" value="jdbc:mysql://localhost:3306/mybatis?usessl=true&amp;useunicode=true&amp;characterencoding=utf-8"/>\n                   <property name="username" value="root"/>\n                   <property name="password" value="123456"/>\n               </datasource>\n           </environment>\n       </environments>\n   \n   </configuration>\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   \n   \n   å¦æè¦æ·»å ä¸­ææ³¨éï¼æç¬¬ä¸è¡çencoding="utf-8"æ¹æencoding="utf8"\n\n * ç¼åmybatiså·¥å·ç±»\n   \n   public class mybatisutils {\n       private static sqlsessionfactory sqlsessionfactory;\n   \n       static {\n           try {\n               //ä½¿ç¨mybatisç¬¬ä¸æ­¥ï¼è·åsqlsessionfactoryå¯¹è±¡\n               string resource = "mybatis-config.xml";\n               inputstream inputstream = resources.getresourceasstream(resource);\n               sqlsessionfactory = new sqlsessionfactorybuilder().build(inputstream);\n           } catch (ioexception e) {\n               e.printstacktrace();\n           }\n   \n       }\n   \n       /**\n        * æ¢ç¶æäº sqlsessionfactoryï¼é¡¾åæä¹ï¼æä»¬å°±å¯ä»¥ä»ä¸­è·å¾ sqlsession çå®ä¾äºã\n        * sqlsession å®å¨åå«äºé¢åæ°æ®åºæ§è¡ sql å½ä»¤æéçæææ¹æ³ã\n        * @return sqlsession\n        */\n       public static sqlsession getsqlsession() {\n           return sqlsessionfactory.opensession();\n       }\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   22\n   23\n   24\n   \n\n\n# 2.3ãç¼åä»£ç \n\n * å®ä½ç±»\n   \n   //å®ä½ç±»\n   public class user {\n       private int id;\n       private string name;\n       private string pwd;\n   \n       public user() {\n       }\n   \n       public user(int id, string name, string pwd) {\n           this.id = id;\n           this.name = name;\n           this.pwd = pwd;\n       }\n   \n       public int getid() {\n           return id;\n       }\n   \n       public void setid(int id) {\n           this.id = id;\n       }\n   \n       public string getname() {\n           return name;\n       }\n   \n       public void setname(string name) {\n           this.name = name;\n       }\n   \n       public string getpwd() {\n           return pwd;\n       }\n   \n       public void setpwd(string pwd) {\n           this.pwd = pwd;\n       }\n   \n       @override\n       public string tostring() {\n           return "user{" +\n                   "id=" + id +\n                   ", name=\'" + name + \'\\\'\' +\n                   ", pwd=\'" + pwd + \'\\\'\' +\n                   \'}\';\n       }\n   }\n   \n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   22\n   23\n   24\n   25\n   26\n   27\n   28\n   29\n   30\n   31\n   32\n   33\n   34\n   35\n   36\n   37\n   38\n   39\n   40\n   41\n   42\n   43\n   44\n   45\n   46\n   47\n   48\n   49\n   \n\n * daoæ¥å£\n   \n   public interface userdao {\n        /**\n        * æ§è¡sqlï¼è·åliståé\n        * @return\n        */\n       list<user> getuserlist();\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   \n\n * æ¥å£å®ç°ç±»ç±åæ¥çuserdaoimplè½¬åä¸ºä¸ä¸ª mapperéç½®æä»¶\n   \n   usermapper.xml\n   \n   <?xml version="1.0" encoding="utf8" ?>\n   <!doctype mapper\n           public "-//mybatis.org//dtd mapper 3.0//en"\n           "http://mybatis.org/dtd/mybatis-3-mapper.dtd">\n   \x3c!--namespace=ç»å®ä¸ä¸ªå¯¹åºçdao/mapperæ¥å£--\x3e\n   <mapper namespace="com.oddfar.dao.usermapper">\n   \n       \x3c!--selectæ¥è¯¢è¯­å¥--\x3e\n       <select id="getuserlist" resulttype="com.oddfar.pojo.user">\n           select * from mybatis.user\n       </select>\n   \n   </mapper>\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   \n\n\n# 2.4ãæµè¯\n\næ ¸å¿éç½®æä»¶ä¸­æ³¨å mappers\n\n * junitæµè¯\n   \n   @test\n   public void test(){\n       //ç¬¬ä¸æ­¥ï¼è·å¾sqlsessionå¯¹è±¡\n       sqlsession sqlsession = mybatisutils.getsqlsession();\n   \n   \n       //æ¹å¼ä¸ï¼getmapper\n       userdao userdao = sqlsession.getmapper(userdao.class);\n       list<user> userlist = userdao.getuserlist();\n   \n       for (user user : userlist) {\n           system.out.println(user);\n       }\n   \n   \n   \n       //å³é­sqlsession\n       sqlsession.close();\n   }\n   \n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   \n\nä½ ä»¬å¯ä»¥è½ä¼éå°çé®é¢ï¼\n\n 1. éç½®æä»¶æ²¡ææ³¨å\n 2. ç»å®æ¥å£éè¯¯ã\n 3. æ¹æ³åä¸å¯¹\n 4. è¿åç±»åä¸å¯¹\n 5. mavenå¯¼åºèµæºé®é¢\n\n\n# 3ãcrud\n\n\n# 1ãnamespace\n\nnamespaceä¸­çååè¦å dao/mapper æ¥å£çååä¸è´ï¼\n\n\n# 2ãselect\n\néæ©ï¼æ¥è¯¢è¯­å¥;\n\n * id : å°±æ¯å¯¹åºçnamespaceä¸­çæ¹æ³åï¼\n\n * resulttypeï¼sqlè¯­å¥æ§è¡çè¿åå¼ï¼\n\n * parametertype ï¼ åæ°ç±»åï¼\n\n 1. ç¼åæ¥å£\n    \n    //æ ¹æ®idæ¥è¯¢ç¨æ·\n    user getuserbyid(int id);\n    \n    \n    1\n    2\n    \n\n 2. ç¼åå¯¹åºçmapperä¸­çsqlè¯­å¥\n    \n    <select id="getuserbyid" parametertype="int" resulttype="com.oddfar.pojo.user">\n            select * from mybatis.user where id = #{id}\n    </select>\n    \n    \n    1\n    2\n    3\n    \n\n 3. æµè¯\n    \n    @test\n    public void getuserbyid() {\n        sqlsession sqlsession = mybatisutils.getsqlsession();\n    \n        usermapper mapper = sqlsession.getmapper(usermapper.class);\n    \n        user user = mapper.getuserbyid(1);\n        system.out.println(user);\n    \n        sqlsession.close();\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    \n\n\n# 3ãinsert\n\n\x3c!--å¯¹è±¡ä¸­çå±æ§ï¼å¯ä»¥ç´æ¥ååºæ¥--\x3e\n<insert id="adduser" parametertype="com.oddfar.pojo.user">\n    insert into mybatis.user (id, name, pwd) values (#{id},#{name},#{pwd});\n</insert>\n\n\n1\n2\n3\n4\n\n\n@test\npublic void adduser() {\n    sqlsession sqlsession = mybatisutils.getsqlsession();\n\n    usermapper mapper = sqlsession.getmapper(usermapper.class);\n    int res = mapper.adduser(new user(4, "zhiyuan", "212313"));\n    if (res > 0) {\n        //æäº¤äºå¡\n        sqlsession.commit();\n        system.out.println("æ·»å æå");\n    }\n    sqlsession.close();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# 4ãupdate\n\n<update id="updateuser" parametertype="com.oddfar.pojo.user">\n    update mybatis.user set name=#{name},pwd=#{pwd}  where id = #{id} ;\n</update>\n\n\n1\n2\n3\n\n\n\n# 5ãdelete\n\n<delete id="deleteuser" parametertype="int">\n    delete from mybatis.user where id = #{id};\n</delete>\n\n\n1\n2\n3\n\n\næ³¨æç¹ï¼\n\n * å¢å æ¹éè¦æäº¤äºå¡ï¼\n   \n   sqlsession.commit();\n\n\n# 6ãåæéè¯¯\n\n * æ ç­¾ä¸è¦å¹éé\n * resource ç»å®mapperï¼éè¦ä½¿ç¨è·¯å¾ï¼\n * ç¨åºéç½®æä»¶å¿é¡»ç¬¦åè§èï¼\n * nullpointerexceptionï¼æ²¡ææ³¨åå°èµæº!\n * è¾åºçxmlæä»¶ä¸­å­å¨ä¸­æä¹±ç é®é¢ï¼\n * mavenèµæºæ²¡æå¯¼åºé®é¢ï¼\n\n\n# 7ãä¸è½map\n\nåè®¾ï¼æä»¬çå®ä½ç±»ï¼æèæ°æ®åºä¸­çè¡¨ï¼å­æ®µæèåæ°è¿å¤ï¼æä»¬åºå½èèä½¿ç¨mapï¼\n\n//ä¸è½çmap\nint adduser2(map<string,object> map);\n\n\n1\n2\n\n\n\x3c!--    ç¨mapéåçæ¹å¼æå¥--\x3e\n<insert id="adduser2" parametertype="map">\n    insert into mybatis.user (id,name,pwd) values (#{userid},#{username},#{password});\n</insert>\n\n\n1\n2\n3\n4\n\n\n/**\n * ç¨mapçå½¢å¼æå¥æ°æ®\n */\n@test\npublic void adduser2() {\n    sqlsession sqlsession = mybatisutils.getsqlsession();\n\n    usermapper mapper = sqlsession.getmapper(usermapper.class);\n    map<string,object> map = new hashmap<string, object>();\n    map.put("userid",5);\n    map.put("password","2222333");\n    map.put("username","map");\n\n    int res = mapper.adduser2(map);\n    if (res > 0) {\n        //æäº¤äºå¡\n        sqlsession.commit();\n        system.out.println("æ·»å æå");\n    }\n    sqlsession.close();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\nmapä¼ éåæ°ï¼ç´æ¥å¨sqlä¸­ååºkeyå³å¯ï¼ ãparametertype="map"ã\n\nå¯¹è±¡ä¼ éåæ°ï¼ç´æ¥å¨sqlä¸­åå¯¹è±¡çå±æ§å³å¯ï¼ãparametertype="object"ã\n\nåªæä¸ä¸ªåºæ¬ç±»ååæ°çæåµä¸ï¼å¯ä»¥ç´æ¥å¨sqlä¸­åå°ï¼\n\nå¤ä¸ªåæ°ç¨mapï¼æèæ³¨è§£ï¼\n\n\n# 8ãæèé¢\n\næ¨¡ç³æ¥è¯¢æä¹åï¼\n\næä¸¤ç§æ¹å¼\n\n * javaä»£ç æ§è¡çæ¶åï¼ä¼ éééç¬¦ % %\n\nlist<user> userlist = mapper.getuserlike("%æ%");\n\n\n1\n\n\nè¿æ¯æä»¬æå®æ¥è¯¢"%æ%"ï¼å¦ææ¾ä¸ªåæ°è·åï¼è¿ç§æ¹å¼åä¸è½é¿åsqlæ³¨å¥é®é¢\n\n * å¨sqlæ¼æ¥ä¸­ä½¿ç¨ééç¬¦ï¼\n\nselect * from mybatis.user where name like "%"#{value}"%"\n\n\n1\n\n\næ¨èä½¿ç¨è¿ç§æ¹æ³\n\n\n# 4ãéç½®è§£æ\n\nåå»ºæ¨¡åmybatis-02\n\n\n# 1ãæ ¸å¿éç½®æä»¶\n\n * mybatis-config.xml\n\n * mybatis çéç½®æä»¶åå«äºä¼æ·±æ·±å½±å mybatis è¡ä¸ºçè®¾ç½®åå±æ§ä¿¡æ¯ã\n   \n   configurationï¼éç½®ï¼\n   propertiesï¼å±æ§ï¼\n   settingsï¼è®¾ç½®ï¼\n   typealiasesï¼ç±»åå«åï¼\n   typehandlersï¼ç±»åå¤çå¨ï¼\n   objectfactoryï¼å¯¹è±¡å·¥åï¼\n   pluginsï¼æä»¶ï¼\n   environmentsï¼ç¯å¢éç½®ï¼\n   environmentï¼ç¯å¢åéï¼\n   transactionmanagerï¼äºå¡ç®¡çå¨ï¼\n   datasourceï¼æ°æ®æºï¼\n   databaseidproviderï¼æ°æ®åºååæ è¯ï¼\n   mappersï¼æ å°å¨ï¼\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   \n\n\n# 2ãç¯å¢éç½®ï¼environmentsï¼\n\nmybatis å¯ä»¥éç½®æéåºå¤ç§ç¯å¢\n\nä¸è¿è¦è®°ä½ï¼å°½ç®¡å¯ä»¥éç½®å¤ä¸ªç¯å¢ï¼ä½æ¯ä¸ª sqlsessionfactory å®ä¾åªè½éæ©ä¸ç§ç¯å¢ã\n\nå¦æè¦æ³åè¿æ¥å¶å®æ°æ®åºï¼åéè¦éæ°ååä¸ªmybatisutilså·¥å·ç±»\n\nå­¦ä¼ä½¿ç¨éç½®å¤å¥è¿è¡ç¯å¢ï¼\n\nmybatisé»è®¤çäºå¡ç®¡çå¨å°±æ¯ jdbc ï¼ è¿æ¥æ±  ï¼ pooled\n\n\n# 3ãå±æ§ï¼propertiesï¼\n\næä»¬å¯ä»¥éè¿propertieså±æ§æ¥å®ç°å¼ç¨éç½®æä»¶\n\nè¿äºå±æ§é½æ¯å¯å¤é¨éç½®ä¸å¯å¨ææ¿æ¢çï¼æ¢å¯ä»¥å¨å¸åç java å±æ§æä»¶ä¸­éç½®ï¼äº¦å¯éè¿ properties åç´ çå­åç´ æ¥ä¼ éã\n\n\n\nç¼åä¸ä¸ªéç½®æä»¶db.properties\n\ndriver=com.mysql.jdbc.driver\nurl=jdbc:mysql://localhost:3306/mybatis?usessl=true&useunicode=true&characterencoding=utf-8\nusername=root\npassword=123456\n\n\n1\n2\n3\n4\n\n\nå¨æ ¸å¿éç½®æä»¶ä¸­æ å¥\n\n\x3c!--å¼å¥å¤é¨éç½®æä»¶--\x3e\n<properties resource="db.properties">\n    <property name="username" value="root"/>\n    <property name="pwd" value="11111"/>\n</properties>\n\n\n1\n2\n3\n4\n5\n\n * å¯ä»¥ç´æ¥å¼å¥å¤é¨æä»¶\n * å¯ä»¥å¨å¶ä¸­å¢å ä¸äºå±æ§éç½®\n * å¦æä¸¤ä¸ªæä»¶æåä¸ä¸ªå­æ®µï¼ä¼åä½¿ç¨å¤é¨éç½®æä»¶çï¼\n\n\n# 4ãç±»åå«åï¼typealiasesï¼\n\n * ç±»åå«åæ¯ä¸º java ç±»åè®¾ç½®ä¸ä¸ªç­çåå­ãâ\n * å­å¨çæä¹ä»å¨äºç¨æ¥åå°ç±»å®å¨éå®åçåä½ã\n\n\x3c!--å¯ä»¥ç»å®ä½ç±»èµ·å«å--\x3e\n<typealiases>\n    <typealias type="com.oddfar.pojo.user" alias="user"/>\n</typealiases>\n\n\n1\n2\n3\n4\n\n\nä¹å¯ä»¥æå®ä¸ä¸ªååï¼mybatis ä¼å¨ååä¸é¢æç´¢éè¦ç java beanï¼æ¯å¦ï¼\n\næ«æå®ä½ç±»çåï¼å®çé»è®¤å«åå°±ä¸ºè¿ä¸ªç±»çç±»åï¼é¦å­æ¯å°åï¼\n\n\x3c!--å¯ä»¥ç»å®ä½ç±»èµ·å«å--\x3e\n<typealiases>\n    <package name="com.oddfar.pojo"/>\n</typealiases>\n\n\n1\n2\n3\n4\n\n\nå¨å®ä½ç±»æ¯è¾å°çæ¶åï¼ä½¿ç¨ç¬¬ä¸ç§æ¹å¼ã\n\nå¦æå®ä½ç±»ååå¤ï¼å»ºè®®ä½¿ç¨ç¬¬äºç§ã\n\nç¬¬ä¸ç§å¯ä»¥èªå®ä¹å«åï¼ç¬¬äºç§åä¸è¡ï¼å«åä¸ºæä»¶åï¼ï¼å¦æéè¦æ¹ï¼éè¦å¨å®ä½ä¸å¢å æ³¨è§£\n\n@alias("user")\npublic class user {}\n\n\n1\n2\n\n\n\n# 5ãè®¾ç½®\n\nè¿æ¯ mybatis ä¸­æä¸ºéè¦çè°æ´è®¾ç½®ï¼å®ä»¬ä¼æ¹å mybatis çè¿è¡æ¶è¡ä¸ºã\n\n\n\n\n\n\n# 6ãå¶ä»éç½®\n\n * typehandlersï¼ç±»åå¤çå¨ï¼\n * objectfactoryï¼å¯¹è±¡å·¥åï¼\n * pluginsæä»¶\n   * mybatis-generator-core\n   * mybatis-plus\n   * éç¨mapper\n\n\n# 7ãæ å°å¨ï¼mappersï¼\n\nmapperregistryï¼æ³¨åç»å®æä»¬çmapperæä»¶ï¼\n\næ¹å¼ä¸ï¼ ãæ¨èä½¿ç¨ã\n\n\x3c!--æ¯ä¸ä¸ªmapper.xmlé½éè¦å¨mybatisæ ¸å¿éç½®æä»¶ä¸­æ³¨åï¼--\x3e\n<mappers>\n    <mapper resource="com/oddfar/dao/usermapper.xml"/>\n</mappers>\n\n\n1\n2\n3\n4\n\n\næ¹å¼äºï¼ä½¿ç¨classæä»¶ç»å®æ³¨å\n\n\x3c!--æ¯ä¸ä¸ªmapper.xmlé½éè¦å¨mybatisæ ¸å¿éç½®æä»¶ä¸­æ³¨åï¼--\x3e\n<mappers>\n    <mapper class="com.oddfar.dao.usermapper"/>\n</mappers>\n\n\n1\n2\n3\n4\n\n\næ³¨æç¹ï¼\n\n * æ¥å£åä»çmapperéç½®æä»¶å¿é¡»ååï¼\n * æ¥å£åä»çmapperéç½®æä»¶å¿é¡»å¨åä¸ä¸ªåä¸ï¼\n\næ¹å¼ä¸ï¼ä½¿ç¨æ«æåè¿è¡æ³¨å¥ç»å®\n\n\x3c!--æ¯ä¸ä¸ªmapper.xmlé½éè¦å¨mybatisæ ¸å¿éç½®æä»¶ä¸­æ³¨åï¼--\x3e\n<mappers>\n    <package name="com.oddfar.dao"/>\n</mappers>\n\n\n1\n2\n3\n4\n\n\næ³¨æç¹ï¼\n\n * æ¥å£åä»çmapperéç½®æä»¶å¿é¡»ååï¼\n * æ¥å£åä»çmapperéç½®æä»¶å¿é¡»å¨åä¸ä¸ªåä¸ï¼\n\nç»ä¹ æ¶é´ï¼\n\n * å°æ°æ®åºéç½®æä»¶å¤é¨å¼å¥\n * å®ä½ç±»å«å\n * ä¿è¯usermapper æ¥å£ å usermapper .xml æ¹ä¸ºä¸è´ï¼å¹¶ä¸æ¾å¨åä¸ä¸ªåä¸ï¼\n\n\n# 8ãçå½å¨æåä½ç¨å\n\n\n\nçå½å¨æï¼åä½ç¨åï¼æ¯è³å³éè¦çï¼å ä¸ºéè¯¯çä½¿ç¨ä¼å¯¼è´éå¸¸ä¸¥éçå¹¶åé®é¢ã\n\nsqlsessionfactorybuilderï¼\n\n * ä¸æ¦åå»ºäº sqlsessionfactoryï¼å°±ä¸åéè¦å®äº\n * å±é¨åé\n\nsqlsessionfactoryï¼\n\n * è¯´ç½äºå°±æ¯å¯ä»¥æ³è±¡ä¸º ï¼æ°æ®åºè¿æ¥æ± \n * sqlsessionfactory ä¸æ¦è¢«åå»ºå°±åºè¯¥å¨åºç¨çè¿è¡æé´ä¸ç´å­å¨ï¼æ²¡æä»»ä½çç±ä¸¢å¼å®æéæ°åå»ºå¦ä¸ä¸ªå®ä¾ã\n * å æ­¤ sqlsessionfactory çæä½³ä½ç¨åæ¯åºç¨ä½ç¨åã\n * æç®åçå°±æ¯ä½¿ç¨åä¾æ¨¡å¼æèéæåä¾æ¨¡å¼ã\n\nsqlsession\n\n * è¿æ¥å°è¿æ¥æ± çä¸ä¸ªè¯·æ±ï¼\n * sqlsession çå®ä¾ä¸æ¯çº¿ç¨å®å¨çï¼å æ­¤æ¯ä¸è½è¢«å±äº«çï¼æä»¥å®çæä½³çä½ç¨åæ¯è¯·æ±ææ¹æ³ä½ç¨åã\n * ç¨å®ä¹åéè¦èµ¶ç´§å³é­ï¼å¦åèµæºè¢«å ç¨ï¼\n\n\n\nè¿éé¢çæ¯ä¸ä¸ªmapperï¼å°±ä»£è¡¨ä¸ä¸ªå·ä½çä¸å¡ï¼\n\n\n# 5ãå±æ§ååå­æ®µåéç½®\n\nå¨usermapper.xmlæä»¶ä¸­\n\nå¦ææä»¬çsqlè¯­å¥ä¸­å±æ§ååå­æ®µåä¸ä¸æ ·ï¼åä¼æ¥ä¸å°æ°æ®\n\næ°å»ºmybatis-03æ¨¡å\n\n\n# 1ã é®é¢\n\næ°æ®åºä¸­çå­æ®µ\n\n\n\næ°å»ºä¸ä¸ªé¡¹ç®ï¼æ·è´ä¹åçï¼æµè¯å®ä½ç±»å­æ®µä¸ä¸è´çæåµ\n\npublic class user {\n    private int id;\n    private string name;\n    private string password;\n}\n\n\n1\n2\n3\n4\n5\n\n\nç¼åsqlï¼æµè¯åºç°é®é¢\n\n\n\nè§£å³æ¹æ³æä¸¤ç§ï¼ä¸ç§èµ·å«åï¼ä¸ç§resultmapï¼ç»æéæ å°ï¼\n\n * èµ·å«å\n   \n   <select id="getuserbyid" resulttype="com.kuang.pojo.user">\n       select id,name,pwd as password from mybatis.user where id = #{id}\n   </select>\n   \n   \n   1\n   2\n   3\n   \n\n\n# 2ãresultmap\n\nç»æéæ å°\n\nid   name   pwd\nid   name   password\n\n\n1\n2\n\n\n\x3c!--ç»æéæ å°--\x3e\n<resultmap id="usermap" type="user">\n    \x3c!--columnæ°æ®åºä¸­çå­æ®µï¼propertyå®ä½ç±»ä¸­çå±æ§--\x3e\n    <result column="id" property="id"/>\n    <result column="name" property="name"/>\n    <result column="pwd" property="password"/>\n</resultmap>\n\n<select id="getuserbyid" resultmap="usermap">\n    select * from mybatis.user where id = #{id}\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n * resultmap åç´ æ¯ mybatis ä¸­æéè¦æå¼ºå¤§çåç´ \n * resultmap çè®¾è®¡ææ³æ¯ï¼å¯¹äºç®åçè¯­å¥æ ¹æ¬ä¸éè¦éç½®æ¾å¼çç»ææ å°ï¼èå¯¹äºå¤æä¸ç¹çè¯­å¥åªéè¦æè¿°å®ä»¬çå³ç³»å°±è¡äºã\n * resultmap æä¼ç§çå°æ¹å¨äºï¼è½ç¶ä½ å·²ç»å¯¹å®ç¸å½äºè§£äºï¼ä½æ¯æ ¹æ¬å°±ä¸éè¦æ¾å¼å°ç¨å°ä»ä»¬ã\n * å¦æä¸çæ»æ¯è¿ä¹ç®åå°±å¥½äºã\n\n\n# 6ãæ¥å¿\n\næ°å»ºæ¨¡åmybatis-04\n\n\n# 6.1ãæ¥å¿å·¥å\n\nå¦æä¸ä¸ªæ°æ®åºæä½ï¼åºç°äºå¼å¸¸ï¼æä»¬éè¦æéãæ¥å¿å°±æ¯æå¥½çå©æï¼\n\næ¾ç»ï¼sout ãdebug\n\nç°å¨ï¼æ¥å¿å·¥åï¼\n\n\n\n * slf4j\n\n * log4j ãææ¡ã\n\n * log4j2\n\n * jdk_logging\n\n * commons_logging\n\n * stdout_logging ãææ¡ã\n\n * no_logging\n\nå¨mybatisä¸­å·ä½ä½¿ç¨é£ä¸ªä¸æ¥å¿å®ç°ï¼å¨è®¾ç½®ä¸­è®¾å®ï¼\n\nstdout_loggingæ åæ¥å¿è¾åº\n\nå¨mybatisæ ¸å¿éç½®æä»¶ä¸­ï¼éç½®æä»¬çæ¥å¿ï¼\n\n<settings>\n    <setting name="logimpl" value="stdout_logging"/>\n</settings>\n\n\n1\n2\n3\n\n\n\n\n\n# 6.2ãlog4j\n\nä»ä¹æ¯log4jï¼\n\n * log4jæ¯apacheçä¸ä¸ªå¼æºé¡¹ç®ï¼éè¿ä½¿ç¨log4jï¼æä»¬å¯ä»¥æ§å¶æ¥å¿ä¿¡æ¯è¾éçç®çå°æ¯æ§å¶å°ãæä»¶ãguiç»ä»¶\n * æä»¬ä¹å¯ä»¥æ§å¶æ¯ä¸æ¡æ¥å¿çè¾åºæ ¼å¼ï¼\n * éè¿å®ä¹æ¯ä¸æ¡æ¥å¿ä¿¡æ¯ççº§å«ï¼æä»¬è½å¤æ´å ç»è´å°æ§å¶æ¥å¿ççæè¿ç¨ã\n * éè¿ä¸ä¸ªéç½®æä»¶æ¥çµæ´»å°è¿è¡éç½®ï¼èä¸éè¦ä¿®æ¹åºç¨çä»£ç ã\n\n 1. åå¯¼å¥log4jçå\n    \n    \x3c!-- https://mvnrepository.com/artifact/log4j/log4j --\x3e\n    <dependency>\n        <groupid>log4j</groupid>\n        <artifactid>log4j</artifactid>\n        <version>1.2.17</version>\n    </dependency>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    \n\n 2. log4j.properties\n    \n    #å°ç­çº§ä¸ºdebugçæ¥å¿ä¿¡æ¯è¾åºå°consoleåfileè¿ä¸¤ä¸ªç®çå°ï¼consoleåfileçå®ä¹å¨ä¸é¢çä»£ç \n    log4j.rootlogger=debug,console,file\n    \n    #æ§å¶å°è¾åºçç¸å³è®¾ç½®\n    log4j.appender.console = org.apache.log4j.consoleappender\n    log4j.appender.console.target = system.out\n    log4j.appender.console.threshold=debug\n    log4j.appender.console.layout = org.apache.log4j.patternlayout\n    log4j.appender.console.layout.conversionpattern=[%c]-%m%n\n    \n    #æä»¶è¾åºçç¸å³è®¾ç½®\n    log4j.appender.file = org.apache.log4j.rollingfileappender\n    log4j.appender.file.file=./log/kuang.log\n    log4j.appender.file.maxfilesize=10mb\n    log4j.appender.file.threshold=debug\n    log4j.appender.file.layout=org.apache.log4j.patternlayout\n    log4j.appender.file.layout.conversionpattern=[%p][%d{yy-mm-dd}][%c]%m%n\n    \n    #æ¥å¿è¾åºçº§å«\n    log4j.logger.org.mybatis=debug\n    log4j.logger.java.sql=debug\n    log4j.logger.java.sql.statement=debug\n    log4j.logger.java.sql.resultset=debug\n    log4j.logger.java.sql.preparedstatement=debug\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    \n\n 3. éç½®log4jä¸ºæ¥å¿çå®ç°\n    \n    <settings>\n        <setting name="logimpl" value="log4j"/>\n    </settings>\n    \n    \n    1\n    2\n    3\n    \n\n 4. log4jçä½¿ç¨ï¼ï¼ç´æ¥æµè¯è¿è¡åæçæ¥è¯¢\n    \n    \n\nç®åä½¿ç¨\n\n 1. å¨è¦ä½¿ç¨log4j çç±»ä¸­ï¼å¯¼å¥å import org.apache.log4j.logger;\n\n 2. æ¥å¿å¯¹è±¡ï¼åæ°ä¸ºå½åç±»çclass\n    \n    static logger logger = logger.getlogger(userdaotest.class);\n    \n    \n    1\n    \n\n 3. æ¥å¿çº§å«\n    \n    logger.info("info:è¿å¥äºtestlog4j");\n    logger.debug("debug:è¿å¥äºtestlog4j");\n    logger.error("error:è¿å¥äºtestlog4j");\n    \n    \n    1\n    2\n    3\n    \n\n\n# 7ãåé¡µ\n\næèï¼ä¸ºä»ä¹è¦åé¡µï¼\n\n * åå°æ°æ®çå¤çé\n\n\n# 7.1ãä½¿ç¨limitåé¡µ\n\nè¯­æ³ï¼select * from user limit startindex,pagesize;\nselect * from user limit 3;  #[0,n]\n\n\n1\n2\n\n\nä½¿ç¨mybatiså®ç°åé¡µï¼æ ¸å¿sql\n\n 1. æ¥å£\n    \n    //åé¡µ\n    list<user> getuserbylimit(map<string,integer> map);\n    \n    \n    1\n    2\n    \n\n 2. mapper.xml\n    \n    \x3c!--//åé¡µ--\x3e\n    <select id="getuserbylimit" parametertype="map" resultmap="usermap">\n        select * from  mybatis.user limit #{startindex},#{pagesize}\n    </select>\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 3. æµè¯\n    \n    @test\n    public void getuserbylimit(){\n    sqlsession sqlsession = mybatisutils.getsqlsession();\n    usermapper mapper = sqlsession.getmapper(usermapper.class);\n    \n    hashmap<string, integer> map = new hashmap<string, integer>();\n        map.put("startindex",1);\n        map.put("pagesize",2);\n    \n        list<user> userlist =  mapper.getuserbylimit(map);\n        for (user user : userlist) {\n        system.out.println(user);\n        }\n    \n        sqlsession.close();\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    \n\n\n# 7.2ãrowboundsåé¡µ\n\nä¸åä½¿ç¨sqlå®ç°åé¡µ\n\n 1. æ¥å£\n    \n    //åé¡µ2\n    list<user> getuserbyrowbounds();\n    \n    \n    1\n    2\n    \n\n 2. mapper.xml\n    \n    \x3c!--åé¡µ2--\x3e\n    <select id="getuserbyrowbounds" resultmap="usermap">\n        select * from  mybatis.user\n    </select>\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 3. æµè¯\n    \n    @test\n    public void getuserbyrowbounds(){\n    sqlsession sqlsession = mybatisutils.getsqlsession();\n    \n    //rowboundså®ç°\n    rowbounds rowbounds = new rowbounds(1, 2);\n    \n    //éè¿javaä»£ç å±é¢å®ç°åé¡µ\n    list<user> userlist = sqlsession.selectlist("com.kuang.dao.usermapper.getuserbyrowbounds",null,rowbounds);\n    \n        for (user user : userlist) {\n        system.out.println(user);\n        }\n    \n        sqlsession.close();\n        }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    \n\n\n# 7.3ãåé¡µæä»¶\n\n\n\näºè§£å³å¯ï¼ä¸ä¸ ä»¥åå¬å¸çæ¶æå¸ï¼è¯´è¦ä½¿ç¨ï¼ä½ éè¦ç¥éå®æ¯ä»ä¹ä¸è¥¿ï¼\n\n\n# 8ãä½¿ç¨æ³¨è§£å¼å\n\nå¯¹åºæ¨¡åmybaits-05\n\n\n# 8.1ãé¢åæ¥å£ç¼ç¨\n\nå¤§å®¶ä¹åé½å­¦è¿é¢åå¯¹è±¡ç¼ç¨ï¼ä¹å­¦ä¹ è¿æ¥å£ï¼ä½å¨çæ­£çå¼åä¸­ï¼å¾å¤æ¶åæä»¬ä¼éæ©é¢åæ¥å£ç¼ç¨\n\næ ¹æ¬åå  : è§£è¦ , å¯æå± , æé«å¤ç¨ , åå±å¼åä¸­ , ä¸å±ä¸ç¨ç®¡å·ä½çå®ç° , å¤§å®¶é½éµå®å±åçæ å , ä½¿å¾å¼ååå¾å®¹æ , è§èæ§æ´å¥½\n\nå¨ä¸ä¸ªé¢åå¯¹è±¡çç³»ç»ä¸­ï¼ç³»ç»çåç§åè½æ¯ç±è®¸è®¸å¤å¤çä¸åå¯¹è±¡åä½å®æçãå¨è¿ç§æåµä¸ï¼åä¸ªå¯¹è±¡åé¨æ¯å¦ä½å®ç°èªå·±ç,å¯¹ç³»ç»è®¾è®¡äººåæ¥è®²å°±ä¸é£ä¹éè¦äºï¼\n\nèåä¸ªå¯¹è±¡ä¹é´çåä½å³ç³»åæä¸ºç³»ç»è®¾è®¡çå³é®ãå°å°ä¸åç±»ä¹é´çéä¿¡ï¼å¤§å°åæ¨¡åä¹é´çäº¤äºï¼å¨ç³»ç»è®¾è®¡ä¹åé½æ¯è¦çéèèçï¼è¿ä¹æ¯ç³»ç»è®¾è®¡çä¸»è¦å·¥ä½åå®¹ãé¢åæ¥å£ç¼ç¨å°±æ¯ææç§è¿ç§ææ³æ¥ç¼ç¨ã\n\nå³äºæ¥å£ççè§£\n\n * æ¥å£ä»æ´æ·±å±æ¬¡ççè§£ï¼åºæ¯å®ä¹ï¼è§èï¼çº¦æï¼ä¸å®ç°ï¼åå®åç¦»çååï¼çåç¦»ã\n * æ¥å£çæ¬èº«åæ äºç³»ç»è®¾è®¡äººåå¯¹ç³»ç»çæ½è±¡çè§£ã\n * æ¥å£åºæä¸¤ç±»ï¼\n   * ç¬¬ä¸ç±»æ¯å¯¹ä¸ä¸ªä¸ªä½çæ½è±¡ï¼å®å¯å¯¹åºä¸ºä¸ä¸ªæ½è±¡ä½(abstract class)ï¼\n   * ç¬¬äºç±»æ¯å¯¹ä¸ä¸ªä¸ªä½æä¸æ¹é¢çæ½è±¡ï¼å³å½¢æä¸ä¸ªæ½è±¡é¢ï¼interfaceï¼ï¼\n * ä¸ä¸ªä½æå¯è½æå¤ä¸ªæ½è±¡é¢ãæ½è±¡ä½ä¸æ½è±¡é¢æ¯æåºå«çã\n\nä¸ä¸ªé¢ååºå«\n\n * é¢åå¯¹è±¡æ¯æï¼æä»¬èèé®é¢æ¶ï¼ä»¥å¯¹è±¡ä¸ºåä½ï¼èèå®çå±æ§åæ¹æ³ .\n * é¢åè¿ç¨æ¯æï¼æä»¬èèé®é¢æ¶ï¼ä»¥ä¸ä¸ªå·ä½çæµç¨ï¼äºå¡è¿ç¨ï¼ä¸ºåä½ï¼èèå®çå®ç° .\n * æ¥å£è®¾è®¡ä¸éæ¥å£è®¾è®¡æ¯éå¯¹å¤ç¨ææ¯èè¨çï¼ä¸é¢åå¯¹è±¡ï¼è¿ç¨ï¼ä¸æ¯ä¸ä¸ªé®é¢.æ´å¤çä½ç°å°±æ¯å¯¹ç³»ç»æ´ä½çæ¶æ\n\n\n# 8.2ãä½¿ç¨æ³¨è§£å¼å\n\n 1. æ³¨è§£å¨æ¥å£ä¸å®ç°\n    \n    @select("select * from user")\n    list<user> getusers();\n    \n    \n    1\n    2\n    \n\n 2. éè¦åæ ¸å¿éç½®æä»¶ä¸­ç»å®æ¥å£ï¼\n    \n    \x3c!--ç»å®æ¥å£--\x3e\n    <mappers>\n        <mapper class="com.kuang.dao.usermapper"/>\n    </mappers>\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 3. æµè¯\n\næ¬è´¨ï¼åå°æºå¶å®ç°\n\nåºå±ï¼å¨æä»£çï¼\n\n\n\nmybatisè¯¦ç»çæ§è¡æµç¨ï¼\n\n\n\n\n# 8.3ãcrud\n\næä»¬å¯ä»¥å¨å·¥å·ç±»åå»ºçæ¶åå®ç°èªå¨æäº¤äºå¡ï¼\n\npublic static sqlsession  getsqlsession(){\n    return sqlsessionfactory.opensession(true);\n}\n\n\n1\n2\n3\n\n\nç¼åæ¥å£ï¼å¢å æ³¨è§£\n\npublic interface usermapper {\n\n    @select("select * from user")\n    list<user> getusers();\n\n    // æ¹æ³å­å¨å¤ä¸ªåæ°ï¼ææçåæ°åé¢å¿é¡»å ä¸ @param("id")æ³¨è§£\n    @select("select * from user where id = #{id}")\n    user getuserbyid(@param("id") int id);\n\n\n    @insert("insert into user(id,name,pwd) values (#{id},#{name},#{password})")\n    int adduser(user user);\n\n    \n    @update("update user set name=#{name},pwd=#{password} where id = #{id}")\n    int updateuser(user user);\n\n    \n    @delete("delete from user where id = #{uid}")\n    int deleteuser(@param("uid") int id);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\næµè¯ç±»\n\nãæ³¨æï¼æä»¬å¿é¡»è¦è®²æ¥å£æ³¨åç»å®å°æä»¬çæ ¸å¿éç½®æä»¶ä¸­ï¼ã\n\nå³äº@param() æ³¨è§£\n\n * åºæ¬ç±»åçåæ°æèstringç±»åï¼éè¦å ä¸\n * å¼ç¨ç±»åä¸éè¦å \n * å¦æåªæä¸ä¸ªåºæ¬ç±»åçè¯ï¼å¯ä»¥å¿½ç¥ï¼ä½æ¯å»ºè®®å¤§å®¶é½å ä¸ï¼\n * æä»¬å¨sqlä¸­å¼ç¨çå°±æ¯æä»¬è¿éç @param() ä¸­è®¾å®çå±æ§åï¼\n\n#{} ${} åºå«\n\n\n# 9ãlombok\n\nå¯¹åºæ¨¡åmybatis-06\n\nproject lombok is a java library that automatically plugs into your editor and build tools, spicing up your java.\nnever write another getter or equals method again, with one annotation your class has a fully featured builder, automate your logging variables, and much more.\n\n\n1\n2\n\n * java library\n * plugs\n * build tools\n * with one annotation your class\n\nä½¿ç¨æ­¥éª¤ï¼\n\n 1. å¨ideaä¸­å®è£lombokæä»¶ï¼\n\n 2. å¨é¡¹ç®ä¸­å¯¼å¥lombokçjarå\n    \n    <dependency>\n        <groupid>org.projectlombok</groupid>\n        <artifactid>lombok</artifactid>\n        <version>1.18.10</version>\n    </dependency>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 3. å¨å®ä½ç±»ä¸å æ³¨è§£å³å¯ï¼\n    \n    @data\n    @allargsconstructor\n    @noargsconstructor\n    \n    \n    1\n    2\n    3\n    \n\n@getter and @setter\n@fieldnameconstants\n@tostring\n@equalsandhashcode\n@allargsconstructor, @requiredargsconstructor and @noargsconstructor\n@log, @log4j, @log4j2, @slf4j, @xslf4j, @commonslog, @jbosslog, @flogger\n@data\n@builder\n@singular\n@delegate\n@value\n@accessors\n@wither\n@sneakythrows\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nè¯´æï¼\n\n@dataï¼æ åæé ï¼getãsetãtostringãhashcodeï¼equals\n@allargsconstructor\n@noargsconstructor\n@equalsandhashcode\n@tostring\n@getter\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 10ãå¤å¯¹ä¸å¤ç\n\nå¯¹åºæ¨¡åmybatis-06\n\nå¤å¯¹ä¸ï¼\n\n\n\n * å¤ä¸ªå­¦çï¼å¯¹åºä¸ä¸ªèå¸\n * å¯¹äºå­¦çè¿è¾¹èè¨ï¼ å³è .. å¤ä¸ªå­¦çï¼å³èä¸ä¸ªèå¸ ãå¤å¯¹ä¸ã\n * å¯¹äºèå¸èè¨ï¼ éå ï¼ ä¸ä¸ªèå¸ï¼æå¾å¤å­¦ç ãä¸å¯¹å¤ã\n\n\n\npojoï¼\n\n@data\npublic class student {\n    private int id;\n    private string name;\n    private teacher teacher;\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n@data\npublic class teacher {\n    private int id;\n    private string name;\n}\n\n\n1\n2\n3\n4\n5\n\n\nsqlï¼\n\ncreate table `teacher` (\n  `id` int(10) not null,\n  `name` varchar(30) default null,\n  primary key (`id`)\n) engine=innodb default charset=utf8\n\ninsert into teacher(`id`, `name`) values (1, \'ç§¦èå¸\'); \n\ncreate table `student` (\n  `id` int(10) not null,\n  `name` varchar(30) default null,\n  `tid` int(10) default null,\n  primary key (`id`),\n  key `fktid` (`tid`),\n  constraint `fktid` foreign key (`tid`) references `teacher` (`id`)\n) engine=innodb default charset=utf8\n\n\ninsert into `student` (`id`, `name`, `tid`) values (\'1\', \'å°æ\', \'1\'); \ninsert into `student` (`id`, `name`, `tid`) values (\'2\', \'å°çº¢\', \'1\'); \ninsert into `student` (`id`, `name`, `tid`) values (\'3\', \'å°å¼ \', \'1\'); \ninsert into `student` (`id`, `name`, `tid`) values (\'4\', \'å°æ\', \'1\'); \ninsert into `student` (`id`, `name`, `tid`) values (\'5\', \'å°ç\', \'1\');\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# æµè¯ç¯å¢æ­å»º\n\n 1. å¯¼å¥lombok\n 2. æ°å»ºå®ä½ç±» teacherï¼student\n 3. å»ºç«mapperæ¥å£\n 4. å»ºç«mapper.xmlæä»¶\n 5. å¨æ ¸å¿éç½®æä»¶ä¸­ç»å®æ³¨åæä»¬çmapperæ¥å£æèæä»¶ï¼ãæ¹å¼å¾å¤ï¼éå¿éã\n 6. æµè¯æ¥è¯¢æ¯å¦è½å¤æåï¼\n\n\n# æç§æ¥è¯¢åµå¥å¤ç\n\n\x3c!--\n    æè·¯:\n        1. æ¥è¯¢ææçå­¦çä¿¡æ¯\n        2. æ ¹æ®æ¥è¯¢åºæ¥çå­¦ççtidï¼å¯»æ¾å¯¹åºçèå¸ï¼  å­æ¥è¯¢\n    --\x3e\n\n<select id="getstudent" resultmap="studentteacher">\n    select * from student\n</select>\n\n<resultmap id="studentteacher" type="student">\n    <result property="id" column="id"/>\n    <result property="name" column="name"/>\n    \x3c!--å¤æçå±æ§ï¼æä»¬éè¦åç¬å¤ç å¯¹è±¡ï¼ association éåï¼ collection --\x3e\n    <association property="teacher" column="tid" javatype="teacher" select="getteacher"/>\n</resultmap>\n\n<select id="getteacher" resulttype="teacher">\n    select * from teacher where id = #{id}\n</select>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# æç§ç»æåµå¥å¤ç\n\n\x3c!--æç§ç»æåµå¥å¤ç--\x3e\n<select id="getstudent2" resultmap="studentteacher2">\n    select s.id sid,s.name sname,t.name tname\n    from student s,teacher t\n    where s.tid = t.id;\n</select>\n\n<resultmap id="studentteacher2" type="student">\n    <result property="id" column="sid"/>\n    <result property="name" column="sname"/>\n    <association property="teacher" javatype="teacher">\n        <result property="name" column="tname"/>\n    </association>\n</resultmap>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nåé¡¾mysql å¤å¯¹ä¸æ¥è¯¢æ¹å¼ï¼\n\n * å­æ¥è¯¢\n * èè¡¨æ¥è¯¢\n\n\n# 11ãä¸å¯¹å¤å¤ç\n\nå¯¹åºæ¨¡åmybatis-07\n\næ¯å¦ï¼ä¸ä¸ªèå¸æ¥æå¤ä¸ªå­¦çï¼\n\nå¯¹äºèå¸èè¨ï¼å°±æ¯ä¸å¯¹å¤çå³ç³»!\n\n\n# ç¯å¢æ­å»º\n\nç¯å¢æ­å»ºï¼ååæä¸æ ·\n\nå®ä½ç±»\n\n@data\npublic class student {\n    private int id;\n    private string name;\n    private int tid;\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n@data\npublic class teacher {\n    private int id;\n    private string name;\n    //ä¸ä¸ªèå¸æ¥æå¤ä¸ªå­¦ç\n    private list<student> students;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# æç§æ¥è¯¢åµå¥å¤ç\n\n<select id="getteacher2" resultmap="teacherstudent2">\n    select * from mybatis.teacher where id = #{tid}\n</select>\n\n<resultmap id="teacherstudent2" type="teacher">\n    <collection property="students" javatype="arraylist" oftype="student" select="getstudentbyteacherid" column="id"/>\n</resultmap>\n\n<select id="getstudentbyteacherid" resulttype="student">\n    select * from mybatis.student where tid = #{tid}\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# æç§ç»æåµå¥å¤ç\n\n\x3c!--æç»æåµå¥æ¥è¯¢--\x3e\n<select id="getteacher" resultmap="teacherstudent">\n    select s.id sid, s.name sname, t.name tname,t.id tid\n    from student s,teacher t\n    where s.tid = t.id and t.id = #{tid}\n</select>\n\n<resultmap id="teacherstudent" type="teacher">\n    <result property="id" column="tid"/>\n    <result property="name" column="tname"/>\n    \x3c!--å¤æçå±æ§ï¼æä»¬éè¦åç¬å¤ç å¯¹è±¡ï¼ association éåï¼ collection\n    javatype="" æå®å±æ§çç±»åï¼\n    éåä¸­çæ³åä¿¡æ¯ï¼æä»¬ä½¿ç¨oftypeè·å\n    --\x3e\n    <collection property="students" oftype="student">\n        <result property="id" column="sid"/>\n        <result property="name" column="sname"/>\n        <result property="tid" column="tid"/>\n    </collection>\n</resultmap>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# å°ç»\n\n 1. å³è - association ãå¤å¯¹ä¸ã\n 2. éå - collection ãä¸å¯¹å¤ã\n 3. javatype & oftype\n    1. javatype ç¨æ¥æå®å®ä½ç±»ä¸­å±æ§çç±»å\n    2. oftype ç¨æ¥æå®æ å°å°listæèéåä¸­ç pojoç±»åï¼æ³åä¸­ççº¦æç±»åï¼\n\næ³¨æç¹ï¼\n\n * ä¿è¯sqlçå¯è¯»æ§ï¼å°½éä¿è¯éä¿ææ\n * æ³¨æä¸å¯¹å¤åå¤å¯¹ä¸ä¸­ï¼å±æ§ååå­æ®µçé®é¢ï¼\n * å¦æé®é¢ä¸å¥½ææ¥éè¯¯ï¼å¯ä»¥ä½¿ç¨æ¥å¿ ï¼ å»ºè®®ä½¿ç¨ log4j\n\næ¢sql 1s 1000s\n\né¢è¯é«é¢\n\n * mysqlå¼æ\n * innodbåºå±åç\n * ç´¢å¼\n * ç´¢å¼ä¼åï¼\n\n\n# 12ãå¨æ sql\n\nå¯¹åºæ¨¡åmybatis-08\n\nä»ä¹æ¯å¨æsqlï¼å¨æsqlå°±æ¯ææ ¹æ®ä¸åçæ¡ä»¶çæä¸åçsqlè¯­å¥\n\nå©ç¨å¨æ sql è¿ä¸ç¹æ§å¯ä»¥å½»åºæè±è¿ç§çè¦ã\n\nå¨æ sql åç´ å jstl æåºäºç±»ä¼¼ xml çææ¬å¤çå¨ç¸ä¼¼ãå¨ mybatis ä¹åççæ¬ä¸­ï¼æå¾å¤åç´ éè¦è±æ¶é´äºè§£ãmybatis 3 å¤§å¤§ç²¾ç®äºåç´ ç§ç±»ï¼ç°å¨åªéå­¦ä¹ åæ¥ä¸åçåç´ ä¾¿å¯ãmybatis éç¨åè½å¼ºå¤§çåºäº ognl çè¡¨è¾¾å¼æ¥æ·æ±°å¶å®å¤§é¨ååç´ ã\n\nif\nchoose (when, otherwise)\ntrim (where, set)\nforeach\n\n\n1\n2\n3\n4\n\n\n\n# æ­å»ºç¯å¢\n\ncreate table `blog` (\n  `id` varchar(50) not null comment \'åå®¢id\',\n  `title` varchar(100) not null comment \'åå®¢æ é¢\',\n  `author` varchar(30) not null comment \'åå®¢ä½è\',\n  `create_time` datetime not null comment \'åå»ºæ¶é´\',\n  `views` int(30) not null comment \'æµè§é\'\n) engine=innodb default charset=utf8\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nåå»ºä¸ä¸ªåºç¡å·¥ç¨\n\n 1. å¯¼å\n\n 2. ç¼åéç½®æä»¶\n\n 3. å·¥å·å\n    \n    //æå¶è­¦å\n    @suppresswarnings("all")\n    public class idutils {\n        public static string getid(){\n            return uuid.randomuuid().tostring().replace("-","");\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    \n\n 4. ç¼åå®ä½ç±»\n    \n    @data\n    public class blog {\n        private string id;\n        private string title;\n        private string author;\n        private date createtime;\n        private int views;\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    \n\næå¥æ°æ®\n\n   @test\n   public void addinitblog(){\n       sqlsession sqlsession = mybatisutils.getsqlsession();\n       blogmapper mapper = sqlsession.getmapper(blogmapper.class);\n       blog blog = new blog(idutils.getid(),"mybatiså¦æ­¤ç®å","çç¥è¯´",new date(),9999);\n       mapper.addblog(blog);\n       blog = new blog(idutils.getid(),"javaå¦æ­¤ç®å","çç¥è¯´",new date(),1000);\n       mapper.addblog(blog);\n       blog = new blog(idutils.getid(),"springå¦æ­¤ç®å","çç¥è¯´",new date(),9999);\n       mapper.addblog(blog);\n       blog = new blog(idutils.getid(),"å¾®æå¡å¦æ­¤ç®å","çç¥è¯´",new date(),9999);\n       mapper.addblog(blog);\n       sqlsession.close();\n   }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n 5. ç¼åå®ä½ç±»å¯¹åºmapperæ¥å£ å mapper.xmlæä»¶\n\n\n# if\n\nxml\n\n<select id="queryblogif" parametertype="map" resulttype="blog">\n    select * from mybatis.blog where 1=1\n    <if test="title != null">\n        and title = #{title}\n    </if>\n    <if test="author != null">\n        and author = #{author}\n    </if>\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nä»£ç ï¼\n\n@test\npublic void queryblogif() {\n    sqlsession sqlsession = mybatisutils.getsqlsession();\n    blogmapper mapper = sqlsession.getmapper(blogmapper.class);\n    hashmap map = new hashmap();\n//        map.put("title","mybatiså¦æ­¤ç®å");\n    map.put("author","çç¥è¯´");\n    list<blog> bloglist = mapper.queryblogif(map);\n    for (blog blog : bloglist) {\n        system.out.println(blog);\n    }\n\n    sqlsession.close();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# choose (when, otherwise)\n\nç±»ä¼¼äºjavaéçswitch\n\n<select id="queryblogchoose" parametertype="map" resulttype="blog">\n    select * from mybatis.blog\n    <where>\n        <choose>\n            <when test="title != null">\n                title = #{title}\n            </when>\n            <when test="author != null">\n                and author = #{author}\n            </when>\n            <otherwise>\n                and views = #{views}\n            </otherwise>\n        </choose>\n    </where>\n</select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\nä»£ç \n\n@test\npublic void queryblogchoose(){\n    sqlsession sqlsession = mybatisutils.getsqlsession();\n    blogmapper mapper = sqlsession.getmapper(blogmapper.class);\n    hashmap map = new hashmap();\n    map.put("title","mybatiså¦æ­¤ç®å2");\n//        map.put("author","çç¥è¯´");\n    map.put("id","5d3adbfea47b4493bc086cf8dbb8998a");\n     mapper.updateblog(map);\n\n    sqlsession.close();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# trim (where,set)\n\nselect * from mybatis.blog\n<where>\n    <if test="title != null">\n        title = #{title}\n    </if>\n    <if test="author != null">\n        and author = #{author}\n    </if>\n</where>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n<update id="updateblog" parametertype="map">\n    update mybatis.blog\n    <set>\n        <if test="title != null">\n            title = #{title},\n        </if>\n        <if test="author != null">\n            author = #{author}\n        </if>\n    </set>\n    where id = #{id}\n</update>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nä»£ç ï¼\n\n@test\npublic void updateblog(){\n    sqlsession sqlsession = mybatisutils.getsqlsession();\n    blogmapper mapper = sqlsession.getmapper(blogmapper.class);\n    hashmap map = new hashmap();\n//        map.put("title","mybatiså¦æ­¤ç®å");\n//        map.put("author","çç¥è¯´");\n    list<blog> bloglist = mapper.queryblogchoose(map);\n    for (blog blog : bloglist) {\n        system.out.println(blog);\n    }\n    sqlsession.close();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\næè°çå¨æsqlï¼æ¬è´¨è¿æ¯sqlè¯­å¥ ï¼ åªæ¯æä»¬å¯ä»¥å¨sqlå±é¢ï¼å»æ§è¡ä¸ä¸ªé»è¾ä»£ç \n\nif\n\nwhere ï¼ set ï¼ choose ï¼when\n\n\n# sqlçæ®µ\n\næçæ¶åï¼æä»¬å¯è½ä¼å°ä¸äºåè½çé¨åæ½ååºæ¥ï¼æ¹ä¾¿å¤ç¨ï¼\n\n 1. ä½¿ç¨sqlæ ç­¾æ½åå¬å±çé¨å\n    \n    <sql id="if-title-author">\n        <if test="title != null">\n            title = #{title}\n        </if>\n        <if test="author != null">\n            and author = #{author}\n        </if>\n    </sql>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    \n\n 2. å¨éè¦ä½¿ç¨çå°æ¹ä½¿ç¨includeæ ç­¾å¼ç¨å³å¯\n    \n    <select id="queryblogif" parametertype="map" resulttype="blog">\n        select * from mybatis.blog\n        <where>\n            <include refid="if-title-author"></include>\n        </where>\n    </select>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    \n\næ³¨æäºé¡¹ï¼\n\n * æå¥½åºäºåè¡¨æ¥å®ä¹sqlçæ®µï¼\n * ä¸è¦å­å¨whereæ ç­¾\n\n\n# foreach\n\nselect * from user where 1=1 and \n\n  <foreach item="id" collection="ids"\n      open="(" separator="or" close=")">\n        #{id}\n  </foreach>\n\n(id=1 or id=2 or id=3)\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n\n\n\n\x3c!--\n        select * from mybatis.blog where 1=1 and (id=1 or id = 2 or id=3)\n\n        æä»¬ç°å¨ä¼ éä¸ä¸ªä¸è½çmap ï¼ è¿mapä¸­å¯ä»¥å­å¨ä¸ä¸ªéåï¼\n--\x3e\n<select id="queryblogforeach" parametertype="map" resulttype="blog">\n    select * from mybatis.blog\n\n    <where>\n        <foreach collection="ids" item="id" open="and (" close=")" separator="or">\n            id = #{id}\n        </foreach>\n    </where>\n\n</select>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\næåsqlä¸ºï¼ select * from mybatis.blog where ( id = ? or id = ? or id = ? )\n\nä»£ç ï¼\n\n@test\npublic void queryblogforeach(){\n    sqlsession sqlsession = mybatisutils.getsqlsession();\n    blogmapper mapper = sqlsession.getmapper(blogmapper.class);\n    hashmap map = new hashmap();\n\n    arraylist<string> ids = new arraylist<string>();\n    ids.add("d97ca9c234df463e950f252d22fb5f85");\n    ids.add("4cfe16fcebb145f894b6ec9033f8ae33");\n    ids.add("5d3adbfea47b4493bc086cf8dbb8998a");\n\n    map.put("ids",ids);\n\n    list<blog> bloglist = mapper.queryblogforeach(map);\n    for (blog blog : bloglist) {\n        system.out.println(blog);\n    }\n    sqlsession.close();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nå¨æsqlå°±æ¯å¨æ¼æ¥sqlè¯­å¥ï¼æä»¬åªè¦ä¿è¯sqlçæ­£ç¡®æ§ï¼æç§sqlçæ ¼å¼ï¼å»æåç»åå°±å¯ä»¥äº\n\nå»ºè®®ï¼\n\n * ç°å¨mysqlä¸­ååºå®æ´çsql,åå¯¹åºçå»ä¿®æ¹æä¸ºæä»¬çå¨æsqlå®ç°éç¨å³å¯ï¼\n\n\n# 13ãç¼å­\n\nå¯¹åºæ¨¡åmybatis-09\n\n\n# 13.1ãç®ä»\n\næä»¬æ¯æ¬¡æ¥è¯¢æ°æ®çæ¶åï¼æ¯éè¿æ°æ®åºæ¥è¯¢ãå¨æ°æ®éè¦å¤§éæ¥è¯¢æ¶ï¼æä»¬å°±éè¦ç¨å°ç¼å­ï¼ä¸è½½æ¥è¯¢ç¸åçæ¶åï¼éè¿åå­æ¥è¯¢ï¼ä¸éè¦ç»è¿æ°æ®åºï¼å¤§å¤§çèççèµæº\n\n 1. ä»ä¹æ¯ç¼å­ [ cache ]ï¼\n    \n    * å­å¨åå­ä¸­çä¸´æ¶æ°æ®ã\n    * å°ç¨æ·ç»å¸¸æ¥è¯¢çæ°æ®æ¾å¨ç¼å­ï¼åå­ï¼ä¸­ï¼ç¨æ·å»æ¥è¯¢æ°æ®å°±ä¸ç¨ä»ç£çä¸(å³ç³»åæ°æ®åºæ°æ®æä»¶)æ¥è¯¢ï¼ä»ç¼å­ä¸­æ¥è¯¢ï¼ä»èæé«æ¥è¯¢æçï¼è§£å³äºé«å¹¶åç³»ç»çæ§è½é®é¢ã\n\n 2. ä¸ºä»ä¹ä½¿ç¨ç¼å­ï¼\n    \n    * åå°åæ°æ®åºçäº¤äºæ¬¡æ°ï¼åå°ç³»ç»å¼éï¼æé«ç³»ç»æçã\n\n 3. ä»ä¹æ ·çæ°æ®è½ä½¿ç¨ç¼å­ï¼\n    \n    * ç»å¸¸æ¥è¯¢å¹¶ä¸ä¸ç»å¸¸æ¹åçæ°æ®ããå¯ä»¥ä½¿ç¨ç¼å­ã\n\næä»¬åæ¬¡æ¥è¯¢ç¸åæ°æ®çæ¶åï¼ç´æ¥èµ°ç¼å­ï¼å°±ä¸ç¨èµ°æ°æ®åºäº\n\n\n# 13.2ãmybatisç¼å­\n\n * mybatisåå«ä¸ä¸ªéå¸¸å¼ºå¤§çæ¥è¯¢ç¼å­ç¹æ§ï¼å®å¯ä»¥éå¸¸æ¹ä¾¿å°å®å¶åéç½®ç¼å­ãç¼å­å¯ä»¥æå¤§çæåæ¥è¯¢æçã\n * mybatisç³»ç»ä¸­é»è®¤å®ä¹äºä¸¤çº§ç¼å­ï¼ä¸çº§ç¼å­åäºçº§ç¼å­\n   \n   * é»è®¤æåµä¸ï¼åªæä¸çº§ç¼å­å¼å¯ãï¼sqlsessionçº§å«çç¼å­ï¼ä¹ç§°ä¸ºæ¬å°ç¼å­ï¼\n   \n   * äºçº§ç¼å­éè¦æå¨å¼å¯åéç½®ï¼ä»æ¯åºäºnamespaceçº§å«çç¼å­ã\n   \n   * ä¸ºäºæé«æ©å±æ§ï¼mybatiså®ä¹äºç¼å­æ¥å£cacheãæä»¬å¯ä»¥éè¿å®ç°cacheæ¥å£æ¥èªå®ä¹äºçº§ç¼å­\n\n\n# 13.3ãä¸çº§ç¼å­\n\n * ä¸çº§ç¼å­ä¹å«æ¬å°ç¼å­ï¼ sqlsession\n   * ä¸æ°æ®åºåä¸æ¬¡ä¼è¯æé´æ¥è¯¢å°çæ°æ®ä¼æ¾å¨æ¬å°ç¼å­ä¸­ã\n   * ä»¥åå¦æéè¦è·åç¸åçæ°æ®ï¼ç´æ¥ä»ç¼å­ä¸­æ¿ï¼æ²¡å¿é¡»åå»æ¥è¯¢æ°æ®åºï¼\n\næµè¯æ­¥éª¤ï¼\n\n 1. å¼å¯æ¥å¿ï¼\n 2. æµè¯å¨ä¸ä¸ªsesionä¸­æ¥è¯¢ä¸¤æ¬¡ç¸åè®°å½\n 3. æ¥çæ¥å¿è¾åº\n\n\n\nç¼å­å¤±æçæåµï¼\n\n 1. æ¥è¯¢ä¸åçä¸è¥¿\n\n 2. å¢å æ¹æä½ï¼å¯è½ä¼æ¹ååæ¥çæ°æ®ï¼æä»¥å¿å®ä¼å·æ°ç¼å­ï¼\n    \n    \n\n 3. æ¥è¯¢ä¸åçmapper.xml\n\n 4. æå¨æ¸çç¼å­ï¼\n    \n    \n\nå°ç»ï¼ä¸çº§ç¼å­é»è®¤æ¯å¼å¯çï¼åªå¨ä¸æ¬¡sqlsessionä¸­ææï¼ä¹å°±æ¯æ¿å°è¿æ¥å°å³é­è¿æ¥è¿ä¸ªåºé´æ®µï¼\n\nä¸çº§ç¼å­å°±æ¯ä¸ä¸ªmapã\n\n\n# 13.4ãäºçº§ç¼å­\n\n * äºçº§ç¼å­ä¹å«å¨å±ç¼å­ï¼ä¸çº§ç¼å­ä½ç¨åå¤ªä½äºï¼æä»¥è¯çäºäºçº§ç¼å­\n * åºäºnamespaceçº§å«çç¼å­ï¼ä¸ä¸ªåç§°ç©ºé´ï¼å¯¹åºä¸ä¸ªäºçº§ç¼å­ï¼\n * å·¥ä½æºå¶\n   * ä¸ä¸ªä¼è¯æ¥è¯¢ä¸æ¡æ°æ®ï¼è¿ä¸ªæ°æ®å°±ä¼è¢«æ¾å¨å½åä¼è¯çä¸çº§ç¼å­ä¸­ï¼\n   * å¦æå½åä¼è¯å³é­äºï¼è¿ä¸ªä¼è¯å¯¹åºçä¸çº§ç¼å­å°±æ²¡äºï¼ä½æ¯æä»¬æ³è¦çæ¯ï¼ä¼è¯å³é­äºï¼ä¸çº§ç¼å­ä¸­çæ°æ®è¢«ä¿å­å°äºçº§ç¼å­ä¸­ï¼\n   * æ°çä¼è¯æ¥è¯¢ä¿¡æ¯ï¼å°±å¯ä»¥ä»äºçº§ç¼å­ä¸­è·ååå®¹ï¼\n   * ä¸åçmapperæ¥åºçæ°æ®ä¼æ¾å¨èªå·±å¯¹åºçç¼å­ï¼mapï¼ä¸­ï¼\n\næ­¥éª¤ï¼\n\n 1. å¼å¯å¨å±ç¼å­\n    \n    \x3c!--æ¾ç¤ºçå¼å¯å¨å±ç¼å­--\x3e\n    <setting name="cacheenabled" value="true"/>\n    \n    \n    1\n    2\n    \n\n 2. å¨è¦ä½¿ç¨äºçº§ç¼å­çmapperä¸­å¼å¯\n    \n    \x3c!--å¨å½åmapper.xmlä¸­ä½¿ç¨äºçº§ç¼å­--\x3e\n    <cache/>\n    \n    \n    1\n    2\n    \n    \n    ä¹å¯ä»¥èªå®ä¹åæ°\n    \n    \x3c!--å¨å½åmapper.xmlä¸­ä½¿ç¨äºçº§ç¼å­--\x3e\n    <cache  eviction="fifo"\n           flushinterval="60000"\n           size="512"\n           readonly="true"/>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 3. æµè¯\n    \n    1. é®é¢:æä»¬éè¦å°å®ä½ç±»åºååï¼å¦åå°±ä¼æ¥éï¼\n       \n       caused by: java.io.notserializableexception: com.kuang.pojo.user\n       \n       \n       1\n       \n\nå°ç»ï¼\n\n * åªè¦å¼å¯äºäºçº§ç¼å­ï¼å¨åä¸ä¸ªmapperä¸å°±ææ\n * ææçæ°æ®é½ä¼åæ¾å¨ä¸çº§ç¼å­ä¸­ï¼\n * åªæå½ä¼è¯æäº¤ï¼æèå³é­çæ¶åï¼æä¼æäº¤å°äºçº§ç¼å²ä¸­ï¼\n\n\n# 13.5ãç¼å­åç\n\n\n\n\n# 13.6ãèªå®ä¹ç¼å­-ehcache\n\nehcacheæ¯ä¸ç§å¹¿æ³ä½¿ç¨çå¼æºjavaåå¸å¼ç¼å­ãä¸»è¦é¢åéç¨ç¼å­\n\n\n1\n\n\nè¦å¨ç¨åºä¸­ä½¿ç¨ehcacheï¼åè¦å¯¼åï¼\n\n\x3c!-- https://mvnrepository.com/artifact/org.mybatis.caches/mybatis-ehcache --\x3e\n<dependency>\n    <groupid>org.mybatis.caches</groupid>\n    <artifactid>mybatis-ehcache</artifactid>\n    <version>1.1.0</version>\n</dependency>\n\n\n1\n2\n3\n4\n5\n6\n\n\nå¨mapperä¸­æå®ä½¿ç¨æä»¬çehcacheç¼å­å®ç°ï¼\n\n\x3c!--å¨å½åmapper.xmlä¸­ä½¿ç¨äºçº§ç¼å­--\x3e\n<cache type="org.mybatis.caches.ehcache.ehcachecache"/>\n\n\n1\n2\n\n\nehcache.xml\n\n<?xml version="1.0" encoding="utf-8"?>\n<ehcache xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n         xsi:nonamespaceschemalocation="http://ehcache.org/ehcache.xsd"\n         updatecheck="false">\n    \x3c!--\n       diskstoreï¼ä¸ºç¼å­è·¯å¾ï¼ehcacheåä¸ºåå­åç£çä¸¤çº§ï¼æ­¤å±æ§å®ä¹ç£ççç¼å­ä½ç½®ãåæ°è§£éå¦ä¸ï¼\n       user.home â ç¨æ·ä¸»ç®å½\n       user.dir  â ç¨æ·å½åå·¥ä½ç®å½\n       java.io.tmpdir â é»è®¤ä¸´æ¶æä»¶è·¯å¾\n     --\x3e\n    <diskstore path="./tmpdir/tmp_ehcache"/>\n    \n    <defaultcache\n            eternal="false"\n            maxelementsinmemory="10000"\n            overflowtodisk="false"\n            diskpersistent="false"\n            timetoidleseconds="1800"\n            timetoliveseconds="259200"\n            memorystoreevictionpolicy="lru"/>\n \n    <cache\n            name="cloud_user"\n            eternal="false"\n            maxelementsinmemory="5000"\n            overflowtodisk="false"\n            diskpersistent="false"\n            timetoidleseconds="1800"\n            timetoliveseconds="1800"\n            memorystoreevictionpolicy="lru"/>\n    \x3c!--\n       defaultcacheï¼é»è®¤ç¼å­ç­ç¥ï¼å½ehcacheæ¾ä¸å°å®ä¹çç¼å­æ¶ï¼åä½¿ç¨è¿ä¸ªç¼å­ç­ç¥ãåªè½å®ä¹ä¸ä¸ªã\n     --\x3e\n    \x3c!--\n      name:ç¼å­åç§°ã\n      maxelementsinmemory:ç¼å­æå¤§æ°ç®\n      maxelementsondiskï¼ç¡¬çæå¤§ç¼å­ä¸ªæ°ã\n      eternal:å¯¹è±¡æ¯å¦æ°¸ä¹ææï¼ä¸ä½è®¾ç½®äºï¼timeoutå°ä¸èµ·ä½ç¨ã\n      overflowtodisk:æ¯å¦ä¿å­å°ç£çï¼å½ç³»ç»å½æºæ¶\n      timetoidleseconds:è®¾ç½®å¯¹è±¡å¨å¤±æåçåè®¸é²ç½®æ¶é´ï¼åä½ï¼ç§ï¼ãä»å½eternal=falseå¯¹è±¡ä¸æ¯æ°¸ä¹æææ¶ä½¿ç¨ï¼å¯éå±æ§ï¼é»è®¤å¼æ¯0ï¼ä¹å°±æ¯å¯é²ç½®æ¶é´æ ç©·å¤§ã\n      timetoliveseconds:è®¾ç½®å¯¹è±¡å¨å¤±æååè®¸å­æ´»æ¶é´ï¼åä½ï¼ç§ï¼ãæå¤§æ¶é´ä»äºåå»ºæ¶é´åå¤±ææ¶é´ä¹é´ãä»å½eternal=falseå¯¹è±¡ä¸æ¯æ°¸ä¹æææ¶ä½¿ç¨ï¼é»è®¤æ¯0.ï¼ä¹å°±æ¯å¯¹è±¡å­æ´»æ¶é´æ ç©·å¤§ã\n      diskpersistentï¼æ¯å¦ç¼å­èææºéå¯ææ°æ® whether the disk store persists between restarts of the virtual machine. the default value is false.\n      diskspoolbuffersizembï¼è¿ä¸ªåæ°è®¾ç½®diskstoreï¼ç£çç¼å­ï¼çç¼å­åºå¤§å°ãé»è®¤æ¯30mbãæ¯ä¸ªcacheé½åºè¯¥æèªå·±çä¸ä¸ªç¼å²åºã\n      diskexpirythreadintervalsecondsï¼ç£çå¤±æçº¿ç¨è¿è¡æ¶é´é´éï¼é»è®¤æ¯120ç§ã\n      memorystoreevictionpolicyï¼å½è¾¾å°maxelementsinmemoryéå¶æ¶ï¼ehcacheå°ä¼æ ¹æ®æå®çç­ç¥å»æ¸çåå­ãé»è®¤ç­ç¥æ¯lruï¼æè¿æå°ä½¿ç¨ï¼ãä½ å¯ä»¥è®¾ç½®ä¸ºfifoï¼åè¿ååºï¼ææ¯lfuï¼è¾å°ä½¿ç¨ï¼ã\n      clearonflushï¼åå­æ°éæå¤§æ¶æ¯å¦æ¸é¤ã\n      memorystoreevictionpolicy:å¯éç­ç¥æï¼lruï¼æè¿æå°ä½¿ç¨ï¼é»è®¤ç­ç¥ï¼ãfifoï¼åè¿ååºï¼ãlfuï¼æå°è®¿é®æ¬¡æ°ï¼ã\n      fifoï¼first in first outï¼è¿ä¸ªæ¯å¤§å®¶æççï¼åè¿ååºã\n      lfuï¼ less frequently usedï¼å°±æ¯ä¸é¢ä¾å­ä¸­ä½¿ç¨çç­ç¥ï¼ç´ç½ä¸ç¹å°±æ¯è®²ä¸ç´ä»¥æ¥æå°è¢«ä½¿ç¨çãå¦ä¸é¢æè®²ï¼ç¼å­çåç´ æä¸ä¸ªhitå±æ§ï¼hitå¼æå°çå°ä¼è¢«æ¸åºç¼å­ã\n      lruï¼least recently usedï¼æè¿æå°ä½¿ç¨çï¼ç¼å­çåç´ æä¸ä¸ªæ¶é´æ³ï¼å½ç¼å­å®¹éæ»¡äºï¼èåéè¦è¾åºå°æ¹æ¥ç¼å­æ°çåç´ çæ¶åï¼é£ä¹ç°æç¼å­åç´ ä¸­æ¶é´æ³ç¦»å½åæ¶é´æè¿çåç´ å°è¢«æ¸åºç¼å­ã\n   --\x3e\n\n</ehcache>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"MongoDB - ç¥è¯ä½ç³»",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"03.æ°æ®åº/20.MongoDB",imgUrl:"/img/web.png",description:"MongoDB ç®å½é¡µ"}},title:"MongoDB - ç¥è¯ä½ç³»",permalink:"/mongodb",sidebar:!0,article:!1,comment:!1,editLink:!1,date:"2021-09-12T23:27:14.000Z"},regularPath:"/03.%E6%95%B0%E6%8D%AE%E5%BA%93/20.MongoDB/00.Mongo%20-%20%E7%9B%AE%E5%BD%95%E9%A1%B5.html",relativePath:"03.æ°æ®åº/20.MongoDB/00.Mongo - ç®å½é¡µ.md",key:"v-740e8b5b",path:"/mongodb/",headers:[{level:2,title:"å­¦ä¹ èµæ",slug:"å­¦ä¹ èµæ",normalizedTitle:"å­¦ä¹ èµæ",charIndex:2},{level:3,title:"å®ç½èµæ",slug:"å®ç½èµæ",normalizedTitle:"å®ç½èµæ",charIndex:11},{level:3,title:"å¥é¨ç³»å",slug:"å¥é¨ç³»å",normalizedTitle:"å¥é¨ç³»å",charIndex:226}],headersStr:"å­¦ä¹ èµæ å®ç½èµæ å¥é¨ç³»å",content:"# å­¦ä¹ èµæ\n\n\n# å®ç½èµæ\n\n> æå¥½çèµæå¨å®ç½ã\n\n * MongoDBå®ç½\n * MongoDBæ°æ®åºææ¡£\n * MongoDB å¸¸ç¨Shell\n * MongoDB CRUD\n * MongoDB èå\n * MongoDB æ°æ®æ¨¡å\n * MongoDB äºå¡\n * MongoDB ç´¢å¼\n * MongoDB å®å¨\n * MongoDB å¯æ¬\n * MongoDB åç\n * MongoDB ç®¡ç\n * MongoDB å­å¨\n\n\n# å¥é¨ç³»å\n\n * MongoDBèé¸æç¨\n * MongoDBå¥é¨æç¨W3Cschool\n\næ¬ç« MongoDB ç¬è®°å¤§é¨ååèä»¥ä¸ç½ç«\n\n * https://gitee.com/heguangchuan/rainmeter/tree/master/document/mongodb\n * äºè§£éå³ç³»åæ°æ®åº NoSQL - MongoDB | å®è£ä½¿ç¨ä»¥å CRUD æä½\n * â¥MongoDBæç¨ - Mongoç¥è¯ä½ç³»è¯¦è§£â¥",normalizedContent:"# å­¦ä¹ èµæ\n\n\n# å®ç½èµæ\n\n> æå¥½çèµæå¨å®ç½ã\n\n * mongodbå®ç½\n * mongodbæ°æ®åºææ¡£\n * mongodb å¸¸ç¨shell\n * mongodb crud\n * mongodb èå\n * mongodb æ°æ®æ¨¡å\n * mongodb äºå¡\n * mongodb ç´¢å¼\n * mongodb å®å¨\n * mongodb å¯æ¬\n * mongodb åç\n * mongodb ç®¡ç\n * mongodb å­å¨\n\n\n# å¥é¨ç³»å\n\n * mongodbèé¸æç¨\n * mongodbå¥é¨æç¨w3cschool\n\næ¬ç« mongodb ç¬è®°å¤§é¨ååèä»¥ä¸ç½ç«\n\n * https://gitee.com/heguangchuan/rainmeter/tree/master/document/mongodb\n * äºè§£éå³ç³»åæ°æ®åº nosql - mongodb | å®è£ä½¿ç¨ä»¥å crud æä½\n * â¥mongodbæç¨ - mongoç¥è¯ä½ç³»è¯¦è§£â¥",charsets:{cjk:!0},lastUpdated:"2021/09/12, 15:09:00",lastUpdatedTimestamp:1631461529e3},{title:"spring",frontmatter:{title:"spring",permalink:"/spring/",date:"2021-05-12T22:31:24.000Z"},regularPath:"/04.%E6%A1%86%E6%9E%B6/03.Spring/01.spring%20-%20%E7%9B%AE%E5%BD%95%E9%A1%B5.html",relativePath:"04.æ¡æ¶/03.Spring/01.spring - ç®å½é¡µ.md",key:"v-30cb5d4c",path:"/spring/",headersStr:null,content:"æ³¨æ\n\nSpringï¼Spring Bootï¼ Spring Cloud ç­ä¸äºç¬è®°ï¼æä¸æ²¡æ¶é´æ´çï¼åç»­å¯è½ä¼æå¤§çä¸°å¯è¿ä¸ªç³»åçç¬è®°",normalizedContent:"æ³¨æ\n\nspringï¼spring bootï¼ spring cloud ç­ä¸äºç¬è®°ï¼æä¸æ²¡æ¶é´æ´çï¼åç»­å¯è½ä¼æå¤§çä¸°å¯è¿ä¸ªç³»åçç¬è®°",charsets:{cjk:!0},lastUpdated:"2021/09/11, 2:09:00",lastUpdatedTimestamp:1631327124e3},{title:"mybatis-pluså­¦ä¹ ç¬è®°",frontmatter:{title:"mybatis-pluså­¦ä¹ ç¬è®°",permalink:"/mybatis-plus/study-note",date:"2021-05-09T13:35:32.000Z"},regularPath:"/04.%E6%A1%86%E6%9E%B6/02.mybatis-plus/01.%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html",relativePath:"04.æ¡æ¶/02.mybatis-plus/01.å­¦ä¹ ç¬è®°.md",key:"v-6a747794",path:"/mybatis-plus/study-note/",headers:[{level:2,title:"æ¦åº",slug:"æ¦åº",normalizedTitle:"æ¦åº",charIndex:18},{level:2,title:"å¿«éå¼å§",slug:"å¿«éå¼å§",normalizedTitle:"å¿«éå¼å§",charIndex:24},{level:2,title:"éç½®æ¥å¿",slug:"éç½®æ¥å¿",normalizedTitle:"éç½®æ¥å¿",charIndex:32},{level:2,title:"CRUDæ©å±",slug:"crudæ©å±",normalizedTitle:"crudæ©å±",charIndex:40},{level:3,title:"æå¥æä½",slug:"æå¥æä½",normalizedTitle:"æå¥æä½",charIndex:52},{level:3,title:"ä¸»é®çæç­ç¥",slug:"ä¸»é®çæç­ç¥",normalizedTitle:"ä¸»é®çæç­ç¥",charIndex:62},{level:3,title:"æ´æ°æä½",slug:"æ´æ°æä½",normalizedTitle:"æ´æ°æä½",charIndex:74},{level:3,title:"èªå¨å¡«å",slug:"èªå¨å¡«å",normalizedTitle:"èªå¨å¡«å",charIndex:84},{level:3,title:"ä¹è§é",slug:"ä¹è§é",normalizedTitle:"ä¹è§é",charIndex:94},{level:3,title:"æ¥è¯¢æä½",slug:"æ¥è¯¢æä½",normalizedTitle:"æ¥è¯¢æä½",charIndex:103},{level:3,title:"åé¡µæ¥è¯¢",slug:"åé¡µæ¥è¯¢",normalizedTitle:"åé¡µæ¥è¯¢",charIndex:113},{level:3,title:"å é¤æä½",slug:"å é¤æä½",normalizedTitle:"å é¤æä½",charIndex:123},{level:3,title:"é»è¾å é¤",slug:"é»è¾å é¤",normalizedTitle:"é»è¾å é¤",charIndex:133},{level:3,title:"æ§è½åææä»¶",slug:"æ§è½åææä»¶",normalizedTitle:"æ§è½åææä»¶",charIndex:143},{level:3,title:"æ¡ä»¶æé å¨",slug:"æ¡ä»¶æé å¨",normalizedTitle:"æ¡ä»¶æé å¨",charIndex:155},{level:2,title:"ä»£ç èªå¨çæå¨",slug:"ä»£ç èªå¨çæå¨",normalizedTitle:"ä»£ç èªå¨çæå¨",charIndex:164}],headersStr:"æ¦åº å¿«éå¼å§ éç½®æ¥å¿ CRUDæ©å± æå¥æä½ ä¸»é®çæç­ç¥ æ´æ°æä½ èªå¨å¡«å ä¹è§é æ¥è¯¢æä½ åé¡µæ¥è¯¢ å é¤æä½ é»è¾å é¤ æ§è½åææä»¶ æ¡ä»¶æé å¨ ä»£ç èªå¨çæå¨",content:'# MyBatisPlus\n\n * æ¦åº\n * å¿«éå¼å§\n * éç½®æ¥å¿\n * CRUDæ©å±\n   * æå¥æä½\n   * ä¸»é®çæç­ç¥\n   * æ´æ°æä½\n   * èªå¨å¡«å\n   * ä¹è§é\n   * æ¥è¯¢æä½\n   * åé¡µæ¥è¯¢\n   * å é¤æä½\n   * é»è¾å é¤\n   * æ§è½åææä»¶\n   * æ¡ä»¶æé å¨\n * ä»£ç èªå¨çæå¨\n\nçç¥mybatis-plusè§é¢æç¨ï¼https://www.bilibili.com/video/BV17E411N7KN\n\n\n# æ¦åº\n\nåååcrudï¼éè¦å¨xmléç½®ææ³¨è§£ä¸­åsqlè¯­å¥ï¼ç¨äºMyBatisPlusåï¼å¯¹åè¡¨è¿è¡crudæ éååsqlè¯­å¥\n\nç®åçå¢å æ¹æ¥è¿è¡ï¼ä¸æ¯æå¤è¡¨æä½ï¼ä¸è¬ä¸å¨å¬å¸éä½¿ç¨ï¼éåä¸ªäººå¿«éå¼ååå·æä½¿ç¨\n\nå®ç½ï¼https://baomidou.com/\n\nç®ä»ï¼ç®åmybatisï¼ç®åå¼åãæé«åä»£ç æç\n\n * æ ä¾µå¥ï¼åªåå¢å¼ºä¸åæ¹åï¼å¼å¥å®ä¸ä¼å¯¹ç°æå·¥ç¨äº§çå½±åï¼å¦ä¸è¬é¡ºæ»\n * æèå°ï¼å¯å¨å³ä¼èªå¨æ³¨å¥åºæ¬ CURDï¼æ§è½åºæ¬æ æèï¼ç´æ¥é¢åå¯¹è±¡æä½\n * å¼ºå¤§ç CRUD æä½ï¼åç½®éç¨ Mapperãéç¨ Serviceï¼ä»ä»éè¿å°ééç½®å³å¯å®ç°åè¡¨å¤§é¨å CRUD æä½ï¼æ´æå¼ºå¤§çæ¡ä»¶æé å¨ï¼æ»¡è¶³åç±»ä½¿ç¨éæ±\n * æ¯æ Lambda å½¢å¼è°ç¨ï¼éè¿ Lambda è¡¨è¾¾å¼ï¼æ¹ä¾¿çç¼ååç±»æ¥è¯¢æ¡ä»¶ï¼æ éåæå¿å­æ®µåé\n * æ¯æä¸»é®èªå¨çæï¼æ¯æå¤è¾¾ 4 ç§ä¸»é®ç­ç¥ï¼åå«åå¸å¼å¯ä¸ ID çæå¨ - Sequenceï¼ï¼å¯èªç±éç½®ï¼å®ç¾è§£å³ä¸»é®é®é¢\n * æ¯æ ActiveRecord æ¨¡å¼ï¼æ¯æ ActiveRecord å½¢å¼è°ç¨ï¼å®ä½ç±»åªéç»§æ¿ Model ç±»å³å¯è¿è¡å¼ºå¤§ç CRUD æä½\n * æ¯æèªå®ä¹å¨å±éç¨æä½ï¼æ¯æå¨å±éç¨æ¹æ³æ³¨å¥ï¼ Write once, use anywhere ï¼\n * åç½®ä»£ç çæå¨ï¼éç¨ä»£ç æè Maven æä»¶å¯å¿«éçæ Mapper ã Model ã Service ã Controller å±ä»£ç ï¼æ¯ææ¨¡æ¿å¼æï¼æ´æè¶å¤èªå®ä¹éç½®ç­æ¨æ¥ä½¿ç¨\n * åç½®åé¡µæä»¶ï¼åºäº MyBatis ç©çåé¡µï¼å¼åèæ éå³å¿å·ä½æä½ï¼éç½®å¥½æä»¶ä¹åï¼ååé¡µç­åäºæ®é List æ¥è¯¢\n * åé¡µæä»¶æ¯æå¤ç§æ°æ®åºï¼æ¯æ MySQLãMariaDBãOracleãDB2ãH2ãHSQLãSQLiteãPostgreãSQLServer ç­å¤ç§æ°æ®åº\n * åç½®æ§è½åææä»¶ï¼å¯è¾åº Sql è¯­å¥ä»¥åå¶æ§è¡æ¶é´ï¼å»ºè®®å¼åæµè¯æ¶å¯ç¨è¯¥åè½ï¼è½å¿«éæªåºæ¢æ¥è¯¢\n * åç½®å¨å±æ¦æªæä»¶ï¼æä¾å¨è¡¨ delete ã update æä½æºè½åæé»æ­ï¼ä¹å¯èªå®ä¹æ¦æªè§åï¼é¢é²è¯¯æä½\n\n\n# å¿«éå¼å§\n\nå®ç½å°åï¼https://mp.baomidou.com/guide/quick-start.html\n\nä½¿ç¨ç¬¬ä¸æ¹ç»ä»¶ï¼\n\n 1. å¯¼å¥å¯¹åºçä¾èµ\n\n 2. ç ç©¶ä¾èµå¦ä½éç½®\n\n 3. ä»£ç å¦ä½ç¼å\n\n 4. æé«æ©å±ææ¯è½åï¼\n\næ­¥éª¤ï¼\n\n1ãåå»ºæ°æ®åº mybatis_plus\n\n2ãåå»ºuserè¡¨å¹¶æå¥æ°æ®\n\nDROP TABLE IF EXISTS user;\n\nCREATE TABLE user\n(\n\tid BIGINT(20) NOT NULL COMMENT \'ä¸»é®ID\',\n\tname VARCHAR(30) NULL DEFAULT NULL COMMENT \'å§å\',\n\tage INT(11) NULL DEFAULT NULL COMMENT \'å¹´é¾\',\n\temail VARCHAR(50) NULL DEFAULT NULL COMMENT \'é®ç®±\',\n\tPRIMARY KEY (id)\n);\n\nDELETE FROM user;\n\nINSERT INTO user (id, name, age, email) VALUES\n(1, \'Jone\', 18, \'test1@baomidou.com\'),\n(2, \'Jack\', 20, \'test2@baomidou.com\'),\n(3, \'Tom\', 28, \'test3@baomidou.com\'),\n(4, \'Sandy\', 21, \'test4@baomidou.com\'),\n(5, \'Billie\', 24, \'test5@baomidou.com\');\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n3ãç¼åé¡¹ç®ï¼åå§åé¡¹ç®ï¼ä½¿ç¨SpringBootåå§åï¼\n\n4ãå¯¼å¥ä¾èµ\n\n\x3c!-- æ°æ®åºé©±å¨ --\x3e\n<dependency>\n    <groupId>mysql</groupId>\n    <artifactId>mysql-connector-java</artifactId>\n</dependency>\n<dependency>\n    <groupId>org.projectlombok</groupId>\n    <artifactId>lombok</artifactId>\n</dependency>\n<dependency>\n    <groupId>com.baomidou</groupId>\n    <artifactId>mybatis-plus-boot-starter</artifactId>\n    <version>3.4.2</version>\n</dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n5ãå¡«åpropertieséç½®\n\nspring.datasource.username=root\nspring.datasource.password=123456\nspring.datasource.url=jdbc:mysql://localhost:3306/mybatis_plus?useSSL=false&useUnicode=true&characterEncoding=utf-8&serverTimezone=GMT%2B8\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n\n\n1\n2\n3\n4\n\n\n6ãå¡«åæµè¯ç±»ï¼è¯»åæ°æ®åº\n\nååæä»¬ä½¿ç¨mybatisï¼pojo-daoï¼è¿æ¥mybatisï¼éç½®mapper.xmlæä»¶ï¼-service-controller\n\nç°å¨ï¼\n\n * pojoç±»\n   \n   @Data\n   @NoArgsConstructor\n   @AllArgsConstructor\n   public class User {\n       private Long id;\n       private String name;\n       private Integer age;\n       private String email;\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   \n\n * mapperæ¥å£\n   \n   // å¨å¯¹åºçMapperä¸é¢ç»§æ¿åºæ¬çç±» BaseMapper\n   @Repository // ä»£è¡¨æä¹å±\n   public interface UserMapper extends BaseMapper<User> {\n       // ææçCRUDæä½é½å·²ç»ç¼åå®æäº\n       // ä½ ä¸éè¦åä»¥åçéç½®ä¸å¤§å æä»¶äºï¼\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   \n\n * springbootå¯å¨ç±»\n   \n   æ·»å æ³¨è§£æ¥æ«æ\n   \n   @MapperScan("com.oddfar.mapper")\n   \n   \n   1\n   \n\n * æµè¯ç±»\n   \n   // ç»§æ¿äºBaseMapperï¼ææçæ¹æ³é½æ¥èªå·±ç¶ç±»\n   // æä»¬ä¹å¯ä»¥ç¼åèªå·±çæ©å±æ¹æ³ï¼\n   @Autowired\n   private UserMapper userMapper;\n   \n   @Test\n   void contextLoads() {\n       // åæ°æ¯ä¸ä¸ª Wrapper ï¼æ¡ä»¶æé å¨ï¼è¿éæä»¬åä¸ç¨ï¼å¡«ånull\n       // æ¥è¯¢å¨é¨ç¨æ·\n       List<User> users = userMapper.selectList(null);\n       users.forEach(System.out::println);\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   \n\n\n# éç½®æ¥å¿\n\næä»¬ææçsqlç°å¨æ¯ä¸å¯è§çï¼æä»¬å¸æç¥éä»æ¯æä¹æ§è¡çï¼æä»¥æä»¬å¿é¡»è¦çæ¥å¿ï¼\n\n# éç½®æ¥å¿\nmybatis-plus.configuration.log-impl=org.apache.ibatis.logging.stdout.StdOutImpl\n\n\n1\n2\n\n\n\n# CRUDæ©å±\n\nåå»ºcontrolleråï¼ç¼åUserControllerç±»\n\n\n# æå¥æä½\n\n@Test\nvoid addUser() {\n    User user = new User();\n    user.setName("zhiyuan");\n    user.setAge(3);\n    user.setEmail("123456@qq.com");\n\n    // å¸®æä»¬èªå¨çæid\n    int result = userMapper.insert(user); \n    System.out.println(result); // åå½±åçè¡æ°\n    System.out.println(user); // åç°ï¼idä¼èªå¨åå¡«\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\næ°æ®åºæå¥çidçé»è®¤å¼ä¸ºï¼å¨å±çå¯ä¸id\n\n\n# ä¸»é®çæç­ç¥\n\n> é»è®¤ ID_WORKER å¨å±å¯ä¸id åå¸å¼ç³»ç»å¯ä¸idçæï¼https://www.cnblogs.com/haoxinyue/p/5208136.html\n\néªè±ç®æ³ï¼\n\nsnowflakeæ¯Twitterå¼æºçåå¸å¼IDçæç®æ³ï¼ç»ææ¯ä¸ä¸ªlongåçIDãå¶æ ¸å¿ææ³æ¯ï¼ä½¿ç¨41bitä½ä¸ºæ¯«ç§æ°ï¼10bitä½ä¸ºæºå¨çIDï¼5ä¸ªbitæ¯æ°æ®ä¸­å¿ï¼5ä¸ªbitçæºå¨IDï¼ï¼12bitä½ä¸ºæ¯«ç§åçæµæ°´å·ï¼æå³çæ¯ä¸ªèç¹å¨æ¯æ¯«ç§å¯ä»¥äº§ç 4096 ä¸ª IDï¼ï¼æåè¿æä¸ä¸ªç¬¦å·ä½ï¼æ°¸è¿æ¯0ãå¯ä»¥ä¿è¯å ä¹å¨çå¯ä¸ï¼\n\nä¸»é®èªå¢ï¼\n\nå®ä½ç±»å­æ®µä¸ @TableId(type = IdType.AUTO)\n\n\n\næ°æ®åºidå­æ®µèªå¢ï¼\n\n\n\nå³äºæ³¨è§£çä»ç»ï¼https://baomidou.com/guide/annotation.html#tableid\n\n\n# æ´æ°æä½\n\n    /**\n     * æ´æ¹ä¸ä¸ªç¨æ·\n     */\n    @Test\n    void testUpdate() {\n        User user = new User();\n        // éè¿æ¡ä»¶èªå¨æ¼æ¥å¨æsql\n        user.setId(5L);\n        user.setName("test");\n        user.setAge(5);\n        // æ³¨æï¼updateById ä½æ¯åæ°æ¯ä¸ä¸ª å¯¹è±¡ï¼\n        int i = userMapper.updateById(user);\n        System.out.println(i);\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nææçsqlé½æ¯èªå¨å¸®ä½ å¨æéç½®çï¼\n\n\n# èªå¨å¡«å\n\nå®ç½ï¼https://baomidou.com/guide/auto-fill-metainfo.html\n\nåå»ºæ¶é´ãä¿®æ¹æ¶é´ï¼è¿äºä¸ªæä½ä¸éé½æ¯èªå¨åå®æçï¼æä»¬ä¸å¸ææå¨æ´æ°ï¼\n\né¿éå·´å·´å¼åæåï¼ææçæ°æ®åºè¡¨ï¼gmt_createãgmt_modifiedå ä¹ææçè¡¨é½è¦éç½®ä¸ï¼èä¸é è¦èªå¨åï¼\n\næ¹å¼ä¸ï¼æ°æ®åºçº§å«ï¼å·¥ä½ä¸­ä¸è¬ä¸åè®¸ä½ ä¿®æ¹æ°æ®åºï¼\n\n1ãå¨è¡¨ä¸­æ°å¢å­æ®µ create_time, update_time\n\nALTER TABLE `mybatis_plus`.`user`\n  ADD COLUMN `create_time` DATETIME DEFAULT CURRENT_TIMESTAMP NULL COMMENT \'åå»ºæ¶é´\' AFTER `email`,\n  ADD COLUMN `update_time` DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NULL COMMENT \'æ´æ°æ¶é´\' AFTER `create_time`;\n\n\n1\n2\n3\n\n\n\n\né»è®¤ï¼CURRENT_TIMESTAMP\n\n2ãåæ¬¡æµè¯æå¥æ¹æ³ï¼æä»¬éè¦åæå®ä½ç±»åæ­¥ï¼\n\næ¹å¼äºï¼ä»£ç çº§å«\n\n1ãå é¤æ°æ®åºçé»è®¤å¼ãæ´æ°æä½ï¼\n\n\n\n2ãå®ä½ç±»å­æ®µå±æ§ä¸éè¦å¢å æ³¨è§£\n\n// å­æ®µæ·»å å¡«ååå®¹\n@TableField(fill = FieldFill.INSERT)\nprivate Date createTime;\n@TableField(fill = FieldFill.INSERT_UPDATE)\nprivate Date updateTime;\n\n\n1\n2\n3\n4\n5\n\n\n3ãç¼åå¤çå¨æ¥å¤çè¿ä¸ªæ³¨è§£å³å¯ï¼\n\npackage com.oddfar.handler;\n\nimport com.baomidou.mybatisplus.core.handlers.MetaObjectHandler;\nimport lombok.extern.slf4j.Slf4j;\nimport org.apache.ibatis.reflection.MetaObject;\nimport org.springframework.stereotype.Component;\n\nimport java.util.Date;\n\n@Slf4j\n@Component // ä¸å®ä¸è¦å¿è®°æå¤çå¨å å°IOCå®¹å¨ä¸­ï¼\npublic class MyMetaObjectHandler implements MetaObjectHandler {\n    // æå¥æ¶çå¡«åç­ç¥\n    @Override\n    public void insertFill(MetaObject metaObject) {\n        log.info("start insert fill.....");\n        // setFieldValByName(String fieldName, Object fieldVal, MetaObject metaObject\n        this.setFieldValByName("createTime", new Date(), metaObject);\n        this.setFieldValByName("updateTime", new Date(), metaObject);\n    }\n\n    // æ´æ°æ¶çå¡«åç­ç¥\n    @Override\n    public void updateFill(MetaObject metaObject) {\n        log.info("start update fill.....");\n        this.setFieldValByName("updateTime", new Date(), metaObject);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n4ãæµè¯æå¥ ï¼æµè¯æ´æ°ãè§å¯æ¶é´å³å¯ï¼\n\n\n# ä¹è§é\n\nå¨é¢è¯è¿ç¨ä¸­ï¼æä»¬ç»å¸¸ä¼è¢«é®éä¹è§éï¼æ²è§éï¼è¿ä¸ªå¶å®éå¸¸ç®åï¼\n\n> ä¹è§éï¼é¡¾åæä¹ååä¹è§ï¼ä»æ»æ¯è®¤ä¸ºä¸ä¼åºç°é®é¢ï¼æ è®ºå¹²ä»ä¹ä¸å»ä¸éï¼å¦æåºç°äºé®é¢ï¼åæ¬¡æ´æ°å¼æµè¯ï¼\n> \n> æ²è§éï¼é¡¾åæä¹ååæ²è§ï¼ä»æ»æ¯ä»»å¡æ»æ¯åºç°é®é¢ï¼æ è®ºå¹²ä»ä¹é½ä¼ä¸éï¼åå»æä½ï¼\n\nå½è¦æ´æ°ä¸æ¡è®°å½çæ¶åï¼å¸æè¿æ¡è®°å½æ²¡æè¢«å«äººæ´æ° ä¹è§éå®ç°æ¹å¼ï¼\n\nä¹è§éå®ç°æ¹å¼ï¼\n\n * ååºè®°å½ï¼è·åå½åversion\n * æ´æ°æ¶ï¼å¸¦ä¸è¿ä¸ªversion\n * æ§è¡æ´æ°æ¶ï¼set version = new version where version = oldversion\n * å¦æversionä¸å¯¹ï¼å°±æ´æ°å¤±è´¥\n\næµè¯ä¸ä¸mybatis-plusçä¹è§éæä»¶\n\nå®æ¹ææ¡£ï¼å¿çï¼ï¼https://baomidou.com/guide/interceptor.html\n\næçæ¹æ³ä¼è¿æï¼å·ä½æä½ä»¥å®æ¹ææ¡£ä¾å­ä¸ºä¸»\n\n1ãç»æ°æ®åºä¸­å¢å versionå­æ®µï¼\n\n\n\n2ãæä»¬å®ä½ç±»å å¯¹åºçå­æ®µ\n\n@Version //ä¹è§éVersionæ³¨è§£\nprivate Integer version;\n\n\n1\n2\n\n\n3ãæ³¨åç»ä»¶\n\npackage com.oddfar.config;\n\nimport com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor;\nimport com.baomidou.mybatisplus.extension.plugins.inner.OptimisticLockerInnerInterceptor;\nimport org.mybatis.spring.annotation.MapperScan;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n/**\n * @author zhiyuan\n * @date 2021/4/5 17:57\n */\n// æ«ææä»¬ç mapper æä»¶å¤¹\n@MapperScan("com.oddfar.mapper")\n@Configuration // éç½®ç±»\npublic class MyBatisPlusConfig {\n\n    // æ³¨åä¹è§éååé¡µæä»¶(æ°çï¼3.4.0)\n    @Bean\n    public MybatisPlusInterceptor mybatisPlusInterceptor(){\n        MybatisPlusInterceptor interceptor = new MybatisPlusInterceptor();\n        interceptor.addInnerInterceptor(new OptimisticLockerInnerInterceptor()); // ä¹è§éæä»¶\n        return interceptor;\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\næ§çå¦ä¸ï¼\n\n@Bean\npublic OptimisticLockerInterceptor OptimisticLockerInterceptor() {\n    return new OptimisticLockerInterceptor();\n}\n\n\n1\n2\n3\n4\n\n\n4ãæµè¯ä¸ä¸ï¼\n\n/**\n * æµè¯ä¹è§é\n */\n@Test\npublic void testOptimisticLocker(){\n    // 1ãæ¥è¯¢ç¨æ·ä¿¡æ¯\n    User user = userMapper.selectById(1L);\n\n    // 2ãä¿®æ¹ç¨æ·ä¿¡æ¯\n    user.setName("zhiyuan");\n    user.setEmail("123456@qq.com");\n    // 3ãæ§è¡æ´æ°æä½\n    userMapper.updateById(user);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\næä»¬æ¥æ¨¡æä¸\n\n// æµè¯ä¹è§éå¤±è´¥ï¼å¤çº¿ç¨ä¸\n@Test\npublic void testOptimisticLocker2(){\n    // çº¿ç¨ 1\n    User user = userMapper.selectById(1L);\n    user.setName("zhiyuan000000");\n    user.setEmail("000000000@qq.com");\n    // æ¨¡æå¦å¤ä¸ä¸ªçº¿ç¨æ§è¡äºæéæä½\n    User user2 = userMapper.selectById(1L);\n    user2.setName("zhiyuan1111111");\n    user2.setEmail("111111111@qq.com");\n    userMapper.updateById(user2);\n    // èªæéæ¥å¤æ¬¡å°è¯æäº¤ï¼\n    userMapper.updateById(user); // å¦ææ²¡æä¹è§éå°±ä¼è¦çæéçº¿ç¨çå¼ï¼\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n\nå¦æä¸å ä¹è§éï¼ä»¥ä¸ä»£ç ï¼nameæåå°±æ¯zhiyuan000000\n\n\n# æ¥è¯¢æä½\n\n// æå®idæ¥è¯¢\n@Test\npublic void testSelectById(){\n    User user = userMapper.selectById(1L);\n    System.out.println(user);\n}\n// å¤ä¸ªidæ¹éæ¥è¯¢ï¼\n@Test\npublic void testSelectByBatchId(){\n    List<User> users = userMapper.selectBatchIds(Arrays.asList(1L, 2L, 3L));\n    users.forEach(System.out::println);\n}\n// å¤ä¸ªwhereæ¡ä»¶æ¥è¯¢ä¹ä¸ä½¿ç¨mapæä½\n@Test\npublic void testSelectByBatchIds(){\n    HashMap<String, Object> map = new HashMap<>();\n    // èªå®ä¹è¦æ¥è¯¢\n    map.put("name","zhiyuan");\n    map.put("age",3);\n    List<User> users = userMapper.selectByMap(map);\n    users.forEach(System.out::println);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# åé¡µæ¥è¯¢\n\nåé¡µå¨ç½ç«ä½¿ç¨çååä¹å¤ï¼\n\n1ãåå§ç limit è¿è¡åé¡µ 2ãpageHelper ç¬¬ä¸æ¹æä»¶ 3ãMPå¶å®ä¹åç½®äºåé¡µæä»¶ï¼\n\nmybais-plusåé¡µæ¥è¯¢æ¹æ³ï¼\n\n1ãéç½®æ¦æªå¨ç»ä»¶å³å¯\n\ninterceptor.addInnerInterceptor(new PaginationInnerInterceptor(DbType.H2));//åé¡µæä»¶\n\n\n1\n\n\næ§çå¦ä¸ï¼\n\n//åé¡µæä»¶\n@Bean\npublic PaginationInterceptor paginationInterceptor() {\n    PaginationInterceptor paginationInterceptor = new PaginationInterceptor();\n    return paginationInterceptor;\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n2ãç´æ¥ä½¿ç¨Pageå¯¹è±¡å³å¯ï¼\n\n/**\n * æµè¯åé¡µæ¥è¯¢\n */\n@Test\npublic void testPage() {\n    //åæ°ä¸ï¼å½åé¡µ\n    //åæ°äºï¼é¡µé¢å¤§å°\n    Page<User> page = new Page<>(1, 5);\n    userMapper.selectPage(page, null);\n    page.getRecords().forEach(System.out::println);\n    System.out.println(page.getTotal());//æ»æ°é\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# å é¤æä½\n\n// éè¿idåä¸ªå é¤\n@Test\npublic void testDeleteById(){\n    userMapper.deleteById(1379026108137123842L);\n}\n// éè¿idæ¹éå é¤\n@Test\npublic void testDeleteBatchId(){\n   userMapper.deleteBatchIds(Arrays.asList(1379026108137123842L,1379026441420791810L));\n}\n// éè¿mapå é¤\n@Test\npublic void testDeleteMap(){\n    HashMap<String, Object> map = new HashMap<>();\n    map.put("name","zhiyuan4");\n    userMapper.deleteByMap(map);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# é»è¾å é¤\n\nå®æ¹ææ¡£ï¼https://baomidou.com/guide/logic-delete.html\n\nç©çå é¤ ï¼ä»æ°æ®åºä¸­ç´æ¥ç§»é¤\n\né»è¾å é¤ ï¼åæ°æ®åºä¸­æ²¡æè¢«ç§»é¤ï¼èæ¯éè¿ä¸ä¸ªåéæ¥è®©ä»å¤±æï¼ æ¯å¦ä¸ä¸ªç³»ç»ï¼æç®¡çåï¼æä½åï¼ç¨æ·ç­...... è®¾ç½®æ°æ®åºçæ¶åï¼å ä¸ªdeletedå­æ®µï¼é»è®¤ä¸º0ï¼ä»£è¡¨æ°æ®å­å¨ å½ç¨æ·ææä½åè¦å é¤æ°æ®äºï¼æä»¬åædeletedèµå¼ä¸º1ï¼è¡¨ç¤ºæ°æ®å·²å é¤ è¿æ ·ç®¡çååå¯ä»¥å¨åå°æ¥è¯¢è¢«å é¤çè®°å½ï¼é²æ­¢æ°æ®çä¸¢å¤±ï¼ç±»ä¼¼äºåæ¶ç«ï¼\n\næ¹æ³å¦ä¸ï¼\n\n1ãå¨æ°æ®è¡¨ä¸­å¢å ä¸ä¸ª deleted å­æ®µ\n\n\n\n2ãå®ä½ç±»ä¸­å¢å å±æ§\n\n@TableLogic //é»è¾å é¤\nprivate Integer deleted;\n\n\n1\n2\n\n\n3ãéç½®\n\napplication.ymlï¼propertiesä¹å¯ä»¥ï¼\n\nmybatis-plus:\n  global-config:\n    db-config:\n      logic-delete-field: flag  # å¨å±é»è¾å é¤çå®ä½å­æ®µå(since 3.3.0,éç½®åå¯ä»¥å¿½ç¥ä¸éç½®æ­¥éª¤2)\n      logic-delete-value: 1 # é»è¾å·²å é¤å¼(é»è®¤ä¸º 1)\n      logic-not-delete-value: 0 # é»è¾æªå é¤å¼(é»è®¤ä¸º 0)\n\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n4ãæµè¯\n\n\n\nè®°å½ä¾æ§å¨æ°æ®åºï¼ä½æ¯å¼ç¡®å·²ç»ååäºï¼\n\n\n# æ§è½åææä»¶\n\nä½ç¨ï¼æ§è½åææ¦æªå¨ï¼ç¨äºè¾åºæ¯æ¡ SQL è¯­å¥åå¶æ§è¡æ¶é´ãMPä¹æä¾æ§è½åææä»¶ï¼å¦æè¶è¿è¿ä¸ªæ¶é´å°±åæ­¢è¿è¡ï¼ä¸è¿æ°çæ¬å·²å»æè¿åè½ã\n\næ¨èä½¿ç¨druid\n\næèä½¿ç¨P6Spyï¼\n\n> SpringBoot - MyBatis-Plusä½¿ç¨è¯¦è§£18ï¼ç»åP6Spyè¿è¡SQLæ§è½åæï¼\n\n\n# æ¡ä»¶æé å¨\n\nå®ç½ææ¡£ï¼https://baomidou.com/guide/wrapper.html\n\nwrapperï¼ååéè¦ï¼ æä»¬åä¸äºå¤æçsqlå°±å¯ä»¥ä½¿ç¨å®æ¥æ¿ä»£ï¼\n\n1ãæ¥è¯¢nameä¸ä¸ºç©ºçç¨æ·ï¼å¹¶ä¸é®ç®±ä¸ä¸ºç©ºçç¨æ·ï¼å¹´é¾å¤§äº12\n\n@Test\nvoid contextLoads() {\n    //æ¥è¯¢nameä¸ä¸ºç©ºçç¨æ·ï¼å¹¶ä¸é®ç®±ä¸ä¸ºç©ºçç¨æ·ï¼å¹´é¾å¤§äº12\n    QueryWrapper<User> wrapper = new QueryWrapper<>();\n    wrapper.isNotNull("name")\n            .isNotNull("email")\n            .ge("age", 12);\n    userMapper.selectList(wrapper).forEach(System.out::println); \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n2ãæ¥è¯¢åå­ä¸ºzhiyuan2\n\n@Test\nvoid test2(){\n    //æ¥è¯¢åå­ä¸ºzhiyuan2\n    QueryWrapper<User> wrapper = new QueryWrapper<>();\n    wrapper.eq("name", "zhiyuan2");\n    User user = userMapper.selectOne(wrapper);\n    System.out.println(user);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n3ãæ¥è¯¢å¹´é¾å¨19å°30å²ä¹é´çç¨æ·\n\n@Test\nvoid test3(){\n    //æ¥è¯¢å¹´é¾å¨19å°30å²ä¹é´çç¨æ·\n    QueryWrapper<User> wrapper = new QueryWrapper<>();\n    wrapper.between("age", 19, 30); //åºé´\n    Integer count = userMapper.selectCount(wrapper);\n    System.out.println(count);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n4ãæ¥è¯¢nameä¸åå«tï¼é®ç®±ä»¥123å¼å¤´\n\n * ä¾: notLike("name", "ç")---\x3ename not like \'%ç%\'\n * ä¾: likeRight("name", "ç")---\x3ename like \'ç%\'\n\n//æ¨¡ç³æ¥è¯¢\n@Test\nvoid test4(){\n    //æ¥è¯¢nameä¸åå«tï¼é®ç®±ä»¥123å¼å¤´\n    QueryWrapper<User> wrapper = new QueryWrapper<>();\n    wrapper.notLike("name", "t")\n            .likeRight("email", "123");\n    List<Map<String, Object>> maps = userMapper.selectMaps(wrapper);\n    maps.forEach(System.out::println);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n5ãå­æ¥è¯¢\n\n@Test\nvoid test5(){\n    QueryWrapper<User> wrapper = new QueryWrapper<>();\n    //id å¨å­æ¥è¯¢ä¸­æ¥åºæ¥\n    wrapper.inSql("id", "select id from user where id < 3");\n    List<Object> objects = userMapper.selectObjs(wrapper);\n    objects.forEach(System.out::println);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\næåsqlï¼\n\n> SELECT id,name,age,email,version,deleted,create_time,update_time FROM user WHERE deleted=0 AND (id IN (select id from user where id < 3))\n\n6ãéè¿idè¿è¡æåº--éåº\n\n@Test\nvoid test6(){\n    QueryWrapper<User> wrapper = new QueryWrapper<>();\n    //éè¿idè¿è¡æåº--éåº\n    wrapper.orderByDesc("id");\n    List<User> users = userMapper.selectList(wrapper);\n    users.forEach(System.out::println);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# ä»£ç èªå¨çæå¨\n\ndaoãpojoãserviceãcontrolleré½ç»æèªå·±å»ç¼åå®æï¼\n\nAutoGenerator æ¯ MyBatis-Plus çä»£ç çæå¨ï¼éè¿ AutoGenerator å¯ä»¥å¿«éçæ EntityãMapperãMapper XMLãServiceãController ç­åä¸ªæ¨¡åçä»£ç ï¼æå¤§çæåäºå¼åæçã\n\næµè¯ï¼\n\npublic class Code {\n    public static void main(String[] args) {\n        //éè¦æå»ºä¸ä¸ª ä»£ç èªå¨çæå¨ å¯¹è±¡\n        // ä»£ç çæå¨\n        AutoGenerator mpg = new AutoGenerator();\n        //éç½®ç­ç¥\n\n        //1ãå¨å±éç½®\n        GlobalConfig gc = new GlobalConfig();\n        String projectPath = System.getProperty("user.dir");\n        gc.setOutputDir(projectPath + "/src/main/java");\n        gc.setAuthor("ChanV");\n        gc.setOpen(false);\n        gc.setFileOverride(false);  //æ¯å¦è¦ç\n        gc.setServiceName("%sService"); //å»ServiceçIåç¼\n        gc.setIdType(IdType.ID_WORKER);\n        gc.setDateType(DateType.ONLY_DATE);\n        gc.setSwagger2(true);\n        mpg.setGlobalConfig(gc);\n\n        //2ãè®¾ç½®æ°æ®æº\n        DataSourceConfig dsc = new DataSourceConfig();\n        dsc.setUrl("jdbc:mysql://localhost:3306/mybatis-plus?useSSL=false&useUnicode=true&characterEncoding=utf-8&serverTimezone=GMT%2B8");\n        dsc.setDriverName("com.mysql.cj.jdbc.Driver");\n        dsc.setUsername("root");\n        dsc.setPassword("root");\n        dsc.setDbType(DbType.MYSQL);\n        mpg.setDataSource(dsc);\n\n        //3ãåçéç½®\n        PackageConfig pc = new PackageConfig();\n        pc.setModuleName("blog");\n        pc.setParent("com.chanv");\n        pc.setEntity("pojo");\n        pc.setMapper("mapper");\n        pc.setService("service");\n        pc.setController("controller");\n        mpg.setPackageInfo(pc);\n\n        //4ãç­ç¥éç½®\n        StrategyConfig strategy = new StrategyConfig();\n        strategy.setInclude("user");    //è®¾ç½®è¦æ å°çè¡¨å\n        strategy.setNaming(NamingStrategy.underline_to_camel);\n        strategy.setColumnNaming(NamingStrategy.underline_to_camel);\n        strategy.setEntityLombokModel(true);    //èªå¨lombok\n        strategy.setLogicDeleteFieldName("deleted");\n        //èªå¨å¡«åéç½®\n        TableFill createTime = new TableFill("create_time", FieldFill.INSERT);\n        TableFill updateTime = new TableFill("update_time", FieldFill.UPDATE);\n        ArrayList<TableFill> tableFills = new ArrayList<>();\n        tableFills.add(createTime);\n        tableFills.add(updateTime);\n        strategy.setTableFillList(tableFills);\n        //ä¹è§é\n        strategy.setVersionFieldName("version");\n        strategy.setRestControllerStyle(true);\n        strategy.setControllerMappingHyphenStyle(true);     //localhost:8080/hello_id_2\n        mpg.setStrategy(strategy);\n\n        mpg.execute();  //æ§è¡ä»£ç æé å¨\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n\n\n',normalizedContent:'# mybatisplus\n\n * æ¦åº\n * å¿«éå¼å§\n * éç½®æ¥å¿\n * crudæ©å±\n   * æå¥æä½\n   * ä¸»é®çæç­ç¥\n   * æ´æ°æä½\n   * èªå¨å¡«å\n   * ä¹è§é\n   * æ¥è¯¢æä½\n   * åé¡µæ¥è¯¢\n   * å é¤æä½\n   * é»è¾å é¤\n   * æ§è½åææä»¶\n   * æ¡ä»¶æé å¨\n * ä»£ç èªå¨çæå¨\n\nçç¥mybatis-plusè§é¢æç¨ï¼https://www.bilibili.com/video/bv17e411n7kn\n\n\n# æ¦åº\n\nåååcrudï¼éè¦å¨xmléç½®ææ³¨è§£ä¸­åsqlè¯­å¥ï¼ç¨äºmybatisplusåï¼å¯¹åè¡¨è¿è¡crudæ éååsqlè¯­å¥\n\nç®åçå¢å æ¹æ¥è¿è¡ï¼ä¸æ¯æå¤è¡¨æä½ï¼ä¸è¬ä¸å¨å¬å¸éä½¿ç¨ï¼éåä¸ªäººå¿«éå¼ååå·æä½¿ç¨\n\nå®ç½ï¼https://baomidou.com/\n\nç®ä»ï¼ç®åmybatisï¼ç®åå¼åãæé«åä»£ç æç\n\n * æ ä¾µå¥ï¼åªåå¢å¼ºä¸åæ¹åï¼å¼å¥å®ä¸ä¼å¯¹ç°æå·¥ç¨äº§çå½±åï¼å¦ä¸è¬é¡ºæ»\n * æèå°ï¼å¯å¨å³ä¼èªå¨æ³¨å¥åºæ¬ curdï¼æ§è½åºæ¬æ æèï¼ç´æ¥é¢åå¯¹è±¡æä½\n * å¼ºå¤§ç crud æä½ï¼åç½®éç¨ mapperãéç¨ serviceï¼ä»ä»éè¿å°ééç½®å³å¯å®ç°åè¡¨å¤§é¨å crud æä½ï¼æ´æå¼ºå¤§çæ¡ä»¶æé å¨ï¼æ»¡è¶³åç±»ä½¿ç¨éæ±\n * æ¯æ lambda å½¢å¼è°ç¨ï¼éè¿ lambda è¡¨è¾¾å¼ï¼æ¹ä¾¿çç¼ååç±»æ¥è¯¢æ¡ä»¶ï¼æ éåæå¿å­æ®µåé\n * æ¯æä¸»é®èªå¨çæï¼æ¯æå¤è¾¾ 4 ç§ä¸»é®ç­ç¥ï¼åå«åå¸å¼å¯ä¸ id çæå¨ - sequenceï¼ï¼å¯èªç±éç½®ï¼å®ç¾è§£å³ä¸»é®é®é¢\n * æ¯æ activerecord æ¨¡å¼ï¼æ¯æ activerecord å½¢å¼è°ç¨ï¼å®ä½ç±»åªéç»§æ¿ model ç±»å³å¯è¿è¡å¼ºå¤§ç crud æä½\n * æ¯æèªå®ä¹å¨å±éç¨æä½ï¼æ¯æå¨å±éç¨æ¹æ³æ³¨å¥ï¼ write once, use anywhere ï¼\n * åç½®ä»£ç çæå¨ï¼éç¨ä»£ç æè maven æä»¶å¯å¿«éçæ mapper ã model ã service ã controller å±ä»£ç ï¼æ¯ææ¨¡æ¿å¼æï¼æ´æè¶å¤èªå®ä¹éç½®ç­æ¨æ¥ä½¿ç¨\n * åç½®åé¡µæä»¶ï¼åºäº mybatis ç©çåé¡µï¼å¼åèæ éå³å¿å·ä½æä½ï¼éç½®å¥½æä»¶ä¹åï¼ååé¡µç­åäºæ®é list æ¥è¯¢\n * åé¡µæä»¶æ¯æå¤ç§æ°æ®åºï¼æ¯æ mysqlãmariadbãoracleãdb2ãh2ãhsqlãsqliteãpostgreãsqlserver ç­å¤ç§æ°æ®åº\n * åç½®æ§è½åææä»¶ï¼å¯è¾åº sql è¯­å¥ä»¥åå¶æ§è¡æ¶é´ï¼å»ºè®®å¼åæµè¯æ¶å¯ç¨è¯¥åè½ï¼è½å¿«éæªåºæ¢æ¥è¯¢\n * åç½®å¨å±æ¦æªæä»¶ï¼æä¾å¨è¡¨ delete ã update æä½æºè½åæé»æ­ï¼ä¹å¯èªå®ä¹æ¦æªè§åï¼é¢é²è¯¯æä½\n\n\n# å¿«éå¼å§\n\nå®ç½å°åï¼https://mp.baomidou.com/guide/quick-start.html\n\nä½¿ç¨ç¬¬ä¸æ¹ç»ä»¶ï¼\n\n 1. å¯¼å¥å¯¹åºçä¾èµ\n\n 2. ç ç©¶ä¾èµå¦ä½éç½®\n\n 3. ä»£ç å¦ä½ç¼å\n\n 4. æé«æ©å±ææ¯è½åï¼\n\næ­¥éª¤ï¼\n\n1ãåå»ºæ°æ®åº mybatis_plus\n\n2ãåå»ºuserè¡¨å¹¶æå¥æ°æ®\n\ndrop table if exists user;\n\ncreate table user\n(\n\tid bigint(20) not null comment \'ä¸»é®id\',\n\tname varchar(30) null default null comment \'å§å\',\n\tage int(11) null default null comment \'å¹´é¾\',\n\temail varchar(50) null default null comment \'é®ç®±\',\n\tprimary key (id)\n);\n\ndelete from user;\n\ninsert into user (id, name, age, email) values\n(1, \'jone\', 18, \'test1@baomidou.com\'),\n(2, \'jack\', 20, \'test2@baomidou.com\'),\n(3, \'tom\', 28, \'test3@baomidou.com\'),\n(4, \'sandy\', 21, \'test4@baomidou.com\'),\n(5, \'billie\', 24, \'test5@baomidou.com\');\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n3ãç¼åé¡¹ç®ï¼åå§åé¡¹ç®ï¼ä½¿ç¨springbootåå§åï¼\n\n4ãå¯¼å¥ä¾èµ\n\n\x3c!-- æ°æ®åºé©±å¨ --\x3e\n<dependency>\n    <groupid>mysql</groupid>\n    <artifactid>mysql-connector-java</artifactid>\n</dependency>\n<dependency>\n    <groupid>org.projectlombok</groupid>\n    <artifactid>lombok</artifactid>\n</dependency>\n<dependency>\n    <groupid>com.baomidou</groupid>\n    <artifactid>mybatis-plus-boot-starter</artifactid>\n    <version>3.4.2</version>\n</dependency>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n5ãå¡«åpropertieséç½®\n\nspring.datasource.username=root\nspring.datasource.password=123456\nspring.datasource.url=jdbc:mysql://localhost:3306/mybatis_plus?usessl=false&useunicode=true&characterencoding=utf-8&servertimezone=gmt%2b8\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.driver\n\n\n1\n2\n3\n4\n\n\n6ãå¡«åæµè¯ç±»ï¼è¯»åæ°æ®åº\n\nååæä»¬ä½¿ç¨mybatisï¼pojo-daoï¼è¿æ¥mybatisï¼éç½®mapper.xmlæä»¶ï¼-service-controller\n\nç°å¨ï¼\n\n * pojoç±»\n   \n   @data\n   @noargsconstructor\n   @allargsconstructor\n   public class user {\n       private long id;\n       private string name;\n       private integer age;\n       private string email;\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   \n\n * mapperæ¥å£\n   \n   // å¨å¯¹åºçmapperä¸é¢ç»§æ¿åºæ¬çç±» basemapper\n   @repository // ä»£è¡¨æä¹å±\n   public interface usermapper extends basemapper<user> {\n       // ææçcrudæä½é½å·²ç»ç¼åå®æäº\n       // ä½ ä¸éè¦åä»¥åçéç½®ä¸å¤§å æä»¶äºï¼\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   \n\n * springbootå¯å¨ç±»\n   \n   æ·»å æ³¨è§£æ¥æ«æ\n   \n   @mapperscan("com.oddfar.mapper")\n   \n   \n   1\n   \n\n * æµè¯ç±»\n   \n   // ç»§æ¿äºbasemapperï¼ææçæ¹æ³é½æ¥èªå·±ç¶ç±»\n   // æä»¬ä¹å¯ä»¥ç¼åèªå·±çæ©å±æ¹æ³ï¼\n   @autowired\n   private usermapper usermapper;\n   \n   @test\n   void contextloads() {\n       // åæ°æ¯ä¸ä¸ª wrapper ï¼æ¡ä»¶æé å¨ï¼è¿éæä»¬åä¸ç¨ï¼å¡«ånull\n       // æ¥è¯¢å¨é¨ç¨æ·\n       list<user> users = usermapper.selectlist(null);\n       users.foreach(system.out::println);\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   \n\n\n# éç½®æ¥å¿\n\næä»¬ææçsqlç°å¨æ¯ä¸å¯è§çï¼æä»¬å¸æç¥éä»æ¯æä¹æ§è¡çï¼æä»¥æä»¬å¿é¡»è¦çæ¥å¿ï¼\n\n# éç½®æ¥å¿\nmybatis-plus.configuration.log-impl=org.apache.ibatis.logging.stdout.stdoutimpl\n\n\n1\n2\n\n\n\n# crudæ©å±\n\nåå»ºcontrolleråï¼ç¼åusercontrollerç±»\n\n\n# æå¥æä½\n\n@test\nvoid adduser() {\n    user user = new user();\n    user.setname("zhiyuan");\n    user.setage(3);\n    user.setemail("123456@qq.com");\n\n    // å¸®æä»¬èªå¨çæid\n    int result = usermapper.insert(user); \n    system.out.println(result); // åå½±åçè¡æ°\n    system.out.println(user); // åç°ï¼idä¼èªå¨åå¡«\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\næ°æ®åºæå¥çidçé»è®¤å¼ä¸ºï¼å¨å±çå¯ä¸id\n\n\n# ä¸»é®çæç­ç¥\n\n> é»è®¤ id_worker å¨å±å¯ä¸id åå¸å¼ç³»ç»å¯ä¸idçæï¼https://www.cnblogs.com/haoxinyue/p/5208136.html\n\néªè±ç®æ³ï¼\n\nsnowflakeæ¯twitterå¼æºçåå¸å¼idçæç®æ³ï¼ç»ææ¯ä¸ä¸ªlongåçidãå¶æ ¸å¿ææ³æ¯ï¼ä½¿ç¨41bitä½ä¸ºæ¯«ç§æ°ï¼10bitä½ä¸ºæºå¨çidï¼5ä¸ªbitæ¯æ°æ®ä¸­å¿ï¼5ä¸ªbitçæºå¨idï¼ï¼12bitä½ä¸ºæ¯«ç§åçæµæ°´å·ï¼æå³çæ¯ä¸ªèç¹å¨æ¯æ¯«ç§å¯ä»¥äº§ç 4096 ä¸ª idï¼ï¼æåè¿æä¸ä¸ªç¬¦å·ä½ï¼æ°¸è¿æ¯0ãå¯ä»¥ä¿è¯å ä¹å¨çå¯ä¸ï¼\n\nä¸»é®èªå¢ï¼\n\nå®ä½ç±»å­æ®µä¸ @tableid(type = idtype.auto)\n\n\n\næ°æ®åºidå­æ®µèªå¢ï¼\n\n\n\nå³äºæ³¨è§£çä»ç»ï¼https://baomidou.com/guide/annotation.html#tableid\n\n\n# æ´æ°æä½\n\n    /**\n     * æ´æ¹ä¸ä¸ªç¨æ·\n     */\n    @test\n    void testupdate() {\n        user user = new user();\n        // éè¿æ¡ä»¶èªå¨æ¼æ¥å¨æsql\n        user.setid(5l);\n        user.setname("test");\n        user.setage(5);\n        // æ³¨æï¼updatebyid ä½æ¯åæ°æ¯ä¸ä¸ª å¯¹è±¡ï¼\n        int i = usermapper.updatebyid(user);\n        system.out.println(i);\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nææçsqlé½æ¯èªå¨å¸®ä½ å¨æéç½®çï¼\n\n\n# èªå¨å¡«å\n\nå®ç½ï¼https://baomidou.com/guide/auto-fill-metainfo.html\n\nåå»ºæ¶é´ãä¿®æ¹æ¶é´ï¼è¿äºä¸ªæä½ä¸éé½æ¯èªå¨åå®æçï¼æä»¬ä¸å¸ææå¨æ´æ°ï¼\n\né¿éå·´å·´å¼åæåï¼ææçæ°æ®åºè¡¨ï¼gmt_createãgmt_modifiedå ä¹ææçè¡¨é½è¦éç½®ä¸ï¼èä¸é è¦èªå¨åï¼\n\næ¹å¼ä¸ï¼æ°æ®åºçº§å«ï¼å·¥ä½ä¸­ä¸è¬ä¸åè®¸ä½ ä¿®æ¹æ°æ®åºï¼\n\n1ãå¨è¡¨ä¸­æ°å¢å­æ®µ create_time, update_time\n\nalter table `mybatis_plus`.`user`\n  add column `create_time` datetime default current_timestamp null comment \'åå»ºæ¶é´\' after `email`,\n  add column `update_time` datetime default current_timestamp on update current_timestamp null comment \'æ´æ°æ¶é´\' after `create_time`;\n\n\n1\n2\n3\n\n\n\n\né»è®¤ï¼current_timestamp\n\n2ãåæ¬¡æµè¯æå¥æ¹æ³ï¼æä»¬éè¦åæå®ä½ç±»åæ­¥ï¼\n\næ¹å¼äºï¼ä»£ç çº§å«\n\n1ãå é¤æ°æ®åºçé»è®¤å¼ãæ´æ°æä½ï¼\n\n\n\n2ãå®ä½ç±»å­æ®µå±æ§ä¸éè¦å¢å æ³¨è§£\n\n// å­æ®µæ·»å å¡«ååå®¹\n@tablefield(fill = fieldfill.insert)\nprivate date createtime;\n@tablefield(fill = fieldfill.insert_update)\nprivate date updatetime;\n\n\n1\n2\n3\n4\n5\n\n\n3ãç¼åå¤çå¨æ¥å¤çè¿ä¸ªæ³¨è§£å³å¯ï¼\n\npackage com.oddfar.handler;\n\nimport com.baomidou.mybatisplus.core.handlers.metaobjecthandler;\nimport lombok.extern.slf4j.slf4j;\nimport org.apache.ibatis.reflection.metaobject;\nimport org.springframework.stereotype.component;\n\nimport java.util.date;\n\n@slf4j\n@component // ä¸å®ä¸è¦å¿è®°æå¤çå¨å å°iocå®¹å¨ä¸­ï¼\npublic class mymetaobjecthandler implements metaobjecthandler {\n    // æå¥æ¶çå¡«åç­ç¥\n    @override\n    public void insertfill(metaobject metaobject) {\n        log.info("start insert fill.....");\n        // setfieldvalbyname(string fieldname, object fieldval, metaobject metaobject\n        this.setfieldvalbyname("createtime", new date(), metaobject);\n        this.setfieldvalbyname("updatetime", new date(), metaobject);\n    }\n\n    // æ´æ°æ¶çå¡«åç­ç¥\n    @override\n    public void updatefill(metaobject metaobject) {\n        log.info("start update fill.....");\n        this.setfieldvalbyname("updatetime", new date(), metaobject);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n4ãæµè¯æå¥ ï¼æµè¯æ´æ°ãè§å¯æ¶é´å³å¯ï¼\n\n\n# ä¹è§é\n\nå¨é¢è¯è¿ç¨ä¸­ï¼æä»¬ç»å¸¸ä¼è¢«é®éä¹è§éï¼æ²è§éï¼è¿ä¸ªå¶å®éå¸¸ç®åï¼\n\n> ä¹è§éï¼é¡¾åæä¹ååä¹è§ï¼ä»æ»æ¯è®¤ä¸ºä¸ä¼åºç°é®é¢ï¼æ è®ºå¹²ä»ä¹ä¸å»ä¸éï¼å¦æåºç°äºé®é¢ï¼åæ¬¡æ´æ°å¼æµè¯ï¼\n> \n> æ²è§éï¼é¡¾åæä¹ååæ²è§ï¼ä»æ»æ¯ä»»å¡æ»æ¯åºç°é®é¢ï¼æ è®ºå¹²ä»ä¹é½ä¼ä¸éï¼åå»æä½ï¼\n\nå½è¦æ´æ°ä¸æ¡è®°å½çæ¶åï¼å¸æè¿æ¡è®°å½æ²¡æè¢«å«äººæ´æ° ä¹è§éå®ç°æ¹å¼ï¼\n\nä¹è§éå®ç°æ¹å¼ï¼\n\n * ååºè®°å½ï¼è·åå½åversion\n * æ´æ°æ¶ï¼å¸¦ä¸è¿ä¸ªversion\n * æ§è¡æ´æ°æ¶ï¼set version = new version where version = oldversion\n * å¦æversionä¸å¯¹ï¼å°±æ´æ°å¤±è´¥\n\næµè¯ä¸ä¸mybatis-plusçä¹è§éæä»¶\n\nå®æ¹ææ¡£ï¼å¿çï¼ï¼https://baomidou.com/guide/interceptor.html\n\næçæ¹æ³ä¼è¿æï¼å·ä½æä½ä»¥å®æ¹ææ¡£ä¾å­ä¸ºä¸»\n\n1ãç»æ°æ®åºä¸­å¢å versionå­æ®µï¼\n\n\n\n2ãæä»¬å®ä½ç±»å å¯¹åºçå­æ®µ\n\n@version //ä¹è§éversionæ³¨è§£\nprivate integer version;\n\n\n1\n2\n\n\n3ãæ³¨åç»ä»¶\n\npackage com.oddfar.config;\n\nimport com.baomidou.mybatisplus.extension.plugins.mybatisplusinterceptor;\nimport com.baomidou.mybatisplus.extension.plugins.inner.optimisticlockerinnerinterceptor;\nimport org.mybatis.spring.annotation.mapperscan;\nimport org.springframework.context.annotation.bean;\nimport org.springframework.context.annotation.configuration;\n\n/**\n * @author zhiyuan\n * @date 2021/4/5 17:57\n */\n// æ«ææä»¬ç mapper æä»¶å¤¹\n@mapperscan("com.oddfar.mapper")\n@configuration // éç½®ç±»\npublic class mybatisplusconfig {\n\n    // æ³¨åä¹è§éååé¡µæä»¶(æ°çï¼3.4.0)\n    @bean\n    public mybatisplusinterceptor mybatisplusinterceptor(){\n        mybatisplusinterceptor interceptor = new mybatisplusinterceptor();\n        interceptor.addinnerinterceptor(new optimisticlockerinnerinterceptor()); // ä¹è§éæä»¶\n        return interceptor;\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\næ§çå¦ä¸ï¼\n\n@bean\npublic optimisticlockerinterceptor optimisticlockerinterceptor() {\n    return new optimisticlockerinterceptor();\n}\n\n\n1\n2\n3\n4\n\n\n4ãæµè¯ä¸ä¸ï¼\n\n/**\n * æµè¯ä¹è§é\n */\n@test\npublic void testoptimisticlocker(){\n    // 1ãæ¥è¯¢ç¨æ·ä¿¡æ¯\n    user user = usermapper.selectbyid(1l);\n\n    // 2ãä¿®æ¹ç¨æ·ä¿¡æ¯\n    user.setname("zhiyuan");\n    user.setemail("123456@qq.com");\n    // 3ãæ§è¡æ´æ°æä½\n    usermapper.updatebyid(user);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\næä»¬æ¥æ¨¡æä¸\n\n// æµè¯ä¹è§éå¤±è´¥ï¼å¤çº¿ç¨ä¸\n@test\npublic void testoptimisticlocker2(){\n    // çº¿ç¨ 1\n    user user = usermapper.selectbyid(1l);\n    user.setname("zhiyuan000000");\n    user.setemail("000000000@qq.com");\n    // æ¨¡æå¦å¤ä¸ä¸ªçº¿ç¨æ§è¡äºæéæä½\n    user user2 = usermapper.selectbyid(1l);\n    user2.setname("zhiyuan1111111");\n    user2.setemail("111111111@qq.com");\n    usermapper.updatebyid(user2);\n    // èªæéæ¥å¤æ¬¡å°è¯æäº¤ï¼\n    usermapper.updatebyid(user); // å¦ææ²¡æä¹è§éå°±ä¼è¦çæéçº¿ç¨çå¼ï¼\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n\nå¦æä¸å ä¹è§éï¼ä»¥ä¸ä»£ç ï¼nameæåå°±æ¯zhiyuan000000\n\n\n# æ¥è¯¢æä½\n\n// æå®idæ¥è¯¢\n@test\npublic void testselectbyid(){\n    user user = usermapper.selectbyid(1l);\n    system.out.println(user);\n}\n// å¤ä¸ªidæ¹éæ¥è¯¢ï¼\n@test\npublic void testselectbybatchid(){\n    list<user> users = usermapper.selectbatchids(arrays.aslist(1l, 2l, 3l));\n    users.foreach(system.out::println);\n}\n// å¤ä¸ªwhereæ¡ä»¶æ¥è¯¢ä¹ä¸ä½¿ç¨mapæä½\n@test\npublic void testselectbybatchids(){\n    hashmap<string, object> map = new hashmap<>();\n    // èªå®ä¹è¦æ¥è¯¢\n    map.put("name","zhiyuan");\n    map.put("age",3);\n    list<user> users = usermapper.selectbymap(map);\n    users.foreach(system.out::println);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# åé¡µæ¥è¯¢\n\nåé¡µå¨ç½ç«ä½¿ç¨çååä¹å¤ï¼\n\n1ãåå§ç limit è¿è¡åé¡µ 2ãpagehelper ç¬¬ä¸æ¹æä»¶ 3ãmpå¶å®ä¹åç½®äºåé¡µæä»¶ï¼\n\nmybais-plusåé¡µæ¥è¯¢æ¹æ³ï¼\n\n1ãéç½®æ¦æªå¨ç»ä»¶å³å¯\n\ninterceptor.addinnerinterceptor(new paginationinnerinterceptor(dbtype.h2));//åé¡µæä»¶\n\n\n1\n\n\næ§çå¦ä¸ï¼\n\n//åé¡µæä»¶\n@bean\npublic paginationinterceptor paginationinterceptor() {\n    paginationinterceptor paginationinterceptor = new paginationinterceptor();\n    return paginationinterceptor;\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n2ãç´æ¥ä½¿ç¨pageå¯¹è±¡å³å¯ï¼\n\n/**\n * æµè¯åé¡µæ¥è¯¢\n */\n@test\npublic void testpage() {\n    //åæ°ä¸ï¼å½åé¡µ\n    //åæ°äºï¼é¡µé¢å¤§å°\n    page<user> page = new page<>(1, 5);\n    usermapper.selectpage(page, null);\n    page.getrecords().foreach(system.out::println);\n    system.out.println(page.gettotal());//æ»æ°é\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# å é¤æä½\n\n// éè¿idåä¸ªå é¤\n@test\npublic void testdeletebyid(){\n    usermapper.deletebyid(1379026108137123842l);\n}\n// éè¿idæ¹éå é¤\n@test\npublic void testdeletebatchid(){\n   usermapper.deletebatchids(arrays.aslist(1379026108137123842l,1379026441420791810l));\n}\n// éè¿mapå é¤\n@test\npublic void testdeletemap(){\n    hashmap<string, object> map = new hashmap<>();\n    map.put("name","zhiyuan4");\n    usermapper.deletebymap(map);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# é»è¾å é¤\n\nå®æ¹ææ¡£ï¼https://baomidou.com/guide/logic-delete.html\n\nç©çå é¤ ï¼ä»æ°æ®åºä¸­ç´æ¥ç§»é¤\n\né»è¾å é¤ ï¼åæ°æ®åºä¸­æ²¡æè¢«ç§»é¤ï¼èæ¯éè¿ä¸ä¸ªåéæ¥è®©ä»å¤±æï¼ æ¯å¦ä¸ä¸ªç³»ç»ï¼æç®¡çåï¼æä½åï¼ç¨æ·ç­...... è®¾ç½®æ°æ®åºçæ¶åï¼å ä¸ªdeletedå­æ®µï¼é»è®¤ä¸º0ï¼ä»£è¡¨æ°æ®å­å¨ å½ç¨æ·ææä½åè¦å é¤æ°æ®äºï¼æä»¬åædeletedèµå¼ä¸º1ï¼è¡¨ç¤ºæ°æ®å·²å é¤ è¿æ ·ç®¡çååå¯ä»¥å¨åå°æ¥è¯¢è¢«å é¤çè®°å½ï¼é²æ­¢æ°æ®çä¸¢å¤±ï¼ç±»ä¼¼äºåæ¶ç«ï¼\n\næ¹æ³å¦ä¸ï¼\n\n1ãå¨æ°æ®è¡¨ä¸­å¢å ä¸ä¸ª deleted å­æ®µ\n\n\n\n2ãå®ä½ç±»ä¸­å¢å å±æ§\n\n@tablelogic //é»è¾å é¤\nprivate integer deleted;\n\n\n1\n2\n\n\n3ãéç½®\n\napplication.ymlï¼propertiesä¹å¯ä»¥ï¼\n\nmybatis-plus:\n  global-config:\n    db-config:\n      logic-delete-field: flag  # å¨å±é»è¾å é¤çå®ä½å­æ®µå(since 3.3.0,éç½®åå¯ä»¥å¿½ç¥ä¸éç½®æ­¥éª¤2)\n      logic-delete-value: 1 # é»è¾å·²å é¤å¼(é»è®¤ä¸º 1)\n      logic-not-delete-value: 0 # é»è¾æªå é¤å¼(é»è®¤ä¸º 0)\n\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n4ãæµè¯\n\n\n\nè®°å½ä¾æ§å¨æ°æ®åºï¼ä½æ¯å¼ç¡®å·²ç»ååäºï¼\n\n\n# æ§è½åææä»¶\n\nä½ç¨ï¼æ§è½åææ¦æªå¨ï¼ç¨äºè¾åºæ¯æ¡ sql è¯­å¥åå¶æ§è¡æ¶é´ãmpä¹æä¾æ§è½åææä»¶ï¼å¦æè¶è¿è¿ä¸ªæ¶é´å°±åæ­¢è¿è¡ï¼ä¸è¿æ°çæ¬å·²å»æè¿åè½ã\n\næ¨èä½¿ç¨druid\n\næèä½¿ç¨p6spyï¼\n\n> springboot - mybatis-plusä½¿ç¨è¯¦è§£18ï¼ç»åp6spyè¿è¡sqlæ§è½åæï¼\n\n\n# æ¡ä»¶æé å¨\n\nå®ç½ææ¡£ï¼https://baomidou.com/guide/wrapper.html\n\nwrapperï¼ååéè¦ï¼ æä»¬åä¸äºå¤æçsqlå°±å¯ä»¥ä½¿ç¨å®æ¥æ¿ä»£ï¼\n\n1ãæ¥è¯¢nameä¸ä¸ºç©ºçç¨æ·ï¼å¹¶ä¸é®ç®±ä¸ä¸ºç©ºçç¨æ·ï¼å¹´é¾å¤§äº12\n\n@test\nvoid contextloads() {\n    //æ¥è¯¢nameä¸ä¸ºç©ºçç¨æ·ï¼å¹¶ä¸é®ç®±ä¸ä¸ºç©ºçç¨æ·ï¼å¹´é¾å¤§äº12\n    querywrapper<user> wrapper = new querywrapper<>();\n    wrapper.isnotnull("name")\n            .isnotnull("email")\n            .ge("age", 12);\n    usermapper.selectlist(wrapper).foreach(system.out::println); \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n2ãæ¥è¯¢åå­ä¸ºzhiyuan2\n\n@test\nvoid test2(){\n    //æ¥è¯¢åå­ä¸ºzhiyuan2\n    querywrapper<user> wrapper = new querywrapper<>();\n    wrapper.eq("name", "zhiyuan2");\n    user user = usermapper.selectone(wrapper);\n    system.out.println(user);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n3ãæ¥è¯¢å¹´é¾å¨19å°30å²ä¹é´çç¨æ·\n\n@test\nvoid test3(){\n    //æ¥è¯¢å¹´é¾å¨19å°30å²ä¹é´çç¨æ·\n    querywrapper<user> wrapper = new querywrapper<>();\n    wrapper.between("age", 19, 30); //åºé´\n    integer count = usermapper.selectcount(wrapper);\n    system.out.println(count);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n4ãæ¥è¯¢nameä¸åå«tï¼é®ç®±ä»¥123å¼å¤´\n\n * ä¾: notlike("name", "ç")---\x3ename not like \'%ç%\'\n * ä¾: likeright("name", "ç")---\x3ename like \'ç%\'\n\n//æ¨¡ç³æ¥è¯¢\n@test\nvoid test4(){\n    //æ¥è¯¢nameä¸åå«tï¼é®ç®±ä»¥123å¼å¤´\n    querywrapper<user> wrapper = new querywrapper<>();\n    wrapper.notlike("name", "t")\n            .likeright("email", "123");\n    list<map<string, object>> maps = usermapper.selectmaps(wrapper);\n    maps.foreach(system.out::println);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n5ãå­æ¥è¯¢\n\n@test\nvoid test5(){\n    querywrapper<user> wrapper = new querywrapper<>();\n    //id å¨å­æ¥è¯¢ä¸­æ¥åºæ¥\n    wrapper.insql("id", "select id from user where id < 3");\n    list<object> objects = usermapper.selectobjs(wrapper);\n    objects.foreach(system.out::println);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\næåsqlï¼\n\n> select id,name,age,email,version,deleted,create_time,update_time from user where deleted=0 and (id in (select id from user where id < 3))\n\n6ãéè¿idè¿è¡æåº--éåº\n\n@test\nvoid test6(){\n    querywrapper<user> wrapper = new querywrapper<>();\n    //éè¿idè¿è¡æåº--éåº\n    wrapper.orderbydesc("id");\n    list<user> users = usermapper.selectlist(wrapper);\n    users.foreach(system.out::println);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# ä»£ç èªå¨çæå¨\n\ndaoãpojoãserviceãcontrolleré½ç»æèªå·±å»ç¼åå®æï¼\n\nautogenerator æ¯ mybatis-plus çä»£ç çæå¨ï¼éè¿ autogenerator å¯ä»¥å¿«éçæ entityãmapperãmapper xmlãserviceãcontroller ç­åä¸ªæ¨¡åçä»£ç ï¼æå¤§çæåäºå¼åæçã\n\næµè¯ï¼\n\npublic class code {\n    public static void main(string[] args) {\n        //éè¦æå»ºä¸ä¸ª ä»£ç èªå¨çæå¨ å¯¹è±¡\n        // ä»£ç çæå¨\n        autogenerator mpg = new autogenerator();\n        //éç½®ç­ç¥\n\n        //1ãå¨å±éç½®\n        globalconfig gc = new globalconfig();\n        string projectpath = system.getproperty("user.dir");\n        gc.setoutputdir(projectpath + "/src/main/java");\n        gc.setauthor("chanv");\n        gc.setopen(false);\n        gc.setfileoverride(false);  //æ¯å¦è¦ç\n        gc.setservicename("%sservice"); //å»serviceçiåç¼\n        gc.setidtype(idtype.id_worker);\n        gc.setdatetype(datetype.only_date);\n        gc.setswagger2(true);\n        mpg.setglobalconfig(gc);\n\n        //2ãè®¾ç½®æ°æ®æº\n        datasourceconfig dsc = new datasourceconfig();\n        dsc.seturl("jdbc:mysql://localhost:3306/mybatis-plus?usessl=false&useunicode=true&characterencoding=utf-8&servertimezone=gmt%2b8");\n        dsc.setdrivername("com.mysql.cj.jdbc.driver");\n        dsc.setusername("root");\n        dsc.setpassword("root");\n        dsc.setdbtype(dbtype.mysql);\n        mpg.setdatasource(dsc);\n\n        //3ãåçéç½®\n        packageconfig pc = new packageconfig();\n        pc.setmodulename("blog");\n        pc.setparent("com.chanv");\n        pc.setentity("pojo");\n        pc.setmapper("mapper");\n        pc.setservice("service");\n        pc.setcontroller("controller");\n        mpg.setpackageinfo(pc);\n\n        //4ãç­ç¥éç½®\n        strategyconfig strategy = new strategyconfig();\n        strategy.setinclude("user");    //è®¾ç½®è¦æ å°çè¡¨å\n        strategy.setnaming(namingstrategy.underline_to_camel);\n        strategy.setcolumnnaming(namingstrategy.underline_to_camel);\n        strategy.setentitylombokmodel(true);    //èªå¨lombok\n        strategy.setlogicdeletefieldname("deleted");\n        //èªå¨å¡«åéç½®\n        tablefill createtime = new tablefill("create_time", fieldfill.insert);\n        tablefill updatetime = new tablefill("update_time", fieldfill.update);\n        arraylist<tablefill> tablefills = new arraylist<>();\n        tablefills.add(createtime);\n        tablefills.add(updatetime);\n        strategy.settablefilllist(tablefills);\n        //ä¹è§é\n        strategy.setversionfieldname("version");\n        strategy.setrestcontrollerstyle(true);\n        strategy.setcontrollermappinghyphenstyle(true);     //localhost:8080/hello_id_2\n        mpg.setstrategy(strategy);\n\n        mpg.execute();  //æ§è¡ä»£ç æé å¨\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n\n\n',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"RabbitMQ - ç¥è¯ä½ç³»",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"04.æ¡æ¶/20.RabbitMQ",imgUrl:"/img/web.png",description:"RabbitMQç®å½é¡µ"}},title:"RabbitMQ - ç¥è¯ä½ç³»",permalink:"/rabbitmq",article:!1,comment:!1,editLink:!1,date:"2021-06-29T18:13:10.000Z"},regularPath:"/04.%E6%A1%86%E6%9E%B6/20.RabbitMQ/01.RabbitMQ%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB%20.html",relativePath:"04.æ¡æ¶/20.RabbitMQ/01.RabbitMQç¥è¯ä½ç³» .md",key:"v-4fac6ad4",path:"/rabbitmq/",headers:[{level:2,title:"è§é¢æç¨",slug:"è§é¢æç¨",normalizedTitle:"è§é¢æç¨",charIndex:2}],headersStr:"è§é¢æç¨",content:"# è§é¢æç¨\n\n * å°ç¡è°·å¥é¨æç¨\n   \n   https://www.bilibili.com/video/BV1cb4y1o7zz\n\nå­¦å®ä¹åè§å¾æç¨æç¹æµï¼ä¸è¿å¯¹äºå¶ä»å¥é¨æç¨ï¼ä¾å¦å­¦ç¸ä¼´çç¥çï¼ä¸ªäººå»ºè®®è¿æ¯çå°ç¡è°·å§ã",normalizedContent:"# è§é¢æç¨\n\n * å°ç¡è°·å¥é¨æç¨\n   \n   https://www.bilibili.com/video/bv1cb4y1o7zz\n\nå­¦å®ä¹åè§å¾æç¨æç¹æµï¼ä¸è¿å¯¹äºå¶ä»å¥é¨æç¨ï¼ä¾å¦å­¦ç¸ä¼´çç¥çï¼ä¸ªäººå»ºè®®è¿æ¯çå°ç¡è°·å§ã",charsets:{cjk:!0},lastUpdated:"2021/09/15, 10:09:00",lastUpdatedTimestamp:1631702123e3},{title:"ä¸­é´ä»¶ä»ç»",frontmatter:{title:"ä¸­é´ä»¶ä»ç»",date:"2021-06-25T22:05:07.000Z",permalink:"/pages/e38dcb/"},regularPath:"/04.%E6%A1%86%E6%9E%B6/20.RabbitMQ/02.%E4%B8%AD%E9%97%B4%E4%BB%B6%E4%BB%8B%E7%BB%8D.html",relativePath:"04.æ¡æ¶/20.RabbitMQ/02.ä¸­é´ä»¶ä»ç».md",key:"v-220a90d1",path:"/pages/e38dcb/",headers:[{level:2,title:"ä»ä¹æ¯ä¸­é´ä»¶",slug:"ä»ä¹æ¯ä¸­é´ä»¶",normalizedTitle:"ä»ä¹æ¯ä¸­é´ä»¶",charIndex:3},{level:2,title:"ä¸­é´ä»¶ææ¯åæ¶æçæ¦è¿°",slug:"ä¸­é´ä»¶ææ¯åæ¶æçæ¦è¿°",normalizedTitle:"ä¸­é´ä»¶ææ¯åæ¶æçæ¦è¿°",charIndex:13},{level:2,title:"åºäºæ¶æ¯ä¸­é´ä»¶çåå¸å¼ç³»ç»çæ¶æ",slug:"åºäºæ¶æ¯ä¸­é´ä»¶çåå¸å¼ç³»ç»çæ¶æ",normalizedTitle:"åºäºæ¶æ¯ä¸­é´ä»¶çåå¸å¼ç³»ç»çæ¶æ",charIndex:28},{level:2,title:"è§é¢æç¨",slug:"è§é¢æç¨",normalizedTitle:"è§é¢æç¨",charIndex:48}],headersStr:"ä»ä¹æ¯ä¸­é´ä»¶ ä¸­é´ä»¶ææ¯åæ¶æçæ¦è¿° åºäºæ¶æ¯ä¸­é´ä»¶çåå¸å¼ç³»ç»çæ¶æ è§é¢æç¨",content:" * ä»ä¹æ¯ä¸­é´ä»¶\n * ä¸­é´ä»¶ææ¯åæ¶æçæ¦è¿°\n * åºäºæ¶æ¯ä¸­é´ä»¶çåå¸å¼ç³»ç»çæ¶æ\n * è§é¢æç¨\n\n\n# ä»ä¹æ¯ä¸­é´ä»¶\n\nMiddleware\n\n> ä»ä¹æ¯ä¸­é´ä»¶\n\næå½ä¼ä¸ä»20ä¸çºª80å¹´ä»£å¼å§å°±éæ¸è¿è¡ä¿¡æ¯åå»ºè®¾ï¼ç±äºæ¹æ³åä½ç³»çä¸æçï¼ä»¥åä¼ä¸ä¸å¡çå¸åºéæ±çä¸æ­ååï¼ä¸ä¸ªä¼ä¸å¯è½åæ¶è¿è¡çå¤ä¸ªä¸åçä¸å¡ç³»ç»ï¼è¿äºç³»ç»å¯è½åºäºä¸åçæä½ç³»ç»ãä¸åçæ°æ®åºãå¼æçç½ç»ç¯å¢ãç°å¨çé®é¢æ¯ï¼å¦ä½æè¿äºä¿¡æ¯ç³»ç»ç»åæä¸ä¸ªææºå°ååå·¥ä½çæ´ä½ï¼çæ­£å®ç°ä¼ä¸è·¨å¹³å°ãåå¸å¼åºç¨ãä¸­é´ä»¶ä¾¿æ¯è§£å³ä¹éï¼å®ç¨èªå·±çå¤ææ¢åäºä¼ä¸åºç¨çç®åã\n\nä¸­é´ä»¶ï¼Middlewareï¼æ¯å¤äºæä½ç³»ç»ååºç¨ç¨åºä¹é´çè½¯ä»¶ï¼ä¹æäººè®¤ä¸ºå®åºè¯¥å±äºæä½ç³»ç»ä¸­çä¸é¨åãäººä»¬å¨ä½¿ç¨ä¸­é´ä»¶æ¶ï¼å¾å¾æ¯ä¸ç»ä¸­é´ä»¶éæå¨ä¸èµ·ï¼ææä¸ä¸ªå¹³å°ï¼åæ¬å¼åå¹³å°åè¿è¡å¹³å°ï¼ï¼ä½å¨è¿ç»ä¸­é´ä»¶ä¸­å¿é¡»è¦æä¸ä¸ªéä¿¡ä¸­é´ä»¶ï¼å³ä¸­é´ä»¶+å¹³å°+éä¿¡ï¼è¿ä¸ªå®ä¹ä¹éå®äºåªæç¨äºåå¸å¼ç³»ç»ä¸­æè½ç§°ä¸ºä¸­é´ä»¶ï¼åæ¶è¿å¯ä»¥æå®ä¸æ¯æè½¯ä»¶åä½¿ç¨è½¯ä»¶åºåå¼æ¥\n\n> ä¸ºä»ä¹éè¦ä½¿ç¨æ¶æ¯ä¸­é´ä»¶\n\nå·ä½å°è¯´ï¼ä¸­é´ä»¶å±è½äºåºå±æä½ç³»ç»çå¤ææ§ï¼ä½¿ç¨åºå¼åäººåé¢å¯¹ä¸ä¸ªç®åèç»ä¸çå¼åç¯å¢ï¼åå°ç¨åºè®¾è®¡çå¤ææ§ï¼å°æ³¨æåéä¸­å¨èªå·±çä¸å¡ä¸ï¼ä¸å¿åä¸ºç¨åºå¨ä¸åç³»ç»è½¯ä»¶ä¸çç§»æ¤èéå¤å·¥ä½ï¼ä»èå¤§å¤§åå°äºææ¯ä¸çè´æï¼ä¸­é´ä»¶å¸¦ç»åºç¨ç³»ç»çï¼ä¸åªæ¯å¼åçç®ä¾¿ãå¼åå¨æçç¼©ç­ï¼ä¹åå°äºç³»ç»çç»´æ¤ãè¿è¡åç®¡ççå·¥ä½éï¼è¿åå°äºè®¡ç®æºæ»ä½è´¹ç¨çæå¥ã\n\n> ä¸­é´ä»¶ç¹ç¹\n\nä¸ºè§£å³åå¸å¼æé®é¢ï¼äººä»¬æåºäºä¸­é´ä»¶ï¼middleware)çæ¦å¿µãä¸­é´ä»¶æ¶ä½äºå¹³å°ï¼ç¡¬ä»¶åæä½ç³»ç»ï¼ååºç¨ä¹é´çéç¨æå¡ï¼å¦ä¸å¾æç¤ºï¼è¿äºæå¡å·ææ åçç¨åºæ¥å£ååè®®ãéå¯¹ä¸åçæä½ç³»ç»åç¡¬ä»¶å¹³å°ï¼å®ä»¬å¯ä»¥æç¬¦åæ¥å£çåè®®è§èçå¤ç§å®ç°ã\n\nä¹å¾é¾ç»ä¸­é´ä»¶ä¸ä¸ªä¸¥æ ¼çå®ä¹ï¼ä½ä¸­é´ä»¶åºå·æå¦ä¸çä¸äºç¹ç¹ï¼\n\n 1. æ»¡è¶³å¤§éåºç¨çéè¦\n 2. è¿è¡äºå¤ç§ç¡¬ä»¶å OSå¹³å°\n 3. æ¯æåå¸è®¡ç®ï¼æä¾è·¨ç½ç»ãç¡¬ä»¶å OSå¹³å°çéææ§çåºç¨ææå¡çäº¤äº\n 4. æ¯ææ åçåè®®\n 5. æ¯ææ åçæ¥å£\n\nç±äºæ åæ¥å£å¯¹äºå¯ç§»æ¤æ§åæ ååè®®å¯¹äºäºæä½æ§çéè¦æ§ï¼ä¸­é´ä»¶å·²æä¸ºè®¸å¤æ ååå·¥ä½çä¸»è¦é¨åãå¯¹äºåºç¨è½¯ä»¶å¼åï¼ä¸­é´ä»¶è¿æ¯æä½ç³»ç»åç½ç»æå¡æ´ä¸ºéè¦ï¼ä¸­é´ä»¶æä¾çç¨åºæ¥å£å®ä¹äºä¸ä¸ªç¸å¯¹ç¨³å®çé«å±åºç¨ç¯å¢ï¼ä¸ç®¡åºå±çè®¡ç®æºç¡¬ä»¶åç³»ç»è½¯ä»¶ææ ·æ´æ°æ¢ä»£ï¼åªè¦å°ä¸­é´ä»¶åçº§æ´æ°ï¼å¹¶ä¿æä¸­é´ä»¶å¯¹å¤çæ¥å£å®ä¹ä¸åï¼åºç¨è½¯ä»¶å ä¹ä¸éä»»ä½ä¿®æ¹ï¼ä»èä¿æ¤äºä¼ä¸å¨åºç¨è½¯ä»¶å¼ååç»´æ¤ä¸­çéå¤§æèµã\n\nç®åè¯´ï¼ä¸­é´ä»¶æä¸ªå¾å¤§çç¹ç¹ï¼æ¯è±ç¦»äºå·ä½è®¾è®¡ç®æ ï¼èå·å¤æä¾æ®éç¬ç«åè½éæ±çæ¨¡åãè¿ä½¿å¾ä¸­é´ä»¶ä¸å®æ¯å¯æ¿æ¢çãå¦æä¸ä¸ªç³»ç»è®¾è®¡ä¸­ï¼ä¸­é´ä»¶æ¯ä¸å¯æ¿ä»£çï¼ä¸æ¯æ¶æãæ¡æ¶è®¾è®¡æé®é¢ï¼é£ä¹å°±æ¯è¿ä¸ªä¸­é´ä»¶ï¼å¨å«å¤å¯è½æ¯ä¸ªä¸­é´ä»¶ï¼å¨è¿ä¸ªç³»ç»åæ¯å¼æã\n\n> å¨é¡¹ç®ä¸­ä»ä¹æ¶åä½¿ç¨ä¸­é´ä»¶ææ¯\n\nå¨é¡¹ç®çæ¶æåéæä¸­ï¼ä½¿ç¨ä»»ä½ææ¯åæ¶æçæ¹åæä»¬é½éè¦è°¨ææéåæèï¼å ä¸ºä»»ä½ææ¯çèå¥åååé½å¯è½äººåï¼ææ¯ï¼åææ¬çå¢å ï¼ä¸­é´ä»¶çææ¯ä¸è¬ç°å¨ä¸äºäºèç½å¬å¸æèé¡¹ç®ä¸­ä½¿ç¨æ¯è¾å¤ï¼å¦æä½ ä»ä»è¿åªæ¯ä¸ä¸ªååå¬å¸å»ºè®®è¿æ¯ä½¿ç¨åä½æ¶æï¼æå¤å ä¸ªç¼å­ä¸­é´ä»¶å³å¯ï¼ä¸è¦ç²ç®è¿½æ±æ°æèæè°çé«æ§è½ï¼èè¿½æ±çèåä¸å®æ¯ä¸å¡çé©±å¨åé¡¹ç®çé©±å¨ï¼å ä¸ºä¸æ¦è¿½æ±å°±æå³çä½ çå­¦ä¹ ææ¬ï¼å¬å¸çäººåç»æä»¥åæå¡å¨ææ¬ï¼ç»´æ¤åè¿ç»´çææ¬é½ä¼å¢å ï¼æä»¥éè¦è°¨æéæ©åèèã\n\nä½æ¯ä½ä¸ºä¸ä¸ªå¼æ¾äººåï¼ä¸å®è¦æå­¦ä¹ ä¸­é´ä»¶ææ¯çè½ååæç»´ï¼å¦åå¾å®¹æå½é¡¹ç®åå±å°ä¸ä¸ªé¶æ®µå¨å»ææ¡ä¼°è®¡æèå¨é¢è¯ä¸­æåï¼å°±ä¼ç»èªå·±å¸¦æ¥ä¸å°çå°æ°ï¼å¨å½ä»è¿ä¸ªæ¶ä»£è¿äºææ¯ä¹å¹¶ä¸æ¯ä»ä¹æ°é²çä¸è¥¿ï¼å¦æå»ææ¡åæææå³é®çè¿æ¯èªå·±è±æ¶é´åç»åå»æ¢è®¨åç ç©¶ã\n\n\n# ä¸­é´ä»¶ææ¯åæ¶æçæ¦è¿°\n\n> åä½æ¶æ\n\n\n\nå¨ä¼ä¸å¼åå½ä¸­ï¼å¤§é¨åçåææ¶æé½éç¨çæ¯åä½æ¶æçæ¨¡å¼è¿è¡æ¶æï¼èè¿ç§æ¶æçå¸åçç¹ç¹ï¼å°±æ¯æææçä¸å¡åæ¨¡åï¼æºä»£ç ï¼éæèµæºæä»¶ç­é½æ¾å¨ä¸ä¸ªå·¥ç¨ä¸­ï¼å¦æå¶ä¸­çä¸ä¸ªæ¨¡ååçº§æèè¿­ä»£åçä¸ä¸ªå¾å°çåå¨é½ä¼éæ°ç¼è¯åéæ°é¨ç½²é¡¹ç®ãè¿ç§å­å¨çé®é¢æ¯ï¼\n\n 1. è¦ååº¦å¤ªé«\n 2. ä¸æç»´æ¤\n 3. æå¡å¨çææ¬é«\n 4. ä»¥ååçº§æ¶æçå¤æåº¦ä¹ä¼å¢å¤§\n\nè¿æ ·å°±æåç»­çåå¸å¼æ¶æç³»ç»ãå¦ä¸\n\n\n\nåå¸å¼ç³»ç»ï¼éä¿ä¸ç¹ï¼å°±æ¯ä¸ä¸ªè¯·æ±ç±æå¡å¨ç«¯çå¤ä¸ªæå¡ï¼æå¡æèç³»ç»ï¼ååå¤çå®æ\n\nååä½æ¶æä¸åçæ¯ï¼åä½æ¶ææ¯ä¸ä¸ªè¯·æ±åèµ· jvmè°åº¦çº¿ç¨ï¼ç¡®åçæ¯ tomcatçº¿ç¨æ± ï¼åéçº¿ç¨ Threadæ¥å¤çè¯·æ±ç´å°éæ¾ï¼èåå¸å¼ç³»ç»æ¯ï¼ä¸ä¸ªè¯·æ±æ¶ç±å¤ä¸ªç³»ç»å±åæ¥ååå®æï¼jvmåç¯å¢é½å¯è½æ¯ç¬ç«ãå¦æçæ´»ä¸­çæ¯å»çè¯ï¼åä½æ¶æå°±åå»ºè®¾ä¸ä¸ªå°æ¿å­å¾å¿«å°±è½å¤æå®ï¼å¦æä½ è¦å»ºè®¾ä¸ä¸ªé¸å·¢æèå¤§åçå»ºç­ï¼ä½ å°±å¿é¡»æ¯åä¸ªç¯èçååååå¸ï¼è¿æ ·ç®çä¹æ¯é¡¹ç®åå±å°åæçæ¶åè¦å»é¨ç½²åæèçé®é¢ãæä»¬ä¹ä¸é¾çåºæ¥ï¼åå¸å¼æ¶æç³»ç»å­å¨çç¹ç¹åé®é¢å¦ä¸ï¼\n\nå­å¨é®é¢ï¼\n\n 1. å­¦ä¹ ææ¬é«ï¼ææ¯æ è¿å¤\n 2. è¿ç»´ææ¬åæå¡å¨ææ¬å¢é«\n 3. äººåçææ¬ä¹ä¼å¢é«\n 4. é¡¹ç®çè´è½½åº¦ä¹ä¼ä¸å\n 5. é¢ä¸´çéè¯¯åå®¹éæ§ä¹ä¼æåå¢å \n 6. å ç¨çæå¡å¨ç«¯å£åéè®¯çéæ©çææ¬é«\n 7. å®å¨æ§çèèåå ç´ é¼è¿«å¯è½éæ© RMI/MQç¸å³çæå¡å¨ç«¯éè®¯\n\nå¥½å¤ï¼\n\n 1. æå¡ç³»ç»çç¬ç«ï¼å ç¨çæå¡å¨èµæºåå°åå ç¨çç¡¬ä»¶ææ¬åå°\n    \n    ç¡®åçè¯´æ¯ï¼å¯ä»¥åççåéæå¡èµæºï¼ä¸é ææå¡å¨èµæºçæµªè´¹\n\n 2. ç³»ç»çç¬ç«ç»´æ¤åé¨ç½²ï¼è¦ååº¦éä½ï¼å¯æææ§\n\n 3. ç³»ç»çæ¶æåææ¯æ çéæ©å¯ä»¥åççµæ´»ï¼èä¸æ¯åçº¯å°éæ© javaï¼\n\n 4. å¼¹æ§çé¨ç½²ï¼ä¸ä¼é æå¹³å°å é¨ç½²é æçç«çªååæçç¶æ\n\n\n# åºäºæ¶æ¯ä¸­é´ä»¶çåå¸å¼ç³»ç»çæ¶æ\n\n\n\nä»ä¸å¾ä¸­å¯ä»¥çåºæ¥ï¼æ¶æ¯ä¸­é´ä»¶çæ¯\n\n 1. å©ç¨å¯é çæ¶æ¯ä¼ éæºå¶è¿è¡ç³»ç»åç³»ç»ç´æ¥çéè®¯\n 2. éè¿æä¾æ¶æ¯ä¼ éåæ¶æ¯çæ´¾å¯¹æºå¶ï¼å®å¯ä»¥å¨åå¸å¼ç³»ç»ç¯å¢ä¸æ©å±è¿ç¨é´çéè®¯\n\n> æ¶æ¯ä¸­é´ä»¶åºç¨çåºæ¯\n\n 1. è·¨ç³»ç»æ°æ®ä¼ é\n 2. é«å¹¶åçæµéåå³°\n 3. æ°æ®çå¹¶ååå¼æ­¥å¤ç\n 4. å¤§æ°æ®åæä¸ä¼ é\n 5. åå¸å¼äºå¡\n\næ¯å¦ä½ æä¸ä¸ªæ°æ®è¦è¿è¡è¿ç§»æèè¯·æ±å¹¶åè¿å¤çæ¶åï¼æ¯å¦ä½ æ10 W çå¹¶åè¯·æ±ä¸è®¢åï¼æä»¬å¯ä»¥å¨è¿äºè®¢åå¥åºä¹åï¼æä»¬å¯ä»¥æè®¢åè¯·æ±å ç§¯å°æ¶æ¯éåä¸­ï¼è®©å®ç¨³å¥å¯é çå¥åºåæ§è¡\n\n\n# è§é¢æç¨\n\n * å­¦ç¸ä¼´\n   \n   https://www.bilibili.com/video/BV1dX4y1V73G",normalizedContent:" * ä»ä¹æ¯ä¸­é´ä»¶\n * ä¸­é´ä»¶ææ¯åæ¶æçæ¦è¿°\n * åºäºæ¶æ¯ä¸­é´ä»¶çåå¸å¼ç³»ç»çæ¶æ\n * è§é¢æç¨\n\n\n# ä»ä¹æ¯ä¸­é´ä»¶\n\nmiddleware\n\n> ä»ä¹æ¯ä¸­é´ä»¶\n\næå½ä¼ä¸ä»20ä¸çºª80å¹´ä»£å¼å§å°±éæ¸è¿è¡ä¿¡æ¯åå»ºè®¾ï¼ç±äºæ¹æ³åä½ç³»çä¸æçï¼ä»¥åä¼ä¸ä¸å¡çå¸åºéæ±çä¸æ­ååï¼ä¸ä¸ªä¼ä¸å¯è½åæ¶è¿è¡çå¤ä¸ªä¸åçä¸å¡ç³»ç»ï¼è¿äºç³»ç»å¯è½åºäºä¸åçæä½ç³»ç»ãä¸åçæ°æ®åºãå¼æçç½ç»ç¯å¢ãç°å¨çé®é¢æ¯ï¼å¦ä½æè¿äºä¿¡æ¯ç³»ç»ç»åæä¸ä¸ªææºå°ååå·¥ä½çæ´ä½ï¼çæ­£å®ç°ä¼ä¸è·¨å¹³å°ãåå¸å¼åºç¨ãä¸­é´ä»¶ä¾¿æ¯è§£å³ä¹éï¼å®ç¨èªå·±çå¤ææ¢åäºä¼ä¸åºç¨çç®åã\n\nä¸­é´ä»¶ï¼middlewareï¼æ¯å¤äºæä½ç³»ç»ååºç¨ç¨åºä¹é´çè½¯ä»¶ï¼ä¹æäººè®¤ä¸ºå®åºè¯¥å±äºæä½ç³»ç»ä¸­çä¸é¨åãäººä»¬å¨ä½¿ç¨ä¸­é´ä»¶æ¶ï¼å¾å¾æ¯ä¸ç»ä¸­é´ä»¶éæå¨ä¸èµ·ï¼ææä¸ä¸ªå¹³å°ï¼åæ¬å¼åå¹³å°åè¿è¡å¹³å°ï¼ï¼ä½å¨è¿ç»ä¸­é´ä»¶ä¸­å¿é¡»è¦æä¸ä¸ªéä¿¡ä¸­é´ä»¶ï¼å³ä¸­é´ä»¶+å¹³å°+éä¿¡ï¼è¿ä¸ªå®ä¹ä¹éå®äºåªæç¨äºåå¸å¼ç³»ç»ä¸­æè½ç§°ä¸ºä¸­é´ä»¶ï¼åæ¶è¿å¯ä»¥æå®ä¸æ¯æè½¯ä»¶åä½¿ç¨è½¯ä»¶åºåå¼æ¥\n\n> ä¸ºä»ä¹éè¦ä½¿ç¨æ¶æ¯ä¸­é´ä»¶\n\nå·ä½å°è¯´ï¼ä¸­é´ä»¶å±è½äºåºå±æä½ç³»ç»çå¤ææ§ï¼ä½¿ç¨åºå¼åäººåé¢å¯¹ä¸ä¸ªç®åèç»ä¸çå¼åç¯å¢ï¼åå°ç¨åºè®¾è®¡çå¤ææ§ï¼å°æ³¨æåéä¸­å¨èªå·±çä¸å¡ä¸ï¼ä¸å¿åä¸ºç¨åºå¨ä¸åç³»ç»è½¯ä»¶ä¸çç§»æ¤èéå¤å·¥ä½ï¼ä»èå¤§å¤§åå°äºææ¯ä¸çè´æï¼ä¸­é´ä»¶å¸¦ç»åºç¨ç³»ç»çï¼ä¸åªæ¯å¼åçç®ä¾¿ãå¼åå¨æçç¼©ç­ï¼ä¹åå°äºç³»ç»çç»´æ¤ãè¿è¡åç®¡ççå·¥ä½éï¼è¿åå°äºè®¡ç®æºæ»ä½è´¹ç¨çæå¥ã\n\n> ä¸­é´ä»¶ç¹ç¹\n\nä¸ºè§£å³åå¸å¼æé®é¢ï¼äººä»¬æåºäºä¸­é´ä»¶ï¼middleware)çæ¦å¿µãä¸­é´ä»¶æ¶ä½äºå¹³å°ï¼ç¡¬ä»¶åæä½ç³»ç»ï¼ååºç¨ä¹é´çéç¨æå¡ï¼å¦ä¸å¾æç¤ºï¼è¿äºæå¡å·ææ åçç¨åºæ¥å£ååè®®ãéå¯¹ä¸åçæä½ç³»ç»åç¡¬ä»¶å¹³å°ï¼å®ä»¬å¯ä»¥æç¬¦åæ¥å£çåè®®è§èçå¤ç§å®ç°ã\n\nä¹å¾é¾ç»ä¸­é´ä»¶ä¸ä¸ªä¸¥æ ¼çå®ä¹ï¼ä½ä¸­é´ä»¶åºå·æå¦ä¸çä¸äºç¹ç¹ï¼\n\n 1. æ»¡è¶³å¤§éåºç¨çéè¦\n 2. è¿è¡äºå¤ç§ç¡¬ä»¶å oså¹³å°\n 3. æ¯æåå¸è®¡ç®ï¼æä¾è·¨ç½ç»ãç¡¬ä»¶å oså¹³å°çéææ§çåºç¨ææå¡çäº¤äº\n 4. æ¯ææ åçåè®®\n 5. æ¯ææ åçæ¥å£\n\nç±äºæ åæ¥å£å¯¹äºå¯ç§»æ¤æ§åæ ååè®®å¯¹äºäºæä½æ§çéè¦æ§ï¼ä¸­é´ä»¶å·²æä¸ºè®¸å¤æ ååå·¥ä½çä¸»è¦é¨åãå¯¹äºåºç¨è½¯ä»¶å¼åï¼ä¸­é´ä»¶è¿æ¯æä½ç³»ç»åç½ç»æå¡æ´ä¸ºéè¦ï¼ä¸­é´ä»¶æä¾çç¨åºæ¥å£å®ä¹äºä¸ä¸ªç¸å¯¹ç¨³å®çé«å±åºç¨ç¯å¢ï¼ä¸ç®¡åºå±çè®¡ç®æºç¡¬ä»¶åç³»ç»è½¯ä»¶ææ ·æ´æ°æ¢ä»£ï¼åªè¦å°ä¸­é´ä»¶åçº§æ´æ°ï¼å¹¶ä¿æä¸­é´ä»¶å¯¹å¤çæ¥å£å®ä¹ä¸åï¼åºç¨è½¯ä»¶å ä¹ä¸éä»»ä½ä¿®æ¹ï¼ä»èä¿æ¤äºä¼ä¸å¨åºç¨è½¯ä»¶å¼ååç»´æ¤ä¸­çéå¤§æèµã\n\nç®åè¯´ï¼ä¸­é´ä»¶æä¸ªå¾å¤§çç¹ç¹ï¼æ¯è±ç¦»äºå·ä½è®¾è®¡ç®æ ï¼èå·å¤æä¾æ®éç¬ç«åè½éæ±çæ¨¡åãè¿ä½¿å¾ä¸­é´ä»¶ä¸å®æ¯å¯æ¿æ¢çãå¦æä¸ä¸ªç³»ç»è®¾è®¡ä¸­ï¼ä¸­é´ä»¶æ¯ä¸å¯æ¿ä»£çï¼ä¸æ¯æ¶æãæ¡æ¶è®¾è®¡æé®é¢ï¼é£ä¹å°±æ¯è¿ä¸ªä¸­é´ä»¶ï¼å¨å«å¤å¯è½æ¯ä¸ªä¸­é´ä»¶ï¼å¨è¿ä¸ªç³»ç»åæ¯å¼æã\n\n> å¨é¡¹ç®ä¸­ä»ä¹æ¶åä½¿ç¨ä¸­é´ä»¶ææ¯\n\nå¨é¡¹ç®çæ¶æåéæä¸­ï¼ä½¿ç¨ä»»ä½ææ¯åæ¶æçæ¹åæä»¬é½éè¦è°¨ææéåæèï¼å ä¸ºä»»ä½ææ¯çèå¥åååé½å¯è½äººåï¼ææ¯ï¼åææ¬çå¢å ï¼ä¸­é´ä»¶çææ¯ä¸è¬ç°å¨ä¸äºäºèç½å¬å¸æèé¡¹ç®ä¸­ä½¿ç¨æ¯è¾å¤ï¼å¦æä½ ä»ä»è¿åªæ¯ä¸ä¸ªååå¬å¸å»ºè®®è¿æ¯ä½¿ç¨åä½æ¶æï¼æå¤å ä¸ªç¼å­ä¸­é´ä»¶å³å¯ï¼ä¸è¦ç²ç®è¿½æ±æ°æèæè°çé«æ§è½ï¼èè¿½æ±çèåä¸å®æ¯ä¸å¡çé©±å¨åé¡¹ç®çé©±å¨ï¼å ä¸ºä¸æ¦è¿½æ±å°±æå³çä½ çå­¦ä¹ ææ¬ï¼å¬å¸çäººåç»æä»¥åæå¡å¨ææ¬ï¼ç»´æ¤åè¿ç»´çææ¬é½ä¼å¢å ï¼æä»¥éè¦è°¨æéæ©åèèã\n\nä½æ¯ä½ä¸ºä¸ä¸ªå¼æ¾äººåï¼ä¸å®è¦æå­¦ä¹ ä¸­é´ä»¶ææ¯çè½ååæç»´ï¼å¦åå¾å®¹æå½é¡¹ç®åå±å°ä¸ä¸ªé¶æ®µå¨å»ææ¡ä¼°è®¡æèå¨é¢è¯ä¸­æåï¼å°±ä¼ç»èªå·±å¸¦æ¥ä¸å°çå°æ°ï¼å¨å½ä»è¿ä¸ªæ¶ä»£è¿äºææ¯ä¹å¹¶ä¸æ¯ä»ä¹æ°é²çä¸è¥¿ï¼å¦æå»ææ¡åæææå³é®çè¿æ¯èªå·±è±æ¶é´åç»åå»æ¢è®¨åç ç©¶ã\n\n\n# ä¸­é´ä»¶ææ¯åæ¶æçæ¦è¿°\n\n> åä½æ¶æ\n\n\n\nå¨ä¼ä¸å¼åå½ä¸­ï¼å¤§é¨åçåææ¶æé½éç¨çæ¯åä½æ¶æçæ¨¡å¼è¿è¡æ¶æï¼èè¿ç§æ¶æçå¸åçç¹ç¹ï¼å°±æ¯æææçä¸å¡åæ¨¡åï¼æºä»£ç ï¼éæèµæºæä»¶ç­é½æ¾å¨ä¸ä¸ªå·¥ç¨ä¸­ï¼å¦æå¶ä¸­çä¸ä¸ªæ¨¡ååçº§æèè¿­ä»£åçä¸ä¸ªå¾å°çåå¨é½ä¼éæ°ç¼è¯åéæ°é¨ç½²é¡¹ç®ãè¿ç§å­å¨çé®é¢æ¯ï¼\n\n 1. è¦ååº¦å¤ªé«\n 2. ä¸æç»´æ¤\n 3. æå¡å¨çææ¬é«\n 4. ä»¥ååçº§æ¶æçå¤æåº¦ä¹ä¼å¢å¤§\n\nè¿æ ·å°±æåç»­çåå¸å¼æ¶æç³»ç»ãå¦ä¸\n\n\n\nåå¸å¼ç³»ç»ï¼éä¿ä¸ç¹ï¼å°±æ¯ä¸ä¸ªè¯·æ±ç±æå¡å¨ç«¯çå¤ä¸ªæå¡ï¼æå¡æèç³»ç»ï¼ååå¤çå®æ\n\nååä½æ¶æä¸åçæ¯ï¼åä½æ¶ææ¯ä¸ä¸ªè¯·æ±åèµ· jvmè°åº¦çº¿ç¨ï¼ç¡®åçæ¯ tomcatçº¿ç¨æ± ï¼åéçº¿ç¨ threadæ¥å¤çè¯·æ±ç´å°éæ¾ï¼èåå¸å¼ç³»ç»æ¯ï¼ä¸ä¸ªè¯·æ±æ¶ç±å¤ä¸ªç³»ç»å±åæ¥ååå®æï¼jvmåç¯å¢é½å¯è½æ¯ç¬ç«ãå¦æçæ´»ä¸­çæ¯å»çè¯ï¼åä½æ¶æå°±åå»ºè®¾ä¸ä¸ªå°æ¿å­å¾å¿«å°±è½å¤æå®ï¼å¦æä½ è¦å»ºè®¾ä¸ä¸ªé¸å·¢æèå¤§åçå»ºç­ï¼ä½ å°±å¿é¡»æ¯åä¸ªç¯èçååååå¸ï¼è¿æ ·ç®çä¹æ¯é¡¹ç®åå±å°åæçæ¶åè¦å»é¨ç½²åæèçé®é¢ãæä»¬ä¹ä¸é¾çåºæ¥ï¼åå¸å¼æ¶æç³»ç»å­å¨çç¹ç¹åé®é¢å¦ä¸ï¼\n\nå­å¨é®é¢ï¼\n\n 1. å­¦ä¹ ææ¬é«ï¼ææ¯æ è¿å¤\n 2. è¿ç»´ææ¬åæå¡å¨ææ¬å¢é«\n 3. äººåçææ¬ä¹ä¼å¢é«\n 4. é¡¹ç®çè´è½½åº¦ä¹ä¼ä¸å\n 5. é¢ä¸´çéè¯¯åå®¹éæ§ä¹ä¼æåå¢å \n 6. å ç¨çæå¡å¨ç«¯å£åéè®¯çéæ©çææ¬é«\n 7. å®å¨æ§çèèåå ç´ é¼è¿«å¯è½éæ© rmi/mqç¸å³çæå¡å¨ç«¯éè®¯\n\nå¥½å¤ï¼\n\n 1. æå¡ç³»ç»çç¬ç«ï¼å ç¨çæå¡å¨èµæºåå°åå ç¨çç¡¬ä»¶ææ¬åå°\n    \n    ç¡®åçè¯´æ¯ï¼å¯ä»¥åççåéæå¡èµæºï¼ä¸é ææå¡å¨èµæºçæµªè´¹\n\n 2. ç³»ç»çç¬ç«ç»´æ¤åé¨ç½²ï¼è¦ååº¦éä½ï¼å¯æææ§\n\n 3. ç³»ç»çæ¶æåææ¯æ çéæ©å¯ä»¥åççµæ´»ï¼èä¸æ¯åçº¯å°éæ© javaï¼\n\n 4. å¼¹æ§çé¨ç½²ï¼ä¸ä¼é æå¹³å°å é¨ç½²é æçç«çªååæçç¶æ\n\n\n# åºäºæ¶æ¯ä¸­é´ä»¶çåå¸å¼ç³»ç»çæ¶æ\n\n\n\nä»ä¸å¾ä¸­å¯ä»¥çåºæ¥ï¼æ¶æ¯ä¸­é´ä»¶çæ¯\n\n 1. å©ç¨å¯é çæ¶æ¯ä¼ éæºå¶è¿è¡ç³»ç»åç³»ç»ç´æ¥çéè®¯\n 2. éè¿æä¾æ¶æ¯ä¼ éåæ¶æ¯çæ´¾å¯¹æºå¶ï¼å®å¯ä»¥å¨åå¸å¼ç³»ç»ç¯å¢ä¸æ©å±è¿ç¨é´çéè®¯\n\n> æ¶æ¯ä¸­é´ä»¶åºç¨çåºæ¯\n\n 1. è·¨ç³»ç»æ°æ®ä¼ é\n 2. é«å¹¶åçæµéåå³°\n 3. æ°æ®çå¹¶ååå¼æ­¥å¤ç\n 4. å¤§æ°æ®åæä¸ä¼ é\n 5. åå¸å¼äºå¡\n\næ¯å¦ä½ æä¸ä¸ªæ°æ®è¦è¿è¡è¿ç§»æèè¯·æ±å¹¶åè¿å¤çæ¶åï¼æ¯å¦ä½ æ10 w çå¹¶åè¯·æ±ä¸è®¢åï¼æä»¬å¯ä»¥å¨è¿äºè®¢åå¥åºä¹åï¼æä»¬å¯ä»¥æè®¢åè¯·æ±å ç§¯å°æ¶æ¯éåä¸­ï¼è®©å®ç¨³å¥å¯é çå¥åºåæ§è¡\n\n\n# è§é¢æç¨\n\n * å­¦ç¸ä¼´\n   \n   https://www.bilibili.com/video/bv1dx4y1v73g",charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"æ¶æ¯éåä»ç»",frontmatter:{title:"æ¶æ¯éåä»ç»",date:"2021-06-25T22:43:19.000Z",permalink:"/pages/2c91a1/"},regularPath:"/04.%E6%A1%86%E6%9E%B6/20.RabbitMQ/04.%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%E4%BB%8B%E7%BB%8D.html",relativePath:"04.æ¡æ¶/20.RabbitMQ/04.æ¶æ¯éåä»ç».md",key:"v-fb43fc32",path:"/pages/2c91a1/",headers:[{level:2,title:"MQ çç¸å³æ¦å¿µ",slug:"mq-çç¸å³æ¦å¿µ",normalizedTitle:"mq çç¸å³æ¦å¿µ",charIndex:3},{level:3,title:"ä»ä¹æ¯MQ",slug:"ä»ä¹æ¯mq",normalizedTitle:"ä»ä¹æ¯mq",charIndex:17},{level:3,title:"ä¸ºä»ä¹è¦ç¨MQ",slug:"ä¸ºä»ä¹è¦ç¨mq",normalizedTitle:"ä¸ºä»ä¹è¦ç¨mq",charIndex:28},{level:3,title:"MQ çåç±»",slug:"mq-çåç±»",normalizedTitle:"mq çåç±»",charIndex:41},{level:3,title:"MQ çéæ©",slug:"mq-çéæ©",normalizedTitle:"mq çéæ©",charIndex:53},{level:2,title:"RabbitMQ",slug:"rabbitmq",normalizedTitle:"rabbitmq",charIndex:63},{level:3,title:"RabbitMQ çæ¦å¿µ",slug:"rabbitmq-çæ¦å¿µ",normalizedTitle:"rabbitmq çæ¦å¿µ",charIndex:77},{level:3,title:"åå¤§æ ¸å¿æ¦å¿µ",slug:"åå¤§æ ¸å¿æ¦å¿µ",normalizedTitle:"åå¤§æ ¸å¿æ¦å¿µ",charIndex:95},{level:3,title:"åä¸ªåè¯ä»ç»",slug:"åä¸ªåè¯ä»ç»",normalizedTitle:"åä¸ªåè¯ä»ç»",charIndex:107}],headersStr:"MQ çç¸å³æ¦å¿µ ä»ä¹æ¯MQ ä¸ºä»ä¹è¦ç¨MQ MQ çåç±» MQ çéæ© RabbitMQ RabbitMQ çæ¦å¿µ åå¤§æ ¸å¿æ¦å¿µ åä¸ªåè¯ä»ç»",content:" * MQ çç¸å³æ¦å¿µ\n   * ä»ä¹æ¯MQ\n   * ä¸ºä»ä¹è¦ç¨MQ\n   * MQ çåç±»\n   * MQ çéæ©\n * RabbitMQ\n   * RabbitMQ çæ¦å¿µ\n   * åå¤§æ ¸å¿æ¦å¿µ\n   * åä¸ªåè¯ä»ç»\n\n\n# MQ çç¸å³æ¦å¿µ\n\n\n# ä»ä¹æ¯MQ\n\nMQ(message queue)ï¼ä»å­é¢ææä¸çï¼æ¬è´¨æ¯ä¸ªéåï¼FIFO åå¥ååºï¼åªä¸è¿éåä¸­å­æ¾çåå®¹æ¯ message èå·²ï¼è¿æ¯ä¸ç§è·¨è¿ç¨çéä¿¡æºå¶ï¼ç¨äºä¸ä¸æ¸¸ä¼ éæ¶æ¯ãå¨äºèç½æ¶æä¸­ï¼MQ æ¯ä¸ç§éå¸¸å¸¸ è§çä¸ä¸æ¸¸âé»è¾è§£è¦+ç©çè§£è¦âçæ¶æ¯éä¿¡æå¡ãä½¿ç¨äº MQ ä¹åï¼æ¶æ¯åéä¸æ¸¸åªéè¦ä¾èµ MQï¼ä¸ ç¨ä¾èµå¶ä»æå¡ã\n\n\n# ä¸ºä»ä¹è¦ç¨MQ\n\n * æµéæ¶å³°\n\nä¸¾ä¸ªä¾å­ï¼å¦æè®¢åç³»ç»æå¤è½å¤çä¸ä¸æ¬¡è®¢åï¼è¿ä¸ªå¤çè½ååºä»æ­£å¸¸æ¶æ®µçä¸åæ¶ç»°ç»°æä½ï¼æ­£å¸¸æ¶æ®µæä»¬ä¸åä¸ç§åå°±è½è¿åç»æãä½æ¯å¨é«å³°æï¼å¦ææä¸¤ä¸æ¬¡ä¸åæä½ç³»ç»æ¯å¤çä¸äºçï¼åªè½éå¶è®¢åè¶è¿ä¸ä¸åä¸åè®¸ç¨æ·ä¸åãä½¿ç¨æ¶æ¯éååç¼å²ï¼æä»¬å¯ä»¥åæ¶è¿ä¸ªéå¶ï¼æä¸ç§åä¸çè®¢ååæ£æä¸æ®µæ¶é´æ¥å¤çï¼è¿æ¶æäºç¨æ·å¯è½å¨ä¸ååå ç§åæè½æ¶å°ä¸åæåçæä½ï¼ä½æ¯æ¯ä¸è½ä¸åçä½éªè¦å¥½ã\n\n * åºç¨è§£è¦\n\nä»¥çµååºç¨ä¸ºä¾ï¼åºç¨ä¸­æè®¢åç³»ç»ãåºå­ç³»ç»ãç©æµç³»ç»ãæ¯ä»ç³»ç»ãç¨æ·åå»ºè®¢ååï¼å¦æè¦å è°ç¨åºå­ç³»ç»ãç©æµç³»ç»ãæ¯ä»ç³»ç»ï¼ä»»ä½ä¸ä¸ªå­ç³»ç»åºäºæéï¼é½ä¼é æä¸åæä½å¼å¸¸ãå½è½¬åæåºäº æ¶æ¯éåçæ¹å¼åï¼ç³»ç»é´è°ç¨çé®é¢ä¼åå°å¾å¤ï¼æ¯å¦ç©æµç³»ç»å ä¸ºåçæéï¼éè¦å åéæ¥ä¿®å¤ãå¨ è¿å åéçæ¶é´éï¼ç©æµç³»ç»è¦å¤ççåå­è¢«ç¼å­å¨æ¶æ¯éåä¸­ï¼ç¨æ·çä¸åæä½å¯ä»¥æ­£å¸¸å®æãå½ç©æµ ç³»ç»æ¢å¤åï¼ç»§ç»­å¤çè®¢åä¿¡æ¯å³å¯ï¼ä¸­åç¨æ·æåä¸å°ç©æµç³»ç»çæéï¼æåç³»ç»çå¯ç¨æ§ã\n\n\n\n * å¼æ­¥å¤ç\n\næäºæå¡é´è°ç¨æ¯å¼æ­¥çï¼ä¾å¦ A è°ç¨ Bï¼B éè¦è±è´¹å¾é¿æ¶é´æ§è¡ï¼ä½æ¯ A éè¦ç¥é B ä»ä¹æ¶åå¯ä»¥æ§è¡å®ã\n\nä»¥åä¸è¬æä¸¤ç§æ¹å¼ï¼A è¿ä¸æ®µæ¶é´å»è°ç¨ B çæ¥è¯¢ api æ¥è¯¢ãæè A æä¾ä¸ä¸ª callback apiï¼ B æ§è¡å®ä¹åè°ç¨ api éç¥ A æå¡ãè¿ä¸¤ç§æ¹å¼é½ä¸æ¯å¾ä¼éã\n\nä½¿ç¨æ¶æ¯æ»çº¿ï¼å¯ä»¥å¾æ¹ä¾¿è§£å³è¿ä¸ªé®é¢ï¼ A è°ç¨ B æå¡åï¼åªéè¦çå¬ B å¤çå®æçæ¶æ¯ï¼å½ B å¤çå®æåï¼ä¼åéä¸æ¡æ¶æ¯ç» MQï¼MQ ä¼å°æ­¤æ¶æ¯è½¬åç» A æå¡ãè¿æ · A æå¡æ¢ä¸ç¨å¾ªç¯è°ç¨ B çæ¥è¯¢ apiï¼ä¹ä¸ç¨æä¾ callback apiãåæ ·B æå¡ä¹ä¸ç¨ åè¿äºæä½ãA æå¡è¿è½åæ¶çå¾å°å¼æ­¥å¤çæåçæ¶æ¯ã\n\n\n\n\n# MQ çåç±»\n\nActiveMQ\n\nä¼ç¹ï¼åæºååéä¸çº§ï¼æ¶ææ§ ms çº§ï¼å¯ç¨æ§é«ï¼åºäºä¸»ä»æ¶æå®ç°é«å¯ç¨æ§ï¼æ¶æ¯å¯é æ§è¾ ä½çæ¦çä¸¢å¤±æ°æ®\n\nç¼ºç¹ï¼å®æ¹ç¤¾åºç°å¨å¯¹ ActiveMQ 5.x ç»´æ¤è¶æ¥è¶å°ï¼é«ååéåºæ¯è¾å°ä½¿ç¨ã\n\nKafka\n\nå¤§æ°æ®çææéï¼è°å°å¤§æ°æ®é¢ååçæ¶æ¯ä¼ è¾ï¼åç»ä¸å¼ Kafkaï¼è¿æ¬¾ä¸ºå¤§æ°æ®èççæ¶æ¯ä¸­é´ä»¶ï¼ ä»¥å¶ç¾ä¸çº§ TPS çååéåå£°å¤§åªï¼è¿éæä¸ºå¤§æ°æ®é¢åçå® å¿ï¼å¨æ°æ®ééãä¼ è¾ãå­å¨çè¿ç¨ä¸­åæ¥ çä¸¾è¶³è½»éçä½ç¨ãç®åå·²ç»è¢« LinkedInï¼Uber, Twitter, Netflix ç­å¤§å¬å¸æéçº³ã\n\nä¼ç¹ï¼æ§è½åè¶ï¼åæºåå¥ TPS çº¦å¨ç¾ä¸æ¡/ç§ï¼æå¤§çä¼ç¹ï¼å°±æ¯ååéé«ãæ¶ææ§ ms çº§å¯ç¨æ§é å¸¸é«ï¼kafka æ¯åå¸å¼çï¼ä¸ä¸ªæ°æ®å¤ä¸ªå¯æ¬ï¼å°æ°æºå¨å®æºï¼ä¸ä¼ä¸¢å¤±æ°æ®ï¼ä¸ä¼å¯¼è´ä¸å¯ç¨,æ¶è´¹èé ç¨ Pull æ¹å¼è·åæ¶æ¯, æ¶æ¯æåº, éè¿æ§å¶è½å¤ä¿è¯æææ¶æ¯è¢«æ¶è´¹ä¸ä»è¢«æ¶è´¹ä¸æ¬¡;æä¼ç§çç¬¬ä¸æ¹Kafka Web ç®¡ççé¢ Kafka-Managerï¼å¨æ¥å¿é¢åæ¯è¾æçï¼è¢«å¤å®¶å¬å¸åå¤ä¸ªå¼æºé¡¹ç®ä½¿ç¨ï¼åè½æ¯æï¼ åè½ è¾ä¸ºç®åï¼ä¸»è¦æ¯æç®åç MQ åè½ï¼å¨å¤§æ°æ®é¢åçå®æ¶è®¡ç®ä»¥åæ¥å¿ééè¢«å¤§è§æ¨¡ä½¿ç¨\n\nç¼ºç¹ï¼Kafka åæºè¶è¿ 64 ä¸ªéå/ååºï¼Load ä¼åçææ¾çé£é«ç°è±¡ï¼éåè¶å¤ï¼load è¶é«ï¼åéæ¶ æ¯ååºæ¶é´åé¿ï¼ä½¿ç¨ç­è½®è¯¢æ¹å¼ï¼å®æ¶æ§åå³äºè½®è¯¢é´éæ¶é´ï¼æ¶è´¹å¤±è´¥ä¸æ¯æéè¯ï¼æ¯ææ¶æ¯é¡ºåºï¼ ä½æ¯ä¸å°ä»£çå®æºåï¼å°±ä¼äº§çæ¶æ¯ä¹±åºï¼ç¤¾åºæ´æ°è¾æ¢ï¼\n\nRocketMQ\n\nRocketMQ åºèªé¿éå·´å·´çå¼æºäº§åï¼ç¨ Java è¯­è¨å®ç°ï¼å¨è®¾è®¡æ¶åèäº Kafkaï¼å¹¶ååºäºèªå·±çä¸ äºæ¹è¿ãè¢«é¿éå·´å·´å¹¿æ³åºç¨å¨è®¢åï¼äº¤æï¼åå¼ï¼æµè®¡ç®ï¼æ¶æ¯æ¨éï¼æ¥å¿æµå¼å¤çï¼binglog ååç­åº æ¯ã\n\nä¼ç¹ï¼åæºååéåä¸çº§,å¯ç¨æ§éå¸¸é«ï¼åå¸å¼æ¶æï¼æ¶æ¯å¯ä»¥åå° 0 ä¸¢å¤±,MQ åè½è¾ä¸ºå®åï¼è¿æ¯å å¸å¼çï¼æ©å±æ§å¥½,æ¯æ 10 äº¿çº§å«çæ¶æ¯å ç§¯ï¼ä¸ä¼å ä¸ºå ç§¯å¯¼è´æ§è½ä¸é,æºç æ¯ java æä»¬å¯ä»¥èªå·±é è¯»æºç ï¼å®å¶èªå·±å¬å¸ç MQ\n\nç¼ºç¹ï¼æ¯æçå®¢æ·ç«¯è¯­è¨ä¸å¤ï¼ç®åæ¯ java å c++ï¼å¶ä¸­ c++ä¸æçï¼ç¤¾åºæ´»è·åº¦ä¸è¬,æ²¡æå¨MQ æ ¸å¿ä¸­å»å®ç° JMS ç­æ¥å£,æäºç³»ç»è¦è¿ç§»éè¦ä¿®æ¹å¤§éä»£ç \n\nRabbitMQ\n\n2007 å¹´åå¸ï¼æ¯ä¸ä¸ªå¨AMQP(é«çº§æ¶æ¯éååè®®)åºç¡ä¸å®æçï¼å¯å¤ç¨çä¼ä¸æ¶æ¯ç³»ç»ï¼æ¯å½åæä¸»æµçæ¶æ¯ä¸­é´ä»¶ä¹ä¸ã\n\nä¼ç¹ï¼ç±äº erlang è¯­è¨çé«å¹¶åç¹æ§ï¼æ§è½è¾å¥½ï¼ååéå°ä¸çº§ï¼MQ åè½æ¯è¾å®å¤,å¥å£®ãç¨³å®ãæ ç¨ãè·¨å¹³å°ãæ¯æå¤ç§è¯­è¨ å¦ï¼PythonãRubyã.NETãJavaãJMSãCãPHPãActionScriptãXMPPãSTOMP ç­ï¼æ¯æ AJAX ææ¡£é½å¨ï¼å¼æºæä¾çç®¡ççé¢éå¸¸æ£ï¼ç¨èµ·æ¥å¾å¥½ç¨,ç¤¾åºæ´»è·åº¦é«ï¼æ´æ°é¢çç¸å½é«\n\nå®ç½æ´æ°ï¼https://www.rabbitmq.com/news.html\n\nç¼ºç¹ï¼åä¸çéè¦æ¶è´¹,å­¦ä¹ ææ¬è¾é«\n\n\n# MQ çéæ©\n\n * Kafka\n\nKafka ä¸»è¦ç¹ç¹æ¯åºäºPull çæ¨¡å¼æ¥å¤çæ¶æ¯æ¶è´¹ï¼è¿½æ±é«ååéï¼ä¸å¼å§çç®çå°±æ¯ç¨äºæ¥å¿æ¶é åä¼ è¾ï¼éåäº§çå¤§éæ°æ®çäºèç½æå¡çæ°æ®æ¶éä¸å¡ãå¤§åå¬å¸å»ºè®®å¯ä»¥éç¨ï¼å¦æææ¥å¿ééåè½ï¼ è¯å®æ¯é¦é kafka äºã\n\nå°ç¡è°·å®ç½ kafka è§é¢æç¨ï¼http://www.gulixueyuan.com/course/330/tasks\n\n * RocketMQ\n\nå¤©çä¸ºéèäºèç½é¢åèçï¼å¯¹äºå¯é æ§è¦æ±å¾é«çåºæ¯ï¼å°¤å¶æ¯çµåéé¢çè®¢åæ£æ¬¾ï¼ä»¥åä¸å¡å å³°ï¼å¨å¤§éäº¤ææ¶å¥æ¶ï¼åç«¯å¯è½æ æ³åæ¶å¤ççæåµãRoketMQ å¨ç¨³å®æ§ä¸å¯è½æ´å¼å¾ä¿¡èµï¼è¿äºä¸å¡ åºæ¯å¨é¿éå 11 å·²ç»ç»åäºå¤æ¬¡èéªï¼å¦æä½ çä¸å¡æä¸è¿°å¹¶ååºæ¯ï¼å»ºè®®å¯ä»¥éæ© RocketMQã\n\n * RabbitMQ\n\nç»å erlang è¯­è¨æ¬èº«çå¹¶åä¼å¿ï¼æ§è½å¥½æ¶ææ§å¾®ç§çº§ï¼ç¤¾åºæ´»è·åº¦ä¹æ¯è¾é«ï¼ç®¡ççé¢ç¨èµ·æ¥åå æ¹ä¾¿ï¼å¦æä½ çæ°æ®éæ²¡æé£ä¹å¤§ï¼ä¸­å°åå¬å¸ä¼åéæ©åè½æ¯è¾å®å¤ç RabbitMQã\n\n\n# RabbitMQ\n\n\n# RabbitMQ çæ¦å¿µ\n\nRabbitMQ æ¯ä¸ä¸ªæ¶æ¯ä¸­é´ä»¶ï¼å®æ¥åå¹¶è½¬åæ¶æ¯ã\n\nä½ å¯ä»¥æå®å½åä¸ä¸ªå¿«éç«ç¹ï¼å½ä½ è¦åéä¸ä¸ªåè£¹æ¶ï¼ä½ æä½ çåè£¹æ¾å°å¿«éç«ï¼å¿«éåæç»ä¼æä½ çå¿«ééå°æ¶ä»¶äººé£éï¼æç§è¿ç§é»è¾ RabbitMQ æ¯ ä¸ä¸ªå¿«éç«ï¼ä¸ä¸ªå¿«éåå¸®ä½ ä¼ éå¿«ä»¶ã\n\nRabbitMQ ä¸å¿«éç«çä¸»è¦åºå«å¨äºï¼å®ä¸å¤çå¿«ä»¶èæ¯æ¥æ¶ï¼ å­å¨åè½¬åæ¶æ¯æ°æ®ã\n\n\n\nå®ç½ï¼https://www.rabbitmq.com/#features\n\n\n# åå¤§æ ¸å¿æ¦å¿µ\n\n * çäº§è\n   \n   äº§çæ°æ®åéæ¶æ¯çç¨åºæ¯çäº§è\n\n * äº¤æ¢æº\n   \n   äº¤æ¢æºæ¯ RabbitMQ éå¸¸éè¦çä¸ä¸ªé¨ä»¶ï¼ä¸æ¹é¢å®æ¥æ¶æ¥èªçäº§èçæ¶æ¯ï¼å¦ä¸æ¹é¢å®å°æ¶æ¯ æ¨éå°éåä¸­ãäº¤æ¢æºå¿é¡»ç¡®åç¥éå¦ä½å¤çå®æ¥æ¶å°çæ¶æ¯ï¼æ¯å°è¿äºæ¶æ¯æ¨éå°ç¹å®éåè¿æ¯æ¨ éå°å¤ä¸ªéåï¼äº¦æèæ¯ææ¶æ¯ä¸¢å¼ï¼è¿ä¸ªå¾æäº¤æ¢æºç±»åå³å®\n\n * éå\n   \n   éåæ¯ RabbitMQ åé¨ä½¿ç¨çä¸ç§æ°æ®ç»æï¼å°½ç®¡æ¶æ¯æµç» RabbitMQ ååºç¨ç¨åºï¼ä½å®ä»¬åªè½å­ å¨å¨éåä¸­ãéåä»åä¸»æºçåå­åç£çéå¶ççº¦æï¼æ¬è´¨ä¸æ¯ä¸ä¸ªå¤§çæ¶æ¯ç¼å²åºãè®¸å¤çäº§èå¯ ä»¥å°æ¶æ¯åéå°ä¸ä¸ªéåï¼è®¸å¤æ¶è´¹èå¯ä»¥å°è¯ä»ä¸ä¸ªéåæ¥æ¶æ°æ®ãè¿å°±æ¯æä»¬ä½¿ç¨éåçæ¹å¼\n\n * æ¶è´¹è\n   \n   æ¶è´¹ä¸æ¥æ¶å·æç¸ä¼¼çå«ä¹ãæ¶è´¹èå¤§å¤æ¶åæ¯ä¸ä¸ªç­å¾æ¥æ¶æ¶æ¯çç¨åºãè¯·æ³¨æçäº§èï¼æ¶è´¹ èåæ¶æ¯ä¸­é´ä»¶å¾å¤æ¶åå¹¶ä¸å¨åä¸æºå¨ä¸ãåä¸ä¸ªåºç¨ç¨åºæ¢å¯ä»¥æ¯çäº§èåæ¯å¯ä»¥æ¯æ¶è´¹èã\n\n\n# åä¸ªåè¯ä»ç»\n\n\n\n * Broker\n   \n   æ¥æ¶åååæ¶æ¯çåºç¨ï¼RabbitMQ Server å°±æ¯ Message Broker\n\n * Virtual host\n   \n   åºäºå¤ç§æ·åå®å¨å ç´ è®¾è®¡çï¼æ AMQP çåºæ¬ç»ä»¶ååå°ä¸ä¸ªèæçåç»ä¸­ï¼ç±»ä¼¼ äºç½ç»ä¸­ç namespace æ¦å¿µãå½å¤ä¸ªä¸åçç¨æ·ä½¿ç¨åä¸ä¸ª RabbitMQ server æä¾çæå¡æ¶ï¼å¯ä»¥åååº å¤ä¸ª vhostï¼æ¯ä¸ªç¨æ·å¨èªå·±ç vhost åå»º exchangeï¼queue ç­\n\n * Connection\n   \n   publisherï¼consumer å broker ä¹é´ç TCP è¿æ¥\n\n * Channel\n   \n   å¦ææ¯ä¸æ¬¡è®¿é® RabbitMQ é½å»ºç«ä¸ä¸ª Connectionï¼å¨æ¶æ¯éå¤§çæ¶åå»ºç« TCP Connection çå¼éå°æ¯å·¨å¤§çï¼æçä¹è¾ä½ãChannel æ¯å¨ connection åé¨å»ºç«çé»è¾è¿æ¥ï¼å¦æåºç¨ç¨ åºæ¯æå¤çº¿ç¨ï¼éå¸¸æ¯ä¸ª thread åå»ºåç¬ç channel è¿è¡éè®¯ï¼AMQP method åå«äº channel id å¸®å©å®¢ æ·ç«¯å message broker è¯å« channelï¼æä»¥ channel ä¹é´æ¯å®å¨éç¦»çãChannel ä½ä¸ºè½»éçº§ç Connection æå¤§åå°äºæä½ç³»ç»å»ºç« TCP connection çå¼é\n\n * Exchange\n   \n   message å°è¾¾ broker çç¬¬ä¸ç«ï¼æ ¹æ®ååè§åï¼å¹éæ¥è¯¢è¡¨ä¸­ç routing keyï¼åå æ¶æ¯å° queue ä¸­å»ãå¸¸ç¨çç±»åæï¼direct (point-to-point), topic (publish-subscribe) and fanout (multicast)\n\n * Queue\n   \n   æ¶æ¯æç»è¢«éå°è¿éç­å¾ consumer åèµ°\n\n * Binding\n   \n   exchange å queue ä¹é´çèæè¿æ¥ï¼binding ä¸­å¯ä»¥åå« routing keyï¼Binding ä¿¡æ¯è¢«ä¿ å­å° exchange ä¸­çæ¥è¯¢è¡¨ä¸­ï¼ç¨äº message çååä¾æ®",normalizedContent:" * mq çç¸å³æ¦å¿µ\n   * ä»ä¹æ¯mq\n   * ä¸ºä»ä¹è¦ç¨mq\n   * mq çåç±»\n   * mq çéæ©\n * rabbitmq\n   * rabbitmq çæ¦å¿µ\n   * åå¤§æ ¸å¿æ¦å¿µ\n   * åä¸ªåè¯ä»ç»\n\n\n# mq çç¸å³æ¦å¿µ\n\n\n# ä»ä¹æ¯mq\n\nmq(message queue)ï¼ä»å­é¢ææä¸çï¼æ¬è´¨æ¯ä¸ªéåï¼fifo åå¥ååºï¼åªä¸è¿éåä¸­å­æ¾çåå®¹æ¯ message èå·²ï¼è¿æ¯ä¸ç§è·¨è¿ç¨çéä¿¡æºå¶ï¼ç¨äºä¸ä¸æ¸¸ä¼ éæ¶æ¯ãå¨äºèç½æ¶æä¸­ï¼mq æ¯ä¸ç§éå¸¸å¸¸ è§çä¸ä¸æ¸¸âé»è¾è§£è¦+ç©çè§£è¦âçæ¶æ¯éä¿¡æå¡ãä½¿ç¨äº mq ä¹åï¼æ¶æ¯åéä¸æ¸¸åªéè¦ä¾èµ mqï¼ä¸ ç¨ä¾èµå¶ä»æå¡ã\n\n\n# ä¸ºä»ä¹è¦ç¨mq\n\n * æµéæ¶å³°\n\nä¸¾ä¸ªä¾å­ï¼å¦æè®¢åç³»ç»æå¤è½å¤çä¸ä¸æ¬¡è®¢åï¼è¿ä¸ªå¤çè½ååºä»æ­£å¸¸æ¶æ®µçä¸åæ¶ç»°ç»°æä½ï¼æ­£å¸¸æ¶æ®µæä»¬ä¸åä¸ç§åå°±è½è¿åç»æãä½æ¯å¨é«å³°æï¼å¦ææä¸¤ä¸æ¬¡ä¸åæä½ç³»ç»æ¯å¤çä¸äºçï¼åªè½éå¶è®¢åè¶è¿ä¸ä¸åä¸åè®¸ç¨æ·ä¸åãä½¿ç¨æ¶æ¯éååç¼å²ï¼æä»¬å¯ä»¥åæ¶è¿ä¸ªéå¶ï¼æä¸ç§åä¸çè®¢ååæ£æä¸æ®µæ¶é´æ¥å¤çï¼è¿æ¶æäºç¨æ·å¯è½å¨ä¸ååå ç§åæè½æ¶å°ä¸åæåçæä½ï¼ä½æ¯æ¯ä¸è½ä¸åçä½éªè¦å¥½ã\n\n * åºç¨è§£è¦\n\nä»¥çµååºç¨ä¸ºä¾ï¼åºç¨ä¸­æè®¢åç³»ç»ãåºå­ç³»ç»ãç©æµç³»ç»ãæ¯ä»ç³»ç»ãç¨æ·åå»ºè®¢ååï¼å¦æè¦å è°ç¨åºå­ç³»ç»ãç©æµç³»ç»ãæ¯ä»ç³»ç»ï¼ä»»ä½ä¸ä¸ªå­ç³»ç»åºäºæéï¼é½ä¼é æä¸åæä½å¼å¸¸ãå½è½¬åæåºäº æ¶æ¯éåçæ¹å¼åï¼ç³»ç»é´è°ç¨çé®é¢ä¼åå°å¾å¤ï¼æ¯å¦ç©æµç³»ç»å ä¸ºåçæéï¼éè¦å åéæ¥ä¿®å¤ãå¨ è¿å åéçæ¶é´éï¼ç©æµç³»ç»è¦å¤ççåå­è¢«ç¼å­å¨æ¶æ¯éåä¸­ï¼ç¨æ·çä¸åæä½å¯ä»¥æ­£å¸¸å®æãå½ç©æµ ç³»ç»æ¢å¤åï¼ç»§ç»­å¤çè®¢åä¿¡æ¯å³å¯ï¼ä¸­åç¨æ·æåä¸å°ç©æµç³»ç»çæéï¼æåç³»ç»çå¯ç¨æ§ã\n\n\n\n * å¼æ­¥å¤ç\n\næäºæå¡é´è°ç¨æ¯å¼æ­¥çï¼ä¾å¦ a è°ç¨ bï¼b éè¦è±è´¹å¾é¿æ¶é´æ§è¡ï¼ä½æ¯ a éè¦ç¥é b ä»ä¹æ¶åå¯ä»¥æ§è¡å®ã\n\nä»¥åä¸è¬æä¸¤ç§æ¹å¼ï¼a è¿ä¸æ®µæ¶é´å»è°ç¨ b çæ¥è¯¢ api æ¥è¯¢ãæè a æä¾ä¸ä¸ª callback apiï¼ b æ§è¡å®ä¹åè°ç¨ api éç¥ a æå¡ãè¿ä¸¤ç§æ¹å¼é½ä¸æ¯å¾ä¼éã\n\nä½¿ç¨æ¶æ¯æ»çº¿ï¼å¯ä»¥å¾æ¹ä¾¿è§£å³è¿ä¸ªé®é¢ï¼ a è°ç¨ b æå¡åï¼åªéè¦çå¬ b å¤çå®æçæ¶æ¯ï¼å½ b å¤çå®æåï¼ä¼åéä¸æ¡æ¶æ¯ç» mqï¼mq ä¼å°æ­¤æ¶æ¯è½¬åç» a æå¡ãè¿æ · a æå¡æ¢ä¸ç¨å¾ªç¯è°ç¨ b çæ¥è¯¢ apiï¼ä¹ä¸ç¨æä¾ callback apiãåæ ·b æå¡ä¹ä¸ç¨ åè¿äºæä½ãa æå¡è¿è½åæ¶çå¾å°å¼æ­¥å¤çæåçæ¶æ¯ã\n\n\n\n\n# mq çåç±»\n\nactivemq\n\nä¼ç¹ï¼åæºååéä¸çº§ï¼æ¶ææ§ ms çº§ï¼å¯ç¨æ§é«ï¼åºäºä¸»ä»æ¶æå®ç°é«å¯ç¨æ§ï¼æ¶æ¯å¯é æ§è¾ ä½çæ¦çä¸¢å¤±æ°æ®\n\nç¼ºç¹ï¼å®æ¹ç¤¾åºç°å¨å¯¹ activemq 5.x ç»´æ¤è¶æ¥è¶å°ï¼é«ååéåºæ¯è¾å°ä½¿ç¨ã\n\nkafka\n\nå¤§æ°æ®çææéï¼è°å°å¤§æ°æ®é¢ååçæ¶æ¯ä¼ è¾ï¼åç»ä¸å¼ kafkaï¼è¿æ¬¾ä¸ºå¤§æ°æ®èççæ¶æ¯ä¸­é´ä»¶ï¼ ä»¥å¶ç¾ä¸çº§ tps çååéåå£°å¤§åªï¼è¿éæä¸ºå¤§æ°æ®é¢åçå® å¿ï¼å¨æ°æ®ééãä¼ è¾ãå­å¨çè¿ç¨ä¸­åæ¥ çä¸¾è¶³è½»éçä½ç¨ãç®åå·²ç»è¢« linkedinï¼uber, twitter, netflix ç­å¤§å¬å¸æéçº³ã\n\nä¼ç¹ï¼æ§è½åè¶ï¼åæºåå¥ tps çº¦å¨ç¾ä¸æ¡/ç§ï¼æå¤§çä¼ç¹ï¼å°±æ¯ååéé«ãæ¶ææ§ ms çº§å¯ç¨æ§é å¸¸é«ï¼kafka æ¯åå¸å¼çï¼ä¸ä¸ªæ°æ®å¤ä¸ªå¯æ¬ï¼å°æ°æºå¨å®æºï¼ä¸ä¼ä¸¢å¤±æ°æ®ï¼ä¸ä¼å¯¼è´ä¸å¯ç¨,æ¶è´¹èé ç¨ pull æ¹å¼è·åæ¶æ¯, æ¶æ¯æåº, éè¿æ§å¶è½å¤ä¿è¯æææ¶æ¯è¢«æ¶è´¹ä¸ä»è¢«æ¶è´¹ä¸æ¬¡;æä¼ç§çç¬¬ä¸æ¹kafka web ç®¡ççé¢ kafka-managerï¼å¨æ¥å¿é¢åæ¯è¾æçï¼è¢«å¤å®¶å¬å¸åå¤ä¸ªå¼æºé¡¹ç®ä½¿ç¨ï¼åè½æ¯æï¼ åè½ è¾ä¸ºç®åï¼ä¸»è¦æ¯æç®åç mq åè½ï¼å¨å¤§æ°æ®é¢åçå®æ¶è®¡ç®ä»¥åæ¥å¿ééè¢«å¤§è§æ¨¡ä½¿ç¨\n\nç¼ºç¹ï¼kafka åæºè¶è¿ 64 ä¸ªéå/ååºï¼load ä¼åçææ¾çé£é«ç°è±¡ï¼éåè¶å¤ï¼load è¶é«ï¼åéæ¶ æ¯ååºæ¶é´åé¿ï¼ä½¿ç¨ç­è½®è¯¢æ¹å¼ï¼å®æ¶æ§åå³äºè½®è¯¢é´éæ¶é´ï¼æ¶è´¹å¤±è´¥ä¸æ¯æéè¯ï¼æ¯ææ¶æ¯é¡ºåºï¼ ä½æ¯ä¸å°ä»£çå®æºåï¼å°±ä¼äº§çæ¶æ¯ä¹±åºï¼ç¤¾åºæ´æ°è¾æ¢ï¼\n\nrocketmq\n\nrocketmq åºèªé¿éå·´å·´çå¼æºäº§åï¼ç¨ java è¯­è¨å®ç°ï¼å¨è®¾è®¡æ¶åèäº kafkaï¼å¹¶ååºäºèªå·±çä¸ äºæ¹è¿ãè¢«é¿éå·´å·´å¹¿æ³åºç¨å¨è®¢åï¼äº¤æï¼åå¼ï¼æµè®¡ç®ï¼æ¶æ¯æ¨éï¼æ¥å¿æµå¼å¤çï¼binglog ååç­åº æ¯ã\n\nä¼ç¹ï¼åæºååéåä¸çº§,å¯ç¨æ§éå¸¸é«ï¼åå¸å¼æ¶æï¼æ¶æ¯å¯ä»¥åå° 0 ä¸¢å¤±,mq åè½è¾ä¸ºå®åï¼è¿æ¯å å¸å¼çï¼æ©å±æ§å¥½,æ¯æ 10 äº¿çº§å«çæ¶æ¯å ç§¯ï¼ä¸ä¼å ä¸ºå ç§¯å¯¼è´æ§è½ä¸é,æºç æ¯ java æä»¬å¯ä»¥èªå·±é è¯»æºç ï¼å®å¶èªå·±å¬å¸ç mq\n\nç¼ºç¹ï¼æ¯æçå®¢æ·ç«¯è¯­è¨ä¸å¤ï¼ç®åæ¯ java å c++ï¼å¶ä¸­ c++ä¸æçï¼ç¤¾åºæ´»è·åº¦ä¸è¬,æ²¡æå¨mq æ ¸å¿ä¸­å»å®ç° jms ç­æ¥å£,æäºç³»ç»è¦è¿ç§»éè¦ä¿®æ¹å¤§éä»£ç \n\nrabbitmq\n\n2007 å¹´åå¸ï¼æ¯ä¸ä¸ªå¨amqp(é«çº§æ¶æ¯éååè®®)åºç¡ä¸å®æçï¼å¯å¤ç¨çä¼ä¸æ¶æ¯ç³»ç»ï¼æ¯å½åæä¸»æµçæ¶æ¯ä¸­é´ä»¶ä¹ä¸ã\n\nä¼ç¹ï¼ç±äº erlang è¯­è¨çé«å¹¶åç¹æ§ï¼æ§è½è¾å¥½ï¼ååéå°ä¸çº§ï¼mq åè½æ¯è¾å®å¤,å¥å£®ãç¨³å®ãæ ç¨ãè·¨å¹³å°ãæ¯æå¤ç§è¯­è¨ å¦ï¼pythonãrubyã.netãjavaãjmsãcãphpãactionscriptãxmppãstomp ç­ï¼æ¯æ ajax ææ¡£é½å¨ï¼å¼æºæä¾çç®¡ççé¢éå¸¸æ£ï¼ç¨èµ·æ¥å¾å¥½ç¨,ç¤¾åºæ´»è·åº¦é«ï¼æ´æ°é¢çç¸å½é«\n\nå®ç½æ´æ°ï¼https://www.rabbitmq.com/news.html\n\nç¼ºç¹ï¼åä¸çéè¦æ¶è´¹,å­¦ä¹ ææ¬è¾é«\n\n\n# mq çéæ©\n\n * kafka\n\nkafka ä¸»è¦ç¹ç¹æ¯åºäºpull çæ¨¡å¼æ¥å¤çæ¶æ¯æ¶è´¹ï¼è¿½æ±é«ååéï¼ä¸å¼å§çç®çå°±æ¯ç¨äºæ¥å¿æ¶é åä¼ è¾ï¼éåäº§çå¤§éæ°æ®çäºèç½æå¡çæ°æ®æ¶éä¸å¡ãå¤§åå¬å¸å»ºè®®å¯ä»¥éç¨ï¼å¦æææ¥å¿ééåè½ï¼ è¯å®æ¯é¦é kafka äºã\n\nå°ç¡è°·å®ç½ kafka è§é¢æç¨ï¼http://www.gulixueyuan.com/course/330/tasks\n\n * rocketmq\n\nå¤©çä¸ºéèäºèç½é¢åèçï¼å¯¹äºå¯é æ§è¦æ±å¾é«çåºæ¯ï¼å°¤å¶æ¯çµåéé¢çè®¢åæ£æ¬¾ï¼ä»¥åä¸å¡å å³°ï¼å¨å¤§éäº¤ææ¶å¥æ¶ï¼åç«¯å¯è½æ æ³åæ¶å¤ççæåµãroketmq å¨ç¨³å®æ§ä¸å¯è½æ´å¼å¾ä¿¡èµï¼è¿äºä¸å¡ åºæ¯å¨é¿éå 11 å·²ç»ç»åäºå¤æ¬¡èéªï¼å¦æä½ çä¸å¡æä¸è¿°å¹¶ååºæ¯ï¼å»ºè®®å¯ä»¥éæ© rocketmqã\n\n * rabbitmq\n\nç»å erlang è¯­è¨æ¬èº«çå¹¶åä¼å¿ï¼æ§è½å¥½æ¶ææ§å¾®ç§çº§ï¼ç¤¾åºæ´»è·åº¦ä¹æ¯è¾é«ï¼ç®¡ççé¢ç¨èµ·æ¥åå æ¹ä¾¿ï¼å¦æä½ çæ°æ®éæ²¡æé£ä¹å¤§ï¼ä¸­å°åå¬å¸ä¼åéæ©åè½æ¯è¾å®å¤ç rabbitmqã\n\n\n# rabbitmq\n\n\n# rabbitmq çæ¦å¿µ\n\nrabbitmq æ¯ä¸ä¸ªæ¶æ¯ä¸­é´ä»¶ï¼å®æ¥åå¹¶è½¬åæ¶æ¯ã\n\nä½ å¯ä»¥æå®å½åä¸ä¸ªå¿«éç«ç¹ï¼å½ä½ è¦åéä¸ä¸ªåè£¹æ¶ï¼ä½ æä½ çåè£¹æ¾å°å¿«éç«ï¼å¿«éåæç»ä¼æä½ çå¿«ééå°æ¶ä»¶äººé£éï¼æç§è¿ç§é»è¾ rabbitmq æ¯ ä¸ä¸ªå¿«éç«ï¼ä¸ä¸ªå¿«éåå¸®ä½ ä¼ éå¿«ä»¶ã\n\nrabbitmq ä¸å¿«éç«çä¸»è¦åºå«å¨äºï¼å®ä¸å¤çå¿«ä»¶èæ¯æ¥æ¶ï¼ å­å¨åè½¬åæ¶æ¯æ°æ®ã\n\n\n\nå®ç½ï¼https://www.rabbitmq.com/#features\n\n\n# åå¤§æ ¸å¿æ¦å¿µ\n\n * çäº§è\n   \n   äº§çæ°æ®åéæ¶æ¯çç¨åºæ¯çäº§è\n\n * äº¤æ¢æº\n   \n   äº¤æ¢æºæ¯ rabbitmq éå¸¸éè¦çä¸ä¸ªé¨ä»¶ï¼ä¸æ¹é¢å®æ¥æ¶æ¥èªçäº§èçæ¶æ¯ï¼å¦ä¸æ¹é¢å®å°æ¶æ¯ æ¨éå°éåä¸­ãäº¤æ¢æºå¿é¡»ç¡®åç¥éå¦ä½å¤çå®æ¥æ¶å°çæ¶æ¯ï¼æ¯å°è¿äºæ¶æ¯æ¨éå°ç¹å®éåè¿æ¯æ¨ éå°å¤ä¸ªéåï¼äº¦æèæ¯ææ¶æ¯ä¸¢å¼ï¼è¿ä¸ªå¾æäº¤æ¢æºç±»åå³å®\n\n * éå\n   \n   éåæ¯ rabbitmq åé¨ä½¿ç¨çä¸ç§æ°æ®ç»æï¼å°½ç®¡æ¶æ¯æµç» rabbitmq ååºç¨ç¨åºï¼ä½å®ä»¬åªè½å­ å¨å¨éåä¸­ãéåä»åä¸»æºçåå­åç£çéå¶ççº¦æï¼æ¬è´¨ä¸æ¯ä¸ä¸ªå¤§çæ¶æ¯ç¼å²åºãè®¸å¤çäº§èå¯ ä»¥å°æ¶æ¯åéå°ä¸ä¸ªéåï¼è®¸å¤æ¶è´¹èå¯ä»¥å°è¯ä»ä¸ä¸ªéåæ¥æ¶æ°æ®ãè¿å°±æ¯æä»¬ä½¿ç¨éåçæ¹å¼\n\n * æ¶è´¹è\n   \n   æ¶è´¹ä¸æ¥æ¶å·æç¸ä¼¼çå«ä¹ãæ¶è´¹èå¤§å¤æ¶åæ¯ä¸ä¸ªç­å¾æ¥æ¶æ¶æ¯çç¨åºãè¯·æ³¨æçäº§èï¼æ¶è´¹ èåæ¶æ¯ä¸­é´ä»¶å¾å¤æ¶åå¹¶ä¸å¨åä¸æºå¨ä¸ãåä¸ä¸ªåºç¨ç¨åºæ¢å¯ä»¥æ¯çäº§èåæ¯å¯ä»¥æ¯æ¶è´¹èã\n\n\n# åä¸ªåè¯ä»ç»\n\n\n\n * broker\n   \n   æ¥æ¶åååæ¶æ¯çåºç¨ï¼rabbitmq server å°±æ¯ message broker\n\n * virtual host\n   \n   åºäºå¤ç§æ·åå®å¨å ç´ è®¾è®¡çï¼æ amqp çåºæ¬ç»ä»¶ååå°ä¸ä¸ªèæçåç»ä¸­ï¼ç±»ä¼¼ äºç½ç»ä¸­ç namespace æ¦å¿µãå½å¤ä¸ªä¸åçç¨æ·ä½¿ç¨åä¸ä¸ª rabbitmq server æä¾çæå¡æ¶ï¼å¯ä»¥åååº å¤ä¸ª vhostï¼æ¯ä¸ªç¨æ·å¨èªå·±ç vhost åå»º exchangeï¼queue ç­\n\n * connection\n   \n   publisherï¼consumer å broker ä¹é´ç tcp è¿æ¥\n\n * channel\n   \n   å¦ææ¯ä¸æ¬¡è®¿é® rabbitmq é½å»ºç«ä¸ä¸ª connectionï¼å¨æ¶æ¯éå¤§çæ¶åå»ºç« tcp connection çå¼éå°æ¯å·¨å¤§çï¼æçä¹è¾ä½ãchannel æ¯å¨ connection åé¨å»ºç«çé»è¾è¿æ¥ï¼å¦æåºç¨ç¨ åºæ¯æå¤çº¿ç¨ï¼éå¸¸æ¯ä¸ª thread åå»ºåç¬ç channel è¿è¡éè®¯ï¼amqp method åå«äº channel id å¸®å©å®¢ æ·ç«¯å message broker è¯å« channelï¼æä»¥ channel ä¹é´æ¯å®å¨éç¦»çãchannel ä½ä¸ºè½»éçº§ç connection æå¤§åå°äºæä½ç³»ç»å»ºç« tcp connection çå¼é\n\n * exchange\n   \n   message å°è¾¾ broker çç¬¬ä¸ç«ï¼æ ¹æ®ååè§åï¼å¹éæ¥è¯¢è¡¨ä¸­ç routing keyï¼åå æ¶æ¯å° queue ä¸­å»ãå¸¸ç¨çç±»åæï¼direct (point-to-point), topic (publish-subscribe) and fanout (multicast)\n\n * queue\n   \n   æ¶æ¯æç»è¢«éå°è¿éç­å¾ consumer åèµ°\n\n * binding\n   \n   exchange å queue ä¹é´çèæè¿æ¥ï¼binding ä¸­å¯ä»¥åå« routing keyï¼binding ä¿¡æ¯è¢«ä¿ å­å° exchange ä¸­çæ¥è¯¢è¡¨ä¸­ï¼ç¨äº message çååä¾æ®",charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"RabbitMQ - å®è£",frontmatter:{title:"RabbitMQ - å®è£",date:"2021-06-26T09:10:04.000Z",permalink:"/pages/f015b1/"},regularPath:"/04.%E6%A1%86%E6%9E%B6/20.RabbitMQ/06.RabbitMQ%20-%20%E5%AE%89%E8%A3%85.html",relativePath:"04.æ¡æ¶/20.RabbitMQ/06.RabbitMQ - å®è£.md",key:"v-1be5385e",path:"/pages/f015b1/",headers:[{level:2,title:"Linuxå®è£",slug:"linuxå®è£",normalizedTitle:"linuxå®è£",charIndex:3},{level:3,title:"å®è£RabbitMQ",slug:"å®è£rabbitmq",normalizedTitle:"å®è£rabbitmq",charIndex:16},{level:3,title:"Webç®¡ççé¢åæææä½",slug:"webç®¡ççé¢åæææä½",normalizedTitle:"webç®¡ççé¢åæææä½",charIndex:32},{level:2,title:"Docker å®è£",slug:"docker-å®è£",normalizedTitle:"docker å®è£",charIndex:48}],headersStr:"Linuxå®è£ å®è£RabbitMQ Webç®¡ççé¢åæææä½ Docker å®è£",content:' * Linuxå®è£\n   * å®è£RabbitMQ\n   * Webç®¡ççé¢åæææä½\n * Docker å®è£\n\n\n# Linuxå®è£\n\n\n# å®è£RabbitMQ\n\n1ãä¸è½½\n\nå®ç½ä¸è½½å°åï¼https://www.rabbitmq.com/download.html\n\nè¿éæä»¬éæ©ççæ¬å·ï¼æ³¨æè¿ä¸¤çæ¬è¦æ±ï¼\n\n * rabbitmq-server-3.8.8-1.el7.noarch.rpm\n   \n   GitHubï¼https://github.com/rabbitmq/rabbitmq-server/releases/tag/v3.8.8\n   \n   å è½½ä¸è½½ï¼https://packagecloud.io/rabbitmq/rabbitmq-server/packages/el/7/rabbitmq-server-3.8.8-1.el7.noarch.rpm\n\n * erlang-21.3.8.21-1.el7.x86_64.rpm\n   \n   å®ç½ï¼https://www.erlang-solutions.com/downloads/\n   \n   å éï¼https://packagecloud.io/rabbitmq/erlang/packages/el/7/erlang-21.3.8.21-1.el7.x86_64.rpm\n\nRed Hat 8, CentOS 8 å modern Fedora çæ¬ï¼æ âel7â æ¿æ¢æ âel8â\n\n2ãå®è£\n\nä¸ä¼ å° /usr/local/software ç®å½ä¸(å¦ææ²¡æ software éè¦èªå·±åå»º)\n\nrpm -ivh erlang-21.3.8.21-1.el7.x86_64.rpm\nyum install socat -y\nrpm -ivh rabbitmq-server-3.8.8-1.el7.noarch.rpm\n\n\n1\n2\n3\n\n\n3ãå¯å¨\n\n# å¯å¨æå¡\nsystemctl start rabbitmq-server\n# æ¥çæå¡ç¶æ\nsystemctl status rabbitmq-server\n# å¼æºèªå¯å¨\nsystemctl enable rabbitmq-server\n# åæ­¢æå¡\nsystemctl stop rabbitmq-server\n# éå¯æå¡\nsystemctl restart rabbitmq-server\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# Webç®¡ççé¢åæææä½\n\n1ãå®è£\n\né»è®¤æåµä¸ï¼æ¯æ²¡æå®è£webç«¯çå®¢æ·ç«¯æä»¶ï¼éè¦å®è£æå¯ä»¥çæ\n\nrabbitmq-plugins enable rabbitmq_management\n\n\n1\n\n\nå®è£å®æ¯ä»¥åï¼éå¯æå¡å³å¯\n\nsystemctl restart rabbitmq-server\n\n\n1\n\n\nè®¿é® http://42.192.149.71:15672 ï¼ç¨é»è®¤è´¦å·å¯ç (guest)ç»å½ï¼åºç°æéé®é¢\n\né»è®¤æåµåªè½å¨ localhost æ¬æºä¸è®¿é®ï¼æä»¥éè¦æ·»å ä¸ä¸ªè¿ç¨ç»å½çç¨æ·\n\n2ãæ·»å ç¨æ·\n\n# åå»ºè´¦å·åå¯ç \nrabbitmqctl add_user admin 123456\n\n# è®¾ç½®ç¨æ·è§è²\nrabbitmqctl set_user_tags admin administrator\n\n# ä¸ºç¨æ·æ·»å èµæºæé\n# set_permissions [-p <vhostpath>] <user> <conf> <write> <read>\nrabbitmqctl set_permissions -p "/" admin ".*" ".*" ".*"\n# æ·»å éç½®ãåãè¯»æé\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nç¨æ·çº§å«ï¼\n\n 1. administratorï¼å¯ä»¥ç»å½æ§å¶å°ãæ¥çææä¿¡æ¯ãå¯ä»¥å¯¹ rabbitmq è¿è¡ç®¡ç\n 2. monitoringï¼çæ§è ç»å½æ§å¶å°ï¼æ¥çææä¿¡æ¯\n 3. policymakerï¼ç­ç¥å¶å®è ç»å½æ§å¶å°ï¼æå®ç­ç¥\n 4. managmentï¼æ®éç®¡çå ç»å½æ§å¶å°\n\nåæ¬¡ç»å½ï¼ç¨ admin ç¨æ·\n\néç½®å½ä»¤\n\nå³é­åºç¨çå½ä»¤ä¸ºï¼rabbitmqctl stop_app\n\næ¸é¤çå½ä»¤ä¸ºï¼rabbitmqctl reset\n\néæ°å¯å¨å½ä»¤ä¸ºï¼rabbitmqctl start_app\n\n\n# Docker å®è£\n\nå®ç½ï¼https://registry.hub.docker.com/_/rabbitmq/\n\ndocker run -id --name myrabbit -e RABBITMQ_DEFAULT_USER=admin -e RABBITMQ_DEFAULT_PASS=123456 -p 15672:15672 rabbitmq:3-management\n\n\n1\n',normalizedContent:' * linuxå®è£\n   * å®è£rabbitmq\n   * webç®¡ççé¢åæææä½\n * docker å®è£\n\n\n# linuxå®è£\n\n\n# å®è£rabbitmq\n\n1ãä¸è½½\n\nå®ç½ä¸è½½å°åï¼https://www.rabbitmq.com/download.html\n\nè¿éæä»¬éæ©ççæ¬å·ï¼æ³¨æè¿ä¸¤çæ¬è¦æ±ï¼\n\n * rabbitmq-server-3.8.8-1.el7.noarch.rpm\n   \n   githubï¼https://github.com/rabbitmq/rabbitmq-server/releases/tag/v3.8.8\n   \n   å è½½ä¸è½½ï¼https://packagecloud.io/rabbitmq/rabbitmq-server/packages/el/7/rabbitmq-server-3.8.8-1.el7.noarch.rpm\n\n * erlang-21.3.8.21-1.el7.x86_64.rpm\n   \n   å®ç½ï¼https://www.erlang-solutions.com/downloads/\n   \n   å éï¼https://packagecloud.io/rabbitmq/erlang/packages/el/7/erlang-21.3.8.21-1.el7.x86_64.rpm\n\nred hat 8, centos 8 å modern fedora çæ¬ï¼æ âel7â æ¿æ¢æ âel8â\n\n2ãå®è£\n\nä¸ä¼ å° /usr/local/software ç®å½ä¸(å¦ææ²¡æ software éè¦èªå·±åå»º)\n\nrpm -ivh erlang-21.3.8.21-1.el7.x86_64.rpm\nyum install socat -y\nrpm -ivh rabbitmq-server-3.8.8-1.el7.noarch.rpm\n\n\n1\n2\n3\n\n\n3ãå¯å¨\n\n# å¯å¨æå¡\nsystemctl start rabbitmq-server\n# æ¥çæå¡ç¶æ\nsystemctl status rabbitmq-server\n# å¼æºèªå¯å¨\nsystemctl enable rabbitmq-server\n# åæ­¢æå¡\nsystemctl stop rabbitmq-server\n# éå¯æå¡\nsystemctl restart rabbitmq-server\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# webç®¡ççé¢åæææä½\n\n1ãå®è£\n\né»è®¤æåµä¸ï¼æ¯æ²¡æå®è£webç«¯çå®¢æ·ç«¯æä»¶ï¼éè¦å®è£æå¯ä»¥çæ\n\nrabbitmq-plugins enable rabbitmq_management\n\n\n1\n\n\nå®è£å®æ¯ä»¥åï¼éå¯æå¡å³å¯\n\nsystemctl restart rabbitmq-server\n\n\n1\n\n\nè®¿é® http://42.192.149.71:15672 ï¼ç¨é»è®¤è´¦å·å¯ç (guest)ç»å½ï¼åºç°æéé®é¢\n\né»è®¤æåµåªè½å¨ localhost æ¬æºä¸è®¿é®ï¼æä»¥éè¦æ·»å ä¸ä¸ªè¿ç¨ç»å½çç¨æ·\n\n2ãæ·»å ç¨æ·\n\n# åå»ºè´¦å·åå¯ç \nrabbitmqctl add_user admin 123456\n\n# è®¾ç½®ç¨æ·è§è²\nrabbitmqctl set_user_tags admin administrator\n\n# ä¸ºç¨æ·æ·»å èµæºæé\n# set_permissions [-p <vhostpath>] <user> <conf> <write> <read>\nrabbitmqctl set_permissions -p "/" admin ".*" ".*" ".*"\n# æ·»å éç½®ãåãè¯»æé\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nç¨æ·çº§å«ï¼\n\n 1. administratorï¼å¯ä»¥ç»å½æ§å¶å°ãæ¥çææä¿¡æ¯ãå¯ä»¥å¯¹ rabbitmq è¿è¡ç®¡ç\n 2. monitoringï¼çæ§è ç»å½æ§å¶å°ï¼æ¥çææä¿¡æ¯\n 3. policymakerï¼ç­ç¥å¶å®è ç»å½æ§å¶å°ï¼æå®ç­ç¥\n 4. managmentï¼æ®éç®¡çå ç»å½æ§å¶å°\n\nåæ¬¡ç»å½ï¼ç¨ admin ç¨æ·\n\néç½®å½ä»¤\n\nå³é­åºç¨çå½ä»¤ä¸ºï¼rabbitmqctl stop_app\n\næ¸é¤çå½ä»¤ä¸ºï¼rabbitmqctl reset\n\néæ°å¯å¨å½ä»¤ä¸ºï¼rabbitmqctl start_app\n\n\n# docker å®è£\n\nå®ç½ï¼https://registry.hub.docker.com/_/rabbitmq/\n\ndocker run -id --name myrabbit -e rabbitmq_default_user=admin -e rabbitmq_default_pass=123456 -p 15672:15672 rabbitmq:3-management\n\n\n1\n',charsets:{cjk:!0},lastUpdated:"2021/09/15, 10:09:00",lastUpdatedTimestamp:1631702123e3},{title:"RabbitMQ - åå¸ç¡®è®¤",frontmatter:{title:"RabbitMQ - åå¸ç¡®è®¤",date:"2021-06-27T18:01:21.000Z",permalink:"/pages/ef9b33/"},regularPath:"/04.%E6%A1%86%E6%9E%B6/20.RabbitMQ/10.RabbitMQ%20-%20%E5%8F%91%E5%B8%83%E7%A1%AE%E8%AE%A4.html",relativePath:"04.æ¡æ¶/20.RabbitMQ/10.RabbitMQ - åå¸ç¡®è®¤.md",key:"v-ea04530c",path:"/pages/ef9b33/",headers:[{level:2,title:"åå¸ç¡®è®¤é»è¾",slug:"åå¸ç¡®è®¤é»è¾",normalizedTitle:"åå¸ç¡®è®¤é»è¾",charIndex:3},{level:2,title:"åå¸ç¡®è®¤çç­ç¥",slug:"åå¸ç¡®è®¤çç­ç¥",normalizedTitle:"åå¸ç¡®è®¤çç­ç¥",charIndex:13},{level:3,title:"åä¸ªç¡®è®¤åå¸",slug:"åä¸ªç¡®è®¤åå¸",normalizedTitle:"åä¸ªç¡®è®¤åå¸",charIndex:26},{level:3,title:"æ¹éç¡®è®¤åå¸",slug:"æ¹éç¡®è®¤åå¸",normalizedTitle:"æ¹éç¡®è®¤åå¸",charIndex:38},{level:3,title:"å¼æ­¥ç¡®è®¤åå¸",slug:"å¼æ­¥ç¡®è®¤åå¸",normalizedTitle:"å¼æ­¥ç¡®è®¤åå¸",charIndex:50}],headersStr:"åå¸ç¡®è®¤é»è¾ åå¸ç¡®è®¤çç­ç¥ åä¸ªç¡®è®¤åå¸ æ¹éç¡®è®¤åå¸ å¼æ­¥ç¡®è®¤åå¸",content:' * åå¸ç¡®è®¤é»è¾\n * åå¸ç¡®è®¤çç­ç¥\n   * åä¸ªç¡®è®¤åå¸\n   * æ¹éç¡®è®¤åå¸\n   * å¼æ­¥ç¡®è®¤åå¸\n\n\n# åå¸ç¡®è®¤é»è¾\n\nçäº§èå°ä¿¡éè®¾ç½®æ confirm æ¨¡å¼ï¼ä¸æ¦ä¿¡éè¿å¥ confirm æ¨¡å¼ï¼ææå¨è¯¥ä¿¡éä¸é¢åå¸çæ¶æ¯é½å°ä¼è¢«ææ´¾ä¸ä¸ªå¯ä¸ç ID(ä» 1 å¼å§)ï¼ä¸æ¦æ¶æ¯è¢«æéå°ææå¹éçéåä¹åï¼broker å°±ä¼åéä¸ä¸ªç¡®è®¤ç»çäº§è(åå«æ¶æ¯çå¯ä¸ ID)ï¼è¿å°±ä½¿å¾çäº§èç¥éæ¶æ¯å·²ç»æ­£ç¡®å°è¾¾ç®çéåäºï¼å¦ææ¶æ¯åéåæ¯å¯æä¹åçï¼é£ä¹ç¡®è®¤æ¶æ¯ä¼å¨å°æ¶æ¯åå¥ç£çä¹åååºï¼broker åä¼ ç»çäº§èçç¡®è®¤æ¶æ¯ä¸­ delivery-tag ååå«äºç¡®è®¤æ¶æ¯çåºåå·ï¼æ­¤å¤ broker ä¹å¯ä»¥è®¾ç½®basic.ack ç multiple åï¼è¡¨ç¤ºå°è¿ä¸ªåºåå·ä¹åçæææ¶æ¯é½å·²ç»å¾å°äºå¤çã\n\nconfirm æ¨¡å¼æå¤§çå¥½å¤å¨äºä»æ¯å¼æ­¥çï¼ä¸æ¦åå¸ä¸æ¡æ¶æ¯ï¼çäº§èåºç¨ç¨åºå°±å¯ä»¥å¨ç­ä¿¡éè¿åç¡®è®¤çåæ¶ç»§ç»­åéä¸ä¸æ¡æ¶æ¯ï¼å½æ¶æ¯æç»å¾å°ç¡®è®¤ä¹åï¼çäº§èåºç¨ä¾¿å¯ä»¥éè¿åè°æ¹æ³æ¥å¤çè¯¥ç¡®è®¤æ¶æ¯ï¼å¦æRabbitMQ å ä¸ºèªèº«åé¨éè¯¯å¯¼è´æ¶æ¯ä¸¢å¤±ï¼å°±ä¼åéä¸æ¡ nack æ¶æ¯ï¼ çäº§èåºç¨ç¨åºåæ ·å¯ä»¥å¨åè°æ¹æ³ä¸­å¤çè¯¥ nack æ¶æ¯ã\n\n\n# åå¸ç¡®è®¤çç­ç¥\n\nå¼å¯åå¸ç¡®è®¤çæ¹æ³:\n\nåå¸ç¡®è®¤é»è®¤æ¯æ²¡æå¼å¯çï¼å¦æè¦å¼å¯éè¦è°ç¨æ¹æ³ confirmSelectï¼æ¯å½ä½ è¦æ³ä½¿ç¨åå¸ç¡®è®¤ï¼é½éè¦å¨ channel ä¸è°ç¨è¯¥æ¹æ³\n\n//å¼å¯åå¸ç¡®è®¤\nchannel.confirmSelect();\n\n\n1\n2\n\n\n\n# åä¸ªç¡®è®¤åå¸\n\nè¿æ¯ä¸ç§ç®åçç¡®è®¤æ¹å¼ï¼å®æ¯ä¸ç§åæ­¥ç¡®è®¤åå¸çæ¹å¼ï¼ä¹å°±æ¯åå¸ä¸ä¸ªæ¶æ¯ä¹ååªæå®è¢«ç¡®è®¤åå¸ï¼åç»­çæ¶æ¯æè½ç»§ç»­åå¸ï¼waitForConfirmsOrDie(long) è¿ä¸ªæ¹æ³åªæå¨æ¶æ¯è¢«ç¡®è®¤çæ¶åæè¿åï¼å¦æå¨æå®æ¶é´èå´åè¿ä¸ªæ¶æ¯æ²¡æè¢«ç¡®è®¤é£ä¹å®å°æåºå¼å¸¸ã\n\nè¿ç§ç¡®è®¤æ¹å¼æä¸ä¸ªæå¤§çç¼ºç¹å°±æ¯ï¼åå¸éåº¦ç¹å«çæ¢ï¼å ä¸ºå¦ææ²¡æç¡®è®¤åå¸çæ¶æ¯å°±ä¼é»å¡ææåç»­æ¶æ¯çåå¸ï¼è¿ç§æ¹å¼æå¤æä¾æ¯ç§ä¸è¶è¿æ°ç¾æ¡åå¸æ¶æ¯çååéãå½ç¶å¯¹äºæäºåºç¨ç¨åºæ¥è¯´è¿å¯è½å·²ç»è¶³å¤äºã\n\n/**\n * åä¸ªåé\n */\npublic static void publishMessageIndividually() throws Exception {\n    Channel channel = RabbitMqUtils.getChannel();\n    //éåå£°æ\n    String queueName = UUID.randomUUID().toString();\n    channel.queueDeclare(queueName, true, false, false, null);\n    //å¼å¯åå¸ç¡®è®¤\n    channel.confirmSelect();\n\n    long begin = System.currentTimeMillis();\n\n    for (int i = 0; i < MESSAGE_COUNT; i++) {\n        String message = i + "";\n        channel.basicPublish("", queueName, null, message.getBytes());\n        //æå¡ç«¯è¿å false æè¶æ¶æ¶é´åæªè¿åï¼çäº§èå¯ä»¥æ¶æ¯éå\n        boolean flag = channel.waitForConfirms();\n        if (flag) {\n            System.out.println("æ¶æ¯åéæå");\n        }\n    }\n\n    long end = System.currentTimeMillis();\n    System.out.println("åå¸" + MESSAGE_COUNT + "ä¸ªåç¬ç¡®è®¤æ¶æ¯,èæ¶" + (end - begin) + "ms");\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n\n# æ¹éç¡®è®¤åå¸\n\nä¸é¢é£ç§æ¹å¼éå¸¸æ¢ï¼ä¸åä¸ªç­å¾ç¡®è®¤æ¶æ¯ç¸æ¯ï¼ååå¸ä¸æ¹æ¶æ¯ç¶åä¸èµ·ç¡®è®¤å¯ä»¥æå¤§å°æé«ååéï¼å½ç¶è¿ç§æ¹å¼çç¼ºç¹å°±æ¯ï¼å½åçæéå¯¼è´åå¸åºç°é®é¢æ¶ï¼ä¸ç¥éæ¯åªä¸ªæ¶æ¯åº é®é¢äºï¼æä»¬å¿é¡»å°æ´ä¸ªæ¹å¤çä¿å­å¨åå­ä¸­ï¼ä»¥è®°å½éè¦çä¿¡æ¯èåéæ°åå¸æ¶æ¯ãå½ç¶è¿ç§æ¹æ¡ä»ç¶æ¯åæ­¥çï¼ä¹ä¸æ ·é»å¡æ¶æ¯çåå¸ã\n\n/**\n * æ¹é\n */\npublic static void publishMessageBatch() throws Exception {\n    Channel channel = RabbitMqUtils.getChannel();\n    //éåå£°æ\n    String queueName = UUID.randomUUID().toString();\n    channel.queueDeclare(queueName, true, false, false, null);\n    //å¼å¯åå¸ç¡®è®¤\n    channel.confirmSelect();\n    //æ¹éç¡®è®¤æ¶æ¯å¤§å°\n    int batchSize = 100;\n    //æªç¡®è®¤æ¶æ¯ä¸ªæ°\n    int outstandingMessageCount = 0;\n    long begin = System.currentTimeMillis();\n\n    for (int i = 0; i < MESSAGE_COUNT; i++) {\n        String message = i + "";\n        channel.basicPublish("", queueName, null, message.getBytes());\n        outstandingMessageCount++;\n        if (outstandingMessageCount == batchSize) {\n            channel.waitForConfirms();\n            outstandingMessageCount = 0;\n        }\n    }\n    //ä¸ºäºç¡®ä¿è¿æå©ä½æ²¡æç¡®è®¤æ¶æ¯ åæ¬¡ç¡®è®¤\n    if (outstandingMessageCount > 0) {\n        channel.waitForConfirms();\n    }\n    long end = System.currentTimeMillis();\n    System.out.println("åå¸" + MESSAGE_COUNT + "ä¸ªæ¹éç¡®è®¤æ¶æ¯,èæ¶" + (end - begin) + "ms");\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n\n# å¼æ­¥ç¡®è®¤åå¸\n\nå¼æ­¥ç¡®è®¤è½ç¶ç¼ç¨é»è¾æ¯ä¸ä¸¤ä¸ªè¦å¤æï¼ä½æ¯æ§ä»·æ¯æé«ï¼æ è®ºæ¯å¯é æ§è¿æ¯æçé½æ²¡å¾è¯´ï¼ ä»æ¯å©ç¨åè°å½æ°æ¥è¾¾å°æ¶æ¯å¯é æ§ä¼ éçï¼è¿ä¸ªä¸­é´ä»¶ä¹æ¯éè¿å½æ°åè°æ¥ä¿è¯æ¯å¦æéæåï¼ ä¸é¢å°±è®©æä»¬æ¥è¯¦ç»è®²è§£å¼æ­¥ç¡®è®¤æ¯æä¹å®ç°çã\n\n\n\nå¦ä½å¤çå¼æ­¥æªç¡®è®¤æ¶æ¯?\n\næå¥½çè§£å³çè§£å³æ¹æ¡å°±æ¯ææªç¡®è®¤çæ¶æ¯æ¾å°ä¸ä¸ªåºäºåå­çè½è¢«åå¸çº¿ç¨è®¿é®çéåï¼ æ¯å¦è¯´ç¨ ConcurrentLinkedQueue è¿ä¸ªéåå¨ confirm callbacks ä¸åå¸çº¿ç¨ä¹é´è¿è¡æ¶æ¯çä¼ éã\n\nä»¥ä¸ 3 ç§åå¸ç¡®è®¤éåº¦å¯¹æ¯ :\n\n * åç¬åå¸æ¶æ¯\n   \n   åæ­¥ç­å¾ç¡®è®¤ï¼ç®åï¼ä½ååééå¸¸æéã\n\n * æ¹éåå¸æ¶æ¯\n   \n   æ¹éåæ­¥ç­å¾ç¡®è®¤ï¼ç®åï¼åççååéï¼ä¸æ¦åºç°é®é¢ä½å¾é¾æ¨æ­åºæ¯é£æ¡æ¶æ¯åºç°äºé®é¢ã\n\n * å¼æ­¥å¤ç\n   \n   æä½³æ§è½åèµæºä½¿ç¨ï¼å¨åºç°éè¯¯çæåµä¸å¯ä»¥å¾å¥½å°æ§å¶ï¼ä½æ¯å®ç°èµ·æ¥ç¨å¾®é¾äº',normalizedContent:' * åå¸ç¡®è®¤é»è¾\n * åå¸ç¡®è®¤çç­ç¥\n   * åä¸ªç¡®è®¤åå¸\n   * æ¹éç¡®è®¤åå¸\n   * å¼æ­¥ç¡®è®¤åå¸\n\n\n# åå¸ç¡®è®¤é»è¾\n\nçäº§èå°ä¿¡éè®¾ç½®æ confirm æ¨¡å¼ï¼ä¸æ¦ä¿¡éè¿å¥ confirm æ¨¡å¼ï¼ææå¨è¯¥ä¿¡éä¸é¢åå¸çæ¶æ¯é½å°ä¼è¢«ææ´¾ä¸ä¸ªå¯ä¸ç id(ä» 1 å¼å§)ï¼ä¸æ¦æ¶æ¯è¢«æéå°ææå¹éçéåä¹åï¼broker å°±ä¼åéä¸ä¸ªç¡®è®¤ç»çäº§è(åå«æ¶æ¯çå¯ä¸ id)ï¼è¿å°±ä½¿å¾çäº§èç¥éæ¶æ¯å·²ç»æ­£ç¡®å°è¾¾ç®çéåäºï¼å¦ææ¶æ¯åéåæ¯å¯æä¹åçï¼é£ä¹ç¡®è®¤æ¶æ¯ä¼å¨å°æ¶æ¯åå¥ç£çä¹åååºï¼broker åä¼ ç»çäº§èçç¡®è®¤æ¶æ¯ä¸­ delivery-tag ååå«äºç¡®è®¤æ¶æ¯çåºåå·ï¼æ­¤å¤ broker ä¹å¯ä»¥è®¾ç½®basic.ack ç multiple åï¼è¡¨ç¤ºå°è¿ä¸ªåºåå·ä¹åçæææ¶æ¯é½å·²ç»å¾å°äºå¤çã\n\nconfirm æ¨¡å¼æå¤§çå¥½å¤å¨äºä»æ¯å¼æ­¥çï¼ä¸æ¦åå¸ä¸æ¡æ¶æ¯ï¼çäº§èåºç¨ç¨åºå°±å¯ä»¥å¨ç­ä¿¡éè¿åç¡®è®¤çåæ¶ç»§ç»­åéä¸ä¸æ¡æ¶æ¯ï¼å½æ¶æ¯æç»å¾å°ç¡®è®¤ä¹åï¼çäº§èåºç¨ä¾¿å¯ä»¥éè¿åè°æ¹æ³æ¥å¤çè¯¥ç¡®è®¤æ¶æ¯ï¼å¦ærabbitmq å ä¸ºèªèº«åé¨éè¯¯å¯¼è´æ¶æ¯ä¸¢å¤±ï¼å°±ä¼åéä¸æ¡ nack æ¶æ¯ï¼ çäº§èåºç¨ç¨åºåæ ·å¯ä»¥å¨åè°æ¹æ³ä¸­å¤çè¯¥ nack æ¶æ¯ã\n\n\n# åå¸ç¡®è®¤çç­ç¥\n\nå¼å¯åå¸ç¡®è®¤çæ¹æ³:\n\nåå¸ç¡®è®¤é»è®¤æ¯æ²¡æå¼å¯çï¼å¦æè¦å¼å¯éè¦è°ç¨æ¹æ³ confirmselectï¼æ¯å½ä½ è¦æ³ä½¿ç¨åå¸ç¡®è®¤ï¼é½éè¦å¨ channel ä¸è°ç¨è¯¥æ¹æ³\n\n//å¼å¯åå¸ç¡®è®¤\nchannel.confirmselect();\n\n\n1\n2\n\n\n\n# åä¸ªç¡®è®¤åå¸\n\nè¿æ¯ä¸ç§ç®åçç¡®è®¤æ¹å¼ï¼å®æ¯ä¸ç§åæ­¥ç¡®è®¤åå¸çæ¹å¼ï¼ä¹å°±æ¯åå¸ä¸ä¸ªæ¶æ¯ä¹ååªæå®è¢«ç¡®è®¤åå¸ï¼åç»­çæ¶æ¯æè½ç»§ç»­åå¸ï¼waitforconfirmsordie(long) è¿ä¸ªæ¹æ³åªæå¨æ¶æ¯è¢«ç¡®è®¤çæ¶åæè¿åï¼å¦æå¨æå®æ¶é´èå´åè¿ä¸ªæ¶æ¯æ²¡æè¢«ç¡®è®¤é£ä¹å®å°æåºå¼å¸¸ã\n\nè¿ç§ç¡®è®¤æ¹å¼æä¸ä¸ªæå¤§çç¼ºç¹å°±æ¯ï¼åå¸éåº¦ç¹å«çæ¢ï¼å ä¸ºå¦ææ²¡æç¡®è®¤åå¸çæ¶æ¯å°±ä¼é»å¡ææåç»­æ¶æ¯çåå¸ï¼è¿ç§æ¹å¼æå¤æä¾æ¯ç§ä¸è¶è¿æ°ç¾æ¡åå¸æ¶æ¯çååéãå½ç¶å¯¹äºæäºåºç¨ç¨åºæ¥è¯´è¿å¯è½å·²ç»è¶³å¤äºã\n\n/**\n * åä¸ªåé\n */\npublic static void publishmessageindividually() throws exception {\n    channel channel = rabbitmqutils.getchannel();\n    //éåå£°æ\n    string queuename = uuid.randomuuid().tostring();\n    channel.queuedeclare(queuename, true, false, false, null);\n    //å¼å¯åå¸ç¡®è®¤\n    channel.confirmselect();\n\n    long begin = system.currenttimemillis();\n\n    for (int i = 0; i < message_count; i++) {\n        string message = i + "";\n        channel.basicpublish("", queuename, null, message.getbytes());\n        //æå¡ç«¯è¿å false æè¶æ¶æ¶é´åæªè¿åï¼çäº§èå¯ä»¥æ¶æ¯éå\n        boolean flag = channel.waitforconfirms();\n        if (flag) {\n            system.out.println("æ¶æ¯åéæå");\n        }\n    }\n\n    long end = system.currenttimemillis();\n    system.out.println("åå¸" + message_count + "ä¸ªåç¬ç¡®è®¤æ¶æ¯,èæ¶" + (end - begin) + "ms");\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n\n# æ¹éç¡®è®¤åå¸\n\nä¸é¢é£ç§æ¹å¼éå¸¸æ¢ï¼ä¸åä¸ªç­å¾ç¡®è®¤æ¶æ¯ç¸æ¯ï¼ååå¸ä¸æ¹æ¶æ¯ç¶åä¸èµ·ç¡®è®¤å¯ä»¥æå¤§å°æé«ååéï¼å½ç¶è¿ç§æ¹å¼çç¼ºç¹å°±æ¯ï¼å½åçæéå¯¼è´åå¸åºç°é®é¢æ¶ï¼ä¸ç¥éæ¯åªä¸ªæ¶æ¯åº é®é¢äºï¼æä»¬å¿é¡»å°æ´ä¸ªæ¹å¤çä¿å­å¨åå­ä¸­ï¼ä»¥è®°å½éè¦çä¿¡æ¯èåéæ°åå¸æ¶æ¯ãå½ç¶è¿ç§æ¹æ¡ä»ç¶æ¯åæ­¥çï¼ä¹ä¸æ ·é»å¡æ¶æ¯çåå¸ã\n\n/**\n * æ¹é\n */\npublic static void publishmessagebatch() throws exception {\n    channel channel = rabbitmqutils.getchannel();\n    //éåå£°æ\n    string queuename = uuid.randomuuid().tostring();\n    channel.queuedeclare(queuename, true, false, false, null);\n    //å¼å¯åå¸ç¡®è®¤\n    channel.confirmselect();\n    //æ¹éç¡®è®¤æ¶æ¯å¤§å°\n    int batchsize = 100;\n    //æªç¡®è®¤æ¶æ¯ä¸ªæ°\n    int outstandingmessagecount = 0;\n    long begin = system.currenttimemillis();\n\n    for (int i = 0; i < message_count; i++) {\n        string message = i + "";\n        channel.basicpublish("", queuename, null, message.getbytes());\n        outstandingmessagecount++;\n        if (outstandingmessagecount == batchsize) {\n            channel.waitforconfirms();\n            outstandingmessagecount = 0;\n        }\n    }\n    //ä¸ºäºç¡®ä¿è¿æå©ä½æ²¡æç¡®è®¤æ¶æ¯ åæ¬¡ç¡®è®¤\n    if (outstandingmessagecount > 0) {\n        channel.waitforconfirms();\n    }\n    long end = system.currenttimemillis();\n    system.out.println("åå¸" + message_count + "ä¸ªæ¹éç¡®è®¤æ¶æ¯,èæ¶" + (end - begin) + "ms");\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n\n# å¼æ­¥ç¡®è®¤åå¸\n\nå¼æ­¥ç¡®è®¤è½ç¶ç¼ç¨é»è¾æ¯ä¸ä¸¤ä¸ªè¦å¤æï¼ä½æ¯æ§ä»·æ¯æé«ï¼æ è®ºæ¯å¯é æ§è¿æ¯æçé½æ²¡å¾è¯´ï¼ ä»æ¯å©ç¨åè°å½æ°æ¥è¾¾å°æ¶æ¯å¯é æ§ä¼ éçï¼è¿ä¸ªä¸­é´ä»¶ä¹æ¯éè¿å½æ°åè°æ¥ä¿è¯æ¯å¦æéæåï¼ ä¸é¢å°±è®©æä»¬æ¥è¯¦ç»è®²è§£å¼æ­¥ç¡®è®¤æ¯æä¹å®ç°çã\n\n\n\nå¦ä½å¤çå¼æ­¥æªç¡®è®¤æ¶æ¯?\n\næå¥½çè§£å³çè§£å³æ¹æ¡å°±æ¯ææªç¡®è®¤çæ¶æ¯æ¾å°ä¸ä¸ªåºäºåå­çè½è¢«åå¸çº¿ç¨è®¿é®çéåï¼ æ¯å¦è¯´ç¨ concurrentlinkedqueue è¿ä¸ªéåå¨ confirm callbacks ä¸åå¸çº¿ç¨ä¹é´è¿è¡æ¶æ¯çä¼ éã\n\nä»¥ä¸ 3 ç§åå¸ç¡®è®¤éåº¦å¯¹æ¯ :\n\n * åç¬åå¸æ¶æ¯\n   \n   åæ­¥ç­å¾ç¡®è®¤ï¼ç®åï¼ä½ååééå¸¸æéã\n\n * æ¹éåå¸æ¶æ¯\n   \n   æ¹éåæ­¥ç­å¾ç¡®è®¤ï¼ç®åï¼åççååéï¼ä¸æ¦åºç°é®é¢ä½å¾é¾æ¨æ­åºæ¯é£æ¡æ¶æ¯åºç°äºé®é¢ã\n\n * å¼æ­¥å¤ç\n   \n   æä½³æ§è½åèµæºä½¿ç¨ï¼å¨åºç°éè¯¯çæåµä¸å¯ä»¥å¾å¥½å°æ§å¶ï¼ä½æ¯å®ç°èµ·æ¥ç¨å¾®é¾äº',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"RabbitMQ - äº¤æ¢æº",frontmatter:{title:"RabbitMQ - äº¤æ¢æº",date:"2021-06-27T20:29:00.000Z",permalink:"/pages/c9c254/"},regularPath:"/04.%E6%A1%86%E6%9E%B6/20.RabbitMQ/12.RabbitMQ%20-%20%E4%BA%A4%E6%8D%A2%E6%9C%BA.html",relativePath:"04.æ¡æ¶/20.RabbitMQ/12.RabbitMQ - äº¤æ¢æº.md",key:"v-32fb0c7e",path:"/pages/c9c254/",headers:[{level:2,title:"Exchanges",slug:"exchanges",normalizedTitle:"exchanges",charIndex:3},{level:2,title:"ä¸´æ¶éå",slug:"ä¸´æ¶éå",normalizedTitle:"ä¸´æ¶éå",charIndex:16},{level:2,title:"ç»å® bindings",slug:"ç»å®-bindings",normalizedTitle:"ç»å® bindings",charIndex:24},{level:2,title:"Fanout exchange",slug:"fanout-exchange",normalizedTitle:"fanout exchange",charIndex:39},{level:3,title:"Fanout ä»ç»",slug:"fanout-ä»ç»",normalizedTitle:"fanout ä»ç»",charIndex:60},{level:3,title:"Fanout å®æ",slug:"fanout-å®æ",normalizedTitle:"fanout å®æ",charIndex:75},{level:2,title:"Direct exchange",slug:"direct-exchange",normalizedTitle:"direct exchange",charIndex:88},{level:3,title:"Direct ä»ç»",slug:"direct-ä»ç»",normalizedTitle:"direct ä»ç»",charIndex:109},{level:3,title:"å¤éç»å®",slug:"å¤éç»å®",normalizedTitle:"å¤éç»å®",charIndex:124},{level:3,title:"Direct å®æ",slug:"direct-å®æ",normalizedTitle:"direct å®æ",charIndex:134},{level:2,title:"Topics exchange",slug:"topics-exchange",normalizedTitle:"topics exchange",charIndex:147},{level:3,title:"Topic çä»ç»",slug:"topic-çä»ç»",normalizedTitle:"topic çä»ç»",charIndex:168},{level:3,title:"Topic å¹éæ¡ä¾",slug:"topic-å¹éæ¡ä¾",normalizedTitle:"topic å¹éæ¡ä¾",charIndex:183},{level:3,title:"Topic å®æ",slug:"topic-å®æ",normalizedTitle:"topic å®æ",charIndex:199}],headersStr:"Exchanges ä¸´æ¶éå ç»å® bindings Fanout exchange Fanout ä»ç» Fanout å®æ Direct exchange Direct ä»ç» å¤éç»å® Direct å®æ Topics exchange Topic çä»ç» Topic å¹éæ¡ä¾ Topic å®æ",content:' * Exchanges\n * ä¸´æ¶éå\n * ç»å® bindings\n * Fanout exchange\n   * Fanout ä»ç»\n   * Fanout å®æ\n * Direct exchange\n   * Direct ä»ç»\n   * å¤éç»å®\n   * Direct å®æ\n * Topics exchange\n   * Topic çä»ç»\n   * Topic å¹éæ¡ä¾\n   * Topic å®æ\n\nå¨ä¸ä¸èä¸­ï¼æä»¬åå»ºäºä¸ä¸ªå·¥ä½éåãæä»¬åè®¾çæ¯å·¥ä½éåèåï¼æ¯ä¸ªä»»å¡é½æ°å¥½äº¤ä»ç»ä¸ä¸ªæ¶è´¹è(å·¥ä½è¿ç¨)ãå¨è¿ä¸é¨åä¸­ï¼æä»¬å°åä¸äºå®å¨ä¸åçäºæ-æä»¬å°æ¶æ¯ä¼ è¾¾ç»å¤ä¸ªæ¶è´¹èãè¿ç§æ¨¡å¼ ç§°ä¸º âåå¸/è®¢éâã\n\n\n# Exchanges\n\nRabbitMQ æ¶æ¯ä¼ éæ¨¡åçæ ¸å¿ææ³æ¯: çäº§èçäº§çæ¶æ¯ä»ä¸ä¼ç´æ¥åéå°éåãå®éä¸ï¼éå¸¸çäº§èçè³é½ä¸ç¥éè¿äºæ¶æ¯ä¼ éä¼ éå°äºåªäºéåä¸­ã\n\nç¸åï¼çäº§èåªè½å°æ¶æ¯åéå°äº¤æ¢æº(exchange)ï¼äº¤æ¢æºå·¥ä½çåå®¹éå¸¸ç®åï¼ä¸æ¹é¢å®æ¥æ¶æ¥èªçäº§èçæ¶æ¯ï¼å¦ä¸æ¹é¢å°å®ä»¬æ¨å¥éåãäº¤æ¢æºå¿é¡»ç¡®åç¥éå¦ä½å¤çæ¶å°çæ¶æ¯ãæ¯åºè¯¥æè¿äºæ¶æ¯æ¾å°ç¹å®éåè¿æ¯è¯´æä»ä»¬å°è®¸å¤éåä¸­è¿æ¯è¯´åºè¯¥ä¸¢å¼å®ä»¬ãè¿å°±çç±äº¤æ¢æºçç±»åæ¥å³å®ã\n\n\n\nExchanges çç±»åï¼\n\nç´æ¥(direct), ä¸»é¢(topic) ,æ é¢(headers) , æåº(fanout)\n\næ åexchangeï¼\n\nå¨åé¢é¨åæä»¬å¯¹ exchange ä¸æ æç¥ï¼ä½ä»ç¶è½å¤å°æ¶æ¯åéå°éåãä¹åè½å®ç°ç åå æ¯å ä¸ºæä»¬ä½¿ç¨çæ¯é»è®¤äº¤æ¢ï¼æä»¬éè¿ç©ºå­ç¬¦ä¸²(ââ)è¿è¡æ è¯ã\n\n\n\nç¬¬ä¸ä¸ªåæ°æ¯äº¤æ¢æºçåç§°ãç©ºå­ç¬¦ä¸²è¡¨ç¤ºé»è®¤ææ åç§°äº¤æ¢æºï¼æ¶æ¯è½è·¯ç±åéå°éåä¸­å¶å®æ¯ç± routingKey(bindingkey)ç»å® key æå®çï¼å¦æå®å­å¨çè¯\n\n\n# ä¸´æ¶éå\n\nä¹åçç« èæä»¬ä½¿ç¨çæ¯å·æç¹å®åç§°çéå(è¿è®°å¾ hello å ack_queue åï¼)ãéåçåç§°æä»¬æ¥è¯´è³å³éè¦ï¼æä»¬éè¦æå®æä»¬çæ¶è´¹èå»æ¶è´¹åªä¸ªéåçæ¶æ¯ã\n\næ¯å½æä»¬è¿æ¥å° Rabbit æ¶ï¼æä»¬é½éè¦ä¸ä¸ªå¨æ°çç©ºéåï¼ä¸ºæ­¤æä»¬å¯ä»¥åå»ºä¸ä¸ªå·æéæºåç§°çéåï¼æèè½è®©æå¡å¨ä¸ºæä»¬éæ©ä¸ä¸ªéæºéååç§°é£å°±æ´å¥½äºãå¶æ¬¡ä¸æ¦æä»¬æ­å¼äºæ¶è´¹èçè¿æ¥ï¼éåå°è¢«èªå¨å é¤ã\n\nåå»ºä¸´æ¶éåçæ¹å¼å¦ä¸:\n\nString queueName = channel.queueDeclare().getQueue();\n\n\n1\n\n\n\n\n\n# ç»å® bindings\n\nä»ä¹æ¯ bingding å¢ï¼binding å¶å®æ¯ exchange å queue ä¹é´çæ¡¥æ¢ï¼å®åè¯æä»¬ exchange åé£ä¸ªéåè¿è¡äºç»å®å³ç³»ãæ¯å¦è¯´ä¸é¢è¿å¼ å¾åè¯æä»¬çå°±æ¯ X ä¸ Q1 å Q2 è¿è¡äºç»å®\n\n\n\n\n\n\n# Fanout exchange\n\n\n# Fanout ä»ç»\n\nFanout è¿ç§ç±»åéå¸¸ç®åãæ­£å¦ä»åç§°ä¸­çå°çé£æ ·ï¼å®æ¯å°æ¥æ¶å°çæææ¶æ¯å¹¿æ­å°å®ç¥éç ææéåä¸­ãç³»ç»ä¸­é»è®¤æäº exchange ç±»å\n\n\n\n\n# Fanout å®æ\n\n\n\nLogs åä¸´æ¶éåçç»å®å³ç³»å¦ä¸å¾\n\n\n\nä¸ºäºè¯´æè¿ç§æ¨¡å¼ï¼æä»¬å°æå»ºä¸ä¸ªç®åçæ¥å¿ç³»ç»ãå®å°ç±ä¸¤ä¸ªç¨åºç»æ:ç¬¬ä¸ä¸ªç¨åºå°ååºæ¥å¿æ¶ æ¯ï¼ç¬¬äºä¸ªç¨åºæ¯æ¶è´¹èãå¶ä¸­æä»¬ä¼å¯å¨ä¸¤ä¸ªæ¶è´¹èï¼å¶ä¸­ä¸ä¸ªæ¶è´¹èæ¥æ¶å°æ¶æ¯åææ¥å¿å­å¨å¨ç£çï¼\n\nReceiveLogs01 å°æ¥æ¶å°çæ¶æ¯æå°å¨æ§å¶å°\n\npackage com.oddfar.five;\n\nimport com.oddfar.utils.RabbitMqUtils;\nimport com.rabbitmq.client.Channel;\nimport com.rabbitmq.client.DeliverCallback;\n\n/**\n * @author zhiyuan\n */\npublic class ReceiveLogs01 {\n    private static final String EXCHANGE_NAME = "logs";\n\n    public static void main(String[] args) throws Exception {\n\n        Channel channel = RabbitMqUtils.getChannel();\n        channel.exchangeDeclare(EXCHANGE_NAME, "fanout");\n        /**\n         * çæä¸ä¸ªä¸´æ¶çéå éåçåç§°æ¯éæºç\n         * å½æ¶è´¹èæ­å¼åè¯¥éåçè¿æ¥æ¶ éåèªå¨å é¤\n         */\n        String queueName = channel.queueDeclare().getQueue();\n        //æè¯¥ä¸´æ¶éåç»å®æä»¬ç exchange å¶ä¸­ routingkey(ä¹ç§°ä¹ä¸º binding key)ä¸ºç©ºå­ç¬¦ä¸²\n        channel.queueBind(queueName, EXCHANGE_NAME, "");\n        System.out.println("ç­å¾æ¥æ¶æ¶æ¯,ææ¥æ¶å°çæ¶æ¯æå°å¨å±å¹........... ");\n\n        //åéåè°\n        DeliverCallback deliverCallback = (consumerTag, delivery) -> {\n            String message = new String(delivery.getBody(), "UTF-8");\n            System.out.println("æ§å¶å°æå°æ¥æ¶å°çæ¶æ¯" + message);\n        };\n        channel.basicConsume(queueName, true, deliverCallback, consumerTag -> {});\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\nReceiveLogs02 ææ¶æ¯ååºå°æä»¶\n\npublic class ReceiveLogs02 {\n    private static final String EXCHANGE_NAME = "logs";\n\n    public static void main(String[] args) throws Exception {\n\n        Channel channel = RabbitMqUtils.getChannel();\n        channel.exchangeDeclare(EXCHANGE_NAME, "fanout");\n        /**\n         * çæä¸ä¸ªä¸´æ¶çéå éåçåç§°æ¯éæºç\n         * å½æ¶è´¹èæ­å¼åè¯¥éåçè¿æ¥æ¶ éåèªå¨å é¤\n         */\n        String queueName = channel.queueDeclare().getQueue();\n        //æè¯¥ä¸´æ¶éåç»å®æä»¬ç exchange å¶ä¸­ routingkey(ä¹ç§°ä¹ä¸º binding key)ä¸ºç©ºå­ç¬¦ä¸²\n        channel.queueBind(queueName, EXCHANGE_NAME, "");\n        System.out.println("ç­å¾æ¥æ¶æ¶æ¯,ææ¥æ¶å°çæ¶æ¯åå°æä»¶........... ");\n\n        //åéåè°\n        DeliverCallback deliverCallback = (consumerTag, delivery) -> {\n            String message = new String(delivery.getBody(), "UTF-8");\n            File file = new File("D:\\\\test\\\\rabbitmq_info.txt");\n            FileUtils.writeStringToFile(file,message,"UTF-8");\n            System.out.println("æ°æ®åå¥æä»¶æå");\n        };\n        channel.basicConsume(queueName, true, deliverCallback, consumerTag -> {});\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\nEmitLog åéæ¶æ¯ç»ä¸¤ä¸ªæ¶è´¹èæ¥æ¶ï¼\n\npublic class EmitLog {\n    private static final String EXCHANGE_NAME = "logs";\n\n    public static void main(String[] args) throws Exception {\n        Channel channel = RabbitMqUtils.getChannel();\n\n        /**\n         * å£°æä¸ä¸ª exchange\n         * 1.exchange çåç§°\n         * 2.exchange çç±»å\n         */\n        channel.exchangeDeclare(EXCHANGE_NAME, "fanout");\n        Scanner sc = new Scanner(System.in);\n        System.out.println("è¯·è¾å¥ä¿¡æ¯");\n        while (sc.hasNext()) {\n            String message = sc.nextLine();\n            channel.basicPublish(EXCHANGE_NAME, "", null, message.getBytes("UTF-8"));\n            System.out.println("çäº§èååºæ¶æ¯" + message);\n        }\n    }\n    \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# Direct exchange\n\nå¨ä¸ä¸èä¸­ï¼æä»¬æå»ºäºä¸ä¸ªç®åçæ¥å¿è®°å½ç³»ç»ãæä»¬è½å¤åè®¸å¤æ¥æ¶èå¹¿æ­æ¥å¿æ¶æ¯ãå¨æ¬èæä»¬å°åå¶ä¸­æ·»å ä¸äºç¹å«çåè½ââè®©æä¸ªæ¶è´¹èè®¢éåå¸çé¨åæ¶æ¯ãä¾å¦æä»¬åªæä¸¥ééè¯¯æ¶æ¯å®åå­å¨å°æ¥å¿æä»¶(ä»¥èçç£çç©ºé´)ï¼åæ¶ä»ç¶è½å¤å¨æ§å¶å°ä¸æå°æææ¥å¿æ¶æ¯ã\n\næä»¬åæ¬¡æ¥åé¡¾ä¸ä¸ä»ä¹æ¯ bindingsï¼ç»å®æ¯äº¤æ¢æºåéåä¹é´çæ¡¥æ¢å³ç³»ãä¹å¯ä»¥è¿ä¹çè§£ï¼ éååªå¯¹å®ç»å®çäº¤æ¢æºçæ¶æ¯æå´è¶£ãç»å®ç¨åæ°ï¼routingKey æ¥è¡¨ç¤ºä¹å¯ç§°è¯¥åæ°ä¸º binding keyï¼ åå»ºç»å®æä»¬ç¨ä»£ç :channel.queueBind(queueName, EXCHANGE_NAME, "routingKey");\n\nç»å®ä¹åçæä¹ç±å¶äº¤æ¢ç±»åå³å®ã\n\n\n# Direct ä»ç»\n\nä¸ä¸èä¸­çæä»¬çæ¥å¿ç³»ç»å°æææ¶æ¯å¹¿æ­ç»æææ¶è´¹èï¼å¯¹æ­¤æä»¬æ³åä¸äºæ¹åï¼ä¾å¦æä»¬å¸ æå°æ¥å¿æ¶æ¯åå¥ç£ççç¨åºä»æ¥æ¶ä¸¥ééè¯¯(errros)ï¼èä¸å­å¨åªäºè­¦å(warning)æä¿¡æ¯(info)æ¥å¿ æ¶æ¯é¿åæµªè´¹ç£çç©ºé´ãFanout è¿ç§äº¤æ¢ç±»åå¹¶ä¸è½ç»æä»¬å¸¦æ¥å¾å¤§ççµæ´»æ§-å®åªè½è¿è¡æ æè¯ç å¹¿æ­ï¼å¨è¿éæä»¬å°ä½¿ç¨ direct è¿ç§ç±»åæ¥è¿è¡æ¿æ¢ï¼è¿ç§ç±»åçå·¥ä½æ¹å¼æ¯ï¼æ¶æ¯åªå»å°å®ç»å®ç routingKey éåä¸­å»ã\n\n\n\nå¨ä¸é¢è¿å¼ å¾ä¸­ï¼æä»¬å¯ä»¥çå° X ç»å®äºä¸¤ä¸ªéåï¼ç»å®ç±»åæ¯ directãéåQ1 ç»å®é®ä¸º orangeï¼ éå Q2 ç»å®é®æä¸¤ä¸ª:ä¸ä¸ªç»å®é®ä¸º blackï¼å¦ä¸ä¸ªç»å®é®ä¸º green.\n\nå¨è¿ç§ç»å®æåµä¸ï¼çäº§èåå¸æ¶æ¯å° exchange ä¸ï¼ç»å®é®ä¸º orange çæ¶æ¯ä¼è¢«åå¸å°éå Q1ãç»å®é®ä¸º blackgreen åçæ¶æ¯ä¼è¢«åå¸å°éå Q2ï¼å¶ä»æ¶æ¯ç±»åçæ¶æ¯å°è¢«ä¸¢å¼ã\n\n\n# å¤éç»å®\n\n\n\nå½ç¶å¦æ exchange çç»å®ç±»åæ¯directï¼ä½æ¯å®ç»å®çå¤ä¸ªéåç key å¦æé½ç¸åï¼å¨è¿ç§æåµä¸è½ç¶ç»å®ç±»åæ¯ direct ä½æ¯å®è¡¨ç°çå°±å fanout æç¹ç±»ä¼¼äºï¼å°±è·å¹¿æ­å·®ä¸å¤ï¼å¦ä¸å¾æç¤ºã\n\n\n# Direct å®æ\n\nå³ç³»ï¼\n\n\n\näº¤æ¢æºï¼\n\n\n\nc2ï¼ç»å®diskï¼routingKeyä¸ºerror\n\nc1ï¼ç»å®consoleï¼routingKeyä¸ºinfoãwarning\n\n1ã\n\npackage com.oddfar.six;\n\nimport com.oddfar.utils.RabbitMqUtils;\nimport com.rabbitmq.client.BuiltinExchangeType;\nimport com.rabbitmq.client.Channel;\nimport com.rabbitmq.client.DeliverCallback;\n\n/**\n * @author zhiyuan\n */\npublic class ReceiveLogsDirect01 {\n    private static final String EXCHANGE_NAME = "direct_logs";\n\n    public static void main(String[] args) throws Exception {\n        Channel channel = RabbitMqUtils.getChannel();\n        channel.exchangeDeclare(EXCHANGE_NAME, BuiltinExchangeType.DIRECT);\n\n        String queueName = "disk";\n        //éåå£°æ\n        channel.queueDeclare(queueName, false, false, false, null);\n        //éåç»å®\n        channel.queueBind(queueName, EXCHANGE_NAME, "error");\n        System.out.println("ç­å¾æ¥æ¶æ¶æ¯...");\n\n        //åéåè°\n        DeliverCallback deliverCallback = (consumerTag, delivery) -> {\n            String message = new String(delivery.getBody(), "UTF-8");\n            message = "æ¥æ¶ç»å®é®:" + delivery.getEnvelope().getRoutingKey() + ",æ¶æ¯:" + message;\n            System.out.println("error æ¶æ¯å·²ç»æ¥æ¶ï¼\\n" + message);\n        };\n        channel.basicConsume(queueName, true, deliverCallback, consumerTag -> {\n        });\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\n2ã\n\npublic class ReceiveLogsDirect02 {\n    private static final String EXCHANGE_NAME = "direct_logs";\n\n    public static void main(String[] args) throws Exception {\n        Channel channel = RabbitMqUtils.getChannel();\n        channel.exchangeDeclare(EXCHANGE_NAME, BuiltinExchangeType.DIRECT);\n\n        String queueName = "console";\n        //éåå£°æ\n        channel.queueDeclare(queueName, false, false, false, null);\n        //éåç»å®\n        channel.queueBind(queueName, EXCHANGE_NAME, "info");\n        channel.queueBind(queueName, EXCHANGE_NAME, "warning");\n\n        System.out.println("ç­å¾æ¥æ¶æ¶æ¯...");\n\n        //åéåè°\n        DeliverCallback deliverCallback = (consumerTag, delivery) -> {\n            String message = new String(delivery.getBody(), "UTF-8");\n            message = "æ¥æ¶ç»å®é®:" + delivery.getEnvelope().getRoutingKey() + ",æ¶æ¯:" + message;\n            System.out.println("infoåwarning æ¶æ¯å·²ç»æ¥æ¶ï¼\\n" + message);\n        };\n        channel.basicConsume(queueName, true, deliverCallback, consumerTag -> {\n        });\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n3ã\n\npublic class EmitLogDirect {\n    private static final String EXCHANGE_NAME = "direct_logs";\n\n    public static void main(String[] args) throws Exception {\n        Channel channel = RabbitMqUtils.getChannel();\n        channel.exchangeDeclare(EXCHANGE_NAME, BuiltinExchangeType.DIRECT);\n\n        //åå»ºå¤ä¸ª bindingKey\n        Map<String, String> bindingKeyMap = new HashMap<>();\n        bindingKeyMap.put("info", "æ®é info ä¿¡æ¯");\n        bindingKeyMap.put("warning", "è­¦å warning ä¿¡æ¯");\n        bindingKeyMap.put("error", "éè¯¯ error ä¿¡æ¯");\n        //debug æ²¡ææ¶è´¹è¿æ¥æ¶è¿ä¸ªæ¶æ¯ ææå°±ä¸¢å¤±äº\n        bindingKeyMap.put("debug", "è°è¯ debug ä¿¡æ¯");\n\n        for (Map.Entry<String, String> bindingKeyEntry : bindingKeyMap.entrySet()) {\n            //è·å key value\n            String bindingKey = bindingKeyEntry.getKey();\n            String message = bindingKeyEntry.getValue();\n\n            channel.basicPublish(EXCHANGE_NAME, bindingKey, null, message.getBytes("UTF-8"));\n            System.out.println("çäº§èååºæ¶æ¯:" + message);\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# Topics exchange\n\n\n# Topic çä»ç»\n\nå¨ä¸ä¸ä¸ªå°èä¸­ï¼æä»¬æ¹è¿äºæ¥å¿è®°å½ç³»ç»ãæä»¬æ²¡æä½¿ç¨åªè½è¿è¡éæå¹¿æ­ç fanout äº¤æ¢æºï¼èæ¯ä½¿ç¨äº direct äº¤æ¢æºï¼ä»èæè½å®ç°æéæ©æ§å°æ¥æ¶æ¥å¿ã\n\nå°½ç®¡ä½¿ç¨ direct äº¤æ¢æºæ¹è¿äºæä»¬çç³»ç»ï¼ä½æ¯å®ä»ç¶å­å¨å±éæ§ââæ¯æ¹è¯´æä»¬æ³æ¥æ¶çæ¥å¿ç±»åæ info.base å info.advantageï¼æä¸ªéååªæ³ info.base çæ¶æ¯ï¼é£è¿ä¸ªæ¶ådirect å°±åä¸å°äºãè¿ä¸ªæ¶åå°±åªè½ä½¿ç¨ topic ç±»å\n\nTopicçè¦æ±\n\nåéå°ç±»åæ¯ topic äº¤æ¢æºçæ¶æ¯ç routing_key ä¸è½éæåï¼å¿é¡»æ»¡è¶³ä¸å®çè¦æ±ï¼å®å¿é¡»æ¯ä¸ä¸ªåè¯åè¡¨ï¼ä»¥ç¹å·åéå¼ãè¿äºåè¯å¯ä»¥æ¯ä»»æåè¯\n\næ¯å¦è¯´ï¼"stock.usd.nyse", "nyse.vmw", "quick.orange.rabbit".è¿ç§ç±»åçã\n\nå½ç¶è¿ä¸ªåè¯åè¡¨æå¤ä¸è½è¶è¿ 255 ä¸ªå­èã\n\nå¨è¿ä¸ªè§ååè¡¨ä¸­ï¼å¶ä¸­æä¸¤ä¸ªæ¿æ¢ç¬¦æ¯å¤§å®¶éè¦æ³¨æçï¼\n\n * *(æå·)å¯ä»¥ä»£æ¿ä¸ä¸ªåè¯\n * #(äºå·)å¯ä»¥æ¿ä»£é¶ä¸ªæå¤ä¸ªåè¯\n\n\n# Topic å¹éæ¡ä¾\n\nä¸å¾ç»å®å³ç³»å¦ä¸\n\n\n\n * Q1--\x3eç»å®çæ¯\n   \n   * ä¸­é´å¸¦ orange å¸¦ 3 ä¸ªåè¯çå­ç¬¦ä¸² (*.orange.*)\n\n * Q2--\x3eç»å®çæ¯\n   \n   * æåä¸ä¸ªåè¯æ¯ rabbit ç 3 ä¸ªåè¯ (*.*.rabbit)\n   * ç¬¬ä¸ä¸ªåè¯æ¯ lazy çå¤ä¸ªåè¯ (lazy.#)\n\nä¸å¾æ¯ä¸ä¸ªéåç»å®å³ç³»å¾ï¼æä»¬æ¥ççä»ä»¬ä¹é´æ°æ®æ¥æ¶æåµæ¯æä¹æ ·ç\n\nä¾å­                         è¯´æ\nquick.orange.rabbit        è¢«éå Q1Q2 æ¥æ¶å°\nazy.orange.elephant        è¢«éå Q1Q2 æ¥æ¶å°\nquick.orange.fox           è¢«éå Q1 æ¥æ¶å°\nlazy.brown.fox             è¢«éå Q2 æ¥æ¶å°\nlazy.pink.rabbit           è½ç¶æ»¡è¶³ä¸¤ä¸ªç»å®ä½åªè¢«éå Q2 æ¥æ¶ä¸æ¬¡\nquick.brown.fox            ä¸å¹éä»»ä½ç»å®ä¸ä¼è¢«ä»»ä½éåæ¥æ¶å°ä¼è¢«ä¸¢å¼\nquick.orange.male.rabbit   æ¯åä¸ªåè¯ä¸å¹éä»»ä½ç»å®ä¼è¢«ä¸¢å¼\nlazy.orange.male.rabbit    æ¯åä¸ªåè¯ä½å¹é Q2\n\næ³¨æï¼\n\n * å½ä¸ä¸ªéåç»å®é®æ¯#ï¼é£ä¹è¿ä¸ªéåå°æ¥æ¶æææ°æ®ï¼å°±æç¹å fanout äº\n * å¦æéåç»å®é®å½ä¸­æ²¡æ#å*åºç°ï¼é£ä¹è¯¥éåç»å®ç±»åå°±æ¯ direct äº\n\n\n# Topic å®æ\n\n\n\nä»£ç å¦ä¸ï¼\n\npackage com.oddfar.seven;\n\nimport com.oddfar.utils.RabbitMqUtils;\nimport com.rabbitmq.client.BuiltinExchangeType;\nimport com.rabbitmq.client.Channel;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\n/**\n * åéç«¯\n *\n * @author zhiyuan\n */\npublic class EmitLogTopic {\n    private static final String EXCHANGE_NAME = "topic_logs";\n\n    public static void main(String[] args) throws Exception {\n        Channel channel = RabbitMqUtils.getChannel();\n        channel.exchangeDeclare(EXCHANGE_NAME, BuiltinExchangeType.TOPIC);\n\n        /**\n         * Q1--\x3eç»å®çæ¯\n         *      ä¸­é´å¸¦ orange å¸¦ 3 ä¸ªåè¯çå­ç¬¦ä¸²(*.orange.*)\n         * Q2--\x3eç»å®çæ¯\n         *      æåä¸ä¸ªåè¯æ¯ rabbit ç 3 ä¸ªåè¯(*.*.rabbit)\n         *      ç¬¬ä¸ä¸ªåè¯æ¯ lazy çå¤ä¸ªåè¯(lazy.#)\n         *\n         */\n        Map<String, String> bindingKeyMap = new HashMap<>();\n        bindingKeyMap.put("quick.orange.rabbit", "è¢«éå Q1Q2 æ¥æ¶å°");\n        bindingKeyMap.put("lazy.orange.elephant", "è¢«éå Q1Q2 æ¥æ¶å°");\n        bindingKeyMap.put("quick.orange.fox", "è¢«éå Q1 æ¥æ¶å°");\n        bindingKeyMap.put("lazy.brown.fox", "è¢«éå Q2 æ¥æ¶å°");\n        bindingKeyMap.put("lazy.pink.rabbit", "è½ç¶æ»¡è¶³ä¸¤ä¸ªç»å®ä½åªè¢«éå Q2 æ¥æ¶ä¸æ¬¡");\n        bindingKeyMap.put("quick.brown.fox", "ä¸å¹éä»»ä½ç»å®ä¸ä¼è¢«ä»»ä½éåæ¥æ¶å°ä¼è¢«ä¸¢å¼");\n        bindingKeyMap.put("quick.orange.male.rabbit", "æ¯åä¸ªåè¯ä¸å¹éä»»ä½ç»å®ä¼è¢«ä¸¢å¼");\n        bindingKeyMap.put("lazy.orange.male.rabbit", "æ¯åä¸ªåè¯ä½å¹é Q2");\n        for (Map.Entry<String, String> bindingKeyEntry : bindingKeyMap.entrySet()) {\n            String bindingKey = bindingKeyEntry.getKey();\n            String message = bindingKeyEntry.getValue();\n\n            channel.basicPublish(EXCHANGE_NAME, bindingKey, null, message.getBytes("UTF-8"));\n            System.out.println("çäº§èååºæ¶æ¯ï¼" + message);\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n\n\npublic class ReceiveLogsTopic01 {\n    private static final String EXCHANGE_NAME = "topic_logs";\n\n    public static void main(String[] args) throws Exception {\n        Channel channel = RabbitMqUtils.getChannel();\n        channel.exchangeDeclare(EXCHANGE_NAME, BuiltinExchangeType.TOPIC);\n        //å£°æ Q1 éåä¸ç»å®å³ç³»\n        String queueName = "Q1";\n        //å£°æ\n        channel.queueDeclare(queueName, false, false, false, null);\n        //ç»å®\n        channel.queueBind(queueName, EXCHANGE_NAME, "*.orange.*");\n        System.out.println("ç­å¾æ¥æ¶æ¶æ¯........... ");\n\n        DeliverCallback deliverCallback = (consumerTag, delivery) -> {\n            String message = new String(delivery.getBody(), "UTF-8");\n            System.out.println(" æ¥æ¶éå:" + queueName + " ç»å®é®:" + delivery.getEnvelope().getRoutingKey() + ",æ¶æ¯:" + message);\n        };\n        channel.basicConsume(queueName, true, deliverCallback, consumerTag -> {\n        });\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\npublic class ReceiveLogsTopic02 {\n    private static final String EXCHANGE_NAME = "topic_logs";\n\n    public static void main(String[] args) throws Exception {\n        Channel channel = RabbitMqUtils.getChannel();\n        channel.exchangeDeclare(EXCHANGE_NAME, BuiltinExchangeType.TOPIC);\n        //å£°æ Q2 éåä¸ç»å®å³ç³»\n        String queueName = "Q2";\n        //å£°æ\n        channel.queueDeclare(queueName, false, false, false, null);\n        //ç»å®\n        channel.queueBind(queueName, EXCHANGE_NAME, "*.*.rabbit");\n        channel.queueBind(queueName, EXCHANGE_NAME, "lazy.#");\n\n        System.out.println("ç­å¾æ¥æ¶æ¶æ¯........... ");\n\n        DeliverCallback deliverCallback = (consumerTag, delivery) -> {\n            String message = new String(delivery.getBody(), "UTF-8");\n            System.out.println(" æ¥æ¶éå:" + queueName + " ç»å®é®:" + delivery.getEnvelope().getRoutingKey() + ",æ¶æ¯:" + message);\n        };\n        channel.basicConsume(queueName, true, deliverCallback, consumerTag -> {\n        });\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n',normalizedContent:' * exchanges\n * ä¸´æ¶éå\n * ç»å® bindings\n * fanout exchange\n   * fanout ä»ç»\n   * fanout å®æ\n * direct exchange\n   * direct ä»ç»\n   * å¤éç»å®\n   * direct å®æ\n * topics exchange\n   * topic çä»ç»\n   * topic å¹éæ¡ä¾\n   * topic å®æ\n\nå¨ä¸ä¸èä¸­ï¼æä»¬åå»ºäºä¸ä¸ªå·¥ä½éåãæä»¬åè®¾çæ¯å·¥ä½éåèåï¼æ¯ä¸ªä»»å¡é½æ°å¥½äº¤ä»ç»ä¸ä¸ªæ¶è´¹è(å·¥ä½è¿ç¨)ãå¨è¿ä¸é¨åä¸­ï¼æä»¬å°åä¸äºå®å¨ä¸åçäºæ-æä»¬å°æ¶æ¯ä¼ è¾¾ç»å¤ä¸ªæ¶è´¹èãè¿ç§æ¨¡å¼ ç§°ä¸º âåå¸/è®¢éâã\n\n\n# exchanges\n\nrabbitmq æ¶æ¯ä¼ éæ¨¡åçæ ¸å¿ææ³æ¯: çäº§èçäº§çæ¶æ¯ä»ä¸ä¼ç´æ¥åéå°éåãå®éä¸ï¼éå¸¸çäº§èçè³é½ä¸ç¥éè¿äºæ¶æ¯ä¼ éä¼ éå°äºåªäºéåä¸­ã\n\nç¸åï¼çäº§èåªè½å°æ¶æ¯åéå°äº¤æ¢æº(exchange)ï¼äº¤æ¢æºå·¥ä½çåå®¹éå¸¸ç®åï¼ä¸æ¹é¢å®æ¥æ¶æ¥èªçäº§èçæ¶æ¯ï¼å¦ä¸æ¹é¢å°å®ä»¬æ¨å¥éåãäº¤æ¢æºå¿é¡»ç¡®åç¥éå¦ä½å¤çæ¶å°çæ¶æ¯ãæ¯åºè¯¥æè¿äºæ¶æ¯æ¾å°ç¹å®éåè¿æ¯è¯´æä»ä»¬å°è®¸å¤éåä¸­è¿æ¯è¯´åºè¯¥ä¸¢å¼å®ä»¬ãè¿å°±çç±äº¤æ¢æºçç±»åæ¥å³å®ã\n\n\n\nexchanges çç±»åï¼\n\nç´æ¥(direct), ä¸»é¢(topic) ,æ é¢(headers) , æåº(fanout)\n\næ åexchangeï¼\n\nå¨åé¢é¨åæä»¬å¯¹ exchange ä¸æ æç¥ï¼ä½ä»ç¶è½å¤å°æ¶æ¯åéå°éåãä¹åè½å®ç°ç åå æ¯å ä¸ºæä»¬ä½¿ç¨çæ¯é»è®¤äº¤æ¢ï¼æä»¬éè¿ç©ºå­ç¬¦ä¸²(ââ)è¿è¡æ è¯ã\n\n\n\nç¬¬ä¸ä¸ªåæ°æ¯äº¤æ¢æºçåç§°ãç©ºå­ç¬¦ä¸²è¡¨ç¤ºé»è®¤ææ åç§°äº¤æ¢æºï¼æ¶æ¯è½è·¯ç±åéå°éåä¸­å¶å®æ¯ç± routingkey(bindingkey)ç»å® key æå®çï¼å¦æå®å­å¨çè¯\n\n\n# ä¸´æ¶éå\n\nä¹åçç« èæä»¬ä½¿ç¨çæ¯å·æç¹å®åç§°çéå(è¿è®°å¾ hello å ack_queue åï¼)ãéåçåç§°æä»¬æ¥è¯´è³å³éè¦ï¼æä»¬éè¦æå®æä»¬çæ¶è´¹èå»æ¶è´¹åªä¸ªéåçæ¶æ¯ã\n\næ¯å½æä»¬è¿æ¥å° rabbit æ¶ï¼æä»¬é½éè¦ä¸ä¸ªå¨æ°çç©ºéåï¼ä¸ºæ­¤æä»¬å¯ä»¥åå»ºä¸ä¸ªå·æéæºåç§°çéåï¼æèè½è®©æå¡å¨ä¸ºæä»¬éæ©ä¸ä¸ªéæºéååç§°é£å°±æ´å¥½äºãå¶æ¬¡ä¸æ¦æä»¬æ­å¼äºæ¶è´¹èçè¿æ¥ï¼éåå°è¢«èªå¨å é¤ã\n\nåå»ºä¸´æ¶éåçæ¹å¼å¦ä¸:\n\nstring queuename = channel.queuedeclare().getqueue();\n\n\n1\n\n\n\n\n\n# ç»å® bindings\n\nä»ä¹æ¯ bingding å¢ï¼binding å¶å®æ¯ exchange å queue ä¹é´çæ¡¥æ¢ï¼å®åè¯æä»¬ exchange åé£ä¸ªéåè¿è¡äºç»å®å³ç³»ãæ¯å¦è¯´ä¸é¢è¿å¼ å¾åè¯æä»¬çå°±æ¯ x ä¸ q1 å q2 è¿è¡äºç»å®\n\n\n\n\n\n\n# fanout exchange\n\n\n# fanout ä»ç»\n\nfanout è¿ç§ç±»åéå¸¸ç®åãæ­£å¦ä»åç§°ä¸­çå°çé£æ ·ï¼å®æ¯å°æ¥æ¶å°çæææ¶æ¯å¹¿æ­å°å®ç¥éç ææéåä¸­ãç³»ç»ä¸­é»è®¤æäº exchange ç±»å\n\n\n\n\n# fanout å®æ\n\n\n\nlogs åä¸´æ¶éåçç»å®å³ç³»å¦ä¸å¾\n\n\n\nä¸ºäºè¯´æè¿ç§æ¨¡å¼ï¼æä»¬å°æå»ºä¸ä¸ªç®åçæ¥å¿ç³»ç»ãå®å°ç±ä¸¤ä¸ªç¨åºç»æ:ç¬¬ä¸ä¸ªç¨åºå°ååºæ¥å¿æ¶ æ¯ï¼ç¬¬äºä¸ªç¨åºæ¯æ¶è´¹èãå¶ä¸­æä»¬ä¼å¯å¨ä¸¤ä¸ªæ¶è´¹èï¼å¶ä¸­ä¸ä¸ªæ¶è´¹èæ¥æ¶å°æ¶æ¯åææ¥å¿å­å¨å¨ç£çï¼\n\nreceivelogs01 å°æ¥æ¶å°çæ¶æ¯æå°å¨æ§å¶å°\n\npackage com.oddfar.five;\n\nimport com.oddfar.utils.rabbitmqutils;\nimport com.rabbitmq.client.channel;\nimport com.rabbitmq.client.delivercallback;\n\n/**\n * @author zhiyuan\n */\npublic class receivelogs01 {\n    private static final string exchange_name = "logs";\n\n    public static void main(string[] args) throws exception {\n\n        channel channel = rabbitmqutils.getchannel();\n        channel.exchangedeclare(exchange_name, "fanout");\n        /**\n         * çæä¸ä¸ªä¸´æ¶çéå éåçåç§°æ¯éæºç\n         * å½æ¶è´¹èæ­å¼åè¯¥éåçè¿æ¥æ¶ éåèªå¨å é¤\n         */\n        string queuename = channel.queuedeclare().getqueue();\n        //æè¯¥ä¸´æ¶éåç»å®æä»¬ç exchange å¶ä¸­ routingkey(ä¹ç§°ä¹ä¸º binding key)ä¸ºç©ºå­ç¬¦ä¸²\n        channel.queuebind(queuename, exchange_name, "");\n        system.out.println("ç­å¾æ¥æ¶æ¶æ¯,ææ¥æ¶å°çæ¶æ¯æå°å¨å±å¹........... ");\n\n        //åéåè°\n        delivercallback delivercallback = (consumertag, delivery) -> {\n            string message = new string(delivery.getbody(), "utf-8");\n            system.out.println("æ§å¶å°æå°æ¥æ¶å°çæ¶æ¯" + message);\n        };\n        channel.basicconsume(queuename, true, delivercallback, consumertag -> {});\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\nreceivelogs02 ææ¶æ¯ååºå°æä»¶\n\npublic class receivelogs02 {\n    private static final string exchange_name = "logs";\n\n    public static void main(string[] args) throws exception {\n\n        channel channel = rabbitmqutils.getchannel();\n        channel.exchangedeclare(exchange_name, "fanout");\n        /**\n         * çæä¸ä¸ªä¸´æ¶çéå éåçåç§°æ¯éæºç\n         * å½æ¶è´¹èæ­å¼åè¯¥éåçè¿æ¥æ¶ éåèªå¨å é¤\n         */\n        string queuename = channel.queuedeclare().getqueue();\n        //æè¯¥ä¸´æ¶éåç»å®æä»¬ç exchange å¶ä¸­ routingkey(ä¹ç§°ä¹ä¸º binding key)ä¸ºç©ºå­ç¬¦ä¸²\n        channel.queuebind(queuename, exchange_name, "");\n        system.out.println("ç­å¾æ¥æ¶æ¶æ¯,ææ¥æ¶å°çæ¶æ¯åå°æä»¶........... ");\n\n        //åéåè°\n        delivercallback delivercallback = (consumertag, delivery) -> {\n            string message = new string(delivery.getbody(), "utf-8");\n            file file = new file("d:\\\\test\\\\rabbitmq_info.txt");\n            fileutils.writestringtofile(file,message,"utf-8");\n            system.out.println("æ°æ®åå¥æä»¶æå");\n        };\n        channel.basicconsume(queuename, true, delivercallback, consumertag -> {});\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\nemitlog åéæ¶æ¯ç»ä¸¤ä¸ªæ¶è´¹èæ¥æ¶ï¼\n\npublic class emitlog {\n    private static final string exchange_name = "logs";\n\n    public static void main(string[] args) throws exception {\n        channel channel = rabbitmqutils.getchannel();\n\n        /**\n         * å£°æä¸ä¸ª exchange\n         * 1.exchange çåç§°\n         * 2.exchange çç±»å\n         */\n        channel.exchangedeclare(exchange_name, "fanout");\n        scanner sc = new scanner(system.in);\n        system.out.println("è¯·è¾å¥ä¿¡æ¯");\n        while (sc.hasnext()) {\n            string message = sc.nextline();\n            channel.basicpublish(exchange_name, "", null, message.getbytes("utf-8"));\n            system.out.println("çäº§èååºæ¶æ¯" + message);\n        }\n    }\n    \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# direct exchange\n\nå¨ä¸ä¸èä¸­ï¼æä»¬æå»ºäºä¸ä¸ªç®åçæ¥å¿è®°å½ç³»ç»ãæä»¬è½å¤åè®¸å¤æ¥æ¶èå¹¿æ­æ¥å¿æ¶æ¯ãå¨æ¬èæä»¬å°åå¶ä¸­æ·»å ä¸äºç¹å«çåè½ââè®©æä¸ªæ¶è´¹èè®¢éåå¸çé¨åæ¶æ¯ãä¾å¦æä»¬åªæä¸¥ééè¯¯æ¶æ¯å®åå­å¨å°æ¥å¿æä»¶(ä»¥èçç£çç©ºé´)ï¼åæ¶ä»ç¶è½å¤å¨æ§å¶å°ä¸æå°æææ¥å¿æ¶æ¯ã\n\næä»¬åæ¬¡æ¥åé¡¾ä¸ä¸ä»ä¹æ¯ bindingsï¼ç»å®æ¯äº¤æ¢æºåéåä¹é´çæ¡¥æ¢å³ç³»ãä¹å¯ä»¥è¿ä¹çè§£ï¼ éååªå¯¹å®ç»å®çäº¤æ¢æºçæ¶æ¯æå´è¶£ãç»å®ç¨åæ°ï¼routingkey æ¥è¡¨ç¤ºä¹å¯ç§°è¯¥åæ°ä¸º binding keyï¼ åå»ºç»å®æä»¬ç¨ä»£ç :channel.queuebind(queuename, exchange_name, "routingkey");\n\nç»å®ä¹åçæä¹ç±å¶äº¤æ¢ç±»åå³å®ã\n\n\n# direct ä»ç»\n\nä¸ä¸èä¸­çæä»¬çæ¥å¿ç³»ç»å°æææ¶æ¯å¹¿æ­ç»æææ¶è´¹èï¼å¯¹æ­¤æä»¬æ³åä¸äºæ¹åï¼ä¾å¦æä»¬å¸ æå°æ¥å¿æ¶æ¯åå¥ç£ççç¨åºä»æ¥æ¶ä¸¥ééè¯¯(errros)ï¼èä¸å­å¨åªäºè­¦å(warning)æä¿¡æ¯(info)æ¥å¿ æ¶æ¯é¿åæµªè´¹ç£çç©ºé´ãfanout è¿ç§äº¤æ¢ç±»åå¹¶ä¸è½ç»æä»¬å¸¦æ¥å¾å¤§ççµæ´»æ§-å®åªè½è¿è¡æ æè¯ç å¹¿æ­ï¼å¨è¿éæä»¬å°ä½¿ç¨ direct è¿ç§ç±»åæ¥è¿è¡æ¿æ¢ï¼è¿ç§ç±»åçå·¥ä½æ¹å¼æ¯ï¼æ¶æ¯åªå»å°å®ç»å®ç routingkey éåä¸­å»ã\n\n\n\nå¨ä¸é¢è¿å¼ å¾ä¸­ï¼æä»¬å¯ä»¥çå° x ç»å®äºä¸¤ä¸ªéåï¼ç»å®ç±»åæ¯ directãéåq1 ç»å®é®ä¸º orangeï¼ éå q2 ç»å®é®æä¸¤ä¸ª:ä¸ä¸ªç»å®é®ä¸º blackï¼å¦ä¸ä¸ªç»å®é®ä¸º green.\n\nå¨è¿ç§ç»å®æåµä¸ï¼çäº§èåå¸æ¶æ¯å° exchange ä¸ï¼ç»å®é®ä¸º orange çæ¶æ¯ä¼è¢«åå¸å°éå q1ãç»å®é®ä¸º blackgreen åçæ¶æ¯ä¼è¢«åå¸å°éå q2ï¼å¶ä»æ¶æ¯ç±»åçæ¶æ¯å°è¢«ä¸¢å¼ã\n\n\n# å¤éç»å®\n\n\n\nå½ç¶å¦æ exchange çç»å®ç±»åæ¯directï¼ä½æ¯å®ç»å®çå¤ä¸ªéåç key å¦æé½ç¸åï¼å¨è¿ç§æåµä¸è½ç¶ç»å®ç±»åæ¯ direct ä½æ¯å®è¡¨ç°çå°±å fanout æç¹ç±»ä¼¼äºï¼å°±è·å¹¿æ­å·®ä¸å¤ï¼å¦ä¸å¾æç¤ºã\n\n\n# direct å®æ\n\nå³ç³»ï¼\n\n\n\näº¤æ¢æºï¼\n\n\n\nc2ï¼ç»å®diskï¼routingkeyä¸ºerror\n\nc1ï¼ç»å®consoleï¼routingkeyä¸ºinfoãwarning\n\n1ã\n\npackage com.oddfar.six;\n\nimport com.oddfar.utils.rabbitmqutils;\nimport com.rabbitmq.client.builtinexchangetype;\nimport com.rabbitmq.client.channel;\nimport com.rabbitmq.client.delivercallback;\n\n/**\n * @author zhiyuan\n */\npublic class receivelogsdirect01 {\n    private static final string exchange_name = "direct_logs";\n\n    public static void main(string[] args) throws exception {\n        channel channel = rabbitmqutils.getchannel();\n        channel.exchangedeclare(exchange_name, builtinexchangetype.direct);\n\n        string queuename = "disk";\n        //éåå£°æ\n        channel.queuedeclare(queuename, false, false, false, null);\n        //éåç»å®\n        channel.queuebind(queuename, exchange_name, "error");\n        system.out.println("ç­å¾æ¥æ¶æ¶æ¯...");\n\n        //åéåè°\n        delivercallback delivercallback = (consumertag, delivery) -> {\n            string message = new string(delivery.getbody(), "utf-8");\n            message = "æ¥æ¶ç»å®é®:" + delivery.getenvelope().getroutingkey() + ",æ¶æ¯:" + message;\n            system.out.println("error æ¶æ¯å·²ç»æ¥æ¶ï¼\\n" + message);\n        };\n        channel.basicconsume(queuename, true, delivercallback, consumertag -> {\n        });\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\n2ã\n\npublic class receivelogsdirect02 {\n    private static final string exchange_name = "direct_logs";\n\n    public static void main(string[] args) throws exception {\n        channel channel = rabbitmqutils.getchannel();\n        channel.exchangedeclare(exchange_name, builtinexchangetype.direct);\n\n        string queuename = "console";\n        //éåå£°æ\n        channel.queuedeclare(queuename, false, false, false, null);\n        //éåç»å®\n        channel.queuebind(queuename, exchange_name, "info");\n        channel.queuebind(queuename, exchange_name, "warning");\n\n        system.out.println("ç­å¾æ¥æ¶æ¶æ¯...");\n\n        //åéåè°\n        delivercallback delivercallback = (consumertag, delivery) -> {\n            string message = new string(delivery.getbody(), "utf-8");\n            message = "æ¥æ¶ç»å®é®:" + delivery.getenvelope().getroutingkey() + ",æ¶æ¯:" + message;\n            system.out.println("infoåwarning æ¶æ¯å·²ç»æ¥æ¶ï¼\\n" + message);\n        };\n        channel.basicconsume(queuename, true, delivercallback, consumertag -> {\n        });\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n3ã\n\npublic class emitlogdirect {\n    private static final string exchange_name = "direct_logs";\n\n    public static void main(string[] args) throws exception {\n        channel channel = rabbitmqutils.getchannel();\n        channel.exchangedeclare(exchange_name, builtinexchangetype.direct);\n\n        //åå»ºå¤ä¸ª bindingkey\n        map<string, string> bindingkeymap = new hashmap<>();\n        bindingkeymap.put("info", "æ®é info ä¿¡æ¯");\n        bindingkeymap.put("warning", "è­¦å warning ä¿¡æ¯");\n        bindingkeymap.put("error", "éè¯¯ error ä¿¡æ¯");\n        //debug æ²¡ææ¶è´¹è¿æ¥æ¶è¿ä¸ªæ¶æ¯ ææå°±ä¸¢å¤±äº\n        bindingkeymap.put("debug", "è°è¯ debug ä¿¡æ¯");\n\n        for (map.entry<string, string> bindingkeyentry : bindingkeymap.entryset()) {\n            //è·å key value\n            string bindingkey = bindingkeyentry.getkey();\n            string message = bindingkeyentry.getvalue();\n\n            channel.basicpublish(exchange_name, bindingkey, null, message.getbytes("utf-8"));\n            system.out.println("çäº§èååºæ¶æ¯:" + message);\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# topics exchange\n\n\n# topic çä»ç»\n\nå¨ä¸ä¸ä¸ªå°èä¸­ï¼æä»¬æ¹è¿äºæ¥å¿è®°å½ç³»ç»ãæä»¬æ²¡æä½¿ç¨åªè½è¿è¡éæå¹¿æ­ç fanout äº¤æ¢æºï¼èæ¯ä½¿ç¨äº direct äº¤æ¢æºï¼ä»èæè½å®ç°æéæ©æ§å°æ¥æ¶æ¥å¿ã\n\nå°½ç®¡ä½¿ç¨ direct äº¤æ¢æºæ¹è¿äºæä»¬çç³»ç»ï¼ä½æ¯å®ä»ç¶å­å¨å±éæ§ââæ¯æ¹è¯´æä»¬æ³æ¥æ¶çæ¥å¿ç±»åæ info.base å info.advantageï¼æä¸ªéååªæ³ info.base çæ¶æ¯ï¼é£è¿ä¸ªæ¶ådirect å°±åä¸å°äºãè¿ä¸ªæ¶åå°±åªè½ä½¿ç¨ topic ç±»å\n\ntopicçè¦æ±\n\nåéå°ç±»åæ¯ topic äº¤æ¢æºçæ¶æ¯ç routing_key ä¸è½éæåï¼å¿é¡»æ»¡è¶³ä¸å®çè¦æ±ï¼å®å¿é¡»æ¯ä¸ä¸ªåè¯åè¡¨ï¼ä»¥ç¹å·åéå¼ãè¿äºåè¯å¯ä»¥æ¯ä»»æåè¯\n\næ¯å¦è¯´ï¼"stock.usd.nyse", "nyse.vmw", "quick.orange.rabbit".è¿ç§ç±»åçã\n\nå½ç¶è¿ä¸ªåè¯åè¡¨æå¤ä¸è½è¶è¿ 255 ä¸ªå­èã\n\nå¨è¿ä¸ªè§ååè¡¨ä¸­ï¼å¶ä¸­æä¸¤ä¸ªæ¿æ¢ç¬¦æ¯å¤§å®¶éè¦æ³¨æçï¼\n\n * *(æå·)å¯ä»¥ä»£æ¿ä¸ä¸ªåè¯\n * #(äºå·)å¯ä»¥æ¿ä»£é¶ä¸ªæå¤ä¸ªåè¯\n\n\n# topic å¹éæ¡ä¾\n\nä¸å¾ç»å®å³ç³»å¦ä¸\n\n\n\n * q1--\x3eç»å®çæ¯\n   \n   * ä¸­é´å¸¦ orange å¸¦ 3 ä¸ªåè¯çå­ç¬¦ä¸² (*.orange.*)\n\n * q2--\x3eç»å®çæ¯\n   \n   * æåä¸ä¸ªåè¯æ¯ rabbit ç 3 ä¸ªåè¯ (*.*.rabbit)\n   * ç¬¬ä¸ä¸ªåè¯æ¯ lazy çå¤ä¸ªåè¯ (lazy.#)\n\nä¸å¾æ¯ä¸ä¸ªéåç»å®å³ç³»å¾ï¼æä»¬æ¥ççä»ä»¬ä¹é´æ°æ®æ¥æ¶æåµæ¯æä¹æ ·ç\n\nä¾å­                         è¯´æ\nquick.orange.rabbit        è¢«éå q1q2 æ¥æ¶å°\nazy.orange.elephant        è¢«éå q1q2 æ¥æ¶å°\nquick.orange.fox           è¢«éå q1 æ¥æ¶å°\nlazy.brown.fox             è¢«éå q2 æ¥æ¶å°\nlazy.pink.rabbit           è½ç¶æ»¡è¶³ä¸¤ä¸ªç»å®ä½åªè¢«éå q2 æ¥æ¶ä¸æ¬¡\nquick.brown.fox            ä¸å¹éä»»ä½ç»å®ä¸ä¼è¢«ä»»ä½éåæ¥æ¶å°ä¼è¢«ä¸¢å¼\nquick.orange.male.rabbit   æ¯åä¸ªåè¯ä¸å¹éä»»ä½ç»å®ä¼è¢«ä¸¢å¼\nlazy.orange.male.rabbit    æ¯åä¸ªåè¯ä½å¹é q2\n\næ³¨æï¼\n\n * å½ä¸ä¸ªéåç»å®é®æ¯#ï¼é£ä¹è¿ä¸ªéåå°æ¥æ¶æææ°æ®ï¼å°±æç¹å fanout äº\n * å¦æéåç»å®é®å½ä¸­æ²¡æ#å*åºç°ï¼é£ä¹è¯¥éåç»å®ç±»åå°±æ¯ direct äº\n\n\n# topic å®æ\n\n\n\nä»£ç å¦ä¸ï¼\n\npackage com.oddfar.seven;\n\nimport com.oddfar.utils.rabbitmqutils;\nimport com.rabbitmq.client.builtinexchangetype;\nimport com.rabbitmq.client.channel;\n\nimport java.util.hashmap;\nimport java.util.map;\n\n/**\n * åéç«¯\n *\n * @author zhiyuan\n */\npublic class emitlogtopic {\n    private static final string exchange_name = "topic_logs";\n\n    public static void main(string[] args) throws exception {\n        channel channel = rabbitmqutils.getchannel();\n        channel.exchangedeclare(exchange_name, builtinexchangetype.topic);\n\n        /**\n         * q1--\x3eç»å®çæ¯\n         *      ä¸­é´å¸¦ orange å¸¦ 3 ä¸ªåè¯çå­ç¬¦ä¸²(*.orange.*)\n         * q2--\x3eç»å®çæ¯\n         *      æåä¸ä¸ªåè¯æ¯ rabbit ç 3 ä¸ªåè¯(*.*.rabbit)\n         *      ç¬¬ä¸ä¸ªåè¯æ¯ lazy çå¤ä¸ªåè¯(lazy.#)\n         *\n         */\n        map<string, string> bindingkeymap = new hashmap<>();\n        bindingkeymap.put("quick.orange.rabbit", "è¢«éå q1q2 æ¥æ¶å°");\n        bindingkeymap.put("lazy.orange.elephant", "è¢«éå q1q2 æ¥æ¶å°");\n        bindingkeymap.put("quick.orange.fox", "è¢«éå q1 æ¥æ¶å°");\n        bindingkeymap.put("lazy.brown.fox", "è¢«éå q2 æ¥æ¶å°");\n        bindingkeymap.put("lazy.pink.rabbit", "è½ç¶æ»¡è¶³ä¸¤ä¸ªç»å®ä½åªè¢«éå q2 æ¥æ¶ä¸æ¬¡");\n        bindingkeymap.put("quick.brown.fox", "ä¸å¹éä»»ä½ç»å®ä¸ä¼è¢«ä»»ä½éåæ¥æ¶å°ä¼è¢«ä¸¢å¼");\n        bindingkeymap.put("quick.orange.male.rabbit", "æ¯åä¸ªåè¯ä¸å¹éä»»ä½ç»å®ä¼è¢«ä¸¢å¼");\n        bindingkeymap.put("lazy.orange.male.rabbit", "æ¯åä¸ªåè¯ä½å¹é q2");\n        for (map.entry<string, string> bindingkeyentry : bindingkeymap.entryset()) {\n            string bindingkey = bindingkeyentry.getkey();\n            string message = bindingkeyentry.getvalue();\n\n            channel.basicpublish(exchange_name, bindingkey, null, message.getbytes("utf-8"));\n            system.out.println("çäº§èååºæ¶æ¯ï¼" + message);\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n\n\npublic class receivelogstopic01 {\n    private static final string exchange_name = "topic_logs";\n\n    public static void main(string[] args) throws exception {\n        channel channel = rabbitmqutils.getchannel();\n        channel.exchangedeclare(exchange_name, builtinexchangetype.topic);\n        //å£°æ q1 éåä¸ç»å®å³ç³»\n        string queuename = "q1";\n        //å£°æ\n        channel.queuedeclare(queuename, false, false, false, null);\n        //ç»å®\n        channel.queuebind(queuename, exchange_name, "*.orange.*");\n        system.out.println("ç­å¾æ¥æ¶æ¶æ¯........... ");\n\n        delivercallback delivercallback = (consumertag, delivery) -> {\n            string message = new string(delivery.getbody(), "utf-8");\n            system.out.println(" æ¥æ¶éå:" + queuename + " ç»å®é®:" + delivery.getenvelope().getroutingkey() + ",æ¶æ¯:" + message);\n        };\n        channel.basicconsume(queuename, true, delivercallback, consumertag -> {\n        });\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\npublic class receivelogstopic02 {\n    private static final string exchange_name = "topic_logs";\n\n    public static void main(string[] args) throws exception {\n        channel channel = rabbitmqutils.getchannel();\n        channel.exchangedeclare(exchange_name, builtinexchangetype.topic);\n        //å£°æ q2 éåä¸ç»å®å³ç³»\n        string queuename = "q2";\n        //å£°æ\n        channel.queuedeclare(queuename, false, false, false, null);\n        //ç»å®\n        channel.queuebind(queuename, exchange_name, "*.*.rabbit");\n        channel.queuebind(queuename, exchange_name, "lazy.#");\n\n        system.out.println("ç­å¾æ¥æ¶æ¶æ¯........... ");\n\n        delivercallback delivercallback = (consumertag, delivery) -> {\n            string message = new string(delivery.getbody(), "utf-8");\n            system.out.println(" æ¥æ¶éå:" + queuename + " ç»å®é®:" + delivery.getenvelope().getroutingkey() + ",æ¶æ¯:" + message);\n        };\n        channel.basicconsume(queuename, true, delivercallback, consumertag -> {\n        });\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"RabbitMQ - æ­»ä¿¡éå",frontmatter:{title:"RabbitMQ - æ­»ä¿¡éå",date:"2021-06-28T08:56:07.000Z",permalink:"/pages/1477b8/"},regularPath:"/04.%E6%A1%86%E6%9E%B6/20.RabbitMQ/14.RabbitMQ%20-%20%E6%AD%BB%E4%BF%A1%E9%98%9F%E5%88%97.html",relativePath:"04.æ¡æ¶/20.RabbitMQ/14.RabbitMQ - æ­»ä¿¡éå.md",key:"v-1bb853fa",path:"/pages/1477b8/",headers:[{level:2,title:"æ­»ä¿¡çæ¦å¿µ",slug:"æ­»ä¿¡çæ¦å¿µ",normalizedTitle:"æ­»ä¿¡çæ¦å¿µ",charIndex:3},{level:2,title:"æ­»ä¿¡çæ¥æº",slug:"æ­»ä¿¡çæ¥æº",normalizedTitle:"æ­»ä¿¡çæ¥æº",charIndex:12},{level:2,title:"æ­»ä¿¡å®æ",slug:"æ­»ä¿¡å®æ",normalizedTitle:"æ­»ä¿¡å®æ",charIndex:21},{level:3,title:"æ­»ä¿¡ä¹TTl",slug:"æ­»ä¿¡ä¹ttl",normalizedTitle:"æ­»ä¿¡ä¹ttl",charIndex:31},{level:3,title:"æ­»ä¿¡ä¹æå¤§é¿åº¦",slug:"æ­»ä¿¡ä¹æå¤§é¿åº¦",normalizedTitle:"æ­»ä¿¡ä¹æå¤§é¿åº¦",charIndex:43},{level:3,title:"æ­»ä¿¡ä¹æ¶æ¯è¢«æ",slug:"æ­»ä¿¡ä¹æ¶æ¯è¢«æ",normalizedTitle:"æ­»ä¿¡ä¹æ¶æ¯è¢«æ",charIndex:56}],headersStr:"æ­»ä¿¡çæ¦å¿µ æ­»ä¿¡çæ¥æº æ­»ä¿¡å®æ æ­»ä¿¡ä¹TTl æ­»ä¿¡ä¹æå¤§é¿åº¦ æ­»ä¿¡ä¹æ¶æ¯è¢«æ",content:' * æ­»ä¿¡çæ¦å¿µ\n * æ­»ä¿¡çæ¥æº\n * æ­»ä¿¡å®æ\n   * æ­»ä¿¡ä¹TTl\n   * æ­»ä¿¡ä¹æå¤§é¿åº¦\n   * æ­»ä¿¡ä¹æ¶æ¯è¢«æ\n\n\n# æ­»ä¿¡çæ¦å¿µ\n\nåä»æ¦å¿µè§£éä¸ææ¸æ¥è¿ä¸ªå®ä¹ï¼æ­»ä¿¡ï¼é¡¾åæä¹å°±æ¯æ æ³è¢«æ¶è´¹çæ¶æ¯ï¼å­é¢ææå¯ä»¥è¿æ ·ç è§£ï¼ä¸è¬æ¥è¯´ï¼producer å°æ¶æ¯æéå° broker æèç´æ¥å°queue éäºï¼consumer ä» queue ååºæ¶æ¯ è¿è¡æ¶è´¹ï¼ä½æäºæ¶åç±äºç¹å®çåå å¯¼è´ queue ä¸­çæäºæ¶æ¯æ æ³è¢«æ¶è´¹ï¼è¿æ ·çæ¶æ¯å¦ææ²¡æåç»­çå¤çï¼å°±åæäºæ­»ä¿¡ï¼ææ­»ä¿¡èªç¶å°±æäºæ­»ä¿¡éåã\n\nåºç¨åºæ¯ï¼ä¸ºäºä¿è¯è®¢åä¸å¡çæ¶æ¯æ°æ®ä¸ä¸¢å¤±ï¼éè¦ä½¿ç¨å° RabbitMQ çæ­»ä¿¡éåæºå¶ï¼å½æ¶æ¯æ¶è´¹åçå¼å¸¸æ¶ï¼å°æ¶æ¯æå¥æ­»ä¿¡éåä¸­ãè¿ææ¯å¦è¯´ï¼ç¨æ·å¨ååä¸åæåå¹¶ç¹å»å»æ¯ä»åå¨æå®æ¶é´æªæ¯ä»æ¶èªå¨å¤±æ\n\n\n# æ­»ä¿¡çæ¥æº\n\n * æ¶æ¯ TTL è¿æ\n   \n   TTLæ¯Time To Liveçç¼©å, ä¹å°±æ¯çå­æ¶é´\n\n * éåè¾¾å°æå¤§é¿åº¦\n   \n   éåæ»¡äºï¼æ æ³åæ·»å æ°æ®å° mq ä¸­\n\n * æ¶æ¯è¢«æç»\n   \n   (basic.reject æ basic.nack) å¹¶ä¸ requeue=false.\n\n\n# æ­»ä¿¡å®æ\n\n\n\n\n# æ­»ä¿¡ä¹TTl\n\næ¶è´¹è C1 ä»£ç ï¼\n\n/**\n * æ­»ä¿¡éå - æ¶è´¹è01\n *\n * @author zhiyuan\n */\npublic class Consumer01 {\n\n    //æ®éäº¤æ¢æºåç§°\n    private static final String NORMAL_EXCHANGE = "normal_exchange";\n    //æ­»ä¿¡äº¤æ¢æºåç§°\n    private static final String DEAD_EXCHANGE = "dead_exchange";\n\n    public static void main(String[] args) throws Exception {\n        Channel channel = RabbitMqUtils.getChannel();\n\n        //å£°ææ­»ä¿¡åæ®éäº¤æ¢æº ç±»åä¸º direct\n        channel.exchangeDeclare(NORMAL_EXCHANGE, BuiltinExchangeType.DIRECT);\n        channel.exchangeDeclare(DEAD_EXCHANGE, BuiltinExchangeType.DIRECT);\n\n        //å£°ææ­»ä¿¡éå\n        String deadQueue = "dead-queue";\n        channel.queueDeclare(deadQueue, false, false, false, null);\n        //æ­»ä¿¡éåç»å®ï¼éåãäº¤æ¢æºãè·¯ç±é®ï¼routingKeyï¼\n        channel.queueBind(deadQueue, DEAD_EXCHANGE, "lisi");\n\n        //æ­£å¸¸éåç»å®æ­»ä¿¡éåä¿¡æ¯\n        Map<String, Object> params = new HashMap<>();\n        //æ­£å¸¸éåè®¾ç½®æ­»ä¿¡äº¤æ¢æº åæ° key æ¯åºå®å¼\n        params.put("x-dead-letter-exchange", DEAD_EXCHANGE);\n        //æ­£å¸¸éåè®¾ç½®æ­»ä¿¡ routing-key åæ° key æ¯åºå®å¼\n        params.put("x-dead-letter-routing-key", "lisi");\n\n        //æ­£å¸¸éå\n        String normalQueue = "normal-queue";\n        channel.queueDeclare(normalQueue, false, false, false, params);\n        channel.queueBind(normalQueue, NORMAL_EXCHANGE, "zhangsan");\n\n        System.out.println("ç­å¾æ¥æ¶æ¶æ¯........... ");\n        DeliverCallback deliverCallback = (consumerTag, delivery) -> {\n            String message = new String(delivery.getBody(), "UTF-8");\n            System.out.println("Consumer01 æ¥æ¶å°æ¶æ¯" + message);\n        };\n        channel.basicConsume(normalQueue, true, deliverCallback, consumerTag -> {\n        });\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n\n\nçäº§èä»£ç \n\npublic class Producer {\n    private static final String NORMAL_EXCHANGE = "normal_exchange";\n\n    public static void main(String[] argv) throws Exception {\n        Channel channel = RabbitMqUtils.getChannel();\n\n        channel.exchangeDeclare(NORMAL_EXCHANGE, BuiltinExchangeType.DIRECT);\n        //è®¾ç½®æ¶æ¯ç TTL æ¶é´ 10s\n        AMQP.BasicProperties properties = new AMQP.BasicProperties().builder().expiration("10000").build();\n        //è¯¥ä¿¡æ¯æ¯ç¨ä½æ¼ç¤ºéåä¸ªæ°éå¶\n        for (int i = 1; i < 11; i++) {\n            String message = "info" + i;\n            channel.basicPublish(NORMAL_EXCHANGE, "zhangsan", properties, message.getBytes());\n            System.out.println("çäº§èåéæ¶æ¯:" + message);\n        }\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nå¯å¨ C1 ï¼ä¹åå³é­æ¶è´¹èï¼æ¨¡æå¶æ¥æ¶ä¸å°æ¶æ¯ãåå¯å¨ Producer\n\n\n\næ¶è´¹è C2 ä»£ç ï¼\n\nä»¥ä¸æ­¥éª¤å®æåï¼å¯å¨ C2 æ¶è´¹èï¼å®æ¶è´¹æ­»ä¿¡éåéé¢çæ¶æ¯\n\npublic class Consumer02 {\n    //æ­»ä¿¡äº¤æ¢æºåç§°\n    private static final String DEAD_EXCHANGE = "dead_exchange";\n\n    public static void main(String[] args) throws Exception {\n        Channel channel = RabbitMqUtils.getChannel();\n\n        //å£°æäº¤æ¢æº\n        channel.exchangeDeclare(DEAD_EXCHANGE, BuiltinExchangeType.DIRECT);\n        //å£°æéå\n        String deadQueue = "dead-queue";\n        channel.queueDeclare(deadQueue, false, false, false, null);\n        channel.queueBind(deadQueue, DEAD_EXCHANGE, "lisi");\n\n        System.out.println("ç­å¾æ¥æ¶æ­»ä¿¡æ¶æ¯........... ");\n        DeliverCallback deliverCallback = (consumerTag, delivery) -> {\n            String message = new String(delivery.getBody(), "UTF-8");\n            System.out.println("Consumer02 æ¥æ¶å°æ¶æ¯" + message);\n        };\n        channel.basicConsume(deadQueue, true, deliverCallback, consumerTag -> {\n        });\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n\n\n# æ­»ä¿¡ä¹æå¤§é¿åº¦\n\n1ãæ¶æ¯çäº§èä»£ç å»æ TTL å±æ§\n\n\n\n2ãC1 æ¶è´¹èä¿®æ¹ä»¥ä¸ä»£ç **(å¯å¨ä¹åå³é­è¯¥æ¶è´¹è æ¨¡æå¶æ¥æ¶ä¸å°æ¶æ¯)**\n\n\n\n//è®¾ç½®æ­£å¸¸éåçé¿åº¦éå¶ï¼ä¾å¦å10ä¸ªï¼4ä¸ªåä¸ºæ­»ä¿¡\nparams.put("x-max-length",6);\n\n\n1\n2\n\n\næ³¨ææ­¤æ¶éè¦æååéåå é¤ å ä¸ºåæ°æ¹åäº\n\n3ãC2 æ¶è´¹èä»£ç ä¸å(å¯å¨ C2 æ¶è´¹è)\n\n\n\n\n# æ­»ä¿¡ä¹æ¶æ¯è¢«æ\n\n1ãæ¶æ¯çäº§èä»£ç åä¸çäº§èä¸è´\n\n2ãC1 æ¶è´¹èä»£ç (å¯å¨ä¹åå³é­è¯¥æ¶è´¹è æ¨¡æå¶æ¥æ¶ä¸å°æ¶æ¯)\n\nææ¶æ¶æ¯ "info5"\n\npublic class Consumer01 {\n\n    //æ®éäº¤æ¢æºåç§°\n    private static final String NORMAL_EXCHANGE = "normal_exchange";\n    //æ­»ä¿¡äº¤æ¢æºåç§°\n    private static final String DEAD_EXCHANGE = "dead_exchange";\n\n    public static void main(String[] args) throws Exception {\n        Channel channel = RabbitMqUtils.getChannel();\n\n        //å£°ææ­»ä¿¡åæ®éäº¤æ¢æº ç±»åä¸º direct\n        channel.exchangeDeclare(NORMAL_EXCHANGE, BuiltinExchangeType.DIRECT);\n        channel.exchangeDeclare(DEAD_EXCHANGE, BuiltinExchangeType.DIRECT);\n\n        //å£°ææ­»ä¿¡éå\n        String deadQueue = "dead-queue";\n        channel.queueDeclare(deadQueue, false, false, false, null);\n        //æ­»ä¿¡éåç»å®ï¼éåãäº¤æ¢æºãè·¯ç±é®ï¼routingKeyï¼\n        channel.queueBind(deadQueue, DEAD_EXCHANGE, "lisi");\n        \n        //æ­£å¸¸éåç»å®æ­»ä¿¡éåä¿¡æ¯\n        Map<String, Object> params = new HashMap<>();\n        //æ­£å¸¸éåè®¾ç½®æ­»ä¿¡äº¤æ¢æº åæ° key æ¯åºå®å¼\n        params.put("x-dead-letter-exchange", DEAD_EXCHANGE);\n        //æ­£å¸¸éåè®¾ç½®æ­»ä¿¡ routing-key åæ° key æ¯åºå®å¼\n        params.put("x-dead-letter-routing-key", "lisi");\n//        //è®¾ç½®æ­£å¸¸éåçé¿åº¦éå¶ï¼ä¾å¦å10ä¸ªï¼4ä¸ªåä¸ºæ­»ä¿¡\n//        params.put("x-max-length",6);\n        \n        //æ­£å¸¸éå\n        String normalQueue = "normal-queue";\n        channel.queueDeclare(normalQueue, false, false, false, params);\n        channel.queueBind(normalQueue, NORMAL_EXCHANGE, "zhangsan");\n\n        System.out.println("ç­å¾æ¥æ¶æ¶æ¯........... ");\n        \n        DeliverCallback deliverCallback = (consumerTag, delivery) -> {\n            String message = new String(delivery.getBody(), "UTF-8");\n            if (message.equals("info5")) {\n                System.out.println("Consumer01 æ¥æ¶å°æ¶æ¯" + message + "å¹¶æç»ç­¾æ¶è¯¥æ¶æ¯");\n                //requeue è®¾ç½®ä¸º false ä»£è¡¨æç»éæ°å¥é è¯¥éåå¦æéç½®äºæ­»ä¿¡äº¤æ¢æºå°åéå°æ­»ä¿¡éåä¸­\n                channel.basicReject(delivery.getEnvelope().getDeliveryTag(), false);\n            } else {\n                System.out.println("Consumer01 æ¥æ¶å°æ¶æ¯" + message);\n                channel.basicAck(delivery.getEnvelope().getDeliveryTag(), false);\n            }\n\n        };\n        //å¼å¯æå¨åºç­\n        channel.basicConsume(normalQueue, false, deliverCallback, consumerTag -> {\n        });\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n\n\n\n\n3ãC2 æ¶è´¹èä»£ç ä¸å\n\nå¯å¨æ¶è´¹è 1 ç¶ååå¯å¨æ¶è´¹è 2\n\n',normalizedContent:' * æ­»ä¿¡çæ¦å¿µ\n * æ­»ä¿¡çæ¥æº\n * æ­»ä¿¡å®æ\n   * æ­»ä¿¡ä¹ttl\n   * æ­»ä¿¡ä¹æå¤§é¿åº¦\n   * æ­»ä¿¡ä¹æ¶æ¯è¢«æ\n\n\n# æ­»ä¿¡çæ¦å¿µ\n\nåä»æ¦å¿µè§£éä¸ææ¸æ¥è¿ä¸ªå®ä¹ï¼æ­»ä¿¡ï¼é¡¾åæä¹å°±æ¯æ æ³è¢«æ¶è´¹çæ¶æ¯ï¼å­é¢ææå¯ä»¥è¿æ ·ç è§£ï¼ä¸è¬æ¥è¯´ï¼producer å°æ¶æ¯æéå° broker æèç´æ¥å°queue éäºï¼consumer ä» queue ååºæ¶æ¯ è¿è¡æ¶è´¹ï¼ä½æäºæ¶åç±äºç¹å®çåå å¯¼è´ queue ä¸­çæäºæ¶æ¯æ æ³è¢«æ¶è´¹ï¼è¿æ ·çæ¶æ¯å¦ææ²¡æåç»­çå¤çï¼å°±åæäºæ­»ä¿¡ï¼ææ­»ä¿¡èªç¶å°±æäºæ­»ä¿¡éåã\n\nåºç¨åºæ¯ï¼ä¸ºäºä¿è¯è®¢åä¸å¡çæ¶æ¯æ°æ®ä¸ä¸¢å¤±ï¼éè¦ä½¿ç¨å° rabbitmq çæ­»ä¿¡éåæºå¶ï¼å½æ¶æ¯æ¶è´¹åçå¼å¸¸æ¶ï¼å°æ¶æ¯æå¥æ­»ä¿¡éåä¸­ãè¿ææ¯å¦è¯´ï¼ç¨æ·å¨ååä¸åæåå¹¶ç¹å»å»æ¯ä»åå¨æå®æ¶é´æªæ¯ä»æ¶èªå¨å¤±æ\n\n\n# æ­»ä¿¡çæ¥æº\n\n * æ¶æ¯ ttl è¿æ\n   \n   ttlæ¯time to liveçç¼©å, ä¹å°±æ¯çå­æ¶é´\n\n * éåè¾¾å°æå¤§é¿åº¦\n   \n   éåæ»¡äºï¼æ æ³åæ·»å æ°æ®å° mq ä¸­\n\n * æ¶æ¯è¢«æç»\n   \n   (basic.reject æ basic.nack) å¹¶ä¸ requeue=false.\n\n\n# æ­»ä¿¡å®æ\n\n\n\n\n# æ­»ä¿¡ä¹ttl\n\næ¶è´¹è c1 ä»£ç ï¼\n\n/**\n * æ­»ä¿¡éå - æ¶è´¹è01\n *\n * @author zhiyuan\n */\npublic class consumer01 {\n\n    //æ®éäº¤æ¢æºåç§°\n    private static final string normal_exchange = "normal_exchange";\n    //æ­»ä¿¡äº¤æ¢æºåç§°\n    private static final string dead_exchange = "dead_exchange";\n\n    public static void main(string[] args) throws exception {\n        channel channel = rabbitmqutils.getchannel();\n\n        //å£°ææ­»ä¿¡åæ®éäº¤æ¢æº ç±»åä¸º direct\n        channel.exchangedeclare(normal_exchange, builtinexchangetype.direct);\n        channel.exchangedeclare(dead_exchange, builtinexchangetype.direct);\n\n        //å£°ææ­»ä¿¡éå\n        string deadqueue = "dead-queue";\n        channel.queuedeclare(deadqueue, false, false, false, null);\n        //æ­»ä¿¡éåç»å®ï¼éåãäº¤æ¢æºãè·¯ç±é®ï¼routingkeyï¼\n        channel.queuebind(deadqueue, dead_exchange, "lisi");\n\n        //æ­£å¸¸éåç»å®æ­»ä¿¡éåä¿¡æ¯\n        map<string, object> params = new hashmap<>();\n        //æ­£å¸¸éåè®¾ç½®æ­»ä¿¡äº¤æ¢æº åæ° key æ¯åºå®å¼\n        params.put("x-dead-letter-exchange", dead_exchange);\n        //æ­£å¸¸éåè®¾ç½®æ­»ä¿¡ routing-key åæ° key æ¯åºå®å¼\n        params.put("x-dead-letter-routing-key", "lisi");\n\n        //æ­£å¸¸éå\n        string normalqueue = "normal-queue";\n        channel.queuedeclare(normalqueue, false, false, false, params);\n        channel.queuebind(normalqueue, normal_exchange, "zhangsan");\n\n        system.out.println("ç­å¾æ¥æ¶æ¶æ¯........... ");\n        delivercallback delivercallback = (consumertag, delivery) -> {\n            string message = new string(delivery.getbody(), "utf-8");\n            system.out.println("consumer01 æ¥æ¶å°æ¶æ¯" + message);\n        };\n        channel.basicconsume(normalqueue, true, delivercallback, consumertag -> {\n        });\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n\n\nçäº§èä»£ç \n\npublic class producer {\n    private static final string normal_exchange = "normal_exchange";\n\n    public static void main(string[] argv) throws exception {\n        channel channel = rabbitmqutils.getchannel();\n\n        channel.exchangedeclare(normal_exchange, builtinexchangetype.direct);\n        //è®¾ç½®æ¶æ¯ç ttl æ¶é´ 10s\n        amqp.basicproperties properties = new amqp.basicproperties().builder().expiration("10000").build();\n        //è¯¥ä¿¡æ¯æ¯ç¨ä½æ¼ç¤ºéåä¸ªæ°éå¶\n        for (int i = 1; i < 11; i++) {\n            string message = "info" + i;\n            channel.basicpublish(normal_exchange, "zhangsan", properties, message.getbytes());\n            system.out.println("çäº§èåéæ¶æ¯:" + message);\n        }\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\nå¯å¨ c1 ï¼ä¹åå³é­æ¶è´¹èï¼æ¨¡æå¶æ¥æ¶ä¸å°æ¶æ¯ãåå¯å¨ producer\n\n\n\næ¶è´¹è c2 ä»£ç ï¼\n\nä»¥ä¸æ­¥éª¤å®æåï¼å¯å¨ c2 æ¶è´¹èï¼å®æ¶è´¹æ­»ä¿¡éåéé¢çæ¶æ¯\n\npublic class consumer02 {\n    //æ­»ä¿¡äº¤æ¢æºåç§°\n    private static final string dead_exchange = "dead_exchange";\n\n    public static void main(string[] args) throws exception {\n        channel channel = rabbitmqutils.getchannel();\n\n        //å£°æäº¤æ¢æº\n        channel.exchangedeclare(dead_exchange, builtinexchangetype.direct);\n        //å£°æéå\n        string deadqueue = "dead-queue";\n        channel.queuedeclare(deadqueue, false, false, false, null);\n        channel.queuebind(deadqueue, dead_exchange, "lisi");\n\n        system.out.println("ç­å¾æ¥æ¶æ­»ä¿¡æ¶æ¯........... ");\n        delivercallback delivercallback = (consumertag, delivery) -> {\n            string message = new string(delivery.getbody(), "utf-8");\n            system.out.println("consumer02 æ¥æ¶å°æ¶æ¯" + message);\n        };\n        channel.basicconsume(deadqueue, true, delivercallback, consumertag -> {\n        });\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n\n\n# æ­»ä¿¡ä¹æå¤§é¿åº¦\n\n1ãæ¶æ¯çäº§èä»£ç å»æ ttl å±æ§\n\n\n\n2ãc1 æ¶è´¹èä¿®æ¹ä»¥ä¸ä»£ç **(å¯å¨ä¹åå³é­è¯¥æ¶è´¹è æ¨¡æå¶æ¥æ¶ä¸å°æ¶æ¯)**\n\n\n\n//è®¾ç½®æ­£å¸¸éåçé¿åº¦éå¶ï¼ä¾å¦å10ä¸ªï¼4ä¸ªåä¸ºæ­»ä¿¡\nparams.put("x-max-length",6);\n\n\n1\n2\n\n\næ³¨ææ­¤æ¶éè¦æååéåå é¤ å ä¸ºåæ°æ¹åäº\n\n3ãc2 æ¶è´¹èä»£ç ä¸å(å¯å¨ c2 æ¶è´¹è)\n\n\n\n\n# æ­»ä¿¡ä¹æ¶æ¯è¢«æ\n\n1ãæ¶æ¯çäº§èä»£ç åä¸çäº§èä¸è´\n\n2ãc1 æ¶è´¹èä»£ç (å¯å¨ä¹åå³é­è¯¥æ¶è´¹è æ¨¡æå¶æ¥æ¶ä¸å°æ¶æ¯)\n\nææ¶æ¶æ¯ "info5"\n\npublic class consumer01 {\n\n    //æ®éäº¤æ¢æºåç§°\n    private static final string normal_exchange = "normal_exchange";\n    //æ­»ä¿¡äº¤æ¢æºåç§°\n    private static final string dead_exchange = "dead_exchange";\n\n    public static void main(string[] args) throws exception {\n        channel channel = rabbitmqutils.getchannel();\n\n        //å£°ææ­»ä¿¡åæ®éäº¤æ¢æº ç±»åä¸º direct\n        channel.exchangedeclare(normal_exchange, builtinexchangetype.direct);\n        channel.exchangedeclare(dead_exchange, builtinexchangetype.direct);\n\n        //å£°ææ­»ä¿¡éå\n        string deadqueue = "dead-queue";\n        channel.queuedeclare(deadqueue, false, false, false, null);\n        //æ­»ä¿¡éåç»å®ï¼éåãäº¤æ¢æºãè·¯ç±é®ï¼routingkeyï¼\n        channel.queuebind(deadqueue, dead_exchange, "lisi");\n        \n        //æ­£å¸¸éåç»å®æ­»ä¿¡éåä¿¡æ¯\n        map<string, object> params = new hashmap<>();\n        //æ­£å¸¸éåè®¾ç½®æ­»ä¿¡äº¤æ¢æº åæ° key æ¯åºå®å¼\n        params.put("x-dead-letter-exchange", dead_exchange);\n        //æ­£å¸¸éåè®¾ç½®æ­»ä¿¡ routing-key åæ° key æ¯åºå®å¼\n        params.put("x-dead-letter-routing-key", "lisi");\n//        //è®¾ç½®æ­£å¸¸éåçé¿åº¦éå¶ï¼ä¾å¦å10ä¸ªï¼4ä¸ªåä¸ºæ­»ä¿¡\n//        params.put("x-max-length",6);\n        \n        //æ­£å¸¸éå\n        string normalqueue = "normal-queue";\n        channel.queuedeclare(normalqueue, false, false, false, params);\n        channel.queuebind(normalqueue, normal_exchange, "zhangsan");\n\n        system.out.println("ç­å¾æ¥æ¶æ¶æ¯........... ");\n        \n        delivercallback delivercallback = (consumertag, delivery) -> {\n            string message = new string(delivery.getbody(), "utf-8");\n            if (message.equals("info5")) {\n                system.out.println("consumer01 æ¥æ¶å°æ¶æ¯" + message + "å¹¶æç»ç­¾æ¶è¯¥æ¶æ¯");\n                //requeue è®¾ç½®ä¸º false ä»£è¡¨æç»éæ°å¥é è¯¥éåå¦æéç½®äºæ­»ä¿¡äº¤æ¢æºå°åéå°æ­»ä¿¡éåä¸­\n                channel.basicreject(delivery.getenvelope().getdeliverytag(), false);\n            } else {\n                system.out.println("consumer01 æ¥æ¶å°æ¶æ¯" + message);\n                channel.basicack(delivery.getenvelope().getdeliverytag(), false);\n            }\n\n        };\n        //å¼å¯æå¨åºç­\n        channel.basicconsume(normalqueue, false, delivercallback, consumertag -> {\n        });\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n\n\n\n\n3ãc2 æ¶è´¹èä»£ç ä¸å\n\nå¯å¨æ¶è´¹è 1 ç¶ååå¯å¨æ¶è´¹è 2\n\n',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"RabbitMQ - ç®åæ¡ä¾",frontmatter:{title:"RabbitMQ - ç®åæ¡ä¾",date:"2021-06-26T13:41:56.000Z",permalink:"/pages/95ce73/"},regularPath:"/04.%E6%A1%86%E6%9E%B6/20.RabbitMQ/08.RabbitMQ%20-%20%E7%AE%80%E5%8D%95%E6%A1%88%E4%BE%8B.html",relativePath:"04.æ¡æ¶/20.RabbitMQ/08.RabbitMQ - ç®åæ¡ä¾.md",key:"v-4eea68e0",path:"/pages/95ce73/",headers:[{level:2,title:"Hello world",slug:"hello-world",normalizedTitle:"hello world",charIndex:3},{level:2,title:"Work Queues",slug:"work-queues",normalizedTitle:"work queues",charIndex:18},{level:3,title:"è½®è®­ååæ¶æ¯",slug:"è½®è®­ååæ¶æ¯",normalizedTitle:"è½®è®­ååæ¶æ¯",charIndex:35},{level:2,title:"æ¶æ¯åºç­",slug:"æ¶æ¯åºç­",normalizedTitle:"æ¶æ¯åºç­",charIndex:45},{level:3,title:"èªå¨åºç­",slug:"èªå¨åºç­",normalizedTitle:"èªå¨åºç­",charIndex:55},{level:3,title:"æå¨æ¶æ¯åºç­çæ¹æ³",slug:"æå¨æ¶æ¯åºç­çæ¹æ³",normalizedTitle:"æå¨æ¶æ¯åºç­çæ¹æ³",charIndex:65},{level:3,title:"æ¶æ¯èªå¨éæ°å¥é",slug:"æ¶æ¯èªå¨éæ°å¥é",normalizedTitle:"æ¶æ¯èªå¨éæ°å¥é",charIndex:80},{level:3,title:"æ¶æ¯æå¨åºç­ä»£ç ",slug:"æ¶æ¯æå¨åºç­ä»£ç ",normalizedTitle:"æ¶æ¯æå¨åºç­ä»£ç ",charIndex:94},{level:2,title:"RabbitMQ æä¹å",slug:"rabbitmq-æä¹å",normalizedTitle:"rabbitmq æä¹å",charIndex:106},{level:2,title:"ä¸å¬å¹³åå",slug:"ä¸å¬å¹³åå",normalizedTitle:"ä¸å¬å¹³åå",charIndex:122},{level:2,title:"é¢åå¼åå",slug:"é¢åå¼åå",normalizedTitle:"é¢åå¼åå",charIndex:131}],headersStr:"Hello world Work Queues è½®è®­ååæ¶æ¯ æ¶æ¯åºç­ èªå¨åºç­ æå¨æ¶æ¯åºç­çæ¹æ³ æ¶æ¯èªå¨éæ°å¥é æ¶æ¯æå¨åºç­ä»£ç  RabbitMQ æä¹å ä¸å¬å¹³åå é¢åå¼åå",content:' * Hello world\n * Work Queues\n   * è½®è®­ååæ¶æ¯\n * æ¶æ¯åºç­\n   * èªå¨åºç­\n   * æå¨æ¶æ¯åºç­çæ¹æ³\n   * æ¶æ¯èªå¨éæ°å¥é\n   * æ¶æ¯æå¨åºç­ä»£ç \n * RabbitMQ æä¹å\n * ä¸å¬å¹³åå\n * é¢åå¼åå\n\n\n# Hello world\n\næä»¬å°ç¨ Java ç¼åä¸¤ä¸ªç¨åºãåéåä¸ªæ¶æ¯ççäº§èåæ¥æ¶æ¶æ¯å¹¶æå°åºæ¥çæ¶è´¹è\n\nå¨ä¸å¾ä¸­ï¼â Pâ æ¯æä»¬ççäº§èï¼â Câ æ¯æä»¬çæ¶è´¹èãä¸­é´çæ¡æ¯ä¸ä¸ªéå RabbitMQ ä»£è¡¨ä½¿ç¨èä¿ççæ¶æ¯ç¼å²åº\n\n\n\nè¿æ¥çæ¶åï¼éè¦å¼å¯ 5672 ç«¯å£\n\n\n\n * ä¾èµ\n\npom.xml\n\n\x3c!--æå® jdk ç¼è¯çæ¬--\x3e\n<build>\n    <plugins>\n        <plugin>\n            <groupId>org.apache.maven.plugins</groupId>\n            <artifactId>maven-compiler-plugin</artifactId>\n            <configuration>\n                <source>8</source>\n                <target>8</target>\n            </configuration>\n        </plugin>\n    </plugins>\n</build>\n<dependencies>\n    \x3c!--rabbitmq ä¾èµå®¢æ·ç«¯--\x3e\n    <dependency>\n        <groupId>com.rabbitmq</groupId>\n        <artifactId>amqp-client</artifactId>\n        <version>5.8.0</version>\n    </dependency>\n    \x3c!--æä½æä»¶æµçä¸ä¸ªä¾èµ--\x3e\n    <dependency>\n        <groupId>commons-io</groupId>\n        <artifactId>commons-io</artifactId>\n        <version>2.6</version>\n    </dependency>\n</dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n * æ¶æ¯çäº§è\n\nåéæ¶æ¯\n\npackage com.oddfar.one;\n\nimport com.rabbitmq.client.Channel;\nimport com.rabbitmq.client.Connection;\nimport com.rabbitmq.client.ConnectionFactory;\n\n/**\n * @author zhiyuan\n */\npublic class Producer {\n    private final static String QUEUE_NAME = "hello";\n\n    public static void main(String[] args) throws Exception {\n        //åå»ºä¸ä¸ªè¿æ¥å·¥å\n        ConnectionFactory factory = new ConnectionFactory();\n        factory.setHost("42.192.149.71");\n        factory.setUsername("admin");\n        factory.setPassword("123456");\n        //channel å®ç°äºèªå¨ close æ¥å£ èªå¨å³é­ ä¸éè¦æ¾ç¤ºå³é­\n        //åå»ºè¿æ¥\n        Connection connection = factory.newConnection();\n        //è·åä¿¡é\n        Channel channel = connection.createChannel();\n        /**\n         * çæä¸ä¸ªéå\n         * 1.éååç§°\n         * 2.éåéé¢çæ¶æ¯æ¯å¦æä¹å ä¹å°±æ¯æ¯å¦ç¨å®å°±å é¤\n         * 3.è¯¥éåæ¯å¦åªä¾ä¸ä¸ªæ¶è´¹èè¿è¡æ¶è´¹ æ¯å¦è¿è¡å±äº« true å¯ä»¥å¤ä¸ªæ¶è´¹èæ¶è´¹\n         * 4.æ¯å¦èªå¨å é¤ æåä¸ä¸ªæ¶è´¹èç«¯å¼è¿æ¥ä»¥å è¯¥éåæ¯å¦èªå¨å é¤ true èªå¨å é¤\n         * 5.å¶ä»åæ°\n         */\n        channel.queueDeclare(QUEUE_NAME, false, false, false, null);\n        String message = "hello world";\n        /**\n         * åéä¸ä¸ªæ¶æ¯\n         * 1.åéå°é£ä¸ªäº¤æ¢æº\n         * 2.è·¯ç±ç key æ¯åªä¸ª\n         * 3.å¶ä»çåæ°ä¿¡æ¯\n         * 4.åéæ¶æ¯çæ¶æ¯ä½\n         */\n        channel.basicPublish("", QUEUE_NAME, null, message.getBytes());\n        System.out.println("æ¶æ¯åéå®æ¯");\n\n    }\n    \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n\n * æ¶æ¯æ¶è´¹è\n\nè·åâçäº§èâååºçæ¶æ¯\n\npackage com.oddfar.one;\n\nimport com.rabbitmq.client.*;\n\n/**\n * @author zhiyuan\n */\npublic class Consumer {\n    private final static String QUEUE_NAME = "hello";\n\n    public static void main(String[] args) throws Exception {\n        ConnectionFactory factory = new ConnectionFactory();\n        factory.setHost("42.192.149.71");\n        factory.setUsername("admin");\n        factory.setPassword("123456");\n        Connection connection = factory.newConnection();\n        Channel channel = connection.createChannel();\n\n        System.out.println("ç­å¾æ¥æ¶æ¶æ¯.........");\n\n        //æ¨éçæ¶æ¯å¦ä½è¿è¡æ¶è´¹çæ¥å£åè°\n        DeliverCallback deliverCallback = (consumerTag, delivery) -> {\n            String message = new String(delivery.getBody());\n            System.out.println(message);\n        };\n        //åæ¶æ¶è´¹çä¸ä¸ªåè°æ¥å£ å¦å¨æ¶è´¹çæ¶åéåè¢«å é¤æäº\n        CancelCallback cancelCallback = (consumerTag) -> {\n            System.out.println("æ¶æ¯æ¶è´¹è¢«ä¸­æ­");\n        };\n        /**\n         * æ¶è´¹èæ¶è´¹æ¶æ¯ - æ¥åæ¶æ¯\n         * 1.æ¶è´¹åªä¸ªéå\n         * 2.æ¶è´¹æåä¹åæ¯å¦è¦èªå¨åºç­ true ä»£è¡¨èªå¨åºç­ false æå¨åºç­\n         * 3.æ¶è´¹èæªæåæ¶è´¹çåè°\n         * 4.æ¶æ¯è¢«åæ¶æ¶çåè°\n         */\n        channel.basicConsume(QUEUE_NAME, true, deliverCallback, cancelCallback);\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\n\n# Work Queues\n\nWork Queuesââå·¥ä½éå(åç§°ä»»å¡éå)çä¸»è¦ææ³æ¯é¿åç«å³æ§è¡èµæºå¯éåä»»å¡ï¼èä¸å¾ä¸ç­å¾å®å®æã ç¸åæä»¬å®æä»»å¡å¨ä¹åæ§è¡ãæä»¬æä»»å¡å°è£ä¸ºæ¶æ¯å¹¶å°å¶åéå°éåãå¨åå°è¿è¡çå·¥ä½è¿ ç¨å°å¼¹åºä»»å¡å¹¶æç»æ§è¡ä½ä¸ãå½æå¤ä¸ªå·¥ä½çº¿ç¨æ¶ï¼è¿äºå·¥ä½çº¿ç¨å°ä¸èµ·å¤çè¿äºä»»å¡ã\n\n\n# è½®è®­ååæ¶æ¯\n\nå¨è¿ä¸ªæ¡ä¾ä¸­æä»¬ä¼å¯å¨ä¸¤ä¸ªå·¥ä½çº¿ç¨ï¼ä¸ä¸ªæ¶æ¯åéçº¿ç¨ï¼æä»¬æ¥ççä»ä»¬ä¸¤ä¸ªå·¥ä½çº¿ç¨æ¯å¦ä½å·¥ä½çã\n\n1ãæ½åå·¥å·ç±»\n\npackage com.oddfar.utils;\n\nimport com.rabbitmq.client.Channel;\nimport com.rabbitmq.client.Connection;\nimport com.rabbitmq.client.ConnectionFactory;\n\npublic class RabbitMqUtils {\n    //å¾å°ä¸ä¸ªè¿æ¥ç channel\n    public static Channel getChannel() throws Exception {\n        //åå»ºä¸ä¸ªè¿æ¥å·¥å\n        ConnectionFactory factory = new ConnectionFactory();\n        factory.setHost("42.192.149.71");\n        factory.setUsername("admin");\n        factory.setPassword("123456");\n        Connection connection = factory.newConnection();\n        Channel channel = connection.createChannel();\n        return channel;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n2ãå¯å¨ä¸¤ä¸ªå·¥ä½çº¿ç¨æ¥æ¥åæ¶æ¯\n\npackage com.oddfar.two;\n\nimport com.oddfar.utils.RabbitMqUtils;\nimport com.rabbitmq.client.CancelCallback;\nimport com.rabbitmq.client.Channel;\nimport com.rabbitmq.client.DeliverCallback;\n\n/**\n * è¿æ¯ä¸ä¸ªå·¥ä½çº¿ç¨ï¼ç¸å½äºä¹åçæ¶è´¹è\n *\n * @author zhiyuan\n */\npublic class Worker01 {\n\n    private static final String QUEUE_NAME = "hello";\n\n    public static void main(String[] args) throws Exception {\n\n        Channel channel = RabbitMqUtils.getChannel();\n\n        //æ¶æ¯æ¥å\n        DeliverCallback deliverCallback = (consumerTag, delivery) -> {\n            String receivedMessage = new String(delivery.getBody());\n            System.out.println("æ¥æ¶å°æ¶æ¯:" + receivedMessage);\n        };\n        //æ¶æ¯è¢«åæ¶\n        CancelCallback cancelCallback = (consumerTag) -> {\n            System.out.println(consumerTag + "æ¶è´¹èåæ¶æ¶è´¹æ¥å£åè°é»è¾");\n\n        };\n\n        System.out.println("C1 æ¶è´¹èå¯å¨ç­å¾æ¶è´¹.................. ");\n        channel.basicConsume(QUEUE_NAME, true, deliverCallback, cancelCallback);\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\néä¸­ Allow multiple instances\n\nå¯å¨å\n\n\n\n3ãå¯å¨ä¸ä¸ªåéæ¶æ¯çº¿ç¨\n\npublic class Task01 {\n    public static final String QUEUE_NAME = "hello";\n\n    public static void main(String[] args) throws Exception {\n\n        Channel channel = RabbitMqUtils.getChannel();\n\n        Scanner scanner = new Scanner(System.in);\n        while (scanner.hasNext()) {\n            String message = scanner.next();\n            channel.basicPublish("", QUEUE_NAME, null, message.getBytes());\n            System.out.println("æ¶æ¯åéå®æï¼" + message);\n        }\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n * ç»æå±ç¤º\n\néè¿ç¨åºæ§è¡åç°çäº§èæ»å±åé 4 ä¸ªæ¶æ¯ï¼æ¶è´¹è 1 åæ¶è´¹è 2 åå«åå¾ä¸¤ä¸ªæ¶æ¯ï¼å¹¶ä¸æ¯æç§æåºçä¸ä¸ªæ¥æ¶ä¸æ¬¡æ¶æ¯\n\n\n\n\n# æ¶æ¯åºç­\n\næ¶è´¹èå®æä¸ä¸ªä»»å¡å¯è½éè¦ä¸æ®µæ¶é´ï¼å¦æå¶ä¸­ä¸ä¸ªæ¶è´¹èå¤çä¸ä¸ªé¿çä»»å¡å¹¶ä»åªå®æäºé¨åçªç¶å®ææäºï¼ä¼åçä»ä¹æåµãRabbitMQ ä¸æ¦åæ¶è´¹èä¼ éäºä¸æ¡æ¶æ¯ï¼ä¾¿ç«å³å°è¯¥æ¶æ¯æ è®°ä¸ºå é¤ãå¨è¿ç§æåµä¸ï¼çªç¶æä¸ªæ¶è´¹èææäºï¼æä»¬å°ä¸¢å¤±æ­£å¨å¤ççæ¶æ¯ãä»¥ååç»­åéç»è¯¥æ¶è´¹è¿çæ¶æ¯ï¼å ä¸ºå®æ æ³æ¥æ¶å°ã\n\nä¸ºäºä¿è¯æ¶æ¯å¨åéè¿ç¨ä¸­ä¸ä¸¢å¤±ï¼å¼å¥æ¶æ¯åºç­æºå¶ï¼æ¶æ¯åºç­å°±æ¯ï¼æ¶è´¹èå¨æ¥æ¶å°æ¶æ¯å¹¶ä¸å¤çè¯¥æ¶æ¯ä¹åï¼åè¯ rabbitmq å®å·²ç»å¤çäºï¼rabbitmq å¯ä»¥æè¯¥æ¶æ¯å é¤äºã\n\n\n# èªå¨åºç­\n\næ¶æ¯åéåç«å³è¢«è®¤ä¸ºå·²ç»ä¼ éæåï¼è¿ç§æ¨¡å¼éè¦å¨é«ååéåæ°æ®ä¼ è¾å®å¨æ§æ¹é¢åæè¡¡,å ä¸ºè¿ç§æ¨¡å¼å¦ææ¶æ¯å¨æ¥æ¶å°ä¹åï¼æ¶è´¹èé£è¾¹åºç°è¿æ¥æè channel å³é­ï¼é£ä¹æ¶æ¯å°±ä¸¢å¤± äº,å½ç¶å¦ä¸æ¹é¢è¿ç§æ¨¡å¼æ¶è´¹èé£è¾¹å¯ä»¥ä¼ éè¿è½½çæ¶æ¯ï¼æ²¡æå¯¹ä¼ éçæ¶æ¯æ°éè¿è¡éå¶ï¼å½ç¶è¿æ ·æå¯è½ä½¿å¾æ¶è´¹èè¿è¾¹ç±äºæ¥æ¶å¤ªå¤è¿æ¥ä¸åå¤ççæ¶æ¯ï¼å¯¼è´è¿äºæ¶æ¯çç§¯åï¼æç»ä½¿ å¾åå­èå°½ï¼æç»è¿äºæ¶è´¹èçº¿ç¨è¢«æä½ç³»ç»ææ­»ï¼æä»¥è¿ç§æ¨¡å¼ä»éç¨å¨æ¶è´¹èå¯ä»¥é«æå¹¶ä»¥ æç§éçè½å¤å¤çè¿äºæ¶æ¯çæåµä¸ä½¿ç¨ã\n\n\n# æå¨æ¶æ¯åºç­çæ¹æ³\n\n * Channel.basicAck(ç¨äºè¯å®ç¡®è®¤)\n   \n   RabbitMQ å·²ç¥éè¯¥æ¶æ¯å¹¶ä¸æåçå¤çæ¶æ¯ï¼å¯ä»¥å°å¶ä¸¢å¼äº\n\n * Channel.basicNack(ç¨äºå¦å®ç¡®è®¤)\n\n * Channel.basicReject(ç¨äºå¦å®ç¡®è®¤)\n   \n   ä¸ Channel.basicNack ç¸æ¯å°ä¸ä¸ªåæ°ï¼ä¸å¤çè¯¥æ¶æ¯äºç´æ¥æç»ï¼å¯ä»¥å°å¶ä¸¢å¼äº\n\nMultiple çè§£éï¼\n\næå¨åºç­çå¥½å¤æ¯å¯ä»¥æ¹éåºç­å¹¶ä¸åå°ç½ç»æ¥å µ\n\n\n\n * true ä»£è¡¨æ¹éåºç­ channel ä¸æªåºç­çæ¶æ¯\n   \n   æ¯å¦è¯´ channel ä¸æä¼ é tag çæ¶æ¯ 5,6,7,8 å½å tag æ¯8 é£ä¹æ­¤æ¶5-8 çè¿äºè¿æªåºç­çæ¶æ¯é½ä¼è¢«ç¡®è®¤æ¶å°æ¶æ¯åºç­\n\n * false åä¸é¢ç¸æ¯åªä¼åºç­ tag=8 çæ¶æ¯ 5,6,7 è¿ä¸ä¸ªæ¶æ¯ä¾ç¶ä¸ä¼è¢«ç¡®è®¤æ¶å°æ¶æ¯åºç­\n\n\n\n\n# æ¶æ¯èªå¨éæ°å¥é\n\nå¦ææ¶è´¹èç±äºæäºåå å¤±å»è¿æ¥(å¶ééå·²å³é­ï¼è¿æ¥å·²å³é­æ TCP è¿æ¥ä¸¢å¤±)ï¼å¯¼è´æ¶æ¯æªåé ACK ç¡®è®¤ï¼RabbitMQ å°äºè§£å°æ¶æ¯æªå®å¨å¤çï¼å¹¶å°å¯¹å¶éæ°æéãå¦ææ­¤æ¶å¶ä»æ¶è´¹èå¯ä»¥å¤çï¼å®å°å¾å¿«å°å¶éæ°ååç»å¦ä¸ä¸ªæ¶è´¹èãè¿æ ·ï¼å³ä½¿æä¸ªæ¶è´¹èå¶å°æ­»äº¡ï¼ä¹å¯ä»¥ç¡®ä¿ä¸ä¼ä¸¢å¤±ä»»ä½æ¶æ¯ã\n\n\n\n\n# æ¶æ¯æå¨åºç­ä»£ç \n\né»è®¤æ¶æ¯éç¨çæ¯èªå¨åºç­ï¼æä»¥æä»¬è¦æ³å®ç°æ¶æ¯æ¶è´¹è¿ç¨ä¸­ä¸ä¸¢å¤±ï¼éè¦æèªå¨åºç­æ¹ä¸ºæå¨åºç­\n\næ¶è´¹èå¨ä¸é¢ä»£ç çåºç¡ä¸å¢å äºä»¥ä¸åå®¹\n\nchannel.basicAck(delivery.getEnvelope().getDeliveryTag(), false);\n\n\n1\n\n\næ¶æ¯çäº§èï¼\n\npackage com.oddfar.three;\n\nimport com.oddfar.utils.RabbitMqUtils;\nimport com.rabbitmq.client.Channel;\n\nimport java.util.Scanner;\n\n/**\n * æ¶æ¯çäº§è,æ¶æ¯å¨æå¨åºç­æ¶æ¯ä¸ä¸¢å¤±çï¼æ¾åéåéæ°æ¶è´¹\n *\n * @author zhiyuan\n */\npublic class Task02 {\n    private static final String TASK_QUEUE_NAME = "ack_queue";\n\n    public static void main(String[] args) throws Exception {\n        Channel channel = RabbitMqUtils.getChannel();\n        //å£°æéå\n        channel.queueDeclare(TASK_QUEUE_NAME, false, false, false, null);\n        Scanner sc = new Scanner(System.in);\n        System.out.println("è¯·è¾å¥ä¿¡æ¯");\n        while (sc.hasNext()) {\n            String message = sc.nextLine();\n            //åå¸æ¶æ¯\n            channel.basicPublish("", TASK_QUEUE_NAME, null, message.getBytes("UTF-8"));\n            System.out.println("çäº§èååºæ¶æ¯" + message);\n        }\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\næ¶è´¹è 01ï¼\n\npackage com.oddfar.three;\n\nimport com.oddfar.utils.RabbitMqUtils;\nimport com.rabbitmq.client.CancelCallback;\nimport com.rabbitmq.client.Channel;\nimport com.rabbitmq.client.DeliverCallback;\n\n/**\n * æ¶è´¹è01\n *\n * @author zhiyuan\n */\npublic class Work03 {\n    private static final String TASK_QUEUE_NAME = "ack_queue";\n\n    public static void main(String[] args) throws Exception {\n        Channel channel = RabbitMqUtils.getChannel();\n        System.out.println("C1 ç­å¾æ¥æ¶æ¶æ¯å¤çæ¶é´è¾ ç­");\n\n        DeliverCallback deliverCallback = (consumerTag, delivery) -> {\n            String message = new String(delivery.getBody());\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            System.out.println("æ¥æ¶å°æ¶æ¯:" + message);\n            /**\n             * 1.æ¶æ¯æ è®° tag\n             * 2.æ¯å¦æ¹éåºç­æªåºç­æ¶æ¯\n             */\n            channel.basicAck(delivery.getEnvelope().getDeliveryTag(), false);\n        };\n\n        CancelCallback cancelCallback = (s) -> {\n            System.out.println(s + "æ¶è´¹èåæ¶æ¶è´¹æ¥å£åè°é»è¾");\n        };\n\n        //éç¨æå¨åºç­\n        boolean autoAck = false;\n        channel.basicConsume(TASK_QUEUE_NAME, autoAck, deliverCallback, cancelCallback);\n\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n\n\næ¶è´¹è 02ï¼\n\nææ¶é´æ¹æ30ç§\n\næå¨åºç­æææ¼ç¤º\n\næ­£å¸¸æåµä¸æ¶æ¯åéæ¹åéä¸¤ä¸ªæ¶æ¯ C1 å C2 åå«æ¥æ¶å°æ¶æ¯å¹¶è¿è¡å¤ç\n\n\n\nå¨åéèåéæ¶æ¯ ddï¼ååºæ¶æ¯ä¹åçæ C2 æ¶è´¹èåæï¼æçè¯´è¯¥ C2 æ¥å¤çè¯¥æ¶æ¯ï¼ä½æ¯ç±äºå®å¤çæ¶é´è¾é¿ï¼å¨è¿æªå¤çå®ï¼ä¹å°±æ¯è¯´ C2 è¿æ²¡ææ§è¡ ack ä»£ç çæ¶åï¼C2 è¢«åæäºï¼ æ­¤æ¶ä¼çå°æ¶æ¯è¢« C1 æ¥æ¶å°äºï¼è¯´ææ¶æ¯ dd è¢«éæ°å¥éï¼ç¶ååéç»è½å¤çæ¶æ¯ç C1 å¤çäº\n\n\n\n\n\n\n\n\n# RabbitMQ æä¹å\n\nå½ RabbitMQ æå¡åæä»¥åï¼æ¶æ¯çäº§èåéè¿æ¥çæ¶æ¯ä¸ä¸¢å¤±è¦å¦ä½ä¿éï¼é»è®¤æåµä¸ RabbitMQ éåºæç±äºæç§åå å´©æºæ¶ï¼å®å¿½è§éååæ¶æ¯ï¼é¤éåç¥å®ä¸è¦è¿æ ·åãç¡®ä¿æ¶æ¯ä¸ä¼ä¸¢å¤±éè¦åä¸¤ä»¶äºï¼æä»¬éè¦å°éååæ¶æ¯é½æ è®°ä¸ºæä¹åã\n\néåå¦ä½å®ç°æä¹å\n\nä¹åæä»¬åå»ºçéåé½æ¯éæä¹åçï¼rabbitmq å¦æéå¯çåï¼è¯¥éåå°±ä¼è¢«å é¤æï¼å¦æè¦éåå®ç°æä¹åéè¦å¨å£°æéåçæ¶åæ durable åæ°è®¾ç½®ä¸ºæä¹å\n\n//è®©éåæä¹å\nboolean durable = true;\n//å£°æéå\nchannel.queueDeclare(TASK_QUEUE_NAME, durable, false, false, null);\n\n\n1\n2\n3\n4\n\n\næ³¨æï¼å¦æä¹åå£°æçéåä¸æ¯æä¹åçï¼éè¦æååéååå é¤ï¼æèéæ°åå»ºä¸ä¸ªæä¹åçéåï¼ä¸ç¶å°±ä¼åºç°éè¯¯\n\n\n\nä»¥ä¸ä¸ºæ§å¶å°ä¸­æä¹åä¸éæä¹åéåç UI æ¾ç¤ºåºã\n\n\n\næ¶æ¯å®ç°æä¹å\n\néè¦å¨æ¶æ¯çäº§èä¿®æ¹ä»£ç ï¼MessageProperties.PERSISTENT_TEXT_PLAIN æ·»å è¿ä¸ªå±æ§ã\n\n\n\nå°æ¶æ¯æ è®°ä¸ºæä¹åå¹¶ä¸è½å®å¨ä¿è¯ä¸ä¼ä¸¢å¤±æ¶æ¯ãå°½ç®¡å®åè¯ RabbitMQ å°æ¶æ¯ä¿å­å°ç£çï¼ä½æ¯è¿éä¾ç¶å­å¨å½æ¶æ¯ååå¤å­å¨å¨ç£ççæ¶å ä½æ¯è¿æ²¡æå­å¨å®ï¼æ¶æ¯è¿å¨ç¼å­çä¸ä¸ªé´éç¹ãæ­¤æ¶å¹¶æ²¡ æçæ­£åå¥ç£çãæä¹æ§ä¿è¯å¹¶ä¸å¼ºï¼ä½æ¯å¯¹äºæä»¬çç®åä»»å¡éåèè¨ï¼è¿å·²ç»ç»°ç»°æä½äºã\n\nå¦æéè¦æ´å¼ºæåçæä¹åç­ç¥ï¼åèåè¾¹è¯¾ä»¶åå¸ç¡®è®¤ç« èã\n\n\n# ä¸å¬å¹³åå\n\nå¨æå¼å§çæ¶åæä»¬å­¦ä¹ å° RabbitMQ ååæ¶æ¯éç¨çè½®è®­ååï¼ä½æ¯å¨æç§åºæ¯ä¸è¿ç§ç­ç¥å¹¶ä¸æ¯å¾å¥½ï¼æ¯æ¹è¯´æä¸¤ä¸ªæ¶è´¹èå¨å¤çä»»å¡ï¼å¶ä¸­æä¸ªæ¶è´¹è 1 å¤çä»»å¡çéåº¦éå¸¸å¿«ï¼èå¦å¤ä¸ä¸ªæ¶è´¹è 2 å¤çéåº¦å´å¾æ¢ï¼è¿ä¸ªæ¶åæä»¬è¿æ¯éç¨è½®è®­ååçåå°±ä¼å°è¿å¤çéåº¦å¿«çè¿ä¸ªæ¶è´¹èå¾å¤§ä¸é¨åæ¶é´å¤äºç©ºé²ç¶æï¼èå¤çæ¢çé£ä¸ªæ¶è´¹èä¸ç´å¨å¹²æ´»ï¼è¿ç§åéæ¹å¼å¨è¿ç§æåµä¸å¶å®å°±ä¸å¤ªå¥½ï¼ä½æ¯ RabbitMQ å¹¶ä¸ç¥éè¿ç§æåµå®ä¾ç¶å¾å¬å¹³çè¿è¡ååã\n\nä¸ºäºé¿åè¿ç§æåµï¼å¨æ¶è´¹èä¸­æ¶è´¹ä¹åï¼æä»¬å¯ä»¥è®¾ç½®åæ° channel.basicQos(1);\n\n//ä¸å¬å¹³åå\nint prefetchCount = 1;\nchannel.basicQos(prefetchCount);\n//éç¨æå¨åºç­\nboolean autoAck = false;\nchannel.basicConsume(TASK_QUEUE_NAME, autoAck, deliverCallback, cancelCallback);\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n\n\n\nææå°±æ¯å¦æè¿ä¸ªä»»å¡æè¿æ²¡æå¤çå®æèæè¿æ²¡æåºç­ä½ ï¼ä½ åå«åéç»æï¼æç®ååªè½å¤çä¸ä¸ª ä»»å¡ï¼ç¶å rabbitmq å°±ä¼æè¯¥ä»»å¡åéç»æ²¡æé£ä¹å¿çé£ä¸ªç©ºé²æ¶è´¹èï¼å½ç¶å¦æææçæ¶è´¹èé½æ²¡æå® ææä¸ä»»å¡ï¼éåè¿å¨ä¸åçæ·»å æ°ä»»å¡ï¼éåæå¯è½å°±ä¼éå°éåè¢«ææ»¡çæåµï¼è¿ä¸ªæ¶åå°±åªè½æ·»å  æ°ç worker æèæ¹åå¶ä»å­å¨ä»»å¡çç­ç¥ã\n\n\n# é¢åå¼åå\n\nå¸¦æçæ¶æ¯åå\n\næ¬èº«æ¶æ¯çåéå°±æ¯å¼æ­¥åéçï¼æä»¥å¨ä»»ä½æ¶åï¼channel ä¸è¯å®ä¸æ­¢åªæä¸ä¸ªæ¶æ¯å¦å¤æ¥èªæ¶è´¹ èçæå¨ç¡®è®¤æ¬è´¨ä¸ä¹æ¯å¼æ­¥çãå æ­¤è¿éå°±å­å¨ä¸ä¸ªæªç¡®è®¤çæ¶æ¯ç¼å²åºï¼å æ­¤å¸æå¼åäººåè½éå¶æ­¤ç¼å²åºçå¤§å°ï¼ä»¥é¿åç¼å²åºéé¢æ éå¶çæªç¡®è®¤æ¶æ¯é®é¢ãè¿ä¸ªæ¶åå°±å¯ä»¥éè¿ä½¿ç¨ basic.qos æ¹æ³è®¾ ç½®âé¢åè®¡æ°âå¼æ¥å®æçã\n\nè¯¥å¼å®ä¹ééä¸åè®¸çæªç¡®è®¤æ¶æ¯çæå¤§æ°éãä¸æ¦æ°éè¾¾å°éç½®çæ°éï¼ RabbitMQ å°åæ­¢å¨ééä¸ä¼ éæ´å¤æ¶æ¯ï¼é¤éè³å°æä¸ä¸ªæªå¤ççæ¶æ¯è¢«ç¡®è®¤ï¼ä¾å¦ï¼åè®¾å¨ééä¸ææªç¡®è®¤çæ¶æ¯ 5ã6ã7ï¼8ï¼å¹¶ä¸ééçé¢åè®¡æ°è®¾ç½®ä¸º 4ï¼æ­¤æ¶RabbitMQ å°ä¸ä¼å¨è¯¥ééä¸åä¼ éä»»ä½æ¶æ¯ï¼é¤éè³å°æä¸ä¸ªæªåºç­çæ¶æ¯è¢« ackãæ¯æ¹è¯´ tag=6 è¿ä¸ªæ¶æ¯ååè¢«ç¡®è®¤ ACKï¼RabbitMQ å°ä¼æç¥ è¿ä¸ªæåµå°å¹¶ååéä¸æ¡æ¶æ¯ãæ¶æ¯åºç­å QoS é¢åå¼å¯¹ç¨æ·ååéæéå¤§å½±åã\n\néå¸¸ï¼å¢å é¢åå°æé« åæ¶è´¹èä¼ éæ¶æ¯çéåº¦ãè½ç¶èªå¨åºç­ä¼ è¾æ¶æ¯éçæ¯æä½³çï¼ä½æ¯ï¼å¨è¿ç§æåµä¸å·²ä¼ éä½å°æªå¤ççæ¶æ¯çæ°éä¹ä¼å¢å ï¼ä»èå¢å äºæ¶è´¹èç RAM æ¶è(éæºå­åå­å¨å¨)åºè¯¥å°å¿ä½¿ç¨å·ææ éé¢å¤ççèªå¨ç¡®è®¤æ¨¡å¼ææå¨ç¡®è®¤æ¨¡å¼ï¼æ¶è´¹èæ¶è´¹äºå¤§éçæ¶æ¯å¦ææ²¡æç¡®è®¤çè¯ï¼ä¼å¯¼è´æ¶è´¹èè¿æ¥èç¹ç åå­æ¶èåå¤§ï¼æä»¥æ¾å°åéçé¢åå¼æ¯ä¸ä¸ªåå¤è¯éªçè¿ç¨ï¼ä¸åçè´è½½è¯¥å¼åå¼ä¹ä¸å 100 å° 300 è å´åçå¼éå¸¸å¯æä¾æä½³çååéï¼å¹¶ä¸ä¸ä¼ç»æ¶è´¹èå¸¦æ¥å¤ªå¤§çé£é©ã\n\né¢åå¼ä¸º 1 æ¯æä¿å®çãå½ç¶è¿å°ä½¿ååéåå¾å¾ä½ï¼ç¹å«æ¯æ¶è´¹èè¿æ¥å»¶è¿å¾ä¸¥éçæåµä¸ï¼ç¹å«æ¯å¨æ¶è´¹èè¿æ¥ç­å¾æ¶é´è¾é¿çç¯å¢ ä¸­ãå¯¹äºå¤§å¤æ°åºç¨æ¥è¯´ï¼ç¨å¾®é«ä¸ç¹çå¼å°æ¯æä½³çã\n\n',normalizedContent:' * hello world\n * work queues\n   * è½®è®­ååæ¶æ¯\n * æ¶æ¯åºç­\n   * èªå¨åºç­\n   * æå¨æ¶æ¯åºç­çæ¹æ³\n   * æ¶æ¯èªå¨éæ°å¥é\n   * æ¶æ¯æå¨åºç­ä»£ç \n * rabbitmq æä¹å\n * ä¸å¬å¹³åå\n * é¢åå¼åå\n\n\n# hello world\n\næä»¬å°ç¨ java ç¼åä¸¤ä¸ªç¨åºãåéåä¸ªæ¶æ¯ççäº§èåæ¥æ¶æ¶æ¯å¹¶æå°åºæ¥çæ¶è´¹è\n\nå¨ä¸å¾ä¸­ï¼â pâ æ¯æä»¬ççäº§èï¼â câ æ¯æä»¬çæ¶è´¹èãä¸­é´çæ¡æ¯ä¸ä¸ªéå rabbitmq ä»£è¡¨ä½¿ç¨èä¿ççæ¶æ¯ç¼å²åº\n\n\n\nè¿æ¥çæ¶åï¼éè¦å¼å¯ 5672 ç«¯å£\n\n\n\n * ä¾èµ\n\npom.xml\n\n\x3c!--æå® jdk ç¼è¯çæ¬--\x3e\n<build>\n    <plugins>\n        <plugin>\n            <groupid>org.apache.maven.plugins</groupid>\n            <artifactid>maven-compiler-plugin</artifactid>\n            <configuration>\n                <source>8</source>\n                <target>8</target>\n            </configuration>\n        </plugin>\n    </plugins>\n</build>\n<dependencies>\n    \x3c!--rabbitmq ä¾èµå®¢æ·ç«¯--\x3e\n    <dependency>\n        <groupid>com.rabbitmq</groupid>\n        <artifactid>amqp-client</artifactid>\n        <version>5.8.0</version>\n    </dependency>\n    \x3c!--æä½æä»¶æµçä¸ä¸ªä¾èµ--\x3e\n    <dependency>\n        <groupid>commons-io</groupid>\n        <artifactid>commons-io</artifactid>\n        <version>2.6</version>\n    </dependency>\n</dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n * æ¶æ¯çäº§è\n\nåéæ¶æ¯\n\npackage com.oddfar.one;\n\nimport com.rabbitmq.client.channel;\nimport com.rabbitmq.client.connection;\nimport com.rabbitmq.client.connectionfactory;\n\n/**\n * @author zhiyuan\n */\npublic class producer {\n    private final static string queue_name = "hello";\n\n    public static void main(string[] args) throws exception {\n        //åå»ºä¸ä¸ªè¿æ¥å·¥å\n        connectionfactory factory = new connectionfactory();\n        factory.sethost("42.192.149.71");\n        factory.setusername("admin");\n        factory.setpassword("123456");\n        //channel å®ç°äºèªå¨ close æ¥å£ èªå¨å³é­ ä¸éè¦æ¾ç¤ºå³é­\n        //åå»ºè¿æ¥\n        connection connection = factory.newconnection();\n        //è·åä¿¡é\n        channel channel = connection.createchannel();\n        /**\n         * çæä¸ä¸ªéå\n         * 1.éååç§°\n         * 2.éåéé¢çæ¶æ¯æ¯å¦æä¹å ä¹å°±æ¯æ¯å¦ç¨å®å°±å é¤\n         * 3.è¯¥éåæ¯å¦åªä¾ä¸ä¸ªæ¶è´¹èè¿è¡æ¶è´¹ æ¯å¦è¿è¡å±äº« true å¯ä»¥å¤ä¸ªæ¶è´¹èæ¶è´¹\n         * 4.æ¯å¦èªå¨å é¤ æåä¸ä¸ªæ¶è´¹èç«¯å¼è¿æ¥ä»¥å è¯¥éåæ¯å¦èªå¨å é¤ true èªå¨å é¤\n         * 5.å¶ä»åæ°\n         */\n        channel.queuedeclare(queue_name, false, false, false, null);\n        string message = "hello world";\n        /**\n         * åéä¸ä¸ªæ¶æ¯\n         * 1.åéå°é£ä¸ªäº¤æ¢æº\n         * 2.è·¯ç±ç key æ¯åªä¸ª\n         * 3.å¶ä»çåæ°ä¿¡æ¯\n         * 4.åéæ¶æ¯çæ¶æ¯ä½\n         */\n        channel.basicpublish("", queue_name, null, message.getbytes());\n        system.out.println("æ¶æ¯åéå®æ¯");\n\n    }\n    \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n\n * æ¶æ¯æ¶è´¹è\n\nè·åâçäº§èâååºçæ¶æ¯\n\npackage com.oddfar.one;\n\nimport com.rabbitmq.client.*;\n\n/**\n * @author zhiyuan\n */\npublic class consumer {\n    private final static string queue_name = "hello";\n\n    public static void main(string[] args) throws exception {\n        connectionfactory factory = new connectionfactory();\n        factory.sethost("42.192.149.71");\n        factory.setusername("admin");\n        factory.setpassword("123456");\n        connection connection = factory.newconnection();\n        channel channel = connection.createchannel();\n\n        system.out.println("ç­å¾æ¥æ¶æ¶æ¯.........");\n\n        //æ¨éçæ¶æ¯å¦ä½è¿è¡æ¶è´¹çæ¥å£åè°\n        delivercallback delivercallback = (consumertag, delivery) -> {\n            string message = new string(delivery.getbody());\n            system.out.println(message);\n        };\n        //åæ¶æ¶è´¹çä¸ä¸ªåè°æ¥å£ å¦å¨æ¶è´¹çæ¶åéåè¢«å é¤æäº\n        cancelcallback cancelcallback = (consumertag) -> {\n            system.out.println("æ¶æ¯æ¶è´¹è¢«ä¸­æ­");\n        };\n        /**\n         * æ¶è´¹èæ¶è´¹æ¶æ¯ - æ¥åæ¶æ¯\n         * 1.æ¶è´¹åªä¸ªéå\n         * 2.æ¶è´¹æåä¹åæ¯å¦è¦èªå¨åºç­ true ä»£è¡¨èªå¨åºç­ false æå¨åºç­\n         * 3.æ¶è´¹èæªæåæ¶è´¹çåè°\n         * 4.æ¶æ¯è¢«åæ¶æ¶çåè°\n         */\n        channel.basicconsume(queue_name, true, delivercallback, cancelcallback);\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\n\n# work queues\n\nwork queuesââå·¥ä½éå(åç§°ä»»å¡éå)çä¸»è¦ææ³æ¯é¿åç«å³æ§è¡èµæºå¯éåä»»å¡ï¼èä¸å¾ä¸ç­å¾å®å®æã ç¸åæä»¬å®æä»»å¡å¨ä¹åæ§è¡ãæä»¬æä»»å¡å°è£ä¸ºæ¶æ¯å¹¶å°å¶åéå°éåãå¨åå°è¿è¡çå·¥ä½è¿ ç¨å°å¼¹åºä»»å¡å¹¶æç»æ§è¡ä½ä¸ãå½æå¤ä¸ªå·¥ä½çº¿ç¨æ¶ï¼è¿äºå·¥ä½çº¿ç¨å°ä¸èµ·å¤çè¿äºä»»å¡ã\n\n\n# è½®è®­ååæ¶æ¯\n\nå¨è¿ä¸ªæ¡ä¾ä¸­æä»¬ä¼å¯å¨ä¸¤ä¸ªå·¥ä½çº¿ç¨ï¼ä¸ä¸ªæ¶æ¯åéçº¿ç¨ï¼æä»¬æ¥ççä»ä»¬ä¸¤ä¸ªå·¥ä½çº¿ç¨æ¯å¦ä½å·¥ä½çã\n\n1ãæ½åå·¥å·ç±»\n\npackage com.oddfar.utils;\n\nimport com.rabbitmq.client.channel;\nimport com.rabbitmq.client.connection;\nimport com.rabbitmq.client.connectionfactory;\n\npublic class rabbitmqutils {\n    //å¾å°ä¸ä¸ªè¿æ¥ç channel\n    public static channel getchannel() throws exception {\n        //åå»ºä¸ä¸ªè¿æ¥å·¥å\n        connectionfactory factory = new connectionfactory();\n        factory.sethost("42.192.149.71");\n        factory.setusername("admin");\n        factory.setpassword("123456");\n        connection connection = factory.newconnection();\n        channel channel = connection.createchannel();\n        return channel;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n2ãå¯å¨ä¸¤ä¸ªå·¥ä½çº¿ç¨æ¥æ¥åæ¶æ¯\n\npackage com.oddfar.two;\n\nimport com.oddfar.utils.rabbitmqutils;\nimport com.rabbitmq.client.cancelcallback;\nimport com.rabbitmq.client.channel;\nimport com.rabbitmq.client.delivercallback;\n\n/**\n * è¿æ¯ä¸ä¸ªå·¥ä½çº¿ç¨ï¼ç¸å½äºä¹åçæ¶è´¹è\n *\n * @author zhiyuan\n */\npublic class worker01 {\n\n    private static final string queue_name = "hello";\n\n    public static void main(string[] args) throws exception {\n\n        channel channel = rabbitmqutils.getchannel();\n\n        //æ¶æ¯æ¥å\n        delivercallback delivercallback = (consumertag, delivery) -> {\n            string receivedmessage = new string(delivery.getbody());\n            system.out.println("æ¥æ¶å°æ¶æ¯:" + receivedmessage);\n        };\n        //æ¶æ¯è¢«åæ¶\n        cancelcallback cancelcallback = (consumertag) -> {\n            system.out.println(consumertag + "æ¶è´¹èåæ¶æ¶è´¹æ¥å£åè°é»è¾");\n\n        };\n\n        system.out.println("c1 æ¶è´¹èå¯å¨ç­å¾æ¶è´¹.................. ");\n        channel.basicconsume(queue_name, true, delivercallback, cancelcallback);\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\néä¸­ allow multiple instances\n\nå¯å¨å\n\n\n\n3ãå¯å¨ä¸ä¸ªåéæ¶æ¯çº¿ç¨\n\npublic class task01 {\n    public static final string queue_name = "hello";\n\n    public static void main(string[] args) throws exception {\n\n        channel channel = rabbitmqutils.getchannel();\n\n        scanner scanner = new scanner(system.in);\n        while (scanner.hasnext()) {\n            string message = scanner.next();\n            channel.basicpublish("", queue_name, null, message.getbytes());\n            system.out.println("æ¶æ¯åéå®æï¼" + message);\n        }\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n * ç»æå±ç¤º\n\néè¿ç¨åºæ§è¡åç°çäº§èæ»å±åé 4 ä¸ªæ¶æ¯ï¼æ¶è´¹è 1 åæ¶è´¹è 2 åå«åå¾ä¸¤ä¸ªæ¶æ¯ï¼å¹¶ä¸æ¯æç§æåºçä¸ä¸ªæ¥æ¶ä¸æ¬¡æ¶æ¯\n\n\n\n\n# æ¶æ¯åºç­\n\næ¶è´¹èå®æä¸ä¸ªä»»å¡å¯è½éè¦ä¸æ®µæ¶é´ï¼å¦æå¶ä¸­ä¸ä¸ªæ¶è´¹èå¤çä¸ä¸ªé¿çä»»å¡å¹¶ä»åªå®æäºé¨åçªç¶å®ææäºï¼ä¼åçä»ä¹æåµãrabbitmq ä¸æ¦åæ¶è´¹èä¼ éäºä¸æ¡æ¶æ¯ï¼ä¾¿ç«å³å°è¯¥æ¶æ¯æ è®°ä¸ºå é¤ãå¨è¿ç§æåµä¸ï¼çªç¶æä¸ªæ¶è´¹èææäºï¼æä»¬å°ä¸¢å¤±æ­£å¨å¤ççæ¶æ¯ãä»¥ååç»­åéç»è¯¥æ¶è´¹è¿çæ¶æ¯ï¼å ä¸ºå®æ æ³æ¥æ¶å°ã\n\nä¸ºäºä¿è¯æ¶æ¯å¨åéè¿ç¨ä¸­ä¸ä¸¢å¤±ï¼å¼å¥æ¶æ¯åºç­æºå¶ï¼æ¶æ¯åºç­å°±æ¯ï¼æ¶è´¹èå¨æ¥æ¶å°æ¶æ¯å¹¶ä¸å¤çè¯¥æ¶æ¯ä¹åï¼åè¯ rabbitmq å®å·²ç»å¤çäºï¼rabbitmq å¯ä»¥æè¯¥æ¶æ¯å é¤äºã\n\n\n# èªå¨åºç­\n\næ¶æ¯åéåç«å³è¢«è®¤ä¸ºå·²ç»ä¼ éæåï¼è¿ç§æ¨¡å¼éè¦å¨é«ååéåæ°æ®ä¼ è¾å®å¨æ§æ¹é¢åæè¡¡,å ä¸ºè¿ç§æ¨¡å¼å¦ææ¶æ¯å¨æ¥æ¶å°ä¹åï¼æ¶è´¹èé£è¾¹åºç°è¿æ¥æè channel å³é­ï¼é£ä¹æ¶æ¯å°±ä¸¢å¤± äº,å½ç¶å¦ä¸æ¹é¢è¿ç§æ¨¡å¼æ¶è´¹èé£è¾¹å¯ä»¥ä¼ éè¿è½½çæ¶æ¯ï¼æ²¡æå¯¹ä¼ éçæ¶æ¯æ°éè¿è¡éå¶ï¼å½ç¶è¿æ ·æå¯è½ä½¿å¾æ¶è´¹èè¿è¾¹ç±äºæ¥æ¶å¤ªå¤è¿æ¥ä¸åå¤ççæ¶æ¯ï¼å¯¼è´è¿äºæ¶æ¯çç§¯åï¼æç»ä½¿ å¾åå­èå°½ï¼æç»è¿äºæ¶è´¹èçº¿ç¨è¢«æä½ç³»ç»ææ­»ï¼æä»¥è¿ç§æ¨¡å¼ä»éç¨å¨æ¶è´¹èå¯ä»¥é«æå¹¶ä»¥ æç§éçè½å¤å¤çè¿äºæ¶æ¯çæåµä¸ä½¿ç¨ã\n\n\n# æå¨æ¶æ¯åºç­çæ¹æ³\n\n * channel.basicack(ç¨äºè¯å®ç¡®è®¤)\n   \n   rabbitmq å·²ç¥éè¯¥æ¶æ¯å¹¶ä¸æåçå¤çæ¶æ¯ï¼å¯ä»¥å°å¶ä¸¢å¼äº\n\n * channel.basicnack(ç¨äºå¦å®ç¡®è®¤)\n\n * channel.basicreject(ç¨äºå¦å®ç¡®è®¤)\n   \n   ä¸ channel.basicnack ç¸æ¯å°ä¸ä¸ªåæ°ï¼ä¸å¤çè¯¥æ¶æ¯äºç´æ¥æç»ï¼å¯ä»¥å°å¶ä¸¢å¼äº\n\nmultiple çè§£éï¼\n\næå¨åºç­çå¥½å¤æ¯å¯ä»¥æ¹éåºç­å¹¶ä¸åå°ç½ç»æ¥å µ\n\n\n\n * true ä»£è¡¨æ¹éåºç­ channel ä¸æªåºç­çæ¶æ¯\n   \n   æ¯å¦è¯´ channel ä¸æä¼ é tag çæ¶æ¯ 5,6,7,8 å½å tag æ¯8 é£ä¹æ­¤æ¶5-8 çè¿äºè¿æªåºç­çæ¶æ¯é½ä¼è¢«ç¡®è®¤æ¶å°æ¶æ¯åºç­\n\n * false åä¸é¢ç¸æ¯åªä¼åºç­ tag=8 çæ¶æ¯ 5,6,7 è¿ä¸ä¸ªæ¶æ¯ä¾ç¶ä¸ä¼è¢«ç¡®è®¤æ¶å°æ¶æ¯åºç­\n\n\n\n\n# æ¶æ¯èªå¨éæ°å¥é\n\nå¦ææ¶è´¹èç±äºæäºåå å¤±å»è¿æ¥(å¶ééå·²å³é­ï¼è¿æ¥å·²å³é­æ tcp è¿æ¥ä¸¢å¤±)ï¼å¯¼è´æ¶æ¯æªåé ack ç¡®è®¤ï¼rabbitmq å°äºè§£å°æ¶æ¯æªå®å¨å¤çï¼å¹¶å°å¯¹å¶éæ°æéãå¦ææ­¤æ¶å¶ä»æ¶è´¹èå¯ä»¥å¤çï¼å®å°å¾å¿«å°å¶éæ°ååç»å¦ä¸ä¸ªæ¶è´¹èãè¿æ ·ï¼å³ä½¿æä¸ªæ¶è´¹èå¶å°æ­»äº¡ï¼ä¹å¯ä»¥ç¡®ä¿ä¸ä¼ä¸¢å¤±ä»»ä½æ¶æ¯ã\n\n\n\n\n# æ¶æ¯æå¨åºç­ä»£ç \n\né»è®¤æ¶æ¯éç¨çæ¯èªå¨åºç­ï¼æä»¥æä»¬è¦æ³å®ç°æ¶æ¯æ¶è´¹è¿ç¨ä¸­ä¸ä¸¢å¤±ï¼éè¦æèªå¨åºç­æ¹ä¸ºæå¨åºç­\n\næ¶è´¹èå¨ä¸é¢ä»£ç çåºç¡ä¸å¢å äºä»¥ä¸åå®¹\n\nchannel.basicack(delivery.getenvelope().getdeliverytag(), false);\n\n\n1\n\n\næ¶æ¯çäº§èï¼\n\npackage com.oddfar.three;\n\nimport com.oddfar.utils.rabbitmqutils;\nimport com.rabbitmq.client.channel;\n\nimport java.util.scanner;\n\n/**\n * æ¶æ¯çäº§è,æ¶æ¯å¨æå¨åºç­æ¶æ¯ä¸ä¸¢å¤±çï¼æ¾åéåéæ°æ¶è´¹\n *\n * @author zhiyuan\n */\npublic class task02 {\n    private static final string task_queue_name = "ack_queue";\n\n    public static void main(string[] args) throws exception {\n        channel channel = rabbitmqutils.getchannel();\n        //å£°æéå\n        channel.queuedeclare(task_queue_name, false, false, false, null);\n        scanner sc = new scanner(system.in);\n        system.out.println("è¯·è¾å¥ä¿¡æ¯");\n        while (sc.hasnext()) {\n            string message = sc.nextline();\n            //åå¸æ¶æ¯\n            channel.basicpublish("", task_queue_name, null, message.getbytes("utf-8"));\n            system.out.println("çäº§èååºæ¶æ¯" + message);\n        }\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\næ¶è´¹è 01ï¼\n\npackage com.oddfar.three;\n\nimport com.oddfar.utils.rabbitmqutils;\nimport com.rabbitmq.client.cancelcallback;\nimport com.rabbitmq.client.channel;\nimport com.rabbitmq.client.delivercallback;\n\n/**\n * æ¶è´¹è01\n *\n * @author zhiyuan\n */\npublic class work03 {\n    private static final string task_queue_name = "ack_queue";\n\n    public static void main(string[] args) throws exception {\n        channel channel = rabbitmqutils.getchannel();\n        system.out.println("c1 ç­å¾æ¥æ¶æ¶æ¯å¤çæ¶é´è¾ ç­");\n\n        delivercallback delivercallback = (consumertag, delivery) -> {\n            string message = new string(delivery.getbody());\n            try {\n                thread.sleep(1000);\n            } catch (interruptedexception e) {\n                e.printstacktrace();\n            }\n            system.out.println("æ¥æ¶å°æ¶æ¯:" + message);\n            /**\n             * 1.æ¶æ¯æ è®° tag\n             * 2.æ¯å¦æ¹éåºç­æªåºç­æ¶æ¯\n             */\n            channel.basicack(delivery.getenvelope().getdeliverytag(), false);\n        };\n\n        cancelcallback cancelcallback = (s) -> {\n            system.out.println(s + "æ¶è´¹èåæ¶æ¶è´¹æ¥å£åè°é»è¾");\n        };\n\n        //éç¨æå¨åºç­\n        boolean autoack = false;\n        channel.basicconsume(task_queue_name, autoack, delivercallback, cancelcallback);\n\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n\n\næ¶è´¹è 02ï¼\n\nææ¶é´æ¹æ30ç§\n\næå¨åºç­æææ¼ç¤º\n\næ­£å¸¸æåµä¸æ¶æ¯åéæ¹åéä¸¤ä¸ªæ¶æ¯ c1 å c2 åå«æ¥æ¶å°æ¶æ¯å¹¶è¿è¡å¤ç\n\n\n\nå¨åéèåéæ¶æ¯ ddï¼ååºæ¶æ¯ä¹åçæ c2 æ¶è´¹èåæï¼æçè¯´è¯¥ c2 æ¥å¤çè¯¥æ¶æ¯ï¼ä½æ¯ç±äºå®å¤çæ¶é´è¾é¿ï¼å¨è¿æªå¤çå®ï¼ä¹å°±æ¯è¯´ c2 è¿æ²¡ææ§è¡ ack ä»£ç çæ¶åï¼c2 è¢«åæäºï¼ æ­¤æ¶ä¼çå°æ¶æ¯è¢« c1 æ¥æ¶å°äºï¼è¯´ææ¶æ¯ dd è¢«éæ°å¥éï¼ç¶ååéç»è½å¤çæ¶æ¯ç c1 å¤çäº\n\n\n\n\n\n\n\n\n# rabbitmq æä¹å\n\nå½ rabbitmq æå¡åæä»¥åï¼æ¶æ¯çäº§èåéè¿æ¥çæ¶æ¯ä¸ä¸¢å¤±è¦å¦ä½ä¿éï¼é»è®¤æåµä¸ rabbitmq éåºæç±äºæç§åå å´©æºæ¶ï¼å®å¿½è§éååæ¶æ¯ï¼é¤éåç¥å®ä¸è¦è¿æ ·åãç¡®ä¿æ¶æ¯ä¸ä¼ä¸¢å¤±éè¦åä¸¤ä»¶äºï¼æä»¬éè¦å°éååæ¶æ¯é½æ è®°ä¸ºæä¹åã\n\néåå¦ä½å®ç°æä¹å\n\nä¹åæä»¬åå»ºçéåé½æ¯éæä¹åçï¼rabbitmq å¦æéå¯çåï¼è¯¥éåå°±ä¼è¢«å é¤æï¼å¦æè¦éåå®ç°æä¹åéè¦å¨å£°æéåçæ¶åæ durable åæ°è®¾ç½®ä¸ºæä¹å\n\n//è®©éåæä¹å\nboolean durable = true;\n//å£°æéå\nchannel.queuedeclare(task_queue_name, durable, false, false, null);\n\n\n1\n2\n3\n4\n\n\næ³¨æï¼å¦æä¹åå£°æçéåä¸æ¯æä¹åçï¼éè¦æååéååå é¤ï¼æèéæ°åå»ºä¸ä¸ªæä¹åçéåï¼ä¸ç¶å°±ä¼åºç°éè¯¯\n\n\n\nä»¥ä¸ä¸ºæ§å¶å°ä¸­æä¹åä¸éæä¹åéåç ui æ¾ç¤ºåºã\n\n\n\næ¶æ¯å®ç°æä¹å\n\néè¦å¨æ¶æ¯çäº§èä¿®æ¹ä»£ç ï¼messageproperties.persistent_text_plain æ·»å è¿ä¸ªå±æ§ã\n\n\n\nå°æ¶æ¯æ è®°ä¸ºæä¹åå¹¶ä¸è½å®å¨ä¿è¯ä¸ä¼ä¸¢å¤±æ¶æ¯ãå°½ç®¡å®åè¯ rabbitmq å°æ¶æ¯ä¿å­å°ç£çï¼ä½æ¯è¿éä¾ç¶å­å¨å½æ¶æ¯ååå¤å­å¨å¨ç£ççæ¶å ä½æ¯è¿æ²¡æå­å¨å®ï¼æ¶æ¯è¿å¨ç¼å­çä¸ä¸ªé´éç¹ãæ­¤æ¶å¹¶æ²¡ æçæ­£åå¥ç£çãæä¹æ§ä¿è¯å¹¶ä¸å¼ºï¼ä½æ¯å¯¹äºæä»¬çç®åä»»å¡éåèè¨ï¼è¿å·²ç»ç»°ç»°æä½äºã\n\nå¦æéè¦æ´å¼ºæåçæä¹åç­ç¥ï¼åèåè¾¹è¯¾ä»¶åå¸ç¡®è®¤ç« èã\n\n\n# ä¸å¬å¹³åå\n\nå¨æå¼å§çæ¶åæä»¬å­¦ä¹ å° rabbitmq ååæ¶æ¯éç¨çè½®è®­ååï¼ä½æ¯å¨æç§åºæ¯ä¸è¿ç§ç­ç¥å¹¶ä¸æ¯å¾å¥½ï¼æ¯æ¹è¯´æä¸¤ä¸ªæ¶è´¹èå¨å¤çä»»å¡ï¼å¶ä¸­æä¸ªæ¶è´¹è 1 å¤çä»»å¡çéåº¦éå¸¸å¿«ï¼èå¦å¤ä¸ä¸ªæ¶è´¹è 2 å¤çéåº¦å´å¾æ¢ï¼è¿ä¸ªæ¶åæä»¬è¿æ¯éç¨è½®è®­ååçåå°±ä¼å°è¿å¤çéåº¦å¿«çè¿ä¸ªæ¶è´¹èå¾å¤§ä¸é¨åæ¶é´å¤äºç©ºé²ç¶æï¼èå¤çæ¢çé£ä¸ªæ¶è´¹èä¸ç´å¨å¹²æ´»ï¼è¿ç§åéæ¹å¼å¨è¿ç§æåµä¸å¶å®å°±ä¸å¤ªå¥½ï¼ä½æ¯ rabbitmq å¹¶ä¸ç¥éè¿ç§æåµå®ä¾ç¶å¾å¬å¹³çè¿è¡ååã\n\nä¸ºäºé¿åè¿ç§æåµï¼å¨æ¶è´¹èä¸­æ¶è´¹ä¹åï¼æä»¬å¯ä»¥è®¾ç½®åæ° channel.basicqos(1);\n\n//ä¸å¬å¹³åå\nint prefetchcount = 1;\nchannel.basicqos(prefetchcount);\n//éç¨æå¨åºç­\nboolean autoack = false;\nchannel.basicconsume(task_queue_name, autoack, delivercallback, cancelcallback);\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n\n\n\nææå°±æ¯å¦æè¿ä¸ªä»»å¡æè¿æ²¡æå¤çå®æèæè¿æ²¡æåºç­ä½ ï¼ä½ åå«åéç»æï¼æç®ååªè½å¤çä¸ä¸ª ä»»å¡ï¼ç¶å rabbitmq å°±ä¼æè¯¥ä»»å¡åéç»æ²¡æé£ä¹å¿çé£ä¸ªç©ºé²æ¶è´¹èï¼å½ç¶å¦æææçæ¶è´¹èé½æ²¡æå® ææä¸ä»»å¡ï¼éåè¿å¨ä¸åçæ·»å æ°ä»»å¡ï¼éåæå¯è½å°±ä¼éå°éåè¢«ææ»¡çæåµï¼è¿ä¸ªæ¶åå°±åªè½æ·»å  æ°ç worker æèæ¹åå¶ä»å­å¨ä»»å¡çç­ç¥ã\n\n\n# é¢åå¼åå\n\nå¸¦æçæ¶æ¯åå\n\næ¬èº«æ¶æ¯çåéå°±æ¯å¼æ­¥åéçï¼æä»¥å¨ä»»ä½æ¶åï¼channel ä¸è¯å®ä¸æ­¢åªæä¸ä¸ªæ¶æ¯å¦å¤æ¥èªæ¶è´¹ èçæå¨ç¡®è®¤æ¬è´¨ä¸ä¹æ¯å¼æ­¥çãå æ­¤è¿éå°±å­å¨ä¸ä¸ªæªç¡®è®¤çæ¶æ¯ç¼å²åºï¼å æ­¤å¸æå¼åäººåè½éå¶æ­¤ç¼å²åºçå¤§å°ï¼ä»¥é¿åç¼å²åºéé¢æ éå¶çæªç¡®è®¤æ¶æ¯é®é¢ãè¿ä¸ªæ¶åå°±å¯ä»¥éè¿ä½¿ç¨ basic.qos æ¹æ³è®¾ ç½®âé¢åè®¡æ°âå¼æ¥å®æçã\n\nè¯¥å¼å®ä¹ééä¸åè®¸çæªç¡®è®¤æ¶æ¯çæå¤§æ°éãä¸æ¦æ°éè¾¾å°éç½®çæ°éï¼ rabbitmq å°åæ­¢å¨ééä¸ä¼ éæ´å¤æ¶æ¯ï¼é¤éè³å°æä¸ä¸ªæªå¤ççæ¶æ¯è¢«ç¡®è®¤ï¼ä¾å¦ï¼åè®¾å¨ééä¸ææªç¡®è®¤çæ¶æ¯ 5ã6ã7ï¼8ï¼å¹¶ä¸ééçé¢åè®¡æ°è®¾ç½®ä¸º 4ï¼æ­¤æ¶rabbitmq å°ä¸ä¼å¨è¯¥ééä¸åä¼ éä»»ä½æ¶æ¯ï¼é¤éè³å°æä¸ä¸ªæªåºç­çæ¶æ¯è¢« ackãæ¯æ¹è¯´ tag=6 è¿ä¸ªæ¶æ¯ååè¢«ç¡®è®¤ ackï¼rabbitmq å°ä¼æç¥ è¿ä¸ªæåµå°å¹¶ååéä¸æ¡æ¶æ¯ãæ¶æ¯åºç­å qos é¢åå¼å¯¹ç¨æ·ååéæéå¤§å½±åã\n\néå¸¸ï¼å¢å é¢åå°æé« åæ¶è´¹èä¼ éæ¶æ¯çéåº¦ãè½ç¶èªå¨åºç­ä¼ è¾æ¶æ¯éçæ¯æä½³çï¼ä½æ¯ï¼å¨è¿ç§æåµä¸å·²ä¼ éä½å°æªå¤ççæ¶æ¯çæ°éä¹ä¼å¢å ï¼ä»èå¢å äºæ¶è´¹èç ram æ¶è(éæºå­åå­å¨å¨)åºè¯¥å°å¿ä½¿ç¨å·ææ éé¢å¤ççèªå¨ç¡®è®¤æ¨¡å¼ææå¨ç¡®è®¤æ¨¡å¼ï¼æ¶è´¹èæ¶è´¹äºå¤§éçæ¶æ¯å¦ææ²¡æç¡®è®¤çè¯ï¼ä¼å¯¼è´æ¶è´¹èè¿æ¥èç¹ç åå­æ¶èåå¤§ï¼æä»¥æ¾å°åéçé¢åå¼æ¯ä¸ä¸ªåå¤è¯éªçè¿ç¨ï¼ä¸åçè´è½½è¯¥å¼åå¼ä¹ä¸å 100 å° 300 è å´åçå¼éå¸¸å¯æä¾æä½³çååéï¼å¹¶ä¸ä¸ä¼ç»æ¶è´¹èå¸¦æ¥å¤ªå¤§çé£é©ã\n\né¢åå¼ä¸º 1 æ¯æä¿å®çãå½ç¶è¿å°ä½¿ååéåå¾å¾ä½ï¼ç¹å«æ¯æ¶è´¹èè¿æ¥å»¶è¿å¾ä¸¥éçæåµä¸ï¼ç¹å«æ¯å¨æ¶è´¹èè¿æ¥ç­å¾æ¶é´è¾é¿çç¯å¢ ä¸­ãå¯¹äºå¤§å¤æ°åºç¨æ¥è¯´ï¼ç¨å¾®é«ä¸ç¹çå¼å°æ¯æä½³çã\n\n',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"RabbitMQ - å»¶è¿éå",frontmatter:{title:"RabbitMQ - å»¶è¿éå",date:"2021-06-28T10:38:11.000Z",permalink:"/pages/0a0086/"},regularPath:"/04.%E6%A1%86%E6%9E%B6/20.RabbitMQ/16.RabbitMQ%20-%20%E5%BB%B6%E8%BF%9F%E9%98%9F%E5%88%97.html",relativePath:"04.æ¡æ¶/20.RabbitMQ/16.RabbitMQ - å»¶è¿éå.md",key:"v-aa511c30",path:"/pages/0a0086/",headers:[{level:2,title:"å»¶è¿éåä»ç»",slug:"å»¶è¿éåä»ç»",normalizedTitle:"å»¶è¿éåä»ç»",charIndex:3},{level:2,title:"RabbitMQ ä¸­ç TTL",slug:"rabbitmq-ä¸­ç-ttl",normalizedTitle:"rabbitmq ä¸­ç ttl",charIndex:13},{level:2,title:"æ´å springboot",slug:"æ´å-springboot",normalizedTitle:"æ´å springboot",charIndex:32},{level:2,title:"éå TTL",slug:"éå-ttl",normalizedTitle:"éå ttl",charIndex:49},{level:2,title:"å»¶æ¶éåTTLä¼å",slug:"å»¶æ¶éåttlä¼å",normalizedTitle:"å»¶æ¶éåttlä¼å",charIndex:59},{level:2,title:"Rabbitmq æä»¶å®ç°å»¶è¿éå",slug:"rabbitmq-æä»¶å®ç°å»¶è¿éå",normalizedTitle:"rabbitmq æä»¶å®ç°å»¶è¿éå",charIndex:72},{level:2,title:"æ»ç»",slug:"æ»ç»",normalizedTitle:"æ»ç»",charIndex:93}],headersStr:"å»¶è¿éåä»ç» RabbitMQ ä¸­ç TTL æ´å springboot éå TTL å»¶æ¶éåTTLä¼å Rabbitmq æä»¶å®ç°å»¶è¿éå æ»ç»",content:' * å»¶è¿éåä»ç»\n * RabbitMQ ä¸­ç TTL\n * æ´å springboot\n * éå TTL\n * å»¶æ¶éåTTLä¼å\n * Rabbitmq æä»¶å®ç°å»¶è¿éå\n * æ»ç»\n\n\n# å»¶è¿éåä»ç»\n\n * å»¶è¿éåæ¦å¿µï¼\n\nå»¶æ¶éå,éååé¨æ¯æåºçï¼æéè¦çç¹æ§å°±ä½ç°å¨å®çå»¶æ¶å±æ§ä¸ï¼å»¶æ¶éåä¸­çåç´ æ¯å¸æ å¨æå®æ¶é´å°äºä»¥åæä¹åååºåå¤çï¼ç®åæ¥è¯´ï¼å»¶æ¶éåå°±æ¯ç¨æ¥å­æ¾éè¦å¨æå®æ¶é´è¢«å¤çç åç´ çéåã\n\n * å»¶è¿éåä½¿ç¨åºæ¯ï¼\n\n1.è®¢åå¨ååéä¹åæªæ¯ä»åèªå¨åæ¶ 2.æ°åå»ºçåºéºï¼å¦æå¨åå¤©åé½æ²¡æä¸ä¼ è¿ååï¼åèªå¨åéæ¶æ¯æéã 3.ç¨æ·æ³¨åæååï¼å¦æä¸å¤©åæ²¡æç»éåè¿è¡ç­ä¿¡æéã 4.ç¨æ·åèµ·éæ¬¾ï¼å¦æä¸å¤©åæ²¡æå¾å°å¤çåéç¥ç¸å³è¿è¥äººåã 5.é¢å®ä¼è®®åï¼éè¦å¨é¢å®çæ¶é´ç¹åååééç¥åä¸ªä¸ä¼äººååå ä¼è®®\n\nè¿äºåºæ¯é½æä¸ä¸ªç¹ç¹ï¼éè¦å¨æä¸ªäºä»¶åçä¹åæèä¹åçæå®æ¶é´ç¹å®ææä¸é¡¹ä»»å¡ï¼å¦ï¼ åçè®¢åçæäºä»¶ï¼å¨ååéä¹åæ£æ¥è¯¥è®¢åæ¯ä»ç¶æï¼ç¶åå°æªæ¯ä»çè®¢åè¿è¡å³é­ï¼é£æä»¬ä¸ç´è½®è¯¢æ°æ®ï¼æ¯ç§æ¥ä¸æ¬¡ï¼ååºéè¦è¢«å¤ççæ°æ®ï¼ç¶åå¤çä¸å°±å®äºäºåï¼\n\nå¦ææ°æ®éæ¯è¾å°ï¼ç¡®å®å¯ä»¥è¿æ ·åï¼æ¯å¦ï¼å¯¹äºâå¦æè´¦åä¸å¨åæªæ¯ä»åè¿è¡èªå¨ç»ç®âè¿æ ·çéæ±ï¼ å¦æå¯¹äºæ¶é´ä¸æ¯ä¸¥æ ¼éå¶ï¼èæ¯å®½æ¾æä¹ä¸çä¸å¨ï¼é£ä¹æ¯å¤©æä¸è·ä¸ªå®æ¶ä»»å¡æ£æ¥ä¸ä¸æææªæ¯ä»çè´¦åï¼ç¡®å®ä¹æ¯ä¸ä¸ªå¯è¡çæ¹æ¡ãä½å¯¹äºæ°æ®éæ¯è¾å¤§ï¼å¹¶ä¸æ¶ææ§è¾å¼ºçåºæ¯ï¼å¦ï¼âè®¢åååéåæªæ¯ä»åå³é­âï¼ç­æåæªæ¯ä»çè®¢åæ°æ®å¯è½ä¼æå¾å¤ï¼æ´»å¨æé´çè³ä¼è¾¾å°ç¾ä¸çè³åä¸çº§å«ï¼å¯¹è¿ä¹åºå¤§çæ°æ®éä»æ§ä½¿ç¨è½®è¯¢çæ¹å¼æ¾ç¶æ¯ä¸å¯åçï¼å¾å¯è½å¨ä¸ç§åæ æ³å®æææè®¢åçæ£æ¥ï¼åæ¶ä¼ç»æ°æ®åºå¸¦æ¥å¾å¤§ååï¼æ æ³æ»¡è¶³ä¸å¡è¦æ±èä¸æ§è½ä½ä¸ã\n\n\n\n\n# RabbitMQ ä¸­ç TTL\n\nTTL æ¯ä»ä¹å¢ï¼TTL æ¯ RabbitMQ ä¸­ä¸ä¸ªæ¶æ¯æèéåçå±æ§ï¼è¡¨æä¸æ¡æ¶æ¯æèè¯¥éåä¸­çæææ¶æ¯çæå¤§å­æ´»æ¶é´ï¼åä½æ¯æ¯«ç§ã\n\næ¢å¥è¯è¯´ï¼å¦æä¸æ¡æ¶æ¯è®¾ç½®äº TTL å±æ§æèè¿å¥äºè®¾ç½®TTL å±æ§çéåï¼é£ä¹è¿æ¡æ¶æ¯å¦æå¨ TTL è®¾ç½®çæ¶é´åæ²¡æè¢«æ¶è´¹ï¼åä¼æä¸º"æ­»ä¿¡"ãå¦æåæ¶éç½®äºéåçTTL åæ¶æ¯ç TTLï¼é£ä¹è¾å°çé£ä¸ªå¼å°ä¼è¢«ä½¿ç¨ï¼æä¸¤ç§æ¹å¼è®¾ç½® TTLã\n\n * éåè®¾ç½®TTL\n\nå¨åå»ºéåçæ¶åè®¾ç½®éåçâx-message-ttlâå±æ§\n\n\n\n * æ¶æ¯è®¾ç½®TTL\n\næ¯éå¯¹æ¯æ¡æ¶æ¯è®¾ç½®TTL\n\n\n\nä¸¤èçåºå«\n\nå¦æè®¾ç½®äºéåç TTL å±æ§ï¼é£ä¹ä¸æ¦æ¶æ¯è¿æï¼å°±ä¼è¢«éåä¸¢å¼(å¦æéç½®äºæ­»ä¿¡éåè¢«ä¸¢å°æ­»ä¿¡éåä¸­)ï¼èç¬¬äºç§æ¹å¼ï¼æ¶æ¯å³ä½¿è¿æï¼ä¹ä¸ä¸å®ä¼è¢«é©¬ä¸ä¸¢å¼ï¼å ä¸ºæ¶æ¯æ¯å¦è¿ææ¯å¨å³å°æéå°æ¶è´¹èä¹åå¤å®çï¼å¦æå½åéåæä¸¥éçæ¶æ¯ç§¯åæåµï¼åå·²è¿æçæ¶æ¯ä¹è®¸è¿è½å­æ´»è¾é¿æ¶é´ï¼\n\nå¦å¤ï¼è¿éè¦æ³¨æçä¸ç¹æ¯ï¼å¦æä¸è®¾ç½® TTLï¼è¡¨ç¤ºæ¶æ¯æ°¸è¿ä¸ä¼è¿æï¼å¦æå° TTL è®¾ç½®ä¸º 0ï¼åè¡¨ç¤ºé¤éæ­¤æ¶å¯ä»¥ç´æ¥æéè¯¥æ¶æ¯å°æ¶è´¹èï¼å¦åè¯¥æ¶æ¯å°ä¼è¢«ä¸¢å¼ã\n\n\n# æ´å springboot\n\nåä¸å°èæä»¬ä»ç»äºæ­»ä¿¡éåï¼åååä»ç»äº TTLï¼è³æ­¤å©ç¨ RabbitMQ å®ç°å»¶æ¶éåçä¸¤å¤§è¦ç´ å·²ç»éé½ï¼æ¥ä¸æ¥åªéè¦å°å®ä»¬è¿è¡èåï¼åå å¥ä¸ç¹ç¹è°å³æï¼å»¶æ¶éåå°±å¯ä»¥æ°é²åºçäºãæ³æ³çï¼å»¶æ¶éåï¼ä¸å°±æ¯æ³è¦æ¶æ¯å»¶è¿å¤ä¹è¢«å¤çåï¼TTL ååå¥½è½è®©æ¶æ¯å¨å»¶è¿å¤ä¹ä¹åæä¸ºæ­»ä¿¡ï¼å¦ä¸æ¹é¢ï¼ æä¸ºæ­»ä¿¡çæ¶æ¯é½ä¼è¢«æéå°æ­»ä¿¡éåéï¼è¿æ ·åªéè¦æ¶è´¹èä¸ç´æ¶è´¹æ­»ä¿¡éåéçæ¶æ¯å°±å®äºäºï¼å ä¸ºéé¢çæ¶æ¯é½æ¯å¸æè¢«ç«å³å¤ççæ¶æ¯ã\n\n1ãåå»ºä¸ä¸ªç©ºé¡¹ç®ï¼\n\n\n\n2ãæ·»å ä¾èµï¼\n\n<dependencies>\n   <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter</artifactId>\n    </dependency>\n    \x3c!--RabbitMQ ä¾èµ--\x3e\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-amqp</artifactId>\n    </dependency>\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-web</artifactId>\n    </dependency>\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-test</artifactId>\n        <scope>test</scope>\n    </dependency>\n    <dependency>\n        <groupId>com.alibaba</groupId>\n        <artifactId>fastjson</artifactId>\n        <version>1.2.47</version>\n    </dependency>\n    <dependency>\n        <groupId>org.projectlombok</groupId>\n        <artifactId>lombok</artifactId>\n    </dependency>\n    \x3c!--swagger--\x3e\n    <dependency>\n        <groupId>io.springfox</groupId>\n        <artifactId>springfox-swagger2</artifactId>\n        <version>3.0.0</version>\n    </dependency>\n    <dependency>\n        <groupId>io.springfox</groupId>\n        <artifactId>springfox-swagger-ui</artifactId>\n        <version>3.0.0</version>\n    </dependency>\n    \x3c!--RabbitMQ æµè¯ä¾èµ--\x3e\n    <dependency>\n        <groupId>org.springframework.amqp</groupId>\n        <artifactId>spring-rabbit-test</artifactId>\n        <scope>test</scope>\n    </dependency>\n</dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n\n\n3ãä¿®æ¹éç½®æä»¶\n\nspring.rabbitmq.host=42.192.149.71\nspring.rabbitmq.port=5672\nspring.rabbitmq.username=admin\nspring.rabbitmq.password=123456\n\n\n1\n2\n3\n4\n\n\n4ãæ·»å Swagger éç½®ç±»\n\npackage com.oddfar.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport springfox.documentation.builders.ApiInfoBuilder;\nimport springfox.documentation.service.ApiInfo;\nimport springfox.documentation.service.Contact;\nimport springfox.documentation.spi.DocumentationType;\nimport springfox.documentation.spring.web.plugins.Docket;\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\n\n\n@Configuration\n@EnableSwagger2\npublic class SwaggerConfig {\n\n    @Bean\n    public Docket webApiConfig() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .groupName("webApi")\n                .apiInfo(webApiInfo())\n                .select()\n                .build();\n    }\n\n    private ApiInfo webApiInfo() {\n        return new ApiInfoBuilder()\n                .title("rabbitmq æ¥å£ææ¡£")\n                .description("æ¬ææ¡£æè¿°äº rabbitmq å¾®æå¡æ¥å£å®ä¹")\n                .version("1.0")\n                .contact(new Contact("zhiyuan", "http://oddfar.com", "test@qq.com"))\n                .build();\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\n\n# éå TTL\n\n * ä»£ç æ¶æå¾\n\nåå»ºä¸¤ä¸ªéå QA å QBï¼ä¸¤èéå TTL åå«è®¾ç½®ä¸º 10S å 40Sï¼ç¶åå¨åå»ºä¸ä¸ªäº¤æ¢æº X åæ­»ä¿¡äº¤ æ¢æº Yï¼å®ä»¬çç±»åé½æ¯directï¼åå»ºä¸ä¸ªæ­»ä¿¡éå QDï¼å®ä»¬çç»å®å³ç³»å¦ä¸ï¼\n\n\n\nååéç½®éåä¿¡æ¯ï¼åå¨äºçäº§èåæ¶è´¹èä»£ç ä¸­ï¼ç°å¨å¯ååéç½®ç±»ä¸­ï¼çäº§èåªåæ¶æ¯ï¼æ¶è´¹èåªæ¥åæ¶æ¯\n\n1ãéç½®æä»¶ç±»ä»£ç  ï¼\n\npackage com.oddfar.config;\n\nimport org.springframework.amqp.core.*;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\n/**\n * @author zhiyuan\n */\n@Configuration\npublic class TtlQueueConfig {\n    public static final String X_EXCHANGE = "X";\n    public static final String QUEUE_A = "QA";\n    public static final String QUEUE_B = "QB";\n    //æ­»ä¿¡äº¤æ¢æº\n    public static final String Y_DEAD_LETTER_EXCHANGE = "Y";\n    //æ­»ä¿¡éå\n    public static final String DEAD_LETTER_QUEUE = "QD";\n\n    // å£°æ xExchange\n    @Bean("xExchange")\n    public DirectExchange xExchange() {\n        return new DirectExchange(X_EXCHANGE);\n    }\n\n    // å£°æ æ­»ä¿¡éåäº¤æ¢æº\n    @Bean("yExchange")\n    public DirectExchange yExchange() {\n        return new DirectExchange(Y_DEAD_LETTER_EXCHANGE);\n    }\n\n    //å£°æéå A ttl ä¸º 10s å¹¶ç»å®å°å¯¹åºçæ­»ä¿¡äº¤æ¢æº\n    @Bean("queueA")\n    public Queue queueA() {\n        Map<String, Object> args = new HashMap<>(3);\n        //å£°æå½åéåç»å®çæ­»ä¿¡äº¤æ¢æº\n        args.put("x-dead-letter-exchange", Y_DEAD_LETTER_EXCHANGE);\n        //å£°æå½åéåçæ­»ä¿¡è·¯ç± key\n        args.put("x-dead-letter-routing-key", "YD");\n        //å£°æéåç TTL\n        args.put("x-message-ttl", 10000);\n        return QueueBuilder.durable(QUEUE_A).withArguments(args).build();\n    }\n\n    // å£°æéå A ç»å® X äº¤æ¢æº\n    @Bean\n    public Binding queueaBindingX(@Qualifier("queueA") Queue queueA,\n                                  @Qualifier("xExchange") DirectExchange xExchange) {\n        return BindingBuilder.bind(queueA).to(xExchange).with("XA");\n    }\n\n    //å£°æéå B ttl ä¸º 40s å¹¶ç»å®å°å¯¹åºçæ­»ä¿¡äº¤æ¢æº\n    @Bean("queueB")\n    public Queue queueB() {\n        Map<String, Object> args = new HashMap<>(3);\n        //å£°æå½åéåç»å®çæ­»ä¿¡äº¤æ¢æº\n        args.put("x-dead-letter-exchange", Y_DEAD_LETTER_EXCHANGE);\n        //å£°æå½åéåçæ­»ä¿¡è·¯ç± key\n        args.put("x-dead-letter-routing-key", "YD");\n        //å£°æéåç TTL\n        args.put("x-message-ttl", 40000);\n        return QueueBuilder.durable(QUEUE_B).withArguments(args).build();\n    }\n\n    //å£°æéå B ç»å® X äº¤æ¢æº\n    @Bean\n    public Binding queuebBindingX(@Qualifier("queueB") Queue queue1B,\n                                  @Qualifier("xExchange") DirectExchange xExchange) {\n        return BindingBuilder.bind(queue1B).to(xExchange).with("XB");\n    }\n\n    //å£°ææ­»ä¿¡éå QD\n    @Bean("queueD")\n    public Queue queueD() {\n        return new Queue(DEAD_LETTER_QUEUE);\n    }\n\n    //å£°ææ­»ä¿¡éå QD ç»å®å³ç³»\n    @Bean\n    public Binding deadLetterBindingQAD(@Qualifier("queueD") Queue queueD,\n                                        @Qualifier("yExchange") DirectExchange yExchange) {\n        return BindingBuilder.bind(queueD).to(yExchange).with("YD");\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n\n\n2ãæ¶æ¯çäº§èä»£ç \n\npackage com.oddfar.contorller;\n\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.amqp.rabbit.core.RabbitTemplate;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.Date;\n\n/**\n * @author zhiyuan\n */\n@Slf4j\n@RequestMapping("ttl")\n@RestController\npublic class SendMsgController {\n    @Autowired\n    private RabbitTemplate rabbitTemplate;\n\n    @GetMapping("sendMsg/{message}")\n    public void sendMsg(@PathVariable String message) {\n        log.info("å½åæ¶é´ï¼{},åéä¸æ¡ä¿¡æ¯ç»ä¸¤ä¸ª TTL éå:{}", new Date(), message);\n        rabbitTemplate.convertAndSend("X", "XA", "æ¶æ¯æ¥èª ttl ä¸º 10S çéå: " + message);\n        rabbitTemplate.convertAndSend("X", "XB", "æ¶æ¯æ¥èª ttl ä¸º 40S çéå: " + message);\n    }\n    \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n3ãæ¶æ¯æ¶è´¹èä»£ç \n\npackage com.oddfar.consumer;\n\nimport com.rabbitmq.client.Channel;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.amqp.core.Message;\nimport org.springframework.amqp.rabbit.annotation.RabbitListener;\nimport org.springframework.stereotype.Component;\n\nimport java.io.IOException;\nimport java.util.Date;\n\n/**\n * æ¶è´¹è - æ­»ä¿¡éå\n * @author zhiyuan\n */\n@Slf4j\n@Component\npublic class DeadLetterQueueConsumer {\n\n    @RabbitListener(queues = "QD")\n    public void receiveD(Message message, Channel channel) throws IOException {\n        String msg = new String(message.getBody());\n        log.info("å½åæ¶é´ï¼{},æ¶å°æ­»ä¿¡éåä¿¡æ¯{}", new Date().toString(), msg);\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\nåèµ·ä¸ä¸ªè¯·æ± http://localhost:8080/ttl/sendMsg/å»å»å»\n\n\n\nç¬¬ä¸æ¡æ¶æ¯å¨ 10S ååæäºæ­»ä¿¡æ¶æ¯ï¼ç¶åè¢«æ¶è´¹èæ¶è´¹æï¼ç¬¬äºæ¡æ¶æ¯å¨ 40S ä¹ååæäºæ­»ä¿¡æ¶æ¯ï¼ ç¶åè¢«æ¶è´¹æï¼è¿æ ·ä¸ä¸ªå»¶æ¶éåå°±æé å®æäºã\n\nä¸è¿ï¼å¦æè¿æ ·ä½¿ç¨çè¯ï¼å²ä¸æ¯æ¯å¢å ä¸ä¸ªæ°çæ¶é´éæ±ï¼å°±è¦æ°å¢ä¸ä¸ªéåï¼è¿éåªæ 10S å 40S ä¸¤ä¸ªæ¶é´éé¡¹ï¼å¦æéè¦ä¸ä¸ªå°æ¶åå¤çï¼é£ä¹å°±éè¦å¢å TTL ä¸ºä¸ä¸ªå°æ¶çéåï¼å¦ææ¯é¢å®ä¼è®®å®¤ç¶åæåéç¥è¿æ ·çåºæ¯ï¼å²ä¸æ¯è¦å¢å æ æ°ä¸ªéåæè½æ»¡è¶³éæ±ï¼\n\n\n# å»¶æ¶éåTTLä¼å\n\nå¨è¿éæ°å¢äºä¸ä¸ªéå QC,ç»å®å³ç³»å¦ä¸,è¯¥éåä¸è®¾ç½®TTL æ¶é´\n\n\n\néç½®æä»¶ç±»ä»£ç ï¼\n\n@Configuration\npublic class MsgTtlQueueConfig {\n    public static final String Y_DEAD_LETTER_EXCHANGE = "Y";\n    public static final String QUEUE_C = "QC";\n\n    //å£°æéå C æ­»ä¿¡äº¤æ¢æº\n    @Bean("queueC")\n    public Queue queueB() {\n        Map<String, Object> args = new HashMap<>(3);\n        //å£°æå½åéåç»å®çæ­»ä¿¡äº¤æ¢æº\n        args.put("x-dead-letter-exchange", Y_DEAD_LETTER_EXCHANGE);\n        //å£°æå½åéåçæ­»ä¿¡è·¯ç± key\n        args.put("x-dead-letter-routing-key", "YD");\n        //æ²¡æå£°æ TTL å±æ§\n        return QueueBuilder.durable(QUEUE_C).withArguments(args).build();\n    }\n\n    //å£°æéå B ç»å® X äº¤æ¢æº\n    @Bean\n    public Binding queuecBindingX(@Qualifier("queueC") Queue queueC,\n                                  @Qualifier("xExchange") DirectExchange xExchange) {\n        return BindingBuilder.bind(queueC).to(xExchange).with("XC");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\nçäº§èä»£ç ï¼\n\n/**\n * å»¶æ¶éåä¼å\n * @param message æ¶æ¯\n * @param ttlTime å»¶æ¶çæ¯«ç§\n */\n@GetMapping("sendExpirationMsg/{message}/{ttlTime}")\npublic void sendMsg(@PathVariable String message, @PathVariable String ttlTime) {\n    rabbitTemplate.convertAndSend("X", "XC", message, correlationData -> {\n        correlationData.getMessageProperties().setExpiration(ttlTime);\n        return correlationData;\n    });\n    log.info("å½åæ¶é´ï¼{},åéä¸æ¡æ¶é¿{}æ¯«ç§ TTL ä¿¡æ¯ç»éå C:{}", new Date(), ttlTime, message);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nåèµ·è¯·æ±\n\nhttp://localhost:8080/ttl/sendExpirationMsg/ä½ å¥½1/20000\n\nhttp://localhost:8080/ttl/sendExpirationMsg/ä½ å¥½2/2000\n\n\n\nçèµ·æ¥ä¼¼ä¹æ²¡ä»ä¹é®é¢ï¼ä½æ¯å¨æå¼å§çæ¶åï¼å°±ä»ç»è¿å¦æä½¿ç¨å¨æ¶æ¯å±æ§ä¸è®¾ç½® TTL çæ¹å¼ï¼æ¶æ¯å¯è½å¹¶ä¸ä¼ææ¶âæ­»äº¡â\n\nå ä¸º RabbitMQ åªä¼æ£æ¥ç¬¬ä¸ä¸ªæ¶æ¯æ¯å¦è¿æï¼å¦æè¿æåä¸¢å°æ­»ä¿¡éåï¼ å¦æç¬¬ä¸ä¸ªæ¶æ¯çå»¶æ¶æ¶é¿å¾é¿ï¼èç¬¬äºä¸ªæ¶æ¯çå»¶æ¶æ¶é¿å¾ç­ï¼ç¬¬äºä¸ªæ¶æ¯å¹¶ä¸ä¼ä¼åå¾å°æ§è¡ã\n\nè¿ä¹å°±æ¯ä¸ºä»ä¹ç¬¬äºä¸ªå»¶æ¶2ç§ï¼å´åæ§è¡ã\n\n\n# Rabbitmq æä»¶å®ç°å»¶è¿éå\n\nä¸æä¸­æå°çé®é¢ï¼ç¡®å®æ¯ä¸ä¸ªé®é¢ï¼å¦æä¸è½å®ç°å¨æ¶æ¯ç²åº¦ä¸ç TTLï¼å¹¶ä½¿å¶å¨è®¾ç½®çTTL æ¶é´åæ¶æ­»äº¡ï¼å°±æ æ³è®¾è®¡æä¸ä¸ªéç¨çå»¶æ¶éåãé£å¦ä½è§£å³å¢ï¼æ¥ä¸æ¥æä»¬å°±å»è§£å³è¯¥é®é¢ã\n\nå®è£å»¶æ¶éåæä»¶\n\nå¯å»å®ç½ä¸è½½ rabbitmq_delayed_message_exchange æä»¶ï¼æ¾ç½®å° RabbitMQ çæä»¶ç®å½ã\n\nè¿å¥ RabbitMQ çå®è£ç®å½ä¸ç plgins ç®å½ï¼æ§è¡ä¸é¢å½ä»¤è®©è¯¥æä»¶çæï¼ç¶åéå¯ RabbitMQ\n\n[root@VM-0-6-centos software]# ls\nerlang-21.3.8.21-1.el7.x86_64.rpm  rabbitmq_delayed_message_exchange-3.8.0.ez  rabbitmq-server-3.8.8-1.el7.noarch.rpm\n#ç§»å¨\ncp rabbitmq_delayed_message_exchange-3.8.0.ez /usr/lib/rabbitmq/lib/rabbitmq_server-3.8.8/plugins\n#å®è£\nrabbitmq-plugins enable rabbitmq_delayed_message_exchange\n#éå¯æå¡\nsystemctl restart rabbitmq-server\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n\nä»£ç \n\nå¨è¿éæ°å¢äºä¸ä¸ªéådelayed.queue,ä¸ä¸ªèªå®ä¹äº¤æ¢æº delayed.exchangeï¼ç»å®å³ç³»å¦ä¸:\n\n\n\n1ãéç½®æä»¶ç±»ä»£ç ï¼\n\nå¨æä»¬èªå®ä¹çäº¤æ¢æºä¸­ï¼è¿æ¯ä¸ç§æ°çäº¤æ¢ç±»åï¼è¯¥ç±»åæ¶æ¯æ¯æå»¶è¿æéæºå¶æ¶æ¯ä¼ éåå¹¶ä¸ä¼ç«å³æéå°ç®æ éåä¸­ï¼èæ¯å­å¨å¨ mnesia(ä¸ä¸ªåå¸å¼æ°æ®ç³»ç»)è¡¨ä¸­ï¼å½è¾¾å°æéæ¶é´æ¶ï¼ææéå°ç®æ éåä¸­ã\n\n@Configuration\npublic class DelayedQueueConfig {\n    public static final String DELAYED_QUEUE_NAME = "delayed.queue";\n    public static final String DELAYED_EXCHANGE_NAME = "delayed.exchange";\n    public static final String DELAYED_ROUTING_KEY = "delayed.routingkey";\n\n    @Bean\n    public Queue delayedQueue() {\n        return new Queue(DELAYED_QUEUE_NAME);\n    }\n\n    //èªå®ä¹äº¤æ¢æº æä»¬å¨è¿éå®ä¹çæ¯ä¸ä¸ªå»¶è¿äº¤æ¢æº\n    @Bean\n    public CustomExchange delayedExchange() {\n        Map<String, Object> args = new HashMap<>();\n        //èªå®ä¹äº¤æ¢æºçç±»å\n        args.put("x-delayed-type", "direct");\n        return new CustomExchange(DELAYED_EXCHANGE_NAME, "x-delayed-message", true, false, args);\n    }\n\n    @Bean\n    public Binding bindingDelayedQueue(@Qualifier("delayedQueue") Queue queue,\n                                       @Qualifier("delayedExchange") CustomExchange delayedExchange) {\n        return BindingBuilder.bind(queue).to(delayedExchange).with(DELAYED_ROUTING_KEY).noargs();\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n2ãçäº§èä»£ç \n\n@GetMapping("sendDelayMsg/{message}/{delayTime}")\npublic void sendMsg(@PathVariable String message, @PathVariable Integer delayTime) {\n    rabbitTemplate.convertAndSend(DELAYED_EXCHANGE_NAME, DELAYED_ROUTING_KEY, message,\n            correlationData -> {\n                correlationData.getMessageProperties().setDelay(delayTime);\n                return correlationData;\n            });\n    log.info(" å½ å æ¶ é´ ï¼ {}, å é ä¸ æ¡ å»¶ è¿ {} æ¯«ç§çä¿¡æ¯ç»éå delayed.queue:{}", new Date(), delayTime, message);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n3ãæ¶è´¹èä»£ç \n\n/**\n * æ¶è´¹è - åºäºæä»¶çå»¶æ¶éå\n *\n * @author zhiyuan\n */\n@Slf4j\n@ComponentScan\npublic class DelayQueueConsumer {\n\n    public static final String DELAYED_QUEUE_NAME = "delayed.queue";\n\n    @RabbitListener(queues = DELAYED_QUEUE_NAME)\n    public void receiveDelayedQueue(Message message) {\n        String msg = new String(message.getBody());\n        log.info("å½åæ¶é´ï¼{},æ¶å°å»¶æ¶éåçæ¶æ¯ï¼{}", new Date().toString(), msg);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\nåéè¯·æ±ï¼\n\n * http://localhost:8080/ttl/sendDelayMsg/hello1/20000\n * http://localhost:8080/ttl/sendDelayMsg/hello2/2000\n\n\n\nç¬¬äºä¸ªæ¶æ¯è¢«åæ¶è´¹æäºï¼ç¬¦åé¢æ\n\n\n# æ»ç»\n\nå»¶æ¶éåå¨éè¦å»¶æ¶å¤ççåºæ¯ä¸éå¸¸æç¨ï¼ä½¿ç¨ RabbitMQ æ¥å®ç°å»¶æ¶éåå¯ä»¥å¾å¥½çå©ç¨ RabbitMQ çç¹æ§ï¼å¦ï¼æ¶æ¯å¯é åéãæ¶æ¯å¯é æéãæ­»ä¿¡éåæ¥ä¿éæ¶æ¯è³å°è¢«æ¶è´¹ä¸æ¬¡ä»¥åæªè¢«æ­£ç¡®å¤ççæ¶æ¯ä¸ä¼è¢«ä¸¢å¼ãå¦å¤ï¼éè¿ RabbitMQ éç¾¤çç¹æ§ï¼å¯ä»¥å¾å¥½çè§£å³åç¹æéé®é¢ï¼ä¸ä¼å ä¸º åä¸ªèç¹ææå¯¼è´å»¶æ¶éåä¸å¯ç¨æèæ¶æ¯ä¸¢å¤±ã\n\nå½ç¶ï¼å»¶æ¶éåè¿æå¾å¤å¶å®éæ©ï¼æ¯å¦å©ç¨ Java ç DelayQueueï¼å©ç¨ Redis ç zsetï¼å©ç¨ Quartz æèå©ç¨ kafka çæ¶é´è½®ï¼è¿äºæ¹å¼åæç¹ç¹,çéè¦éç¨çåºæ¯',normalizedContent:' * å»¶è¿éåä»ç»\n * rabbitmq ä¸­ç ttl\n * æ´å springboot\n * éå ttl\n * å»¶æ¶éåttlä¼å\n * rabbitmq æä»¶å®ç°å»¶è¿éå\n * æ»ç»\n\n\n# å»¶è¿éåä»ç»\n\n * å»¶è¿éåæ¦å¿µï¼\n\nå»¶æ¶éå,éååé¨æ¯æåºçï¼æéè¦çç¹æ§å°±ä½ç°å¨å®çå»¶æ¶å±æ§ä¸ï¼å»¶æ¶éåä¸­çåç´ æ¯å¸æ å¨æå®æ¶é´å°äºä»¥åæä¹åååºåå¤çï¼ç®åæ¥è¯´ï¼å»¶æ¶éåå°±æ¯ç¨æ¥å­æ¾éè¦å¨æå®æ¶é´è¢«å¤çç åç´ çéåã\n\n * å»¶è¿éåä½¿ç¨åºæ¯ï¼\n\n1.è®¢åå¨ååéä¹åæªæ¯ä»åèªå¨åæ¶ 2.æ°åå»ºçåºéºï¼å¦æå¨åå¤©åé½æ²¡æä¸ä¼ è¿ååï¼åèªå¨åéæ¶æ¯æéã 3.ç¨æ·æ³¨åæååï¼å¦æä¸å¤©åæ²¡æç»éåè¿è¡ç­ä¿¡æéã 4.ç¨æ·åèµ·éæ¬¾ï¼å¦æä¸å¤©åæ²¡æå¾å°å¤çåéç¥ç¸å³è¿è¥äººåã 5.é¢å®ä¼è®®åï¼éè¦å¨é¢å®çæ¶é´ç¹åååééç¥åä¸ªä¸ä¼äººååå ä¼è®®\n\nè¿äºåºæ¯é½æä¸ä¸ªç¹ç¹ï¼éè¦å¨æä¸ªäºä»¶åçä¹åæèä¹åçæå®æ¶é´ç¹å®ææä¸é¡¹ä»»å¡ï¼å¦ï¼ åçè®¢åçæäºä»¶ï¼å¨ååéä¹åæ£æ¥è¯¥è®¢åæ¯ä»ç¶æï¼ç¶åå°æªæ¯ä»çè®¢åè¿è¡å³é­ï¼é£æä»¬ä¸ç´è½®è¯¢æ°æ®ï¼æ¯ç§æ¥ä¸æ¬¡ï¼ååºéè¦è¢«å¤ççæ°æ®ï¼ç¶åå¤çä¸å°±å®äºäºåï¼\n\nå¦ææ°æ®éæ¯è¾å°ï¼ç¡®å®å¯ä»¥è¿æ ·åï¼æ¯å¦ï¼å¯¹äºâå¦æè´¦åä¸å¨åæªæ¯ä»åè¿è¡èªå¨ç»ç®âè¿æ ·çéæ±ï¼ å¦æå¯¹äºæ¶é´ä¸æ¯ä¸¥æ ¼éå¶ï¼èæ¯å®½æ¾æä¹ä¸çä¸å¨ï¼é£ä¹æ¯å¤©æä¸è·ä¸ªå®æ¶ä»»å¡æ£æ¥ä¸ä¸æææªæ¯ä»çè´¦åï¼ç¡®å®ä¹æ¯ä¸ä¸ªå¯è¡çæ¹æ¡ãä½å¯¹äºæ°æ®éæ¯è¾å¤§ï¼å¹¶ä¸æ¶ææ§è¾å¼ºçåºæ¯ï¼å¦ï¼âè®¢åååéåæªæ¯ä»åå³é­âï¼ç­æåæªæ¯ä»çè®¢åæ°æ®å¯è½ä¼æå¾å¤ï¼æ´»å¨æé´çè³ä¼è¾¾å°ç¾ä¸çè³åä¸çº§å«ï¼å¯¹è¿ä¹åºå¤§çæ°æ®éä»æ§ä½¿ç¨è½®è¯¢çæ¹å¼æ¾ç¶æ¯ä¸å¯åçï¼å¾å¯è½å¨ä¸ç§åæ æ³å®æææè®¢åçæ£æ¥ï¼åæ¶ä¼ç»æ°æ®åºå¸¦æ¥å¾å¤§ååï¼æ æ³æ»¡è¶³ä¸å¡è¦æ±èä¸æ§è½ä½ä¸ã\n\n\n\n\n# rabbitmq ä¸­ç ttl\n\nttl æ¯ä»ä¹å¢ï¼ttl æ¯ rabbitmq ä¸­ä¸ä¸ªæ¶æ¯æèéåçå±æ§ï¼è¡¨æä¸æ¡æ¶æ¯æèè¯¥éåä¸­çæææ¶æ¯çæå¤§å­æ´»æ¶é´ï¼åä½æ¯æ¯«ç§ã\n\næ¢å¥è¯è¯´ï¼å¦æä¸æ¡æ¶æ¯è®¾ç½®äº ttl å±æ§æèè¿å¥äºè®¾ç½®ttl å±æ§çéåï¼é£ä¹è¿æ¡æ¶æ¯å¦æå¨ ttl è®¾ç½®çæ¶é´åæ²¡æè¢«æ¶è´¹ï¼åä¼æä¸º"æ­»ä¿¡"ãå¦æåæ¶éç½®äºéåçttl åæ¶æ¯ç ttlï¼é£ä¹è¾å°çé£ä¸ªå¼å°ä¼è¢«ä½¿ç¨ï¼æä¸¤ç§æ¹å¼è®¾ç½® ttlã\n\n * éåè®¾ç½®ttl\n\nå¨åå»ºéåçæ¶åè®¾ç½®éåçâx-message-ttlâå±æ§\n\n\n\n * æ¶æ¯è®¾ç½®ttl\n\næ¯éå¯¹æ¯æ¡æ¶æ¯è®¾ç½®ttl\n\n\n\nä¸¤èçåºå«\n\nå¦æè®¾ç½®äºéåç ttl å±æ§ï¼é£ä¹ä¸æ¦æ¶æ¯è¿æï¼å°±ä¼è¢«éåä¸¢å¼(å¦æéç½®äºæ­»ä¿¡éåè¢«ä¸¢å°æ­»ä¿¡éåä¸­)ï¼èç¬¬äºç§æ¹å¼ï¼æ¶æ¯å³ä½¿è¿æï¼ä¹ä¸ä¸å®ä¼è¢«é©¬ä¸ä¸¢å¼ï¼å ä¸ºæ¶æ¯æ¯å¦è¿ææ¯å¨å³å°æéå°æ¶è´¹èä¹åå¤å®çï¼å¦æå½åéåæä¸¥éçæ¶æ¯ç§¯åæåµï¼åå·²è¿æçæ¶æ¯ä¹è®¸è¿è½å­æ´»è¾é¿æ¶é´ï¼\n\nå¦å¤ï¼è¿éè¦æ³¨æçä¸ç¹æ¯ï¼å¦æä¸è®¾ç½® ttlï¼è¡¨ç¤ºæ¶æ¯æ°¸è¿ä¸ä¼è¿æï¼å¦æå° ttl è®¾ç½®ä¸º 0ï¼åè¡¨ç¤ºé¤éæ­¤æ¶å¯ä»¥ç´æ¥æéè¯¥æ¶æ¯å°æ¶è´¹èï¼å¦åè¯¥æ¶æ¯å°ä¼è¢«ä¸¢å¼ã\n\n\n# æ´å springboot\n\nåä¸å°èæä»¬ä»ç»äºæ­»ä¿¡éåï¼åååä»ç»äº ttlï¼è³æ­¤å©ç¨ rabbitmq å®ç°å»¶æ¶éåçä¸¤å¤§è¦ç´ å·²ç»éé½ï¼æ¥ä¸æ¥åªéè¦å°å®ä»¬è¿è¡èåï¼åå å¥ä¸ç¹ç¹è°å³æï¼å»¶æ¶éåå°±å¯ä»¥æ°é²åºçäºãæ³æ³çï¼å»¶æ¶éåï¼ä¸å°±æ¯æ³è¦æ¶æ¯å»¶è¿å¤ä¹è¢«å¤çåï¼ttl ååå¥½è½è®©æ¶æ¯å¨å»¶è¿å¤ä¹ä¹åæä¸ºæ­»ä¿¡ï¼å¦ä¸æ¹é¢ï¼ æä¸ºæ­»ä¿¡çæ¶æ¯é½ä¼è¢«æéå°æ­»ä¿¡éåéï¼è¿æ ·åªéè¦æ¶è´¹èä¸ç´æ¶è´¹æ­»ä¿¡éåéçæ¶æ¯å°±å®äºäºï¼å ä¸ºéé¢çæ¶æ¯é½æ¯å¸æè¢«ç«å³å¤ççæ¶æ¯ã\n\n1ãåå»ºä¸ä¸ªç©ºé¡¹ç®ï¼\n\n\n\n2ãæ·»å ä¾èµï¼\n\n<dependencies>\n   <dependency>\n        <groupid>org.springframework.boot</groupid>\n        <artifactid>spring-boot-starter</artifactid>\n    </dependency>\n    \x3c!--rabbitmq ä¾èµ--\x3e\n    <dependency>\n        <groupid>org.springframework.boot</groupid>\n        <artifactid>spring-boot-starter-amqp</artifactid>\n    </dependency>\n    <dependency>\n        <groupid>org.springframework.boot</groupid>\n        <artifactid>spring-boot-starter-web</artifactid>\n    </dependency>\n    <dependency>\n        <groupid>org.springframework.boot</groupid>\n        <artifactid>spring-boot-starter-test</artifactid>\n        <scope>test</scope>\n    </dependency>\n    <dependency>\n        <groupid>com.alibaba</groupid>\n        <artifactid>fastjson</artifactid>\n        <version>1.2.47</version>\n    </dependency>\n    <dependency>\n        <groupid>org.projectlombok</groupid>\n        <artifactid>lombok</artifactid>\n    </dependency>\n    \x3c!--swagger--\x3e\n    <dependency>\n        <groupid>io.springfox</groupid>\n        <artifactid>springfox-swagger2</artifactid>\n        <version>3.0.0</version>\n    </dependency>\n    <dependency>\n        <groupid>io.springfox</groupid>\n        <artifactid>springfox-swagger-ui</artifactid>\n        <version>3.0.0</version>\n    </dependency>\n    \x3c!--rabbitmq æµè¯ä¾èµ--\x3e\n    <dependency>\n        <groupid>org.springframework.amqp</groupid>\n        <artifactid>spring-rabbit-test</artifactid>\n        <scope>test</scope>\n    </dependency>\n</dependencies>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n\n\n3ãä¿®æ¹éç½®æä»¶\n\nspring.rabbitmq.host=42.192.149.71\nspring.rabbitmq.port=5672\nspring.rabbitmq.username=admin\nspring.rabbitmq.password=123456\n\n\n1\n2\n3\n4\n\n\n4ãæ·»å swagger éç½®ç±»\n\npackage com.oddfar.config;\n\nimport org.springframework.context.annotation.bean;\nimport org.springframework.context.annotation.configuration;\nimport springfox.documentation.builders.apiinfobuilder;\nimport springfox.documentation.service.apiinfo;\nimport springfox.documentation.service.contact;\nimport springfox.documentation.spi.documentationtype;\nimport springfox.documentation.spring.web.plugins.docket;\nimport springfox.documentation.swagger2.annotations.enableswagger2;\n\n\n@configuration\n@enableswagger2\npublic class swaggerconfig {\n\n    @bean\n    public docket webapiconfig() {\n        return new docket(documentationtype.swagger_2)\n                .groupname("webapi")\n                .apiinfo(webapiinfo())\n                .select()\n                .build();\n    }\n\n    private apiinfo webapiinfo() {\n        return new apiinfobuilder()\n                .title("rabbitmq æ¥å£ææ¡£")\n                .description("æ¬ææ¡£æè¿°äº rabbitmq å¾®æå¡æ¥å£å®ä¹")\n                .version("1.0")\n                .contact(new contact("zhiyuan", "http://oddfar.com", "test@qq.com"))\n                .build();\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\n\n# éå ttl\n\n * ä»£ç æ¶æå¾\n\nåå»ºä¸¤ä¸ªéå qa å qbï¼ä¸¤èéå ttl åå«è®¾ç½®ä¸º 10s å 40sï¼ç¶åå¨åå»ºä¸ä¸ªäº¤æ¢æº x åæ­»ä¿¡äº¤ æ¢æº yï¼å®ä»¬çç±»åé½æ¯directï¼åå»ºä¸ä¸ªæ­»ä¿¡éå qdï¼å®ä»¬çç»å®å³ç³»å¦ä¸ï¼\n\n\n\nååéç½®éåä¿¡æ¯ï¼åå¨äºçäº§èåæ¶è´¹èä»£ç ä¸­ï¼ç°å¨å¯ååéç½®ç±»ä¸­ï¼çäº§èåªåæ¶æ¯ï¼æ¶è´¹èåªæ¥åæ¶æ¯\n\n1ãéç½®æä»¶ç±»ä»£ç  ï¼\n\npackage com.oddfar.config;\n\nimport org.springframework.amqp.core.*;\nimport org.springframework.beans.factory.annotation.qualifier;\nimport org.springframework.context.annotation.bean;\nimport org.springframework.context.annotation.configuration;\n\nimport java.util.hashmap;\nimport java.util.map;\n\n/**\n * @author zhiyuan\n */\n@configuration\npublic class ttlqueueconfig {\n    public static final string x_exchange = "x";\n    public static final string queue_a = "qa";\n    public static final string queue_b = "qb";\n    //æ­»ä¿¡äº¤æ¢æº\n    public static final string y_dead_letter_exchange = "y";\n    //æ­»ä¿¡éå\n    public static final string dead_letter_queue = "qd";\n\n    // å£°æ xexchange\n    @bean("xexchange")\n    public directexchange xexchange() {\n        return new directexchange(x_exchange);\n    }\n\n    // å£°æ æ­»ä¿¡éåäº¤æ¢æº\n    @bean("yexchange")\n    public directexchange yexchange() {\n        return new directexchange(y_dead_letter_exchange);\n    }\n\n    //å£°æéå a ttl ä¸º 10s å¹¶ç»å®å°å¯¹åºçæ­»ä¿¡äº¤æ¢æº\n    @bean("queuea")\n    public queue queuea() {\n        map<string, object> args = new hashmap<>(3);\n        //å£°æå½åéåç»å®çæ­»ä¿¡äº¤æ¢æº\n        args.put("x-dead-letter-exchange", y_dead_letter_exchange);\n        //å£°æå½åéåçæ­»ä¿¡è·¯ç± key\n        args.put("x-dead-letter-routing-key", "yd");\n        //å£°æéåç ttl\n        args.put("x-message-ttl", 10000);\n        return queuebuilder.durable(queue_a).witharguments(args).build();\n    }\n\n    // å£°æéå a ç»å® x äº¤æ¢æº\n    @bean\n    public binding queueabindingx(@qualifier("queuea") queue queuea,\n                                  @qualifier("xexchange") directexchange xexchange) {\n        return bindingbuilder.bind(queuea).to(xexchange).with("xa");\n    }\n\n    //å£°æéå b ttl ä¸º 40s å¹¶ç»å®å°å¯¹åºçæ­»ä¿¡äº¤æ¢æº\n    @bean("queueb")\n    public queue queueb() {\n        map<string, object> args = new hashmap<>(3);\n        //å£°æå½åéåç»å®çæ­»ä¿¡äº¤æ¢æº\n        args.put("x-dead-letter-exchange", y_dead_letter_exchange);\n        //å£°æå½åéåçæ­»ä¿¡è·¯ç± key\n        args.put("x-dead-letter-routing-key", "yd");\n        //å£°æéåç ttl\n        args.put("x-message-ttl", 40000);\n        return queuebuilder.durable(queue_b).witharguments(args).build();\n    }\n\n    //å£°æéå b ç»å® x äº¤æ¢æº\n    @bean\n    public binding queuebbindingx(@qualifier("queueb") queue queue1b,\n                                  @qualifier("xexchange") directexchange xexchange) {\n        return bindingbuilder.bind(queue1b).to(xexchange).with("xb");\n    }\n\n    //å£°ææ­»ä¿¡éå qd\n    @bean("queued")\n    public queue queued() {\n        return new queue(dead_letter_queue);\n    }\n\n    //å£°ææ­»ä¿¡éå qd ç»å®å³ç³»\n    @bean\n    public binding deadletterbindingqad(@qualifier("queued") queue queued,\n                                        @qualifier("yexchange") directexchange yexchange) {\n        return bindingbuilder.bind(queued).to(yexchange).with("yd");\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n\n\n2ãæ¶æ¯çäº§èä»£ç \n\npackage com.oddfar.contorller;\n\nimport lombok.extern.slf4j.slf4j;\nimport org.springframework.amqp.rabbit.core.rabbittemplate;\nimport org.springframework.beans.factory.annotation.autowired;\nimport org.springframework.stereotype.controller;\nimport org.springframework.web.bind.annotation.getmapping;\nimport org.springframework.web.bind.annotation.pathvariable;\nimport org.springframework.web.bind.annotation.requestmapping;\nimport org.springframework.web.bind.annotation.restcontroller;\n\nimport java.util.date;\n\n/**\n * @author zhiyuan\n */\n@slf4j\n@requestmapping("ttl")\n@restcontroller\npublic class sendmsgcontroller {\n    @autowired\n    private rabbittemplate rabbittemplate;\n\n    @getmapping("sendmsg/{message}")\n    public void sendmsg(@pathvariable string message) {\n        log.info("å½åæ¶é´ï¼{},åéä¸æ¡ä¿¡æ¯ç»ä¸¤ä¸ª ttl éå:{}", new date(), message);\n        rabbittemplate.convertandsend("x", "xa", "æ¶æ¯æ¥èª ttl ä¸º 10s çéå: " + message);\n        rabbittemplate.convertandsend("x", "xb", "æ¶æ¯æ¥èª ttl ä¸º 40s çéå: " + message);\n    }\n    \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n3ãæ¶æ¯æ¶è´¹èä»£ç \n\npackage com.oddfar.consumer;\n\nimport com.rabbitmq.client.channel;\nimport lombok.extern.slf4j.slf4j;\nimport org.springframework.amqp.core.message;\nimport org.springframework.amqp.rabbit.annotation.rabbitlistener;\nimport org.springframework.stereotype.component;\n\nimport java.io.ioexception;\nimport java.util.date;\n\n/**\n * æ¶è´¹è - æ­»ä¿¡éå\n * @author zhiyuan\n */\n@slf4j\n@component\npublic class deadletterqueueconsumer {\n\n    @rabbitlistener(queues = "qd")\n    public void received(message message, channel channel) throws ioexception {\n        string msg = new string(message.getbody());\n        log.info("å½åæ¶é´ï¼{},æ¶å°æ­»ä¿¡éåä¿¡æ¯{}", new date().tostring(), msg);\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\nåèµ·ä¸ä¸ªè¯·æ± http://localhost:8080/ttl/sendmsg/å»å»å»\n\n\n\nç¬¬ä¸æ¡æ¶æ¯å¨ 10s ååæäºæ­»ä¿¡æ¶æ¯ï¼ç¶åè¢«æ¶è´¹èæ¶è´¹æï¼ç¬¬äºæ¡æ¶æ¯å¨ 40s ä¹ååæäºæ­»ä¿¡æ¶æ¯ï¼ ç¶åè¢«æ¶è´¹æï¼è¿æ ·ä¸ä¸ªå»¶æ¶éåå°±æé å®æäºã\n\nä¸è¿ï¼å¦æè¿æ ·ä½¿ç¨çè¯ï¼å²ä¸æ¯æ¯å¢å ä¸ä¸ªæ°çæ¶é´éæ±ï¼å°±è¦æ°å¢ä¸ä¸ªéåï¼è¿éåªæ 10s å 40s ä¸¤ä¸ªæ¶é´éé¡¹ï¼å¦æéè¦ä¸ä¸ªå°æ¶åå¤çï¼é£ä¹å°±éè¦å¢å ttl ä¸ºä¸ä¸ªå°æ¶çéåï¼å¦ææ¯é¢å®ä¼è®®å®¤ç¶åæåéç¥è¿æ ·çåºæ¯ï¼å²ä¸æ¯è¦å¢å æ æ°ä¸ªéåæè½æ»¡è¶³éæ±ï¼\n\n\n# å»¶æ¶éåttlä¼å\n\nå¨è¿éæ°å¢äºä¸ä¸ªéå qc,ç»å®å³ç³»å¦ä¸,è¯¥éåä¸è®¾ç½®ttl æ¶é´\n\n\n\néç½®æä»¶ç±»ä»£ç ï¼\n\n@configuration\npublic class msgttlqueueconfig {\n    public static final string y_dead_letter_exchange = "y";\n    public static final string queue_c = "qc";\n\n    //å£°æéå c æ­»ä¿¡äº¤æ¢æº\n    @bean("queuec")\n    public queue queueb() {\n        map<string, object> args = new hashmap<>(3);\n        //å£°æå½åéåç»å®çæ­»ä¿¡äº¤æ¢æº\n        args.put("x-dead-letter-exchange", y_dead_letter_exchange);\n        //å£°æå½åéåçæ­»ä¿¡è·¯ç± key\n        args.put("x-dead-letter-routing-key", "yd");\n        //æ²¡æå£°æ ttl å±æ§\n        return queuebuilder.durable(queue_c).witharguments(args).build();\n    }\n\n    //å£°æéå b ç»å® x äº¤æ¢æº\n    @bean\n    public binding queuecbindingx(@qualifier("queuec") queue queuec,\n                                  @qualifier("xexchange") directexchange xexchange) {\n        return bindingbuilder.bind(queuec).to(xexchange).with("xc");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\nçäº§èä»£ç ï¼\n\n/**\n * å»¶æ¶éåä¼å\n * @param message æ¶æ¯\n * @param ttltime å»¶æ¶çæ¯«ç§\n */\n@getmapping("sendexpirationmsg/{message}/{ttltime}")\npublic void sendmsg(@pathvariable string message, @pathvariable string ttltime) {\n    rabbittemplate.convertandsend("x", "xc", message, correlationdata -> {\n        correlationdata.getmessageproperties().setexpiration(ttltime);\n        return correlationdata;\n    });\n    log.info("å½åæ¶é´ï¼{},åéä¸æ¡æ¶é¿{}æ¯«ç§ ttl ä¿¡æ¯ç»éå c:{}", new date(), ttltime, message);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nåèµ·è¯·æ±\n\nhttp://localhost:8080/ttl/sendexpirationmsg/ä½ å¥½1/20000\n\nhttp://localhost:8080/ttl/sendexpirationmsg/ä½ å¥½2/2000\n\n\n\nçèµ·æ¥ä¼¼ä¹æ²¡ä»ä¹é®é¢ï¼ä½æ¯å¨æå¼å§çæ¶åï¼å°±ä»ç»è¿å¦æä½¿ç¨å¨æ¶æ¯å±æ§ä¸è®¾ç½® ttl çæ¹å¼ï¼æ¶æ¯å¯è½å¹¶ä¸ä¼ææ¶âæ­»äº¡â\n\nå ä¸º rabbitmq åªä¼æ£æ¥ç¬¬ä¸ä¸ªæ¶æ¯æ¯å¦è¿æï¼å¦æè¿æåä¸¢å°æ­»ä¿¡éåï¼ å¦æç¬¬ä¸ä¸ªæ¶æ¯çå»¶æ¶æ¶é¿å¾é¿ï¼èç¬¬äºä¸ªæ¶æ¯çå»¶æ¶æ¶é¿å¾ç­ï¼ç¬¬äºä¸ªæ¶æ¯å¹¶ä¸ä¼ä¼åå¾å°æ§è¡ã\n\nè¿ä¹å°±æ¯ä¸ºä»ä¹ç¬¬äºä¸ªå»¶æ¶2ç§ï¼å´åæ§è¡ã\n\n\n# rabbitmq æä»¶å®ç°å»¶è¿éå\n\nä¸æä¸­æå°çé®é¢ï¼ç¡®å®æ¯ä¸ä¸ªé®é¢ï¼å¦æä¸è½å®ç°å¨æ¶æ¯ç²åº¦ä¸ç ttlï¼å¹¶ä½¿å¶å¨è®¾ç½®çttl æ¶é´åæ¶æ­»äº¡ï¼å°±æ æ³è®¾è®¡æä¸ä¸ªéç¨çå»¶æ¶éåãé£å¦ä½è§£å³å¢ï¼æ¥ä¸æ¥æä»¬å°±å»è§£å³è¯¥é®é¢ã\n\nå®è£å»¶æ¶éåæä»¶\n\nå¯å»å®ç½ä¸è½½ rabbitmq_delayed_message_exchange æä»¶ï¼æ¾ç½®å° rabbitmq çæä»¶ç®å½ã\n\nè¿å¥ rabbitmq çå®è£ç®å½ä¸ç plgins ç®å½ï¼æ§è¡ä¸é¢å½ä»¤è®©è¯¥æä»¶çæï¼ç¶åéå¯ rabbitmq\n\n[root@vm-0-6-centos software]# ls\nerlang-21.3.8.21-1.el7.x86_64.rpm  rabbitmq_delayed_message_exchange-3.8.0.ez  rabbitmq-server-3.8.8-1.el7.noarch.rpm\n#ç§»å¨\ncp rabbitmq_delayed_message_exchange-3.8.0.ez /usr/lib/rabbitmq/lib/rabbitmq_server-3.8.8/plugins\n#å®è£\nrabbitmq-plugins enable rabbitmq_delayed_message_exchange\n#éå¯æå¡\nsystemctl restart rabbitmq-server\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n\nä»£ç \n\nå¨è¿éæ°å¢äºä¸ä¸ªéådelayed.queue,ä¸ä¸ªèªå®ä¹äº¤æ¢æº delayed.exchangeï¼ç»å®å³ç³»å¦ä¸:\n\n\n\n1ãéç½®æä»¶ç±»ä»£ç ï¼\n\nå¨æä»¬èªå®ä¹çäº¤æ¢æºä¸­ï¼è¿æ¯ä¸ç§æ°çäº¤æ¢ç±»åï¼è¯¥ç±»åæ¶æ¯æ¯æå»¶è¿æéæºå¶æ¶æ¯ä¼ éåå¹¶ä¸ä¼ç«å³æéå°ç®æ éåä¸­ï¼èæ¯å­å¨å¨ mnesia(ä¸ä¸ªåå¸å¼æ°æ®ç³»ç»)è¡¨ä¸­ï¼å½è¾¾å°æéæ¶é´æ¶ï¼ææéå°ç®æ éåä¸­ã\n\n@configuration\npublic class delayedqueueconfig {\n    public static final string delayed_queue_name = "delayed.queue";\n    public static final string delayed_exchange_name = "delayed.exchange";\n    public static final string delayed_routing_key = "delayed.routingkey";\n\n    @bean\n    public queue delayedqueue() {\n        return new queue(delayed_queue_name);\n    }\n\n    //èªå®ä¹äº¤æ¢æº æä»¬å¨è¿éå®ä¹çæ¯ä¸ä¸ªå»¶è¿äº¤æ¢æº\n    @bean\n    public customexchange delayedexchange() {\n        map<string, object> args = new hashmap<>();\n        //èªå®ä¹äº¤æ¢æºçç±»å\n        args.put("x-delayed-type", "direct");\n        return new customexchange(delayed_exchange_name, "x-delayed-message", true, false, args);\n    }\n\n    @bean\n    public binding bindingdelayedqueue(@qualifier("delayedqueue") queue queue,\n                                       @qualifier("delayedexchange") customexchange delayedexchange) {\n        return bindingbuilder.bind(queue).to(delayedexchange).with(delayed_routing_key).noargs();\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n2ãçäº§èä»£ç \n\n@getmapping("senddelaymsg/{message}/{delaytime}")\npublic void sendmsg(@pathvariable string message, @pathvariable integer delaytime) {\n    rabbittemplate.convertandsend(delayed_exchange_name, delayed_routing_key, message,\n            correlationdata -> {\n                correlationdata.getmessageproperties().setdelay(delaytime);\n                return correlationdata;\n            });\n    log.info(" å½ å æ¶ é´ ï¼ {}, å é ä¸ æ¡ å»¶ è¿ {} æ¯«ç§çä¿¡æ¯ç»éå delayed.queue:{}", new date(), delaytime, message);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n3ãæ¶è´¹èä»£ç \n\n/**\n * æ¶è´¹è - åºäºæä»¶çå»¶æ¶éå\n *\n * @author zhiyuan\n */\n@slf4j\n@componentscan\npublic class delayqueueconsumer {\n\n    public static final string delayed_queue_name = "delayed.queue";\n\n    @rabbitlistener(queues = delayed_queue_name)\n    public void receivedelayedqueue(message message) {\n        string msg = new string(message.getbody());\n        log.info("å½åæ¶é´ï¼{},æ¶å°å»¶æ¶éåçæ¶æ¯ï¼{}", new date().tostring(), msg);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\nåéè¯·æ±ï¼\n\n * http://localhost:8080/ttl/senddelaymsg/hello1/20000\n * http://localhost:8080/ttl/senddelaymsg/hello2/2000\n\n\n\nç¬¬äºä¸ªæ¶æ¯è¢«åæ¶è´¹æäºï¼ç¬¦åé¢æ\n\n\n# æ»ç»\n\nå»¶æ¶éåå¨éè¦å»¶æ¶å¤ççåºæ¯ä¸éå¸¸æç¨ï¼ä½¿ç¨ rabbitmq æ¥å®ç°å»¶æ¶éåå¯ä»¥å¾å¥½çå©ç¨ rabbitmq çç¹æ§ï¼å¦ï¼æ¶æ¯å¯é åéãæ¶æ¯å¯é æéãæ­»ä¿¡éåæ¥ä¿éæ¶æ¯è³å°è¢«æ¶è´¹ä¸æ¬¡ä»¥åæªè¢«æ­£ç¡®å¤ççæ¶æ¯ä¸ä¼è¢«ä¸¢å¼ãå¦å¤ï¼éè¿ rabbitmq éç¾¤çç¹æ§ï¼å¯ä»¥å¾å¥½çè§£å³åç¹æéé®é¢ï¼ä¸ä¼å ä¸º åä¸ªèç¹ææå¯¼è´å»¶æ¶éåä¸å¯ç¨æèæ¶æ¯ä¸¢å¤±ã\n\nå½ç¶ï¼å»¶æ¶éåè¿æå¾å¤å¶å®éæ©ï¼æ¯å¦å©ç¨ java ç delayqueueï¼å©ç¨ redis ç zsetï¼å©ç¨ quartz æèå©ç¨ kafka çæ¶é´è½®ï¼è¿äºæ¹å¼åæç¹ç¹,çéè¦éç¨çåºæ¯',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"RabbitMQ - åå¸ç¡®è®¤é«çº§",frontmatter:{title:"RabbitMQ - åå¸ç¡®è®¤é«çº§",date:"2021-06-29T13:06:08.000Z",permalink:"/pages/c94906/"},regularPath:"/04.%E6%A1%86%E6%9E%B6/20.RabbitMQ/18.RabbitMQ%20-%20%E5%8F%91%E5%B8%83%E7%A1%AE%E8%AE%A4%E9%AB%98%E7%BA%A7.html",relativePath:"04.æ¡æ¶/20.RabbitMQ/18.RabbitMQ - åå¸ç¡®è®¤é«çº§.md",key:"v-ec96f538",path:"/pages/c94906/",headers:[{level:2,title:"åå¸ç¡®è®¤ springboot çæ¬",slug:"åå¸ç¡®è®¤-springboot-çæ¬",normalizedTitle:"åå¸ç¡®è®¤ springboot çæ¬",charIndex:3},{level:2,title:"åéæ¶æ¯",slug:"åéæ¶æ¯",normalizedTitle:"åéæ¶æ¯",charIndex:25},{level:2,title:"å¤ä»½äº¤æ¢æº",slug:"å¤ä»½äº¤æ¢æº",normalizedTitle:"å¤ä»½äº¤æ¢æº",charIndex:33}],headersStr:"åå¸ç¡®è®¤ springboot çæ¬ åéæ¶æ¯ å¤ä»½äº¤æ¢æº",content:' * åå¸ç¡®è®¤ springboot çæ¬\n * åéæ¶æ¯\n * å¤ä»½äº¤æ¢æº\n\nå¨çäº§ç¯å¢ä¸­ç±äºä¸äºä¸æåå ï¼å¯¼è´ RabbitMQ éå¯ï¼å¨ RabbitMQ éå¯æé´çäº§èæ¶æ¯æéå¤±è´¥ï¼ å¯¼è´æ¶æ¯ä¸¢å¤±ï¼éè¦æå¨å¤çåæ¢å¤ãäºæ¯ï¼æä»¬å¼å§æèï¼å¦ä½æè½è¿è¡ RabbitMQ çæ¶æ¯å¯é æéå¢ï¼\n\n\n# åå¸ç¡®è®¤ springboot çæ¬\n\nç¡®è®¤æºå¶æ¹æ¡ï¼\n\n\n\nä»£ç æ¶æå¾ï¼\n\n\n\nå¨éç½®æä»¶å½ä¸­éè¦æ·»å \n\nspring.rabbitmq.publisher-confirm-type=correlated\n\n\n1\n\n\n * NONE å¼æ¯ç¦ç¨åå¸ç¡®è®¤æ¨¡å¼ï¼æ¯é»è®¤å¼\n\n * CORRELATED å¼æ¯åå¸æ¶æ¯æåå°äº¤æ¢å¨åä¼è§¦ååè°æ¹æ³\n\n * SIMPLE å¼ç»æµè¯æä¸¤ç§ææï¼å¶ä¸ææå CORRELATED å¼ä¸æ ·ä¼è§¦ååè°æ¹æ³ï¼å¶äºå¨åå¸æ¶æ¯æååä½¿ç¨ rabbitTemplate è°ç¨ waitForConfirms æ waitForConfirmsOrDie æ¹æ³ç­å¾ broker èç¹è¿ååéç»æï¼æ ¹æ®è¿åç»ææ¥å¤å®ä¸ä¸æ­¥çé»è¾ï¼è¦æ³¨æçç¹æ¯ waitForConfirmsOrDie æ¹æ³å¦æè¿å false åä¼å³é­ channelï¼åæ¥ä¸æ¥æ æ³åéæ¶æ¯å° broker;\n\nä»£ç \n\n1ãæ·»å éç½®ç±»ï¼\n\n@Configuration\npublic class ConfirmConfig {\n    public static final String CONFIRM_EXCHANGE_NAME = "confirm.exchange";\n    public static final String CONFIRM_QUEUE_NAME = "confirm.queue";\n\n    //å£°æä¸å¡ Exchange\n    @Bean("confirmExchange")\n    public DirectExchange confirmExchange() {\n        return new DirectExchange(CONFIRM_EXCHANGE_NAME);\n    }\n\n    // å£°æç¡®è®¤éå\n    @Bean("confirmQueue")\n    public Queue confirmQueue() {\n        return QueueBuilder.durable(CONFIRM_QUEUE_NAME).build();\n    }\n\n    // å£°æç¡®è®¤éåç»å®å³ç³»\n    @Bean\n    public Binding queueBinding(@Qualifier("confirmQueue") Queue queue,\n                                @Qualifier("confirmExchange") DirectExchange exchange) {\n        return BindingBuilder.bind(queue).to(exchange).with("key1");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n2ãæ¶æ¯çäº§èçåè°æ¥å£\n\n@Component\n@Slf4j\npublic class MyCallBack implements RabbitTemplate.ConfirmCallback {\n    /**\n     * äº¤æ¢æºä¸ç®¡æ¯å¦æ¶å°æ¶æ¯çä¸ä¸ªåè°æ¹æ³\n     *\n     * @param correlationData æ¶æ¯ç¸å³æ°æ®\n     * @param ack             äº¤æ¢æºæ¯å¦æ¶å°æ¶æ¯\n     * @param cause           ä¸ºæ¶å°æ¶æ¯çåå \n     */\n    @Override\n    public void confirm(CorrelationData correlationData, boolean ack, String cause) {\n        String id = correlationData != null ? correlationData.getId() : "";\n        if (ack) {\n            log.info("äº¤æ¢æºå·²ç»æ¶å° id ä¸º:{}çæ¶æ¯", id);\n        } else {\n            log.info("äº¤æ¢æºè¿æªæ¶å° id ä¸º:{}æ¶æ¯ï¼åå :{}", id, cause);\n        }\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n3ãæ¶æ¯çäº§è\n\n@RestController\n@RequestMapping("/confirm")\n@Slf4j\npublic class ProducerController {\n    public static final String CONFIRM_EXCHANGE_NAME = "confirm.exchange";\n    @Autowired\n    private RabbitTemplate rabbitTemplate;\n    @Autowired\n    private MyCallBack myCallBack;\n\n    //ä¾èµæ³¨å¥ rabbitTemplate ä¹ååè®¾ç½®å®çåè°å¯¹è±¡\n    @PostConstruct\n    public void init() {\n        rabbitTemplate.setConfirmCallback(myCallBack);\n    }\n    \n    /**\n     * æ¶æ¯åè°åéå\n     *\n     * @param message\n     */\n    @GetMapping("sendMessage/{message}")\n    public void sendMessage(@PathVariable String message) {\n\n        //æå®æ¶æ¯ id ä¸º 1\n        CorrelationData correlationData1 = new CorrelationData("1");\n        String routingKey = "key1";\n        rabbitTemplate.convertAndSend(CONFIRM_EXCHANGE_NAME, routingKey, message + routingKey, correlationData1);\n        log.info(routingKey + "åéæ¶æ¯åå®¹:{}", message + routingKey);\n\n        CorrelationData correlationData2 = new CorrelationData("2");\n        routingKey = "key2";\n        rabbitTemplate.convertAndSend(CONFIRM_EXCHANGE_NAME, routingKey, message + routingKey, correlationData2);\n        log.info(routingKey + "åéæ¶æ¯åå®¹:{}", message + routingKey);\n\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\n4ãæ¶æ¯æ¶è´¹è\n\n@Component\n@Slf4j\npublic class ConfirmConsumer {\n    public static final String CONFIRM_QUEUE_NAME = "confirm.queue";\n\n    @RabbitListener(queues = CONFIRM_QUEUE_NAME)\n    public void receiveMsg(Message message) {\n        String msg = new String(message.getBody());\n        log.info("æ¥åå°éå confirm.queue æ¶æ¯:{}", msg);\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nè®¿é®ï¼ http://localhost:8080/confirm/sendMessage/ä½ å¥½\n\nç»æåæï¼\n\n\n\nå¯ä»¥çå°ï¼åéäºä¸¤æ¡æ¶æ¯ï¼ç¬¬ä¸æ¡æ¶æ¯ç RoutingKey ä¸º "key1"ï¼ç¬¬äºæ¡æ¶æ¯ç RoutingKey ä¸º "key2"ï¼ä¸¤æ¡æ¶æ¯é½æåè¢«äº¤æ¢æºæ¥æ¶ï¼ä¹æ¶å°äºäº¤æ¢æºçç¡®è®¤åè°ï¼ä½æ¶è´¹èåªæ¶å°äºä¸æ¡æ¶æ¯ï¼å ä¸ºç¬¬äºæ¡æ¶æ¯ç RoutingKey ä¸éåç BindingKey ä¸ä¸è´ï¼ä¹æ²¡æå¶å®éåè½æ¥æ¶è¿ä¸ªæ¶æ¯ï¼ææç¬¬äºæ¡æ¶æ¯è¢«ç´æ¥ä¸¢å¼äºã\n\nä¸¢å¼çæ¶æ¯äº¤æ¢æºæ¯ä¸ç¥éçï¼éè¦è§£å³åè¯çäº§èæ¶æ¯ä¼ éå¤±è´¥\n\n\n# åéæ¶æ¯\n\nMandatory åæ°\n\nrabbitTemplate.setReturnsCallback(myCallBack);\n\n\n1\n\n\nå¨ä»å¼å¯äºçäº§èç¡®è®¤æºå¶çæåµä¸ï¼äº¤æ¢æºæ¥æ¶å°æ¶æ¯åï¼ä¼ç´æ¥ç»æ¶æ¯çäº§èåéç¡®è®¤æ¶æ¯ï¼å¦æåç°è¯¥æ¶æ¯ä¸å¯è·¯ç±ï¼é£ä¹æ¶æ¯ä¼è¢«ç´æ¥ä¸¢å¼ï¼æ­¤æ¶çäº§èæ¯ä¸ç¥éæ¶æ¯è¢«ä¸¢å¼è¿ä¸ªäºä»¶çã\n\né£ä¹å¦ä½è®©æ æ³è¢«è·¯ç±çæ¶æ¯å¸®ææ³åæ³å¤çä¸ä¸ï¼æèµ·ç éç¥æä¸å£°ï¼æå¥½èªå·±å¤çåãéè¿è®¾ç½® mandatory åæ°å¯ä»¥å¨å½æ¶æ¯ä¼ éè¿ç¨ä¸­ä¸å¯è¾¾ç®çå°æ¶å°æ¶æ¯è¿åç»çäº§èã\n\n1ãä¿®æ¹éç½®\n\n#æ¶æ¯éå\nspring.rabbitmq.publisher-returns=true\n\n\n1\n2\n\n\n2ãä¿®æ¹åè°æ¥å£\n\n@Component\n@Slf4j\npublic class MyCallBack implements RabbitTemplate.ConfirmCallback, RabbitTemplate.ReturnsCallback {\n\n    /**\n     * äº¤æ¢æºä¸ç®¡æ¯å¦æ¶å°æ¶æ¯çä¸ä¸ªåè°æ¹æ³\n     *\n     * @param correlationData æ¶æ¯ç¸å³æ°æ®\n     * @param ack             äº¤æ¢æºæ¯å¦æ¶å°æ¶æ¯\n     * @param cause           ä¸ºæ¶å°æ¶æ¯çåå \n     */\n    @Override\n    public void confirm(CorrelationData correlationData, boolean ack, String cause) {\n        String id = correlationData != null ? correlationData.getId() : "";\n        if (ack) {\n            log.info("äº¤æ¢æºå·²ç»æ¶å° id ä¸º:{}çæ¶æ¯", id);\n        } else {\n            log.info("äº¤æ¢æºè¿æªæ¶å° id ä¸º:{}æ¶æ¯ï¼åå :{}", id, cause);\n        }\n    }\n\n    //å½æ¶æ¯æ æ³è·¯ç±çæ¶åçåè°æ¹æ³\n    @Override\n    public void returnedMessage(ReturnedMessage returned) {\n\n        log.error("æ¶æ¯ï¼{}ï¼è¢«äº¤æ¢æº {} éåï¼åå ï¼{}ï¼è·¯ç±keyï¼{},code:{}",\n                new String(returned.getMessage().getBody()), returned.getExchange(),\n                returned.getReplyText(), returned.getRoutingKey(),\n                returned.getReplyCode());\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\nä½çæ¬å¯è½æ²¡æ RabbitTemplate.ReturnsCallback è¯·ç¨ RabbitTemplate.ReturnCallback\n\n@Override\npublic void returnedMessage(Message message, int replyCode, String replyText, String\nexchange, String routingKey) {\n\tlog.info("æ¶æ¯:{}è¢«æå¡å¨éåï¼éååå :{}, äº¤æ¢æºæ¯:{}, è·¯ç± key:{}",new String(message.getBody()),replyText, exchange, routingKey);\n}\n\n\n1\n2\n3\n4\n5\n\n\n3ãä¿®æ¹åéè ProducerController\n\n//ä¾èµæ³¨å¥ rabbitTemplate ä¹ååè®¾ç½®å®çåè°å¯¹è±¡\n@PostConstruct\npublic void init() {\n    //æ¶æ¯åè°\n    rabbitTemplate.setConfirmCallback(myCallBack);\n    /**\n     * trueï¼äº¤æ¢æºæ æ³å°æ¶æ¯è¿è¡è·¯ç±æ¶ï¼ä¼å°è¯¥æ¶æ¯è¿åç»çäº§è\n     * falseï¼å¦æåç°æ¶æ¯æ æ³è¿è¡è·¯ç±ï¼åç´æ¥ä¸¢å¼\n     */\n    rabbitTemplate.setMandatory(true);\n    //è®¾ç½®åéæ¶æ¯äº¤ç»è°å¤ç\n    rabbitTemplate.setReturnsCallback(myCallBack);\n  \t//RabbitMQçæ¬ä½çæ¯ rabbitTemplate.setReturnCallback(myCallBack);\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nè®¿é®ï¼ http://localhost:8080/confirm/sendMessage/ä½ å¥½\n\nç»æåæï¼\n\n\n\n\n# å¤ä»½äº¤æ¢æº\n\næäº mandatory åæ°ååéæ¶æ¯ï¼æä»¬è·å¾äºå¯¹æ æ³æéæ¶æ¯çæç¥è½åï¼å¨çäº§èçæ¶æ¯æ æ³è¢«æéæ¶åç°å¹¶å¤çãä½ææ¶åï¼æä»¬å¹¶ä¸ç¥éè¯¥å¦ä½å¤çè¿äºæ æ³è·¯ç±çæ¶æ¯ï¼æå¤æä¸ªæ¥å¿ï¼ç¶åè§¦åæ¥è­¦ï¼åæ¥æå¨å¤çãèéè¿æ¥å¿æ¥å¤çè¿äºæ æ³è·¯ç±çæ¶æ¯æ¯å¾ä¸ä¼éçåæ³ï¼ç¹å«æ¯å½çäº§èæå¨çæå¡æå¤å°æºå¨çæ¶åï¼æå¨å¤å¶æ¥å¿ä¼æ´å éº»ç¦èä¸å®¹æåºéãèä¸è®¾ç½® mandatory åæ°ä¼å¢å çäº§èçå¤ææ§ï¼éè¦æ·»å å¤çè¿äºè¢«éåçæ¶æ¯çé»è¾ãå¦ææ¢ä¸æ³ä¸¢å¤±æ¶æ¯ï¼åä¸æ³å¢å çäº§èçå¤ææ§ï¼è¯¥æä¹åå¢ï¼\n\nåé¢å¨è®¾ç½®æ­»ä¿¡éåçæç« ä¸­ï¼æä»¬æå°ï¼å¯ä»¥ä¸ºéåè®¾ç½®æ­»ä¿¡äº¤æ¢æºæ¥å­å¨é£äºå¤çå¤±è´¥çæ¶æ¯ï¼å¯æ¯è¿äºä¸å¯è·¯ç±æ¶æ¯æ ¹æ¬æ²¡ææºä¼è¿å¥å°éåï¼å æ­¤æ æ³ä½¿ç¨æ­»ä¿¡éåæ¥ä¿å­æ¶æ¯ã å¨ RabbitMQ ä¸­ï¼æä¸ç§å¤ä»½äº¤æ¢æºçæºå¶å­å¨ï¼å¯ä»¥å¾å¥½çåºå¯¹è¿ä¸ªé®é¢ã\n\nä»ä¹æ¯å¤ä»½äº¤æ¢æºå¢ï¼å¤ä»½äº¤æ¢æºå¯ä»¥çè§£ä¸º RabbitMQ ä¸­äº¤æ¢æºçâå¤èâï¼å½æä»¬ä¸ºæä¸ä¸ªäº¤æ¢æºå£°æä¸ä¸ªå¯¹åºçå¤ä»½äº¤æ¢æºæ¶ï¼å°±æ¯ä¸ºå®åå»ºä¸ä¸ªå¤èï¼å½äº¤æ¢æºæ¥æ¶å°ä¸æ¡ä¸å¯è·¯ç±æ¶æ¯æ¶ï¼å°ä¼æè¿æ¡æ¶æ¯è½¬åå°å¤ä»½äº¤æ¢æºä¸­ï¼ç±å¤ä»½äº¤æ¢æºæ¥è¿è¡è½¬ååå¤çï¼éå¸¸å¤ä»½äº¤æ¢æºçç±»åä¸º Fanout ï¼è¿æ ·å°±è½ææææ¶æ¯é½æéå°ä¸å¶ç»å®çéåä¸­ï¼ç¶åæä»¬å¨å¤ä»½äº¤æ¢æºä¸ç»å®ä¸ä¸ªéåï¼è¿æ ·ææé£äºåäº¤æ¢æºæ æ³è¢«è·¯ç±çæ¶æ¯ï¼å°±ä¼é½è¿ å¥è¿ä¸ªéåäºãå½ç¶ï¼æä»¬è¿å¯ä»¥å»ºç«ä¸ä¸ªæ¥è­¦éåï¼ç¨ç¬ç«çæ¶è´¹èæ¥è¿è¡çæµåæ¥è­¦ã\n\n * ä»£ç æ¶æå¾\n\n\n\n1ãä¿®æ¹éç½®ç±»\n\n@Configuration\npublic class ConfirmConfig {\n    public static final String CONFIRM_EXCHANGE_NAME = "confirm.exchange";\n    public static final String CONFIRM_QUEUE_NAME = "confirm.queue";\n    //å³äºå¤ä»½ç\n    public static final String BACKUP_EXCHANGE_NAME = "backup.exchange";\n    public static final String BACKUP_QUEUE_NAME = "backup.queue";\n    public static final String WARNING_QUEUE_NAME = "warning.queue";\n\n\n    /*\n    //å£°æä¸å¡ Exchange\n    @Bean("confirmExchange")\n    public DirectExchange confirmExchange() {\n        return new DirectExchange(CONFIRM_EXCHANGE_NAME);\n    }\n    */\n\n    // å£°æç¡®è®¤éå\n    @Bean("confirmQueue")\n    public Queue confirmQueue() {\n        return QueueBuilder.durable(CONFIRM_QUEUE_NAME).build();\n    }\n\n    // å£°æç¡®è®¤éåç»å®å³ç³»\n    @Bean\n    public Binding queueBinding(@Qualifier("confirmQueue") Queue queue,\n                                @Qualifier("confirmExchange") DirectExchange exchange) {\n        return BindingBuilder.bind(queue).to(exchange).with("key1");\n    }\n\n    //************************ä»¥ä¸æ¯å³äºå¤ä»½ç******************************\n\n    //å£°æå¤ä»½ Exchange\n    @Bean("backupExchange")\n    public FanoutExchange backupExchange() {\n        return new FanoutExchange(BACKUP_EXCHANGE_NAME);\n    }\n\n    //å£°æç¡®è®¤ Exchange äº¤æ¢æºçå¤ä»½äº¤æ¢æº\n    @Bean("confirmExchange")\n    public DirectExchange confirmExchange() {\n        ExchangeBuilder exchangeBuilder = ExchangeBuilder.directExchange(CONFIRM_EXCHANGE_NAME)\n                .durable(true)\n                //è®¾ç½®è¯¥äº¤æ¢æºçå¤ä»½äº¤æ¢æº\n                .withArgument("alternate-exchange", BACKUP_EXCHANGE_NAME);\n        return exchangeBuilder.build();\n    }\n\n\n    // å£°æè­¦åéå\n    @Bean("warningQueue")\n    public Queue warningQueue() {\n        return QueueBuilder.durable(WARNING_QUEUE_NAME).build();\n    }\n\n    // å£°ææ¥è­¦éåç»å®å³ç³»\n    @Bean\n    public Binding warningBinding(@Qualifier("warningQueue") Queue queue,\n                                  @Qualifier("backupExchange") FanoutExchange backupExchange) {\n        return BindingBuilder.bind(queue).to(backupExchange);\n    }\n\n    // å£°æå¤ä»½éå\n    @Bean("backQueue")\n    public Queue backQueue() {\n        return QueueBuilder.durable(BACKUP_QUEUE_NAME).build();\n    }\n\n    // å£°æå¤ä»½éåç»å®å³ç³»\n    @Bean\n    public Binding backupBinding(@Qualifier("backQueue") Queue queue,\n                                 @Qualifier("backupExchange") FanoutExchange backupExchange) {\n        return BindingBuilder.bind(queue).to(backupExchange);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n\n\n2ãæ¥è­¦æ¶è´¹è\n\n@Component\n@Slf4j\npublic class WarningConsumer {\n    public static final String WARNING_QUEUE_NAME = "warning.queue";\n\n    @RabbitListener(queues = WARNING_QUEUE_NAME)\n    public void receiveWarningMsg(Message message) {\n        String msg = new String(message.getBody());\n        log.error("æ¥è­¦åç°ä¸å¯è·¯ç±æ¶æ¯ï¼{}", msg);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nä¹åå·²åè¿ confirm.exchange äº¤æ¢æºï¼ç±äºæ´æ¹éç½®ï¼éè¦å æï¼ä¸ç¶ä¼æ¥é\n\n\n\n * è®¿é®ï¼ http://localhost:8080/confirm/sendMessage/ä½ å¥½\n\n\n\nmandatory åæ°ä¸å¤ä»½äº¤æ¢æºå¯ä»¥ä¸èµ·ä½¿ç¨çæ¶åï¼å¦æä¸¤èåæ¶å¼å¯ï¼æ¶æ¯ç©¶ç«ä½å»ä½ä»ï¼è°ä¼åçº§é«ï¼ç»è¿ä¸é¢ç»ææ¾ç¤ºç­æ¡æ¯å¤ä»½äº¤æ¢æºä¼åçº§é«ã',normalizedContent:' * åå¸ç¡®è®¤ springboot çæ¬\n * åéæ¶æ¯\n * å¤ä»½äº¤æ¢æº\n\nå¨çäº§ç¯å¢ä¸­ç±äºä¸äºä¸æåå ï¼å¯¼è´ rabbitmq éå¯ï¼å¨ rabbitmq éå¯æé´çäº§èæ¶æ¯æéå¤±è´¥ï¼ å¯¼è´æ¶æ¯ä¸¢å¤±ï¼éè¦æå¨å¤çåæ¢å¤ãäºæ¯ï¼æä»¬å¼å§æèï¼å¦ä½æè½è¿è¡ rabbitmq çæ¶æ¯å¯é æéå¢ï¼\n\n\n# åå¸ç¡®è®¤ springboot çæ¬\n\nç¡®è®¤æºå¶æ¹æ¡ï¼\n\n\n\nä»£ç æ¶æå¾ï¼\n\n\n\nå¨éç½®æä»¶å½ä¸­éè¦æ·»å \n\nspring.rabbitmq.publisher-confirm-type=correlated\n\n\n1\n\n\n * none å¼æ¯ç¦ç¨åå¸ç¡®è®¤æ¨¡å¼ï¼æ¯é»è®¤å¼\n\n * correlated å¼æ¯åå¸æ¶æ¯æåå°äº¤æ¢å¨åä¼è§¦ååè°æ¹æ³\n\n * simple å¼ç»æµè¯æä¸¤ç§ææï¼å¶ä¸ææå correlated å¼ä¸æ ·ä¼è§¦ååè°æ¹æ³ï¼å¶äºå¨åå¸æ¶æ¯æååä½¿ç¨ rabbittemplate è°ç¨ waitforconfirms æ waitforconfirmsordie æ¹æ³ç­å¾ broker èç¹è¿ååéç»æï¼æ ¹æ®è¿åç»ææ¥å¤å®ä¸ä¸æ­¥çé»è¾ï¼è¦æ³¨æçç¹æ¯ waitforconfirmsordie æ¹æ³å¦æè¿å false åä¼å³é­ channelï¼åæ¥ä¸æ¥æ æ³åéæ¶æ¯å° broker;\n\nä»£ç \n\n1ãæ·»å éç½®ç±»ï¼\n\n@configuration\npublic class confirmconfig {\n    public static final string confirm_exchange_name = "confirm.exchange";\n    public static final string confirm_queue_name = "confirm.queue";\n\n    //å£°æä¸å¡ exchange\n    @bean("confirmexchange")\n    public directexchange confirmexchange() {\n        return new directexchange(confirm_exchange_name);\n    }\n\n    // å£°æç¡®è®¤éå\n    @bean("confirmqueue")\n    public queue confirmqueue() {\n        return queuebuilder.durable(confirm_queue_name).build();\n    }\n\n    // å£°æç¡®è®¤éåç»å®å³ç³»\n    @bean\n    public binding queuebinding(@qualifier("confirmqueue") queue queue,\n                                @qualifier("confirmexchange") directexchange exchange) {\n        return bindingbuilder.bind(queue).to(exchange).with("key1");\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n2ãæ¶æ¯çäº§èçåè°æ¥å£\n\n@component\n@slf4j\npublic class mycallback implements rabbittemplate.confirmcallback {\n    /**\n     * äº¤æ¢æºä¸ç®¡æ¯å¦æ¶å°æ¶æ¯çä¸ä¸ªåè°æ¹æ³\n     *\n     * @param correlationdata æ¶æ¯ç¸å³æ°æ®\n     * @param ack             äº¤æ¢æºæ¯å¦æ¶å°æ¶æ¯\n     * @param cause           ä¸ºæ¶å°æ¶æ¯çåå \n     */\n    @override\n    public void confirm(correlationdata correlationdata, boolean ack, string cause) {\n        string id = correlationdata != null ? correlationdata.getid() : "";\n        if (ack) {\n            log.info("äº¤æ¢æºå·²ç»æ¶å° id ä¸º:{}çæ¶æ¯", id);\n        } else {\n            log.info("äº¤æ¢æºè¿æªæ¶å° id ä¸º:{}æ¶æ¯ï¼åå :{}", id, cause);\n        }\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n3ãæ¶æ¯çäº§è\n\n@restcontroller\n@requestmapping("/confirm")\n@slf4j\npublic class producercontroller {\n    public static final string confirm_exchange_name = "confirm.exchange";\n    @autowired\n    private rabbittemplate rabbittemplate;\n    @autowired\n    private mycallback mycallback;\n\n    //ä¾èµæ³¨å¥ rabbittemplate ä¹ååè®¾ç½®å®çåè°å¯¹è±¡\n    @postconstruct\n    public void init() {\n        rabbittemplate.setconfirmcallback(mycallback);\n    }\n    \n    /**\n     * æ¶æ¯åè°åéå\n     *\n     * @param message\n     */\n    @getmapping("sendmessage/{message}")\n    public void sendmessage(@pathvariable string message) {\n\n        //æå®æ¶æ¯ id ä¸º 1\n        correlationdata correlationdata1 = new correlationdata("1");\n        string routingkey = "key1";\n        rabbittemplate.convertandsend(confirm_exchange_name, routingkey, message + routingkey, correlationdata1);\n        log.info(routingkey + "åéæ¶æ¯åå®¹:{}", message + routingkey);\n\n        correlationdata correlationdata2 = new correlationdata("2");\n        routingkey = "key2";\n        rabbittemplate.convertandsend(confirm_exchange_name, routingkey, message + routingkey, correlationdata2);\n        log.info(routingkey + "åéæ¶æ¯åå®¹:{}", message + routingkey);\n\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\n4ãæ¶æ¯æ¶è´¹è\n\n@component\n@slf4j\npublic class confirmconsumer {\n    public static final string confirm_queue_name = "confirm.queue";\n\n    @rabbitlistener(queues = confirm_queue_name)\n    public void receivemsg(message message) {\n        string msg = new string(message.getbody());\n        log.info("æ¥åå°éå confirm.queue æ¶æ¯:{}", msg);\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nè®¿é®ï¼ http://localhost:8080/confirm/sendmessage/ä½ å¥½\n\nç»æåæï¼\n\n\n\nå¯ä»¥çå°ï¼åéäºä¸¤æ¡æ¶æ¯ï¼ç¬¬ä¸æ¡æ¶æ¯ç routingkey ä¸º "key1"ï¼ç¬¬äºæ¡æ¶æ¯ç routingkey ä¸º "key2"ï¼ä¸¤æ¡æ¶æ¯é½æåè¢«äº¤æ¢æºæ¥æ¶ï¼ä¹æ¶å°äºäº¤æ¢æºçç¡®è®¤åè°ï¼ä½æ¶è´¹èåªæ¶å°äºä¸æ¡æ¶æ¯ï¼å ä¸ºç¬¬äºæ¡æ¶æ¯ç routingkey ä¸éåç bindingkey ä¸ä¸è´ï¼ä¹æ²¡æå¶å®éåè½æ¥æ¶è¿ä¸ªæ¶æ¯ï¼ææç¬¬äºæ¡æ¶æ¯è¢«ç´æ¥ä¸¢å¼äºã\n\nä¸¢å¼çæ¶æ¯äº¤æ¢æºæ¯ä¸ç¥éçï¼éè¦è§£å³åè¯çäº§èæ¶æ¯ä¼ éå¤±è´¥\n\n\n# åéæ¶æ¯\n\nmandatory åæ°\n\nrabbittemplate.setreturnscallback(mycallback);\n\n\n1\n\n\nå¨ä»å¼å¯äºçäº§èç¡®è®¤æºå¶çæåµä¸ï¼äº¤æ¢æºæ¥æ¶å°æ¶æ¯åï¼ä¼ç´æ¥ç»æ¶æ¯çäº§èåéç¡®è®¤æ¶æ¯ï¼å¦æåç°è¯¥æ¶æ¯ä¸å¯è·¯ç±ï¼é£ä¹æ¶æ¯ä¼è¢«ç´æ¥ä¸¢å¼ï¼æ­¤æ¶çäº§èæ¯ä¸ç¥éæ¶æ¯è¢«ä¸¢å¼è¿ä¸ªäºä»¶çã\n\né£ä¹å¦ä½è®©æ æ³è¢«è·¯ç±çæ¶æ¯å¸®ææ³åæ³å¤çä¸ä¸ï¼æèµ·ç éç¥æä¸å£°ï¼æå¥½èªå·±å¤çåãéè¿è®¾ç½® mandatory åæ°å¯ä»¥å¨å½æ¶æ¯ä¼ éè¿ç¨ä¸­ä¸å¯è¾¾ç®çå°æ¶å°æ¶æ¯è¿åç»çäº§èã\n\n1ãä¿®æ¹éç½®\n\n#æ¶æ¯éå\nspring.rabbitmq.publisher-returns=true\n\n\n1\n2\n\n\n2ãä¿®æ¹åè°æ¥å£\n\n@component\n@slf4j\npublic class mycallback implements rabbittemplate.confirmcallback, rabbittemplate.returnscallback {\n\n    /**\n     * äº¤æ¢æºä¸ç®¡æ¯å¦æ¶å°æ¶æ¯çä¸ä¸ªåè°æ¹æ³\n     *\n     * @param correlationdata æ¶æ¯ç¸å³æ°æ®\n     * @param ack             äº¤æ¢æºæ¯å¦æ¶å°æ¶æ¯\n     * @param cause           ä¸ºæ¶å°æ¶æ¯çåå \n     */\n    @override\n    public void confirm(correlationdata correlationdata, boolean ack, string cause) {\n        string id = correlationdata != null ? correlationdata.getid() : "";\n        if (ack) {\n            log.info("äº¤æ¢æºå·²ç»æ¶å° id ä¸º:{}çæ¶æ¯", id);\n        } else {\n            log.info("äº¤æ¢æºè¿æªæ¶å° id ä¸º:{}æ¶æ¯ï¼åå :{}", id, cause);\n        }\n    }\n\n    //å½æ¶æ¯æ æ³è·¯ç±çæ¶åçåè°æ¹æ³\n    @override\n    public void returnedmessage(returnedmessage returned) {\n\n        log.error("æ¶æ¯ï¼{}ï¼è¢«äº¤æ¢æº {} éåï¼åå ï¼{}ï¼è·¯ç±keyï¼{},code:{}",\n                new string(returned.getmessage().getbody()), returned.getexchange(),\n                returned.getreplytext(), returned.getroutingkey(),\n                returned.getreplycode());\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\nä½çæ¬å¯è½æ²¡æ rabbittemplate.returnscallback è¯·ç¨ rabbittemplate.returncallback\n\n@override\npublic void returnedmessage(message message, int replycode, string replytext, string\nexchange, string routingkey) {\n\tlog.info("æ¶æ¯:{}è¢«æå¡å¨éåï¼éååå :{}, äº¤æ¢æºæ¯:{}, è·¯ç± key:{}",new string(message.getbody()),replytext, exchange, routingkey);\n}\n\n\n1\n2\n3\n4\n5\n\n\n3ãä¿®æ¹åéè producercontroller\n\n//ä¾èµæ³¨å¥ rabbittemplate ä¹ååè®¾ç½®å®çåè°å¯¹è±¡\n@postconstruct\npublic void init() {\n    //æ¶æ¯åè°\n    rabbittemplate.setconfirmcallback(mycallback);\n    /**\n     * trueï¼äº¤æ¢æºæ æ³å°æ¶æ¯è¿è¡è·¯ç±æ¶ï¼ä¼å°è¯¥æ¶æ¯è¿åç»çäº§è\n     * falseï¼å¦æåç°æ¶æ¯æ æ³è¿è¡è·¯ç±ï¼åç´æ¥ä¸¢å¼\n     */\n    rabbittemplate.setmandatory(true);\n    //è®¾ç½®åéæ¶æ¯äº¤ç»è°å¤ç\n    rabbittemplate.setreturnscallback(mycallback);\n  \t//rabbitmqçæ¬ä½çæ¯ rabbittemplate.setreturncallback(mycallback);\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nè®¿é®ï¼ http://localhost:8080/confirm/sendmessage/ä½ å¥½\n\nç»æåæï¼\n\n\n\n\n# å¤ä»½äº¤æ¢æº\n\næäº mandatory åæ°ååéæ¶æ¯ï¼æä»¬è·å¾äºå¯¹æ æ³æéæ¶æ¯çæç¥è½åï¼å¨çäº§èçæ¶æ¯æ æ³è¢«æéæ¶åç°å¹¶å¤çãä½ææ¶åï¼æä»¬å¹¶ä¸ç¥éè¯¥å¦ä½å¤çè¿äºæ æ³è·¯ç±çæ¶æ¯ï¼æå¤æä¸ªæ¥å¿ï¼ç¶åè§¦åæ¥è­¦ï¼åæ¥æå¨å¤çãèéè¿æ¥å¿æ¥å¤çè¿äºæ æ³è·¯ç±çæ¶æ¯æ¯å¾ä¸ä¼éçåæ³ï¼ç¹å«æ¯å½çäº§èæå¨çæå¡æå¤å°æºå¨çæ¶åï¼æå¨å¤å¶æ¥å¿ä¼æ´å éº»ç¦èä¸å®¹æåºéãèä¸è®¾ç½® mandatory åæ°ä¼å¢å çäº§èçå¤ææ§ï¼éè¦æ·»å å¤çè¿äºè¢«éåçæ¶æ¯çé»è¾ãå¦ææ¢ä¸æ³ä¸¢å¤±æ¶æ¯ï¼åä¸æ³å¢å çäº§èçå¤ææ§ï¼è¯¥æä¹åå¢ï¼\n\nåé¢å¨è®¾ç½®æ­»ä¿¡éåçæç« ä¸­ï¼æä»¬æå°ï¼å¯ä»¥ä¸ºéåè®¾ç½®æ­»ä¿¡äº¤æ¢æºæ¥å­å¨é£äºå¤çå¤±è´¥çæ¶æ¯ï¼å¯æ¯è¿äºä¸å¯è·¯ç±æ¶æ¯æ ¹æ¬æ²¡ææºä¼è¿å¥å°éåï¼å æ­¤æ æ³ä½¿ç¨æ­»ä¿¡éåæ¥ä¿å­æ¶æ¯ã å¨ rabbitmq ä¸­ï¼æä¸ç§å¤ä»½äº¤æ¢æºçæºå¶å­å¨ï¼å¯ä»¥å¾å¥½çåºå¯¹è¿ä¸ªé®é¢ã\n\nä»ä¹æ¯å¤ä»½äº¤æ¢æºå¢ï¼å¤ä»½äº¤æ¢æºå¯ä»¥çè§£ä¸º rabbitmq ä¸­äº¤æ¢æºçâå¤èâï¼å½æä»¬ä¸ºæä¸ä¸ªäº¤æ¢æºå£°æä¸ä¸ªå¯¹åºçå¤ä»½äº¤æ¢æºæ¶ï¼å°±æ¯ä¸ºå®åå»ºä¸ä¸ªå¤èï¼å½äº¤æ¢æºæ¥æ¶å°ä¸æ¡ä¸å¯è·¯ç±æ¶æ¯æ¶ï¼å°ä¼æè¿æ¡æ¶æ¯è½¬åå°å¤ä»½äº¤æ¢æºä¸­ï¼ç±å¤ä»½äº¤æ¢æºæ¥è¿è¡è½¬ååå¤çï¼éå¸¸å¤ä»½äº¤æ¢æºçç±»åä¸º fanout ï¼è¿æ ·å°±è½ææææ¶æ¯é½æéå°ä¸å¶ç»å®çéåä¸­ï¼ç¶åæä»¬å¨å¤ä»½äº¤æ¢æºä¸ç»å®ä¸ä¸ªéåï¼è¿æ ·ææé£äºåäº¤æ¢æºæ æ³è¢«è·¯ç±çæ¶æ¯ï¼å°±ä¼é½è¿ å¥è¿ä¸ªéåäºãå½ç¶ï¼æä»¬è¿å¯ä»¥å»ºç«ä¸ä¸ªæ¥è­¦éåï¼ç¨ç¬ç«çæ¶è´¹èæ¥è¿è¡çæµåæ¥è­¦ã\n\n * ä»£ç æ¶æå¾\n\n\n\n1ãä¿®æ¹éç½®ç±»\n\n@configuration\npublic class confirmconfig {\n    public static final string confirm_exchange_name = "confirm.exchange";\n    public static final string confirm_queue_name = "confirm.queue";\n    //å³äºå¤ä»½ç\n    public static final string backup_exchange_name = "backup.exchange";\n    public static final string backup_queue_name = "backup.queue";\n    public static final string warning_queue_name = "warning.queue";\n\n\n    /*\n    //å£°æä¸å¡ exchange\n    @bean("confirmexchange")\n    public directexchange confirmexchange() {\n        return new directexchange(confirm_exchange_name);\n    }\n    */\n\n    // å£°æç¡®è®¤éå\n    @bean("confirmqueue")\n    public queue confirmqueue() {\n        return queuebuilder.durable(confirm_queue_name).build();\n    }\n\n    // å£°æç¡®è®¤éåç»å®å³ç³»\n    @bean\n    public binding queuebinding(@qualifier("confirmqueue") queue queue,\n                                @qualifier("confirmexchange") directexchange exchange) {\n        return bindingbuilder.bind(queue).to(exchange).with("key1");\n    }\n\n    //************************ä»¥ä¸æ¯å³äºå¤ä»½ç******************************\n\n    //å£°æå¤ä»½ exchange\n    @bean("backupexchange")\n    public fanoutexchange backupexchange() {\n        return new fanoutexchange(backup_exchange_name);\n    }\n\n    //å£°æç¡®è®¤ exchange äº¤æ¢æºçå¤ä»½äº¤æ¢æº\n    @bean("confirmexchange")\n    public directexchange confirmexchange() {\n        exchangebuilder exchangebuilder = exchangebuilder.directexchange(confirm_exchange_name)\n                .durable(true)\n                //è®¾ç½®è¯¥äº¤æ¢æºçå¤ä»½äº¤æ¢æº\n                .withargument("alternate-exchange", backup_exchange_name);\n        return exchangebuilder.build();\n    }\n\n\n    // å£°æè­¦åéå\n    @bean("warningqueue")\n    public queue warningqueue() {\n        return queuebuilder.durable(warning_queue_name).build();\n    }\n\n    // å£°ææ¥è­¦éåç»å®å³ç³»\n    @bean\n    public binding warningbinding(@qualifier("warningqueue") queue queue,\n                                  @qualifier("backupexchange") fanoutexchange backupexchange) {\n        return bindingbuilder.bind(queue).to(backupexchange);\n    }\n\n    // å£°æå¤ä»½éå\n    @bean("backqueue")\n    public queue backqueue() {\n        return queuebuilder.durable(backup_queue_name).build();\n    }\n\n    // å£°æå¤ä»½éåç»å®å³ç³»\n    @bean\n    public binding backupbinding(@qualifier("backqueue") queue queue,\n                                 @qualifier("backupexchange") fanoutexchange backupexchange) {\n        return bindingbuilder.bind(queue).to(backupexchange);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n\n\n2ãæ¥è­¦æ¶è´¹è\n\n@component\n@slf4j\npublic class warningconsumer {\n    public static final string warning_queue_name = "warning.queue";\n\n    @rabbitlistener(queues = warning_queue_name)\n    public void receivewarningmsg(message message) {\n        string msg = new string(message.getbody());\n        log.error("æ¥è­¦åç°ä¸å¯è·¯ç±æ¶æ¯ï¼{}", msg);\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nä¹åå·²åè¿ confirm.exchange äº¤æ¢æºï¼ç±äºæ´æ¹éç½®ï¼éè¦å æï¼ä¸ç¶ä¼æ¥é\n\n\n\n * è®¿é®ï¼ http://localhost:8080/confirm/sendmessage/ä½ å¥½\n\n\n\nmandatory åæ°ä¸å¤ä»½äº¤æ¢æºå¯ä»¥ä¸èµ·ä½¿ç¨çæ¶åï¼å¦æä¸¤èåæ¶å¼å¯ï¼æ¶æ¯ç©¶ç«ä½å»ä½ä»ï¼è°ä¼åçº§é«ï¼ç»è¿ä¸é¢ç»ææ¾ç¤ºç­æ¡æ¯å¤ä»½äº¤æ¢æºä¼åçº§é«ã',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"RabbitMQ - å¹ç­æ§ãä¼åçº§ãæ°æ§",frontmatter:{title:"RabbitMQ - å¹ç­æ§ãä¼åçº§ãæ°æ§",date:"2021-06-29T16:04:11.000Z",permalink:"/pages/ee71b9/"},regularPath:"/04.%E6%A1%86%E6%9E%B6/20.RabbitMQ/20.RabbitMQ%20-%20%E5%B9%82%E7%AD%89%E6%80%A7%E3%80%81%E4%BC%98%E5%85%88%E7%BA%A7%E3%80%81%E6%83%B0%E6%80%A7.html",relativePath:"04.æ¡æ¶/20.RabbitMQ/20.RabbitMQ - å¹ç­æ§ãä¼åçº§ãæ°æ§.md",key:"v-c629ccf6",path:"/pages/ee71b9/",headers:[{level:2,title:"å¹ç­æ§",slug:"å¹ç­æ§",normalizedTitle:"å¹ç­æ§",charIndex:3},{level:2,title:"ä¼åçº§éå",slug:"ä¼åçº§éå",normalizedTitle:"ä¼åçº§éå",charIndex:10},{level:2,title:"æ°æ§éå",slug:"æ°æ§éå",normalizedTitle:"æ°æ§éå",charIndex:19}],headersStr:"å¹ç­æ§ ä¼åçº§éå æ°æ§éå",content:' * å¹ç­æ§\n * ä¼åçº§éå\n * æ°æ§éå\n\n\n# å¹ç­æ§\n\næ¦å¿µ\n\nç¨æ·å¯¹äºåä¸æä½åèµ·çä¸æ¬¡è¯·æ±æèå¤æ¬¡è¯·æ±çç»ææ¯ä¸è´çï¼ä¸ä¼å ä¸ºå¤æ¬¡ç¹å»èäº§çäºå¯ä½ç¨ã ä¸¾ä¸ªæç®åçä¾å­ï¼é£å°±æ¯æ¯ä»ï¼ç¨æ·è´­ä¹°åååæ¯ä»ï¼æ¯ä»æ£æ¬¾æåï¼ä½æ¯è¿åç»æçæ¶åç½ç»å¼å¸¸ï¼ æ­¤æ¶é±å·²ç»æ£äºï¼ç¨æ·åæ¬¡ç¹å»æé®ï¼æ­¤æ¶ä¼è¿è¡ç¬¬äºæ¬¡æ£æ¬¾ï¼è¿åç»ææåï¼ç¨æ·æ¥è¯¢ä½é¢åç°å¤æ£é± äºï¼æµæ°´è®°å½ä¹åæäºä¸¤æ¡ãå¨ä»¥åçååºç¨ç³»ç»ä¸­ï¼æä»¬åªéè¦ææ°æ®æä½æ¾å¥äºå¡ä¸­å³å¯ï¼åçéè¯¯ç«å³åæ»ï¼ä½æ¯åååºå®¢æ·ç«¯çæ¶åä¹æå¯è½åºç°ç½ç»ä¸­æ­æèå¼å¸¸ç­ç­\n\næ¶æ¯éå¤æ¶è´¹\n\næ¶è´¹èå¨æ¶è´¹ MQ ä¸­çæ¶æ¯æ¶ï¼MQ å·²ææ¶æ¯åéç»æ¶è´¹èï¼æ¶è´¹èå¨ç» MQ è¿å ack æ¶ç½ç»ä¸­æ­ï¼ æ MQ æªæ¶å°ç¡®è®¤ä¿¡æ¯ï¼è¯¥æ¡æ¶æ¯ä¼éæ°åç»å¶ä»çæ¶è´¹èï¼æèå¨ç½ç»éè¿ååæ¬¡åéç»è¯¥æ¶è´¹èï¼ä½å®éä¸è¯¥æ¶è´¹èå·²æåæ¶è´¹äºè¯¥æ¡æ¶æ¯ï¼é ææ¶è´¹èæ¶è´¹äºéå¤çæ¶æ¯ã\n\nè§£å³æè·¯\n\nMQ æ¶è´¹èçå¹ç­æ§çè§£å³ä¸è¬ä½¿ç¨å¨å± ID æèåä¸ªå¯ä¸æ è¯æ¯å¦æ¶é´æ³ æè UUID æèè®¢åæ¶è´¹èæ¶è´¹ MQ ä¸­çæ¶æ¯ä¹å¯å©ç¨ MQ çè¯¥ id æ¥å¤æ­ï¼æèå¯æèªå·±çè§åçæä¸ä¸ªå¨å±å¯ä¸ idï¼æ¯æ¬¡æ¶è´¹æ¶æ¯æ¶ç¨è¯¥ id åå¤æ­è¯¥æ¶æ¯æ¯å¦å·²æ¶è´¹è¿ã\n\næ¶è´¹ç«¯çå¹ç­æ§ä¿é\n\nå¨æµ·éè®¢åçæçä¸å¡é«å³°æï¼çäº§ç«¯æå¯è½å°±ä¼éå¤åçäºæ¶æ¯ï¼è¿æ¶åæ¶è´¹ç«¯å°±è¦å®ç°å¹ç­æ§ï¼ è¿å°±æå³çæä»¬çæ¶æ¯æ°¸è¿ä¸ä¼è¢«æ¶è´¹å¤æ¬¡ï¼å³ä½¿æä»¬æ¶å°äºä¸æ ·çæ¶æ¯ã\n\nä¸çä¸»æµçå¹ç­æ§æä¸¤ç§æä½:a. å¯ä¸ ID+æçº¹ç æºå¶,å©ç¨æ°æ®åºä¸»é®å»é, b.å©ç¨ redis çåå­æ§å»å®ç°\n\n * å¯ä¸ID+æçº¹ç æºå¶\n\næçº¹ç ï¼æä»¬çä¸äºè§åæèæ¶é´æ³å å«çæå¡ç»å°çå¯ä¸ä¿¡æ¯ç ,å®å¹¶ä¸ä¸å®æ¯æä»¬ç³»ç»çæçï¼åºæ¬é½æ¯ç±æä»¬çä¸å¡è§åæ¼æ¥èæ¥ï¼ä½æ¯ä¸å®è¦ä¿è¯å¯ä¸æ§ï¼ç¶åå°±å©ç¨æ¥è¯¢è¯­å¥è¿è¡å¤æ­è¿ä¸ª id æ¯å¦å­å¨æ°æ®åºä¸­ï¼ä¼å¿å°±æ¯å®ç°ç®åå°±ä¸ä¸ªæ¼æ¥ï¼ç¶åæ¥è¯¢å¤æ­æ¯å¦éå¤ï¼å£å¿å°±æ¯å¨é«å¹¶åæ¶ï¼å¦ææ¯åä¸ªæ°æ®åºå°±ä¼æåå¥æ§è½ç¶é¢å½ç¶ä¹å¯ä»¥éç¨ååºåè¡¨æåæ§è½ï¼ä½ä¹ä¸æ¯æä»¬ææ¨èçæ¹å¼ã\n\n * note Redis åå­æ§\n\nå©ç¨ redis æ§è¡ setnx å½ä»¤ï¼å¤©ç¶å·æå¹ç­æ§ãä»èå®ç°ä¸éå¤æ¶è´¹\n\n\n# ä¼åçº§éå\n\n * ä½¿ç¨åºæ¯\n\nå¨æä»¬ç³»ç»ä¸­æä¸ä¸ªè®¢åå¬ä»çåºæ¯ï¼æä»¬çå®¢æ·å¨å¤©ç«ä¸çè®¢åï¼æ·å®ä¼åæ¶å°è®¢åæ¨éç»æä»¬ï¼å¦æå¨ç¨æ·è®¾å®çæ¶é´åæªä»æ¬¾é£ä¹å°±ä¼ç»ç¨æ·æ¨éä¸æ¡ç­ä¿¡æéï¼å¾ç®åçä¸ä¸ªåè½å¯¹å§ã\n\nä½æ¯ï¼tmall åå®¶å¯¹æä»¬æ¥è¯´ï¼è¯å®æ¯è¦åå¤§å®¢æ·åå°å®¢æ·çå¯¹å§ï¼æ¯å¦åè¹æï¼å°ç±³è¿æ ·å¤§åå®¶ä¸å¹´èµ·ç è½ç»æä»¬åé å¾å¤§çå©æ¶¦ï¼æä»¥çåºå½ç¶ï¼ä»ä»¬çè®¢åå¿é¡»å¾å°ä¼åå¤çï¼èæ¾ç»æä»¬çåç«¯ç³»ç»æ¯ä½¿ç¨ redis æ¥å­æ¾çå®æ¶è½®è¯¢ï¼å¤§å®¶é½ç¥é redis åªè½ç¨ List åä¸ä¸ªç®ç®ååçæ¶æ¯éåï¼å¹¶ä¸è½å®ç°ä¸ä¸ªä¼åçº§çåºæ¯ï¼æä»¥è®¢åéå¤§äºåéç¨ RabbitMQ è¿è¡æ¹é åä¼åï¼å¦æåç°æ¯å¤§å®¢æ·çè®¢åç»ä¸ä¸ªç¸å¯¹æ¯è¾é«çä¼åçº§ï¼ å¦åå°±æ¯é»è®¤ä¼åçº§ã\n\n * å¦ä½æ·»å ï¼\n\na.æ§å¶å°é¡µé¢æ·»å \n\n\n\nb.éåä¸­ä»£ç æ·»å ä¼åçº§\n\nMap<String, Object> params = new HashMap();\nparams.put("x-max-priority", 10);\nchannel.queueDeclare("hello", true, false, false, params);\n\n\n1\n2\n3\n\n\nc.æ¶æ¯ä¸­ä»£ç æ·»å ä¼åçº§\n\nAMQP.BasicProperties properties = new AMQP.BasicProperties().builder().priority(10).build();\n\n\n1\n\n\næ³¨æäºé¡¹ï¼\n\nè¦è®©éåå®ç°ä¼åçº§éè¦åçäºææå¦ä¸äºæï¼éåéè¦è®¾ç½®ä¸ºä¼åçº§éåï¼æ¶æ¯éè¦è®¾ç½®æ¶æ¯çä¼åçº§ï¼æ¶è´¹èéè¦ç­å¾æ¶æ¯å·²ç»åéå°éåä¸­æå»æ¶è´¹å ä¸ºï¼è¿æ ·æææºä¼å¯¹æ¶æ¯è¿è¡æåº\n\nå®æ\n\nçäº§èï¼\n\npublic class PriorityProducer {\n    private static final String QUEUE_NAME = "hello";\n\n    public static void main(String[] args) throws Exception {\n        Channel channel = RabbitMqUtils.getChannel();\n\n        //ç»æ¶æ¯èµäºä¸ä¸ª priority å±æ§\n        AMQP.BasicProperties properties = new AMQP.BasicProperties().builder().priority(10).build();\n\n        for (int i = 1; i < 11; i++) {\n            String message = "info" + i;\n            if (i == 5) {\n                channel.basicPublish("", QUEUE_NAME, properties, message.getBytes());\n            } else {\n                channel.basicPublish("", QUEUE_NAME, null, message.getBytes());\n            }\n            System.out.println("åéæ¶æ¯å®æ:" + message);\n        }\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\næ¶è´¹èï¼\n\npublic class PriorityConsumer {\n    private final static String QUEUE_NAME = "hello";\n\n    public static void main(String[] args) throws Exception {\n        Channel channel = RabbitMqUtils.getChannel();\n\n        //è®¾ç½®éåçæå¤§ä¼åçº§ æå¤§å¯ä»¥è®¾ç½®å° 255 å®ç½æ¨è 1-10 å¦æè®¾ç½®å¤ªé«æ¯è¾ååå­å CPU\n        Map<String, Object> params = new HashMap();\n        params.put("x-max-priority", 10);\n        channel.queueDeclare(QUEUE_NAME, true, false, false, params);\n\n        //æ¨éçæ¶æ¯å¦ä½è¿è¡æ¶è´¹çæ¥å£åè°\n        DeliverCallback deliverCallback = (consumerTag, delivery) -> {\n            String message = new String(delivery.getBody());\n            System.out.println(message);\n        };\n        //åæ¶æ¶è´¹çä¸ä¸ªåè°æ¥å£ å¦å¨æ¶è´¹çæ¶åéåè¢«å é¤æäº\n        CancelCallback cancelCallback = (consumerTag) -> {\n            System.out.println("æ¶æ¯æ¶è´¹è¢«ä¸­æ­");\n        };\n\n        channel.basicConsume(QUEUE_NAME, true, deliverCallback, cancelCallback);\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n\n\n# æ°æ§éå\n\n * ä½¿ç¨åºæ¯\n\nRabbitMQ ä» 3.6.0 çæ¬å¼å§å¼å¥äºæ°æ§éåçæ¦å¿µãæ°æ§éåä¼å°½å¯è½çå°æ¶æ¯å­å¥ç£çä¸­ï¼èå¨æ¶è´¹èæ¶è´¹å°ç¸åºçæ¶æ¯æ¶æä¼è¢«å è½½å°åå­ä¸­ï¼å®çä¸ä¸ªéè¦çè®¾è®¡ç®æ æ¯è½å¤æ¯ææ´é¿çéåï¼å³æ¯ææ´å¤çæ¶æ¯å­å¨ãå½æ¶è´¹èç±äºåç§åæ ·çåå (æ¯å¦æ¶è´¹èä¸çº¿ãå®æºäº¦æèæ¯ç±äºç»´æ¤èå³é­ç­)èè´ä½¿é¿æ¶é´åä¸è½æ¶è´¹æ¶æ¯é æå ç§¯æ¶ï¼æ°æ§éåå°±å¾æå¿è¦äºã\n\né»è®¤æåµä¸ï¼å½çäº§èå°æ¶æ¯åéå° RabbitMQ çæ¶åï¼éåä¸­çæ¶æ¯ä¼å°½å¯è½çå­å¨å¨åå­ä¹ä¸­ï¼ è¿æ ·å¯ä»¥æ´å å¿«éçå°æ¶æ¯åéç»æ¶è´¹èãå³ä½¿æ¯æä¹åçæ¶æ¯ï¼å¨è¢«åå¥ç£ççåæ¶ä¹ä¼å¨åå­ä¸­é©»çä¸ä»½å¤ä»½ãå½RabbitMQ éè¦éæ¾åå­çæ¶åï¼ä¼å°åå­ä¸­çæ¶æ¯æ¢é¡µè³ç£çä¸­ï¼è¿ä¸ªæä½ä¼èè´¹è¾é¿çæ¶é´ï¼ä¹ä¼é»å¡éåçæä½ï¼è¿èæ æ³æ¥æ¶æ°çæ¶æ¯ãè½ç¶ RabbitMQ çå¼åèä»¬ä¸ç´å¨åçº§ç¸å³çç®æ³ï¼ ä½æ¯ææå§ç»ä¸å¤ªçæ³ï¼å°¤å¶æ¯å¨æ¶æ¯éç¹å«å¤§çæ¶åã\n\n * ä¸¤ç§æ¨¡å¼\n\néåå·å¤ä¸¤ç§æ¨¡å¼ï¼default å lazyãé»è®¤çä¸ºdefault æ¨¡å¼ï¼å¨3.6.0 ä¹åççæ¬æ éåä»»ä½åæ´ãlazy æ¨¡å¼å³ä¸ºæ°æ§éåçæ¨¡å¼ï¼å¯ä»¥éè¿è°ç¨ channel.queueDeclare æ¹æ³çæ¶åå¨åæ°ä¸­è®¾ç½®ï¼ä¹å¯ä»¥éè¿ Policy çæ¹å¼è®¾ç½®ï¼å¦æä¸ä¸ªéååæ¶ä½¿ç¨è¿ä¸¤ç§æ¹å¼è®¾ç½®çè¯ï¼é£ä¹ Policy çæ¹å¼å·å¤æ´é«çä¼åçº§ã å¦æè¦éè¿å£°æçæ¹å¼æ¹åå·²æéåçæ¨¡å¼çè¯ï¼é£ä¹åªè½åå é¤éåï¼ç¶ååéæ°å£°æä¸ä¸ªæ°çã\n\nå¨éåå£°æçæ¶åå¯ä»¥éè¿âx-queue-modeâåæ°æ¥è®¾ç½®éåçæ¨¡å¼ï¼åå¼ä¸ºâdefaultâåâlazyâãä¸é¢ç¤ºä¾ä¸­æ¼ç¤ºäºä¸ä¸ªæ°æ§éåçå£°æç»èï¼\n\nMap<String, Object> args = new HashMap<String, Object>();\nargs.put("x-queue-mode", "lazy");\nchannel.queueDeclare("myqueue", false, false, false, args);\n\n\n1\n2\n3\n\n * åå­å¼éå¯¹æ¯\n\n\n\nå¨åé 1 ç¾ä¸æ¡æ¶æ¯ï¼æ¯æ¡æ¶æ¯å¤§æ¦å  1KB çæåµä¸ï¼æ®ééåå ç¨åå­æ¯ 1.2GBï¼èæ°æ§éåä»ä» å ç¨ 1.5MB',normalizedContent:' * å¹ç­æ§\n * ä¼åçº§éå\n * æ°æ§éå\n\n\n# å¹ç­æ§\n\næ¦å¿µ\n\nç¨æ·å¯¹äºåä¸æä½åèµ·çä¸æ¬¡è¯·æ±æèå¤æ¬¡è¯·æ±çç»ææ¯ä¸è´çï¼ä¸ä¼å ä¸ºå¤æ¬¡ç¹å»èäº§çäºå¯ä½ç¨ã ä¸¾ä¸ªæç®åçä¾å­ï¼é£å°±æ¯æ¯ä»ï¼ç¨æ·è´­ä¹°åååæ¯ä»ï¼æ¯ä»æ£æ¬¾æåï¼ä½æ¯è¿åç»æçæ¶åç½ç»å¼å¸¸ï¼ æ­¤æ¶é±å·²ç»æ£äºï¼ç¨æ·åæ¬¡ç¹å»æé®ï¼æ­¤æ¶ä¼è¿è¡ç¬¬äºæ¬¡æ£æ¬¾ï¼è¿åç»ææåï¼ç¨æ·æ¥è¯¢ä½é¢åç°å¤æ£é± äºï¼æµæ°´è®°å½ä¹åæäºä¸¤æ¡ãå¨ä»¥åçååºç¨ç³»ç»ä¸­ï¼æä»¬åªéè¦ææ°æ®æä½æ¾å¥äºå¡ä¸­å³å¯ï¼åçéè¯¯ç«å³åæ»ï¼ä½æ¯åååºå®¢æ·ç«¯çæ¶åä¹æå¯è½åºç°ç½ç»ä¸­æ­æèå¼å¸¸ç­ç­\n\næ¶æ¯éå¤æ¶è´¹\n\næ¶è´¹èå¨æ¶è´¹ mq ä¸­çæ¶æ¯æ¶ï¼mq å·²ææ¶æ¯åéç»æ¶è´¹èï¼æ¶è´¹èå¨ç» mq è¿å ack æ¶ç½ç»ä¸­æ­ï¼ æ mq æªæ¶å°ç¡®è®¤ä¿¡æ¯ï¼è¯¥æ¡æ¶æ¯ä¼éæ°åç»å¶ä»çæ¶è´¹èï¼æèå¨ç½ç»éè¿ååæ¬¡åéç»è¯¥æ¶è´¹èï¼ä½å®éä¸è¯¥æ¶è´¹èå·²æåæ¶è´¹äºè¯¥æ¡æ¶æ¯ï¼é ææ¶è´¹èæ¶è´¹äºéå¤çæ¶æ¯ã\n\nè§£å³æè·¯\n\nmq æ¶è´¹èçå¹ç­æ§çè§£å³ä¸è¬ä½¿ç¨å¨å± id æèåä¸ªå¯ä¸æ è¯æ¯å¦æ¶é´æ³ æè uuid æèè®¢åæ¶è´¹èæ¶è´¹ mq ä¸­çæ¶æ¯ä¹å¯å©ç¨ mq çè¯¥ id æ¥å¤æ­ï¼æèå¯æèªå·±çè§åçæä¸ä¸ªå¨å±å¯ä¸ idï¼æ¯æ¬¡æ¶è´¹æ¶æ¯æ¶ç¨è¯¥ id åå¤æ­è¯¥æ¶æ¯æ¯å¦å·²æ¶è´¹è¿ã\n\næ¶è´¹ç«¯çå¹ç­æ§ä¿é\n\nå¨æµ·éè®¢åçæçä¸å¡é«å³°æï¼çäº§ç«¯æå¯è½å°±ä¼éå¤åçäºæ¶æ¯ï¼è¿æ¶åæ¶è´¹ç«¯å°±è¦å®ç°å¹ç­æ§ï¼ è¿å°±æå³çæä»¬çæ¶æ¯æ°¸è¿ä¸ä¼è¢«æ¶è´¹å¤æ¬¡ï¼å³ä½¿æä»¬æ¶å°äºä¸æ ·çæ¶æ¯ã\n\nä¸çä¸»æµçå¹ç­æ§æä¸¤ç§æä½:a. å¯ä¸ id+æçº¹ç æºå¶,å©ç¨æ°æ®åºä¸»é®å»é, b.å©ç¨ redis çåå­æ§å»å®ç°\n\n * å¯ä¸id+æçº¹ç æºå¶\n\næçº¹ç ï¼æä»¬çä¸äºè§åæèæ¶é´æ³å å«çæå¡ç»å°çå¯ä¸ä¿¡æ¯ç ,å®å¹¶ä¸ä¸å®æ¯æä»¬ç³»ç»çæçï¼åºæ¬é½æ¯ç±æä»¬çä¸å¡è§åæ¼æ¥èæ¥ï¼ä½æ¯ä¸å®è¦ä¿è¯å¯ä¸æ§ï¼ç¶åå°±å©ç¨æ¥è¯¢è¯­å¥è¿è¡å¤æ­è¿ä¸ª id æ¯å¦å­å¨æ°æ®åºä¸­ï¼ä¼å¿å°±æ¯å®ç°ç®åå°±ä¸ä¸ªæ¼æ¥ï¼ç¶åæ¥è¯¢å¤æ­æ¯å¦éå¤ï¼å£å¿å°±æ¯å¨é«å¹¶åæ¶ï¼å¦ææ¯åä¸ªæ°æ®åºå°±ä¼æåå¥æ§è½ç¶é¢å½ç¶ä¹å¯ä»¥éç¨ååºåè¡¨æåæ§è½ï¼ä½ä¹ä¸æ¯æä»¬ææ¨èçæ¹å¼ã\n\n * note redis åå­æ§\n\nå©ç¨ redis æ§è¡ setnx å½ä»¤ï¼å¤©ç¶å·æå¹ç­æ§ãä»èå®ç°ä¸éå¤æ¶è´¹\n\n\n# ä¼åçº§éå\n\n * ä½¿ç¨åºæ¯\n\nå¨æä»¬ç³»ç»ä¸­æä¸ä¸ªè®¢åå¬ä»çåºæ¯ï¼æä»¬çå®¢æ·å¨å¤©ç«ä¸çè®¢åï¼æ·å®ä¼åæ¶å°è®¢åæ¨éç»æä»¬ï¼å¦æå¨ç¨æ·è®¾å®çæ¶é´åæªä»æ¬¾é£ä¹å°±ä¼ç»ç¨æ·æ¨éä¸æ¡ç­ä¿¡æéï¼å¾ç®åçä¸ä¸ªåè½å¯¹å§ã\n\nä½æ¯ï¼tmall åå®¶å¯¹æä»¬æ¥è¯´ï¼è¯å®æ¯è¦åå¤§å®¢æ·åå°å®¢æ·çå¯¹å§ï¼æ¯å¦åè¹æï¼å°ç±³è¿æ ·å¤§åå®¶ä¸å¹´èµ·ç è½ç»æä»¬åé å¾å¤§çå©æ¶¦ï¼æä»¥çåºå½ç¶ï¼ä»ä»¬çè®¢åå¿é¡»å¾å°ä¼åå¤çï¼èæ¾ç»æä»¬çåç«¯ç³»ç»æ¯ä½¿ç¨ redis æ¥å­æ¾çå®æ¶è½®è¯¢ï¼å¤§å®¶é½ç¥é redis åªè½ç¨ list åä¸ä¸ªç®ç®ååçæ¶æ¯éåï¼å¹¶ä¸è½å®ç°ä¸ä¸ªä¼åçº§çåºæ¯ï¼æä»¥è®¢åéå¤§äºåéç¨ rabbitmq è¿è¡æ¹é åä¼åï¼å¦æåç°æ¯å¤§å®¢æ·çè®¢åç»ä¸ä¸ªç¸å¯¹æ¯è¾é«çä¼åçº§ï¼ å¦åå°±æ¯é»è®¤ä¼åçº§ã\n\n * å¦ä½æ·»å ï¼\n\na.æ§å¶å°é¡µé¢æ·»å \n\n\n\nb.éåä¸­ä»£ç æ·»å ä¼åçº§\n\nmap<string, object> params = new hashmap();\nparams.put("x-max-priority", 10);\nchannel.queuedeclare("hello", true, false, false, params);\n\n\n1\n2\n3\n\n\nc.æ¶æ¯ä¸­ä»£ç æ·»å ä¼åçº§\n\namqp.basicproperties properties = new amqp.basicproperties().builder().priority(10).build();\n\n\n1\n\n\næ³¨æäºé¡¹ï¼\n\nè¦è®©éåå®ç°ä¼åçº§éè¦åçäºææå¦ä¸äºæï¼éåéè¦è®¾ç½®ä¸ºä¼åçº§éåï¼æ¶æ¯éè¦è®¾ç½®æ¶æ¯çä¼åçº§ï¼æ¶è´¹èéè¦ç­å¾æ¶æ¯å·²ç»åéå°éåä¸­æå»æ¶è´¹å ä¸ºï¼è¿æ ·æææºä¼å¯¹æ¶æ¯è¿è¡æåº\n\nå®æ\n\nçäº§èï¼\n\npublic class priorityproducer {\n    private static final string queue_name = "hello";\n\n    public static void main(string[] args) throws exception {\n        channel channel = rabbitmqutils.getchannel();\n\n        //ç»æ¶æ¯èµäºä¸ä¸ª priority å±æ§\n        amqp.basicproperties properties = new amqp.basicproperties().builder().priority(10).build();\n\n        for (int i = 1; i < 11; i++) {\n            string message = "info" + i;\n            if (i == 5) {\n                channel.basicpublish("", queue_name, properties, message.getbytes());\n            } else {\n                channel.basicpublish("", queue_name, null, message.getbytes());\n            }\n            system.out.println("åéæ¶æ¯å®æ:" + message);\n        }\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\næ¶è´¹èï¼\n\npublic class priorityconsumer {\n    private final static string queue_name = "hello";\n\n    public static void main(string[] args) throws exception {\n        channel channel = rabbitmqutils.getchannel();\n\n        //è®¾ç½®éåçæå¤§ä¼åçº§ æå¤§å¯ä»¥è®¾ç½®å° 255 å®ç½æ¨è 1-10 å¦æè®¾ç½®å¤ªé«æ¯è¾ååå­å cpu\n        map<string, object> params = new hashmap();\n        params.put("x-max-priority", 10);\n        channel.queuedeclare(queue_name, true, false, false, params);\n\n        //æ¨éçæ¶æ¯å¦ä½è¿è¡æ¶è´¹çæ¥å£åè°\n        delivercallback delivercallback = (consumertag, delivery) -> {\n            string message = new string(delivery.getbody());\n            system.out.println(message);\n        };\n        //åæ¶æ¶è´¹çä¸ä¸ªåè°æ¥å£ å¦å¨æ¶è´¹çæ¶åéåè¢«å é¤æäº\n        cancelcallback cancelcallback = (consumertag) -> {\n            system.out.println("æ¶æ¯æ¶è´¹è¢«ä¸­æ­");\n        };\n\n        channel.basicconsume(queue_name, true, delivercallback, cancelcallback);\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n\n\n# æ°æ§éå\n\n * ä½¿ç¨åºæ¯\n\nrabbitmq ä» 3.6.0 çæ¬å¼å§å¼å¥äºæ°æ§éåçæ¦å¿µãæ°æ§éåä¼å°½å¯è½çå°æ¶æ¯å­å¥ç£çä¸­ï¼èå¨æ¶è´¹èæ¶è´¹å°ç¸åºçæ¶æ¯æ¶æä¼è¢«å è½½å°åå­ä¸­ï¼å®çä¸ä¸ªéè¦çè®¾è®¡ç®æ æ¯è½å¤æ¯ææ´é¿çéåï¼å³æ¯ææ´å¤çæ¶æ¯å­å¨ãå½æ¶è´¹èç±äºåç§åæ ·çåå (æ¯å¦æ¶è´¹èä¸çº¿ãå®æºäº¦æèæ¯ç±äºç»´æ¤èå³é­ç­)èè´ä½¿é¿æ¶é´åä¸è½æ¶è´¹æ¶æ¯é æå ç§¯æ¶ï¼æ°æ§éåå°±å¾æå¿è¦äºã\n\né»è®¤æåµä¸ï¼å½çäº§èå°æ¶æ¯åéå° rabbitmq çæ¶åï¼éåä¸­çæ¶æ¯ä¼å°½å¯è½çå­å¨å¨åå­ä¹ä¸­ï¼ è¿æ ·å¯ä»¥æ´å å¿«éçå°æ¶æ¯åéç»æ¶è´¹èãå³ä½¿æ¯æä¹åçæ¶æ¯ï¼å¨è¢«åå¥ç£ççåæ¶ä¹ä¼å¨åå­ä¸­é©»çä¸ä»½å¤ä»½ãå½rabbitmq éè¦éæ¾åå­çæ¶åï¼ä¼å°åå­ä¸­çæ¶æ¯æ¢é¡µè³ç£çä¸­ï¼è¿ä¸ªæä½ä¼èè´¹è¾é¿çæ¶é´ï¼ä¹ä¼é»å¡éåçæä½ï¼è¿èæ æ³æ¥æ¶æ°çæ¶æ¯ãè½ç¶ rabbitmq çå¼åèä»¬ä¸ç´å¨åçº§ç¸å³çç®æ³ï¼ ä½æ¯ææå§ç»ä¸å¤ªçæ³ï¼å°¤å¶æ¯å¨æ¶æ¯éç¹å«å¤§çæ¶åã\n\n * ä¸¤ç§æ¨¡å¼\n\néåå·å¤ä¸¤ç§æ¨¡å¼ï¼default å lazyãé»è®¤çä¸ºdefault æ¨¡å¼ï¼å¨3.6.0 ä¹åççæ¬æ éåä»»ä½åæ´ãlazy æ¨¡å¼å³ä¸ºæ°æ§éåçæ¨¡å¼ï¼å¯ä»¥éè¿è°ç¨ channel.queuedeclare æ¹æ³çæ¶åå¨åæ°ä¸­è®¾ç½®ï¼ä¹å¯ä»¥éè¿ policy çæ¹å¼è®¾ç½®ï¼å¦æä¸ä¸ªéååæ¶ä½¿ç¨è¿ä¸¤ç§æ¹å¼è®¾ç½®çè¯ï¼é£ä¹ policy çæ¹å¼å·å¤æ´é«çä¼åçº§ã å¦æè¦éè¿å£°æçæ¹å¼æ¹åå·²æéåçæ¨¡å¼çè¯ï¼é£ä¹åªè½åå é¤éåï¼ç¶ååéæ°å£°æä¸ä¸ªæ°çã\n\nå¨éåå£°æçæ¶åå¯ä»¥éè¿âx-queue-modeâåæ°æ¥è®¾ç½®éåçæ¨¡å¼ï¼åå¼ä¸ºâdefaultâåâlazyâãä¸é¢ç¤ºä¾ä¸­æ¼ç¤ºäºä¸ä¸ªæ°æ§éåçå£°æç»èï¼\n\nmap<string, object> args = new hashmap<string, object>();\nargs.put("x-queue-mode", "lazy");\nchannel.queuedeclare("myqueue", false, false, false, args);\n\n\n1\n2\n3\n\n * åå­å¼éå¯¹æ¯\n\n\n\nå¨åé 1 ç¾ä¸æ¡æ¶æ¯ï¼æ¯æ¡æ¶æ¯å¤§æ¦å  1kb çæåµä¸ï¼æ®ééåå ç¨åå­æ¯ 1.2gbï¼èæ°æ§éåä»ä» å ç¨ 1.5mb',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"Git - ç¥è¯ä½ç³»",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"05.å·¥å·é¨ç½²/01.Git",imgUrl:"/img/web.png",description:"Gitç®å½é¡µ"}},title:"Git - ç¥è¯ä½ç³»",permalink:"/git",sidebar:!0,article:!1,comment:!1,editLink:!1,date:"2021-08-03T22:27:45.000Z"},regularPath:"/05.%E5%B7%A5%E5%85%B7%E9%83%A8%E7%BD%B2/01.Git/00.Git.html",relativePath:"05.å·¥å·é¨ç½²/01.Git/00.Git.md",key:"v-2c3587d8",path:"/git/",headers:[{level:2,title:"æç¨",slug:"æç¨",normalizedTitle:"æç¨",charIndex:2}],headersStr:"æç¨",content:"# æç¨\n\næ°äººæ¨èçå°ç¡è°·ç Git æç¨ï¼5hæéGitå¨å¥æç¨ä¸¨2021ææ°IDEAçï¼æ¶µçGitHub\\Giteeç äº\\GitLabï¼",normalizedContent:"# æç¨\n\næ°äººæ¨èçå°ç¡è°·ç git æç¨ï¼5hæégitå¨å¥æç¨ä¸¨2021ææ°ideaçï¼æ¶µçgithub\\giteeç äº\\gitlabï¼",charsets:{cjk:!0},lastUpdated:"2021/08/03, 15:08:00",lastUpdatedTimestamp:1628003018e3},{title:"Git - ç®åæäº¤",frontmatter:{title:"Git - ç®åæäº¤",date:"2021-05-15T08:36:23.000Z",permalink:"/pages/7d2d32/"},regularPath:"/05.%E5%B7%A5%E5%85%B7%E9%83%A8%E7%BD%B2/01.Git/01.Git%E7%AE%80%E5%8D%95%E6%8F%90%E4%BA%A4.html",relativePath:"05.å·¥å·é¨ç½²/01.Git/01.Gitç®åæäº¤.md",key:"v-44326a4c",path:"/pages/7d2d32/",headers:[{level:2,title:"åå§",slug:"åå§",normalizedTitle:"åå§",charIndex:44},{level:3,title:"å®è£Git",slug:"å®è£git",normalizedTitle:"å®è£git",charIndex:52},{level:3,title:"è®¾ç½®ç¨æ·ç­¾å",slug:"è®¾ç½®ç¨æ·ç­¾å",normalizedTitle:"è®¾ç½®ç¨æ·ç­¾å",charIndex:63},{level:2,title:"æäº¤å°è¿ç¨ä»åº",slug:"æäº¤å°è¿ç¨ä»åº",normalizedTitle:"æäº¤å°è¿ç¨ä»åº",charIndex:73}],headersStr:"åå§ å®è£Git è®¾ç½®ç¨æ·ç­¾å æäº¤å°è¿ç¨ä»åº",content:'Table of Contents generated with DocToc\n\n * åå§\n   * å®è£Git\n   * è®¾ç½®ç¨æ·ç­¾å\n * æäº¤å°è¿ç¨ä»åº\n * æç¨\n\n\n# åå§\n\n\n# å®è£Git\n\nå®ç½ï¼ https://git-scm.com/\n\nä¸è½½æ¢å¯ä½¿ç¨æ·å®éåä¸è½½ï¼https://npm.taobao.org/mirrors/git-for-windows/\n\nä¸è½½å®ä¹åå®è£ï¼ä¸é®é»è®¤å³å¯\n\n\n# è®¾ç½®ç¨æ·ç­¾å\n\nGit é¦æ¬¡å®è£å¿é¡»è®¾ç½®ä¸ä¸ç¨æ·ç­¾åï¼å¦åæ æ³æäº¤ä»£ç \n\nåºæ¬è¯­æ³ï¼\n\ngit config --global user.name ç¨æ·å\ngit config --global user.email é®ç®±\n\n\n1\n2\n\n\nç­¾åä½ç¨ï¼\n\næ¯æ¬¡æäº¤å°è¿ç¨æ¶åºåä¸åæä½èï¼å¨æ¯æ¬¡çæäº¤ä¿¡æ¯ä¸­è½çå°ã\n\nå¨ C:\\Users\\ç¨æ·å\\ç®å½ä¸ .gitconfig æä»¶æ¥çéç½®ä¿¡æ¯\n\n\n# æäº¤å°è¿ç¨ä»åº\n\n 1. åå»ºè¿ç¨ä»åº\n    \n    å¨ GitHub/Gitee ä¸­åå»ºä»åº\n    \n    ä¸»åæ¯ä¸è¬è®¾ç½®ä¸º master\n\n 2. åå§åæ¬å°åº\n    \n    å¨æ¬å°ä»åºç®å½ä¸ï¼æå¼ Git Bash\n    \n    git init\n    \n    \n    1\n    \n    \n    é¡¹ç®æä»¶å¤¹ä¸å°±ä¼çæ.gitæä»¶ï¼è¿æ¯ä¸ä¸ªéèæä»¶ã\n\n 3. æ·»å è¿ç¨ä»åºå°å\n    \n    git remote add origin https://github.com/oddfar/docs.git\n    \n    \n    1\n    \n    \n    æé¾æ¥æ¿æ¢æèªå·±ç\n\n 4. æåè¿ç¨ä»åº\n    \n    git  pull origin master\n    \n    \n    1\n    \n    \n    ä½ç¨æ¯æåè¿ç¨ä»åºçæä»¶ï¼æåæ¬å°æ²¡æçæä»¶åæ°æ´æ¹çæä»¶\n\n 5. æ·»å æå­åº\n    \n    git add .\n    \n    \n    1\n    \n    \n    .ææææä»¶æ·»å å°æå­åº\n    \n    æ·»å æå®æä»¶ï¼git add æä»¶å\n    \n    æ³¨æ add åé¢æç©ºæ ¼\n\n 6. æäº¤æ¬å°åº\n    \n    git commit -m "æ¥å¿ä¿¡æ¯"\n    \n    \n    1\n    \n    \n    å°æå­åºçæä»¶æäº¤å°æ¬å°åº\n    \n    ä½¿ç¨ git status æ¥çç¶æ\n\n 7. åæ­¥å°è¿ç¨\n    \n    git push origin master\n    \n    \n    1\n    \n\nè³æ­¤ï¼å·²æåæäº¤å°è¿ç¨ã\n\n----------------------------------------\n\nä¹å¯ä»¥åå»ºå¥½è¿ç¨ä»åºåï¼ç´æ¥åéå°æ¬å°\n\ngit clone https://github.com/oddfar/docs.git\n\n\n1\n\n\nææ¬å°ä»£ç ï¼å¤å¶å°ä¸è½½çç®å½\n\nåä»ç¬¬äºæ­¥å¼å§æäº¤å° GitHub\n\nhttps å¨å½åä¸å¤ªç¨³å®ï¼ææ¶åé¾æ¥ä¸ä¸ï¼å»ºè®®ç¨ SSH é¾æ¥æ¥å¯¹ä»åºè¿è¡ç®¡ç',normalizedContent:'table of contents generated with doctoc\n\n * åå§\n   * å®è£git\n   * è®¾ç½®ç¨æ·ç­¾å\n * æäº¤å°è¿ç¨ä»åº\n * æç¨\n\n\n# åå§\n\n\n# å®è£git\n\nå®ç½ï¼ https://git-scm.com/\n\nä¸è½½æ¢å¯ä½¿ç¨æ·å®éåä¸è½½ï¼https://npm.taobao.org/mirrors/git-for-windows/\n\nä¸è½½å®ä¹åå®è£ï¼ä¸é®é»è®¤å³å¯\n\n\n# è®¾ç½®ç¨æ·ç­¾å\n\ngit é¦æ¬¡å®è£å¿é¡»è®¾ç½®ä¸ä¸ç¨æ·ç­¾åï¼å¦åæ æ³æäº¤ä»£ç \n\nåºæ¬è¯­æ³ï¼\n\ngit config --global user.name ç¨æ·å\ngit config --global user.email é®ç®±\n\n\n1\n2\n\n\nç­¾åä½ç¨ï¼\n\næ¯æ¬¡æäº¤å°è¿ç¨æ¶åºåä¸åæä½èï¼å¨æ¯æ¬¡çæäº¤ä¿¡æ¯ä¸­è½çå°ã\n\nå¨ c:\\users\\ç¨æ·å\\ç®å½ä¸ .gitconfig æä»¶æ¥çéç½®ä¿¡æ¯\n\n\n# æäº¤å°è¿ç¨ä»åº\n\n 1. åå»ºè¿ç¨ä»åº\n    \n    å¨ github/gitee ä¸­åå»ºä»åº\n    \n    ä¸»åæ¯ä¸è¬è®¾ç½®ä¸º master\n\n 2. åå§åæ¬å°åº\n    \n    å¨æ¬å°ä»åºç®å½ä¸ï¼æå¼ git bash\n    \n    git init\n    \n    \n    1\n    \n    \n    é¡¹ç®æä»¶å¤¹ä¸å°±ä¼çæ.gitæä»¶ï¼è¿æ¯ä¸ä¸ªéèæä»¶ã\n\n 3. æ·»å è¿ç¨ä»åºå°å\n    \n    git remote add origin https://github.com/oddfar/docs.git\n    \n    \n    1\n    \n    \n    æé¾æ¥æ¿æ¢æèªå·±ç\n\n 4. æåè¿ç¨ä»åº\n    \n    git  pull origin master\n    \n    \n    1\n    \n    \n    ä½ç¨æ¯æåè¿ç¨ä»åºçæä»¶ï¼æåæ¬å°æ²¡æçæä»¶åæ°æ´æ¹çæä»¶\n\n 5. æ·»å æå­åº\n    \n    git add .\n    \n    \n    1\n    \n    \n    .ææææä»¶æ·»å å°æå­åº\n    \n    æ·»å æå®æä»¶ï¼git add æä»¶å\n    \n    æ³¨æ add åé¢æç©ºæ ¼\n\n 6. æäº¤æ¬å°åº\n    \n    git commit -m "æ¥å¿ä¿¡æ¯"\n    \n    \n    1\n    \n    \n    å°æå­åºçæä»¶æäº¤å°æ¬å°åº\n    \n    ä½¿ç¨ git status æ¥çç¶æ\n\n 7. åæ­¥å°è¿ç¨\n    \n    git push origin master\n    \n    \n    1\n    \n\nè³æ­¤ï¼å·²æåæäº¤å°è¿ç¨ã\n\n----------------------------------------\n\nä¹å¯ä»¥åå»ºå¥½è¿ç¨ä»åºåï¼ç´æ¥åéå°æ¬å°\n\ngit clone https://github.com/oddfar/docs.git\n\n\n1\n\n\nææ¬å°ä»£ç ï¼å¤å¶å°ä¸è½½çç®å½\n\nåä»ç¬¬äºæ­¥å¼å§æäº¤å° github\n\nhttps å¨å½åä¸å¤ªç¨³å®ï¼ææ¶åé¾æ¥ä¸ä¸ï¼å»ºè®®ç¨ ssh é¾æ¥æ¥å¯¹ä»åºè¿è¡ç®¡ç',charsets:{cjk:!0},lastUpdated:"2021/08/03, 15:08:00",lastUpdatedTimestamp:1628003018e3},{title:"Git - SSHåå¯ç»å½",frontmatter:{title:"Git - SSHåå¯ç»å½",date:"2021-05-20T13:05:16.000Z",permalink:"/pages/5747a6/"},regularPath:"/05.%E5%B7%A5%E5%85%B7%E9%83%A8%E7%BD%B2/01.Git/02.SSH%E5%85%8D%E5%AF%86%E7%99%BB%E5%BD%95.html",relativePath:"05.å·¥å·é¨ç½²/01.Git/02.SSHåå¯ç»å½.md",key:"v-4e08f385",path:"/pages/5747a6/",headers:[{level:2,title:"æ­¥éª¤",slug:"æ­¥éª¤",normalizedTitle:"æ­¥éª¤",charIndex:3},{level:2,title:"å¥½å¤",slug:"å¥½å¤",normalizedTitle:"å¥½å¤",charIndex:9},{level:2,title:"å«å",slug:"å«å",normalizedTitle:"å«å",charIndex:15}],headersStr:"æ­¥éª¤ å¥½å¤ å«å",content:" * æ­¥éª¤\n * å¥½å¤\n * å«å\n\n\n# æ­¥éª¤\n\næä»¬å¯ä»¥çå°è¿ç¨ä»åºä¸­è¿æä¸ä¸ª SSH çå°åï¼å æ­¤æä»¬ä¹å¯ä»¥ä½¿ç¨ SSH å®ç°åå¯ç ç»å½ï¼\n\nè¿å¥ C:\\Users\\Administrator.ssh ç®å½çæå¬é¥\n\nssh-keygen -t rsa\n\n\n1\n\n\næ§è¡åä¼çæä¸¤ä¸ªæä»¶\n\nå¤å¶ id_rsa.pub æä»¶åå®¹\n\nGiteeï¼è®¾ç½® ->SSHå¬é¥\n\nGitHubï¼ç¹å»ç¨æ·å¤´åâSettingsâSSH and GPG keys\n\nè¿ä¿©å¹³å° ssh å¯è®¾ç½®åä¸ä¸ª\n\n\n# å¥½å¤\n\nGitHub æå¡å¨å¨å½å¤ï¼æä»¬ç¨ https å¯¹ä»åºè¿è¡æåãæäº¤ææ¶ä¼é¾æ¥ä¸ä¸ï¼å¯¼è´å¤±è´¥ã\n\n\n\nè¿æ¶æä»¬å¯ä»¥ç¨ ssh å¯¹é¡¹ç®å°±è¡ç®¡ç\n\nä»¥ Gitee ä¸ºä¾ï¼\n\n\n\n\n# å«å\n\nå¯¹äºç¨ https å·²ç»åéå¨æ¬å°çä»åºï¼æä»¬å¯ä»¥å ä¸ªâå«åâæ¥è¿è¡ SSH é¾æ¥\n\n1ï¼åºæ¬è¯­æ³\n\ngit remote -v æ¥çå½åææè¿ç¨å°åå«å\n\ngit remote add å«å è¿ç¨å°å\n\n2ï¼æ¡ä¾\n\næä»¬æäº¤å°è¿ç¨ä»åºçæä»¤æ¯ï¼\n\ngit push è¿ç¨ä»åºå°å åæ¯\n\n\n1\n\n\nè¿ä¸ªå°åå¯ä»¥æ¯ https ä¹å¯ä»¥æ¯ ssh\n\nä½ç±äºå°åå¤ªé¿äºï¼å¯ä»¥ç¨âå«åâä»£æ¿å°åï¼\n\næ·»å å«åï¼\n\ngit remote add ssh git@github.com:oddfar/docs.git\n\n\n1\n\n\næ¨éå°è¿ç¨ä»åºï¼\n\ngit push ssh master\n\n\n1\n\n\n----------------------------------------\n\næä»¬ clone é¡¹ç®ï¼é»è®¤æä¸ªâå«åâ origin æåæä»¬ clone æ¶çè¿ç¨ä»åºå°åï¼httpsæssh...ï¼",normalizedContent:" * æ­¥éª¤\n * å¥½å¤\n * å«å\n\n\n# æ­¥éª¤\n\næä»¬å¯ä»¥çå°è¿ç¨ä»åºä¸­è¿æä¸ä¸ª ssh çå°åï¼å æ­¤æä»¬ä¹å¯ä»¥ä½¿ç¨ ssh å®ç°åå¯ç ç»å½ï¼\n\nè¿å¥ c:\\users\\administrator.ssh ç®å½çæå¬é¥\n\nssh-keygen -t rsa\n\n\n1\n\n\næ§è¡åä¼çæä¸¤ä¸ªæä»¶\n\nå¤å¶ id_rsa.pub æä»¶åå®¹\n\ngiteeï¼è®¾ç½® ->sshå¬é¥\n\ngithubï¼ç¹å»ç¨æ·å¤´åâsettingsâssh and gpg keys\n\nè¿ä¿©å¹³å° ssh å¯è®¾ç½®åä¸ä¸ª\n\n\n# å¥½å¤\n\ngithub æå¡å¨å¨å½å¤ï¼æä»¬ç¨ https å¯¹ä»åºè¿è¡æåãæäº¤ææ¶ä¼é¾æ¥ä¸ä¸ï¼å¯¼è´å¤±è´¥ã\n\n\n\nè¿æ¶æä»¬å¯ä»¥ç¨ ssh å¯¹é¡¹ç®å°±è¡ç®¡ç\n\nä»¥ gitee ä¸ºä¾ï¼\n\n\n\n\n# å«å\n\nå¯¹äºç¨ https å·²ç»åéå¨æ¬å°çä»åºï¼æä»¬å¯ä»¥å ä¸ªâå«åâæ¥è¿è¡ ssh é¾æ¥\n\n1ï¼åºæ¬è¯­æ³\n\ngit remote -v æ¥çå½åææè¿ç¨å°åå«å\n\ngit remote add å«å è¿ç¨å°å\n\n2ï¼æ¡ä¾\n\næä»¬æäº¤å°è¿ç¨ä»åºçæä»¤æ¯ï¼\n\ngit push è¿ç¨ä»åºå°å åæ¯\n\n\n1\n\n\nè¿ä¸ªå°åå¯ä»¥æ¯ https ä¹å¯ä»¥æ¯ ssh\n\nä½ç±äºå°åå¤ªé¿äºï¼å¯ä»¥ç¨âå«åâä»£æ¿å°åï¼\n\næ·»å å«åï¼\n\ngit remote add ssh git@github.com:oddfar/docs.git\n\n\n1\n\n\næ¨éå°è¿ç¨ä»åºï¼\n\ngit push ssh master\n\n\n1\n\n\n----------------------------------------\n\næä»¬ clone é¡¹ç®ï¼é»è®¤æä¸ªâå«åâ origin æåæä»¬ clone æ¶çè¿ç¨ä»åºå°åï¼httpsæssh...ï¼",charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"Git - Commitå¸¸ç¨è¡¨æ",frontmatter:{title:"Git - Commitå¸¸ç¨è¡¨æ",date:"2021-05-28T23:54:11.000Z",permalink:"/pages/fe0004/"},regularPath:"/05.%E5%B7%A5%E5%85%B7%E9%83%A8%E7%BD%B2/01.Git/04.Git%20-%20Commit%E5%B8%B8%E7%94%A8%E8%A1%A8%E6%83%85.html",relativePath:"05.å·¥å·é¨ç½²/01.Git/04.Git - Commitå¸¸ç¨è¡¨æ.md",key:"v-7eff31ac",path:"/pages/fe0004/",headers:[{level:2,title:"Gitå¸¸ç¨è¡¨æ",slug:"gitå¸¸ç¨è¡¨æ",normalizedTitle:"gitå¸¸ç¨è¡¨æ",charIndex:3},{level:2,title:"MarkDown å¸¸ç¨è¡¨æ",slug:"markdown-å¸¸ç¨è¡¨æ",normalizedTitle:"markdown å¸¸ç¨è¡¨æ",charIndex:14},{level:3,title:"People",slug:"people",normalizedTitle:"people",charIndex:33},{level:3,title:"Nature",slug:"nature",normalizedTitle:"nature",charIndex:45},{level:3,title:"Objects",slug:"objects",normalizedTitle:"objects",charIndex:57},{level:3,title:"Places",slug:"places",normalizedTitle:"places",charIndex:70},{level:3,title:"Symbols",slug:"symbols",normalizedTitle:"symbols",charIndex:82},{level:2,title:"åèé¾æ¥",slug:"åèé¾æ¥",normalizedTitle:"åèé¾æ¥",charIndex:93}],headersStr:"Gitå¸¸ç¨è¡¨æ MarkDown å¸¸ç¨è¡¨æ People Nature Objects Places Symbols åèé¾æ¥",content:" * Gitå¸¸ç¨è¡¨æ\n * MarkDown å¸¸ç¨è¡¨æ\n   * People\n   * Nature\n   * Objects\n   * Places\n   * Symbols\n * åèé¾æ¥\n\n\n# Gitå¸¸ç¨è¡¨æ\n\ngit commit çæ¶åï¼æ·»å è¡¨æç¬¦å·å¯ä»¥æ´å¥½çè¡¨ææ¬æ¬¡æäº¤çæ§è´¨ï¼ä¹æ´æè¶£ã\n\nå¸¸ç¨è¡¨æç¬¦å·å¦ä¸ï¼\n\nEMOJI        EMOJIä»£ç                       COMMITè¯´æ\nð¨ (è°è²æ¿)     :art:                        æ¹è¿ä»£ç ç»æ/ä»£ç æ ¼å¼\nâ¡ï¸ (éªçµ)      :zap:                        æåæ§è½\nð (èµé©¬)      :racehorse:                  æåæ§è½\nð¥ (ç«ç°)      :fire:                       ç§»é¤ä»£ç ææä»¶\nð (bug)     :bug:                        ä¿®å¤ bug\nð (æ¥æè½¦)     :ambulance:                  éè¦è¡¥ä¸\nâ¨ (ç«è±)       :sparkles:                   å¼å¥æ°åè½\nð (éç¬)      :pencil:                     æ°åææ¡£\nð (ç«ç®­)      :rocket:                     é¨ç½²åè½\nð (å£çº¢)      :lipstick:                   æ´æ° UI åæ ·å¼æä»¶\nð (åºç¥)      :tada:                       åæ¬¡æäº¤\nâ (ç½è²å¤éæ¡)    :white_check_mark:           å¢å æµè¯\nð (é)       :lock:                       ä¿®å¤å®å¨é®é¢\nð (è¹æ)      :apple:                      ä¿®å¤ macOS ä¸çé®é¢\nð§ (ä¼é¹)      :penguin:                    ä¿®å¤ Linux ä¸çé®é¢\nð (æå¸)      :checked_flag:               ä¿®å¤ Windows ä¸çé®é¢\nð (ä¹¦ç­¾)      :bookmark:                   åè¡/çæ¬æ ç­¾\nð¨ (è­¦è½¦ç¯)     :rotating_light:             ç§»é¤ linter è­¦å\nð§ (æ½å·¥)      :construction:               å·¥ä½è¿è¡ä¸­\nð (ç»¿å¿)      :green_heart:                ä¿®å¤ CI æå»ºé®é¢\nâ¬ï¸ (ä¸éç®­å¤´)    :arrow_down:                 éçº§ä¾èµ\nâ¬ï¸ (ä¸åç®­å¤´)    :arrow_up:                   åçº§ä¾èµ\nð· (å·¥äºº)      :construction_worker:        æ·»å  CI æå»ºç³»ç»\nð (ä¸åè¶å¿å¾)   :chart_with_upwards_trend:   æ·»å åææè·è¸ªä»£ç \nð¨ (é¤å­)      :hammer:                     éå¤§éæ\nâ (åå·)       :heavy_minus_sign:           åå°ä¸ä¸ªä¾èµ\nð³ (é²¸é±¼)      :whale:                      Docker ç¸å³å·¥ä½\nâ (å å·)       :heavy_plus_sign:            å¢å ä¸ä¸ªä¾èµ\nð§ (æ³æ)      :wrench:                     ä¿®æ¹éç½®æä»¶\nð (å°ç)      :globe_with_meridians:       å½éåä¸æ¬å°å\nâï¸ (éç¬)      :pencil2:                    ä¿®å¤ typo\n\n\n# MarkDown å¸¸ç¨è¡¨æ\n\n\n# People\n\nð :SMILE:                          ð :LAUGHING:                       \nð :blush:                          ð :smiley:                         âºï¸ :relaxed:\nð :smirk:                          ð :heart_eyes:                     ð :kissing_heart:\nð :kissing_closed_eyes:            ð³ :flushed:                        ð :relieved:\nð :satisfied:                      ð :grin:                           ð :wink:\nð :stuck_out_tongue_winking_eye:   ð :stuck_out_tongue_closed_eyes:   ð :grinning:\nð :kissing:                        ð :kissing_smiling_eyes:           ð :stuck_out_tongue:\nð´ :sleeping:                       ð :worried:                        ð¦ :frowning:\nð§ :anguished:                      ð® :open_mouth:                     ð¬ :grimacing:\nð :confused:                       ð¯ :hushed:                         ð :expressionless:\nð :unamused:                       ð :sweat_smile:                    ð :sweat:\nð¥ :disappointed_relieved:          ð© :weary:                          ð :pensive:\nð :disappointed:                   ð :confounded:                     ð¨ :fearful:\nð° :cold_sweat:                     ð£ :persevere:                      ð¢ :cry:\nð­ :sob:                            ð :joy:                            ð² :astonished:\nð± :scream:                         ð¿ :imp:                            ð« :tired_face:\nð  :angry:                          ð¡ :rage:                           ð¤ :triumph:\nðª :sleepy:                         ð :yum:                            ð· :mask:\nð :sunglasses:                     ðµ :dizzy_face:                     \n\n                                                               \nð :smiling_imp:                ð :neutral_face:              ð¶ :no_mouth:\nð :innocent:                   ð½ :alien:                     ð :yellow_heart:\nð :blue_heart:                 ð :purple_heart:              â¤ï¸ :heart:\nð :green_heart:                ð :broken_heart:              ð :heartbeat:\nð :heartpulse:                 ð :two_hearts:                ð :revolving_hearts:\nð :cupid:                      ð :sparkling_heart:           â¨ :sparkles:\nâ­ï¸ :star:                       ð :star2:                     ð« :dizzy:\nð¥ :boom:                       ð¥ :collision:                 ð¢ :anger:\nâï¸ :exclamation:                â :question:                   â :grey_exclamation:\nâ :grey_question:               ð¤ :zzz:                       ð¨ :dash:\nð¦ :sweat_drops:                ð¶ :notes:                     ðµ :musical_note:\nð¥ :fire:                       ð© :hankey:                    ð© :poop:\nð© :shit:                       ð :+1:                        ð :thumbsup:\nð :-1:                         ð :thumbsdown:                ð :ok_hand:\nð :punch:                      ð :facepunch:                 â :fist:\nâï¸ :v:                          ð :wave:                      â :hand:\nâ :raised_hand:                 ð :open_hands:                âï¸ :point_up:\nð :point_down:                 ð :point_left:                ð :point_right:\nð :raised_hands:               ð :pray:                      ð :point_up_2:\nð :clap:                       ðª :muscle:                    ð¤ :metal:\nð :fu:                         ð¶ :walking:                   ð :runner:\nð :running:                    ð« :couple:                    ðª :family:\nð¬ :two_men_holding_hands:      ð­ :two_women_holding_hands:   ð :dancer:\nð¯ :dancers:                    ð :ok_woman:                  ð :no_good:\nð :information_desk_person:    ð :raising_hand:              ð° :bride_with_veil:\nð :person_with_pouting_face:   ð :person_frowning:           ð :bow:\nð :couplekiss:                 ð :couple_with_heart:         ð :massage:\nð :haircut:                    ð :nail_care:                 ð¦ :boy:\nð§ :girl:                       ð© :woman:                     ð¨ :man:\nð¶ :baby:                       ðµ :older_woman:               ð´ :older_man:\nð± :person_with_blond_hair:     ð² :man_with_gua_pi_mao:       ð³ :man_with_turban:\nð· :construction_worker:        ð® :cop:                       ð¼ :angel:\nð¸ :princess:                   ðº :smiley_cat:                ð¸ :smile_cat:\nð» :heart_eyes_cat:             ð½ :kissing_cat:               ð¼ :smirk_cat:\nð :scream_cat:                 ð¿ :crying_cat_face:           ð¹ :joy_cat:\nð¾ :pouting_cat:                ð¹ :japanese_ogre:             ðº :japanese_goblin:\nð :see_no_evil:                ð :hear_no_evil:              ð :speak_no_evil:\nð :guardsman:                  ð :skull:                     ð¾ :feet:\nð :lips:                       ð :kiss:                      ð§ :droplet:\nð :ear:                        ð :eyes:                      ð :nose:\nð :tongue:                     ð :love_letter:               ð¤ :bust_in_silhouette:\nð¥ :busts_in_silhouette:        ð¬ :speech_balloon:            ð­ :thought_balloon:\n\n\n# Nature\n\nâï¸ :SUNNY:                          âï¸ :UMBRELLA:               âï¸ :CLOUD:\nâï¸ :snowflake:                      âï¸ :snowman:                â¡ï¸ :zap:\nð :cyclone:                        ð :foggy:                  ð :ocean:\nð± :cat:                            ð¶ :dog:                    ð­ :mouse:\nð¹ :hamster:                        ð° :rabbit:                 ðº :wolf:\nð¸ :frog:                           ð¯ :tiger:                  ð¨ :koala:\nð» :bear:                           ð· :pig:                    ð½ :pig_nose:\nð® :cow:                            ð :boar:                   ðµ :monkey_face:\nð :monkey:                         ð´ :horse:                  ð :racehorse:\nð« :camel:                          ð :sheep:                  ð :elephant:\nð¼ :panda_face:                     ð :snake:                  ð¦ :bird:\nð¤ :baby_chick:                     ð¥ :hatched_chick:          ð£ :hatching_chick:\nð :chicken:                        ð§ :penguin:                ð¢ :turtle:\nð :bug:                            ð :honeybee:               ð :ant:\nð :beetle:                         ð :snail:                  ð :octopus:\nð  :tropical_fish:                  ð :fish:                   ð³ :whale:\nð :whale2:                         ð¬ :dolphin:                ð :cow2:\nð :ram:                            ð :rat:                    ð :water_buffalo:\nð :tiger2:                         ð :rabbit2:                ð :dragon:\nð :goat:                           ð :rooster:                ð :dog2:\nð :pig2:                           ð :mouse2:                 ð :ox:\nð² :dragon_face:                    ð¡ :blowfish:               ð :crocodile:\nðª :dromedary_camel:                ð :leopard:                ð :cat2:\nð© :poodle:                         ð¾ :paw_prints:             ð :bouquet:\nð¸ :cherry_blossom:                 ð· :tulip:                  ð :four_leaf_clover:\nð¹ :rose:                           ð» :sunflower:              ðº :hibiscus:\nð :maple_leaf:                     ð :leaves:                 ð :fallen_leaf:\nð¿ :herb:                           ð :mushroom:               ðµ :cactus:\nð´ :palm_tree:                      ð² :evergreen_tree:         ð³ :deciduous_tree:\nð° :chestnut:                       ð± :seedling:               ð¼ :blossom:\nð¾ :ear_of_rice:                    ð :shell:                  ð :globe_with_meridians:\nð :sun_with_face:                  ð :full_moon_with_face:    ð :new_moon_with_face:\nð :new_moon:                       ð :waxing_crescent_moon:   ð :first_quarter_moon:\nð :waxing_gibbous_moon:            ð :full_moon:              ð :waning_gibbous_moon:\nð :last_quarter_moon:              ð :waning_crescent_moon:   ð :last_quarter_moon_with_face:\nð :first_quarter_moon_with_face:   ð :moon:                   ð :earth_africa:\nð :earth_americas:                 ð :earth_asia:             ð :volcano:\nð :milky_way:                      âï¸ :partly_sunny:           \n\n\n# Objects\n\nð :BAMBOO:                           ð :GIFT_HEART:                   ð :DOLLS:\nð :school_satchel:                   ð :mortar_board:                 ð :flags:\nð :fireworks:                        ð :sparkler:                     ð :wind_chime:\nð :rice_scene:                       ð :jack_o_lantern:               ð» :ghost:\nð :santa:                            ð :christmas_tree:               ð :gift:\nð :bell:                             ð :no_bell:                      ð :tanabata_tree:\nð :tada:                             ð :confetti_ball:                ð :balloon:\nð® :crystal_ball:                     ð¿ :cd:                           ð :dvd:\nð¾ :floppy_disk:                      ð· :camera:                       ð¹ :video_camera:\nð¥ :movie_camera:                     ð» :computer:                     ðº :tv:\nð± :iphone:                           âï¸ :phone:                        âï¸ :telephone:\nð :telephone_receiver:               ð :pager:                        ð  :fax:\nð½ :minidisc:                         ð¼ :vhs:                          ð :sound:\nð :speaker:                          ð :mute:                         ð¢ :loudspeaker:\nð£ :mega:                             âï¸ :hourglass:                    â³ :hourglass_flowing_sand:\nâ° :alarm_clock:                       âï¸ :watch:                        ð» :radio:\nð¡ :satellite:                        â¿ :loop:                          ð :mag:\nð :mag_right:                        ð :unlock:                       ð :lock:\nð :lock_with_ink_pen:                ð :closed_lock_with_key:         ð :key:\nð¡ :bulb:                             ð¦ :flashlight:                   ð :high_brightness:\nð :low_brightness:                   ð :electric_plug:                ð :battery:\nð² :calling:                          âï¸ :email:                        ð« :mailbox:\nð® :postbox:                          ð :bath:                         ð :bathtub:\nð¿ :shower:                           ð½ :toilet:                       ð§ :wrench:\nð© :nut_and_bolt:                     ð¨ :hammer:                       ðº :seat:\nð° :moneybag:                         ð´ :yen:                          ðµ :dollar:\nð· :pound:                            ð¶ :euro:                         ð³ :credit_card:\nð¸ :money_with_wings:                 ð§ :e-mail:                       ð¥ :inbox_tray:\nð¤ :outbox_tray:                      âï¸ :envelope:                     ð¨ :incoming_envelope:\nð¯ :postal_horn:                      ðª :mailbox_closed:               ð¬ :mailbox_with_mail:\nð­ :mailbox_with_no_mail:             ðª :door:                         ð¬ :smoking:\nð£ :bomb:                             ð« :gun:                          ðª :hocho:\nð :pill:                             ð :syringe:                      ð :page_facing_up:\nð :page_with_curl:                   ð :bookmark_tabs:                ð :bar_chart:\nð :chart_with_upwards_trend:         ð :chart_with_downwards_trend:   ð :scroll:\nð :clipboard:                        ð :calendar:                     ð :date:\nð :card_index:                       ð :file_folder:                  ð :open_file_folder:\nâï¸ :scissors:                         ð :pushpin:                      ð :paperclip:\nâï¸ :black_nib:                        âï¸ :pencil2:                      ð :straight_ruler:\nð :triangular_ruler:                 ð :closed_book:                  ð :green_book:\nð :blue_book:                        ð :orange_book:                  ð :notebook:\nð :notebook_with_decorative_cover:   ð :ledger:                       ð :books:\nð :bookmark:                         ð :name_badge:                   ð¬ :microscope:\nð­ :telescope:                        ð° :newspaper:                    ð :football:\nð :basketball:                       â½ï¸ :soccer:                       â¾ï¸ :baseball:\nð¾ :tennis:                           ð± :8ball:                        ð :rugby_football:\nð³ :bowling:                          â³ï¸ :golf:                         ðµ :mountain_bicyclist:\nð´ :bicyclist:                        ð :horse_racing:                 ð :snowboarder:\nð :swimmer:                          ð :surfer:                       ð¿ :ski:\nâ ï¸ :spades:                           â¥ï¸ :hearts:                       â£ï¸ :clubs:\nâ¦ï¸ :diamonds:                         ð :gem:                          ð :ring:\nð :trophy:                           ð¼ :musical_score:                ð¹ :musical_keyboard:\nð» :violin:                           ð¾ :space_invader:                ð® :video_game:\nð :black_joker:                      ð´ :flower_playing_cards:         ð² :game_die:\nð¯ :dart:                             ðï¸ :mahjong:                     ð¬ :clapper:\nð :memo:                             ð :pencil:                       ð :book:\nð¨ :art:                              ð¤ :microphone:                   ð§ :headphones:\nðº :trumpet:                          ð· :saxophone:                    ð¸ :guitar:\nð :shoe:                             ð¡ :sandal:                       ð  :high_heel:\nð :lipstick:                         ð¢ :boot:                         ð :shirt:\nð :tshirt:                           ð :necktie:                      ð :womans_clothes:\nð :dress:                            ð½ :running_shirt_with_sash:      ð :jeans:\nð :kimono:                           ð :bikini:                       ð :ribbon:\nð© :tophat:                           ð :crown:                        ð :womans_hat:\nð :mans_shoe:                        ð :closed_umbrella:              ð¼ :briefcase:\nð :handbag:                          ð :pouch:                        ð :purse:\nð :eyeglasses:                       ð£ :fishing_pole_and_fish:        âï¸ :coffee:\nðµ :tea:                              ð¶ :sake:                         ð¼ :baby_bottle:\nðº :beer:                             ð» :beers:                        ð¸ :cocktail:\nð¹ :tropical_drink:                   ð· :wine_glass:                   ð´ :fork_and_knife:\nð :pizza:                            ð :hamburger:                    ð :fries:\nð :poultry_leg:                      ð :meat_on_bone:                 ð :spaghetti:\nð :curry:                            ð¤ :fried_shrimp:                 ð± :bento:\nð£ :sushi:                            ð¥ :fish_cake:                    ð :rice_ball:\nð :rice_cracker:                     ð :rice:                         ð :ramen:\nð² :stew:                             ð¢ :oden:                         ð¡ :dango:\nð¥ :egg:                              ð :bread:                        ð© :doughnut:\nð® :custard:                          ð¦ :icecream:                     ð¨ :ice_cream:\nð§ :shaved_ice:                       ð :birthday:                     ð° :cake:\nðª :cookie:                           ð« :chocolate_bar:                ð¬ :candy:\nð­ :lollipop:                         ð¯ :honey_pot:                    ð :apple:\nð :green_apple:                      ð :tangerine:                    ð :lemon:\nð :cherries:                         ð :grapes:                       ð :watermelon:\nð :strawberry:                       ð :peach:                        ð :melon:\nð :banana:                           ð :pear:                         ð :pineapple:\nð  :sweet_potato:                     ð :eggplant:                     ð :tomato:\nð½ :corn:                                                               \n\n\n# Places\n\nð  :HOUSE:                 ð¡ :HOUSE_WITH_GARDEN:         ð« :SCHOOL:\nð¢ :office:                ð£ :post_office:               ð¥ :hospital:\nð¦ :bank:                  ðª :convenience_store:         ð© :love_hotel:\nð¨ :hotel:                 ð :wedding:                   âªï¸ :church:\nð¬ :department_store:      ð¤ :european_post_office:      ð :city_sunrise:\nð :city_sunset:           ð¯ :japanese_castle:           ð° :european_castle:\nâºï¸ :tent:                  ð­ :factory:                   ð¼ :tokyo_tower:\nð¾ :japan:                 ð» :mount_fuji:                ð :sunrise_over_mountains:\nð :sunrise:               ð  :stars:                     ð½ :statue_of_liberty:\nð :bridge_at_night:       ð  :carousel_horse:            ð :rainbow:\nð¡ :ferris_wheel:          â²ï¸ :fountain:                  ð¢ :roller_coaster:\nð¢ :ship:                  ð¤ :speedboat:                 âµï¸ :boat:\nâµï¸ :sailboat:              ð£ :rowboat:                   âï¸ :anchor:\nð :rocket:                âï¸ :airplane:                  ð :helicopter:\nð :steam_locomotive:      ð :tram:                      ð :mountain_railway:\nð² :bike:                  ð¡ :aerial_tramway:            ð :suspension_railway:\nð  :mountain_cableway:     ð :tractor:                   ð :blue_car:\nð :oncoming_automobile:   ð :car:                       ð :red_car:\nð :taxi:                  ð :oncoming_taxi:             ð :articulated_lorry:\nð :bus:                   ð :oncoming_bus:              ð¨ :rotating_light:\nð :police_car:            ð :oncoming_police_car:       ð :fire_engine:\nð :ambulance:             ð :minibus:                   ð :truck:\nð :train:                 ð :station:                   ð :train2:\nð :bullettrain_front:     ð :bullettrain_side:          ð :light_rail:\nð :monorail:              ð :railway_car:               ð :trolleybus:\nð« :ticket:                â½ï¸ :fuelpump:                  ð¦ :vertical_traffic_light:\nð¥ :traffic_light:         â ï¸ :warning:                   ð§ :construction:\nð° :beginner:              ð§ :atm:                       ð° :slot_machine:\nð :busstop:               ð :barber:                    â¨ï¸ :hotsprings:\nð :checkered_flag:        ð :crossed_flags:             ð® :izakaya_lantern:\nð¿ :moyai:                 ðª :circus_tent:               ð­ :performing_arts:\nð :round_pushpin:         ð© :triangular_flag_on_post:   ð¯ðµ :jp:\nð°ð· :kr:                  ð¨ð³ :cn:                      ðºð¸ :us:\nð«ð· :fr:                  ðªð¸ :es:                      ð®ð¹ :it:\nð·ðº :ru:                  ð¬ð§ :gb:                      ð¬ð§ :uk:\nð©ðª :de:                                                 \n\n\n# Symbols\n\n1ï¸â£ :ONE:                             2ï¸â£ :TWO:                        3ï¸â£ :THREE:\n4ï¸â£ :four:                            5ï¸â£ :five:                       6ï¸â£ :six:\n7ï¸â£ :seven:                           8ï¸â£ :eight:                      9ï¸â£ :nine:\nð :keycap_ten:                       ð¢ :1234:                        0ï¸â£ :zero:\n#ï¸â£ :hash:                            ð£ :symbols:                     âï¸ :arrow_backward:\nâ¬ï¸ :arrow_down:                       â¶ï¸ :arrow_forward:               â¬ï¸ :arrow_left:\nð  :capital_abcd:                     ð¡ :abcd:                        ð¤ :abc:\nâï¸ :arrow_lower_left:                 âï¸ :arrow_lower_right:           â¡ï¸ :arrow_right:\nâ¬ï¸ :arrow_up:                         âï¸ :arrow_upper_left:            âï¸ :arrow_upper_right:\nâ¬ :arrow_double_down:                 â« :arrow_double_up:              ð½ :arrow_down_small:\nâ¤µï¸ :arrow_heading_down:               â¤´ï¸ :arrow_heading_up:            â©ï¸:leftwards_arrow_with_hook:\nâªï¸ :arrow_right_hook:                 âï¸ :left_right_arrow:            âï¸ :arrow_up_down:\nð¼ :arrow_up_small:                   ð :arrows_clockwise:            ð :arrows_counterclockwise:\nâª :rewind:                            â© :fast_forward:                 â¹ï¸ :information_source:\nð :ok:                               ð :twisted_rightwards_arrows:   ð :repeat:\nð :repeat_one:                       ð :new:                         ð :top:\nð :up:                               ð :cool:                        ð :free:\nð :ng:                               ð¦ :cinema:                      ð :koko:\nð¶ :signal_strength:                  ð¹ :u5272:                       ð´ :u5408:\nðº :u55b6:                            ð¯ï¸ :u6307:                      ð·ï¸ :u6708:\nð¶ :u6709:                            ðµ :u6e80:                       ðï¸ :u7121:\nð¸ :u7533:                            ð³ :u7a7a:                       ð² :u7981:\nðï¸ :sa:                              ð» :restroom:                    ð¹ :mens:\nðº :womens:                           ð¼ :baby_symbol:                 ð­ :no_smoking:\nð¿ï¸ :parking:                         â¿ï¸ :wheelchair:                  ð :metro:\nð :baggage_claim:                    ð :accept:                      ð¾ :wc:\nð° :potable_water:                    ð® :put_litter_in_its_place:     ãï¸ :secret:\nãï¸ :congratulations:                  âï¸ :m:                           ð :passport_control:\nð :left_luggage:                     ð :customs:                     ð :ideograph_advantage:\nð :cl:                               ð :sos:                         ð :id:\nð« :no_entry_sign:                    ð :underage:                    ðµ :no_mobile_phones:\nð¯ :do_not_litter:                    ð± :non-potable_water:           ð³ :no_bicycles:\nð· :no_pedestrians:                   ð¸ :children_crossing:           âï¸ :no_entry:\nâ³ï¸ :eight_spoked_asterisk:            â´ï¸ :eight_pointed_black_star:    ð :heart_decoration:\nð :vs:                               ð³ :vibration_mode:              ð´ :mobile_phone_off:\nð¹ :chart:                            ð± :currency_exchange:           âï¸ :aries:\nâï¸ :taurus:                           âï¸ :gemini:                      âï¸ :cancer:\nâï¸ :leo:                              âï¸ :virgo:                       âï¸ :libra:\nâï¸ :scorpius:                         âï¸ :sagittarius:                 âï¸ :capricorn:\nâï¸ :aquarius:                         âï¸ :pisces:                      â :ophiuchus:\nð¯ :six_pointed_star:                 â:negative_squared_cross_mark:   ð°ï¸ :a:\nð±ï¸ :b:                               ð :ab:                          ð¾ï¸ :o2:\nð :diamond_shape_with_a_dot_inside:   â»ï¸ :recycle:                     ð :end:\nð :on:                               ð :soon:                        ð :clock1:\nð :clock130:                         ð :clock10:                     ð¥ :clock1030:\nð :clock11:                          ð¦ :clock1130:                   ð :clock12:\nð§ :clock1230:                        ð :clock2:                      ð :clock230:\nð :clock3:                           ð :clock330:                    ð :clock4:\nð :clock430:                         ð :clock5:                      ð  :clock530:\nð :clock6:                           ð¡ :clock630:                    ð :clock7:\nð¢ :clock730:                         ð :clock8:                      ð£ :clock830:\nð :clock9:                           ð¤ :clock930:                    ð² :heavy_dollar_sign:\nÂ©ï¸ :copyright:                        Â®ï¸ :registered:                  â¢ï¸ :tm:\nâ :x:                                 âï¸ :heavy_exclamation_mark:      â¼ï¸ :bangbang:\nâï¸ :interrobang:                      â­ï¸ :o:                           âï¸ :heavy_multiplication_x:\nâ :heavy_plus_sign:                   â :heavy_minus_sign:             â :heavy_division_sign:\nð® :white_flower:                     ð¯ :100:                         âï¸ :heavy_check_mark:\nâï¸ :ballot_box_with_check:            ð :radio_button:                ð :link:\nâ° :curly_loop:                        ã°ï¸ :wavy_dash:                   ã½ï¸ :part_alternation_mark:\nâ :white_check_mark:                  ð² :black_square_button:         ð³ :white_square_button:\nâ«ï¸ :black_circle:                     âªï¸ :white_circle:                ð´ :red_circle:\nðµ :large_blue_circle:                ð· :large_blue_diamond:          ð¶ :large_orange_diamond:\nð¹ :small_blue_diamond:               ð¸ :small_orange_diamond:        ðº :small_red_triangle:\nð» :small_red_triangle_down:          ð± :trident:                     \n\n\n# åèé¾æ¥\n\n * https://www.kuangstudy.com/bbs/1363014604904587265\n * https://blog.csdn.net/u011583927/article/details/104094284",normalizedContent:" * gitå¸¸ç¨è¡¨æ\n * markdown å¸¸ç¨è¡¨æ\n   * people\n   * nature\n   * objects\n   * places\n   * symbols\n * åèé¾æ¥\n\n\n# gitå¸¸ç¨è¡¨æ\n\ngit commit çæ¶åï¼æ·»å è¡¨æç¬¦å·å¯ä»¥æ´å¥½çè¡¨ææ¬æ¬¡æäº¤çæ§è´¨ï¼ä¹æ´æè¶£ã\n\nå¸¸ç¨è¡¨æç¬¦å·å¦ä¸ï¼\n\nemoji        emojiä»£ç                       commitè¯´æ\nð¨ (è°è²æ¿)     :art:                        æ¹è¿ä»£ç ç»æ/ä»£ç æ ¼å¼\nâ¡ï¸ (éªçµ)      :zap:                        æåæ§è½\nð (èµé©¬)      :racehorse:                  æåæ§è½\nð¥ (ç«ç°)      :fire:                       ç§»é¤ä»£ç ææä»¶\nð (bug)     :bug:                        ä¿®å¤ bug\nð (æ¥æè½¦)     :ambulance:                  éè¦è¡¥ä¸\nâ¨ (ç«è±)       :sparkles:                   å¼å¥æ°åè½\nð (éç¬)      :pencil:                     æ°åææ¡£\nð (ç«ç®­)      :rocket:                     é¨ç½²åè½\nð (å£çº¢)      :lipstick:                   æ´æ° ui åæ ·å¼æä»¶\nð (åºç¥)      :tada:                       åæ¬¡æäº¤\nâ (ç½è²å¤éæ¡)    :white_check_mark:           å¢å æµè¯\nð (é)       :lock:                       ä¿®å¤å®å¨é®é¢\nð (è¹æ)      :apple:                      ä¿®å¤ macos ä¸çé®é¢\nð§ (ä¼é¹)      :penguin:                    ä¿®å¤ linux ä¸çé®é¢\nð (æå¸)      :checked_flag:               ä¿®å¤ windows ä¸çé®é¢\nð (ä¹¦ç­¾)      :bookmark:                   åè¡/çæ¬æ ç­¾\nð¨ (è­¦è½¦ç¯)     :rotating_light:             ç§»é¤ linter è­¦å\nð§ (æ½å·¥)      :construction:               å·¥ä½è¿è¡ä¸­\nð (ç»¿å¿)      :green_heart:                ä¿®å¤ ci æå»ºé®é¢\nâ¬ï¸ (ä¸éç®­å¤´)    :arrow_down:                 éçº§ä¾èµ\nâ¬ï¸ (ä¸åç®­å¤´)    :arrow_up:                   åçº§ä¾èµ\nð· (å·¥äºº)      :construction_worker:        æ·»å  ci æå»ºç³»ç»\nð (ä¸åè¶å¿å¾)   :chart_with_upwards_trend:   æ·»å åææè·è¸ªä»£ç \nð¨ (é¤å­)      :hammer:                     éå¤§éæ\nâ (åå·)       :heavy_minus_sign:           åå°ä¸ä¸ªä¾èµ\nð³ (é²¸é±¼)      :whale:                      docker ç¸å³å·¥ä½\nâ (å å·)       :heavy_plus_sign:            å¢å ä¸ä¸ªä¾èµ\nð§ (æ³æ)      :wrench:                     ä¿®æ¹éç½®æä»¶\nð (å°ç)      :globe_with_meridians:       å½éåä¸æ¬å°å\nâï¸ (éç¬)      :pencil2:                    ä¿®å¤ typo\n\n\n# markdown å¸¸ç¨è¡¨æ\n\n\n# people\n\nð :smile:                          ð :laughing:                       \nð :blush:                          ð :smiley:                         âºï¸ :relaxed:\nð :smirk:                          ð :heart_eyes:                     ð :kissing_heart:\nð :kissing_closed_eyes:            ð³ :flushed:                        ð :relieved:\nð :satisfied:                      ð :grin:                           ð :wink:\nð :stuck_out_tongue_winking_eye:   ð :stuck_out_tongue_closed_eyes:   ð :grinning:\nð :kissing:                        ð :kissing_smiling_eyes:           ð :stuck_out_tongue:\nð´ :sleeping:                       ð :worried:                        ð¦ :frowning:\nð§ :anguished:                      ð® :open_mouth:                     ð¬ :grimacing:\nð :confused:                       ð¯ :hushed:                         ð :expressionless:\nð :unamused:                       ð :sweat_smile:                    ð :sweat:\nð¥ :disappointed_relieved:          ð© :weary:                          ð :pensive:\nð :disappointed:                   ð :confounded:                     ð¨ :fearful:\nð° :cold_sweat:                     ð£ :persevere:                      ð¢ :cry:\nð­ :sob:                            ð :joy:                            ð² :astonished:\nð± :scream:                         ð¿ :imp:                            ð« :tired_face:\nð  :angry:                          ð¡ :rage:                           ð¤ :triumph:\nðª :sleepy:                         ð :yum:                            ð· :mask:\nð :sunglasses:                     ðµ :dizzy_face:                     \n\n                                                               \nð :smiling_imp:                ð :neutral_face:              ð¶ :no_mouth:\nð :innocent:                   ð½ :alien:                     ð :yellow_heart:\nð :blue_heart:                 ð :purple_heart:              â¤ï¸ :heart:\nð :green_heart:                ð :broken_heart:              ð :heartbeat:\nð :heartpulse:                 ð :two_hearts:                ð :revolving_hearts:\nð :cupid:                      ð :sparkling_heart:           â¨ :sparkles:\nâ­ï¸ :star:                       ð :star2:                     ð« :dizzy:\nð¥ :boom:                       ð¥ :collision:                 ð¢ :anger:\nâï¸ :exclamation:                â :question:                   â :grey_exclamation:\nâ :grey_question:               ð¤ :zzz:                       ð¨ :dash:\nð¦ :sweat_drops:                ð¶ :notes:                     ðµ :musical_note:\nð¥ :fire:                       ð© :hankey:                    ð© :poop:\nð© :shit:                       ð :+1:                        ð :thumbsup:\nð :-1:                         ð :thumbsdown:                ð :ok_hand:\nð :punch:                      ð :facepunch:                 â :fist:\nâï¸ :v:                          ð :wave:                      â :hand:\nâ :raised_hand:                 ð :open_hands:                âï¸ :point_up:\nð :point_down:                 ð :point_left:                ð :point_right:\nð :raised_hands:               ð :pray:                      ð :point_up_2:\nð :clap:                       ðª :muscle:                    ð¤ :metal:\nð :fu:                         ð¶ :walking:                   ð :runner:\nð :running:                    ð« :couple:                    ðª :family:\nð¬ :two_men_holding_hands:      ð­ :two_women_holding_hands:   ð :dancer:\nð¯ :dancers:                    ð :ok_woman:                  ð :no_good:\nð :information_desk_person:    ð :raising_hand:              ð° :bride_with_veil:\nð :person_with_pouting_face:   ð :person_frowning:           ð :bow:\nð :couplekiss:                 ð :couple_with_heart:         ð :massage:\nð :haircut:                    ð :nail_care:                 ð¦ :boy:\nð§ :girl:                       ð© :woman:                     ð¨ :man:\nð¶ :baby:                       ðµ :older_woman:               ð´ :older_man:\nð± :person_with_blond_hair:     ð² :man_with_gua_pi_mao:       ð³ :man_with_turban:\nð· :construction_worker:        ð® :cop:                       ð¼ :angel:\nð¸ :princess:                   ðº :smiley_cat:                ð¸ :smile_cat:\nð» :heart_eyes_cat:             ð½ :kissing_cat:               ð¼ :smirk_cat:\nð :scream_cat:                 ð¿ :crying_cat_face:           ð¹ :joy_cat:\nð¾ :pouting_cat:                ð¹ :japanese_ogre:             ðº :japanese_goblin:\nð :see_no_evil:                ð :hear_no_evil:              ð :speak_no_evil:\nð :guardsman:                  ð :skull:                     ð¾ :feet:\nð :lips:                       ð :kiss:                      ð§ :droplet:\nð :ear:                        ð :eyes:                      ð :nose:\nð :tongue:                     ð :love_letter:               ð¤ :bust_in_silhouette:\nð¥ :busts_in_silhouette:        ð¬ :speech_balloon:            ð­ :thought_balloon:\n\n\n# nature\n\nâï¸ :sunny:                          âï¸ :umbrella:               âï¸ :cloud:\nâï¸ :snowflake:                      âï¸ :snowman:                â¡ï¸ :zap:\nð :cyclone:                        ð :foggy:                  ð :ocean:\nð± :cat:                            ð¶ :dog:                    ð­ :mouse:\nð¹ :hamster:                        ð° :rabbit:                 ðº :wolf:\nð¸ :frog:                           ð¯ :tiger:                  ð¨ :koala:\nð» :bear:                           ð· :pig:                    ð½ :pig_nose:\nð® :cow:                            ð :boar:                   ðµ :monkey_face:\nð :monkey:                         ð´ :horse:                  ð :racehorse:\nð« :camel:                          ð :sheep:                  ð :elephant:\nð¼ :panda_face:                     ð :snake:                  ð¦ :bird:\nð¤ :baby_chick:                     ð¥ :hatched_chick:          ð£ :hatching_chick:\nð :chicken:                        ð§ :penguin:                ð¢ :turtle:\nð :bug:                            ð :honeybee:               ð :ant:\nð :beetle:                         ð :snail:                  ð :octopus:\nð  :tropical_fish:                  ð :fish:                   ð³ :whale:\nð :whale2:                         ð¬ :dolphin:                ð :cow2:\nð :ram:                            ð :rat:                    ð :water_buffalo:\nð :tiger2:                         ð :rabbit2:                ð :dragon:\nð :goat:                           ð :rooster:                ð :dog2:\nð :pig2:                           ð :mouse2:                 ð :ox:\nð² :dragon_face:                    ð¡ :blowfish:               ð :crocodile:\nðª :dromedary_camel:                ð :leopard:                ð :cat2:\nð© :poodle:                         ð¾ :paw_prints:             ð :bouquet:\nð¸ :cherry_blossom:                 ð· :tulip:                  ð :four_leaf_clover:\nð¹ :rose:                           ð» :sunflower:              ðº :hibiscus:\nð :maple_leaf:                     ð :leaves:                 ð :fallen_leaf:\nð¿ :herb:                           ð :mushroom:               ðµ :cactus:\nð´ :palm_tree:                      ð² :evergreen_tree:         ð³ :deciduous_tree:\nð° :chestnut:                       ð± :seedling:               ð¼ :blossom:\nð¾ :ear_of_rice:                    ð :shell:                  ð :globe_with_meridians:\nð :sun_with_face:                  ð :full_moon_with_face:    ð :new_moon_with_face:\nð :new_moon:                       ð :waxing_crescent_moon:   ð :first_quarter_moon:\nð :waxing_gibbous_moon:            ð :full_moon:              ð :waning_gibbous_moon:\nð :last_quarter_moon:              ð :waning_crescent_moon:   ð :last_quarter_moon_with_face:\nð :first_quarter_moon_with_face:   ð :moon:                   ð :earth_africa:\nð :earth_americas:                 ð :earth_asia:             ð :volcano:\nð :milky_way:                      âï¸ :partly_sunny:           \n\n\n# objects\n\nð :bamboo:                           ð :gift_heart:                   ð :dolls:\nð :school_satchel:                   ð :mortar_board:                 ð :flags:\nð :fireworks:                        ð :sparkler:                     ð :wind_chime:\nð :rice_scene:                       ð :jack_o_lantern:               ð» :ghost:\nð :santa:                            ð :christmas_tree:               ð :gift:\nð :bell:                             ð :no_bell:                      ð :tanabata_tree:\nð :tada:                             ð :confetti_ball:                ð :balloon:\nð® :crystal_ball:                     ð¿ :cd:                           ð :dvd:\nð¾ :floppy_disk:                      ð· :camera:                       ð¹ :video_camera:\nð¥ :movie_camera:                     ð» :computer:                     ðº :tv:\nð± :iphone:                           âï¸ :phone:                        âï¸ :telephone:\nð :telephone_receiver:               ð :pager:                        ð  :fax:\nð½ :minidisc:                         ð¼ :vhs:                          ð :sound:\nð :speaker:                          ð :mute:                         ð¢ :loudspeaker:\nð£ :mega:                             âï¸ :hourglass:                    â³ :hourglass_flowing_sand:\nâ° :alarm_clock:                       âï¸ :watch:                        ð» :radio:\nð¡ :satellite:                        â¿ :loop:                          ð :mag:\nð :mag_right:                        ð :unlock:                       ð :lock:\nð :lock_with_ink_pen:                ð :closed_lock_with_key:         ð :key:\nð¡ :bulb:                             ð¦ :flashlight:                   ð :high_brightness:\nð :low_brightness:                   ð :electric_plug:                ð :battery:\nð² :calling:                          âï¸ :email:                        ð« :mailbox:\nð® :postbox:                          ð :bath:                         ð :bathtub:\nð¿ :shower:                           ð½ :toilet:                       ð§ :wrench:\nð© :nut_and_bolt:                     ð¨ :hammer:                       ðº :seat:\nð° :moneybag:                         ð´ :yen:                          ðµ :dollar:\nð· :pound:                            ð¶ :euro:                         ð³ :credit_card:\nð¸ :money_with_wings:                 ð§ :e-mail:                       ð¥ :inbox_tray:\nð¤ :outbox_tray:                      âï¸ :envelope:                     ð¨ :incoming_envelope:\nð¯ :postal_horn:                      ðª :mailbox_closed:               ð¬ :mailbox_with_mail:\nð­ :mailbox_with_no_mail:             ðª :door:                         ð¬ :smoking:\nð£ :bomb:                             ð« :gun:                          ðª :hocho:\nð :pill:                             ð :syringe:                      ð :page_facing_up:\nð :page_with_curl:                   ð :bookmark_tabs:                ð :bar_chart:\nð :chart_with_upwards_trend:         ð :chart_with_downwards_trend:   ð :scroll:\nð :clipboard:                        ð :calendar:                     ð :date:\nð :card_index:                       ð :file_folder:                  ð :open_file_folder:\nâï¸ :scissors:                         ð :pushpin:                      ð :paperclip:\nâï¸ :black_nib:                        âï¸ :pencil2:                      ð :straight_ruler:\nð :triangular_ruler:                 ð :closed_book:                  ð :green_book:\nð :blue_book:                        ð :orange_book:                  ð :notebook:\nð :notebook_with_decorative_cover:   ð :ledger:                       ð :books:\nð :bookmark:                         ð :name_badge:                   ð¬ :microscope:\nð­ :telescope:                        ð° :newspaper:                    ð :football:\nð :basketball:                       â½ï¸ :soccer:                       â¾ï¸ :baseball:\nð¾ :tennis:                           ð± :8ball:                        ð :rugby_football:\nð³ :bowling:                          â³ï¸ :golf:                         ðµ :mountain_bicyclist:\nð´ :bicyclist:                        ð :horse_racing:                 ð :snowboarder:\nð :swimmer:                          ð :surfer:                       ð¿ :ski:\nâ ï¸ :spades:                           â¥ï¸ :hearts:                       â£ï¸ :clubs:\nâ¦ï¸ :diamonds:                         ð :gem:                          ð :ring:\nð :trophy:                           ð¼ :musical_score:                ð¹ :musical_keyboard:\nð» :violin:                           ð¾ :space_invader:                ð® :video_game:\nð :black_joker:                      ð´ :flower_playing_cards:         ð² :game_die:\nð¯ :dart:                             ðï¸ :mahjong:                     ð¬ :clapper:\nð :memo:                             ð :pencil:                       ð :book:\nð¨ :art:                              ð¤ :microphone:                   ð§ :headphones:\nðº :trumpet:                          ð· :saxophone:                    ð¸ :guitar:\nð :shoe:                             ð¡ :sandal:                       ð  :high_heel:\nð :lipstick:                         ð¢ :boot:                         ð :shirt:\nð :tshirt:                           ð :necktie:                      ð :womans_clothes:\nð :dress:                            ð½ :running_shirt_with_sash:      ð :jeans:\nð :kimono:                           ð :bikini:                       ð :ribbon:\nð© :tophat:                           ð :crown:                        ð :womans_hat:\nð :mans_shoe:                        ð :closed_umbrella:              ð¼ :briefcase:\nð :handbag:                          ð :pouch:                        ð :purse:\nð :eyeglasses:                       ð£ :fishing_pole_and_fish:        âï¸ :coffee:\nðµ :tea:                              ð¶ :sake:                         ð¼ :baby_bottle:\nðº :beer:                             ð» :beers:                        ð¸ :cocktail:\nð¹ :tropical_drink:                   ð· :wine_glass:                   ð´ :fork_and_knife:\nð :pizza:                            ð :hamburger:                    ð :fries:\nð :poultry_leg:                      ð :meat_on_bone:                 ð :spaghetti:\nð :curry:                            ð¤ :fried_shrimp:                 ð± :bento:\nð£ :sushi:                            ð¥ :fish_cake:                    ð :rice_ball:\nð :rice_cracker:                     ð :rice:                         ð :ramen:\nð² :stew:                             ð¢ :oden:                         ð¡ :dango:\nð¥ :egg:                              ð :bread:                        ð© :doughnut:\nð® :custard:                          ð¦ :icecream:                     ð¨ :ice_cream:\nð§ :shaved_ice:                       ð :birthday:                     ð° :cake:\nðª :cookie:                           ð« :chocolate_bar:                ð¬ :candy:\nð­ :lollipop:                         ð¯ :honey_pot:                    ð :apple:\nð :green_apple:                      ð :tangerine:                    ð :lemon:\nð :cherries:                         ð :grapes:                       ð :watermelon:\nð :strawberry:                       ð :peach:                        ð :melon:\nð :banana:                           ð :pear:                         ð :pineapple:\nð  :sweet_potato:                     ð :eggplant:                     ð :tomato:\nð½ :corn:                                                               \n\n\n# places\n\nð  :house:                 ð¡ :house_with_garden:         ð« :school:\nð¢ :office:                ð£ :post_office:               ð¥ :hospital:\nð¦ :bank:                  ðª :convenience_store:         ð© :love_hotel:\nð¨ :hotel:                 ð :wedding:                   âªï¸ :church:\nð¬ :department_store:      ð¤ :european_post_office:      ð :city_sunrise:\nð :city_sunset:           ð¯ :japanese_castle:           ð° :european_castle:\nâºï¸ :tent:                  ð­ :factory:                   ð¼ :tokyo_tower:\nð¾ :japan:                 ð» :mount_fuji:                ð :sunrise_over_mountains:\nð :sunrise:               ð  :stars:                     ð½ :statue_of_liberty:\nð :bridge_at_night:       ð  :carousel_horse:            ð :rainbow:\nð¡ :ferris_wheel:          â²ï¸ :fountain:                  ð¢ :roller_coaster:\nð¢ :ship:                  ð¤ :speedboat:                 âµï¸ :boat:\nâµï¸ :sailboat:              ð£ :rowboat:                   âï¸ :anchor:\nð :rocket:                âï¸ :airplane:                  ð :helicopter:\nð :steam_locomotive:      ð :tram:                      ð :mountain_railway:\nð² :bike:                  ð¡ :aerial_tramway:            ð :suspension_railway:\nð  :mountain_cableway:     ð :tractor:                   ð :blue_car:\nð :oncoming_automobile:   ð :car:                       ð :red_car:\nð :taxi:                  ð :oncoming_taxi:             ð :articulated_lorry:\nð :bus:                   ð :oncoming_bus:              ð¨ :rotating_light:\nð :police_car:            ð :oncoming_police_car:       ð :fire_engine:\nð :ambulance:             ð :minibus:                   ð :truck:\nð :train:                 ð :station:                   ð :train2:\nð :bullettrain_front:     ð :bullettrain_side:          ð :light_rail:\nð :monorail:              ð :railway_car:               ð :trolleybus:\nð« :ticket:                â½ï¸ :fuelpump:                  ð¦ :vertical_traffic_light:\nð¥ :traffic_light:         â ï¸ :warning:                   ð§ :construction:\nð° :beginner:              ð§ :atm:                       ð° :slot_machine:\nð :busstop:               ð :barber:                    â¨ï¸ :hotsprings:\nð :checkered_flag:        ð :crossed_flags:             ð® :izakaya_lantern:\nð¿ :moyai:                 ðª :circus_tent:               ð­ :performing_arts:\nð :round_pushpin:         ð© :triangular_flag_on_post:   ð¯ðµ :jp:\nð°ð· :kr:                  ð¨ð³ :cn:                      ðºð¸ :us:\nð«ð· :fr:                  ðªð¸ :es:                      ð®ð¹ :it:\nð·ðº :ru:                  ð¬ð§ :gb:                      ð¬ð§ :uk:\nð©ðª :de:                                                 \n\n\n# symbols\n\n1ï¸â£ :one:                             2ï¸â£ :two:                        3ï¸â£ :three:\n4ï¸â£ :four:                            5ï¸â£ :five:                       6ï¸â£ :six:\n7ï¸â£ :seven:                           8ï¸â£ :eight:                      9ï¸â£ :nine:\nð :keycap_ten:                       ð¢ :1234:                        0ï¸â£ :zero:\n#ï¸â£ :hash:                            ð£ :symbols:                     âï¸ :arrow_backward:\nâ¬ï¸ :arrow_down:                       â¶ï¸ :arrow_forward:               â¬ï¸ :arrow_left:\nð  :capital_abcd:                     ð¡ :abcd:                        ð¤ :abc:\nâï¸ :arrow_lower_left:                 âï¸ :arrow_lower_right:           â¡ï¸ :arrow_right:\nâ¬ï¸ :arrow_up:                         âï¸ :arrow_upper_left:            âï¸ :arrow_upper_right:\nâ¬ :arrow_double_down:                 â« :arrow_double_up:              ð½ :arrow_down_small:\nâ¤µï¸ :arrow_heading_down:               â¤´ï¸ :arrow_heading_up:            â©ï¸:leftwards_arrow_with_hook:\nâªï¸ :arrow_right_hook:                 âï¸ :left_right_arrow:            âï¸ :arrow_up_down:\nð¼ :arrow_up_small:                   ð :arrows_clockwise:            ð :arrows_counterclockwise:\nâª :rewind:                            â© :fast_forward:                 â¹ï¸ :information_source:\nð :ok:                               ð :twisted_rightwards_arrows:   ð :repeat:\nð :repeat_one:                       ð :new:                         ð :top:\nð :up:                               ð :cool:                        ð :free:\nð :ng:                               ð¦ :cinema:                      ð :koko:\nð¶ :signal_strength:                  ð¹ :u5272:                       ð´ :u5408:\nðº :u55b6:                            ð¯ï¸ :u6307:                      ð·ï¸ :u6708:\nð¶ :u6709:                            ðµ :u6e80:                       ðï¸ :u7121:\nð¸ :u7533:                            ð³ :u7a7a:                       ð² :u7981:\nðï¸ :sa:                              ð» :restroom:                    ð¹ :mens:\nðº :womens:                           ð¼ :baby_symbol:                 ð­ :no_smoking:\nð¿ï¸ :parking:                         â¿ï¸ :wheelchair:                  ð :metro:\nð :baggage_claim:                    ð :accept:                      ð¾ :wc:\nð° :potable_water:                    ð® :put_litter_in_its_place:     ãï¸ :secret:\nãï¸ :congratulations:                  âï¸ :m:                           ð :passport_control:\nð :left_luggage:                     ð :customs:                     ð :ideograph_advantage:\nð :cl:                               ð :sos:                         ð :id:\nð« :no_entry_sign:                    ð :underage:                    ðµ :no_mobile_phones:\nð¯ :do_not_litter:                    ð± :non-potable_water:           ð³ :no_bicycles:\nð· :no_pedestrians:                   ð¸ :children_crossing:           âï¸ :no_entry:\nâ³ï¸ :eight_spoked_asterisk:            â´ï¸ :eight_pointed_black_star:    ð :heart_decoration:\nð :vs:                               ð³ :vibration_mode:              ð´ :mobile_phone_off:\nð¹ :chart:                            ð± :currency_exchange:           âï¸ :aries:\nâï¸ :taurus:                           âï¸ :gemini:                      âï¸ :cancer:\nâï¸ :leo:                              âï¸ :virgo:                       âï¸ :libra:\nâï¸ :scorpius:                         âï¸ :sagittarius:                 âï¸ :capricorn:\nâï¸ :aquarius:                         âï¸ :pisces:                      â :ophiuchus:\nð¯ :six_pointed_star:                 â:negative_squared_cross_mark:   ð°ï¸ :a:\nð±ï¸ :b:                               ð :ab:                          ð¾ï¸ :o2:\nð :diamond_shape_with_a_dot_inside:   â»ï¸ :recycle:                     ð :end:\nð :on:                               ð :soon:                        ð :clock1:\nð :clock130:                         ð :clock10:                     ð¥ :clock1030:\nð :clock11:                          ð¦ :clock1130:                   ð :clock12:\nð§ :clock1230:                        ð :clock2:                      ð :clock230:\nð :clock3:                           ð :clock330:                    ð :clock4:\nð :clock430:                         ð :clock5:                      ð  :clock530:\nð :clock6:                           ð¡ :clock630:                    ð :clock7:\nð¢ :clock730:                         ð :clock8:                      ð£ :clock830:\nð :clock9:                           ð¤ :clock930:                    ð² :heavy_dollar_sign:\nÂ©ï¸ :copyright:                        Â®ï¸ :registered:                  â¢ï¸ :tm:\nâ :x:                                 âï¸ :heavy_exclamation_mark:      â¼ï¸ :bangbang:\nâï¸ :interrobang:                      â­ï¸ :o:                           âï¸ :heavy_multiplication_x:\nâ :heavy_plus_sign:                   â :heavy_minus_sign:             â :heavy_division_sign:\nð® :white_flower:                     ð¯ :100:                         âï¸ :heavy_check_mark:\nâï¸ :ballot_box_with_check:            ð :radio_button:                ð :link:\nâ° :curly_loop:                        ã°ï¸ :wavy_dash:                   ã½ï¸ :part_alternation_mark:\nâ :white_check_mark:                  ð² :black_square_button:         ð³ :white_square_button:\nâ«ï¸ :black_circle:                     âªï¸ :white_circle:                ð´ :red_circle:\nðµ :large_blue_circle:                ð· :large_blue_diamond:          ð¶ :large_orange_diamond:\nð¹ :small_blue_diamond:               ð¸ :small_orange_diamond:        ðº :small_red_triangle:\nð» :small_red_triangle_down:          ð± :trident:                     \n\n\n# åèé¾æ¥\n\n * https://www.kuangstudy.com/bbs/1363014604904587265\n * https://blog.csdn.net/u011583927/article/details/104094284",charsets:{cjk:!0},lastUpdated:"2021/08/03, 15:08:00",lastUpdatedTimestamp:1628003018e3},{title:"Git - å é¤æäº¤è®°å½",frontmatter:{title:"Git - å é¤æäº¤è®°å½",date:"2021-05-15T08:39:07.000Z",permalink:"/pages/81663b/"},regularPath:"/05.%E5%B7%A5%E5%85%B7%E9%83%A8%E7%BD%B2/01.Git/05.Git%E5%88%A0%E9%99%A4%E6%8F%90%E4%BA%A4%E8%AE%B0%E5%BD%95.html",relativePath:"05.å·¥å·é¨ç½²/01.Git/05.Gitå é¤æäº¤è®°å½.md",key:"v-b7c7369a",path:"/pages/81663b/",headers:[{level:2,title:"å é¤ææè®°å½",slug:"å é¤ææè®°å½",normalizedTitle:"å é¤ææè®°å½",charIndex:3},{level:2,title:"å é¤ä¸æ¬¡è®°å½",slug:"å é¤ä¸æ¬¡è®°å½",normalizedTitle:"å é¤ä¸æ¬¡è®°å½",charIndex:13},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:23}],headersStr:"å é¤ææè®°å½ å é¤ä¸æ¬¡è®°å½ åèèµæ",content:' * å é¤ææè®°å½\n * å é¤ä¸æ¬¡è®°å½\n * åèèµæ\n\n\n# å é¤ææè®°å½\n\nä¸å°å¿æå¯ç æå¶ä»ææä¿¡æ¯æäº¤å°gitï¼æ³æ¸ç©ºææcommitä¿¡æ¯è®°å½ï¼å°±åå½¢æä¸ä¸ªå¨æ°çä»åºï¼ä¸ä»£ç ä¸åã\n\n 1. åæ¢å°æ°çåæ¯\n    \n    git checkout --orphan latest_branch\n    \n    \n    1\n    \n\n 2. ç¼å­æææä»¶ï¼é¤äº.gitignoreä¸­å£°åæé¤çï¼\n    \n    git add -A\n    \n    \n    1\n    \n\n 3. æäº¤è·è¸ªè¿çæä»¶\n    \n    git commit -am "commit message"\n    \n    \n    1\n    \n\n 4. å é¤masteråæ¯\n    \n    git branch -D master\n    \n    \n    1\n    \n\n 5. éå½åå½ååæ¯ä¸ºmaster\n    \n    git branch -m master\n    \n    \n    1\n    \n\n 6. æäº¤å°è¿ç¨masteråæ¯\n    \n    git push -f origin master\n    \n    \n    1\n    \n\nä»¥ä¸æ¯å é¤æææäº¤è®°å½ï¼é£ä¹å¦ä½ä¿®æ¹åå®¹è¦çä¸æ¬¡è®°å½å¢ï¼\n\n\n# å é¤ä¸æ¬¡è®°å½\n\nå¦ä½ åªæ¯æ³ä¿®æ¹ä¸æ¬¡æäº¤çä»£ç ï¼åä¸æ¬¡æ´å®ç¾çcommitï¼å¯ä»¥è¿æ ·\n\nï¼1ï¼git reset commitIdï¼(æ³¨ï¼ä¸è¦å¸¦--hard)å°ä¸ä¸ªçæ¬\n\nï¼2ï¼git stashï¼æå­ä¿®æ¹\n\nï¼3ï¼git push --force, å¼ºå¶push,è¿ç¨çææ°çä¸æ¬¡commitè¢«å é¤\n\nï¼4ï¼git stash popï¼éæ¾æå­çä¿®æ¹ï¼å¼å§ä¿®æ¹ä»£ç \n\nï¼5ï¼git add . -> git commit -m "massage" -> git push\n\n\n# åèèµæ\n\n * https://my.oschina.net/18y/blog/3064211\n * https://segmentfault.com/q/1010000002898735',normalizedContent:' * å é¤ææè®°å½\n * å é¤ä¸æ¬¡è®°å½\n * åèèµæ\n\n\n# å é¤ææè®°å½\n\nä¸å°å¿æå¯ç æå¶ä»ææä¿¡æ¯æäº¤å°gitï¼æ³æ¸ç©ºææcommitä¿¡æ¯è®°å½ï¼å°±åå½¢æä¸ä¸ªå¨æ°çä»åºï¼ä¸ä»£ç ä¸åã\n\n 1. åæ¢å°æ°çåæ¯\n    \n    git checkout --orphan latest_branch\n    \n    \n    1\n    \n\n 2. ç¼å­æææä»¶ï¼é¤äº.gitignoreä¸­å£°åæé¤çï¼\n    \n    git add -a\n    \n    \n    1\n    \n\n 3. æäº¤è·è¸ªè¿çæä»¶\n    \n    git commit -am "commit message"\n    \n    \n    1\n    \n\n 4. å é¤masteråæ¯\n    \n    git branch -d master\n    \n    \n    1\n    \n\n 5. éå½åå½ååæ¯ä¸ºmaster\n    \n    git branch -m master\n    \n    \n    1\n    \n\n 6. æäº¤å°è¿ç¨masteråæ¯\n    \n    git push -f origin master\n    \n    \n    1\n    \n\nä»¥ä¸æ¯å é¤æææäº¤è®°å½ï¼é£ä¹å¦ä½ä¿®æ¹åå®¹è¦çä¸æ¬¡è®°å½å¢ï¼\n\n\n# å é¤ä¸æ¬¡è®°å½\n\nå¦ä½ åªæ¯æ³ä¿®æ¹ä¸æ¬¡æäº¤çä»£ç ï¼åä¸æ¬¡æ´å®ç¾çcommitï¼å¯ä»¥è¿æ ·\n\nï¼1ï¼git reset commitidï¼(æ³¨ï¼ä¸è¦å¸¦--hard)å°ä¸ä¸ªçæ¬\n\nï¼2ï¼git stashï¼æå­ä¿®æ¹\n\nï¼3ï¼git push --force, å¼ºå¶push,è¿ç¨çææ°çä¸æ¬¡commitè¢«å é¤\n\nï¼4ï¼git stash popï¼éæ¾æå­çä¿®æ¹ï¼å¼å§ä¿®æ¹ä»£ç \n\nï¼5ï¼git add . -> git commit -m "massage" -> git push\n\n\n# åèèµæ\n\n * https://my.oschina.net/18y/blog/3064211\n * https://segmentfault.com/q/1010000002898735',charsets:{cjk:!0},lastUpdated:"2021/08/03, 15:08:00",lastUpdatedTimestamp:1628003018e3},{title:"Git - DS_Store",frontmatter:{title:"Git - DS_Store",date:"2023-02-17T22:46:45.000Z",permalink:"/pages/0fc313/"},regularPath:"/05.%E5%B7%A5%E5%85%B7%E9%83%A8%E7%BD%B2/01.Git/06.DS_Store.html",relativePath:"05.å·¥å·é¨ç½²/01.Git/06.DS_Store.md",key:"v-636ce848",path:"/pages/0fc313/",headers:[{level:2,title:".DS_Store æ¯ä»ä¹",slug:"ds-store-æ¯ä»ä¹",normalizedTitle:".ds_store æ¯ä»ä¹",charIndex:3},{level:2,title:"å é¤ .DS_Store",slug:"å é¤-ds-store",normalizedTitle:"å é¤ .ds_store",charIndex:20}],headersStr:".DS_Store æ¯ä»ä¹ å é¤ .DS_Store",content:" * .DS_Store æ¯ä»ä¹\n * å é¤ .DS_Store\n\n\n\n\n# .DS_Store æ¯ä»ä¹\n\nä½¿ç¨ Mac çç¨æ·å¯è½ä¼æ³¨æå°ï¼ç³»ç»ç»å¸¸ä¼èªå¨å¨æ¯ä¸ªç®å½çæä¸ä¸ªéèç .DS_Store æä»¶ã.DS_Store(è±æå¨ç§° Desktop Services Store)æ¯ä¸ç§ç±è¹æå¬å¸çMac OS Xæä½ç³»ç»æåé çéèæä»¶ï¼ç®çå¨äºå­è´®ç®å½çèªå®ä¹å±æ§ï¼ä¾å¦æä»¶ä»¬çå¾æ ä½ç½®æèæ¯èæ¯è²çéæ©ãç¸å½äº Windows ä¸ç desktop.iniã\n\n\n# å é¤ .DS_Store\n\nå¦æä½ çé¡¹ç®ä¸­è¿æ²¡æèªå¨çæç .DS_Store æä»¶ï¼é£ä¹ç´æ¥å° .DS_Store å å¥å° .gitignore æä»¶å°±å¯ä»¥äºã\n\n.DS_Store \n*/.DS_Store\n\n\n1\n2\n\n\nå¦æä½ çé¡¹ç®ä¸­å·²ç»å­å¨ .DS_Store æä»¶ï¼é£å°±éè¦åä»é¡¹ç®ä¸­å°å¶å é¤ï¼åå°å®å å¥å° .gitignoreãå¦ä¸ï¼\n\n#å é¤é¡¹ç®ä¸­çææ.DS_Storeãè¿ä¼è·³è¿ä¸å¨é¡¹ç®ä¸­ç .DS_Store\nfind . -name .DS_Store -print0 | xargs -0 git rm -f --ignore-unmatch\n\n\n1\n2\n",normalizedContent:" * .ds_store æ¯ä»ä¹\n * å é¤ .ds_store\n\n\n\n\n# .ds_store æ¯ä»ä¹\n\nä½¿ç¨ mac çç¨æ·å¯è½ä¼æ³¨æå°ï¼ç³»ç»ç»å¸¸ä¼èªå¨å¨æ¯ä¸ªç®å½çæä¸ä¸ªéèç .ds_store æä»¶ã.ds_store(è±æå¨ç§° desktop services store)æ¯ä¸ç§ç±è¹æå¬å¸çmac os xæä½ç³»ç»æåé çéèæä»¶ï¼ç®çå¨äºå­è´®ç®å½çèªå®ä¹å±æ§ï¼ä¾å¦æä»¶ä»¬çå¾æ ä½ç½®æèæ¯èæ¯è²çéæ©ãç¸å½äº windows ä¸ç desktop.iniã\n\n\n# å é¤ .ds_store\n\nå¦æä½ çé¡¹ç®ä¸­è¿æ²¡æèªå¨çæç .ds_store æä»¶ï¼é£ä¹ç´æ¥å° .ds_store å å¥å° .gitignore æä»¶å°±å¯ä»¥äºã\n\n.ds_store \n*/.ds_store\n\n\n1\n2\n\n\nå¦æä½ çé¡¹ç®ä¸­å·²ç»å­å¨ .ds_store æä»¶ï¼é£å°±éè¦åä»é¡¹ç®ä¸­å°å¶å é¤ï¼åå°å®å å¥å° .gitignoreãå¦ä¸ï¼\n\n#å é¤é¡¹ç®ä¸­çææ.ds_storeãè¿ä¼è·³è¿ä¸å¨é¡¹ç®ä¸­ç .ds_store\nfind . -name .ds_store -print0 | xargs -0 git rm -f --ignore-unmatch\n\n\n1\n2\n",charsets:{cjk:!0},lastUpdated:"2023/02/17, 14:02:00",lastUpdatedTimestamp:1676645619e3},{title:"Docker - ç¥è¯ä½ç³»",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"05.å·¥å·é¨ç½²/10.Docker",imgUrl:"/img/web.png",description:"Dockerç®å½é¡µ"}},title:"Docker - ç¥è¯ä½ç³»",permalink:"/docker",article:!1,comment:!1,editLink:!1,date:"2021-08-02T13:57:27.000Z"},regularPath:"/05.%E5%B7%A5%E5%85%B7%E9%83%A8%E7%BD%B2/10.Docker/01.Docker.html",relativePath:"05.å·¥å·é¨ç½²/10.Docker/01.Docker.md",key:"v-36da3e34",path:"/docker/",headersStr:null,content:"bilibili æ Docker\n\nçç¥ï¼https://www.bilibili.com/video/BV1og4y1q7M4",normalizedContent:"bilibili æ docker\n\nçç¥ï¼https://www.bilibili.com/video/bv1og4y1q7m4",charsets:{cjk:!0},lastUpdated:"2023/06/02, 15:06:00",lastUpdatedTimestamp:16857188e5},{title:"Docker - å®è£",frontmatter:{title:"Docker - å®è£",date:"2021-06-02T23:33:02.000Z",permalink:"/pages/fc0548/"},regularPath:"/05.%E5%B7%A5%E5%85%B7%E9%83%A8%E7%BD%B2/10.Docker/04.Docker%20-%20%E5%AE%89%E8%A3%85.html",relativePath:"05.å·¥å·é¨ç½²/10.Docker/04.Docker - å®è£.md",key:"v-6461f3c1",path:"/pages/fc0548/",headers:[{level:2,title:"ç¯å¢è¯´æ",slug:"ç¯å¢è¯´æ",normalizedTitle:"ç¯å¢è¯´æ",charIndex:3},{level:2,title:"å®è£æ­¥éª¤",slug:"å®è£æ­¥éª¤",normalizedTitle:"å®è£æ­¥éª¤",charIndex:11},{level:2,title:"é¿éäºéåå é",slug:"é¿éäºéåå é",normalizedTitle:"é¿éäºéåå é",charIndex:19}],headersStr:"ç¯å¢è¯´æ å®è£æ­¥éª¤ é¿éäºéåå é",content:' * ç¯å¢è¯´æ\n * å®è£æ­¥éª¤\n * é¿éäºéåå é\n\n\n# ç¯å¢è¯´æ\n\næä»¬ä½¿ç¨çæ¯ CentOS 7 (64-bit)\n\nDocker è¿è¡å¨ CentOS 7 ä¸ï¼è¦æ±ç³»ç»ä¸º64ä½ãç³»ç»åæ ¸çæ¬ä¸º 3.10 ä»¥ä¸ã\n\næ¥çèªå·±çåæ ¸ï¼\n\nç¨äºæå°å½åç³»ç»ç¸å³ä¿¡æ¯ï¼åæ ¸çæ¬å·ãç¡¬ä»¶æ¶æãä¸»æºåç§°åæä½ç³»ç»ç±»å ç­ï¼ã\n\nuname -r\n\n\n1\n\n\næ¥ççæ¬ä¿¡æ¯ï¼\n\ncat /etc/os-release\n\n\n1\n\n\n\n# å®è£æ­¥éª¤\n\nå®ç½å®è£åèæåï¼https://docs.docker.com/engine/install/centos/\n\n 1. yumå®è£gccç¸å³ç¯å¢ï¼éè¦ç¡®ä¿èææºå¯ä»¥ä¸å¤ç½ ï¼\n    \n    yum -y install gcc\n    yum -y install gcc-c++\n    \n    \n    1\n    2\n    \n\n 2. å¸è½½æ§çæ¬\n    \n    sudo yum remove docker \\\n                      docker-client \\\n                      docker-client-latest \\\n                      docker-common \\\n                      docker-latest \\\n                      docker-latest-logrotate \\\n                      docker-logrotate \\\n                      docker-engine\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    \n\n 3. å®è£éè¦çè½¯ä»¶å\n    \n    sudo yum install -y yum-utils\n    \n    \n    1\n    \n\n 4. è®¾ç½®éåä»åº\n    \n    å®ç½ï¼å½å¤ï¼ï¼\n    \n    sudo yum-config-manager \\\n        --add-repo \\\n        https://download.docker.com/linux/centos/docker-ce.repo\n    \n    \n    1\n    2\n    3\n    \n    \n    é¿éäºï¼æ¨èï¼ï¼\n    \n    sudo yum-config-manager \\\n        --add-repo \\\n        http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo\n    \n    \n    1\n    2\n    3\n    \n\n 5. æ´æ°yumè½¯ä»¶åç´¢å¼\n    \n    yum makecache fast\n    \n    \n    1\n    \n\n 6. å®è£ Docker CE\n    \n    yum install docker-ce docker-ce-cli containerd.io\n    \n    \n    1\n    \n\n 7. å¯å¨ Docker\n    \n    systemctl start docker\n    \n    \n    1\n    \n    \n    è³æ­¤ï¼å·²ç»å®è£å®\n\nå¸¸ç¨å½ä»¤ï¼\n\n# å¯å¨docker\nsystemctl start docker\n# åæ­¢dokcer\nsystemctl stop docker\n# æ¥çdockerç¶æ\nsystemctl status docker \n# éå¯docker\nsystemctl restart docker\n# è®¾ç½®docker å¼æºèªå¯\nsystemctl enable docker\n# è®¾ç½®docker å¼æºä¸èªå¯\nsystemctl disable docker\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n * æ¥ççæ¬\n   \n   docker version\n   \n   \n   1\n   \n\n * æ¥çå®è£çéå\n   \n   docker images\n   \n   \n   1\n   \n\n * æµè¯è¿è¡hello\n   \n   docker run hello-world\n   \n   \n   1\n   \n\nå¸è½½docker\n\nsystemctl stop docker\nyum -y remove docker-ce docker-ce-cli containerd.io\nrm -rf /var/lib/docker\n\n\n1\n2\n3\n\n\n\n# é¿éäºéåå é\n\nä»ç»ï¼https://www.aliyun.com/product/acr\n\næ¥çèªå·±çéåå éå¨å¹¶éç½®\n\nsudo mkdir -p /etc/docker\nsudo tee /etc/docker/daemon.json <<-\'EOF\'\n{\n  "registry-mirrors": ["https://cbl6xdl3.mirror.aliyuncs.com"]\n}\nEOF\nsudo systemctl daemon-reload\nsudo systemctl restart docker\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\næ¨å¯ä»¥éè¿ä¿®æ¹daemonéç½®æä»¶/etc/docker/daemon.jsonæ¥ä½¿ç¨å éå¨\n\n\n\n> æµè¯ HelloWorld\n\nå¯å¨hello-world\n\ndocker run hello-world\n\n\n1\n\n\nrunå¹²äºä»ä¹ï¼\n\n',normalizedContent:' * ç¯å¢è¯´æ\n * å®è£æ­¥éª¤\n * é¿éäºéåå é\n\n\n# ç¯å¢è¯´æ\n\næä»¬ä½¿ç¨çæ¯ centos 7 (64-bit)\n\ndocker è¿è¡å¨ centos 7 ä¸ï¼è¦æ±ç³»ç»ä¸º64ä½ãç³»ç»åæ ¸çæ¬ä¸º 3.10 ä»¥ä¸ã\n\næ¥çèªå·±çåæ ¸ï¼\n\nç¨äºæå°å½åç³»ç»ç¸å³ä¿¡æ¯ï¼åæ ¸çæ¬å·ãç¡¬ä»¶æ¶æãä¸»æºåç§°åæä½ç³»ç»ç±»å ç­ï¼ã\n\nuname -r\n\n\n1\n\n\næ¥ççæ¬ä¿¡æ¯ï¼\n\ncat /etc/os-release\n\n\n1\n\n\n\n# å®è£æ­¥éª¤\n\nå®ç½å®è£åèæåï¼https://docs.docker.com/engine/install/centos/\n\n 1. yumå®è£gccç¸å³ç¯å¢ï¼éè¦ç¡®ä¿èææºå¯ä»¥ä¸å¤ç½ ï¼\n    \n    yum -y install gcc\n    yum -y install gcc-c++\n    \n    \n    1\n    2\n    \n\n 2. å¸è½½æ§çæ¬\n    \n    sudo yum remove docker \\\n                      docker-client \\\n                      docker-client-latest \\\n                      docker-common \\\n                      docker-latest \\\n                      docker-latest-logrotate \\\n                      docker-logrotate \\\n                      docker-engine\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    \n\n 3. å®è£éè¦çè½¯ä»¶å\n    \n    sudo yum install -y yum-utils\n    \n    \n    1\n    \n\n 4. è®¾ç½®éåä»åº\n    \n    å®ç½ï¼å½å¤ï¼ï¼\n    \n    sudo yum-config-manager \\\n        --add-repo \\\n        https://download.docker.com/linux/centos/docker-ce.repo\n    \n    \n    1\n    2\n    3\n    \n    \n    é¿éäºï¼æ¨èï¼ï¼\n    \n    sudo yum-config-manager \\\n        --add-repo \\\n        http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo\n    \n    \n    1\n    2\n    3\n    \n\n 5. æ´æ°yumè½¯ä»¶åç´¢å¼\n    \n    yum makecache fast\n    \n    \n    1\n    \n\n 6. å®è£ docker ce\n    \n    yum install docker-ce docker-ce-cli containerd.io\n    \n    \n    1\n    \n\n 7. å¯å¨ docker\n    \n    systemctl start docker\n    \n    \n    1\n    \n    \n    è³æ­¤ï¼å·²ç»å®è£å®\n\nå¸¸ç¨å½ä»¤ï¼\n\n# å¯å¨docker\nsystemctl start docker\n# åæ­¢dokcer\nsystemctl stop docker\n# æ¥çdockerç¶æ\nsystemctl status docker \n# éå¯docker\nsystemctl restart docker\n# è®¾ç½®docker å¼æºèªå¯\nsystemctl enable docker\n# è®¾ç½®docker å¼æºä¸èªå¯\nsystemctl disable docker\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n * æ¥ççæ¬\n   \n   docker version\n   \n   \n   1\n   \n\n * æ¥çå®è£çéå\n   \n   docker images\n   \n   \n   1\n   \n\n * æµè¯è¿è¡hello\n   \n   docker run hello-world\n   \n   \n   1\n   \n\nå¸è½½docker\n\nsystemctl stop docker\nyum -y remove docker-ce docker-ce-cli containerd.io\nrm -rf /var/lib/docker\n\n\n1\n2\n3\n\n\n\n# é¿éäºéåå é\n\nä»ç»ï¼https://www.aliyun.com/product/acr\n\næ¥çèªå·±çéåå éå¨å¹¶éç½®\n\nsudo mkdir -p /etc/docker\nsudo tee /etc/docker/daemon.json <<-\'eof\'\n{\n  "registry-mirrors": ["https://cbl6xdl3.mirror.aliyuncs.com"]\n}\neof\nsudo systemctl daemon-reload\nsudo systemctl restart docker\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\næ¨å¯ä»¥éè¿ä¿®æ¹daemonéç½®æä»¶/etc/docker/daemon.jsonæ¥ä½¿ç¨å éå¨\n\n\n\n> æµè¯ helloworld\n\nå¯å¨hello-world\n\ndocker run hello-world\n\n\n1\n\n\nrunå¹²äºä»ä¹ï¼\n\n',charsets:{cjk:!0},lastUpdated:"2023/12/24, 7:12:00",lastUpdatedTimestamp:1703403105e3},{title:"Docker - æ¦è¿°",frontmatter:{title:"Docker - æ¦è¿°",date:"2021-05-28T23:41:35.000Z",permalink:"/pages/09f2eb/"},regularPath:"/05.%E5%B7%A5%E5%85%B7%E9%83%A8%E7%BD%B2/10.Docker/02.Docker%20-%20%E6%A6%82%E8%BF%B0.html",relativePath:"05.å·¥å·é¨ç½²/10.Docker/02.Docker - æ¦è¿°.md",key:"v-87e4ba86",path:"/pages/09f2eb/",headers:[{level:2,title:"å­¦ä¹ èµæº",slug:"å­¦ä¹ èµæº",normalizedTitle:"å­¦ä¹ èµæº",charIndex:9},{level:2,title:"åå²",slug:"åå²",normalizedTitle:"åå²",charIndex:17},{level:2,title:"ä»ä¹æ¯èæåææ¯",slug:"ä»ä¹æ¯èæåææ¯",normalizedTitle:"ä»ä¹æ¯èæåææ¯",charIndex:23},{level:3,title:"ä»ä¹æ¯èæå",slug:"ä»ä¹æ¯èæå",normalizedTitle:"ä»ä¹æ¯èæå",charIndex:23},{level:3,title:"èæåææ¯åç±»",slug:"èæåææ¯åç±»",normalizedTitle:"èæåææ¯åç±»",charIndex:49},{level:4,title:"ç¡¬ä»¶èæå",slug:"ç¡¬ä»¶èæå",normalizedTitle:"ç¡¬ä»¶èæå",charIndex:64},{level:4,title:"è½¯ä»¶èæå",slug:"è½¯ä»¶èæå",normalizedTitle:"è½¯ä»¶èæå",charIndex:77},{level:3,title:"å ç§èæåææ¯",slug:"å ç§èæåææ¯",normalizedTitle:"å ç§èæåææ¯",charIndex:88},{level:2,title:"Dockerèæå",slug:"dockerèæå",normalizedTitle:"dockerèæå",charIndex:99},{level:3,title:"ä»ä¹æ¯Dockerï¼",slug:"ä»ä¹æ¯docker",normalizedTitle:"ä»ä¹æ¯dockerï¼",charIndex:114},{level:3,title:"Dockerè½å¹²ä»ä¹ï¼",slug:"dockerè½å¹²ä»ä¹",normalizedTitle:"dockerè½å¹²ä»ä¹ï¼",charIndex:130},{level:3,title:"Dockerçåºæ¬ç»æ",slug:"dockerçåºæ¬ç»æ",normalizedTitle:"dockerçåºæ¬ç»æ",charIndex:147},{level:2,title:"Dockeråèææºçåºå«ï¼",slug:"dockeråèææºçåºå«",normalizedTitle:"dockeråèææºçåºå«ï¼",charIndex:162},{level:3,title:"åºæ¬å¯¹æ¯",slug:"åºæ¬å¯¹æ¯",normalizedTitle:"åºæ¬å¯¹æ¯",charIndex:182},{level:3,title:"èæææ¯å¯¹æ¯",slug:"èæææ¯å¯¹æ¯",normalizedTitle:"èæææ¯å¯¹æ¯",charIndex:192},{level:2,title:"åèæç« ",slug:"åèæç« ",normalizedTitle:"åèæç« ",charIndex:202}],headersStr:"å­¦ä¹ èµæº åå² ä»ä¹æ¯èæåææ¯ ä»ä¹æ¯èæå èæåææ¯åç±» ç¡¬ä»¶èæå è½¯ä»¶èæå å ç§èæåææ¯ Dockerèæå ä»ä¹æ¯Dockerï¼ Dockerè½å¹²ä»ä¹ï¼ Dockerçåºæ¬ç»æ Dockeråèææºçåºå«ï¼ åºæ¬å¯¹æ¯ èæææ¯å¯¹æ¯ åèæç« ",content:'# æ¦è¿°\n\n * å­¦ä¹ èµæº\n * åå²\n * ä»ä¹æ¯èæåææ¯\n   * ä»ä¹æ¯èæå\n   * èæåææ¯åç±»\n     * ç¡¬ä»¶èæå\n     * è½¯ä»¶èæå\n   * å ç§èæåææ¯\n * Dockerèæå\n   * ä»ä¹æ¯Dockerï¼\n   * Dockerè½å¹²ä»ä¹ï¼\n   * Dockerçåºæ¬ç»æ\n * Dockeråèææºçåºå«ï¼\n   * åºæ¬å¯¹æ¯\n   * èæææ¯å¯¹æ¯\n * åèæç« \n\n\n# å­¦ä¹ èµæº\n\næå¥½çèµæºå¨å®ç½!\n\nDockerå®æ¹ï¼\n\n * Docker å®æ¹ä¸»é¡µ: https://www.docker.com\n\n * Docker å®æ¹åå®¢: https://blog.docker.com\n\n * Docker å®æ¹ææ¡£: https://docs.docker.com\n\n * Docker Store: https://store.docker.com\n\n * Docker Cloud: https://cloud.docker.com\n\n * Docker Hub: https://hub.docker.com\n\nè§é¢æç¨ï¼\n\n * bilibili æ Docker\n   \n   çç¥ï¼https://www.bilibili.com/video/BV1og4y1q7M4\n\n\n# åå²\n\n2010å¹´ï¼å ä¸ªæITçå¹´è½»äººï¼å¨ç¾å½æ§éå±±æç«äºä¸å®¶åå«âdotCloudâçå¬å¸ã\n\nè¿å®¶å¬å¸ä¸»è¦æä¾åºäºPaaSçäºè®¡ç®ææ¯æå¡ãå·ä½æ¥è¯´ï¼æ¯åLXCæå³çå®¹å¨ææ¯ã\n\nåæ¥ï¼dotCloudå¬å¸å°èªå·±çå®¹å¨ææ¯è¿è¡äºç®ååæ ååï¼å¹¶å½åä¸ºââDockerã\n\nDockerææ¯è¯çä¹åï¼å¹¶æ²¡æå¼èµ·è¡ä¸çå³æ³¨ãèdotCloudå¬å¸ï¼ä½ä¸ºä¸å®¶å°ååä¸ä¼ä¸ï¼å¨æ¿ççç«äºä¹ä¸ï¼ä¹æ­¥å±¥ç»´è°ã\n\næ­£å½ä»ä»¬å¿«è¦åæä¸ä¸å»çæ¶åï¼èå­éè¹¦åºäºâå¼æºâçæ³æ³ã\n\nä»ä¹æ¯âå¼æºâï¼å¼æºï¼å°±æ¯å¼æ¾æºä»£ç ãä¹å°±æ¯å°åæ¥åé¨ä¿å¯çç¨åºæºä»£ç å¼æ¾ç»ææäººï¼ç¶åè®©å¤§å®¶ä¸èµ·åä¸è¿æ¥ï¼è´¡ç®ä»£ç åæè§ã\n\næçè½¯ä»¶æ¯ä¸å¼å§å°±å¼æºçãä¹æçè½¯ä»¶ï¼æ¯æ··ä¸ä¸å»ï¼åé èåä¸æ³æ¾å¼ï¼æä»¥éæ©å¼æºãèªå·±å»ä¸æ´»ï¼å°±åâç¾å®¶é¥­âåã\n\n2013å¹´3æï¼dotCloudå¬å¸çåå§äººä¹ä¸ï¼Dockerä¹ç¶ï¼28å²çSolomonâHykesæ­£å¼å³å®ï¼å°Dockeré¡¹ç®å¼æºã ä¸å¼åå·²ï¼ä¸å¼æäººã\n\nè¶æ¥è¶å¤çITå·¥ç¨å¸åç°äºDockerçä¼ç¹ï¼ç¶åèæ¥èè³ï¼å å¥Dockerå¼æºç¤¾åºã\n\nDockerçäººæ°è¿éæåï¼éåº¦ä¹å¿«ï¼ä»¤äººç ç®ç»èã\n\nå¼æºå½æï¼Docker 0.1 çæ¬åå¸ãæ­¤åçæ¯ä¸ä¸ªæï¼Dockeré½ä¼åå¸ä¸ä¸ªçæ¬ãå°2014å¹´6æ9æ¥ï¼Docker 1.0 çæ¬æ­£å¼åå¸ã\n\næ­¤æ¶çDockerï¼å·²ç»æä¸ºè¡ä¸éäººæ°æç«ççå¼æºææ¯ï¼æ²¡æä¹ä¸ãçè³åGoogleãå¾®è½¯ãAmazonãVMwareè¿æ ·çå·¨å¤´ï¼é½å¯¹å®éçæå ï¼è¡¨ç¤ºå°å¨åæ¯æã\n\nDockeråå®¹å¨ææ¯ä¸ºä»ä¹ä¼è¿ä¹ç«çï¼è¯´ç½äºï¼å°±æ¯å ä¸ºå®âè½»âã\n\nå¨å®¹å¨ææ¯ä¹åï¼ä¸ççç½çº¢æ¯èææºãèææºææ¯çä»£è¡¨ï¼æ¯VMWareåOpenStackã\n\nç¸ä¿¡å¾å¤äººé½ç¨è¿èææºãèææºï¼å°±æ¯å¨ä½ çæä½ç³»ç»éé¢ï¼è£ä¸ä¸ªè½¯ä»¶ï¼ç¶åéè¿è¿ä¸ªè½¯ä»¶ï¼åæ¨¡æä¸å°çè³å¤å°âå­çµèâåºæ¥ã\n\nå¨âå­çµèâéï¼ä½ å¯ä»¥åæ­£å¸¸çµèä¸æ ·è¿è¡ç¨åºï¼ä¾å¦å¼QQãå¦æä½ æ¿æï¼ä½ å¯ä»¥ååºå¥½å ä¸ªâå­çµèâï¼éé¢é½å¼ä¸QQãâå­çµèâåâå­çµèâä¹é´ï¼æ¯ç¸äºéç¦»çï¼äºä¸å½±åã\n\nèææºå±äºèæåææ¯ãèDockerè¿æ ·çå®¹å¨ææ¯ï¼ä¹æ¯èæåææ¯ï¼å±äºè½»éçº§çèæåã\n\nèææºè½ç¶å¯ä»¥éç¦»åºå¾å¤âå­çµèâï¼ä½å ç¨ç©ºé´æ´å¤§ï¼å¯å¨æ´æ¢ï¼èææºè½¯ä»¶å¯è½è¿è¦è±é±ï¼ä¾å¦VMWareï¼ã\n\nèå®¹å¨ææ¯æ°å¥½æ²¡æè¿äºç¼ºç¹ãå®ä¸éè¦èæåºæ´ä¸ªæä½ç³»ç»ï¼åªéè¦èæä¸ä¸ªå°è§æ¨¡çç¯å¢ï¼ç±»ä¼¼âæ²ç®±âï¼ã\n\nå®å¯å¨æ¶é´å¾å¿«ï¼å ç§éå°±è½å®æãèä¸ï¼å®å¯¹èµæºçå©ç¨çå¾é«ï¼ä¸å°ä¸»æºå¯ä»¥åæ¶è¿è¡å åä¸ªDockerå®¹å¨ï¼ãæ­¤å¤ï¼å®å çç©ºé´å¾å°ï¼èææºä¸è¬è¦å GBå°å åGBçç©ºé´ï¼èå®¹å¨åªéè¦MBçº§çè³KBçº§ã\n\næ­£å ä¸ºå¦æ­¤ï¼å®¹å¨ææ¯åå°äºç­ççæ¬¢è¿åè¿½æ§ï¼åå±è¿éã\n\n> docker çå¿µ\n\nDockeræ¯åºäºGoè¯­è¨å®ç°çäºå¼æºé¡¹ç®ã\n\nDockerçä¸»è¦ç®æ æ¯âBuildï¼Ship and Run Any App , Anywhereâï¼ä¹å°±æ¯éè¿å¯¹åºç¨ç»ä»¶çå°è£ãå åãé¨ç½²ãè¿è¡ç­çå½å¨æçç®¡çï¼ä½¿ç¨æ·çAPPï¼å¯ä»¥æ¯ä¸ä¸ªWEBåºç¨ææ°æ®åºåºç¨ç­ç­ï¼åå¶è¿è¡ç¯å¢è½å¤åå°âä¸æ¬¡å°è£ï¼å°å¤è¿è¡âã\n\nLinux å®¹å¨ææ¯çåºç°å°±è§£å³äºè¿æ ·ä¸ä¸ªé®é¢ï¼è Docker å°±æ¯å¨å®çåºç¡ä¸åå±è¿æ¥çãå°åºç¨è¿è¡å¨ Docker å®¹å¨ä¸é¢ï¼è Docker å®¹å¨å¨ä»»ä½æä½ç³»ç»ä¸é½æ¯ä¸è´çï¼è¿å°±å®ç°äºè·¨å¹³å°ãè·¨æå¡å¨ãåªé è¦ä¸æ¬¡éç½®å¥½ç¯å¢ï¼æ¢å°å«çæºå­ä¸å°±å¯ä»¥ä¸é®é¨ç½²å¥½ï¼å¤§å¤§ç®åäºæä½ã\n\n\n# ä»ä¹æ¯èæåææ¯\n\n\n# ä»ä¹æ¯èæå\n\nå¨è®¡ç®æºææ¯ä¸­ï¼èæåï¼Virtualizationï¼æ¯ä¸ç§èµæºç®¡çææ¯ãå®æ¯å°è®¡ç®æºçåç§å®ä½èµæºï¼å¦ï¼æå¡å¨ãç½ç»ãåå­åå­å¨ç­ï¼äºä»¥æ½è±¡ãè½¬æ¢ååç°åºæ¥ï¼æç ´å®ä½ç»æé´çä¸å¯åå²çéç¢ï¼ä½¿ç¨æ·å¯ä»¥ç¨æ´å¥½çæ¹å¼æ¥å©ç¨è¿äºèµæºã\n\nèæåçç®çæ¯ä¸ºäºå¨åä¸ä¸ªä¸»æºä¸è¿è¡å¤ä¸ªç³»ç»æåºç¨ï¼ä»èæé«ç³»ç»èµæºçå©ç¨çï¼å¹¶å¸¦æ¥éä½ææ¬ãæ¹ä¾¿ç®¡çåå®¹éå®¹ç¾ç­å¥½å¤ã\n\n\n# èæåææ¯åç±»\n\nä»å®ç°å½¢å¼æ¥åï¼èæåææ¯å¯åä¸ºåºäºç¡¬ä»¶çèæåååºäºè½¯ä»¶çèæåã\n\n# ç¡¬ä»¶èæå\n\nç¡¬ä»¶èæåå°±æ¯ç¡¬ä»¶ç©çå¹³å°æ¬èº«æä¾äºå¯¹ç¹æ®æä»¤çæªè·åéå®åçæ¯æãæ¯æèæåçç¡¬ä»¶ï¼ä¹æ¯ä¸äºåºäºç¡¬ä»¶å®ç°è½¯ä»¶èæåææ¯çå³é®ãå¨åºäºç¡¬ä»¶å®ç°è½¯ä»¶èæåçææ¯ä¸­ï¼å¨ç¡¬ä»¶æ¯å®ç°èæåçåºç¡ï¼ç¡¬ä»¶(ä¸»è¦æ¯CPU)ä¼ä¸ºèæåè½¯ä»¶æä¾æ¯æï¼ä»èå®ç°ç¡¬ä»¶èµæºçèæåã\n\næ¯æèæåçç¡¬ä»¶æï¼\n\n * Intel-VT-(Intel Virtualization Technology)ï¼Intelå¬å¸ä¸ºè§£å³çº¯è½¯ä»¶èæåè§£å³æ¹æ¡å¨å¯é æ§ãå®å¨æ§åæ§è½ä¸çä¸è¶³èå¼è¿çææ¯ãå®å¯ä»¥è®©ä¸ä¸ªCPUå·¥ä½èµ·æ¥åå¤ä¸ªCPUå¨å¹¶è¡è¿è¡ï¼ä»èä½¿å¾å¨ä¸é¨çµèååæ¶è¿è¡å¤ä¸ªæä½ç³»ç»æä¸ºå¯è½\n * AMD-V-(AMD Virtualization)ï¼æ¯AMDå¬å¸çèæåææ¯ãå®æ¯å¯¹x86å¤çå¨ç³»ç»æ¶æçä¸ç»ç¡¬ä»¶æ©å±åç¡¬ä»¶è¾å©èæåææ¯ï¼å¯ä»¥ç®åçº¯è½¯ä»¶çèæåè§£å³æ¹æ¡ï¼æ¹è¿VMMï¼èææºçè§å¨ï¼çè®¾è®¡ï¼æ´ååå°å©ç¨ç¡¬ä»¶èµæºï¼æé«æå¡å¨åæ°æ®ä¸­å¿çèæåæç\n\n# è½¯ä»¶èæå\n\nè½¯ä»¶èæåå°±æ¯å©ç¨è½¯ä»¶ææ¯ï¼å¨ç°æçç©çå¹³å°ä¸å®ç°å¯¹ç©çå¹³å°è®¿é®çæªè·åæ¨¡æãå¨è½¯ä»¶èæåææ¯ä¸­ï¼æäºææ¯ä¸éè¦ç¡¬ä»¶æ¯æï¼å¦ï¼QEMUï¼èæäºè½¯ä»¶èæåææ¯ï¼åä¾èµç¡¬ä»¶æ¯æï¼å¦ï¼VMwareãKVMã\n\nå¯¹è½¯ä»¶èæåè¿è¡ç»åï¼åå¯ä»¥åä¸ºä»¥ä¸å ç±»ï¼\n\n * å®å¨èæåï¼ï¼Full Virtualizationï¼èææºæ¨¡æå®æ´çåºå±ç¡¬ä»¶ç¯å¢åç¹ææä»¤çæ§è¡è¿ç¨ï¼ä½¿å®¢æ·æºæä½ç³»ç»å¯ä»¥ç¬ç«è¿è¡ãæ¯æå®å¨èæåçè½¯ä»¶æï¼Parallels WorkstationãVirtualBoxãVirtual IronãOracle VMãVirtual PCãVirtual ServerãHyper-VãVMware WorkstationãQEMUç­\n * ç¡¬ä»¶è¾å©èæåï¼ï¼Hardware-assisted Virtualizationï¼æ¯æéè¿ç¡¬ä»¶è¾å©æ¯ææ¨¡æè¿è¡ç¯å¢ï¼ä½¿å®¢æ·æºæä½ç³»ç»å¯ä»¥ç¬ç«è¿è¡ï¼å®ç°å®å¨èæåçåè½ãæ¯æç¡¬ä»¶è¾å©èæåçè½¯ä»¶æï¼Linux KVMãVMware WorkstationãVMware FusionãVirtual PCãXenãVirtualBoxãParallels Workstationç­\n * é¨åèæåï¼ï¼Partial Virtualizationï¼åªéå¯¹é¨åç¡¬ä»¶èµæºè¿è¡èæåï¼èææºæ¨¡æé¨ååºå±ç¡¬ä»¶ç¯å¢ï¼ç¹å«æ¯å°åç©ºé´ãè¿æ ·çç¯å¢æ¯æèµæºå±äº«åçº¿ç¨ç¬ç«ï¼ä½æ¯ä¸åè®¸å»ºç«ç¬ç«çå®¢æ·æºæä½ç³»ç»ã\n * å¹³è¡èæåï¼ï¼Para-Virtualizationï¼èææºä¸éè¦æ¨¡æç¡¬ä»¶ï¼èæ¯å°é¨åç¡¬ä»¶æ¥å£ä»¥è½¯ä»¶çå½¢å¼æä¾ç»å®¢æ·æºæä½ç³»ç»ãå¦ï¼æ©æçXenã\n * æä½ç³»ç»å±èæåï¼ï¼OS-level virtualizationï¼è¿ç§ææ¯å°æä½ç³»ç»åæ ¸èæåï¼å¯ä»¥åè®¸ä½¿ç¨èç©ºé´è½¯ä»¶å®ä¾è¢«åå²æå ä¸ªç¬ç«çååï¼å¨åæ ¸ä¸­è¿è¡ï¼èä¸æ¯åªæä¸ä¸ªåä¸å®ä¾è¿è¡ãè¿ä¸ªè½¯ä»¶å®ä¾ï¼ä¹è¢«ç§°ä¸ºæ¯ä¸ä¸ªå®¹å¨ï¼containersï¼ãèæå¼æï¼Virtualization engineï¼ãèæä¸ç¨æå¡å¨ï¼virtual private serversï¼ãæ¯ä¸ªå®¹å¨çè¿ç¨æ¯ç¬ç«çï¼å¯¹äºä½¿ç¨èæ¥è¯´ï¼å°±åæ¯å¨ä½¿ç¨èªå·±çä¸ç¨æå¡å¨ã Dockerå®¹å¨ææ¯å°±æ¯å±äºæä½ç³»ç»å±èæåçèç´ã\n\n\n# å ç§èæåææ¯\n\nèæåæ¯éè¿è½¯ä»¶çæ¹å¼æ¨¡æå®ä½æå¡å¨ï¼å¶åè¡·æ¯ä¸ºäºè§£å³âä¸ç§åºç¨å ç¨ä¸å°æå¡å¨âæ¨¡å¼æå¸¦æ¥çæå¡å¨æ°éå§å¢çé®é¢ï¼ä»èéä½æ°æ®ä¸­å¿å¤æåº¦ï¼ç®åç®¡çé¾åº¦ãå¨èæåçåå±è¿ç¨ä¸­ï¼åºç°è¿ä»¥ä¸ä¸»è¦èæåææ¯æäº§åï¼\n\n * Xen - ç±åæ¡¥å¤§å­¦å¼åçï¼ä¸æ¬¾å¼æºçèææºçè§å¨ãéç¨ICAåè®®ï¼å®éè¿ä¸ç§å«ååèæåçææ¯æ¥è·åé«æ§è½ï¼çè³å¨ä¸äºä¸ä¼ ç»èæææ¯æåº¦ä¸åå¥½çæ¶æä¸ï¼å¦ï¼x86ï¼ï¼Xenä¹ææä½³çè¡¨ç°ãXenå±äºåèæåçææ¯ï¼æä»¥å¶æ§è½æå¤±éå¸¸å°ãXenæ²¡ææä»¤ç¿»è¯ï¼å¶æèä½¿ç¨ä½¿è½çè§£åç¿»è¯èææä½ç³»ç»ååºçæªä¿®æ¹æä»¤çCPUï¼å³ï¼å®å¨èæåï¼ï¼æèä¿®æ¹æä½ç³»ç»ï¼ä½¿å®ååºçæä»¤æä¼åï¼ä¾¿äºå¨èæåç¯å¢ä¸­æ§è¡ï¼å³ï¼åèæåï¼ã\n * KVM - KVMæ¯ä¸ä¸ªLinux kernelæ¨¡åï¼å¯ä»¥ä½¿ç¨modprobeæ¥å è½½KVMï¼å è½½åè¿éè¦éè¿å¶ä»å·¥å·åå»ºèææºãKVMæ¯ä¸ä¸ªå¨èæåçè§£å³æ¹æ¡ï¼ä½éè¦CPUæ¯æèæååè½ãç¸æ¯Xenæ¥è¯´ï¼KVMå¯ä»¥æ´å æ¹ä¾¿çæ´åè¿Linuxåæ ¸ï¼ä½å®è¿éè¦å¶å®èæåè½¯ä»¶ï¼å¦ï¼QEMUï¼æè½å®ç°èæååè½ã\n * LXC - å³ï¼Linux Containerï¼Linuxå®¹å¨ï¼æ¯ä¸ç§è½»éçº§çèæåçææ®µãå®å¯ä»¥æä¾è½»éçº§çèæåï¼ä»¥éç¦»è¿ç¨åèµæºï¼èä¸ä¸éè¦æä¾æä»¤è§£éæºå¶ä»¥åå¨èæåçå¶ä»å¤ææ§ãå®¹å¨ä¼ææå°å°ç±åä¸ªæä½ç³»ç»ç®¡ççèµæºååå°å­¤ç«çç»ä¸­ï¼ä»¥æ´å¥½å°å¨å­¤ç«çç»ä¹é´å¹³è¡¡æå²çªçèµæºä½¿ç¨éæ±ã\n * OpenVZ - æ¯SWsoftå¬å¸å¼åçå¼æºè½¯ä»¶ï¼æ¯è¯¥å¬å¸Virtuozzoè½¯ä»¶çåºç¡äº§åï¼æ¯åºäºLinuxå¹³å°çæä½ç³»ç»çº§æå¡å¨èæåè§£å³æ¹æ¡ãéè¿OpenVZï¼å¯ä»¥å¨åä¸ªç©çæå¡å¨ä¸åå»ºå¤ä¸ªç¸äºéç¦»çèæä¸ç¨æå¡å¨(VPS)å¹¶ä»¥æå¤§çæçå±äº«ç¡¬ä»¶åç®¡çèµæºãå¶ä¸è¿è¡èææå¡å¨è¢«ç§°ä¸ºVPSï¼Virtual Private Serveï¼ï¼æ¯ä¸ªVPSçè¿è¡ç¯å¢åç¬ç«æå¡å¨å®å¨ä¸è´ãOpenVZåºäºLinuxç³»ç»åæ ¸åä½ä¸ç³»ç»æä¾æä½ç³»ç»çº§èæåï¼å¨èæåè¿ç¨ä¸­èµæºæ¶èéå¸¸å°ï¼å®æ¹å®£ç§°çº¦1-2%ã\n * Hyper-V - æ¯å¾®è½¯ä»¶æ¨åºçä¸ç§èæåææ¯ï¼å¯ä»¥éç¨åèæåæå¨èæçæ¹å¼åå»ºèææºãè½ç¶å®å¯ä»¥åå»ºWindowsæLinuxæä½ç³»ç»ï¼ä½å¶æ¬èº«åªè½è¿è¡å¨Windowsç³»ç»ä¸ï¼ä½¿ç¨èå´è¾ä¸ºæéã\n * Oracle VM - Oracleæ¨åºçæå¡å¨èæåè½¯ä»¶ï¼åºäºå¼æºçXenææ¯ï¼åæ¬Oracle VM ServeråOracle VM Managerä¸¤é¨åã\n * VMWare - æ¯ä¸å®¶éå¸¸åºåèæåè½¯ä»¶å¬å¸ï¼å¶äº§åæ¶µçæå¡å¨ãæ¡é¢ç­åç§èæåé¢åï¼å¦ï¼VMware Workstation - æ¯ä¸æ¬¾æ¡é¢èææºè½¯ä»¶ï¼å¯ä»¥å¨ä¸å°å®ä½æºå¨ä¸æ¨¡æå®æ´çç½ç»ç¯å¢ï¼å¹¶å¯è¿è¡å¤ä¸ªWindowsãDOSãLinuxæMacç³»ç»ï¼æ¯éå¸¸å¥½çå¼åãæµè¯ãé¨ç½²è§£å³æ¹æ¡ãä»ææ¯è§åº¦æ¥è¯´ï¼VMware Workstationæ¯ä¸æ¬¾å®å¨èæåäº§åï¼å¯åå©ç¡¬ä»¶è¾å©å¨ä¸ä¿®æ¹ç¨æ·æä½ç³»ç»çæåµä¸å®æ´èæåæä½ç³»ç»ã\n * VMware ESX Server - æ¯ä¸æ¬¾éç¨äºä»»ä½ç³»ç»ç¯å¢çä¼ä¸çº§çèææºè½¯ä»¶ï¼å¯ä»¥è®¤ä¸ºæ¯VMware Serverçåçº§çãç¸æ¯VMware Workstationæ¥è¯´ï¼å¶åè½æ´å å¼ºå¤§ï¼å¯ä»¥ç¨äºæå»ºé«ä¼¸ç¼©åé«å¯é ä¼ä¸çº§æå¡å¨ï¼å¹¶å¯å®ç°è¿ç¨ç®¡çãé«çº§èµæºç®¡çæ§å¶ç­é«çº§åè½ã\n\n\n# Dockerèæå\n\n\n# ä»ä¹æ¯Dockerï¼\n\nDockeræ¯ä¸ä¸ªå¼æºçåºç¨å®¹å¨å¼æï¼å®è®©å¼åèå¯ä»¥æåä»ä»¬çåºç¨ä»¥åä¾èµåå°ä¸ä¸ªå¯ç§»æ¤çå®¹å¨ä¸­ï¼ç¶ååå¸å°å®è£äºä»»ä½ Linux åè¡çæ¬çæºå¨ä¸ãDockeråºäºLXCæ¥å®ç°ç±»ä¼¼VMçåè½ï¼å¯ä»¥å¨æ´æéçç¡¬ä»¶èµæºä¸æä¾ç»ç¨æ·æ´å¤çè®¡ç®èµæºãä¸åVMç­èæåçæ¹å¼ä¸åï¼LXCä¸å±äºå¨èæåãé¨åèæåæåèæåä¸­çä»»ä½ä¸ä¸ªåç±»ï¼èæ¯ä¸ä¸ªæä½ç³»ç»çº§èæåã\n\nDockeræ¯ç´æ¥è¿è¡å¨å®¿ä¸»æä½ç³»ç»ä¹ä¸çä¸ä¸ªå®¹å¨ï¼ä½¿ç¨æ²ç®±æºå¶å®å¨èæåºä¸ä¸ªå®æ´çæä½ï¼å®¹å¨ä¹é´ä¸ä¼æä»»ä½æ¥å£ï¼ä»èè®©å®¹å¨ä¸å®¿ä¸»æºä¹é´ãå®¹å¨ä¸å®¹å¨ä¹é´éç¦»çæ´å å½»åºãæ¯ä¸ªå®¹å¨ä¼æèªå·±çæéç®¡çï¼ç¬ç«çç½ç»ä¸å­å¨æ ï¼åèªå·±çèµæºç®¡çè½ï¼ä½¿åä¸å°å®¿ä¸»æºä¸å¯ä»¥åå¥½çå±å­å¤ä¸ªå®¹å¨ã\n\nDockeråå©Linuxçåæ ¸ç¹æ§ï¼å¦ï¼æ§å¶ç»ï¼Control Groupï¼ãå½åç©ºé´ï¼Namespaceï¼ç­ï¼å¹¶ç´æ¥è°ç¨æä½ç³»ç»çç³»ç»è°ç¨æ¥å£ãä»èéä½æ¯ä¸ªå®¹å¨çç³»ç»å¼éï¼å¹¶å®ç°éä½å®¹å¨å¤æåº¦ãå¯å¨å¿«ãèµæºå ç¨å°ç­ç¹å¾ã\n\n\n# Dockerè½å¹²ä»ä¹ï¼\n\n * ç®åéç½®\n\nè¿æ¯Dockerå¬å¸å®£ä¼ çDockerçä¸»è¦ä½¿ç¨åºæ¯ãèææºçæå¤§å¥½å¤æ¯è½å¨ä½ çç¡¬ä»¶è®¾æ½ä¸è¿è¡åç§éç½®ä¸ä¸æ ·çå¹³å°ï¼è½¯ä»¶ãç³»ç»ï¼ï¼Dockerå¨éä½é¢å¤å¼éçæåµä¸æä¾äºåæ ·çåè½ãå®è½è®©ä½ å°è¿è¡ç¯å¢åéç½®æ¾å¨ä»£ç ä¸­ç¶åé¨ç½²ï¼åä¸ä¸ªDockerçéç½®å¯ä»¥å¨ä¸åçç¯å¢ä¸­ä½¿ç¨ï¼è¿æ ·å°±éä½äºç¡¬ä»¶è¦æ±ååºç¨ç¯å¢ä¹é´è¦ååº¦ã\n\n * ä»£ç æµæ°´çº¿ï¼Code Pipelineï¼ç®¡ç\n\nåä¸ä¸ªåºæ¯å¯¹äºç®¡çä»£ç çæµæ°´çº¿èµ·å°äºå¾å¤§çå¸®å©ãä»£ç ä»å¼åèçæºå¨å°æç»å¨çäº§ç¯å¢ä¸çé¨ç½²ï¼éè¦ç»è¿å¾å¤çä¸­é´ç¯å¢ãèæ¯ä¸ä¸ªä¸­é´ç¯å¢é½æèªå·±å¾®å°çå·®å«ï¼Dockerç»åºç¨æä¾äºä¸ä¸ªä»å¼åå°ä¸çº¿åä¸è´çç¯å¢ï¼è®©ä»£ç çæµæ°´çº¿åå¾ç®åä¸å°ã\n\n * æé«å¼åæç\n\nè¿å°±å¸¦æ¥äºä¸äºé¢å¤çå¥½å¤ï¼Dockerè½æåå¼åèçå¼åæçãè¯¦ç»ä¸ç¹çä¾å­ï¼å¯ä»¥åèAaterå¨DevOpsDays Austin 2014å¤§ä¼æèæ¯DockerConä¸çæ¼è®²ã\n\nä¸åçå¼åç¯å¢ä¸­ï¼æä»¬é½æ³æä¸¤ä»¶äºåå¥½ãä¸æ¯æä»¬æ³è®©å¼åç¯å¢å°½éè´´è¿çäº§ç¯å¢ï¼äºæ¯æä»¬æ³å¿«éæ­å»ºå¼åç¯å¢ã\n\nçæ³ç¶æä¸­ï¼è¦è¾¾å°ç¬¬ä¸ä¸ªç®æ ï¼æä»¬éè¦å°æ¯ä¸ä¸ªæå¡é½è·å¨ç¬ç«çèææºä¸­ä»¥ä¾¿çæ§çäº§ç¯å¢ä¸­æå¡çè¿è¡ç¶æãç¶èï¼æä»¬å´ä¸æ³æ¯æ¬¡é½éè¦ç½ç»è¿æ¥ï¼æ¯æ¬¡éæ°ç¼è¯çæ¶åè¿ç¨è¿æ¥ä¸å»ç¹å«éº»ç¦ãè¿å°±æ¯Dockeråçç¹å«å¥½çå°æ¹ï¼å¼åç¯å¢çæºå¨éå¸¸åå­æ¯è¾å°ï¼ä¹åä½¿ç¨èæçæ¶åï¼æä»¬ç»å¸¸éè¦ä¸ºå¼åç¯å¢çæºå¨å åå­ï¼èç°å¨Dockerå¯ä»¥è½»æçè®©å åä¸ªæå¡å¨Dockerä¸­è·èµ·æ¥ã\n\n * éç¦»åºç¨\n\næå¾å¤ç§åå ä¼è®©ä½ éæ©å¨ä¸ä¸ªæºå¨ä¸è¿è¡ä¸åçåºç¨ï¼æ¯å¦ä¹åæå°çæé«å¼åæççåºæ¯ç­ã\n\næä»¬ç»å¸¸éè¦èèä¸¤ç¹ï¼ä¸æ¯å ä¸ºè¦éä½ææ¬èè¿è¡æå¡å¨æ´åï¼äºæ¯å°ä¸ä¸ªæ´ä½å¼çåºç¨æåææ¾è¦åçåä¸ªæå¡ï¼è¯èæ³¨ï¼å¾®æå¡æ¶æï¼ãå¦æä½ æ³äºè§£ä¸ºä»ä¹æ¾è¦åçåºç¨è¿ä¹éè¦ï¼è¯·åèSteve Yegeçè¿ç¯è®ºæï¼æä¸­å°Googleåäºé©¬éåäºæ¯è¾ã\n\n * æ´åæå¡å¨ æ­£å¦éè¿èææºæ¥æ´åå¤ä¸ªåºç¨ï¼Dockeréç¦»åºç¨çè½åä½¿å¾Dockerå¯ä»¥æ´åå¤ä¸ªæå¡å¨ä»¥éä½ææ¬ãç±äºæ²¡æå¤ä¸ªæä½ç³»ç»çåå­å ç¨ï¼ä»¥åè½å¨å¤ä¸ªå®ä¾ä¹é´å±äº«æ²¡æä½¿ç¨çåå­ï¼Dockerå¯ä»¥æ¯èææºæä¾æ´å¥½çæå¡å¨æ´åè§£å³æ¹æ¡ã\n * è°éè½å\n\nDockeræä¾äºå¾å¤çå·¥å·ï¼è¿äºå·¥å·ä¸ä¸å®åªæ¯éå¯¹å®¹å¨ï¼ä½æ¯å´éç¨äºå®¹å¨ãå®ä»¬æä¾äºå¾å¤çåè½ï¼åæ¬å¯ä»¥ä¸ºå®¹å¨è®¾ç½®æ£æ¥ç¹ãè®¾ç½®çæ¬åæ¥çä¸¤ä¸ªå®¹å¨ä¹é´çå·®å«ï¼è¿äºç¹æ§å¯ä»¥å¸®å©è°è¯Bugãä½ å¯ä»¥å¨ãDockeræ¯æä¸çãçæç« ä¸­æ¾å°è¿ä¸ç¹çä¾è¯ã\n\n * å¤ç§æ·\n\nå¦å¤ä¸ä¸ªDockeræææçä½¿ç¨åºæ¯æ¯å¨å¤ç§æ·çåºç¨ä¸­ï¼å®å¯ä»¥é¿åå³é®åºç¨çéåãæä»¬ä¸ä¸ªç¹å«çå³äºè¿ä¸ªåºæ¯çä¾å­æ¯ä¸ºIoTï¼ç©èç½ï¼çåºç¨å¼åä¸ä¸ªå¿«éãæç¨çå¤ç§æ·ç¯å¢ãè¿ç§å¤ç§æ·çåºæ¬ä»£ç éå¸¸å¤æï¼å¾é¾å¤çï¼éæ°è§åè¿æ ·ä¸ä¸ªåºç¨ä¸ä½æ¶èæ¶é´ï¼ä¹æµªè´¹éé±ã\n\nä½¿ç¨Dockerï¼å¯ä»¥ä¸ºæ¯ä¸ä¸ªç§æ·çåºç¨å±çå¤ä¸ªå®ä¾åå»ºéç¦»çç¯å¢ï¼è¿ä¸ä»ç®åèä¸ææ¬ä½å»ï¼å½ç¶è¿ä¸åå¾çäºDockerç¯å¢çå¯å¨éåº¦åå¶é«æçdiffå½ä»¤ã\n\n * å¿«éé¨ç½²\n\nå¨èææºä¹åï¼å¼å¥æ°çç¡¬ä»¶èµæºéè¦æ¶èå å¤©çæ¶é´ãDockerçèæåææ¯å°è¿ä¸ªæ¶é´éå°äºå åéï¼Dockeråªæ¯åå»ºä¸ä¸ªå®¹å¨è¿ç¨èæ éå¯å¨æä½ç³»ç»ï¼è¿ä¸ªè¿ç¨åªéè¦ç§çº§çæ¶é´ãè¿æ­£æ¯GoogleåFacebooké½çéçç¹æ§ã\n\nä½ å¯ä»¥å¨æ°æ®ä¸­å¿åå»ºéæ¯èµæºèæ éæå¿éæ°å¯å¨å¸¦æ¥çå¼éãéå¸¸æ°æ®ä¸­å¿çèµæºå©ç¨çåªæ30%ï¼éè¿ä½¿ç¨Dockerå¹¶è¿è¡ææçèµæºåéå¯ä»¥æé«èµæºçå©ç¨çã\n\n\n# Dockerçåºæ¬ç»æ\n\nä»åºï¼éåï¼å®¹å¨çå³ç³»ï¼è¿æ¯å®ç½çå¾ï¼\n\n\n\n * éåï¼imageï¼\n\nDocker éåï¼Imageï¼å°±æ¯ä¸ä¸ªåªè¯»çæ¨¡æ¿ãéåå¯ä»¥ç¨æ¥åå»º Docker å®¹å¨ï¼ä¸ä¸ªéåå¯ä»¥åå»ºå¾ å¤å®¹å¨ã å°±å¥½ä¼¼ Java ä¸­ç ç±»åå¯¹è±¡ï¼ç±»å°±æ¯éåï¼å®¹å¨å°±æ¯å¯¹è±¡ï¼\n\n * å®¹å¨ï¼containerï¼ï¼\n\nDocker å©ç¨å®¹å¨ï¼Containerï¼ç¬ç«è¿è¡çä¸ä¸ªæä¸ç»åºç¨ãå®¹å¨æ¯ç¨éååå»ºçè¿è¡å®ä¾ã\n\nå®å¯ä»¥è¢«å¯å¨ãå¼å§ãåæ­¢ãå é¤ãæ¯ä¸ªå®¹å¨é½æ¯ç¸äºéç¦»çï¼ä¿è¯å®å¨çå¹³å°ã\n\nå¯ä»¥æå®¹å¨çåæ¯ä¸ä¸ªç®æçç Linux ç¯å¢ï¼åæ¬rootç¨æ·æéãè¿ç¨ç©ºé´ãç¨æ·ç©ºé´åç½ç»ç©ºé´ç­ï¼ åè¿è¡å¨å¶ä¸­çåºç¨ç¨åº\n\nå®¹å¨çå®ä¹åéåå ä¹ä¸æ¨¡ä¸æ ·ï¼ä¹æ¯ä¸å å±çç»ä¸è§è§ï¼å¯ä¸åºå«å¨äºå®¹å¨çæä¸é¢é£ä¸å±æ¯å¯è¯»å¯åçã\n\n * ä»åºï¼repositoryï¼ï¼\n\nä»åºï¼Repositoryï¼æ¯éä¸­å­æ¾éåæä»¶çåºæã\n\nä»åº(Repository)åä»åºæ³¨åæå¡å¨ï¼Registryï¼æ¯æåºå«çãä»åºæ³¨åæå¡å¨ä¸å¾å¾å­æ¾çå¤ä¸ªä» åºï¼æ¯ä¸ªä»åºä¸­ååå«äºå¤ä¸ªéåï¼æ¯ä¸ªéåæä¸åçæ ç­¾ï¼tagï¼ã\n\nä»åºåä¸ºå¬å¼ä»åºï¼Publicï¼åç§æä»åºï¼Privateï¼ä¸¤ç§å½¢å¼\n\næå¤§çå¬å¼ä»åºæ¯ Docker Hub(https://hub.docker.com/)ï¼å­æ¾äºæ°éåºå¤§çéåä¾ç¨æ·ä¸è½½ã å½åçå¬å¼ä»åºåæ¬é¿éäº ãç½æäº ç­\n\nå°ç»ï¼\n\nDocker æ¬èº«æ¯ä¸ä¸ªå®¹å¨è¿è¡è½½ä½æç§°ä¹ä¸ºç®¡çå¼æãæä»¬æåºç¨ç¨åºåéç½®ä¾èµæåå¥½å½¢æä¸ä¸ª å¯äº¤ä»çè¿è¡ç¯å¢ï¼è¿ä¸ªæåå¥½çè¿è¡ç¯å¢å°±ä¼¼ä¹ imageéåæä»¶ãåªæéè¿è¿ä¸ªéåæä»¶æè½ç æ Docker å®¹å¨ãimage æä»¶å¯ä»¥çä½æ¯å®¹å¨çæ¨¡æ¿ãDocker æ ¹æ® image æä»¶çæå®¹å¨çå®ä¾ã åä¸ä¸ª image æä»¶ï¼å¯ä»¥çæå¤ä¸ªåæ¶è¿è¡çå®¹å¨å®ä¾ã\n\nimage æä»¶çæçå®¹å¨å®ä¾ï¼æ¬èº«ä¹æ¯ä¸ä¸ªæä»¶ï¼ç§°ä¸ºéåæä»¶\n\nä¸ä¸ªå®¹å¨è¿è¡ä¸ç§æå¡ï¼å½æä»¬éè¦çæ¶åï¼å°±å¯ä»¥éè¿dockerå®¢æ·ç«¯åå»ºä¸ä¸ªå¯¹åºçè¿è¡å®ä¾ï¼ ä¹å°±æ¯æä»¬çå®¹å¨\n\nè³äºä»åºï¼å°±æ¯æ¾äºä¸å éåçå°æ¹ï¼æä»¬å¯ä»¥æéååå¸å°ä»åºä¸­ï¼éè¦çæ¶åä»ä»åºä¸­æä¸æ¥ å°±å¯ä»¥äºã\n\n\n# Dockeråèææºçåºå«ï¼\n\n> èææºVirtual Machineä¸å®¹å¨åææ¯ï¼ä»£è¡¨Dockerï¼é½æ¯èæåææ¯ï¼ä¸¤èçåºå«å¨äºèæåçç¨åº¦ä¸åã\n\n\n# åºæ¬å¯¹æ¯\n\n\n\n * èææº\n   * åºç¡è®¾æ½ï¼Infrastructureï¼ãå®å¯ä»¥æ¯ä½ çä¸ªäººçµèï¼æ°æ®ä¸­å¿çæå¡å¨ï¼æèæ¯äºä¸»æºã\n   * ä¸»æä½ç³»ç»ï¼Host Operating Systemï¼ãä½ çä¸ªäººçµèä¹ä¸ï¼è¿è¡çå¯è½æ¯MacOSï¼Windowsæèæä¸ªLinuxåè¡çã\n   * èææºç®¡çç³»ç»ï¼Hypervisorï¼ãå©ç¨Hypervisorï¼å¯ä»¥å¨ä¸»æä½ç³»ç»ä¹ä¸è¿è¡å¤ä¸ªä¸åçä»æä½ç³»ç»ãç±»å1çHypervisorææ¯æMacOSçHyperKitï¼æ¯æWindowsçHyper-Vä»¥åæ¯æLinuxçKVMãç±»å2çHypervisoræVirtualBoxåVMWareã\n   * æä½ç³»ç»ï¼Guest Operating Systemï¼ãåè®¾ä½ éè¦è¿è¡3ä¸ªç¸äºéç¦»çåºç¨ï¼åéè¦ä½¿ç¨Hypervisorå¯å¨3ä¸ªä»æä½ç³»ç»ï¼ä¹å°±æ¯3ä¸ªèææºãè¿äºèææºé½éå¸¸å¤§ï¼ä¹è®¸æ700MBï¼è¿å°±æå³çå®ä»¬å°å ç¨2.1GBçç£çç©ºé´ãæ´ç³ç³çæ¯ï¼å®ä»¬è¿ä¼æ¶èå¾å¤CPUååå­ã\n   * åç§ä¾èµãæ¯ä¸ä¸ªä»æä½ç³»ç»é½éè¦å®è£è®¸å¤ä¾èµãå¦æä½ ççåºç¨éè¦è¿æ¥PostgreSQLçè¯ï¼åéè¦å®è£libpq-devï¼å¦æä½ ä½¿ç¨Rubyçè¯ï¼åºè¯¥éè¦å®è£gemsï¼å¦æä½¿ç¨å¶ä»ç¼ç¨è¯­è¨ï¼æ¯å¦PythonæèNode.jsï¼é½ä¼éè¦å®è£å¯¹åºçä¾èµåºã\n * Dockerå®¹å¨\n   * ä¸»æä½ç³»ç»ï¼Host Operating Systemï¼ãææä¸»æµçLinuxåè¡çé½å¯ä»¥è¿è¡Dockerãå¯¹äºMacOSåWindowsï¼ä¹æä¸äºåæ³"è¿è¡"Dockerã\n   * Dockerå®æ¤è¿ç¨ï¼Docker Daemonï¼ãDockerå®æ¤è¿ç¨åä»£äºHypervisorï¼å®æ¯è¿è¡å¨æä½ç³»ç»ä¹ä¸çåå°è¿ç¨ï¼è´è´£ç®¡çDockerå®¹å¨ã\n   * åç§ä¾èµãå¯¹äºDockerï¼åºç¨çææä¾èµé½æåå¨Dockeréåä¸­ï¼Dockerå®¹å¨æ¯åºäºDockeréååå»ºçã\n   * åºç¨ãåºç¨çæºä»£ç ä¸å®çä¾èµé½æåå¨Dockeréåä¸­ï¼ä¸åçåºç¨éè¦ä¸åçDockeréåãä¸åçåºç¨è¿è¡å¨ä¸åçDockerå®¹å¨ä¸­ï¼å®ä»¬æ¯ç¸äºéç¦»çã\n\nèææºæ¯å¨ç©çèµæºå±é¢å®ç°çéç¦»ï¼ç¸å¯¹äºèææºï¼Dockeræ¯ä½ APPå±é¢å®ç°çéç¦»ï¼å¹¶ä¸çå»äºèææºæä½ç³»ç»ï¼Guest OSï¼ï¼ï¼ä»èèçäºä¸é¨åçç³»ç»èµæºï¼Dockerå®æ¤è¿ç¨å¯ä»¥ç´æ¥ä¸ä¸»æä½ç³»ç»è¿è¡éä¿¡ï¼ä¸ºåä¸ªDockerå®¹å¨åéèµæºï¼å®è¿å¯ä»¥å°å®¹å¨ä¸ä¸»æä½ç³»ç»éç¦»ï¼å¹¶å°åä¸ªå®¹å¨äºç¸éç¦»ãèææºå¯å¨éè¦æ°åéï¼èDockerå®¹å¨å¯ä»¥å¨æ°æ¯«ç§åå¯å¨ãç±äºæ²¡æèè¿çä»æä½ç³»ç»ï¼Dockerå¯ä»¥èçå¤§éçç£çç©ºé´ä»¥åå¶ä»ç³»ç»èµæºã\n\nèææºä¸å®¹å¨dockerçåºå«ï¼å¨äºvmå¤äºä¸å±guest OSï¼èææºçHypervisorä¼å¯¹ç¡¬ä»¶èµæºä¹è¿è¡èæåï¼èå®¹å¨Dockerä¼ç´æ¥ä½¿ç¨å®¿ä¸»æºçç¡¬ä»¶èµæºã\n\nä¸é¢æä»¬éç¨å½¢è±¡çæ¯å»åºåä¸¤èçéç¦»çº§å«ï¼\n\n * æå¡å¨ï¼æ¯ä½ä¸ä¸ªå¤§åçä»ç®¡åºå°ï¼åå«åºå°ä¸é¶æ£çè´§ç©ââç¸å½äºåç§æå¡å¨èµæºã\n * èææºææ¯ï¼æ¯ä½ä»åºï¼æ¥æç¬ç«çç©ºé´å æ¾åç§è´§ç©æéè£ç®±ï¼ä»åºä¹é´å®å¨ç¬ç«ââä»åºç¸å½äºåç§ç³»ç»ï¼ç¬ç«çåºç¨ç³»ç»åæä½ç³»ç»ã\n * Dockerï¼æ¯ä½éè£ç®±ï¼æä½åç§è´§ç©çæåââå°åç§åºç¨ç¨åºåä»ä»¬æä¾èµçè¿è¡ç¯å¢æåææ åçå®¹å¨ï¼å®¹å¨ä¹é´éç¦»ã\n\n\n# èæææ¯å¯¹æ¯\n\n * éç¦»æ§\n\nå¨äºéç¦»æ§ä¸é¢ï¼ç±äºvmå¯¹æä½ç³»ç»ä¹è¿è¡äºèæåï¼éç¦»çæ´å å½»åºãèDockerå±äº«å®¿ä¸»æºçæä½ç³»ç»ï¼éç¦»æ§è¾å·®ã\n\n * è¿è¡æç\n\nç±äºvmçéç¦»æä½ï¼å¯¼è´çæèææºçéçå¤§å¤§ä½äºå®¹å¨Dockerçæçéåº¦ï¼å ä¸ºDockerç´æ¥å©ç¨å®¿ä¸»æºçç³»ç»åæ ¸ãæ¯å¦openstackè½å¤ä»¥10å°/minçéåº¦åå»ºèææºï¼èdockerå¯ä»¥åå°å¨å ç§éä¹ååå»ºå¤§éå®¹å¨ï¼å®ä»¬çå¯å¨éåº¦æ¯å¨æ°éçº§ä¸çå·®è·ã\n\nå ä¸ºèææºå¢å äºä¸å±èæç¡¬ä»¶å±ï¼è¿è¡å¨èææºä¸çåºç¨ç¨åºå¨è¿è¡æ°å¼è®¡ç®æ¶æ¯è¿è¡å¨HypervisorèæçCPUä¸çï¼å¦å¤ä¸æ¹é¢æ¯ç±äºè®¡ç®ç¨åºæ¬èº«çç¹æ§å¯¼è´çå·®å¼ãèææºèæçcpuæ¶æä¸åäºå®écpuæ¶æï¼æ°å¼è®¡ç®ç¨åºä¸è¬éå¯¹ç¹å®çcpuæ¶ææä¸å®çä¼åæªæ½ï¼èæåä½¿è¿äºæªæ½ä½åºï¼çè³èµ·å°åææã\n\n * èµæºå©ç¨ç\n\nå¨èµæºå©ç¨çä¸èææºç±äºéç¦»æ´å½»åºï¼å æ­¤å©ç¨çä¹ä¼ç¸å¯¹è¾ä½ã\n\nå ä¸ºèææºå¢å äºä¸å±èæç¡¬ä»¶å±ï¼è¿è¡å¨èææºä¸çåºç¨ç¨åºå¨è¿è¡æ°å¼è®¡ç®æ¶æ¯è¿è¡å¨HypervisorèæçCPUä¸çï¼å¦å¤ä¸æ¹é¢æ¯ç±äºè®¡ç®ç¨åºæ¬èº«çç¹æ§å¯¼è´çå·®å¼ãèææºèæçcpuæ¶æä¸åäºå®écpuæ¶æï¼æ°å¼è®¡ç®ç¨åºä¸è¬éå¯¹ç¹å®çcpuæ¶ææä¸å®çä¼åæªæ½ï¼èæåä½¿è¿äºæªæ½ä½åºï¼çè³èµ·å°åææãæ¯å¦å¯¹äºæ¬æ¬¡å®éªçå¹³å°ï¼å®éçCPUæ¶ææ¯2åç©çCPUã\n\n\n# åèæç« \n\næ¨èæµè§ä»¥ä¸ç½ç«ï¼\n\n * Java å¨æ ç¥è¯ä½ç³»\n   \n   https://www.pdai.tech/md/devops/docker/docker-01-docker-vm.html',normalizedContent:'# æ¦è¿°\n\n * å­¦ä¹ èµæº\n * åå²\n * ä»ä¹æ¯èæåææ¯\n   * ä»ä¹æ¯èæå\n   * èæåææ¯åç±»\n     * ç¡¬ä»¶èæå\n     * è½¯ä»¶èæå\n   * å ç§èæåææ¯\n * dockerèæå\n   * ä»ä¹æ¯dockerï¼\n   * dockerè½å¹²ä»ä¹ï¼\n   * dockerçåºæ¬ç»æ\n * dockeråèææºçåºå«ï¼\n   * åºæ¬å¯¹æ¯\n   * èæææ¯å¯¹æ¯\n * åèæç« \n\n\n# å­¦ä¹ èµæº\n\næå¥½çèµæºå¨å®ç½!\n\ndockerå®æ¹ï¼\n\n * docker å®æ¹ä¸»é¡µ: https://www.docker.com\n\n * docker å®æ¹åå®¢: https://blog.docker.com\n\n * docker å®æ¹ææ¡£: https://docs.docker.com\n\n * docker store: https://store.docker.com\n\n * docker cloud: https://cloud.docker.com\n\n * docker hub: https://hub.docker.com\n\nè§é¢æç¨ï¼\n\n * bilibili æ docker\n   \n   çç¥ï¼https://www.bilibili.com/video/bv1og4y1q7m4\n\n\n# åå²\n\n2010å¹´ï¼å ä¸ªæitçå¹´è½»äººï¼å¨ç¾å½æ§éå±±æç«äºä¸å®¶åå«âdotcloudâçå¬å¸ã\n\nè¿å®¶å¬å¸ä¸»è¦æä¾åºäºpaasçäºè®¡ç®ææ¯æå¡ãå·ä½æ¥è¯´ï¼æ¯ålxcæå³çå®¹å¨ææ¯ã\n\nåæ¥ï¼dotcloudå¬å¸å°èªå·±çå®¹å¨ææ¯è¿è¡äºç®ååæ ååï¼å¹¶å½åä¸ºââdockerã\n\ndockerææ¯è¯çä¹åï¼å¹¶æ²¡æå¼èµ·è¡ä¸çå³æ³¨ãèdotcloudå¬å¸ï¼ä½ä¸ºä¸å®¶å°ååä¸ä¼ä¸ï¼å¨æ¿ççç«äºä¹ä¸ï¼ä¹æ­¥å±¥ç»´è°ã\n\næ­£å½ä»ä»¬å¿«è¦åæä¸ä¸å»çæ¶åï¼èå­éè¹¦åºäºâå¼æºâçæ³æ³ã\n\nä»ä¹æ¯âå¼æºâï¼å¼æºï¼å°±æ¯å¼æ¾æºä»£ç ãä¹å°±æ¯å°åæ¥åé¨ä¿å¯çç¨åºæºä»£ç å¼æ¾ç»ææäººï¼ç¶åè®©å¤§å®¶ä¸èµ·åä¸è¿æ¥ï¼è´¡ç®ä»£ç åæè§ã\n\næçè½¯ä»¶æ¯ä¸å¼å§å°±å¼æºçãä¹æçè½¯ä»¶ï¼æ¯æ··ä¸ä¸å»ï¼åé èåä¸æ³æ¾å¼ï¼æä»¥éæ©å¼æºãèªå·±å»ä¸æ´»ï¼å°±åâç¾å®¶é¥­âåã\n\n2013å¹´3æï¼dotcloudå¬å¸çåå§äººä¹ä¸ï¼dockerä¹ç¶ï¼28å²çsolomonâhykesæ­£å¼å³å®ï¼å°dockeré¡¹ç®å¼æºã ä¸å¼åå·²ï¼ä¸å¼æäººã\n\nè¶æ¥è¶å¤çitå·¥ç¨å¸åç°äºdockerçä¼ç¹ï¼ç¶åèæ¥èè³ï¼å å¥dockerå¼æºç¤¾åºã\n\ndockerçäººæ°è¿éæåï¼éåº¦ä¹å¿«ï¼ä»¤äººç ç®ç»èã\n\nå¼æºå½æï¼docker 0.1 çæ¬åå¸ãæ­¤åçæ¯ä¸ä¸ªæï¼dockeré½ä¼åå¸ä¸ä¸ªçæ¬ãå°2014å¹´6æ9æ¥ï¼docker 1.0 çæ¬æ­£å¼åå¸ã\n\næ­¤æ¶çdockerï¼å·²ç»æä¸ºè¡ä¸éäººæ°æç«ççå¼æºææ¯ï¼æ²¡æä¹ä¸ãçè³ågoogleãå¾®è½¯ãamazonãvmwareè¿æ ·çå·¨å¤´ï¼é½å¯¹å®éçæå ï¼è¡¨ç¤ºå°å¨åæ¯æã\n\ndockeråå®¹å¨ææ¯ä¸ºä»ä¹ä¼è¿ä¹ç«çï¼è¯´ç½äºï¼å°±æ¯å ä¸ºå®âè½»âã\n\nå¨å®¹å¨ææ¯ä¹åï¼ä¸ççç½çº¢æ¯èææºãèææºææ¯çä»£è¡¨ï¼æ¯vmwareåopenstackã\n\nç¸ä¿¡å¾å¤äººé½ç¨è¿èææºãèææºï¼å°±æ¯å¨ä½ çæä½ç³»ç»éé¢ï¼è£ä¸ä¸ªè½¯ä»¶ï¼ç¶åéè¿è¿ä¸ªè½¯ä»¶ï¼åæ¨¡æä¸å°çè³å¤å°âå­çµèâåºæ¥ã\n\nå¨âå­çµèâéï¼ä½ å¯ä»¥åæ­£å¸¸çµèä¸æ ·è¿è¡ç¨åºï¼ä¾å¦å¼qqãå¦æä½ æ¿æï¼ä½ å¯ä»¥ååºå¥½å ä¸ªâå­çµèâï¼éé¢é½å¼ä¸qqãâå­çµèâåâå­çµèâä¹é´ï¼æ¯ç¸äºéç¦»çï¼äºä¸å½±åã\n\nèææºå±äºèæåææ¯ãèdockerè¿æ ·çå®¹å¨ææ¯ï¼ä¹æ¯èæåææ¯ï¼å±äºè½»éçº§çèæåã\n\nèææºè½ç¶å¯ä»¥éç¦»åºå¾å¤âå­çµèâï¼ä½å ç¨ç©ºé´æ´å¤§ï¼å¯å¨æ´æ¢ï¼èææºè½¯ä»¶å¯è½è¿è¦è±é±ï¼ä¾å¦vmwareï¼ã\n\nèå®¹å¨ææ¯æ°å¥½æ²¡æè¿äºç¼ºç¹ãå®ä¸éè¦èæåºæ´ä¸ªæä½ç³»ç»ï¼åªéè¦èæä¸ä¸ªå°è§æ¨¡çç¯å¢ï¼ç±»ä¼¼âæ²ç®±âï¼ã\n\nå®å¯å¨æ¶é´å¾å¿«ï¼å ç§éå°±è½å®æãèä¸ï¼å®å¯¹èµæºçå©ç¨çå¾é«ï¼ä¸å°ä¸»æºå¯ä»¥åæ¶è¿è¡å åä¸ªdockerå®¹å¨ï¼ãæ­¤å¤ï¼å®å çç©ºé´å¾å°ï¼èææºä¸è¬è¦å gbå°å ågbçç©ºé´ï¼èå®¹å¨åªéè¦mbçº§çè³kbçº§ã\n\næ­£å ä¸ºå¦æ­¤ï¼å®¹å¨ææ¯åå°äºç­ççæ¬¢è¿åè¿½æ§ï¼åå±è¿éã\n\n> docker çå¿µ\n\ndockeræ¯åºäºgoè¯­è¨å®ç°çäºå¼æºé¡¹ç®ã\n\ndockerçä¸»è¦ç®æ æ¯âbuildï¼ship and run any app , anywhereâï¼ä¹å°±æ¯éè¿å¯¹åºç¨ç»ä»¶çå°è£ãå åãé¨ç½²ãè¿è¡ç­çå½å¨æçç®¡çï¼ä½¿ç¨æ·çappï¼å¯ä»¥æ¯ä¸ä¸ªwebåºç¨ææ°æ®åºåºç¨ç­ç­ï¼åå¶è¿è¡ç¯å¢è½å¤åå°âä¸æ¬¡å°è£ï¼å°å¤è¿è¡âã\n\nlinux å®¹å¨ææ¯çåºç°å°±è§£å³äºè¿æ ·ä¸ä¸ªé®é¢ï¼è docker å°±æ¯å¨å®çåºç¡ä¸åå±è¿æ¥çãå°åºç¨è¿è¡å¨ docker å®¹å¨ä¸é¢ï¼è docker å®¹å¨å¨ä»»ä½æä½ç³»ç»ä¸é½æ¯ä¸è´çï¼è¿å°±å®ç°äºè·¨å¹³å°ãè·¨æå¡å¨ãåªé è¦ä¸æ¬¡éç½®å¥½ç¯å¢ï¼æ¢å°å«çæºå­ä¸å°±å¯ä»¥ä¸é®é¨ç½²å¥½ï¼å¤§å¤§ç®åäºæä½ã\n\n\n# ä»ä¹æ¯èæåææ¯\n\n\n# ä»ä¹æ¯èæå\n\nå¨è®¡ç®æºææ¯ä¸­ï¼èæåï¼virtualizationï¼æ¯ä¸ç§èµæºç®¡çææ¯ãå®æ¯å°è®¡ç®æºçåç§å®ä½èµæºï¼å¦ï¼æå¡å¨ãç½ç»ãåå­åå­å¨ç­ï¼äºä»¥æ½è±¡ãè½¬æ¢ååç°åºæ¥ï¼æç ´å®ä½ç»æé´çä¸å¯åå²çéç¢ï¼ä½¿ç¨æ·å¯ä»¥ç¨æ´å¥½çæ¹å¼æ¥å©ç¨è¿äºèµæºã\n\nèæåçç®çæ¯ä¸ºäºå¨åä¸ä¸ªä¸»æºä¸è¿è¡å¤ä¸ªç³»ç»æåºç¨ï¼ä»èæé«ç³»ç»èµæºçå©ç¨çï¼å¹¶å¸¦æ¥éä½ææ¬ãæ¹ä¾¿ç®¡çåå®¹éå®¹ç¾ç­å¥½å¤ã\n\n\n# èæåææ¯åç±»\n\nä»å®ç°å½¢å¼æ¥åï¼èæåææ¯å¯åä¸ºåºäºç¡¬ä»¶çèæåååºäºè½¯ä»¶çèæåã\n\n# ç¡¬ä»¶èæå\n\nç¡¬ä»¶èæåå°±æ¯ç¡¬ä»¶ç©çå¹³å°æ¬èº«æä¾äºå¯¹ç¹æ®æä»¤çæªè·åéå®åçæ¯æãæ¯æèæåçç¡¬ä»¶ï¼ä¹æ¯ä¸äºåºäºç¡¬ä»¶å®ç°è½¯ä»¶èæåææ¯çå³é®ãå¨åºäºç¡¬ä»¶å®ç°è½¯ä»¶èæåçææ¯ä¸­ï¼å¨ç¡¬ä»¶æ¯å®ç°èæåçåºç¡ï¼ç¡¬ä»¶(ä¸»è¦æ¯cpu)ä¼ä¸ºèæåè½¯ä»¶æä¾æ¯æï¼ä»èå®ç°ç¡¬ä»¶èµæºçèæåã\n\næ¯æèæåçç¡¬ä»¶æï¼\n\n * intel-vt-(intel virtualization technology)ï¼intelå¬å¸ä¸ºè§£å³çº¯è½¯ä»¶èæåè§£å³æ¹æ¡å¨å¯é æ§ãå®å¨æ§åæ§è½ä¸çä¸è¶³èå¼è¿çææ¯ãå®å¯ä»¥è®©ä¸ä¸ªcpuå·¥ä½èµ·æ¥åå¤ä¸ªcpuå¨å¹¶è¡è¿è¡ï¼ä»èä½¿å¾å¨ä¸é¨çµèååæ¶è¿è¡å¤ä¸ªæä½ç³»ç»æä¸ºå¯è½\n * amd-v-(amd virtualization)ï¼æ¯amdå¬å¸çèæåææ¯ãå®æ¯å¯¹x86å¤çå¨ç³»ç»æ¶æçä¸ç»ç¡¬ä»¶æ©å±åç¡¬ä»¶è¾å©èæåææ¯ï¼å¯ä»¥ç®åçº¯è½¯ä»¶çèæåè§£å³æ¹æ¡ï¼æ¹è¿vmmï¼èææºçè§å¨ï¼çè®¾è®¡ï¼æ´ååå°å©ç¨ç¡¬ä»¶èµæºï¼æé«æå¡å¨åæ°æ®ä¸­å¿çèæåæç\n\n# è½¯ä»¶èæå\n\nè½¯ä»¶èæåå°±æ¯å©ç¨è½¯ä»¶ææ¯ï¼å¨ç°æçç©çå¹³å°ä¸å®ç°å¯¹ç©çå¹³å°è®¿é®çæªè·åæ¨¡æãå¨è½¯ä»¶èæåææ¯ä¸­ï¼æäºææ¯ä¸éè¦ç¡¬ä»¶æ¯æï¼å¦ï¼qemuï¼èæäºè½¯ä»¶èæåææ¯ï¼åä¾èµç¡¬ä»¶æ¯æï¼å¦ï¼vmwareãkvmã\n\nå¯¹è½¯ä»¶èæåè¿è¡ç»åï¼åå¯ä»¥åä¸ºä»¥ä¸å ç±»ï¼\n\n * å®å¨èæåï¼ï¼full virtualizationï¼èææºæ¨¡æå®æ´çåºå±ç¡¬ä»¶ç¯å¢åç¹ææä»¤çæ§è¡è¿ç¨ï¼ä½¿å®¢æ·æºæä½ç³»ç»å¯ä»¥ç¬ç«è¿è¡ãæ¯æå®å¨èæåçè½¯ä»¶æï¼parallels workstationãvirtualboxãvirtual ironãoracle vmãvirtual pcãvirtual serverãhyper-vãvmware workstationãqemuç­\n * ç¡¬ä»¶è¾å©èæåï¼ï¼hardware-assisted virtualizationï¼æ¯æéè¿ç¡¬ä»¶è¾å©æ¯ææ¨¡æè¿è¡ç¯å¢ï¼ä½¿å®¢æ·æºæä½ç³»ç»å¯ä»¥ç¬ç«è¿è¡ï¼å®ç°å®å¨èæåçåè½ãæ¯æç¡¬ä»¶è¾å©èæåçè½¯ä»¶æï¼linux kvmãvmware workstationãvmware fusionãvirtual pcãxenãvirtualboxãparallels workstationç­\n * é¨åèæåï¼ï¼partial virtualizationï¼åªéå¯¹é¨åç¡¬ä»¶èµæºè¿è¡èæåï¼èææºæ¨¡æé¨ååºå±ç¡¬ä»¶ç¯å¢ï¼ç¹å«æ¯å°åç©ºé´ãè¿æ ·çç¯å¢æ¯æèµæºå±äº«åçº¿ç¨ç¬ç«ï¼ä½æ¯ä¸åè®¸å»ºç«ç¬ç«çå®¢æ·æºæä½ç³»ç»ã\n * å¹³è¡èæåï¼ï¼para-virtualizationï¼èææºä¸éè¦æ¨¡æç¡¬ä»¶ï¼èæ¯å°é¨åç¡¬ä»¶æ¥å£ä»¥è½¯ä»¶çå½¢å¼æä¾ç»å®¢æ·æºæä½ç³»ç»ãå¦ï¼æ©æçxenã\n * æä½ç³»ç»å±èæåï¼ï¼os-level virtualizationï¼è¿ç§ææ¯å°æä½ç³»ç»åæ ¸èæåï¼å¯ä»¥åè®¸ä½¿ç¨èç©ºé´è½¯ä»¶å®ä¾è¢«åå²æå ä¸ªç¬ç«çååï¼å¨åæ ¸ä¸­è¿è¡ï¼èä¸æ¯åªæä¸ä¸ªåä¸å®ä¾è¿è¡ãè¿ä¸ªè½¯ä»¶å®ä¾ï¼ä¹è¢«ç§°ä¸ºæ¯ä¸ä¸ªå®¹å¨ï¼containersï¼ãèæå¼æï¼virtualization engineï¼ãèæä¸ç¨æå¡å¨ï¼virtual private serversï¼ãæ¯ä¸ªå®¹å¨çè¿ç¨æ¯ç¬ç«çï¼å¯¹äºä½¿ç¨èæ¥è¯´ï¼å°±åæ¯å¨ä½¿ç¨èªå·±çä¸ç¨æå¡å¨ã dockerå®¹å¨ææ¯å°±æ¯å±äºæä½ç³»ç»å±èæåçèç´ã\n\n\n# å ç§èæåææ¯\n\nèæåæ¯éè¿è½¯ä»¶çæ¹å¼æ¨¡æå®ä½æå¡å¨ï¼å¶åè¡·æ¯ä¸ºäºè§£å³âä¸ç§åºç¨å ç¨ä¸å°æå¡å¨âæ¨¡å¼æå¸¦æ¥çæå¡å¨æ°éå§å¢çé®é¢ï¼ä»èéä½æ°æ®ä¸­å¿å¤æåº¦ï¼ç®åç®¡çé¾åº¦ãå¨èæåçåå±è¿ç¨ä¸­ï¼åºç°è¿ä»¥ä¸ä¸»è¦èæåææ¯æäº§åï¼\n\n * xen - ç±åæ¡¥å¤§å­¦å¼åçï¼ä¸æ¬¾å¼æºçèææºçè§å¨ãéç¨icaåè®®ï¼å®éè¿ä¸ç§å«ååèæåçææ¯æ¥è·åé«æ§è½ï¼çè³å¨ä¸äºä¸ä¼ ç»èæææ¯æåº¦ä¸åå¥½çæ¶æä¸ï¼å¦ï¼x86ï¼ï¼xenä¹ææä½³çè¡¨ç°ãxenå±äºåèæåçææ¯ï¼æä»¥å¶æ§è½æå¤±éå¸¸å°ãxenæ²¡ææä»¤ç¿»è¯ï¼å¶æèä½¿ç¨ä½¿è½çè§£åç¿»è¯èææä½ç³»ç»ååºçæªä¿®æ¹æä»¤çcpuï¼å³ï¼å®å¨èæåï¼ï¼æèä¿®æ¹æä½ç³»ç»ï¼ä½¿å®ååºçæä»¤æä¼åï¼ä¾¿äºå¨èæåç¯å¢ä¸­æ§è¡ï¼å³ï¼åèæåï¼ã\n * kvm - kvmæ¯ä¸ä¸ªlinux kernelæ¨¡åï¼å¯ä»¥ä½¿ç¨modprobeæ¥å è½½kvmï¼å è½½åè¿éè¦éè¿å¶ä»å·¥å·åå»ºèææºãkvmæ¯ä¸ä¸ªå¨èæåçè§£å³æ¹æ¡ï¼ä½éè¦cpuæ¯æèæååè½ãç¸æ¯xenæ¥è¯´ï¼kvmå¯ä»¥æ´å æ¹ä¾¿çæ´åè¿linuxåæ ¸ï¼ä½å®è¿éè¦å¶å®èæåè½¯ä»¶ï¼å¦ï¼qemuï¼æè½å®ç°èæååè½ã\n * lxc - å³ï¼linux containerï¼linuxå®¹å¨ï¼æ¯ä¸ç§è½»éçº§çèæåçææ®µãå®å¯ä»¥æä¾è½»éçº§çèæåï¼ä»¥éç¦»è¿ç¨åèµæºï¼èä¸ä¸éè¦æä¾æä»¤è§£éæºå¶ä»¥åå¨èæåçå¶ä»å¤ææ§ãå®¹å¨ä¼ææå°å°ç±åä¸ªæä½ç³»ç»ç®¡ççèµæºååå°å­¤ç«çç»ä¸­ï¼ä»¥æ´å¥½å°å¨å­¤ç«çç»ä¹é´å¹³è¡¡æå²çªçèµæºä½¿ç¨éæ±ã\n * openvz - æ¯swsoftå¬å¸å¼åçå¼æºè½¯ä»¶ï¼æ¯è¯¥å¬å¸virtuozzoè½¯ä»¶çåºç¡äº§åï¼æ¯åºäºlinuxå¹³å°çæä½ç³»ç»çº§æå¡å¨èæåè§£å³æ¹æ¡ãéè¿openvzï¼å¯ä»¥å¨åä¸ªç©çæå¡å¨ä¸åå»ºå¤ä¸ªç¸äºéç¦»çèæä¸ç¨æå¡å¨(vps)å¹¶ä»¥æå¤§çæçå±äº«ç¡¬ä»¶åç®¡çèµæºãå¶ä¸è¿è¡èææå¡å¨è¢«ç§°ä¸ºvpsï¼virtual private serveï¼ï¼æ¯ä¸ªvpsçè¿è¡ç¯å¢åç¬ç«æå¡å¨å®å¨ä¸è´ãopenvzåºäºlinuxç³»ç»åæ ¸åä½ä¸ç³»ç»æä¾æä½ç³»ç»çº§èæåï¼å¨èæåè¿ç¨ä¸­èµæºæ¶èéå¸¸å°ï¼å®æ¹å®£ç§°çº¦1-2%ã\n * hyper-v - æ¯å¾®è½¯ä»¶æ¨åºçä¸ç§èæåææ¯ï¼å¯ä»¥éç¨åèæåæå¨èæçæ¹å¼åå»ºèææºãè½ç¶å®å¯ä»¥åå»ºwindowsælinuxæä½ç³»ç»ï¼ä½å¶æ¬èº«åªè½è¿è¡å¨windowsç³»ç»ä¸ï¼ä½¿ç¨èå´è¾ä¸ºæéã\n * oracle vm - oracleæ¨åºçæå¡å¨èæåè½¯ä»¶ï¼åºäºå¼æºçxenææ¯ï¼åæ¬oracle vm serveråoracle vm managerä¸¤é¨åã\n * vmware - æ¯ä¸å®¶éå¸¸åºåèæåè½¯ä»¶å¬å¸ï¼å¶äº§åæ¶µçæå¡å¨ãæ¡é¢ç­åç§èæåé¢åï¼å¦ï¼vmware workstation - æ¯ä¸æ¬¾æ¡é¢èææºè½¯ä»¶ï¼å¯ä»¥å¨ä¸å°å®ä½æºå¨ä¸æ¨¡æå®æ´çç½ç»ç¯å¢ï¼å¹¶å¯è¿è¡å¤ä¸ªwindowsãdosãlinuxæmacç³»ç»ï¼æ¯éå¸¸å¥½çå¼åãæµè¯ãé¨ç½²è§£å³æ¹æ¡ãä»ææ¯è§åº¦æ¥è¯´ï¼vmware workstationæ¯ä¸æ¬¾å®å¨èæåäº§åï¼å¯åå©ç¡¬ä»¶è¾å©å¨ä¸ä¿®æ¹ç¨æ·æä½ç³»ç»çæåµä¸å®æ´èæåæä½ç³»ç»ã\n * vmware esx server - æ¯ä¸æ¬¾éç¨äºä»»ä½ç³»ç»ç¯å¢çä¼ä¸çº§çèææºè½¯ä»¶ï¼å¯ä»¥è®¤ä¸ºæ¯vmware serverçåçº§çãç¸æ¯vmware workstationæ¥è¯´ï¼å¶åè½æ´å å¼ºå¤§ï¼å¯ä»¥ç¨äºæå»ºé«ä¼¸ç¼©åé«å¯é ä¼ä¸çº§æå¡å¨ï¼å¹¶å¯å®ç°è¿ç¨ç®¡çãé«çº§èµæºç®¡çæ§å¶ç­é«çº§åè½ã\n\n\n# dockerèæå\n\n\n# ä»ä¹æ¯dockerï¼\n\ndockeræ¯ä¸ä¸ªå¼æºçåºç¨å®¹å¨å¼æï¼å®è®©å¼åèå¯ä»¥æåä»ä»¬çåºç¨ä»¥åä¾èµåå°ä¸ä¸ªå¯ç§»æ¤çå®¹å¨ä¸­ï¼ç¶ååå¸å°å®è£äºä»»ä½ linux åè¡çæ¬çæºå¨ä¸ãdockeråºäºlxcæ¥å®ç°ç±»ä¼¼vmçåè½ï¼å¯ä»¥å¨æ´æéçç¡¬ä»¶èµæºä¸æä¾ç»ç¨æ·æ´å¤çè®¡ç®èµæºãä¸åvmç­èæåçæ¹å¼ä¸åï¼lxcä¸å±äºå¨èæåãé¨åèæåæåèæåä¸­çä»»ä½ä¸ä¸ªåç±»ï¼èæ¯ä¸ä¸ªæä½ç³»ç»çº§èæåã\n\ndockeræ¯ç´æ¥è¿è¡å¨å®¿ä¸»æä½ç³»ç»ä¹ä¸çä¸ä¸ªå®¹å¨ï¼ä½¿ç¨æ²ç®±æºå¶å®å¨èæåºä¸ä¸ªå®æ´çæä½ï¼å®¹å¨ä¹é´ä¸ä¼æä»»ä½æ¥å£ï¼ä»èè®©å®¹å¨ä¸å®¿ä¸»æºä¹é´ãå®¹å¨ä¸å®¹å¨ä¹é´éç¦»çæ´å å½»åºãæ¯ä¸ªå®¹å¨ä¼æèªå·±çæéç®¡çï¼ç¬ç«çç½ç»ä¸å­å¨æ ï¼åèªå·±çèµæºç®¡çè½ï¼ä½¿åä¸å°å®¿ä¸»æºä¸å¯ä»¥åå¥½çå±å­å¤ä¸ªå®¹å¨ã\n\ndockeråå©linuxçåæ ¸ç¹æ§ï¼å¦ï¼æ§å¶ç»ï¼control groupï¼ãå½åç©ºé´ï¼namespaceï¼ç­ï¼å¹¶ç´æ¥è°ç¨æä½ç³»ç»çç³»ç»è°ç¨æ¥å£ãä»èéä½æ¯ä¸ªå®¹å¨çç³»ç»å¼éï¼å¹¶å®ç°éä½å®¹å¨å¤æåº¦ãå¯å¨å¿«ãèµæºå ç¨å°ç­ç¹å¾ã\n\n\n# dockerè½å¹²ä»ä¹ï¼\n\n * ç®åéç½®\n\nè¿æ¯dockerå¬å¸å®£ä¼ çdockerçä¸»è¦ä½¿ç¨åºæ¯ãèææºçæå¤§å¥½å¤æ¯è½å¨ä½ çç¡¬ä»¶è®¾æ½ä¸è¿è¡åç§éç½®ä¸ä¸æ ·çå¹³å°ï¼è½¯ä»¶ãç³»ç»ï¼ï¼dockerå¨éä½é¢å¤å¼éçæåµä¸æä¾äºåæ ·çåè½ãå®è½è®©ä½ å°è¿è¡ç¯å¢åéç½®æ¾å¨ä»£ç ä¸­ç¶åé¨ç½²ï¼åä¸ä¸ªdockerçéç½®å¯ä»¥å¨ä¸åçç¯å¢ä¸­ä½¿ç¨ï¼è¿æ ·å°±éä½äºç¡¬ä»¶è¦æ±ååºç¨ç¯å¢ä¹é´è¦ååº¦ã\n\n * ä»£ç æµæ°´çº¿ï¼code pipelineï¼ç®¡ç\n\nåä¸ä¸ªåºæ¯å¯¹äºç®¡çä»£ç çæµæ°´çº¿èµ·å°äºå¾å¤§çå¸®å©ãä»£ç ä»å¼åèçæºå¨å°æç»å¨çäº§ç¯å¢ä¸çé¨ç½²ï¼éè¦ç»è¿å¾å¤çä¸­é´ç¯å¢ãèæ¯ä¸ä¸ªä¸­é´ç¯å¢é½æèªå·±å¾®å°çå·®å«ï¼dockerç»åºç¨æä¾äºä¸ä¸ªä»å¼åå°ä¸çº¿åä¸è´çç¯å¢ï¼è®©ä»£ç çæµæ°´çº¿åå¾ç®åä¸å°ã\n\n * æé«å¼åæç\n\nè¿å°±å¸¦æ¥äºä¸äºé¢å¤çå¥½å¤ï¼dockerè½æåå¼åèçå¼åæçãè¯¦ç»ä¸ç¹çä¾å­ï¼å¯ä»¥åèaaterå¨devopsdays austin 2014å¤§ä¼æèæ¯dockerconä¸çæ¼è®²ã\n\nä¸åçå¼åç¯å¢ä¸­ï¼æä»¬é½æ³æä¸¤ä»¶äºåå¥½ãä¸æ¯æä»¬æ³è®©å¼åç¯å¢å°½éè´´è¿çäº§ç¯å¢ï¼äºæ¯æä»¬æ³å¿«éæ­å»ºå¼åç¯å¢ã\n\nçæ³ç¶æä¸­ï¼è¦è¾¾å°ç¬¬ä¸ä¸ªç®æ ï¼æä»¬éè¦å°æ¯ä¸ä¸ªæå¡é½è·å¨ç¬ç«çèææºä¸­ä»¥ä¾¿çæ§çäº§ç¯å¢ä¸­æå¡çè¿è¡ç¶æãç¶èï¼æä»¬å´ä¸æ³æ¯æ¬¡é½éè¦ç½ç»è¿æ¥ï¼æ¯æ¬¡éæ°ç¼è¯çæ¶åè¿ç¨è¿æ¥ä¸å»ç¹å«éº»ç¦ãè¿å°±æ¯dockeråçç¹å«å¥½çå°æ¹ï¼å¼åç¯å¢çæºå¨éå¸¸åå­æ¯è¾å°ï¼ä¹åä½¿ç¨èæçæ¶åï¼æä»¬ç»å¸¸éè¦ä¸ºå¼åç¯å¢çæºå¨å åå­ï¼èç°å¨dockerå¯ä»¥è½»æçè®©å åä¸ªæå¡å¨dockerä¸­è·èµ·æ¥ã\n\n * éç¦»åºç¨\n\næå¾å¤ç§åå ä¼è®©ä½ éæ©å¨ä¸ä¸ªæºå¨ä¸è¿è¡ä¸åçåºç¨ï¼æ¯å¦ä¹åæå°çæé«å¼åæççåºæ¯ç­ã\n\næä»¬ç»å¸¸éè¦èèä¸¤ç¹ï¼ä¸æ¯å ä¸ºè¦éä½ææ¬èè¿è¡æå¡å¨æ´åï¼äºæ¯å°ä¸ä¸ªæ´ä½å¼çåºç¨æåææ¾è¦åçåä¸ªæå¡ï¼è¯èæ³¨ï¼å¾®æå¡æ¶æï¼ãå¦æä½ æ³äºè§£ä¸ºä»ä¹æ¾è¦åçåºç¨è¿ä¹éè¦ï¼è¯·åèsteve yegeçè¿ç¯è®ºæï¼æä¸­å°googleåäºé©¬éåäºæ¯è¾ã\n\n * æ´åæå¡å¨ æ­£å¦éè¿èææºæ¥æ´åå¤ä¸ªåºç¨ï¼dockeréç¦»åºç¨çè½åä½¿å¾dockerå¯ä»¥æ´åå¤ä¸ªæå¡å¨ä»¥éä½ææ¬ãç±äºæ²¡æå¤ä¸ªæä½ç³»ç»çåå­å ç¨ï¼ä»¥åè½å¨å¤ä¸ªå®ä¾ä¹é´å±äº«æ²¡æä½¿ç¨çåå­ï¼dockerå¯ä»¥æ¯èææºæä¾æ´å¥½çæå¡å¨æ´åè§£å³æ¹æ¡ã\n * è°éè½å\n\ndockeræä¾äºå¾å¤çå·¥å·ï¼è¿äºå·¥å·ä¸ä¸å®åªæ¯éå¯¹å®¹å¨ï¼ä½æ¯å´éç¨äºå®¹å¨ãå®ä»¬æä¾äºå¾å¤çåè½ï¼åæ¬å¯ä»¥ä¸ºå®¹å¨è®¾ç½®æ£æ¥ç¹ãè®¾ç½®çæ¬åæ¥çä¸¤ä¸ªå®¹å¨ä¹é´çå·®å«ï¼è¿äºç¹æ§å¯ä»¥å¸®å©è°è¯bugãä½ å¯ä»¥å¨ãdockeræ¯æä¸çãçæç« ä¸­æ¾å°è¿ä¸ç¹çä¾è¯ã\n\n * å¤ç§æ·\n\nå¦å¤ä¸ä¸ªdockeræææçä½¿ç¨åºæ¯æ¯å¨å¤ç§æ·çåºç¨ä¸­ï¼å®å¯ä»¥é¿åå³é®åºç¨çéåãæä»¬ä¸ä¸ªç¹å«çå³äºè¿ä¸ªåºæ¯çä¾å­æ¯ä¸ºiotï¼ç©èç½ï¼çåºç¨å¼åä¸ä¸ªå¿«éãæç¨çå¤ç§æ·ç¯å¢ãè¿ç§å¤ç§æ·çåºæ¬ä»£ç éå¸¸å¤æï¼å¾é¾å¤çï¼éæ°è§åè¿æ ·ä¸ä¸ªåºç¨ä¸ä½æ¶èæ¶é´ï¼ä¹æµªè´¹éé±ã\n\nä½¿ç¨dockerï¼å¯ä»¥ä¸ºæ¯ä¸ä¸ªç§æ·çåºç¨å±çå¤ä¸ªå®ä¾åå»ºéç¦»çç¯å¢ï¼è¿ä¸ä»ç®åèä¸ææ¬ä½å»ï¼å½ç¶è¿ä¸åå¾çäºdockerç¯å¢çå¯å¨éåº¦åå¶é«æçdiffå½ä»¤ã\n\n * å¿«éé¨ç½²\n\nå¨èææºä¹åï¼å¼å¥æ°çç¡¬ä»¶èµæºéè¦æ¶èå å¤©çæ¶é´ãdockerçèæåææ¯å°è¿ä¸ªæ¶é´éå°äºå åéï¼dockeråªæ¯åå»ºä¸ä¸ªå®¹å¨è¿ç¨èæ éå¯å¨æä½ç³»ç»ï¼è¿ä¸ªè¿ç¨åªéè¦ç§çº§çæ¶é´ãè¿æ­£æ¯googleåfacebooké½çéçç¹æ§ã\n\nä½ å¯ä»¥å¨æ°æ®ä¸­å¿åå»ºéæ¯èµæºèæ éæå¿éæ°å¯å¨å¸¦æ¥çå¼éãéå¸¸æ°æ®ä¸­å¿çèµæºå©ç¨çåªæ30%ï¼éè¿ä½¿ç¨dockerå¹¶è¿è¡ææçèµæºåéå¯ä»¥æé«èµæºçå©ç¨çã\n\n\n# dockerçåºæ¬ç»æ\n\nä»åºï¼éåï¼å®¹å¨çå³ç³»ï¼è¿æ¯å®ç½çå¾ï¼\n\n\n\n * éåï¼imageï¼\n\ndocker éåï¼imageï¼å°±æ¯ä¸ä¸ªåªè¯»çæ¨¡æ¿ãéåå¯ä»¥ç¨æ¥åå»º docker å®¹å¨ï¼ä¸ä¸ªéåå¯ä»¥åå»ºå¾ å¤å®¹å¨ã å°±å¥½ä¼¼ java ä¸­ç ç±»åå¯¹è±¡ï¼ç±»å°±æ¯éåï¼å®¹å¨å°±æ¯å¯¹è±¡ï¼\n\n * å®¹å¨ï¼containerï¼ï¼\n\ndocker å©ç¨å®¹å¨ï¼containerï¼ç¬ç«è¿è¡çä¸ä¸ªæä¸ç»åºç¨ãå®¹å¨æ¯ç¨éååå»ºçè¿è¡å®ä¾ã\n\nå®å¯ä»¥è¢«å¯å¨ãå¼å§ãåæ­¢ãå é¤ãæ¯ä¸ªå®¹å¨é½æ¯ç¸äºéç¦»çï¼ä¿è¯å®å¨çå¹³å°ã\n\nå¯ä»¥æå®¹å¨çåæ¯ä¸ä¸ªç®æçç linux ç¯å¢ï¼åæ¬rootç¨æ·æéãè¿ç¨ç©ºé´ãç¨æ·ç©ºé´åç½ç»ç©ºé´ç­ï¼ åè¿è¡å¨å¶ä¸­çåºç¨ç¨åº\n\nå®¹å¨çå®ä¹åéåå ä¹ä¸æ¨¡ä¸æ ·ï¼ä¹æ¯ä¸å å±çç»ä¸è§è§ï¼å¯ä¸åºå«å¨äºå®¹å¨çæä¸é¢é£ä¸å±æ¯å¯è¯»å¯åçã\n\n * ä»åºï¼repositoryï¼ï¼\n\nä»åºï¼repositoryï¼æ¯éä¸­å­æ¾éåæä»¶çåºæã\n\nä»åº(repository)åä»åºæ³¨åæå¡å¨ï¼registryï¼æ¯æåºå«çãä»åºæ³¨åæå¡å¨ä¸å¾å¾å­æ¾çå¤ä¸ªä» åºï¼æ¯ä¸ªä»åºä¸­ååå«äºå¤ä¸ªéåï¼æ¯ä¸ªéåæä¸åçæ ç­¾ï¼tagï¼ã\n\nä»åºåä¸ºå¬å¼ä»åºï¼publicï¼åç§æä»åºï¼privateï¼ä¸¤ç§å½¢å¼\n\næå¤§çå¬å¼ä»åºæ¯ docker hub(https://hub.docker.com/)ï¼å­æ¾äºæ°éåºå¤§çéåä¾ç¨æ·ä¸è½½ã å½åçå¬å¼ä»åºåæ¬é¿éäº ãç½æäº ç­\n\nå°ç»ï¼\n\ndocker æ¬èº«æ¯ä¸ä¸ªå®¹å¨è¿è¡è½½ä½æç§°ä¹ä¸ºç®¡çå¼æãæä»¬æåºç¨ç¨åºåéç½®ä¾èµæåå¥½å½¢æä¸ä¸ª å¯äº¤ä»çè¿è¡ç¯å¢ï¼è¿ä¸ªæåå¥½çè¿è¡ç¯å¢å°±ä¼¼ä¹ imageéåæä»¶ãåªæéè¿è¿ä¸ªéåæä»¶æè½ç æ docker å®¹å¨ãimage æä»¶å¯ä»¥çä½æ¯å®¹å¨çæ¨¡æ¿ãdocker æ ¹æ® image æä»¶çæå®¹å¨çå®ä¾ã åä¸ä¸ª image æä»¶ï¼å¯ä»¥çæå¤ä¸ªåæ¶è¿è¡çå®¹å¨å®ä¾ã\n\nimage æä»¶çæçå®¹å¨å®ä¾ï¼æ¬èº«ä¹æ¯ä¸ä¸ªæä»¶ï¼ç§°ä¸ºéåæä»¶\n\nä¸ä¸ªå®¹å¨è¿è¡ä¸ç§æå¡ï¼å½æä»¬éè¦çæ¶åï¼å°±å¯ä»¥éè¿dockerå®¢æ·ç«¯åå»ºä¸ä¸ªå¯¹åºçè¿è¡å®ä¾ï¼ ä¹å°±æ¯æä»¬çå®¹å¨\n\nè³äºä»åºï¼å°±æ¯æ¾äºä¸å éåçå°æ¹ï¼æä»¬å¯ä»¥æéååå¸å°ä»åºä¸­ï¼éè¦çæ¶åä»ä»åºä¸­æä¸æ¥ å°±å¯ä»¥äºã\n\n\n# dockeråèææºçåºå«ï¼\n\n> èææºvirtual machineä¸å®¹å¨åææ¯ï¼ä»£è¡¨dockerï¼é½æ¯èæåææ¯ï¼ä¸¤èçåºå«å¨äºèæåçç¨åº¦ä¸åã\n\n\n# åºæ¬å¯¹æ¯\n\n\n\n * èææº\n   * åºç¡è®¾æ½ï¼infrastructureï¼ãå®å¯ä»¥æ¯ä½ çä¸ªäººçµèï¼æ°æ®ä¸­å¿çæå¡å¨ï¼æèæ¯äºä¸»æºã\n   * ä¸»æä½ç³»ç»ï¼host operating systemï¼ãä½ çä¸ªäººçµèä¹ä¸ï¼è¿è¡çå¯è½æ¯macosï¼windowsæèæä¸ªlinuxåè¡çã\n   * èææºç®¡çç³»ç»ï¼hypervisorï¼ãå©ç¨hypervisorï¼å¯ä»¥å¨ä¸»æä½ç³»ç»ä¹ä¸è¿è¡å¤ä¸ªä¸åçä»æä½ç³»ç»ãç±»å1çhypervisorææ¯æmacosçhyperkitï¼æ¯æwindowsçhyper-vä»¥åæ¯ælinuxçkvmãç±»å2çhypervisorævirtualboxåvmwareã\n   * æä½ç³»ç»ï¼guest operating systemï¼ãåè®¾ä½ éè¦è¿è¡3ä¸ªç¸äºéç¦»çåºç¨ï¼åéè¦ä½¿ç¨hypervisorå¯å¨3ä¸ªä»æä½ç³»ç»ï¼ä¹å°±æ¯3ä¸ªèææºãè¿äºèææºé½éå¸¸å¤§ï¼ä¹è®¸æ700mbï¼è¿å°±æå³çå®ä»¬å°å ç¨2.1gbçç£çç©ºé´ãæ´ç³ç³çæ¯ï¼å®ä»¬è¿ä¼æ¶èå¾å¤cpuååå­ã\n   * åç§ä¾èµãæ¯ä¸ä¸ªä»æä½ç³»ç»é½éè¦å®è£è®¸å¤ä¾èµãå¦æä½ ççåºç¨éè¦è¿æ¥postgresqlçè¯ï¼åéè¦å®è£libpq-devï¼å¦æä½ ä½¿ç¨rubyçè¯ï¼åºè¯¥éè¦å®è£gemsï¼å¦æä½¿ç¨å¶ä»ç¼ç¨è¯­è¨ï¼æ¯å¦pythonæènode.jsï¼é½ä¼éè¦å®è£å¯¹åºçä¾èµåºã\n * dockerå®¹å¨\n   * ä¸»æä½ç³»ç»ï¼host operating systemï¼ãææä¸»æµçlinuxåè¡çé½å¯ä»¥è¿è¡dockerãå¯¹äºmacosåwindowsï¼ä¹æä¸äºåæ³"è¿è¡"dockerã\n   * dockerå®æ¤è¿ç¨ï¼docker daemonï¼ãdockerå®æ¤è¿ç¨åä»£äºhypervisorï¼å®æ¯è¿è¡å¨æä½ç³»ç»ä¹ä¸çåå°è¿ç¨ï¼è´è´£ç®¡çdockerå®¹å¨ã\n   * åç§ä¾èµãå¯¹äºdockerï¼åºç¨çææä¾èµé½æåå¨dockeréåä¸­ï¼dockerå®¹å¨æ¯åºäºdockeréååå»ºçã\n   * åºç¨ãåºç¨çæºä»£ç ä¸å®çä¾èµé½æåå¨dockeréåä¸­ï¼ä¸åçåºç¨éè¦ä¸åçdockeréåãä¸åçåºç¨è¿è¡å¨ä¸åçdockerå®¹å¨ä¸­ï¼å®ä»¬æ¯ç¸äºéç¦»çã\n\nèææºæ¯å¨ç©çèµæºå±é¢å®ç°çéç¦»ï¼ç¸å¯¹äºèææºï¼dockeræ¯ä½ appå±é¢å®ç°çéç¦»ï¼å¹¶ä¸çå»äºèææºæä½ç³»ç»ï¼guest osï¼ï¼ï¼ä»èèçäºä¸é¨åçç³»ç»èµæºï¼dockerå®æ¤è¿ç¨å¯ä»¥ç´æ¥ä¸ä¸»æä½ç³»ç»è¿è¡éä¿¡ï¼ä¸ºåä¸ªdockerå®¹å¨åéèµæºï¼å®è¿å¯ä»¥å°å®¹å¨ä¸ä¸»æä½ç³»ç»éç¦»ï¼å¹¶å°åä¸ªå®¹å¨äºç¸éç¦»ãèææºå¯å¨éè¦æ°åéï¼èdockerå®¹å¨å¯ä»¥å¨æ°æ¯«ç§åå¯å¨ãç±äºæ²¡æèè¿çä»æä½ç³»ç»ï¼dockerå¯ä»¥èçå¤§éçç£çç©ºé´ä»¥åå¶ä»ç³»ç»èµæºã\n\nèææºä¸å®¹å¨dockerçåºå«ï¼å¨äºvmå¤äºä¸å±guest osï¼èææºçhypervisorä¼å¯¹ç¡¬ä»¶èµæºä¹è¿è¡èæåï¼èå®¹å¨dockerä¼ç´æ¥ä½¿ç¨å®¿ä¸»æºçç¡¬ä»¶èµæºã\n\nä¸é¢æä»¬éç¨å½¢è±¡çæ¯å»åºåä¸¤èçéç¦»çº§å«ï¼\n\n * æå¡å¨ï¼æ¯ä½ä¸ä¸ªå¤§åçä»ç®¡åºå°ï¼åå«åºå°ä¸é¶æ£çè´§ç©ââç¸å½äºåç§æå¡å¨èµæºã\n * èææºææ¯ï¼æ¯ä½ä»åºï¼æ¥æç¬ç«çç©ºé´å æ¾åç§è´§ç©æéè£ç®±ï¼ä»åºä¹é´å®å¨ç¬ç«ââä»åºç¸å½äºåç§ç³»ç»ï¼ç¬ç«çåºç¨ç³»ç»åæä½ç³»ç»ã\n * dockerï¼æ¯ä½éè£ç®±ï¼æä½åç§è´§ç©çæåââå°åç§åºç¨ç¨åºåä»ä»¬æä¾èµçè¿è¡ç¯å¢æåææ åçå®¹å¨ï¼å®¹å¨ä¹é´éç¦»ã\n\n\n# èæææ¯å¯¹æ¯\n\n * éç¦»æ§\n\nå¨äºéç¦»æ§ä¸é¢ï¼ç±äºvmå¯¹æä½ç³»ç»ä¹è¿è¡äºèæåï¼éç¦»çæ´å å½»åºãèdockerå±äº«å®¿ä¸»æºçæä½ç³»ç»ï¼éç¦»æ§è¾å·®ã\n\n * è¿è¡æç\n\nç±äºvmçéç¦»æä½ï¼å¯¼è´çæèææºçéçå¤§å¤§ä½äºå®¹å¨dockerçæçéåº¦ï¼å ä¸ºdockerç´æ¥å©ç¨å®¿ä¸»æºçç³»ç»åæ ¸ãæ¯å¦openstackè½å¤ä»¥10å°/minçéåº¦åå»ºèææºï¼èdockerå¯ä»¥åå°å¨å ç§éä¹ååå»ºå¤§éå®¹å¨ï¼å®ä»¬çå¯å¨éåº¦æ¯å¨æ°éçº§ä¸çå·®è·ã\n\nå ä¸ºèææºå¢å äºä¸å±èæç¡¬ä»¶å±ï¼è¿è¡å¨èææºä¸çåºç¨ç¨åºå¨è¿è¡æ°å¼è®¡ç®æ¶æ¯è¿è¡å¨hypervisorèæçcpuä¸çï¼å¦å¤ä¸æ¹é¢æ¯ç±äºè®¡ç®ç¨åºæ¬èº«çç¹æ§å¯¼è´çå·®å¼ãèææºèæçcpuæ¶æä¸åäºå®écpuæ¶æï¼æ°å¼è®¡ç®ç¨åºä¸è¬éå¯¹ç¹å®çcpuæ¶ææä¸å®çä¼åæªæ½ï¼èæåä½¿è¿äºæªæ½ä½åºï¼çè³èµ·å°åææã\n\n * èµæºå©ç¨ç\n\nå¨èµæºå©ç¨çä¸èææºç±äºéç¦»æ´å½»åºï¼å æ­¤å©ç¨çä¹ä¼ç¸å¯¹è¾ä½ã\n\nå ä¸ºèææºå¢å äºä¸å±èæç¡¬ä»¶å±ï¼è¿è¡å¨èææºä¸çåºç¨ç¨åºå¨è¿è¡æ°å¼è®¡ç®æ¶æ¯è¿è¡å¨hypervisorèæçcpuä¸çï¼å¦å¤ä¸æ¹é¢æ¯ç±äºè®¡ç®ç¨åºæ¬èº«çç¹æ§å¯¼è´çå·®å¼ãèææºèæçcpuæ¶æä¸åäºå®écpuæ¶æï¼æ°å¼è®¡ç®ç¨åºä¸è¬éå¯¹ç¹å®çcpuæ¶ææä¸å®çä¼åæªæ½ï¼èæåä½¿è¿äºæªæ½ä½åºï¼çè³èµ·å°åææãæ¯å¦å¯¹äºæ¬æ¬¡å®éªçå¹³å°ï¼å®éçcpuæ¶ææ¯2åç©çcpuã\n\n\n# åèæç« \n\næ¨èæµè§ä»¥ä¸ç½ç«ï¼\n\n * java å¨æ ç¥è¯ä½ç³»\n   \n   https://www.pdai.tech/md/devops/docker/docker-01-docker-vm.html',charsets:{cjk:!0},lastUpdated:"2023/06/02, 15:06:00",lastUpdatedTimestamp:16857188e5},{title:"Docker - å¸¸ç¨å½ä»¤",frontmatter:{title:"Docker - å¸¸ç¨å½ä»¤",date:"2021-06-03T16:11:38.000Z",permalink:"/pages/a25911/"},regularPath:"/05.%E5%B7%A5%E5%85%B7%E9%83%A8%E7%BD%B2/10.Docker/06.Docker%20-%20%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html",relativePath:"05.å·¥å·é¨ç½²/10.Docker/06.Docker - å¸¸ç¨å½ä»¤.md",key:"v-76ebdf26",path:"/pages/a25911/",headers:[{level:2,title:"å¸®å©å½ä»¤",slug:"å¸®å©å½ä»¤",normalizedTitle:"å¸®å©å½ä»¤",charIndex:3},{level:2,title:"éåå½ä»¤",slug:"éåå½ä»¤",normalizedTitle:"éåå½ä»¤",charIndex:11},{level:3,title:"docker images",slug:"docker-images",normalizedTitle:"docker images",charIndex:21},{level:3,title:"docker search",slug:"docker-search",normalizedTitle:"docker search",charIndex:40},{level:3,title:"docker pull",slug:"docker-pull",normalizedTitle:"docker pull",charIndex:59},{level:3,title:"docker rmi",slug:"docker-rmi",normalizedTitle:"docker rmi",charIndex:76},{level:2,title:"å®¹å¨å½ä»¤",slug:"å®¹å¨å½ä»¤",normalizedTitle:"å®¹å¨å½ä»¤",charIndex:90},{level:3,title:"å®¹å¨å¯å¨",slug:"å®¹å¨å¯å¨",normalizedTitle:"å®¹å¨å¯å¨",charIndex:100},{level:3,title:"å®¹å¨æ¥ç",slug:"å®¹å¨æ¥ç",normalizedTitle:"å®¹å¨æ¥ç",charIndex:110},{level:3,title:"éåºå®¹å¨",slug:"éåºå®¹å¨",normalizedTitle:"éåºå®¹å¨",charIndex:120},{level:3,title:"å¯å¨åæ­¢å®¹å¨",slug:"å¯å¨åæ­¢å®¹å¨",normalizedTitle:"å¯å¨åæ­¢å®¹å¨",charIndex:130},{level:3,title:"å é¤å®¹å¨",slug:"å é¤å®¹å¨",normalizedTitle:"å é¤å®¹å¨",charIndex:142},{level:3,title:"å®¹å¨åå¯å¨",slug:"å®¹å¨åå¯å¨",normalizedTitle:"å®¹å¨åå¯å¨",charIndex:152},{level:3,title:"åå°å¯å¨å®¹å¨",slug:"åå°å¯å¨å®¹å¨",normalizedTitle:"åå°å¯å¨å®¹å¨",charIndex:163},{level:3,title:"æ¸çåæ­¢çå®¹å¨",slug:"æ¸çåæ­¢çå®¹å¨",normalizedTitle:"æ¸çåæ­¢çå®¹å¨",charIndex:175},{level:3,title:"æ¥çæ¥å¿",slug:"æ¥çæ¥å¿",normalizedTitle:"æ¥çæ¥å¿",charIndex:188},{level:3,title:"è¿å¥æ­£å¨è¿è¡çå®¹å¨",slug:"è¿å¥æ­£å¨è¿è¡çå®¹å¨",normalizedTitle:"è¿å¥æ­£å¨è¿è¡çå®¹å¨",charIndex:198},{level:3,title:"å®¹å¨åæ·è´æä»¶å°ä¸»æºä¸",slug:"å®¹å¨åæ·è´æä»¶å°ä¸»æºä¸",normalizedTitle:"å®¹å¨åæ·è´æä»¶å°ä¸»æºä¸",charIndex:213},{level:2,title:"å¸¸ç¨å½ä»¤æ»ç»",slug:"å¸¸ç¨å½ä»¤æ»ç»",normalizedTitle:"å¸¸ç¨å½ä»¤æ»ç»",charIndex:228}],headersStr:"å¸®å©å½ä»¤ éåå½ä»¤ docker images docker search docker pull docker rmi å®¹å¨å½ä»¤ å®¹å¨å¯å¨ å®¹å¨æ¥ç éåºå®¹å¨ å¯å¨åæ­¢å®¹å¨ å é¤å®¹å¨ å®¹å¨åå¯å¨ åå°å¯å¨å®¹å¨ æ¸çåæ­¢çå®¹å¨ æ¥çæ¥å¿ è¿å¥æ­£å¨è¿è¡çå®¹å¨ å®¹å¨åæ·è´æä»¶å°ä¸»æºä¸ å¸¸ç¨å½ä»¤æ»ç»",content:' * å¸®å©å½ä»¤\n * éåå½ä»¤\n   * docker images\n   * docker search\n   * docker pull\n   * docker rmi\n * å®¹å¨å½ä»¤\n   * å®¹å¨å¯å¨\n   * å®¹å¨æ¥ç\n   * éåºå®¹å¨\n   * å¯å¨åæ­¢å®¹å¨\n   * å é¤å®¹å¨\n   * å®¹å¨åå¯å¨\n   * åå°å¯å¨å®¹å¨\n   * æ¸çåæ­¢çå®¹å¨\n   * æ¥çæ¥å¿\n   * è¿å¥æ­£å¨è¿è¡çå®¹å¨\n   * å®¹å¨åæ·è´æä»¶å°ä¸»æºä¸\n * å¸¸ç¨å½ä»¤æ»ç»\n\n\n# å¸®å©å½ä»¤\n\ndocker version # æ¾ç¤º Docker çæ¬ä¿¡æ¯ã\ndocker info # æ¾ç¤º Docker ç³»ç»ä¿¡æ¯ï¼åæ¬éååå®¹å¨æ°ã\ndocker --help # å¸®å©\n\n\n1\n2\n3\n\n\n\n# éåå½ä»¤\n\n\n# docker images\n\nååºæ¬å°ä¸»æºä¸çéå\n\n\n\nè§£éï¼\n\n * REPOSITORY éåçä»åºæº\n\n * TAG éåçæ ç­¾\n\n * IMAGE ID éåçID\n\n * CREATED éååå»ºæ¶é´\n\n * SIZE éåå¤§å°\n\nåä¸ä¸ªä»åºæºå¯ä»¥æå¤ä¸ª TAGï¼ä»£è¡¨è¿ä¸ªä»åºæºçä¸åçæ¬ï¼æä»¬ä½¿ç¨ REPOSITORY:TAG å®ä¹ä¸åçéåï¼å¦æä½ ä¸å®ä¹éåçæ ç­¾çæ¬ï¼dockerå°é»è®¤ä½¿ç¨ lastest éåï¼\n\n\n# docker search\n\næç´¢éåï¼\n\ndocker search æä¸ªéåçåç§° å¯¹åºDockerHubä»åºä¸­çéå\n\ndocker search mysql\n\n\n1\n\n\nå¯éé¡¹ï¼\n\nååºæ¶èæ°ä¸å°äºæå®å¼çéåï¼ä¾å¦\n\ndocker search mysql --filter=stars=1000\n\n\n1\n\n\n\n\n * NAME: éåä»åºæºçåç§°\n * DESCRIPTION: éåçæè¿°\n * OFFICIAL: æ¯å¦ docker å®æ¹åå¸\n * STARS: ç±»ä¼¼ Github éé¢ç starï¼è¡¨ç¤ºç¹èµãåæ¬¢çææã\n * AUTOMATED: èªå¨æå»ºã\n\nä¹éè¿Docker Hub è¿è¡æ¥æ¾\n\næ¯å¦https://hub.docker.com/search?q=mysql&type=image\n\n\n# docker pull\n\nä¸è½½éå\n\nä¸åtagï¼é»è®¤æ¯latest\n\ndocker pull mysql\n\n\n1\n\n\næå®çæ¬ä¸è½½\n\ndocker pull mysql:5.7\n\n\n1\n\n\n\n# docker rmi\n\nå é¤éå\n\ndocker rmi -f éåid # å é¤åä¸ª\ndocker rmi -f éåå:tag éåå:tag # å é¤å¤ä¸ª\n\n\n1\n2\n\n\nå é¤å¨é¨\n\ndocker rmi -f $(docker images -qa)\n\n\n1\n\n\n\n# å®¹å¨å½ä»¤\n\næéåæè½åå»ºå®¹å¨ï¼æä»¬è¿éä½¿ç¨ centos çéåæ¥æµè¯ï¼å°±æ¯èæä¸ä¸ª centos ï¼\n\ndocker pull centos\n\n\n1\n\n\n\n# å®¹å¨å¯å¨\n\ndocker run [OPTIONS] IMAGE [COMMAND][ARG...]\n\n\n1\n\n\nå¸¸ç¨åæ°è¯´æ\n\nåæ°              è¯´æ\n--name="Name"   ç»å®¹å¨æå®ä¸ä¸ªåå­\n                ä¹ååå¯¹å®¹å¨æä½ï¼å¯ä»¥ç¨è¿ä¸ªnameï¼ç¸å½äºâå«åâ\n-d              åå°æ¹å¼è¿è¡å®¹å¨ï¼å¹¶è¿åå®¹å¨çidï¼\n-i              ä»¥äº¤äºæ¨¡å¼è¿è¡å®¹å¨ï¼éè¿å -t ä¸èµ·ä½¿ç¨\n-t              ç»å®¹å¨éæ°åéä¸ä¸ªç»ç«¯ï¼éå¸¸å -i ä¸èµ·ä½¿ç¨\n-P              éæºç«¯å£æ å°ï¼å¤§åï¼\n-p              æå®ç«¯å£æ å°ï¼å°åï¼ï¼ä¸è¬å¯ä»¥æåç§åæ³\n\næ¥çéåï¼\n\n\n\nå¯å¨ä¸ä¸ªå®¹å¨ï¼ä½¿ç¨centosè¿è¡ç¨äº¤äºæ¨¡å¼å¯å¨å®¹å¨ï¼å¨å®¹å¨åæ§è¡/bin/bashå½ä»¤ï¼\n\ndocker run -it centos /bin/bash\n\n\n1\n\n\n\n\néåºå®¹å¨ï¼\n\n\n\n\n# å®¹å¨æ¥ç\n\ndocker ps [OPTIONS]\n\n\n1\n\n\nå¸¸ç¨åæ°è¯´æ\n\nåæ°     è¯´æ\n-a     ååºå½åæææ­£å¨è¿è¡çå®¹å¨ + åå²è¿è¡è¿çå®¹å¨\n-l     æ¾ç¤ºæè¿åå»ºçå®¹å¨\n-n=?   æ¾ç¤ºæè¿nä¸ªåå»ºçå®¹å¨\n-q     éé»æ¨¡å¼ï¼åªæ¾ç¤ºå®¹å¨ç¼å·ã\n\n\n# éåºå®¹å¨\n\næä»¤         è¯´æ\nexit       å®¹å¨åæ­¢éåº\nctrl+P+Q   å®¹å¨ä¸åæ­¢éåº\n\n\n# å¯å¨åæ­¢å®¹å¨\n\næä»¤                             è¯´æ\ndocker start (å®¹å¨id or å®¹å¨å)     å¯å¨å®¹å¨\ndocker restart (å®¹å¨id or å®¹å¨å)   éå¯å®¹å¨\ndocker stop (å®¹å¨id or å®¹å¨å)      åæ­¢å®¹å¨\ndocker kill (å®¹å¨id or å®¹å¨å)      å¼ºå¶åæ­¢å®¹å¨\n\n\n# å é¤å®¹å¨\n\næä»¤                                è¯´æ\ndocker rm å®¹å¨id                    å é¤æå®å®¹å¨\ndocker rm -f $(docker ps -a -q)   å é¤ææå®¹å¨\ndocker ps -a -q|xargs docker rm   å é¤ææå®¹å¨\n\n\n# å®¹å¨åå¯å¨\n\n * å½ä»¤\n   \n   docker start id/name\n   \n   \n   1\n   \n\nå¯å¨ä¹ååæ­¢å³é­çå®¹å¨\n\n\n# åå°å¯å¨å®¹å¨\n\ndocker run -d å®¹å¨å\n\n\n1\n\n\nå¯å¨centosï¼ä½¿ç¨åå°æ¹å¼å¯å¨ï¼ä¾å¦ï¼\n\ndocker run -d centos\n\n\n1\n\n\né®é¢ï¼ ä½¿ç¨docker ps æ¥çï¼åç°å®¹å¨å·²ç»éåºäºï¼\n\nè§£éï¼Dockerå®¹å¨åå°è¿è¡ï¼å°±å¿é¡»æä¸ä¸ªåå°è¿ç¨ï¼å®¹å¨è¿è¡çå½ä»¤å¦æä¸æ¯é£äºä¸ç´æèµ·çå½ ä»¤ï¼å°±ä¼èªå¨éåºã\n\næ¯å¦ï¼ä½ è¿è¡äºnginxæå¡ï¼ä½æ¯dockeråå°æ²¡æè¿è¡åºç¨ï¼è¿ç§æåµä¸ï¼å®¹å¨å¯å¨åï¼ä¼ç«å³èªæï¼å ä¸ºä»è§å¾æ²¡æç¨åºäºï¼æä»¥æå¥½çæåµæ¯ï¼å°ä½ çåºç¨ä½¿ç¨åå°è¿ç¨çæ¹å¼è¿è¡å¯å¨ã\n\n\n# æ¸çåæ­¢çå®¹å¨\n\næ¸çåæ­¢çå®¹å¨:\n\ndocker container prune\n\n\n1\n\n\n\n\n\n# æ¥çæ¥å¿\n\ndocker logs -f -t --tail å®¹å¨id\n\n\n1\n\n\nä¾å­ï¼æä»¬å¯å¨ centosï¼å¹¶ç¼åä¸æ®µèæ¬æ¥æµè¯ç©ç©ï¼æåæ¥çæ¥å¿\n\ndocker run -d centos /bin/sh -c "while true;do echo hello;sleep 1;done"\n\n\n1\n\n\n\n\næ¥çæ¥å¿ï¼\n\ndocker logs å®¹å¨id\n\n\n1\n\n\nåæ°       è¯´æ\n-t       æ¾ç¤ºæ¶é´æ³\n-f       æå°ææ°çæ¥å¿\n--tail   æ°å­æ¾ç¤ºå¤å°æ¡ï¼\n\ndocker logs -tf --tail 10 87f5e5a2954e\n\n\n1\n\n\n\n\n * åæ­¢è¿è¡\n\ndocker stop 87f5e5a2954e\n\n\n1\n\n\n\n\n * æ¥çæ­£å¨è¿è¡å®¹å¨çè¿ç¨ä¿¡æ¯\n\ndocker top å®¹å¨id\n\n\n1\n\n * æ¥çå®¹å¨/éåçåæ°æ®\n\ndocker inspect å®¹å¨id\n\n\n1\n\n\n\n\n\n# è¿å¥æ­£å¨è¿è¡çå®¹å¨\n\nå½ä»¤ä¸ï¼\n\ndocker exec -it å®¹å¨id bashShell\n\n\n1\n\n\nä¾å¦ï¼\n\n[root@VM-0-6-centos ~]# docker ps\nCONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES\n[root@VM-0-6-centos ~]# docker run -d centos /bin/sh -c "while true;do echo hello;sleep 1;done"\na9b967bdbc870bb039b69c76ddc3d3ce6aa87d57c51a8040e32224fb45576b28\n[root@VM-0-6-centos ~]# docker ps\nCONTAINER ID   IMAGE     COMMAND                  CREATED         STATUS         PORTS     NAMES\na9b967bdbc87   centos    "/bin/sh -c \'while tâ¦"   8 seconds ago   Up 7 seconds             upbeat_haibt\n[root@VM-0-6-centos ~]# docker exec -it a9b967bdbc87 /bin/bash\n[root@a9b967bdbc87 /]# ps -ef\nUID        PID  PPID  C STIME TTY          TIME CMD\nroot         1     0  0 10:01 ?        00:00:00 /bin/sh -c while true;do echo hello;sleep 1;done\nroot        37     0  0 10:02 pts/0    00:00:00 /bin/bash\nroot        59     1  0 10:02 ?        00:00:00 /usr/bin/coreutils --coreutils-prog-shebang=sleep /usr/bin/sleep 1\nroot        60    37  0 10:02 pts/0    00:00:00 ps -ef\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\néåºå®¹å¨ç»ç«¯ï¼ä¸ä¼å¯¼è´å®¹å¨çåæ­¢\n\n[root@a9b967bdbc87 /]# exit\nexit\n[root@VM-0-6-centos ~]# docker ps\nCONTAINER ID   IMAGE     COMMAND                  CREATED         STATUS         PORTS     NAMES\na9b967bdbc87   centos    "/bin/sh -c \'while tâ¦"   7 minutes ago   Up 7 minutes             upbeat_haibt\n\n\n1\n2\n3\n4\n5\n\n\nå½ä»¤äºï¼\n\ndocker attach å®¹å¨id\n\n\n1\n\n\næµè¯ï¼\n\n[root@VM-0-6-centos ~]# docker images\nREPOSITORY    TAG       IMAGE ID       CREATED        SIZE\nhello-world   latest    d1165f221234   2 months ago   13.3kB\ncentos        latest    300e315adb2f   5 months ago   209MB\n[root@VM-0-6-centos ~]# docker  run -it -d  centos /bin/bash\n7f9ead6f906b3c691d29866236414e1808d194462ed0839c8ee5c947d731ed57\n[root@VM-0-6-centos ~]# docker ps\nCONTAINER ID   IMAGE     COMMAND       CREATED          STATUS         PORTS     NAMES\n7f9ead6f906b   centos    "/bin/bash"   10 seconds ago   Up 9 seconds             nervous_mcclintock\n[root@VM-0-6-centos ~]# docker attach 7f9ead6f906b\n[root@7f9ead6f906b /]# echo "hello"\nhello\n[root@7f9ead6f906b /]# exit\nexit\n[root@VM-0-6-centos ~]# docker ps\nCONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES\n[root@VM-0-6-centos ~]# \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\nåºå« ï¼\n\n * exec æ¯å¨å®¹å¨ä¸­æå¼æ°çç»ç«¯ï¼å¹¶ä¸å¯ä»¥å¯å¨æ°çè¿ç¨\n\n * attach ç´æ¥è¿å¥å®¹å¨å¯å¨å½ä»¤çç»ç«¯ï¼ä¸ä¼å¯å¨æ°çè¿ç¨\n\næ¨èå¤§å®¶ä½¿ç¨ docker exec å½ä»¤ï¼\n\n\n# å®¹å¨åæ·è´æä»¶å°ä¸»æºä¸\n\ndocker cp å®¹å¨id:å®¹å¨åè·¯å¾ ç®çä¸»æºè·¯å¾\n\n\n1\n\n\nä¾å¦ï¼\n\ndocker cp 7f9ead6f906b:/home/f1 /home\n\n\n1\n\n\n\n# å¸¸ç¨å½ä»¤æ»ç»\n\n\n\nå½ä»¤        å®æ¹è¯´æ                                                           è§£é\nattach    Attach local standard input, output, and error streams to a    å½å shell ä¸ attach è¿æ¥æå®è¿è¡éå\n          running container\nbuild     Build an image from a Dockerfile                               éè¿ Dockerfile å®å¶éå\ncommit    Create a new image from a container\'s changes                  æäº¤å½åå®¹å¨ä¸ºæ°çéå\ncp        Copy files/folders between a container and the local           ä»å®¹å¨ä¸­æ·è´æå®æä»¶æèç®å½å°å®¿ä¸»æºä¸­\n          filesystem\ncreate    Create a new container                                         åå»ºä¸ä¸ªæ°çå®¹å¨ï¼å runï¼ä½ä¸å¯å¨å®¹å¨\ndiff      Inspect changes to files or directories on a container\'s       æ¥ç docker å®¹å¨åå\n          filesystem\nevents    Get real time events from the server                           ä» docker æå¡è·åå®¹ å¨å®æ¶äºä»¶\nexec      Run a command in a running container                           å¨å·²å­å¨çå®¹å¨ä¸è¿è¡å½ä»¤\nexport    Export a container\'s filesystem as a tar archive               å¯¼åºå®¹å¨çå å®¹æµä½ä¸ºä¸ä¸ª tar å½æ¡£æä»¶[å¯¹åº import ]\nhistory   Show the history of an image                                   å±ç¤ºä¸ä¸ªéåå½¢æåå²\nimages    List images                                                    ååºç³»ç»å½åéå\nimport    Import the contents from a tarball to create a filesystem      ä» taråä¸­çåå®¹åå»ºä¸ä¸ªæ°çæä»¶ç³»ç»æ å[å¯¹åºexport]\n          image\ninfo      Display system-wide information                                æ¾ç¤ºç³»ç»ç¸å³ä¿¡æ¯\ninspect   Return low-level information on Docker objects                 æ¥çå®¹å¨è¯¦ç»ä¿¡æ¯\nkill      Kill one or more running containers                            ææ æå® docker å®¹å¨\nload      Load an image from a tar archive or STDIN                      ä»ä¸ä¸ª tar åä¸­å è½½ä¸ ä¸ªéå[å¯¹åº save]\nlogin     Log in to a Docker registry                                    ç»éä¸ä¸ª docker æºæå¡å¨\nlogout    Log out from a Docker registry                                 ä»å½å Docker registry éåº\nlogs      Fetch the logs of a container                                  è¾åºå½åå®¹å¨æ¥å¿ä¿¡æ¯\npause     Pause all processes within one or more containers              æåå®¹å¨\nport      List port mappings or a specific mapping for the container     æ¥çæ å°ç«¯å£å¯¹åºçå®¹å¨åé¨æºç«¯å£\nps        List containers                                                ååºå®¹å¨åè¡¨\npull      Pull an image or a repository from a registry                  ä»dockeréåæºæå¡å¨æåæå®éåæèåºéå\npush      Push an image or a repository to a registry                    æ¨éæå®éåæèåºéåè³dockeræºæå¡å¨\nrename    Rename a container                                             ç»ä¸ä¸ªå®¹å¨æ¹å\nrestart   Restart one or more containers                                 éå¯è¿è¡çå®¹å¨\nrm        Remove one or more containers                                  ç§»é¤ä¸ä¸ªæèå¤ä¸ªå®¹å¨\nrmi       Remove one or more images                                      ç§»é¤ä¸ä¸ªæå¤ä¸ªéå[æ å®¹å¨ä½¿ç¨è¯¥éåæå¯å é¤ï¼å¦åéå é¤ç¸å³å®¹å¨æå¯ç»§ç»­æ -f å¼ºå¶å é¤]\nrun       Run a command in a new container                               åå»ºä¸ä¸ªæ°çå®¹å¨å¹¶è¿è¡ ä¸ä¸ªå½ä»¤\nsave      Save one or more images to a tar archive (streamed to STDOUT   ä¿å­ä¸ä¸ªéåä¸ºä¸ä¸ª tar å[å¯¹åº load]\n          by default)\nsearch    Search the Docker Hub for images                               å¨ docker hub ä¸­æ ç´¢éå\nstart     Start one or more stopped containers                           å¯å¨å®¹å¨\nstats     Display a live stream of container(s) resource usage           æ¾ç¤ºå®¹å¨èµæºä½¿ç¨ç»è®¡ä¿¡æ¯çå®æ¶ä¿¡æ¯\n          statistics\nstop      Stop one or more running containers                            åæ­¢å®¹å¨\ntag       Create a tag TARGET_IMAGE that refers to SOURCE_IMAGE          ç»æºä¸­éåææ ç­¾\ntop       Display the running processes of a container                   æ¥çå®¹å¨ä¸­è¿è¡çè¿ç¨ä¿¡ æ¯\nunpause   Unpause all processes within one or more containers            åæ¶æåå®¹å¨\nupdate    Update configuration of one or more containers                 æ´æ°å®¹å¨éç½®\nversion   Show the Docker version information                            æ¥ç docker çæ¬å·\nwait      Block until one or more containers stop, then print their      æªåå®¹å¨åæ­¢æ¶çéåºç¶æå¼\n          exit codes',normalizedContent:' * å¸®å©å½ä»¤\n * éåå½ä»¤\n   * docker images\n   * docker search\n   * docker pull\n   * docker rmi\n * å®¹å¨å½ä»¤\n   * å®¹å¨å¯å¨\n   * å®¹å¨æ¥ç\n   * éåºå®¹å¨\n   * å¯å¨åæ­¢å®¹å¨\n   * å é¤å®¹å¨\n   * å®¹å¨åå¯å¨\n   * åå°å¯å¨å®¹å¨\n   * æ¸çåæ­¢çå®¹å¨\n   * æ¥çæ¥å¿\n   * è¿å¥æ­£å¨è¿è¡çå®¹å¨\n   * å®¹å¨åæ·è´æä»¶å°ä¸»æºä¸\n * å¸¸ç¨å½ä»¤æ»ç»\n\n\n# å¸®å©å½ä»¤\n\ndocker version # æ¾ç¤º docker çæ¬ä¿¡æ¯ã\ndocker info # æ¾ç¤º docker ç³»ç»ä¿¡æ¯ï¼åæ¬éååå®¹å¨æ°ã\ndocker --help # å¸®å©\n\n\n1\n2\n3\n\n\n\n# éåå½ä»¤\n\n\n# docker images\n\nååºæ¬å°ä¸»æºä¸çéå\n\n\n\nè§£éï¼\n\n * repository éåçä»åºæº\n\n * tag éåçæ ç­¾\n\n * image id éåçid\n\n * created éååå»ºæ¶é´\n\n * size éåå¤§å°\n\nåä¸ä¸ªä»åºæºå¯ä»¥æå¤ä¸ª tagï¼ä»£è¡¨è¿ä¸ªä»åºæºçä¸åçæ¬ï¼æä»¬ä½¿ç¨ repository:tag å®ä¹ä¸åçéåï¼å¦æä½ ä¸å®ä¹éåçæ ç­¾çæ¬ï¼dockerå°é»è®¤ä½¿ç¨ lastest éåï¼\n\n\n# docker search\n\næç´¢éåï¼\n\ndocker search æä¸ªéåçåç§° å¯¹åºdockerhubä»åºä¸­çéå\n\ndocker search mysql\n\n\n1\n\n\nå¯éé¡¹ï¼\n\nååºæ¶èæ°ä¸å°äºæå®å¼çéåï¼ä¾å¦\n\ndocker search mysql --filter=stars=1000\n\n\n1\n\n\n\n\n * name: éåä»åºæºçåç§°\n * description: éåçæè¿°\n * official: æ¯å¦ docker å®æ¹åå¸\n * stars: ç±»ä¼¼ github éé¢ç starï¼è¡¨ç¤ºç¹èµãåæ¬¢çææã\n * automated: èªå¨æå»ºã\n\nä¹éè¿docker hub è¿è¡æ¥æ¾\n\næ¯å¦https://hub.docker.com/search?q=mysql&type=image\n\n\n# docker pull\n\nä¸è½½éå\n\nä¸åtagï¼é»è®¤æ¯latest\n\ndocker pull mysql\n\n\n1\n\n\næå®çæ¬ä¸è½½\n\ndocker pull mysql:5.7\n\n\n1\n\n\n\n# docker rmi\n\nå é¤éå\n\ndocker rmi -f éåid # å é¤åä¸ª\ndocker rmi -f éåå:tag éåå:tag # å é¤å¤ä¸ª\n\n\n1\n2\n\n\nå é¤å¨é¨\n\ndocker rmi -f $(docker images -qa)\n\n\n1\n\n\n\n# å®¹å¨å½ä»¤\n\næéåæè½åå»ºå®¹å¨ï¼æä»¬è¿éä½¿ç¨ centos çéåæ¥æµè¯ï¼å°±æ¯èæä¸ä¸ª centos ï¼\n\ndocker pull centos\n\n\n1\n\n\n\n# å®¹å¨å¯å¨\n\ndocker run [options] image [command][arg...]\n\n\n1\n\n\nå¸¸ç¨åæ°è¯´æ\n\nåæ°              è¯´æ\n--name="name"   ç»å®¹å¨æå®ä¸ä¸ªåå­\n                ä¹ååå¯¹å®¹å¨æä½ï¼å¯ä»¥ç¨è¿ä¸ªnameï¼ç¸å½äºâå«åâ\n-d              åå°æ¹å¼è¿è¡å®¹å¨ï¼å¹¶è¿åå®¹å¨çidï¼\n-i              ä»¥äº¤äºæ¨¡å¼è¿è¡å®¹å¨ï¼éè¿å -t ä¸èµ·ä½¿ç¨\n-t              ç»å®¹å¨éæ°åéä¸ä¸ªç»ç«¯ï¼éå¸¸å -i ä¸èµ·ä½¿ç¨\n-p              éæºç«¯å£æ å°ï¼å¤§åï¼\n-p              æå®ç«¯å£æ å°ï¼å°åï¼ï¼ä¸è¬å¯ä»¥æåç§åæ³\n\næ¥çéåï¼\n\n\n\nå¯å¨ä¸ä¸ªå®¹å¨ï¼ä½¿ç¨centosè¿è¡ç¨äº¤äºæ¨¡å¼å¯å¨å®¹å¨ï¼å¨å®¹å¨åæ§è¡/bin/bashå½ä»¤ï¼\n\ndocker run -it centos /bin/bash\n\n\n1\n\n\n\n\néåºå®¹å¨ï¼\n\n\n\n\n# å®¹å¨æ¥ç\n\ndocker ps [options]\n\n\n1\n\n\nå¸¸ç¨åæ°è¯´æ\n\nåæ°     è¯´æ\n-a     ååºå½åæææ­£å¨è¿è¡çå®¹å¨ + åå²è¿è¡è¿çå®¹å¨\n-l     æ¾ç¤ºæè¿åå»ºçå®¹å¨\n-n=?   æ¾ç¤ºæè¿nä¸ªåå»ºçå®¹å¨\n-q     éé»æ¨¡å¼ï¼åªæ¾ç¤ºå®¹å¨ç¼å·ã\n\n\n# éåºå®¹å¨\n\næä»¤         è¯´æ\nexit       å®¹å¨åæ­¢éåº\nctrl+p+q   å®¹å¨ä¸åæ­¢éåº\n\n\n# å¯å¨åæ­¢å®¹å¨\n\næä»¤                             è¯´æ\ndocker start (å®¹å¨id or å®¹å¨å)     å¯å¨å®¹å¨\ndocker restart (å®¹å¨id or å®¹å¨å)   éå¯å®¹å¨\ndocker stop (å®¹å¨id or å®¹å¨å)      åæ­¢å®¹å¨\ndocker kill (å®¹å¨id or å®¹å¨å)      å¼ºå¶åæ­¢å®¹å¨\n\n\n# å é¤å®¹å¨\n\næä»¤                                è¯´æ\ndocker rm å®¹å¨id                    å é¤æå®å®¹å¨\ndocker rm -f $(docker ps -a -q)   å é¤ææå®¹å¨\ndocker ps -a -q|xargs docker rm   å é¤ææå®¹å¨\n\n\n# å®¹å¨åå¯å¨\n\n * å½ä»¤\n   \n   docker start id/name\n   \n   \n   1\n   \n\nå¯å¨ä¹ååæ­¢å³é­çå®¹å¨\n\n\n# åå°å¯å¨å®¹å¨\n\ndocker run -d å®¹å¨å\n\n\n1\n\n\nå¯å¨centosï¼ä½¿ç¨åå°æ¹å¼å¯å¨ï¼ä¾å¦ï¼\n\ndocker run -d centos\n\n\n1\n\n\né®é¢ï¼ ä½¿ç¨docker ps æ¥çï¼åç°å®¹å¨å·²ç»éåºäºï¼\n\nè§£éï¼dockerå®¹å¨åå°è¿è¡ï¼å°±å¿é¡»æä¸ä¸ªåå°è¿ç¨ï¼å®¹å¨è¿è¡çå½ä»¤å¦æä¸æ¯é£äºä¸ç´æèµ·çå½ ä»¤ï¼å°±ä¼èªå¨éåºã\n\næ¯å¦ï¼ä½ è¿è¡äºnginxæå¡ï¼ä½æ¯dockeråå°æ²¡æè¿è¡åºç¨ï¼è¿ç§æåµä¸ï¼å®¹å¨å¯å¨åï¼ä¼ç«å³èªæï¼å ä¸ºä»è§å¾æ²¡æç¨åºäºï¼æä»¥æå¥½çæåµæ¯ï¼å°ä½ çåºç¨ä½¿ç¨åå°è¿ç¨çæ¹å¼è¿è¡å¯å¨ã\n\n\n# æ¸çåæ­¢çå®¹å¨\n\næ¸çåæ­¢çå®¹å¨:\n\ndocker container prune\n\n\n1\n\n\n\n\n\n# æ¥çæ¥å¿\n\ndocker logs -f -t --tail å®¹å¨id\n\n\n1\n\n\nä¾å­ï¼æä»¬å¯å¨ centosï¼å¹¶ç¼åä¸æ®µèæ¬æ¥æµè¯ç©ç©ï¼æåæ¥çæ¥å¿\n\ndocker run -d centos /bin/sh -c "while true;do echo hello;sleep 1;done"\n\n\n1\n\n\n\n\næ¥çæ¥å¿ï¼\n\ndocker logs å®¹å¨id\n\n\n1\n\n\nåæ°       è¯´æ\n-t       æ¾ç¤ºæ¶é´æ³\n-f       æå°ææ°çæ¥å¿\n--tail   æ°å­æ¾ç¤ºå¤å°æ¡ï¼\n\ndocker logs -tf --tail 10 87f5e5a2954e\n\n\n1\n\n\n\n\n * åæ­¢è¿è¡\n\ndocker stop 87f5e5a2954e\n\n\n1\n\n\n\n\n * æ¥çæ­£å¨è¿è¡å®¹å¨çè¿ç¨ä¿¡æ¯\n\ndocker top å®¹å¨id\n\n\n1\n\n * æ¥çå®¹å¨/éåçåæ°æ®\n\ndocker inspect å®¹å¨id\n\n\n1\n\n\n\n\n\n# è¿å¥æ­£å¨è¿è¡çå®¹å¨\n\nå½ä»¤ä¸ï¼\n\ndocker exec -it å®¹å¨id bashshell\n\n\n1\n\n\nä¾å¦ï¼\n\n[root@vm-0-6-centos ~]# docker ps\ncontainer id   image     command   created   status    ports     names\n[root@vm-0-6-centos ~]# docker run -d centos /bin/sh -c "while true;do echo hello;sleep 1;done"\na9b967bdbc870bb039b69c76ddc3d3ce6aa87d57c51a8040e32224fb45576b28\n[root@vm-0-6-centos ~]# docker ps\ncontainer id   image     command                  created         status         ports     names\na9b967bdbc87   centos    "/bin/sh -c \'while tâ¦"   8 seconds ago   up 7 seconds             upbeat_haibt\n[root@vm-0-6-centos ~]# docker exec -it a9b967bdbc87 /bin/bash\n[root@a9b967bdbc87 /]# ps -ef\nuid        pid  ppid  c stime tty          time cmd\nroot         1     0  0 10:01 ?        00:00:00 /bin/sh -c while true;do echo hello;sleep 1;done\nroot        37     0  0 10:02 pts/0    00:00:00 /bin/bash\nroot        59     1  0 10:02 ?        00:00:00 /usr/bin/coreutils --coreutils-prog-shebang=sleep /usr/bin/sleep 1\nroot        60    37  0 10:02 pts/0    00:00:00 ps -ef\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\néåºå®¹å¨ç»ç«¯ï¼ä¸ä¼å¯¼è´å®¹å¨çåæ­¢\n\n[root@a9b967bdbc87 /]# exit\nexit\n[root@vm-0-6-centos ~]# docker ps\ncontainer id   image     command                  created         status         ports     names\na9b967bdbc87   centos    "/bin/sh -c \'while tâ¦"   7 minutes ago   up 7 minutes             upbeat_haibt\n\n\n1\n2\n3\n4\n5\n\n\nå½ä»¤äºï¼\n\ndocker attach å®¹å¨id\n\n\n1\n\n\næµè¯ï¼\n\n[root@vm-0-6-centos ~]# docker images\nrepository    tag       image id       created        size\nhello-world   latest    d1165f221234   2 months ago   13.3kb\ncentos        latest    300e315adb2f   5 months ago   209mb\n[root@vm-0-6-centos ~]# docker  run -it -d  centos /bin/bash\n7f9ead6f906b3c691d29866236414e1808d194462ed0839c8ee5c947d731ed57\n[root@vm-0-6-centos ~]# docker ps\ncontainer id   image     command       created          status         ports     names\n7f9ead6f906b   centos    "/bin/bash"   10 seconds ago   up 9 seconds             nervous_mcclintock\n[root@vm-0-6-centos ~]# docker attach 7f9ead6f906b\n[root@7f9ead6f906b /]# echo "hello"\nhello\n[root@7f9ead6f906b /]# exit\nexit\n[root@vm-0-6-centos ~]# docker ps\ncontainer id   image     command   created   status    ports     names\n[root@vm-0-6-centos ~]# \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\nåºå« ï¼\n\n * exec æ¯å¨å®¹å¨ä¸­æå¼æ°çç»ç«¯ï¼å¹¶ä¸å¯ä»¥å¯å¨æ°çè¿ç¨\n\n * attach ç´æ¥è¿å¥å®¹å¨å¯å¨å½ä»¤çç»ç«¯ï¼ä¸ä¼å¯å¨æ°çè¿ç¨\n\næ¨èå¤§å®¶ä½¿ç¨ docker exec å½ä»¤ï¼\n\n\n# å®¹å¨åæ·è´æä»¶å°ä¸»æºä¸\n\ndocker cp å®¹å¨id:å®¹å¨åè·¯å¾ ç®çä¸»æºè·¯å¾\n\n\n1\n\n\nä¾å¦ï¼\n\ndocker cp 7f9ead6f906b:/home/f1 /home\n\n\n1\n\n\n\n# å¸¸ç¨å½ä»¤æ»ç»\n\n\n\nå½ä»¤        å®æ¹è¯´æ                                                           è§£é\nattach    attach local standard input, output, and error streams to a    å½å shell ä¸ attach è¿æ¥æå®è¿è¡éå\n          running container\nbuild     build an image from a dockerfile                               éè¿ dockerfile å®å¶éå\ncommit    create a new image from a container\'s changes                  æäº¤å½åå®¹å¨ä¸ºæ°çéå\ncp        copy files/folders between a container and the local           ä»å®¹å¨ä¸­æ·è´æå®æä»¶æèç®å½å°å®¿ä¸»æºä¸­\n          filesystem\ncreate    create a new container                                         åå»ºä¸ä¸ªæ°çå®¹å¨ï¼å runï¼ä½ä¸å¯å¨å®¹å¨\ndiff      inspect changes to files or directories on a container\'s       æ¥ç docker å®¹å¨åå\n          filesystem\nevents    get real time events from the server                           ä» docker æå¡è·åå®¹ å¨å®æ¶äºä»¶\nexec      run a command in a running container                           å¨å·²å­å¨çå®¹å¨ä¸è¿è¡å½ä»¤\nexport    export a container\'s filesystem as a tar archive               å¯¼åºå®¹å¨çå å®¹æµä½ä¸ºä¸ä¸ª tar å½æ¡£æä»¶[å¯¹åº import ]\nhistory   show the history of an image                                   å±ç¤ºä¸ä¸ªéåå½¢æåå²\nimages    list images                                                    ååºç³»ç»å½åéå\nimport    import the contents from a tarball to create a filesystem      ä» taråä¸­çåå®¹åå»ºä¸ä¸ªæ°çæä»¶ç³»ç»æ å[å¯¹åºexport]\n          image\ninfo      display system-wide information                                æ¾ç¤ºç³»ç»ç¸å³ä¿¡æ¯\ninspect   return low-level information on docker objects                 æ¥çå®¹å¨è¯¦ç»ä¿¡æ¯\nkill      kill one or more running containers                            ææ æå® docker å®¹å¨\nload      load an image from a tar archive or stdin                      ä»ä¸ä¸ª tar åä¸­å è½½ä¸ ä¸ªéå[å¯¹åº save]\nlogin     log in to a docker registry                                    ç»éä¸ä¸ª docker æºæå¡å¨\nlogout    log out from a docker registry                                 ä»å½å docker registry éåº\nlogs      fetch the logs of a container                                  è¾åºå½åå®¹å¨æ¥å¿ä¿¡æ¯\npause     pause all processes within one or more containers              æåå®¹å¨\nport      list port mappings or a specific mapping for the container     æ¥çæ å°ç«¯å£å¯¹åºçå®¹å¨åé¨æºç«¯å£\nps        list containers                                                ååºå®¹å¨åè¡¨\npull      pull an image or a repository from a registry                  ä»dockeréåæºæå¡å¨æåæå®éåæèåºéå\npush      push an image or a repository to a registry                    æ¨éæå®éåæèåºéåè³dockeræºæå¡å¨\nrename    rename a container                                             ç»ä¸ä¸ªå®¹å¨æ¹å\nrestart   restart one or more containers                                 éå¯è¿è¡çå®¹å¨\nrm        remove one or more containers                                  ç§»é¤ä¸ä¸ªæèå¤ä¸ªå®¹å¨\nrmi       remove one or more images                                      ç§»é¤ä¸ä¸ªæå¤ä¸ªéå[æ å®¹å¨ä½¿ç¨è¯¥éåæå¯å é¤ï¼å¦åéå é¤ç¸å³å®¹å¨æå¯ç»§ç»­æ -f å¼ºå¶å é¤]\nrun       run a command in a new container                               åå»ºä¸ä¸ªæ°çå®¹å¨å¹¶è¿è¡ ä¸ä¸ªå½ä»¤\nsave      save one or more images to a tar archive (streamed to stdout   ä¿å­ä¸ä¸ªéåä¸ºä¸ä¸ª tar å[å¯¹åº load]\n          by default)\nsearch    search the docker hub for images                               å¨ docker hub ä¸­æ ç´¢éå\nstart     start one or more stopped containers                           å¯å¨å®¹å¨\nstats     display a live stream of container(s) resource usage           æ¾ç¤ºå®¹å¨èµæºä½¿ç¨ç»è®¡ä¿¡æ¯çå®æ¶ä¿¡æ¯\n          statistics\nstop      stop one or more running containers                            åæ­¢å®¹å¨\ntag       create a tag target_image that refers to source_image          ç»æºä¸­éåææ ç­¾\ntop       display the running processes of a container                   æ¥çå®¹å¨ä¸­è¿è¡çè¿ç¨ä¿¡ æ¯\nunpause   unpause all processes within one or more containers            åæ¶æåå®¹å¨\nupdate    update configuration of one or more containers                 æ´æ°å®¹å¨éç½®\nversion   show the docker version information                            æ¥ç docker çæ¬å·\nwait      block until one or more containers stop, then print their      æªåå®¹å¨åæ­¢æ¶çéåºç¶æå¼\n          exit codes',charsets:{cjk:!0},lastUpdated:"2023/06/02, 15:06:00",lastUpdatedTimestamp:16857188e5},{title:"GitHub - æé",frontmatter:{title:"GitHub - æé",date:"2021-05-20T13:48:11.000Z",permalink:"/pages/90bb76/"},regularPath:"/05.%E5%B7%A5%E5%85%B7%E9%83%A8%E7%BD%B2/01.Git/11.GitHub%E6%8F%90%E9%80%9F.html",relativePath:"05.å·¥å·é¨ç½²/01.Git/11.GitHubæé.md",key:"v-586d11fa",path:"/pages/90bb76/",headers:[{level:2,title:"GitHub éåè®¿é®",slug:"github-éåè®¿é®",normalizedTitle:"github éåè®¿é®",charIndex:3},{level:2,title:"GitHub æä»¶å é",slug:"github-æä»¶å é",normalizedTitle:"github æä»¶å é",charIndex:18},{level:2,title:"GitHub ä»åºå¿«éä¸è½½",slug:"github-ä»åºå¿«éä¸è½½",normalizedTitle:"github ä»åºå¿«éä¸è½½",charIndex:33},{level:2,title:"GitHub + Jsdelivr",slug:"github-jsdelivr",normalizedTitle:"github + jsdelivr",charIndex:50}],headersStr:"GitHub éåè®¿é® GitHub æä»¶å é GitHub ä»åºå¿«éä¸è½½ GitHub + Jsdelivr",content:" * GitHub éåè®¿é®\n * GitHub æä»¶å é\n * GitHub ä»åºå¿«éä¸è½½\n * GitHub + Jsdelivr\n\n\n# GitHub éåè®¿é®\n\nä¸¤ä¸ªæå¸¸ç¨çéåå°åï¼\n\n * https://github.com.cnpmjs.org\n * https://hub.fastgit.org\n\nç½ç«çåå®¹è· GitHub æ¯å®æ´åæ­¥ï¼å¯å¨ç½ç«è®¿é®æµè§\n\nä¸æ¨èç»å½è´¦æ·ã\n\n\n# GitHub æä»¶å é\n\n * https://ghproxy.com/\n\n * https://gh.api.99988866.xyz/\n\n * https://gitmirror.com/\n\n\n# GitHub ä»åºå¿«éä¸è½½\n\nå»ºè®® Gitee å¯¼å¥ GitHub çä»åºï¼ç¨ Gitee ä¸è½½\n\n\n# GitHub + Jsdelivr\n\næä»¬å¨ GitHub ä¸çå¾çä¸å¯è®¿é®ï¼å¯ä½¿ç¨ Jsdelivr è¿è¡å éè®¿é®ï¼ä¸åªæ¯å¾ç\n\nç®åä½¿ç¨ï¼\n\n> https://cdn.jsdelivr.net/gh/ç¨æ·å/ä»åºå/æä»¶è·¯å¾\n\nè¯¦æè®¿é®å®ç½",normalizedContent:" * github éåè®¿é®\n * github æä»¶å é\n * github ä»åºå¿«éä¸è½½\n * github + jsdelivr\n\n\n# github éåè®¿é®\n\nä¸¤ä¸ªæå¸¸ç¨çéåå°åï¼\n\n * https://github.com.cnpmjs.org\n * https://hub.fastgit.org\n\nç½ç«çåå®¹è· github æ¯å®æ´åæ­¥ï¼å¯å¨ç½ç«è®¿é®æµè§\n\nä¸æ¨èç»å½è´¦æ·ã\n\n\n# github æä»¶å é\n\n * https://ghproxy.com/\n\n * https://gh.api.99988866.xyz/\n\n * https://gitmirror.com/\n\n\n# github ä»åºå¿«éä¸è½½\n\nå»ºè®® gitee å¯¼å¥ github çä»åºï¼ç¨ gitee ä¸è½½\n\n\n# github + jsdelivr\n\næä»¬å¨ github ä¸çå¾çä¸å¯è®¿é®ï¼å¯ä½¿ç¨ jsdelivr è¿è¡å éè®¿é®ï¼ä¸åªæ¯å¾ç\n\nç®åä½¿ç¨ï¼\n\n> https://cdn.jsdelivr.net/gh/ç¨æ·å/ä»åºå/æä»¶è·¯å¾\n\nè¯¦æè®¿é®å®ç½",charsets:{cjk:!0},lastUpdated:"2023/07/08, 2:07:00",lastUpdatedTimestamp:1688782833e3},{title:"Docker - å¯è§å",frontmatter:{title:"Docker - å¯è§å",date:"2021-06-04T13:36:42.000Z",permalink:"/pages/4e8ad2/"},regularPath:"/05.%E5%B7%A5%E5%85%B7%E9%83%A8%E7%BD%B2/10.Docker/08.Docker%20-%20%E5%8F%AF%E8%A7%86%E5%8C%96.html",relativePath:"05.å·¥å·é¨ç½²/10.Docker/08.Docker - å¯è§å.md",key:"v-2fed92e6",path:"/pages/4e8ad2/",headers:[{level:2,title:"ç»ä¹ ",slug:"ç»ä¹ ",normalizedTitle:"ç»ä¹ ",charIndex:3},{level:3,title:"å®è£nginx",slug:"å®è£nginx",normalizedTitle:"å®è£nginx",charIndex:11},{level:3,title:"å®è£tomcat",slug:"å®è£tomcat",normalizedTitle:"å®è£tomcat",charIndex:24},{level:3,title:"é¨ç½²ElasticSearch",slug:"é¨ç½²elasticsearch",normalizedTitle:"é¨ç½²elasticsearch",charIndex:38},{level:2,title:"å¯è§å",slug:"å¯è§å",normalizedTitle:"å¯è§å",charIndex:57}],headersStr:"ç»ä¹  å®è£nginx å®è£tomcat é¨ç½²ElasticSearch å¯è§å",content:' * ç»ä¹ \n   * å®è£nginx\n   * å®è£tomcat\n   * é¨ç½²ElasticSearch\n * å¯è§å\n\n\n# ç»ä¹ \n\n\n# å®è£nginx\n\næåéåï¼\n\n$ docker pull nginx\n\n\n1\n\n\n\n\nå¯å¨å®¹å¨ï¼\n\n-d åå°å¯å¨\n\ndocker run -d --name mynginx -p 3500:80 nginx\n\n\n1\n\n\n\n\nè¿å¥å®¹å¨ï¼\n\n[root@VM-0-6-centos ~]# docker exec -it mynginx /bin/bash\n# å¯»æ¾nginx\nroot@511741b161de:/# whereis nginx\nnginx: /usr/sbin/nginx /usr/lib/nginx /etc/nginx /usr/share/nginx\nroot@511741b161de:/# cd /usr/share/nginx\nroot@511741b161de:/usr/share/nginx# ls\nhtml\nroot@511741b161de:/usr/share/nginx# cd html\nroot@511741b161de:/usr/share/nginx/html# ls\n50x.html  index.html\n#å¯çå°ä¹åè®¿é®çåå®¹æ¯ index.html\nroot@511741b161de:/usr/share/nginx/html# cat index.html\n<!DOCTYPE html>\n<html>\n<head>\n<title>Welcome to nginx!</title>\n<style>\n    body {\n        width: 35em;\n        margin: 0 auto;\n        font-family: Tahoma, Verdana, Arial, sans-serif;\n    }\n</style>\n</head>\n<body>\n<h1>Welcome to nginx!</h1>\n<p>If you see this page, the nginx web server is successfully installed and\nworking. Further configuration is required.</p>\n\n<p>For online documentation and support please refer to\n<a href="http://nginx.org/">nginx.org</a>.<br/>\nCommercial support is available at\n<a href="http://nginx.com/">nginx.com</a>.</p>\n\n<p><em>Thank you for using nginx.</em></p>\n</body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n\n\n\n# å®è£tomcat\n\nå¨ docker hub å®ç½æç´¢ tomcatï¼https://hub.docker.com/_/tomcat\n\nç¿»å°ä¸é¢ææç¨\n\n\n\ndocker run -it --rm tomcat:9.0\n\n\n1\n\n\n * -it ï¼äº¤äºæ¨¡å¼\n\n * --rmï¼å®¹å¨å¯å¨æåå¹¶éåºä»¥åå®¹å¨å°±èªå¨ç§»é¤ï¼ä¸è¬å¨æµè¯æåµä¸ä½¿ç¨ï¼\n\n1ãä¸è½½tomcatéåï¼\n\ndocker pull tomcat\n\n\n1\n\n\n2ãå¯å¨\n\ndocker run -d -p 8080:8080 --name tomcat9 tomcat\n\n\n1\n\n\n3ãè¿å¥tomcat\n\ndocker exec -it tomcat9 /bin/bash\n\n\n1\n\n\nè¿å¥ååç°ï¼webapps éä»ä¹ä¹æ²¡æ\n\nroot@a1801a340333:/usr/local/tomcat# ls\nBUILDING.txt  CONTRIBUTING.md  LICENSE\tNOTICE\tREADME.md  RELEASE-NOTES  RUNNING.txt  bin  conf  lib  logs  native-jni-lib  temp  webapps  webapps.dist  work\nroot@a1801a340333:/usr/local/tomcat# cd webapps\nroot@a1801a340333:/usr/local/tomcat/webapps# ls\nroot@a1801a340333:/usr/local/tomcat/webapps# \n\n\n1\n2\n3\n4\n5\n\n\nè¥é¨ç½²ä¸ä¸ª jsp ç½ç«ï¼éè¦ææä»¶å¤å¶å°å®¹å¨éï¼éå¸¸éº»ç¦ã\n\næä»¬å¯ä»¥éè¿âæ°æ®å·âææ¯ï¼å°å®¹å¨åæä»¶åæä»¬ Linux æä»¶è¿è¡æ å°æè½½ã\n\n\n# é¨ç½²ElasticSearch\n\nå®ç½ï¼https://hub.docker.com/_/elasticsearch\n\n1ãå¯å¨ï¼\n\ndocker run -d --name elasticsearch -p 9200:9200 -p 9300:9300 -e "discovery.type=single-node" elasticsearch:7.6.2\n\n\n1\n\n\n2ãæ¥çç¶æ\n\n * docker stats å®¹å¨id\n   \n   æ¥çå®¹å¨çcpuåå­åç½ç»ç¶æ\n\næ¥çä¸cpuç¶æ ï¼åç°å ç¨çå¾å¤§\n\n\n\n3ãå¢å ä¸åå­éå¶å¯å¨\n\ndocker run -d --name elasticsearch -p 9200:9200 -p 9300:9300 -e "discovery.type=single-node" -e ES_JAVA_OPTS="-Xms64m -Xmx512m" elasticsearch:7.6.2\n\n\n1\n\n\nå¯å¨æ¶ï¼æ¥éï¼åå­å·²ç»å­å¨\n\n\n\nå¯éè¿æä»¤å é¤\n\n * docker rm name_of_the_docker_container\n\ndocker rm elasticsearch\n\n\n1\n\n\næä»¬å¯éè¿ docker ps -a æ¾ç¤ºææå®¹å¨ä¿¡æ¯\n\nåæ¬¡å¯å¨åï¼åç°åå­åå°äº\n\n\n\nè®¿é®æåï¼\n\n[root@VM-0-6-centos ~]# curl localhost:9200\n{\n  "name" : "d49fb1463f0a",\n  "cluster_name" : "docker-cluster",\n  "cluster_uuid" : "ycGNdXS0TpC2lcOfIFlPkQ",\n  "version" : {\n    "number" : "7.6.2",\n    "build_flavor" : "default",\n    "build_type" : "docker",\n    "build_hash" : "ef48eb35cf30adf4db14086e8aabd07ef6fb113f",\n    "build_date" : "2020-03-26T06:34:37.794943Z",\n    "build_snapshot" : false,\n    "lucene_version" : "8.4.0",\n    "minimum_wire_compatibility_version" : "6.8.0",\n    "minimum_index_compatibility_version" : "6.0.0-beta1"\n  },\n  "tagline" : "You Know, for Search"\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nå³äºåå­çä½ç¨ï¼\n\nä»¥åæä»¬æ³å¯å¨ä¸æ¬¡éç½®ç ElasticSearchï¼ç¨ docker start å®¹å¨åå­ å³å¯ï¼ä¸éè¦å¨éæ°éç½®\n\n[root@VM-0-6-centos ~]# docker start elasticsearch\nelasticsearch\n[root@VM-0-6-centos ~]# docker ps\nCONTAINER ID   IMAGE                 COMMAND                  CREATED             STATUS         PORTS                                                                                  NAMES\nd49fb1463f0a   elasticsearch:7.6.2   "/usr/local/bin/dockâ¦"   About an hour ago   Up 5 seconds   0.0.0.0:9200->9200/tcp, :::9200->9200/tcp, 0.0.0.0:9300->9300/tcp, :::9300->9300/tcp   elasticsearch\n[root@VM-0-6-centos ~]# \n\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nå¦ææä»¬è¦ä½¿ç¨ kibana , å¦æéç½®è¿æ¥ä¸æä»¬çeså¢ï¼ç½ç»è¯¥å¦ä½éç½®å¢ï¼\n\n\n\n\n# å¯è§å\n\nPortaineræ¯Dockerçå¾å½¢åç®¡çå·¥å·ï¼æä¾ç¶ææ¾ç¤ºé¢æ¿ãåºç¨æ¨¡æ¿å¿«éé¨ç½²ãå®¹å¨éåç½ç»æ°æ®å· çåºæ¬æä½ï¼åæ¬ä¸ä¼ ä¸è½½éåï¼åå»ºå®¹å¨ç­æä½ï¼ãäºä»¶æ¥å¿æ¾ç¤ºãå®¹å¨æ§å¶å°æä½ãSwarméç¾¤å æå¡ç­éä¸­ç®¡çåæä½ãç»å½ç¨æ·ç®¡çåæ§å¶ç­åè½ãåè½ååå¨é¢ï¼åºæ¬è½æ»¡è¶³ä¸­å°ååä½å¯¹å®¹å¨ç®¡ççå¨é¨éæ±ã\n\nå¦æä»æä¸ä¸ªdockerå®¿ä¸»æºï¼åå¯ä½¿ç¨åæºçè¿è¡ï¼Portaineråæºçè¿è¡ååç®åï¼åªéè¦ä¸æ¡è¯­å¥å³å¯å¯å¨å®¹å¨ï¼æ¥ç®¡çè¯¥æºå¨ä¸ç docker éåãå®¹å¨ç­æ°æ®ã\n\n * å®è£å¹¶è¿è¡Portainerï¼\n\ndocker run -d -p 8088:9000 \\\n--restart=always -v /var/run/docker.sock:/var/run/docker.sock --privileged=true portainer/portainer\n\n\n1\n2\n\n * è®¿é®ï¼\n\nhttp://IP:8088\n\né¦æ¬¡å è½½æ¯è¾æ¢ï¼ä¸ç»ééè¦æ³¨åç¨æ·ï¼ç»adminç¨æ·è®¾ç½®å¯ç ï¼\n\n\n\nåæºçè¿ééæ©localå³å¯ï¼éæ©å®æ¯ï¼ç¹å»Connectå³å¯è¿æ¥å°æ¬å°dockerï¼\n\n',normalizedContent:' * ç»ä¹ \n   * å®è£nginx\n   * å®è£tomcat\n   * é¨ç½²elasticsearch\n * å¯è§å\n\n\n# ç»ä¹ \n\n\n# å®è£nginx\n\næåéåï¼\n\n$ docker pull nginx\n\n\n1\n\n\n\n\nå¯å¨å®¹å¨ï¼\n\n-d åå°å¯å¨\n\ndocker run -d --name mynginx -p 3500:80 nginx\n\n\n1\n\n\n\n\nè¿å¥å®¹å¨ï¼\n\n[root@vm-0-6-centos ~]# docker exec -it mynginx /bin/bash\n# å¯»æ¾nginx\nroot@511741b161de:/# whereis nginx\nnginx: /usr/sbin/nginx /usr/lib/nginx /etc/nginx /usr/share/nginx\nroot@511741b161de:/# cd /usr/share/nginx\nroot@511741b161de:/usr/share/nginx# ls\nhtml\nroot@511741b161de:/usr/share/nginx# cd html\nroot@511741b161de:/usr/share/nginx/html# ls\n50x.html  index.html\n#å¯çå°ä¹åè®¿é®çåå®¹æ¯ index.html\nroot@511741b161de:/usr/share/nginx/html# cat index.html\n<!doctype html>\n<html>\n<head>\n<title>welcome to nginx!</title>\n<style>\n    body {\n        width: 35em;\n        margin: 0 auto;\n        font-family: tahoma, verdana, arial, sans-serif;\n    }\n</style>\n</head>\n<body>\n<h1>welcome to nginx!</h1>\n<p>if you see this page, the nginx web server is successfully installed and\nworking. further configuration is required.</p>\n\n<p>for online documentation and support please refer to\n<a href="http://nginx.org/">nginx.org</a>.<br/>\ncommercial support is available at\n<a href="http://nginx.com/">nginx.com</a>.</p>\n\n<p><em>thank you for using nginx.</em></p>\n</body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n\n\n\n# å®è£tomcat\n\nå¨ docker hub å®ç½æç´¢ tomcatï¼https://hub.docker.com/_/tomcat\n\nç¿»å°ä¸é¢ææç¨\n\n\n\ndocker run -it --rm tomcat:9.0\n\n\n1\n\n\n * -it ï¼äº¤äºæ¨¡å¼\n\n * --rmï¼å®¹å¨å¯å¨æåå¹¶éåºä»¥åå®¹å¨å°±èªå¨ç§»é¤ï¼ä¸è¬å¨æµè¯æåµä¸ä½¿ç¨ï¼\n\n1ãä¸è½½tomcatéåï¼\n\ndocker pull tomcat\n\n\n1\n\n\n2ãå¯å¨\n\ndocker run -d -p 8080:8080 --name tomcat9 tomcat\n\n\n1\n\n\n3ãè¿å¥tomcat\n\ndocker exec -it tomcat9 /bin/bash\n\n\n1\n\n\nè¿å¥ååç°ï¼webapps éä»ä¹ä¹æ²¡æ\n\nroot@a1801a340333:/usr/local/tomcat# ls\nbuilding.txt  contributing.md  license\tnotice\treadme.md  release-notes  running.txt  bin  conf  lib  logs  native-jni-lib  temp  webapps  webapps.dist  work\nroot@a1801a340333:/usr/local/tomcat# cd webapps\nroot@a1801a340333:/usr/local/tomcat/webapps# ls\nroot@a1801a340333:/usr/local/tomcat/webapps# \n\n\n1\n2\n3\n4\n5\n\n\nè¥é¨ç½²ä¸ä¸ª jsp ç½ç«ï¼éè¦ææä»¶å¤å¶å°å®¹å¨éï¼éå¸¸éº»ç¦ã\n\næä»¬å¯ä»¥éè¿âæ°æ®å·âææ¯ï¼å°å®¹å¨åæä»¶åæä»¬ linux æä»¶è¿è¡æ å°æè½½ã\n\n\n# é¨ç½²elasticsearch\n\nå®ç½ï¼https://hub.docker.com/_/elasticsearch\n\n1ãå¯å¨ï¼\n\ndocker run -d --name elasticsearch -p 9200:9200 -p 9300:9300 -e "discovery.type=single-node" elasticsearch:7.6.2\n\n\n1\n\n\n2ãæ¥çç¶æ\n\n * docker stats å®¹å¨id\n   \n   æ¥çå®¹å¨çcpuåå­åç½ç»ç¶æ\n\næ¥çä¸cpuç¶æ ï¼åç°å ç¨çå¾å¤§\n\n\n\n3ãå¢å ä¸åå­éå¶å¯å¨\n\ndocker run -d --name elasticsearch -p 9200:9200 -p 9300:9300 -e "discovery.type=single-node" -e es_java_opts="-xms64m -xmx512m" elasticsearch:7.6.2\n\n\n1\n\n\nå¯å¨æ¶ï¼æ¥éï¼åå­å·²ç»å­å¨\n\n\n\nå¯éè¿æä»¤å é¤\n\n * docker rm name_of_the_docker_container\n\ndocker rm elasticsearch\n\n\n1\n\n\næä»¬å¯éè¿ docker ps -a æ¾ç¤ºææå®¹å¨ä¿¡æ¯\n\nåæ¬¡å¯å¨åï¼åç°åå­åå°äº\n\n\n\nè®¿é®æåï¼\n\n[root@vm-0-6-centos ~]# curl localhost:9200\n{\n  "name" : "d49fb1463f0a",\n  "cluster_name" : "docker-cluster",\n  "cluster_uuid" : "ycgndxs0tpc2lcofiflpkq",\n  "version" : {\n    "number" : "7.6.2",\n    "build_flavor" : "default",\n    "build_type" : "docker",\n    "build_hash" : "ef48eb35cf30adf4db14086e8aabd07ef6fb113f",\n    "build_date" : "2020-03-26t06:34:37.794943z",\n    "build_snapshot" : false,\n    "lucene_version" : "8.4.0",\n    "minimum_wire_compatibility_version" : "6.8.0",\n    "minimum_index_compatibility_version" : "6.0.0-beta1"\n  },\n  "tagline" : "you know, for search"\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\nå³äºåå­çä½ç¨ï¼\n\nä»¥åæä»¬æ³å¯å¨ä¸æ¬¡éç½®ç elasticsearchï¼ç¨ docker start å®¹å¨åå­ å³å¯ï¼ä¸éè¦å¨éæ°éç½®\n\n[root@vm-0-6-centos ~]# docker start elasticsearch\nelasticsearch\n[root@vm-0-6-centos ~]# docker ps\ncontainer id   image                 command                  created             status         ports                                                                                  names\nd49fb1463f0a   elasticsearch:7.6.2   "/usr/local/bin/dockâ¦"   about an hour ago   up 5 seconds   0.0.0.0:9200->9200/tcp, :::9200->9200/tcp, 0.0.0.0:9300->9300/tcp, :::9300->9300/tcp   elasticsearch\n[root@vm-0-6-centos ~]# \n\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nå¦ææä»¬è¦ä½¿ç¨ kibana , å¦æéç½®è¿æ¥ä¸æä»¬çeså¢ï¼ç½ç»è¯¥å¦ä½éç½®å¢ï¼\n\n\n\n\n# å¯è§å\n\nportaineræ¯dockerçå¾å½¢åç®¡çå·¥å·ï¼æä¾ç¶ææ¾ç¤ºé¢æ¿ãåºç¨æ¨¡æ¿å¿«éé¨ç½²ãå®¹å¨éåç½ç»æ°æ®å· çåºæ¬æä½ï¼åæ¬ä¸ä¼ ä¸è½½éåï¼åå»ºå®¹å¨ç­æä½ï¼ãäºä»¶æ¥å¿æ¾ç¤ºãå®¹å¨æ§å¶å°æä½ãswarméç¾¤å æå¡ç­éä¸­ç®¡çåæä½ãç»å½ç¨æ·ç®¡çåæ§å¶ç­åè½ãåè½ååå¨é¢ï¼åºæ¬è½æ»¡è¶³ä¸­å°ååä½å¯¹å®¹å¨ç®¡ççå¨é¨éæ±ã\n\nå¦æä»æä¸ä¸ªdockerå®¿ä¸»æºï¼åå¯ä½¿ç¨åæºçè¿è¡ï¼portaineråæºçè¿è¡ååç®åï¼åªéè¦ä¸æ¡è¯­å¥å³å¯å¯å¨å®¹å¨ï¼æ¥ç®¡çè¯¥æºå¨ä¸ç docker éåãå®¹å¨ç­æ°æ®ã\n\n * å®è£å¹¶è¿è¡portainerï¼\n\ndocker run -d -p 8088:9000 \\\n--restart=always -v /var/run/docker.sock:/var/run/docker.sock --privileged=true portainer/portainer\n\n\n1\n2\n\n * è®¿é®ï¼\n\nhttp://ip:8088\n\né¦æ¬¡å è½½æ¯è¾æ¢ï¼ä¸ç»ééè¦æ³¨åç¨æ·ï¼ç»adminç¨æ·è®¾ç½®å¯ç ï¼\n\n\n\nåæºçè¿ééæ©localå³å¯ï¼éæ©å®æ¯ï¼ç¹å»connectå³å¯è¿æ¥å°æ¬å°dockerï¼\n\n',charsets:{cjk:!0},lastUpdated:"2023/06/02, 15:06:00",lastUpdatedTimestamp:16857188e5},{title:"Docker - éååä»åº",frontmatter:{title:"Docker - éååä»åº",date:"2021-06-04T16:45:01.000Z",permalink:"/pages/982fe2/"},regularPath:"/05.%E5%B7%A5%E5%85%B7%E9%83%A8%E7%BD%B2/10.Docker/10.Docker%20-%20%E9%95%9C%E5%83%8F%E5%92%8C%E4%BB%93%E5%BA%93.html",relativePath:"05.å·¥å·é¨ç½²/10.Docker/10.Docker - éååä»åº.md",key:"v-c7c7b8ea",path:"/pages/982fe2/",headers:[{level:2,title:"Docker éå",slug:"docker-éå",normalizedTitle:"docker éå",charIndex:3},{level:3,title:"Dockeréåå è½½åç",slug:"dockeréåå è½½åç",normalizedTitle:"dockeréåå è½½åç",charIndex:18},{level:3,title:"åå±çè§£",slug:"åå±çè§£",normalizedTitle:"åå±çè§£",charIndex:36},{level:3,title:"æäº¤éå",slug:"æäº¤éå",normalizedTitle:"æäº¤éå",charIndex:46},{level:2,title:"Docker ä»åº",slug:"docker-ä»åº",normalizedTitle:"docker ä»åº",charIndex:54},{level:3,title:"DockerHub",slug:"dockerhub",normalizedTitle:"dockerhub",charIndex:69},{level:3,title:"é¿éäºéåæå¡",slug:"é¿éäºéåæå¡",normalizedTitle:"é¿éäºéåæå¡",charIndex:84}],headersStr:"Docker éå Dockeréåå è½½åç åå±çè§£ æäº¤éå Docker ä»åº DockerHub é¿éäºéåæå¡",content:' * Docker éå\n   * Dockeréåå è½½åç\n   * åå±çè§£\n   * æäº¤éå\n * Docker ä»åº\n   * DockerHub\n   * é¿éäºéåæå¡\n\n\n# Docker éå\n\néåæ¯ä¸ç§è½»éçº§ãå¯æ§è¡çç¬ç«è½¯ä»¶åï¼ç¨æ¥æåè½¯ä»¶è¿è¡ç¯å¢ååºäºè¿è¡ç¯å¢å¼åçè½¯ä»¶ï¼å®åå« è¿è¡æä¸ªè½¯ä»¶æéçææåå®¹ï¼åæ¬ä»£ç ãè¿è¡æ¶ãåºãç¯å¢åéåéç½®æä»¶ã\n\n\n# Dockeréåå è½½åç\n\nUnionFS ï¼èåæä»¶ç³»ç»ï¼\n\nUnionFS æ¯ä¸ç§åå±ãè½»éçº§å¹¶ä¸é«æ§è½çæä»¶ç³»ç»ï¼ å®æ¯æå¯¹æä»¶ç³»ç»çä¿®æ¹ä½ä¸ºä¸æ¬¡æäº¤æ¥ä¸å±å±çå å ï¼åæ¶å¯ä»¥å°ä¸åç®å½æè½½å°åä¸ä¸ªèææä»¶ç³»ç»ä¸(unite several directories into a single virtual filesystem)ãUnion æä»¶ç³»ç»æ¯ Docker éåçåºç¡ãéåå¯ä»¥éè¿åå±æ¥è¿è¡ç»§æ¿ï¼åºäºåºç¡éåï¼æ²¡æç¶éåï¼ï¼å¯ä»¥å¶ä½åç§å·ä½çåºç¨éåã\n\nç¹æ§ï¼ä¸æ¬¡åæ¶å è½½å¤ä¸ªæä»¶ç³»ç»ï¼ä½ä»å¤é¢çèµ·æ¥ï¼åªè½çå°ä¸ä¸ªæä»¶ç³»ç»ï¼èåå è½½ä¼æåå±æä»¶ç³»ç»å å èµ·æ¥ï¼è¿æ ·æç»çæä»¶ç³»ç»ä¼åå«ææåºå±çæä»¶åç®å½\n\nDockeréåå è½½åç\n\ndockerçéåå®éä¸ç±ä¸å±ä¸å±çæä»¶ç³»ç»ç»æï¼è¿ç§å±çº§çæä»¶ç³»ç»UnionFSã\n\nå¸åçLinuxæä»¶ç³»ç»ç±bootfsårootfsä¸¤é¨åç»æ\n\nbootfs(boot file system)ä¸»è¦åå« bootloader å kernel , bootloader ä¸»è¦æ¯å¼å¯¼å è½½ kernel, Linux åå¯å¨æ¶ä¼å è½½bootfsæä»¶ç³»ç»ï¼å¨Dockeréåçæåºå±æ¯ bootfsãè¿ä¸å±ä¸æä»¬å¸åç Linux/Unix ç³»ç»æ¯ ä¸æ ·çï¼åå«boot å è½½å¨ååæ ¸ãå½ boot å è½½å®æä¹åæ´ä¸ªåæ ¸å°±é½å¨åå­ä¸­äºï¼æ­¤æ¶åå­çä½¿ç¨æå·²ç± bootfs è½¬äº¤ç»åæ ¸ï¼æ­¤æ¶ç³»ç»ä¹ä¼å¸è½½ bootfsã\n\nrootfs (root file system) ï¼å¨bootfsä¹ä¸ãåå«çå°±æ¯å¸å Linux ç³»ç»ä¸­ç /dev, /proc, /bin, /etc ç­æ åç®å½åæä»¶ãrootfså°±æ¯åç§ä¸åçæä½ç³»ç»åè¡çï¼æ¯å¦Ubuntuï¼Centosç­ç­ã\n\n\n\nå¹³æ¶æä»¬å®è£è¿èææºçCentOSé½æ¯å¥½å ä¸ªGï¼ä¸ºä»ä¹Dockerè¿éæ200Mï¼\n\n\n\nå¯¹äºä¸ä¸ªç²¾ç®çç³»ç»ï¼rootfs å¯ä»¥å¾å°ï¼åªéè¦åå«æåºæ¬çå½ä»¤ï¼å·¥å·åç¨åºåºå°±å¯ä»¥äºï¼å ä¸ºåºå±ç´æ¥ç¨Hostçkernelï¼èªå·±åªéè¦æä¾ rootfs å°±å¯ä»¥äºãç±æ­¤å¯è§å¯¹äºä¸åç linux åè¡ç, bootfs åºæ¬æ¯ä¸ è´ç, rootfs ä¼æå·®å«, å æ­¤ä¸åçåè¡çå¯ä»¥å¬ç¨ bootfsã\n\n\n# åå±çè§£\n\næä»¬å¯ä»¥å»ä¸è½½ä¸ä¸ªéåï¼æ³¨æè§å¯ä¸è½½çæ¥å¿è¾åºï¼å¯ä»¥çå°æ¯ä¸å±ä¸å±çå¨ä¸è½½ï¼\n\nä¸ºä»ä¹Dockeréåè¦éç¨è¿ç§åå±çç»æå¢ï¼\n\næå¤§çå¥½å¤ï¼è«è¿äºæ¯èµæºå±äº«äºï¼æ¯å¦æå¤ä¸ªéåé½ä»ç¸åçBaseéåæå»ºèæ¥ï¼é£ä¹å®¿ä¸»æºåªéå¨ç£çä¸ä¿çä¸ä»½baseéåï¼åæ¶åå­ä¸­ä¹åªéè¦å è½½ä¸ä»½baseéåï¼è¿æ ·å°±å¯ä»¥ä¸ºææçå®¹å¨æå¡äºï¼èä¸éåçæ¯ä¸å±é½å¯ä»¥è¢«å±äº«ã\n\næ¥çéååå±çæ¹å¼å¯ä»¥éè¿ docker image inspectå½ä»¤ï¼\n\ndocker image inspect tomcat:latest\n\n\n1\n\n\n\n\nææç Docker éåé½èµ·å§äºä¸ä¸ªåºç¡éåå±ï¼å½è¿è¡ä¿®æ¹æå¢å æ°çåå®¹æ¶ï¼å°±ä¼å¨å½åéåå±ä¹ä¸ï¼åå»ºæ°çéåå±ã\n\nä¸¾ä¸ä¸ªç®åçä¾å­ï¼åå¦åºäº Ubuntu Linux 16.04 åå»ºä¸ä¸ªæ°çéåï¼è¿å°±æ¯æ°éåçç¬¬ä¸å±ï¼å¦æå¨è¯¥éåä¸­æ·»å  Pythonåï¼å°±ä¼å¨åºç¡éåå±ä¹ä¸åå»ºç¬¬äºä¸ªéåå±ï¼å¦æç»§ç»­æ·»å ä¸ä¸ªå®å¨è¡¥ä¸ï¼å°±ä¼åå»ºç¬¬ä¸ä¸ªéåå±ã\n\nè¯¥éåå½åå·²ç»åå« 3 ä¸ªéåå±ï¼å¦ä¸å¾æç¤ºï¼è¿åªæ¯ä¸ä¸ªç¨äºæ¼ç¤ºçå¾ç®åçä¾å­ï¼ã\n\n\n\nå¨æ·»å é¢å¤çéåå±çåæ¶ï¼éåå§ç»ä¿ææ¯å½åææéåçç»åï¼çè§£è¿ä¸ç¹éå¸¸éè¦ãä¸å¾ä¸­ä¸¾äº ä¸ä¸ªç®åçä¾å­ï¼æ¯ä¸ªéåå±åå« 3 ä¸ªæä»¶ï¼èéååå«äºæ¥èªä¸¤ä¸ªéåå±ç 6 ä¸ªæä»¶ã\n\n\n\nä¸å¾ä¸­çéåå±è·ä¹åå¾ä¸­çç¥æåºå«ï¼ä¸»è¦ç®çæ¯ä¾¿äºå±ç¤ºæä»¶ã\n\nä¸å¾ä¸­å±ç¤ºäºä¸ä¸ªç¨å¾®å¤æçä¸å±éåï¼å¨å¤é¨çæ¥æ´ä¸ªéååªæ 6 ä¸ªæä»¶ï¼è¿æ¯å ä¸ºæä¸å±ä¸­çæä»¶ 7 æ¯æä»¶ 5 çä¸ä¸ªæ´æ°çæ¬ã\n\n\n\nè¿ç§æåµä¸ï¼ä¸å±éåå±ä¸­çæä»¶è¦çäºåºå±éåå±ä¸­çæä»¶ãè¿æ ·å°±ä½¿å¾æä»¶çæ´æ°çæ¬ä½ä¸ºä¸ä¸ªæ°éåå±æ·»å å°éåå½ä¸­ã\n\nDocker éè¿å­å¨å¼æï¼æ°çæ¬éç¨å¿«ç§æºå¶ï¼çæ¹å¼æ¥å®ç°éåå±å æ ï¼å¹¶ä¿è¯å¤éåå±å¯¹å¤å±ç¤ºä¸ºç» ä¸çæä»¶ç³»ç»ã\n\nLinux ä¸å¯ç¨çå­å¨å¼ææ AUFSãOverlay2ãDevice MapperãBtrfs ä»¥å ZFSãé¡¾åæä¹ï¼æ¯ç§å­å¨å¼æé½åºäº Linux ä¸­å¯¹åºçæä»¶ç³»ç»æèåè®¾å¤ææ¯ï¼å¹¶ä¸æ¯ç§å­å¨å¼æé½æå¶ç¬æçæ§è½ç¹ç¹ã\n\nDocker å¨ Windows ä¸ä»æ¯æ windowsfilter ä¸ç§å­å¨å¼æï¼è¯¥å¼æåºäº NTFS æä»¶ç³»ç»ä¹ä¸å®ç°äºåå±å CoWã\n\nä¸å¾å±ç¤ºäºä¸ç³»ç»æ¾ç¤ºç¸åçä¸å±éåãææéåå±å å å¹¶åå¹¶ï¼å¯¹å¤æä¾ç»ä¸çè§å¾ã\n\n\n\nç¹ç¹ï¼\n\nDockeréåé½æ¯åªè¯»çï¼å½å®¹å¨å¯å¨æ¶ï¼ä¸ä¸ªæ°çå¯åå±è¢«å è½½å°éåçé¡¶é¨ï¼\n\nè¿ä¸å±å°±æ¯æä»¬éå¸¸è¯´çå®¹å¨å±ï¼å®¹å¨ä¹ä¸çé½å«éåå±ï¼\n\n\n# æäº¤éå\n\ndocker commit ä»å®¹å¨åå»ºä¸ä¸ªæ°çéåã\n\n * è¯­æ³ï¼\n   \n   docker commit -m="æäº¤çæè¿°ä¿¡æ¯" -a="ä½è" å®¹å¨id è¦åå»ºçç®æ éåå:[æ ç­¾å]\n   \n   \n   1\n   \n\næµè¯\n\n1ãä»Docker Hub ä¸è½½ tomcat éåå°æ¬å°å¹¶è¿è¡\n\n-it äº¤äºç»ç«¯ -p ç«¯å£æ å°\n\ndocker run -it -p 8080:8080 tomcat\n\n\n1\n\n\n2ãè®¿é®å°å\n\n\n\ndockerå¯å¨å®æ¹tomcatéåçå®¹å¨ï¼åç°404æ¯å ä¸ºä½¿ç¨äºå éå¨ï¼èå éå¨éç tomcatçwebappsä¸æ²¡ærootç­æä»¶ï¼\n\n[root@VM-0-6-centos ~]# docker ps\nCONTAINER ID   IMAGE     COMMAND             CREATED         STATUS         PORTS                                       NAMES\na8b6aff64fa3   tomcat    "catalina.sh run"   8 minutes ago   Up 8 minutes   0.0.0.0:8080->8080/tcp, :::8080->8080/tcp   silly_feynman\n[root@VM-0-6-centos ~]# docker exec -it a8b6aff64fa3 /bin/bash\nroot@a8b6aff64fa3:/usr/local/tomcat# ls\nBUILDING.txt  CONTRIBUTING.md  LICENSE\tNOTICE\tREADME.md  RELEASE-NOTES  RUNNING.txt  bin  conf  lib  logs  native-jni-lib  temp  webapps  webapps.dist  work\n\n\n1\n2\n3\n4\n5\n6\n\n\nè¿å¥ tomcat æ¥ç cd å° webapps ä¸åç°å¨é¨ç©ºçï¼åèæä¸ª webapps.dist éæå¯¹åºæä»¶\n\nroot@a8b6aff64fa3:/usr/local/tomcat# cd webapps.dist\nroot@a8b6aff64fa3:/usr/local/tomcat/webapps.dist# ls\nROOT  docs  examples  host-manager  manager\n\n\n1\n2\n3\n\n\næä»¬å¯ä»¥ cp -r å¤å¶æä»¶å°webappsä¸ï¼\n\nroot@a8b6aff64fa3:/usr/local/tomcat# cp -r webapps.dist/* webapps\nroot@a8b6aff64fa3:/usr/local/tomcat# cd webapps\nroot@a8b6aff64fa3:/usr/local/tomcat/webapps# ls\nROOT  docs  examples  host-manager  manager\n\n\n1\n2\n3\n4\n\n\næ­¤æ¶åæ¬¡è®¿é®ï¼åä¸æ¯404\n\n**3ãæäº¤ä¿®æ¹åçéåä¸º tomcat02 **\n\nä¸æ¬¡åå¯ä»¥ç´æ¥å¯å¨è¿ä¸ª\n\næ³¨æï¼commitçæ¶åï¼å®¹å¨çåå­ä¸è½æå¤§åï¼å¦åæ¥éï¼invalid reference format\n\n[root@VM-0-6-centos ~]# docker ps -l\nCONTAINER ID   IMAGE     COMMAND             CREATED          STATUS          PORTS                                       NAMES\na8b6aff64fa3   tomcat    "catalina.sh run"   16 minutes ago   Up 16 minutes   0.0.0.0:8080->8080/tcp, :::8080->8080/tcp   silly_feynman\n##æäº¤éå\n[root@VM-0-6-centos ~]# docker commit -a="zhiyuan" -m="new tomcat" a8b6aff64fa3 tomcat02:1.1\nsha256:620813976effbc8a7e36398a9b801891d1654dea37a50927b36a950ffe21a63b\n[root@VM-0-6-centos ~]# docker images\nREPOSITORY            TAG       IMAGE ID       CREATED         SIZE\ntomcat02              1.1       620813976eff   8 seconds ago   672MB\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nåæ­¢ååå¯å¨ççï¼é¦é¡µå¯è®¿é®\n\n[root@VM-0-6-centos ~]# docker stop a8b6aff64fa3\na8b6aff64fa3\n[root@VM-0-6-centos ~]# docker run -it -p 8080:8080 tomcat02:1.1\n\n\n1\n2\n3\n\n\n\n# Docker ä»åº\n\n\n# DockerHub\n\næ³¨ådockerhub https://hub.docker.com/signup\n\n1ãç»å½\n\ndocker login -u oddfar\n\n\n1\n\n\n2ãå°éååå¸åºå»\n\n[root@VM-0-6-centos logs]# docker push hello-world\nUsing default tag: latest\nThe push refers to repository [docker.io/library/hello-world]\nf22b99068db9: Layer already exists \nerrors:\ndenied: requested access to the resource is denied\nunauthorized: authentication required\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\néè¯¯ï¼è¯·æ±çèµæºè®¿é®è¢«æç»\n\né®é¢ï¼æ¬å°éååæ å¸å·ä¿¡æ¯ï¼è§£å³å  tag å³å¯\n\n[root@VM-0-6-centos logs]# docker images\nREPOSITORY            TAG       IMAGE ID       CREATED             SIZE\nhello-world           latest    d1165f221234   3 months ago        13.3kB\n[root@VM-0-6-centos logs]# docker tag d1165f221234 oddfar/hello-world:1.0\n\n\n1\n2\n3\n4\n\n\noddfar æ¯æçç¨æ·å\n\n3ãåæ¬¡push\n\n[root@VM-0-6-centos logs]# docker push oddfar/hello-world:1.0\n\n\n1\n\n\nè®¿é®ï¼https://hub.docker.com/ å¯çå°æäº¤çéå\n\n\n\n\n# é¿éäºéåæå¡\n\nç»å½é¿éäº -> æ¾å°å®¹å¨éåæå¡ -> åå»ºå½åç©ºé´ -> åå»ºéåä»åº\n\nç¹å»è¿å¥è¿ä¸ªéåä»åºï¼å¯ä»¥çå°ææçä¿¡æ¯\n\n\n\næä»¤ï¼\n\n\n\næµè¯ï¼æ¨é hello-world\n\n[root@VM-0-6-centos ~]# docker login --username=a_zhiyuan registry.cn-hangzhou.aliyuncs.com\n[root@VM-0-6-centos ~]# docker tag d1165f221234 registry.cn-hangzhou.aliyuncs.com/zhiyuan/study:1.0\n[root@VM-0-6-centos ~]# docker push registry.cn-hangzhou.aliyuncs.com/zhiyuan/study:1.0\n\n\n1\n2\n3\n\n\næäº¤æå\n\n',normalizedContent:' * docker éå\n   * dockeréåå è½½åç\n   * åå±çè§£\n   * æäº¤éå\n * docker ä»åº\n   * dockerhub\n   * é¿éäºéåæå¡\n\n\n# docker éå\n\néåæ¯ä¸ç§è½»éçº§ãå¯æ§è¡çç¬ç«è½¯ä»¶åï¼ç¨æ¥æåè½¯ä»¶è¿è¡ç¯å¢ååºäºè¿è¡ç¯å¢å¼åçè½¯ä»¶ï¼å®åå« è¿è¡æä¸ªè½¯ä»¶æéçææåå®¹ï¼åæ¬ä»£ç ãè¿è¡æ¶ãåºãç¯å¢åéåéç½®æä»¶ã\n\n\n# dockeréåå è½½åç\n\nunionfs ï¼èåæä»¶ç³»ç»ï¼\n\nunionfs æ¯ä¸ç§åå±ãè½»éçº§å¹¶ä¸é«æ§è½çæä»¶ç³»ç»ï¼ å®æ¯æå¯¹æä»¶ç³»ç»çä¿®æ¹ä½ä¸ºä¸æ¬¡æäº¤æ¥ä¸å±å±çå å ï¼åæ¶å¯ä»¥å°ä¸åç®å½æè½½å°åä¸ä¸ªèææä»¶ç³»ç»ä¸(unite several directories into a single virtual filesystem)ãunion æä»¶ç³»ç»æ¯ docker éåçåºç¡ãéåå¯ä»¥éè¿åå±æ¥è¿è¡ç»§æ¿ï¼åºäºåºç¡éåï¼æ²¡æç¶éåï¼ï¼å¯ä»¥å¶ä½åç§å·ä½çåºç¨éåã\n\nç¹æ§ï¼ä¸æ¬¡åæ¶å è½½å¤ä¸ªæä»¶ç³»ç»ï¼ä½ä»å¤é¢çèµ·æ¥ï¼åªè½çå°ä¸ä¸ªæä»¶ç³»ç»ï¼èåå è½½ä¼æåå±æä»¶ç³»ç»å å èµ·æ¥ï¼è¿æ ·æç»çæä»¶ç³»ç»ä¼åå«ææåºå±çæä»¶åç®å½\n\ndockeréåå è½½åç\n\ndockerçéåå®éä¸ç±ä¸å±ä¸å±çæä»¶ç³»ç»ç»æï¼è¿ç§å±çº§çæä»¶ç³»ç»unionfsã\n\nå¸åçlinuxæä»¶ç³»ç»ç±bootfsårootfsä¸¤é¨åç»æ\n\nbootfs(boot file system)ä¸»è¦åå« bootloader å kernel , bootloader ä¸»è¦æ¯å¼å¯¼å è½½ kernel, linux åå¯å¨æ¶ä¼å è½½bootfsæä»¶ç³»ç»ï¼å¨dockeréåçæåºå±æ¯ bootfsãè¿ä¸å±ä¸æä»¬å¸åç linux/unix ç³»ç»æ¯ ä¸æ ·çï¼åå«boot å è½½å¨ååæ ¸ãå½ boot å è½½å®æä¹åæ´ä¸ªåæ ¸å°±é½å¨åå­ä¸­äºï¼æ­¤æ¶åå­çä½¿ç¨æå·²ç± bootfs è½¬äº¤ç»åæ ¸ï¼æ­¤æ¶ç³»ç»ä¹ä¼å¸è½½ bootfsã\n\nrootfs (root file system) ï¼å¨bootfsä¹ä¸ãåå«çå°±æ¯å¸å linux ç³»ç»ä¸­ç /dev, /proc, /bin, /etc ç­æ åç®å½åæä»¶ãrootfså°±æ¯åç§ä¸åçæä½ç³»ç»åè¡çï¼æ¯å¦ubuntuï¼centosç­ç­ã\n\n\n\nå¹³æ¶æä»¬å®è£è¿èææºçcentosé½æ¯å¥½å ä¸ªgï¼ä¸ºä»ä¹dockerè¿éæ200mï¼\n\n\n\nå¯¹äºä¸ä¸ªç²¾ç®çç³»ç»ï¼rootfs å¯ä»¥å¾å°ï¼åªéè¦åå«æåºæ¬çå½ä»¤ï¼å·¥å·åç¨åºåºå°±å¯ä»¥äºï¼å ä¸ºåºå±ç´æ¥ç¨hostçkernelï¼èªå·±åªéè¦æä¾ rootfs å°±å¯ä»¥äºãç±æ­¤å¯è§å¯¹äºä¸åç linux åè¡ç, bootfs åºæ¬æ¯ä¸ è´ç, rootfs ä¼æå·®å«, å æ­¤ä¸åçåè¡çå¯ä»¥å¬ç¨ bootfsã\n\n\n# åå±çè§£\n\næä»¬å¯ä»¥å»ä¸è½½ä¸ä¸ªéåï¼æ³¨æè§å¯ä¸è½½çæ¥å¿è¾åºï¼å¯ä»¥çå°æ¯ä¸å±ä¸å±çå¨ä¸è½½ï¼\n\nä¸ºä»ä¹dockeréåè¦éç¨è¿ç§åå±çç»æå¢ï¼\n\næå¤§çå¥½å¤ï¼è«è¿äºæ¯èµæºå±äº«äºï¼æ¯å¦æå¤ä¸ªéåé½ä»ç¸åçbaseéåæå»ºèæ¥ï¼é£ä¹å®¿ä¸»æºåªéå¨ç£çä¸ä¿çä¸ä»½baseéåï¼åæ¶åå­ä¸­ä¹åªéè¦å è½½ä¸ä»½baseéåï¼è¿æ ·å°±å¯ä»¥ä¸ºææçå®¹å¨æå¡äºï¼èä¸éåçæ¯ä¸å±é½å¯ä»¥è¢«å±äº«ã\n\næ¥çéååå±çæ¹å¼å¯ä»¥éè¿ docker image inspectå½ä»¤ï¼\n\ndocker image inspect tomcat:latest\n\n\n1\n\n\n\n\nææç docker éåé½èµ·å§äºä¸ä¸ªåºç¡éåå±ï¼å½è¿è¡ä¿®æ¹æå¢å æ°çåå®¹æ¶ï¼å°±ä¼å¨å½åéåå±ä¹ä¸ï¼åå»ºæ°çéåå±ã\n\nä¸¾ä¸ä¸ªç®åçä¾å­ï¼åå¦åºäº ubuntu linux 16.04 åå»ºä¸ä¸ªæ°çéåï¼è¿å°±æ¯æ°éåçç¬¬ä¸å±ï¼å¦æå¨è¯¥éåä¸­æ·»å  pythonåï¼å°±ä¼å¨åºç¡éåå±ä¹ä¸åå»ºç¬¬äºä¸ªéåå±ï¼å¦æç»§ç»­æ·»å ä¸ä¸ªå®å¨è¡¥ä¸ï¼å°±ä¼åå»ºç¬¬ä¸ä¸ªéåå±ã\n\nè¯¥éåå½åå·²ç»åå« 3 ä¸ªéåå±ï¼å¦ä¸å¾æç¤ºï¼è¿åªæ¯ä¸ä¸ªç¨äºæ¼ç¤ºçå¾ç®åçä¾å­ï¼ã\n\n\n\nå¨æ·»å é¢å¤çéåå±çåæ¶ï¼éåå§ç»ä¿ææ¯å½åææéåçç»åï¼çè§£è¿ä¸ç¹éå¸¸éè¦ãä¸å¾ä¸­ä¸¾äº ä¸ä¸ªç®åçä¾å­ï¼æ¯ä¸ªéåå±åå« 3 ä¸ªæä»¶ï¼èéååå«äºæ¥èªä¸¤ä¸ªéåå±ç 6 ä¸ªæä»¶ã\n\n\n\nä¸å¾ä¸­çéåå±è·ä¹åå¾ä¸­çç¥æåºå«ï¼ä¸»è¦ç®çæ¯ä¾¿äºå±ç¤ºæä»¶ã\n\nä¸å¾ä¸­å±ç¤ºäºä¸ä¸ªç¨å¾®å¤æçä¸å±éåï¼å¨å¤é¨çæ¥æ´ä¸ªéååªæ 6 ä¸ªæä»¶ï¼è¿æ¯å ä¸ºæä¸å±ä¸­çæä»¶ 7 æ¯æä»¶ 5 çä¸ä¸ªæ´æ°çæ¬ã\n\n\n\nè¿ç§æåµä¸ï¼ä¸å±éåå±ä¸­çæä»¶è¦çäºåºå±éåå±ä¸­çæä»¶ãè¿æ ·å°±ä½¿å¾æä»¶çæ´æ°çæ¬ä½ä¸ºä¸ä¸ªæ°éåå±æ·»å å°éåå½ä¸­ã\n\ndocker éè¿å­å¨å¼æï¼æ°çæ¬éç¨å¿«ç§æºå¶ï¼çæ¹å¼æ¥å®ç°éåå±å æ ï¼å¹¶ä¿è¯å¤éåå±å¯¹å¤å±ç¤ºä¸ºç» ä¸çæä»¶ç³»ç»ã\n\nlinux ä¸å¯ç¨çå­å¨å¼ææ aufsãoverlay2ãdevice mapperãbtrfs ä»¥å zfsãé¡¾åæä¹ï¼æ¯ç§å­å¨å¼æé½åºäº linux ä¸­å¯¹åºçæä»¶ç³»ç»æèåè®¾å¤ææ¯ï¼å¹¶ä¸æ¯ç§å­å¨å¼æé½æå¶ç¬æçæ§è½ç¹ç¹ã\n\ndocker å¨ windows ä¸ä»æ¯æ windowsfilter ä¸ç§å­å¨å¼æï¼è¯¥å¼æåºäº ntfs æä»¶ç³»ç»ä¹ä¸å®ç°äºåå±å cowã\n\nä¸å¾å±ç¤ºäºä¸ç³»ç»æ¾ç¤ºç¸åçä¸å±éåãææéåå±å å å¹¶åå¹¶ï¼å¯¹å¤æä¾ç»ä¸çè§å¾ã\n\n\n\nç¹ç¹ï¼\n\ndockeréåé½æ¯åªè¯»çï¼å½å®¹å¨å¯å¨æ¶ï¼ä¸ä¸ªæ°çå¯åå±è¢«å è½½å°éåçé¡¶é¨ï¼\n\nè¿ä¸å±å°±æ¯æä»¬éå¸¸è¯´çå®¹å¨å±ï¼å®¹å¨ä¹ä¸çé½å«éåå±ï¼\n\n\n# æäº¤éå\n\ndocker commit ä»å®¹å¨åå»ºä¸ä¸ªæ°çéåã\n\n * è¯­æ³ï¼\n   \n   docker commit -m="æäº¤çæè¿°ä¿¡æ¯" -a="ä½è" å®¹å¨id è¦åå»ºçç®æ éåå:[æ ç­¾å]\n   \n   \n   1\n   \n\næµè¯\n\n1ãä»docker hub ä¸è½½ tomcat éåå°æ¬å°å¹¶è¿è¡\n\n-it äº¤äºç»ç«¯ -p ç«¯å£æ å°\n\ndocker run -it -p 8080:8080 tomcat\n\n\n1\n\n\n2ãè®¿é®å°å\n\n\n\ndockerå¯å¨å®æ¹tomcatéåçå®¹å¨ï¼åç°404æ¯å ä¸ºä½¿ç¨äºå éå¨ï¼èå éå¨éç tomcatçwebappsä¸æ²¡ærootç­æä»¶ï¼\n\n[root@vm-0-6-centos ~]# docker ps\ncontainer id   image     command             created         status         ports                                       names\na8b6aff64fa3   tomcat    "catalina.sh run"   8 minutes ago   up 8 minutes   0.0.0.0:8080->8080/tcp, :::8080->8080/tcp   silly_feynman\n[root@vm-0-6-centos ~]# docker exec -it a8b6aff64fa3 /bin/bash\nroot@a8b6aff64fa3:/usr/local/tomcat# ls\nbuilding.txt  contributing.md  license\tnotice\treadme.md  release-notes  running.txt  bin  conf  lib  logs  native-jni-lib  temp  webapps  webapps.dist  work\n\n\n1\n2\n3\n4\n5\n6\n\n\nè¿å¥ tomcat æ¥ç cd å° webapps ä¸åç°å¨é¨ç©ºçï¼åèæä¸ª webapps.dist éæå¯¹åºæä»¶\n\nroot@a8b6aff64fa3:/usr/local/tomcat# cd webapps.dist\nroot@a8b6aff64fa3:/usr/local/tomcat/webapps.dist# ls\nroot  docs  examples  host-manager  manager\n\n\n1\n2\n3\n\n\næä»¬å¯ä»¥ cp -r å¤å¶æä»¶å°webappsä¸ï¼\n\nroot@a8b6aff64fa3:/usr/local/tomcat# cp -r webapps.dist/* webapps\nroot@a8b6aff64fa3:/usr/local/tomcat# cd webapps\nroot@a8b6aff64fa3:/usr/local/tomcat/webapps# ls\nroot  docs  examples  host-manager  manager\n\n\n1\n2\n3\n4\n\n\næ­¤æ¶åæ¬¡è®¿é®ï¼åä¸æ¯404\n\n**3ãæäº¤ä¿®æ¹åçéåä¸º tomcat02 **\n\nä¸æ¬¡åå¯ä»¥ç´æ¥å¯å¨è¿ä¸ª\n\næ³¨æï¼commitçæ¶åï¼å®¹å¨çåå­ä¸è½æå¤§åï¼å¦åæ¥éï¼invalid reference format\n\n[root@vm-0-6-centos ~]# docker ps -l\ncontainer id   image     command             created          status          ports                                       names\na8b6aff64fa3   tomcat    "catalina.sh run"   16 minutes ago   up 16 minutes   0.0.0.0:8080->8080/tcp, :::8080->8080/tcp   silly_feynman\n##æäº¤éå\n[root@vm-0-6-centos ~]# docker commit -a="zhiyuan" -m="new tomcat" a8b6aff64fa3 tomcat02:1.1\nsha256:620813976effbc8a7e36398a9b801891d1654dea37a50927b36a950ffe21a63b\n[root@vm-0-6-centos ~]# docker images\nrepository            tag       image id       created         size\ntomcat02              1.1       620813976eff   8 seconds ago   672mb\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nåæ­¢ååå¯å¨ççï¼é¦é¡µå¯è®¿é®\n\n[root@vm-0-6-centos ~]# docker stop a8b6aff64fa3\na8b6aff64fa3\n[root@vm-0-6-centos ~]# docker run -it -p 8080:8080 tomcat02:1.1\n\n\n1\n2\n3\n\n\n\n# docker ä»åº\n\n\n# dockerhub\n\næ³¨ådockerhub https://hub.docker.com/signup\n\n1ãç»å½\n\ndocker login -u oddfar\n\n\n1\n\n\n2ãå°éååå¸åºå»\n\n[root@vm-0-6-centos logs]# docker push hello-world\nusing default tag: latest\nthe push refers to repository [docker.io/library/hello-world]\nf22b99068db9: layer already exists \nerrors:\ndenied: requested access to the resource is denied\nunauthorized: authentication required\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\néè¯¯ï¼è¯·æ±çèµæºè®¿é®è¢«æç»\n\né®é¢ï¼æ¬å°éååæ å¸å·ä¿¡æ¯ï¼è§£å³å  tag å³å¯\n\n[root@vm-0-6-centos logs]# docker images\nrepository            tag       image id       created             size\nhello-world           latest    d1165f221234   3 months ago        13.3kb\n[root@vm-0-6-centos logs]# docker tag d1165f221234 oddfar/hello-world:1.0\n\n\n1\n2\n3\n4\n\n\noddfar æ¯æçç¨æ·å\n\n3ãåæ¬¡push\n\n[root@vm-0-6-centos logs]# docker push oddfar/hello-world:1.0\n\n\n1\n\n\nè®¿é®ï¼https://hub.docker.com/ å¯çå°æäº¤çéå\n\n\n\n\n# é¿éäºéåæå¡\n\nç»å½é¿éäº -> æ¾å°å®¹å¨éåæå¡ -> åå»ºå½åç©ºé´ -> åå»ºéåä»åº\n\nç¹å»è¿å¥è¿ä¸ªéåä»åºï¼å¯ä»¥çå°ææçä¿¡æ¯\n\n\n\næä»¤ï¼\n\n\n\næµè¯ï¼æ¨é hello-world\n\n[root@vm-0-6-centos ~]# docker login --username=a_zhiyuan registry.cn-hangzhou.aliyuncs.com\n[root@vm-0-6-centos ~]# docker tag d1165f221234 registry.cn-hangzhou.aliyuncs.com/zhiyuan/study:1.0\n[root@vm-0-6-centos ~]# docker push registry.cn-hangzhou.aliyuncs.com/zhiyuan/study:1.0\n\n\n1\n2\n3\n\n\næäº¤æå\n\n',charsets:{cjk:!0},lastUpdated:"2023/06/02, 15:06:00",lastUpdatedTimestamp:16857188e5},{title:"Docker - ç½ç»",frontmatter:{title:"Docker - ç½ç»",date:"2021-06-14T23:42:55.000Z",permalink:"/pages/3b9d4b/"},regularPath:"/05.%E5%B7%A5%E5%85%B7%E9%83%A8%E7%BD%B2/10.Docker/16.Docker%20-%20%E7%BD%91%E7%BB%9C.html",relativePath:"05.å·¥å·é¨ç½²/10.Docker/16.Docker - ç½ç».md",key:"v-635d5f8d",path:"/pages/3b9d4b/",headers:[{level:2,title:"çè§£Docker0",slug:"çè§£docker0",normalizedTitle:"çè§£docker0",charIndex:3},{level:2,title:"Linkåæ°",slug:"linkåæ°",normalizedTitle:"linkåæ°",charIndex:16},{level:2,title:"èªå®ä¹ç½ç»",slug:"èªå®ä¹ç½ç»",normalizedTitle:"èªå®ä¹ç½ç»",charIndex:26},{level:3,title:"åºæ¬æ¦å¿µ",slug:"åºæ¬æ¦å¿µ",normalizedTitle:"åºæ¬æ¦å¿µ",charIndex:37},{level:3,title:"èªå®ä¹ç½å¡",slug:"èªå®ä¹ç½å¡",normalizedTitle:"èªå®ä¹ç½å¡",charIndex:47},{level:3,title:"ç½ç»è¿é",slug:"ç½ç»è¿é",normalizedTitle:"ç½ç»è¿é",charIndex:58},{level:2,title:"é¨ç½² Redis éç¾¤",slug:"é¨ç½²-redis-éç¾¤",normalizedTitle:"é¨ç½² redis éç¾¤",charIndex:66}],headersStr:"çè§£Docker0 Linkåæ° èªå®ä¹ç½ç» åºæ¬æ¦å¿µ èªå®ä¹ç½å¡ ç½ç»è¿é é¨ç½² Redis éç¾¤",content:' * çè§£Docker0\n * Linkåæ°\n * èªå®ä¹ç½ç»\n   * åºæ¬æ¦å¿µ\n   * èªå®ä¹ç½å¡\n   * ç½ç»è¿é\n * é¨ç½² Redis éç¾¤\n\n\n# çè§£Docker0\n\næ¥çæ¬å°ip ip addr\n\n[root@VM-0-6-centos ~]# ip addr\n#æ¬æºåç¯å°å\n1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet 127.0.0.1/8 scope host lo\n       valid_lft forever preferred_lft forever\n    inet6 ::1/128 scope host \n       valid_lft forever preferred_lft forever\n#é¿éäºçç§æIP\n2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP group default qlen 1000\n    link/ether 52:54:00:9a:88:4d brd ff:ff:ff:ff:ff:ff\n    inet 172.17.0.6/20 brd 172.17.15.255 scope global eth0\n       valid_lft forever preferred_lft forever\n    inet6 fe80::5054:ff:fe9a:884d/64 scope link \n       valid_lft forever preferred_lft forever\n# dockerç½æ¡¥\n3: docker0: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc noqueue state DOWN group default \n    link/ether 02:42:d1:ba:72:7a brd ff:ff:ff:ff:ff:ff\n    inet 172.18.0.1/16 brd 172.18.255.255 scope global docker0\n       valid_lft forever preferred_lft forever\n    inet6 fe80::42:d1ff:feba:727a/64 scope link \n       valid_lft forever preferred_lft forever\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\nDocker æ¯å¦ä½å¤çå®¹å¨ç½ç»è®¿é®çï¼\n\næä»¬ä¹åå®è£ESçæ¶åï¼çè¿ä¸ä¸ªé®é¢ï¼å°±æ¯å®è£Kibanaçé®é¢ï¼Kibanaå¾æå®ESçå°åï¼æèæä»¬å®éåºæ¯ä¸­ï¼æä»¬å¼åäºå¾å¤å¾®æå¡é¡¹ç®ï¼é£äºå¾®æå¡é¡¹ç®é½è¦è¿æ¥æ°æ®åºï¼éè¦æå®æ°æ®åºçurlå°åï¼éè¿ipãä½æ¯æä»¬ç¨Dockerç®¡ççè¯ï¼åè®¾æ°æ®åºåºé®é¢äºï¼æä»¬éæ°å¯å¨è¿è¡ä¸ä¸ªï¼è¿ä¸ªæ¶åæ°æ®åºçå°åå°±ä¼åçååï¼dockerä¼ç»æ¯ä¸ªå®¹å¨é½åéä¸ä¸ªipï¼ä¸å®¹å¨åå®¹å¨ä¹é´æ¯å¯ä»¥äºç¸è®¿é®çã æä»¬å¯ä»¥æµè¯ä¸å®¹å¨ä¹é´è½ä¸è½pingéè¿ã\n\n[root@VM-0-6-centos ~]# docker run -d -P --name tomcat01 tomcat\n# æ¥çtomcat01çipå°åï¼dockerä¼ç»æ¯ä¸ªå®¹å¨é½åéä¸ä¸ªipï¼\n[root@VM-0-6-centos ~]#  docker exec -it tomcat01 ip addr\n1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet 127.0.0.1/8 scope host lo\n       valid_lft forever preferred_lft forever\n24: eth0@if25: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue state UP group default \n    link/ether 02:42:ac:12:00:02 brd ff:ff:ff:ff:ff:ff link-netnsid 0\n    inet 172.18.0.2/16 brd 172.18.255.255 scope global eth0\n       valid_lft forever preferred_lft forever\n# å¯ä»¥pingéï¼\n[root@VM-0-6-centos ~]# ping 172.18.0.2\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nåå \n\næ¯ä¸ä¸ªå®è£äº Docker ç linux ä¸»æºé½æä¸ä¸ª docker0 çèæç½å¡ãè¿æ¯ä¸ªæ¡¥æ¥ç½å¡ï¼ä½¿ç¨äº veth-pair ææ¯ï¼\n\n * åæ¬¡æ¥çä¸»æºç ip addr ï¼æ¬æ¥æä¸ä¸ªç½ç»ï¼å¯å¨tomcatå®¹å¨ä¹åï¼ä¼å¤äºä¸ä¸ªç½ç»ï¼\n\n * æ¯å¯å¨ä¸ä¸ªå®¹å¨ï¼linuxä¸»æºå°±ä¼å¤äºä¸ä¸ªèæç½å¡ã\n   \n   #å¯å¨ä¸ä¸ªtomcat01ï¼ä¸»æºçipå°åå¤äºä¸ª  25: veth2b7cb71@if24\n   #ç¶åæä»¬å¨tomcat01å®¹å¨ä¸­æ¥çå®¹å¨çip  24: eth0@if25\n   \n   #æä»¬åå¯å¨ä¸ä¸ªtomcat02è§å¯\n   [root@VM-0-6-centos ~]# docker run -d -P --name tomcat02 tomcat\n   \n   # ç¶ååç°linuxä¸»æºä¸åå¤äºä¸ä¸ªç½å¡\t27: veth4d2bd95@if26\n   # æä»¬çä¸tomcat02çå®¹å¨åipå°åæ¯\t  26: eth0@if27\n   [root@VM-0-6-centos ~]# docker exec -it tomcat02 ip addr\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   \n   \n   å¯ä»¥åç°ï¼åªè¦å¯å¨ä¸ä¸ªå®¹å¨ï¼å°±æä¸å¯¹ç½å¡\n   \n   veth-pair å°±æ¯ä¸å¯¹çèæè®¾å¤æ¥å£ï¼å®é½æ¯æå¯¹åºç°çãä¸ç«¯è¿çåè®®æ ï¼ä¸ç«¯å½¼æ­¤ç¸è¿çã\n   \n   æ­£å ä¸ºæè¿ä¸ªç¹æ§ï¼å®å¸¸å¸¸åå½çä¸ä¸ªæ¡¥æ¢ï¼è¿æ¥çåç§èæç½ç»è®¾å¤ï¼\n   \n   âBridgeãOVS ä¹é´çè¿æ¥âï¼âDocker å®¹å¨ä¹é´çè¿æ¥â ç­ç­ï¼ä»¥æ­¤æå»ºåºéå¸¸å¤æçèæç½ç»ç»æï¼æ¯å¦ OpenStack Neutronã\n\n * æä»¬æ¥æµè¯ä¸ tomcat01 å tomcat02 å®¹å¨é´æ¯å¦å¯ä»¥äºç¸ ping é\n   \n   [root@VM-0-6-centos ~]# docker exec -it tomcat02 ping 172.18.0.2\n   PING 172.18.0.2 (172.18.0.2) 56(84) bytes of data.\n   64 bytes from 172.18.0.2: icmp_seq=1 ttl=64 time=0.095 ms\n   \n   \n   1\n   2\n   3\n   \n   \n   æä»¥ï¼å®¹å¨åå®¹å¨ä¹é´æ¯å¯ä»¥äºç¸è®¿é®çã\n   \n   ç»è®ºï¼tomcat1 å tomcat2 å±ç¨ä¸ä¸ªè·¯ç±å¨ãæ¯çï¼ä»ä»¬ä½¿ç¨çä¸ä¸ªï¼å°±æ¯docker0ãä»»ä½ä¸ä¸ªå®¹å¨å¯å¨é»è®¤é½æ¯ docker0 ç½ç»ã docker é»è®¤ä¼ç»å®¹å¨åéä¸ä¸ªå¯ç¨ ip ã\n\nå°ç»\n\nDockerä½¿ç¨Linuxæ¡¥æ¥ï¼å¨å®¿ä¸»æºèæä¸ä¸ªDockerå®¹å¨ç½æ¡¥(docker0)ï¼Dockerå¯å¨ä¸ä¸ªå®¹å¨æ¶ä¼æ ¹æ® Dockerç½æ¡¥çç½æ®µåéç»å®¹å¨ä¸ä¸ªIPå°åï¼ç§°ä¸ºContainer-IPï¼åæ¶Dockerç½æ¡¥æ¯æ¯ä¸ªå®¹å¨çé»è®¤ç½ å³ãå ä¸ºå¨åä¸å®¿ä¸»æºåçå®¹å¨é½æ¥å¥åä¸ä¸ªç½æ¡¥ï¼è¿æ ·å®¹å¨ä¹é´å°±è½å¤éè¿å®¹å¨çContainer-IPç´æ¥ éä¿¡ã\n\n\n\nDocker å®¹å¨ç½ç»å°±å¾å¥½çå©ç¨äº Linux èæç½ç»ææ¯ï¼å¨æ¬å°ä¸»æºåå®¹å¨ååå«åå»ºä¸ä¸ªèææ¥å£ï¼å¹¶è®©ä»ä»¬å½¼æ­¤èéï¼è¿æ ·ä¸å¯¹æ¥å£å« veth pairï¼ï¼\n\nDocker ä¸­çç½ç»æ¥å£é»è®¤é½æ¯èæçæ¥å£ãèææ¥å£çä¼å¿å°±æ¯è½¬åæçæé«ï¼å ä¸ºLinuxæ¯å¨åæ ¸ä¸­è¿è¡æ°æ®çå¤å¶æ¥å®ç°èææ¥å£ä¹é´çæ°æ®è½¬åï¼æ ééè¿å¤é¨çç½ç»è®¾å¤äº¤æ¢ï¼ï¼å¯¹äºæ¬å°ç³»ç»åå®¹å¨ç³»ç»æ¥è¯´ï¼èææ¥å£è·ä¸ä¸ªæ­£å¸¸çä»¥å¤ªç½å¡ç¸æ¯å¹¶æ²¡æåºå«ï¼åªæ¯ä»çéåº¦å¿«å¾å¤ã\n\n\n# Linkåæ°\n\næèä¸ä¸ªåºæ¯ï¼æä»¬ç¼åä¸ä¸ªå¾®æå¡ï¼æ°æ®åºè¿æ¥å°ååæ¥æ¯ä½¿ç¨ipçï¼å¦æipååå°±ä¸è¡äºï¼é£æä»¬è½ä¸è½ä½¿ç¨æå¡åè®¿é®å¢ï¼\n\nå°±å jdbc:mysql://mysql:3306ï¼è¿æ ·çè¯åªæ mysql éå¯ï¼æä»¬ä¹ä¸éè¦ä¿®æ¹éç½®äºï¼\n\ndockeræä¾äº --link çæä½ï¼\n\n# æä»¬ä½¿ç¨tomcat02ï¼ç´æ¥éè¿å®¹å¨åping,ä¸ä½¿ç¨ip\n[root@VM-0-6-centos ~]# docker exec -it tomcat02 ping tomcat01\n# ping ä¸é\nping: tomcat01: Name or service not known\n\n#æä»¬åå¯å¨ä¸ä¸ªtomcat03ï¼ä½æ¯å¯å¨çæ¶åè¿æ¥tomcat02\n[root@VM-0-6-centos ~]# docker run -d -P --name tomcat03 --link tomcat02 tomcat\n80ed9c4e1f9428598a91c727ed13b7d0534d86d569855d4fb8739baabe5d6b91\n\n#è¿ä¸ªæ¶åï¼æä»¬å°±å¯ä»¥ä½¿ç¨tomcat03 pingé tomcat02 äº\n[root@VM-0-6-centos ~]#  docker exec -it tomcat03 ping tomcat02\nPING tomcat02 (172.18.0.3) 56(84) bytes of data.\n64 bytes from tomcat02 (172.18.0.3): icmp_seq=1 ttl=64 time=0.092 ms\n\n# tomcat3 pingä¸é tomcat1\n[root@VM-0-6-centos ~]# docker exec -it tomcat03 ping tomcat01\nping: tomcat01: Name or service not known\n# tomcat2 pingä¸é tomcat3 ååä¹pingä¸é\n[root@VM-0-6-centos ~]# docker exec -it tomcat02 ping tomcat03\nping: tomcat03: Name or service not known\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\nè¿æ¯ä¸ºä»ä¹å¢ï¼\n\n#è¿å¥tomcat03ä¸­æ¥çä¸hostéç½®æä»¶\n[root@VM-0-6-centos ~]# docker exec -it tomcat03 cat /etc/hosts\n127.0.0.1\tlocalhost\n::1\tlocalhost ip6-localhost ip6-loopback\nfe00::0\tip6-localnet\nff00::0\tip6-mcastprefix\nff02::1\tip6-allnodes\nff02::2\tip6-allrouters\n#åç°tomcat2ç´æ¥è¢«åå¨è¿é\n172.18.0.3\ttomcat02 cff25f666b32\n172.18.0.4\t80ed9c4e1f94\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\næä»¥è¿éå¶å®å°±æ¯éç½®äºä¸ä¸ª hosts å°åèå·²ï¼\n\nåå ï¼--link çæ¶åï¼ç´æ¥æéè¦ link çä¸»æºçååå ip ç´æ¥éç½®å°äº hosts æä»¶ä¸­äº\n\n--link æ©é½è¿æ¶äºï¼æä»¬ä¸æ¨èä½¿ç¨ï¼æä»¬å¯ä»¥ä½¿ç¨èªå®ä¹ç½ç»çæ¹å¼\n\n\n# èªå®ä¹ç½ç»\n\n\n# åºæ¬æ¦å¿µ\n\næä»¤åè¡¨\n\n[root@VM-0-6-centos ~]# docker network --help\n\nUsage:  docker network COMMAND\n\nManage networks\n\nCommands:\n  connect     Connect a container to a network\n  create      Create a network\n  disconnect  Disconnect a container from a network\n  inspect     Display detailed information on one or more networks\n  ls          List networks\n  prune       Remove all unused networks\n  rm          Remove one or more networks\n\nRun \'docker network COMMAND --help\' for more information on a command.\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\næ¥çææç½ç»\n\n[root@VM-0-6-centos ~]# docker network ls\nNETWORK ID     NAME      DRIVER    SCOPE\n4b873066daf7   bridge    bridge    local\n86da632adad6   elastic   bridge    local\n64b606f257e7   host      host      local\n34ab4fdb73c0   none      null      local\n\n\n1\n2\n3\n4\n5\n6\n\n\nææç½è·¯æ¨¡å¼\n\nç½ç»æ¨¡å¼           éç½®                         è¯´æ\nbridgeæ¨¡å¼       --net=bridge               é»è®¤å¼ï¼å¨ Docker ç½æ¡¥ docker0 ä¸ä¸ºå®¹å¨åå»ºæ°çç½ç»æ \nnoneæ¨¡å¼         --net=none                 ä¸éç½®ç½ç»ï¼ç¨æ·å¯ä»¥ç¨åè¿å¥å®¹å¨ï¼èªè¡éç½®\ncontainer æ¨¡å¼   -- net=container:name/id   å®¹å¨åå¦å¤ä¸ä¸ªå®¹å¨å±äº«Network namespaceã\n                                          kubernetesä¸­çpodå°±æ¯å¤ä¸ªå®¹å¨å±äº«ä¸ä¸ªNetwork namespaceã\nhostæ¨¡å¼         --net=host                 å®¹å¨åå®¿ä¸»æºå±äº«Network namespace\nç¨æ·èªå®ä¹          --net=èªå®ä¹ç½ç»                ç¨æ·èªå·±ä½¿ç¨networkç¸å³å½ä»¤å®ä¹ç½ç»ï¼åå»ºå®¹å¨ç æ¶åå¯ä»¥æå®ä¸ºèªå·±å®ä¹çç½ç»ï¼å°±å elastic\n\næ¥çä¸ä¸ªå·ä½çç½ç»çè¯¦ç»ä¿¡æ¯\n\n[root@VM-0-6-centos ~]# docker network inspect 4b873066daf7\n[\n    {\n        "Name": "bridge",\n        "Id": "4b873066daf7eca3fd7a79ce17b46dff17a89368cb7f43d01c88dd9ee08d9407",\n        "Created": "2021-06-11T18:42:36.937993641+08:00",\n        "Scope": "local",\n        "Driver": "bridge",\n        "EnableIPv6": false,\n        "IPAM": {\n            "Driver": "default",\n            "Options": null,\n            "Config": [\n                {\n                //é»è®¤ docker0 æ¯ç®¡çè¿ä¸ªå­ç½èå´åçã0~16ï¼\n                //ä¹å°±æ¯ 255*255ï¼å»æ0ä¸ª255ï¼æä»¬æ65534å¯ä»¥åéçip\n                //æä»¥ docker0 ç½ç»é»è®¤å¯ä»¥æ¯æåå»º6ä¸å¤ä¸ªå®¹å¨ipä¸éå¤\n                    "Subnet": "172.18.0.0/16",\n                    "Gateway": "172.18.0.1"\n                }\n            ]\n        },\n        "Internal": false,\n        "Attachable": false,\n        "Ingress": false,\n        "ConfigFrom": {\n            "Network": ""\n        },\n        "ConfigOnly": false,\n        "Containers": {\n            "220fac5f16f3cf7f2619131502cb6bb4004f334c3b501a0ceff8804c361cf027": {\n                "Name": "tomcat01",\n                "EndpointID": "d54c9b71aff1843c3a1609de8eaa85785ebddd8a419ea5fae346fb538568946f",\n                "MacAddress": "02:42:ac:12:00:02",\n                "IPv4Address": "172.18.0.2/16",\n                "IPv6Address": ""\n            },\n            "80ed9c4e1f9428598a91c727ed13b7d0534d86d569855d4fb8739baabe5d6b91": {\n                "Name": "tomcat03",\n                "EndpointID": "a6dd8dd8ba2b5b341cbed8318a2463a4e28f1059cc848504a409fbf75ae21f4f",\n                "MacAddress": "02:42:ac:12:00:04",\n                "IPv4Address": "172.18.0.4/16",\n                "IPv6Address": ""\n            },\n            "cff25f666b32df808923a51e14f2f2686fc9aff161e07c188c28ce15d0b38401": {\n                "Name": "tomcat02",\n                "EndpointID": "b5b18a038166b64a0308cc4a506f543b92d35b9fc50f5758f8d5daccc1df87bd",\n                "MacAddress": "02:42:ac:12:00:03",\n                "IPv4Address": "172.18.0.3/16",\n                "IPv6Address": ""\n            }\n        },\n        "Options": {\n            "com.docker.network.bridge.default_bridge": "true",\n            "com.docker.network.bridge.enable_icc": "true",\n            "com.docker.network.bridge.enable_ip_masquerade": "true",\n            "com.docker.network.bridge.host_binding_ipv4": "0.0.0.0",\n            "com.docker.network.bridge.name": "docker0",\n            "com.docker.network.driver.mtu": "1500"\n        },\n        "Labels": {}\n    }\n]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n\n\n\n# èªå®ä¹ç½å¡\n\n1ãåå é¤ä¹ååå»ºç tomcat éåä»¥åå®¹å¨\n\n2ãåå»ºå®¹å¨\n\nä½æ¯æä»¬ç¥éé»è®¤åå»ºçå®¹å¨é½æ¯ docker0 ç½å¡ç\n\n#é»è®¤æä»¬ä¸éç½®ç½ç»ï¼ä¹å°±ç¸å½äºé»è®¤å¼ --net bridge ä½¿ç¨çdocker0\ndocker run -d -P --name tomcat01 --net bridge tomcat\n\n\n1\n2\n\n\ndocker0ç½ç»çç¹ç¹\n\n 1. å®æ¯é»è®¤ç\n\n 2. ååè®¿é®ä¸é\n\n 3. --link ååéäºï¼ä½æ¯å äºåä¸è¡\n\n3ãæä»¬å¯ä»¥è®©å®¹å¨åå»ºçæ¶åä½¿ç¨èªå®ä¹ç½ç»\n\nèªå®ä¹åå»ºçé»è®¤default "bridge" ä¸ä¸ªç½ç»\n\ndocker network create --driver bridge --subnet 192.168.0.0/16 --gateway 192.168.0.1 mynet\n\n\n1\n\n\n[root@VM-0-6-centos ~]# docker network ls\nNETWORK ID     NAME      DRIVER    SCOPE\n4b873066daf7   bridge    bridge    local\n64b606f257e7   host      host      local\n7f9fbfea6931   mynet     bridge    local\n34ab4fdb73c0   none      null      local\n\n\n1\n2\n3\n4\n5\n6\n\n\n[root@VM-0-6-centos ~]# docker network inspect mynet\n[\n    {\n        "Name": "mynet",\n        "Id": "7f9fbfea6931271e917c7a932c47d05f311f2fe6f1e694b95e4ef3fcf060446e",\n        "Created": "2021-06-16T15:56:58.841772626+08:00",\n        "Scope": "local",\n        "Driver": "bridge",\n        "EnableIPv6": false,\n        "IPAM": {\n            "Driver": "default",\n            "Options": {},\n            "Config": [\n                {\n                    "Subnet": "192.168.0.0/16",\n                    "Gateway": "192.168.0.1"\n                }\n            ]\n        },\n        "Internal": false,\n        "Attachable": false,\n        "Ingress": false,\n        "ConfigFrom": {\n            "Network": ""\n        },\n        "ConfigOnly": false,\n        "Containers": {},\n        "Options": {},\n        "Labels": {}\n    }\n]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\næä»¬æ¥å¯å¨ä¸¤ä¸ªå®¹å¨æµè¯ï¼ä½¿ç¨èªå·±ç mynet\n\ndocker run -d -P --name tomcat-net-01 --net mynet tomcat\ndocker run -d -P --name tomcat-net-02 --net mynet tomcat\n\n\n1\n2\n\n\næ¥æµè¯pingå®¹å¨ååipè¯è¯\n\n# é½å¯ä»¥pingé\n[root@VM-0-6-centos ~]# docker exec -it tomcat-net-01 ping 192.168.0.3\nPING 192.168.0.3 (192.168.0.3) 56(84) bytes of data.\n64 bytes from 192.168.0.3: icmp_seq=1 ttl=64 time=0.118 ms\n[root@VM-0-6-centos ~]# docker exec -it tomcat-net-01 ping tomcat-net-02\nPING tomcat-net-02 (192.168.0.3) 56(84) bytes of data.\n64 bytes from tomcat-net-02.mynet (192.168.0.3): icmp_seq=1 ttl=64 time=0.059 ms\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nåç°ï¼æä»¬èªå®ä¹çç½ç»dockeré½å·²ç»å¸®æä»¬ç»´æ¤å¥½äºå¯¹åºçå³ç³»\n\næä»¥æä»¬å¹³æ¶é½å¯ä»¥è¿æ ·ä½¿ç¨ç½ç»ï¼ä¸ä½¿ç¨ --link ææä¸æ ·ï¼ææä¸è¥¿å®æ¶ç»´æ¤å¥½ï¼ç´æ¥åå ping éã\n\n\n# ç½ç»è¿é\n\ndocker0åèªå®ä¹ç½ç»è¯å®ä¸éï¼æä»¬ä½¿ç¨èªå®ä¹ç½ç»çå¥½å¤å°±æ¯ç½ç»éç¦»ï¼\n\nå¤§å®¶å¬å¸é¡¹ç®é¨ç½²çä¸å¡é½éå¸¸å¤ï¼åè®¾æä»¬æä¸ä¸ªååï¼æä»¬ä¼æè®¢åä¸å¡ï¼æä½ä¸åæ°æ®ï¼ï¼ä¼æ è®¢åä¸å¡è´­ç©è½¦ä¸å¡ï¼æä½ä¸åç¼å­ï¼ãå¦æå¨ä¸ä¸ªç½ç»ä¸ï¼æçç¨åºç¿çæ¶æä»£ç å°±ä¸è½é²æ­¢äºï¼æ ä»¥æä»¬å°±å¨é¨ç½²çæ¶åç½ç»éç¦»ï¼åå»ºä¸¤ä¸ªæ¡¥æ¥ç½å¡ï¼æ¯å¦è®¢åä¸å¡ï¼éé¢çæ°æ®åºï¼redisï¼mqï¼å¨é¨ä¸å¡é½å¨ order-net ç½ç»ä¸ï¼å¶ä»ä¸å¡å¨å¶ä»ç½ç»ã\n\né£å³é®çé®é¢æ¥äºï¼å¦ä½è®© tomcat-net-01 è®¿é® tomcat1ï¼\n\n\n\n# å¯å¨é»è®¤çå®¹å¨ï¼å¨docker0ç½ç»ä¸\ndocker run -d -P --name tomcat01 tomcat\ndocker run -d -P --name tomcat02 tomcat\n\n\n1\n2\n3\n\n\næä¸ªå½ä»¤ connect ç¨æ¥è¿æ¥ç½ç»\n\n# æä»¬æ¥æµè¯ä¸ä¸ï¼æémynet-docker0\n[root@VM-0-6-centos ~]# docker network connect mynet tomcat01\n[root@VM-0-6-centos ~]# docker network inspect mynet\n[\n    {\n        "Name": "mynet",\n        "Id": "7f9fbfea6931271e917c7a932c47d05f311f2fe6f1e694b95e4ef3fcf060446e",\n        "Created": "2021-06-16T15:56:58.841772626+08:00",\n        "Scope": "local",\n        "Driver": "bridge",\n        "EnableIPv6": false,\n        "IPAM": {\n            "Driver": "default",\n            "Options": {},\n            "Config": [\n                {\n                    "Subnet": "192.168.0.0/16",\n                    "Gateway": "192.168.0.1"\n                }\n            ]\n        },\n        "Internal": false,\n        "Attachable": false,\n        "Ingress": false,\n        "ConfigFrom": {\n            "Network": ""\n        },\n        "ConfigOnly": false,\n        "Containers": {\n            "52395d45d1fcad0170da201db471ea6ac75c25c9f7d91d10b6260dce2739fd54": {\n                "Name": "tomcat-net-01",\n                "EndpointID": "3c1aea820c4276b0d0dbe249ebd6f43547baceb7c3e774f8ee4b61b0e4b0b11f",\n                "MacAddress": "02:42:c0:a8:00:02",\n                "IPv4Address": "192.168.0.2/16",\n                "IPv6Address": ""\n            },\n            //åç°æä»¬çtomcat01å°±è¿æ¥è¿éäº\n            "c159a99201d5b3f0f6be065d562c1a0e6439b316084361937f9eda9a22e997ab": {\n                "Name": "tomcat01",\n                "EndpointID": "e11948dcd704e50b8008ee41546ff7c9f506b636f41fb6e6697081fd9d398dc5",\n                "MacAddress": "02:42:c0:a8:00:04",\n                "IPv4Address": "192.168.0.4/16",\n                "IPv6Address": ""\n            },\n            "f2106d157b5ea6c5bdb87e04b9dc18be2b2e25a41d61e25851ea0afbf1e9ea39": {\n                "Name": "tomcat-net-02",\n                "EndpointID": "3cb8b199df4fca69e1a6428ae0536ff3291f9215f8b9d9303a2ec3402bdc704f",\n                "MacAddress": "02:42:c0:a8:00:03",\n                "IPv4Address": "192.168.0.3/16",\n                "IPv6Address": ""\n            }\n        },\n        "Options": {},\n        "Labels": {}\n    }\n]\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n\n\ntomcat01 å¯ä»¥pingéäº\n\n[root@VM-0-6-centos ~]# docker exec -it tomcat01 ping tomcat-net-01\nPING tomcat-net-01 (192.168.0.2) 56(84) bytes of data.\n64 bytes from tomcat-net-01.mynet (192.168.0.2): icmp_seq=1 ttl=64 time=0.075 ms\n\n\n1\n2\n3\n\n\ntomcat02 ä¾æ§pingä¸éï¼å¤§å®¶åºè¯¥å°±çè§£äº\n\n[root@VM-0-6-centos ~]#  docker exec -it tomcat02 ping tomcat-net-01\nping: tomcat-net-01: Name or service not known\n\n\n1\n2\n\n\nç»è®ºï¼å¦æè¦è·¨ç½ç»æä½å«äººï¼å°±éè¦ä½¿ç¨ docker network connect [OPTIONS] NETWORK CONTAINER è¿æ¥\n\n\n# é¨ç½² Redis éç¾¤\n\nåå»ºç½å¡\n\ndocker network create redis --subnet 172.38.0.0/16\n\n\n1\n\n\néè¿èæ¬åå»ºå­ä¸ªrediséç½®\n\nfor port in $(seq 1 6); \\\ndo \\\nmkdir -p /mydata/redis/node-${port}/conf\ntouch /mydata/redis/node-${port}/conf/redis.conf\ncat << EOF >/mydata/redis/node-${port}/conf/redis.conf\nport 6379\nbind 0.0.0.0\ncluster-enabled yes\ncluster-config-file nodes.conf\ncluster-node-timeout 5000\ncluster-announce-ip 172.38.0.1${port}\ncluster-announce-port 6379\ncluster-announce-bus-port 16379\nappendonly yes\nEOF\ndone\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n\nå¯å¨6ä¸ªå®¹å¨\n\nfor port in $(seq 1 6); \\\ndo \\\n\ndocker run -p 637${port}:6379 -p 1637${port}:16379 --name redis-${port} \\\n-v /mydata/redis/node-${port}/data:/data \\\n-v /mydata/redis/node-${port}/conf/redis.conf:/etc/redis/redis.conf \\\n-d --net redis --ip 172.38.0.1${port} redis:5.0.9-alpine3.11 redis-server /etc/redis/redis.conf; \\\n\ndone\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nè¿å¥ä¸ä¸ªredisï¼æ³¨æè¿éæ¯ shå½ä»¤\n\ndocker exec -it redis-1 /bin/sh\n\n\n1\n\n\nåå»ºéç¾¤\n\nredis-cli --cluster create 172.38.0.11:6379 172.38.0.12:6379 172.38.0.13:6379 172.38.0.14:6379 172.38.0.15:6379 172.38.0.16:6379 --cluster-replicas 1\n\n\n1\n\n\nè¿æ¥éç¾¤\n\nredis-cli -c\n\n\n1\n\n\n# æ¥çéç¾¤ä¿¡æ¯\ncluster info\n# æ¥çèç¹\ncluster nodes\n\n\n1\n2\n3\n4\n\n\næ­¤æ¶ï¼å­ä¸ª redis å·²æ­å»ºå¥½\n\næµè¯éç¾¤\n\nå set ä¸ä¸ªæ°æ®\n\n127.0.0.1:6379> set name zhiyuan\n-> Redirected to slot [5798] located at 172.38.0.12:6379\nOK\n172.38.0.12:6379> get name\n"zhiyuan"\n\n\n1\n2\n3\n4\n5\n\n\nåæ­¢å°å­å¼çå®¹å¨ redis-1\n\nç¶ååæ¬¡ get nameï¼åç°ä¾æ§å¯ä»¥è·åå¼\n\næ¥çèç¹ï¼åç°é«å¯ç¨å®å¨æ²¡é®é¢',normalizedContent:' * çè§£docker0\n * linkåæ°\n * èªå®ä¹ç½ç»\n   * åºæ¬æ¦å¿µ\n   * èªå®ä¹ç½å¡\n   * ç½ç»è¿é\n * é¨ç½² redis éç¾¤\n\n\n# çè§£docker0\n\næ¥çæ¬å°ip ip addr\n\n[root@vm-0-6-centos ~]# ip addr\n#æ¬æºåç¯å°å\n1: lo: <loopback,up,lower_up> mtu 65536 qdisc noqueue state unknown group default qlen 1000\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet 127.0.0.1/8 scope host lo\n       valid_lft forever preferred_lft forever\n    inet6 ::1/128 scope host \n       valid_lft forever preferred_lft forever\n#é¿éäºçç§æip\n2: eth0: <broadcast,multicast,up,lower_up> mtu 1500 qdisc pfifo_fast state up group default qlen 1000\n    link/ether 52:54:00:9a:88:4d brd ff:ff:ff:ff:ff:ff\n    inet 172.17.0.6/20 brd 172.17.15.255 scope global eth0\n       valid_lft forever preferred_lft forever\n    inet6 fe80::5054:ff:fe9a:884d/64 scope link \n       valid_lft forever preferred_lft forever\n# dockerç½æ¡¥\n3: docker0: <no-carrier,broadcast,multicast,up> mtu 1500 qdisc noqueue state down group default \n    link/ether 02:42:d1:ba:72:7a brd ff:ff:ff:ff:ff:ff\n    inet 172.18.0.1/16 brd 172.18.255.255 scope global docker0\n       valid_lft forever preferred_lft forever\n    inet6 fe80::42:d1ff:feba:727a/64 scope link \n       valid_lft forever preferred_lft forever\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\ndocker æ¯å¦ä½å¤çå®¹å¨ç½ç»è®¿é®çï¼\n\næä»¬ä¹åå®è£esçæ¶åï¼çè¿ä¸ä¸ªé®é¢ï¼å°±æ¯å®è£kibanaçé®é¢ï¼kibanaå¾æå®esçå°åï¼æèæä»¬å®éåºæ¯ä¸­ï¼æä»¬å¼åäºå¾å¤å¾®æå¡é¡¹ç®ï¼é£äºå¾®æå¡é¡¹ç®é½è¦è¿æ¥æ°æ®åºï¼éè¦æå®æ°æ®åºçurlå°åï¼éè¿ipãä½æ¯æä»¬ç¨dockerç®¡ççè¯ï¼åè®¾æ°æ®åºåºé®é¢äºï¼æä»¬éæ°å¯å¨è¿è¡ä¸ä¸ªï¼è¿ä¸ªæ¶åæ°æ®åºçå°åå°±ä¼åçååï¼dockerä¼ç»æ¯ä¸ªå®¹å¨é½åéä¸ä¸ªipï¼ä¸å®¹å¨åå®¹å¨ä¹é´æ¯å¯ä»¥äºç¸è®¿é®çã æä»¬å¯ä»¥æµè¯ä¸å®¹å¨ä¹é´è½ä¸è½pingéè¿ã\n\n[root@vm-0-6-centos ~]# docker run -d -p --name tomcat01 tomcat\n# æ¥çtomcat01çipå°åï¼dockerä¼ç»æ¯ä¸ªå®¹å¨é½åéä¸ä¸ªipï¼\n[root@vm-0-6-centos ~]#  docker exec -it tomcat01 ip addr\n1: lo: <loopback,up,lower_up> mtu 65536 qdisc noqueue state unknown group default qlen 1000\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet 127.0.0.1/8 scope host lo\n       valid_lft forever preferred_lft forever\n24: eth0@if25: <broadcast,multicast,up,lower_up> mtu 1500 qdisc noqueue state up group default \n    link/ether 02:42:ac:12:00:02 brd ff:ff:ff:ff:ff:ff link-netnsid 0\n    inet 172.18.0.2/16 brd 172.18.255.255 scope global eth0\n       valid_lft forever preferred_lft forever\n# å¯ä»¥pingéï¼\n[root@vm-0-6-centos ~]# ping 172.18.0.2\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nåå \n\næ¯ä¸ä¸ªå®è£äº docker ç linux ä¸»æºé½æä¸ä¸ª docker0 çèæç½å¡ãè¿æ¯ä¸ªæ¡¥æ¥ç½å¡ï¼ä½¿ç¨äº veth-pair ææ¯ï¼\n\n * åæ¬¡æ¥çä¸»æºç ip addr ï¼æ¬æ¥æä¸ä¸ªç½ç»ï¼å¯å¨tomcatå®¹å¨ä¹åï¼ä¼å¤äºä¸ä¸ªç½ç»ï¼\n\n * æ¯å¯å¨ä¸ä¸ªå®¹å¨ï¼linuxä¸»æºå°±ä¼å¤äºä¸ä¸ªèæç½å¡ã\n   \n   #å¯å¨ä¸ä¸ªtomcat01ï¼ä¸»æºçipå°åå¤äºä¸ª  25: veth2b7cb71@if24\n   #ç¶åæä»¬å¨tomcat01å®¹å¨ä¸­æ¥çå®¹å¨çip  24: eth0@if25\n   \n   #æä»¬åå¯å¨ä¸ä¸ªtomcat02è§å¯\n   [root@vm-0-6-centos ~]# docker run -d -p --name tomcat02 tomcat\n   \n   # ç¶ååç°linuxä¸»æºä¸åå¤äºä¸ä¸ªç½å¡\t27: veth4d2bd95@if26\n   # æä»¬çä¸tomcat02çå®¹å¨åipå°åæ¯\t  26: eth0@if27\n   [root@vm-0-6-centos ~]# docker exec -it tomcat02 ip addr\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   \n   \n   å¯ä»¥åç°ï¼åªè¦å¯å¨ä¸ä¸ªå®¹å¨ï¼å°±æä¸å¯¹ç½å¡\n   \n   veth-pair å°±æ¯ä¸å¯¹çèæè®¾å¤æ¥å£ï¼å®é½æ¯æå¯¹åºç°çãä¸ç«¯è¿çåè®®æ ï¼ä¸ç«¯å½¼æ­¤ç¸è¿çã\n   \n   æ­£å ä¸ºæè¿ä¸ªç¹æ§ï¼å®å¸¸å¸¸åå½çä¸ä¸ªæ¡¥æ¢ï¼è¿æ¥çåç§èæç½ç»è®¾å¤ï¼\n   \n   âbridgeãovs ä¹é´çè¿æ¥âï¼âdocker å®¹å¨ä¹é´çè¿æ¥â ç­ç­ï¼ä»¥æ­¤æå»ºåºéå¸¸å¤æçèæç½ç»ç»æï¼æ¯å¦ openstack neutronã\n\n * æä»¬æ¥æµè¯ä¸ tomcat01 å tomcat02 å®¹å¨é´æ¯å¦å¯ä»¥äºç¸ ping é\n   \n   [root@vm-0-6-centos ~]# docker exec -it tomcat02 ping 172.18.0.2\n   ping 172.18.0.2 (172.18.0.2) 56(84) bytes of data.\n   64 bytes from 172.18.0.2: icmp_seq=1 ttl=64 time=0.095 ms\n   \n   \n   1\n   2\n   3\n   \n   \n   æä»¥ï¼å®¹å¨åå®¹å¨ä¹é´æ¯å¯ä»¥äºç¸è®¿é®çã\n   \n   ç»è®ºï¼tomcat1 å tomcat2 å±ç¨ä¸ä¸ªè·¯ç±å¨ãæ¯çï¼ä»ä»¬ä½¿ç¨çä¸ä¸ªï¼å°±æ¯docker0ãä»»ä½ä¸ä¸ªå®¹å¨å¯å¨é»è®¤é½æ¯ docker0 ç½ç»ã docker é»è®¤ä¼ç»å®¹å¨åéä¸ä¸ªå¯ç¨ ip ã\n\nå°ç»\n\ndockerä½¿ç¨linuxæ¡¥æ¥ï¼å¨å®¿ä¸»æºèæä¸ä¸ªdockerå®¹å¨ç½æ¡¥(docker0)ï¼dockerå¯å¨ä¸ä¸ªå®¹å¨æ¶ä¼æ ¹æ® dockerç½æ¡¥çç½æ®µåéç»å®¹å¨ä¸ä¸ªipå°åï¼ç§°ä¸ºcontainer-ipï¼åæ¶dockerç½æ¡¥æ¯æ¯ä¸ªå®¹å¨çé»è®¤ç½ å³ãå ä¸ºå¨åä¸å®¿ä¸»æºåçå®¹å¨é½æ¥å¥åä¸ä¸ªç½æ¡¥ï¼è¿æ ·å®¹å¨ä¹é´å°±è½å¤éè¿å®¹å¨çcontainer-ipç´æ¥ éä¿¡ã\n\n\n\ndocker å®¹å¨ç½ç»å°±å¾å¥½çå©ç¨äº linux èæç½ç»ææ¯ï¼å¨æ¬å°ä¸»æºåå®¹å¨ååå«åå»ºä¸ä¸ªèææ¥å£ï¼å¹¶è®©ä»ä»¬å½¼æ­¤èéï¼è¿æ ·ä¸å¯¹æ¥å£å« veth pairï¼ï¼\n\ndocker ä¸­çç½ç»æ¥å£é»è®¤é½æ¯èæçæ¥å£ãèææ¥å£çä¼å¿å°±æ¯è½¬åæçæé«ï¼å ä¸ºlinuxæ¯å¨åæ ¸ä¸­è¿è¡æ°æ®çå¤å¶æ¥å®ç°èææ¥å£ä¹é´çæ°æ®è½¬åï¼æ ééè¿å¤é¨çç½ç»è®¾å¤äº¤æ¢ï¼ï¼å¯¹äºæ¬å°ç³»ç»åå®¹å¨ç³»ç»æ¥è¯´ï¼èææ¥å£è·ä¸ä¸ªæ­£å¸¸çä»¥å¤ªç½å¡ç¸æ¯å¹¶æ²¡æåºå«ï¼åªæ¯ä»çéåº¦å¿«å¾å¤ã\n\n\n# linkåæ°\n\næèä¸ä¸ªåºæ¯ï¼æä»¬ç¼åä¸ä¸ªå¾®æå¡ï¼æ°æ®åºè¿æ¥å°ååæ¥æ¯ä½¿ç¨ipçï¼å¦æipååå°±ä¸è¡äºï¼é£æä»¬è½ä¸è½ä½¿ç¨æå¡åè®¿é®å¢ï¼\n\nå°±å jdbc:mysql://mysql:3306ï¼è¿æ ·çè¯åªæ mysql éå¯ï¼æä»¬ä¹ä¸éè¦ä¿®æ¹éç½®äºï¼\n\ndockeræä¾äº --link çæä½ï¼\n\n# æä»¬ä½¿ç¨tomcat02ï¼ç´æ¥éè¿å®¹å¨åping,ä¸ä½¿ç¨ip\n[root@vm-0-6-centos ~]# docker exec -it tomcat02 ping tomcat01\n# ping ä¸é\nping: tomcat01: name or service not known\n\n#æä»¬åå¯å¨ä¸ä¸ªtomcat03ï¼ä½æ¯å¯å¨çæ¶åè¿æ¥tomcat02\n[root@vm-0-6-centos ~]# docker run -d -p --name tomcat03 --link tomcat02 tomcat\n80ed9c4e1f9428598a91c727ed13b7d0534d86d569855d4fb8739baabe5d6b91\n\n#è¿ä¸ªæ¶åï¼æä»¬å°±å¯ä»¥ä½¿ç¨tomcat03 pingé tomcat02 äº\n[root@vm-0-6-centos ~]#  docker exec -it tomcat03 ping tomcat02\nping tomcat02 (172.18.0.3) 56(84) bytes of data.\n64 bytes from tomcat02 (172.18.0.3): icmp_seq=1 ttl=64 time=0.092 ms\n\n# tomcat3 pingä¸é tomcat1\n[root@vm-0-6-centos ~]# docker exec -it tomcat03 ping tomcat01\nping: tomcat01: name or service not known\n# tomcat2 pingä¸é tomcat3 ååä¹pingä¸é\n[root@vm-0-6-centos ~]# docker exec -it tomcat02 ping tomcat03\nping: tomcat03: name or service not known\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\nè¿æ¯ä¸ºä»ä¹å¢ï¼\n\n#è¿å¥tomcat03ä¸­æ¥çä¸hostéç½®æä»¶\n[root@vm-0-6-centos ~]# docker exec -it tomcat03 cat /etc/hosts\n127.0.0.1\tlocalhost\n::1\tlocalhost ip6-localhost ip6-loopback\nfe00::0\tip6-localnet\nff00::0\tip6-mcastprefix\nff02::1\tip6-allnodes\nff02::2\tip6-allrouters\n#åç°tomcat2ç´æ¥è¢«åå¨è¿é\n172.18.0.3\ttomcat02 cff25f666b32\n172.18.0.4\t80ed9c4e1f94\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\næä»¥è¿éå¶å®å°±æ¯éç½®äºä¸ä¸ª hosts å°åèå·²ï¼\n\nåå ï¼--link çæ¶åï¼ç´æ¥æéè¦ link çä¸»æºçååå ip ç´æ¥éç½®å°äº hosts æä»¶ä¸­äº\n\n--link æ©é½è¿æ¶äºï¼æä»¬ä¸æ¨èä½¿ç¨ï¼æä»¬å¯ä»¥ä½¿ç¨èªå®ä¹ç½ç»çæ¹å¼\n\n\n# èªå®ä¹ç½ç»\n\n\n# åºæ¬æ¦å¿µ\n\næä»¤åè¡¨\n\n[root@vm-0-6-centos ~]# docker network --help\n\nusage:  docker network command\n\nmanage networks\n\ncommands:\n  connect     connect a container to a network\n  create      create a network\n  disconnect  disconnect a container from a network\n  inspect     display detailed information on one or more networks\n  ls          list networks\n  prune       remove all unused networks\n  rm          remove one or more networks\n\nrun \'docker network command --help\' for more information on a command.\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\næ¥çææç½ç»\n\n[root@vm-0-6-centos ~]# docker network ls\nnetwork id     name      driver    scope\n4b873066daf7   bridge    bridge    local\n86da632adad6   elastic   bridge    local\n64b606f257e7   host      host      local\n34ab4fdb73c0   none      null      local\n\n\n1\n2\n3\n4\n5\n6\n\n\nææç½è·¯æ¨¡å¼\n\nç½ç»æ¨¡å¼           éç½®                         è¯´æ\nbridgeæ¨¡å¼       --net=bridge               é»è®¤å¼ï¼å¨ docker ç½æ¡¥ docker0 ä¸ä¸ºå®¹å¨åå»ºæ°çç½ç»æ \nnoneæ¨¡å¼         --net=none                 ä¸éç½®ç½ç»ï¼ç¨æ·å¯ä»¥ç¨åè¿å¥å®¹å¨ï¼èªè¡éç½®\ncontainer æ¨¡å¼   -- net=container:name/id   å®¹å¨åå¦å¤ä¸ä¸ªå®¹å¨å±äº«network namespaceã\n                                          kubernetesä¸­çpodå°±æ¯å¤ä¸ªå®¹å¨å±äº«ä¸ä¸ªnetwork namespaceã\nhostæ¨¡å¼         --net=host                 å®¹å¨åå®¿ä¸»æºå±äº«network namespace\nç¨æ·èªå®ä¹          --net=èªå®ä¹ç½ç»                ç¨æ·èªå·±ä½¿ç¨networkç¸å³å½ä»¤å®ä¹ç½ç»ï¼åå»ºå®¹å¨ç æ¶åå¯ä»¥æå®ä¸ºèªå·±å®ä¹çç½ç»ï¼å°±å elastic\n\næ¥çä¸ä¸ªå·ä½çç½ç»çè¯¦ç»ä¿¡æ¯\n\n[root@vm-0-6-centos ~]# docker network inspect 4b873066daf7\n[\n    {\n        "name": "bridge",\n        "id": "4b873066daf7eca3fd7a79ce17b46dff17a89368cb7f43d01c88dd9ee08d9407",\n        "created": "2021-06-11t18:42:36.937993641+08:00",\n        "scope": "local",\n        "driver": "bridge",\n        "enableipv6": false,\n        "ipam": {\n            "driver": "default",\n            "options": null,\n            "config": [\n                {\n                //é»è®¤ docker0 æ¯ç®¡çè¿ä¸ªå­ç½èå´åçã0~16ï¼\n                //ä¹å°±æ¯ 255*255ï¼å»æ0ä¸ª255ï¼æä»¬æ65534å¯ä»¥åéçip\n                //æä»¥ docker0 ç½ç»é»è®¤å¯ä»¥æ¯æåå»º6ä¸å¤ä¸ªå®¹å¨ipä¸éå¤\n                    "subnet": "172.18.0.0/16",\n                    "gateway": "172.18.0.1"\n                }\n            ]\n        },\n        "internal": false,\n        "attachable": false,\n        "ingress": false,\n        "configfrom": {\n            "network": ""\n        },\n        "configonly": false,\n        "containers": {\n            "220fac5f16f3cf7f2619131502cb6bb4004f334c3b501a0ceff8804c361cf027": {\n                "name": "tomcat01",\n                "endpointid": "d54c9b71aff1843c3a1609de8eaa85785ebddd8a419ea5fae346fb538568946f",\n                "macaddress": "02:42:ac:12:00:02",\n                "ipv4address": "172.18.0.2/16",\n                "ipv6address": ""\n            },\n            "80ed9c4e1f9428598a91c727ed13b7d0534d86d569855d4fb8739baabe5d6b91": {\n                "name": "tomcat03",\n                "endpointid": "a6dd8dd8ba2b5b341cbed8318a2463a4e28f1059cc848504a409fbf75ae21f4f",\n                "macaddress": "02:42:ac:12:00:04",\n                "ipv4address": "172.18.0.4/16",\n                "ipv6address": ""\n            },\n            "cff25f666b32df808923a51e14f2f2686fc9aff161e07c188c28ce15d0b38401": {\n                "name": "tomcat02",\n                "endpointid": "b5b18a038166b64a0308cc4a506f543b92d35b9fc50f5758f8d5daccc1df87bd",\n                "macaddress": "02:42:ac:12:00:03",\n                "ipv4address": "172.18.0.3/16",\n                "ipv6address": ""\n            }\n        },\n        "options": {\n            "com.docker.network.bridge.default_bridge": "true",\n            "com.docker.network.bridge.enable_icc": "true",\n            "com.docker.network.bridge.enable_ip_masquerade": "true",\n            "com.docker.network.bridge.host_binding_ipv4": "0.0.0.0",\n            "com.docker.network.bridge.name": "docker0",\n            "com.docker.network.driver.mtu": "1500"\n        },\n        "labels": {}\n    }\n]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n\n\n\n# èªå®ä¹ç½å¡\n\n1ãåå é¤ä¹ååå»ºç tomcat éåä»¥åå®¹å¨\n\n2ãåå»ºå®¹å¨\n\nä½æ¯æä»¬ç¥éé»è®¤åå»ºçå®¹å¨é½æ¯ docker0 ç½å¡ç\n\n#é»è®¤æä»¬ä¸éç½®ç½ç»ï¼ä¹å°±ç¸å½äºé»è®¤å¼ --net bridge ä½¿ç¨çdocker0\ndocker run -d -p --name tomcat01 --net bridge tomcat\n\n\n1\n2\n\n\ndocker0ç½ç»çç¹ç¹\n\n 1. å®æ¯é»è®¤ç\n\n 2. ååè®¿é®ä¸é\n\n 3. --link ååéäºï¼ä½æ¯å äºåä¸è¡\n\n3ãæä»¬å¯ä»¥è®©å®¹å¨åå»ºçæ¶åä½¿ç¨èªå®ä¹ç½ç»\n\nèªå®ä¹åå»ºçé»è®¤default "bridge" ä¸ä¸ªç½ç»\n\ndocker network create --driver bridge --subnet 192.168.0.0/16 --gateway 192.168.0.1 mynet\n\n\n1\n\n\n[root@vm-0-6-centos ~]# docker network ls\nnetwork id     name      driver    scope\n4b873066daf7   bridge    bridge    local\n64b606f257e7   host      host      local\n7f9fbfea6931   mynet     bridge    local\n34ab4fdb73c0   none      null      local\n\n\n1\n2\n3\n4\n5\n6\n\n\n[root@vm-0-6-centos ~]# docker network inspect mynet\n[\n    {\n        "name": "mynet",\n        "id": "7f9fbfea6931271e917c7a932c47d05f311f2fe6f1e694b95e4ef3fcf060446e",\n        "created": "2021-06-16t15:56:58.841772626+08:00",\n        "scope": "local",\n        "driver": "bridge",\n        "enableipv6": false,\n        "ipam": {\n            "driver": "default",\n            "options": {},\n            "config": [\n                {\n                    "subnet": "192.168.0.0/16",\n                    "gateway": "192.168.0.1"\n                }\n            ]\n        },\n        "internal": false,\n        "attachable": false,\n        "ingress": false,\n        "configfrom": {\n            "network": ""\n        },\n        "configonly": false,\n        "containers": {},\n        "options": {},\n        "labels": {}\n    }\n]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\næä»¬æ¥å¯å¨ä¸¤ä¸ªå®¹å¨æµè¯ï¼ä½¿ç¨èªå·±ç mynet\n\ndocker run -d -p --name tomcat-net-01 --net mynet tomcat\ndocker run -d -p --name tomcat-net-02 --net mynet tomcat\n\n\n1\n2\n\n\næ¥æµè¯pingå®¹å¨ååipè¯è¯\n\n# é½å¯ä»¥pingé\n[root@vm-0-6-centos ~]# docker exec -it tomcat-net-01 ping 192.168.0.3\nping 192.168.0.3 (192.168.0.3) 56(84) bytes of data.\n64 bytes from 192.168.0.3: icmp_seq=1 ttl=64 time=0.118 ms\n[root@vm-0-6-centos ~]# docker exec -it tomcat-net-01 ping tomcat-net-02\nping tomcat-net-02 (192.168.0.3) 56(84) bytes of data.\n64 bytes from tomcat-net-02.mynet (192.168.0.3): icmp_seq=1 ttl=64 time=0.059 ms\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nåç°ï¼æä»¬èªå®ä¹çç½ç»dockeré½å·²ç»å¸®æä»¬ç»´æ¤å¥½äºå¯¹åºçå³ç³»\n\næä»¥æä»¬å¹³æ¶é½å¯ä»¥è¿æ ·ä½¿ç¨ç½ç»ï¼ä¸ä½¿ç¨ --link ææä¸æ ·ï¼ææä¸è¥¿å®æ¶ç»´æ¤å¥½ï¼ç´æ¥åå ping éã\n\n\n# ç½ç»è¿é\n\ndocker0åèªå®ä¹ç½ç»è¯å®ä¸éï¼æä»¬ä½¿ç¨èªå®ä¹ç½ç»çå¥½å¤å°±æ¯ç½ç»éç¦»ï¼\n\nå¤§å®¶å¬å¸é¡¹ç®é¨ç½²çä¸å¡é½éå¸¸å¤ï¼åè®¾æä»¬æä¸ä¸ªååï¼æä»¬ä¼æè®¢åä¸å¡ï¼æä½ä¸åæ°æ®ï¼ï¼ä¼æ è®¢åä¸å¡è´­ç©è½¦ä¸å¡ï¼æä½ä¸åç¼å­ï¼ãå¦æå¨ä¸ä¸ªç½ç»ä¸ï¼æçç¨åºç¿çæ¶æä»£ç å°±ä¸è½é²æ­¢äºï¼æ ä»¥æä»¬å°±å¨é¨ç½²çæ¶åç½ç»éç¦»ï¼åå»ºä¸¤ä¸ªæ¡¥æ¥ç½å¡ï¼æ¯å¦è®¢åä¸å¡ï¼éé¢çæ°æ®åºï¼redisï¼mqï¼å¨é¨ä¸å¡é½å¨ order-net ç½ç»ä¸ï¼å¶ä»ä¸å¡å¨å¶ä»ç½ç»ã\n\né£å³é®çé®é¢æ¥äºï¼å¦ä½è®© tomcat-net-01 è®¿é® tomcat1ï¼\n\n\n\n# å¯å¨é»è®¤çå®¹å¨ï¼å¨docker0ç½ç»ä¸\ndocker run -d -p --name tomcat01 tomcat\ndocker run -d -p --name tomcat02 tomcat\n\n\n1\n2\n3\n\n\næä¸ªå½ä»¤ connect ç¨æ¥è¿æ¥ç½ç»\n\n# æä»¬æ¥æµè¯ä¸ä¸ï¼æémynet-docker0\n[root@vm-0-6-centos ~]# docker network connect mynet tomcat01\n[root@vm-0-6-centos ~]# docker network inspect mynet\n[\n    {\n        "name": "mynet",\n        "id": "7f9fbfea6931271e917c7a932c47d05f311f2fe6f1e694b95e4ef3fcf060446e",\n        "created": "2021-06-16t15:56:58.841772626+08:00",\n        "scope": "local",\n        "driver": "bridge",\n        "enableipv6": false,\n        "ipam": {\n            "driver": "default",\n            "options": {},\n            "config": [\n                {\n                    "subnet": "192.168.0.0/16",\n                    "gateway": "192.168.0.1"\n                }\n            ]\n        },\n        "internal": false,\n        "attachable": false,\n        "ingress": false,\n        "configfrom": {\n            "network": ""\n        },\n        "configonly": false,\n        "containers": {\n            "52395d45d1fcad0170da201db471ea6ac75c25c9f7d91d10b6260dce2739fd54": {\n                "name": "tomcat-net-01",\n                "endpointid": "3c1aea820c4276b0d0dbe249ebd6f43547baceb7c3e774f8ee4b61b0e4b0b11f",\n                "macaddress": "02:42:c0:a8:00:02",\n                "ipv4address": "192.168.0.2/16",\n                "ipv6address": ""\n            },\n            //åç°æä»¬çtomcat01å°±è¿æ¥è¿éäº\n            "c159a99201d5b3f0f6be065d562c1a0e6439b316084361937f9eda9a22e997ab": {\n                "name": "tomcat01",\n                "endpointid": "e11948dcd704e50b8008ee41546ff7c9f506b636f41fb6e6697081fd9d398dc5",\n                "macaddress": "02:42:c0:a8:00:04",\n                "ipv4address": "192.168.0.4/16",\n                "ipv6address": ""\n            },\n            "f2106d157b5ea6c5bdb87e04b9dc18be2b2e25a41d61e25851ea0afbf1e9ea39": {\n                "name": "tomcat-net-02",\n                "endpointid": "3cb8b199df4fca69e1a6428ae0536ff3291f9215f8b9d9303a2ec3402bdc704f",\n                "macaddress": "02:42:c0:a8:00:03",\n                "ipv4address": "192.168.0.3/16",\n                "ipv6address": ""\n            }\n        },\n        "options": {},\n        "labels": {}\n    }\n]\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n\n\ntomcat01 å¯ä»¥pingéäº\n\n[root@vm-0-6-centos ~]# docker exec -it tomcat01 ping tomcat-net-01\nping tomcat-net-01 (192.168.0.2) 56(84) bytes of data.\n64 bytes from tomcat-net-01.mynet (192.168.0.2): icmp_seq=1 ttl=64 time=0.075 ms\n\n\n1\n2\n3\n\n\ntomcat02 ä¾æ§pingä¸éï¼å¤§å®¶åºè¯¥å°±çè§£äº\n\n[root@vm-0-6-centos ~]#  docker exec -it tomcat02 ping tomcat-net-01\nping: tomcat-net-01: name or service not known\n\n\n1\n2\n\n\nç»è®ºï¼å¦æè¦è·¨ç½ç»æä½å«äººï¼å°±éè¦ä½¿ç¨ docker network connect [options] network container è¿æ¥\n\n\n# é¨ç½² redis éç¾¤\n\nåå»ºç½å¡\n\ndocker network create redis --subnet 172.38.0.0/16\n\n\n1\n\n\néè¿èæ¬åå»ºå­ä¸ªrediséç½®\n\nfor port in $(seq 1 6); \\\ndo \\\nmkdir -p /mydata/redis/node-${port}/conf\ntouch /mydata/redis/node-${port}/conf/redis.conf\ncat << eof >/mydata/redis/node-${port}/conf/redis.conf\nport 6379\nbind 0.0.0.0\ncluster-enabled yes\ncluster-config-file nodes.conf\ncluster-node-timeout 5000\ncluster-announce-ip 172.38.0.1${port}\ncluster-announce-port 6379\ncluster-announce-bus-port 16379\nappendonly yes\neof\ndone\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n\nå¯å¨6ä¸ªå®¹å¨\n\nfor port in $(seq 1 6); \\\ndo \\\n\ndocker run -p 637${port}:6379 -p 1637${port}:16379 --name redis-${port} \\\n-v /mydata/redis/node-${port}/data:/data \\\n-v /mydata/redis/node-${port}/conf/redis.conf:/etc/redis/redis.conf \\\n-d --net redis --ip 172.38.0.1${port} redis:5.0.9-alpine3.11 redis-server /etc/redis/redis.conf; \\\n\ndone\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nè¿å¥ä¸ä¸ªredisï¼æ³¨æè¿éæ¯ shå½ä»¤\n\ndocker exec -it redis-1 /bin/sh\n\n\n1\n\n\nåå»ºéç¾¤\n\nredis-cli --cluster create 172.38.0.11:6379 172.38.0.12:6379 172.38.0.13:6379 172.38.0.14:6379 172.38.0.15:6379 172.38.0.16:6379 --cluster-replicas 1\n\n\n1\n\n\nè¿æ¥éç¾¤\n\nredis-cli -c\n\n\n1\n\n\n# æ¥çéç¾¤ä¿¡æ¯\ncluster info\n# æ¥çèç¹\ncluster nodes\n\n\n1\n2\n3\n4\n\n\næ­¤æ¶ï¼å­ä¸ª redis å·²æ­å»ºå¥½\n\næµè¯éç¾¤\n\nå set ä¸ä¸ªæ°æ®\n\n127.0.0.1:6379> set name zhiyuan\n-> redirected to slot [5798] located at 172.38.0.12:6379\nok\n172.38.0.12:6379> get name\n"zhiyuan"\n\n\n1\n2\n3\n4\n5\n\n\nåæ­¢å°å­å¼çå®¹å¨ redis-1\n\nç¶ååæ¬¡ get nameï¼åç°ä¾æ§å¯ä»¥è·åå¼\n\næ¥çèç¹ï¼åç°é«å¯ç¨å®å¨æ²¡é®é¢',charsets:{cjk:!0},lastUpdated:"2023/06/02, 15:06:00",lastUpdatedTimestamp:16857188e5},{title:"Docker - æ°æ®å·",frontmatter:{title:"Docker - æ°æ®å·",date:"2021-06-05T08:36:05.000Z",permalink:"/pages/d7cc4c/"},regularPath:"/05.%E5%B7%A5%E5%85%B7%E9%83%A8%E7%BD%B2/10.Docker/12.Docker%20-%20%E6%95%B0%E6%8D%AE%E5%8D%B7.html",relativePath:"05.å·¥å·é¨ç½²/10.Docker/12.Docker - æ°æ®å·.md",key:"v-36ee805b",path:"/pages/d7cc4c/",headers:[{level:2,title:"ä»ä¹æ¯æ°æ®å·",slug:"ä»ä¹æ¯æ°æ®å·",normalizedTitle:"ä»ä¹æ¯æ°æ®å·",charIndex:3},{level:2,title:"ä½¿ç¨æ°æ®å·",slug:"ä½¿ç¨æ°æ®å·",normalizedTitle:"ä½¿ç¨æ°æ®å·",charIndex:13},{level:3,title:"æä»¤ v æ¹å¼",slug:"æä»¤-v-æ¹å¼",normalizedTitle:"æä»¤ v æ¹å¼",charIndex:24},{level:3,title:"æä»¶ Docker File æ¹å¼",slug:"æä»¶-docker-file-æ¹å¼",normalizedTitle:"æä»¶ docker file æ¹å¼",charIndex:37},{level:2,title:"å¿ååå·åæè½½",slug:"å¿ååå·åæè½½",normalizedTitle:"å¿ååå·åæè½½",charIndex:58},{level:3,title:"å¿åæè½½",slug:"å¿åæè½½",normalizedTitle:"å¿åæè½½",charIndex:71},{level:3,title:"å·åæè½½",slug:"å·åæè½½",normalizedTitle:"å·åæè½½",charIndex:61},{level:2,title:"æ°æ®å·å®¹å¨",slug:"æ°æ®å·å®¹å¨",normalizedTitle:"æ°æ®å·å®¹å¨",charIndex:89}],headersStr:"ä»ä¹æ¯æ°æ®å· ä½¿ç¨æ°æ®å· æä»¤ v æ¹å¼ æä»¶ Docker File æ¹å¼ å¿ååå·åæè½½ å¿åæè½½ å·åæè½½ æ°æ®å·å®¹å¨",content:' * ä»ä¹æ¯æ°æ®å·\n * ä½¿ç¨æ°æ®å·\n   * æä»¤ v æ¹å¼\n   * æä»¶ Docker File æ¹å¼\n * å¿ååå·åæè½½\n   * å¿åæè½½\n   * å·åæè½½\n * æ°æ®å·å®¹å¨\n\n\n# ä»ä¹æ¯æ°æ®å·\n\næ°æ®å·(Data Volume)\n\ndockerççå¿µåé¡¾ï¼\n\nå°åºç¨åè¿è¡çç¯å¢æåå½¢æå®¹å¨è¿è¡ï¼è¿è¡å¯ä»¥ä¼´éçå®¹å¨ï¼ä½æ¯æä»¬å¯¹äºæ°æ®çè¦æ±ï¼æ¯å¸æè½å¤ æä¹åçï¼\n\nå°±å¥½æ¯ï¼ä½ å®è£ä¸ä¸ªMySQLï¼ç»æä½ æå®¹å¨å äºï¼å°±ç¸å½äºå åºè·è·¯äºï¼è¿TMä¹å¤ªæ¯äºå§ï¼\n\næä»¥æä»¬å¸æå®¹å¨ä¹é´æå¯è½å¯ä»¥å±äº«æ°æ®ï¼Dockerå®¹å¨äº§ççæ°æ®ï¼å¦æä¸éè¿ docker commit çææ°çéåï¼ä½¿å¾æ°æ®ä½ä¸ºéåçä¸é¨åä¿å­ä¸æ¥ï¼é£ä¹å½å®¹å¨å é¤åï¼æ°æ®èªç¶ä¹å°±æ²¡æäºï¼è¿æ ·æ¯è¡ä¸éçï¼\n\nä¸ºäºè½ä¿å­æ°æ®å¨Dockerä¸­æä»¬å°±å¯ä»¥ä½¿ç¨å·ï¼è®©æ°æ®æè½½å°æä»¬æ¬å°ï¼è¿æ ·æ°æ®å°±ä¸ä¼å ä¸ºå®¹å¨å é¤èä¸¢å¤±äºï¼\n\nä½ç¨ï¼\n\nå·å°±æ¯ç®å½æèæä»¶ï¼å­å¨ä¸ä¸ªæèå¤ä¸ªå®¹å¨ä¸­ï¼ç± docker æè½½å°å®¹å¨ï¼ä½ä¸å±äºèåæä»¶ç³»ç»ï¼å æ­¤è½å¤ç»è¿ Union File System ï¼ æä¾ä¸äºç¨äºæç»­å­å¨æå±äº«æ°æ®çç¹æ§ã\n\nå·çè®¾è®¡ç®çå°±æ¯æ°æ®çæä¹åï¼å®å¨ç¬ç«äºå®¹å¨ççå­å¨æï¼å æ­¤ Docker ä¸ä¼å¨å®¹å¨å é¤æ¶å é¤å¶æè½½çæ°æ®å·ã\n\nç¹ç¹ï¼\n\n 1. æ°æ®å·å¯å¨å®¹å¨ä¹é´å±äº«æéç¨æ°æ®\n 2. å·ä¸­çæ´æ¹å¯ä»¥ç´æ¥çæ\n 3. æ°æ®å·ä¸­çæ´æ¹ä¸ä¼åå«å¨éåçæ´æ°ä¸­\n 4. æ°æ®å·ççå½å¨æä¸ç´æç»­å°æ²¡æå®¹å¨ä½¿ç¨å®ä¸ºæ­¢\n\nä¸å¥è¯ï¼ å°±æ¯å®¹å¨çæä¹åï¼ä»¥åå®¹å¨é´çç»§æ¿åæ°æ®å±äº«ï¼\n\n\n# ä½¿ç¨æ°æ®å·\n\n\n# æä»¤ v æ¹å¼\n\næ¹å¼ä¸ï¼å®¹å¨ä¸­ç´æ¥ä½¿ç¨å½ä»¤æ¥æ·»å \n\nå¨ç¨ docker run å½ä»¤çæ¶åï¼ä½¿ç¨ -v æ è®°æ¥åå»ºä¸ä¸ªæ°æ®å·å¹¶æè½½å°å®¹å¨éã\n\ndocker run -it -v å®¿ä¸»æºç»å¯¹è·¯å¾ç®å½:å®¹å¨åç®å½ éåå\n\n\n1\n\n\næµè¯ï¼\n\ndocker run -it -v /home/d-test:/home centos /bin/bash\n\n\n1\n\n\næ¥çæ°æ®å·æ¯å¦æè½½æå docker inspect å®¹å¨id\n\n[root@VM-0-6-centos ~]# docker ps\nCONTAINER ID   IMAGE     COMMAND       CREATED          STATUS          PORTS     NAMES\n05fa819084c9   centos    "/bin/bash"   20 seconds ago   Up 20 seconds             friendly_keller\n[root@VM-0-6-centos ~]#  docker inspect 05fa819084c9\n\n\n1\n2\n3\n4\n\n\n\n\n * æµè¯å®¹å¨åå®¿ä¸»æºä¹é´æ°æ®å±äº«ï¼å¯ä»¥åç°ï¼å¨å®¹å¨ä¸­ï¼åå»ºçä¼å¨å®¿ä¸»æºä¸­çå°ï¼\n\nå®¹å¨ï¼\n\n[root@05fa819084c9 /]# ls\nbin  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  s\n[root@05fa819084c9 /]# cd home\n[root@05fa819084c9 home]# ls\n[root@05fa819084c9 home]# touch test.java\n\n\n1\n2\n3\n4\n5\n\n\nä¸»æºï¼\n\n[root@VM-0-6-centos ~]# cd /home/d-test\n[root@VM-0-6-centos d-test]# ls\ntest.java\n\n\n1\n2\n3\n\n * æµè¯å®¹å¨åæ­¢éåºåï¼ä¸»æºä¿®æ¹æ°æ®æ¯å¦ä¼åæ­¥ï¼\n\n 1. åæ­¢å®¹å¨\n 2. å¨å®¿ä¸»æºä¸ä¿®æ¹æä»¶ï¼å¢å äºåå®¹\n 3. å¯å¨åæåæ­¢çå®¹å¨\n 4. ç¶åæ¥çå¯¹åºçæä»¶ï¼åç°æ°æ®ä¾æ§åæ­¥ï¼\n\nä¸»æºï¼\n\n[root@VM-0-6-centos d-test]# ls\ntest.java\n[root@VM-0-6-centos d-test]# touch new.java\n[root@VM-0-6-centos d-test]# ls\nnew.java  test.java\n\n\n1\n2\n3\n4\n5\n\n\nå®¹å¨ï¼\n\ndocker ps -a æ¥çææå®¹å¨\n\n[root@VM-0-6-centos home]# docker start 05fa819084c9\n05fa819084c9\n[root@VM-0-6-centos home]# docker attach 05fa819084c9\n[root@05fa819084c9 /]# cd /home\n[root@05fa819084c9 home]# ls\nnew.java  test.java\n\n\n1\n2\n3\n4\n5\n6\n\n\nå®è£ mysql æµè¯\n\n1ãå®è£\n\ndocker pull mysql:5.7\n\n\n1\n\n\n2ãå¯å¨å®¹å¨ ï¼-e ä¸ºç¯å¢åé\n\nmysql çæ°æ®ä¸åºè¯¥æ¾å¨å®¹å¨åï¼åºæ¾ä¸»æºåï¼åä½éªä¸ -v æè½½å·ï¼\n\nåèå®æ¹ææ¡£\n\ndocker run -d -p 3310:3306 -v /home/mysql/conf:/etc/mysql/conf.d -v /home/mysql/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 --name mysql01 mysql:5.7\n\n\n1\n\n\nè¿æ¥ mysql å¹¶åå»ºä¸ä¸ªæ°æ®åº\n\n[root@VM-0-6-centos data]# mysql -h 127.0.0.1 -P 3310 -u root -p\nmysql> create database test;\nQuery OK, 1 row affected (0.00 sec)\n\nmysql> show databases;\n+--------------------+\n| Database           |\n+--------------------+\n| information_schema |\n| mysql              |\n| performance_schema |\n| sys                |\n| test               |\n+--------------------+\n5 rows in set (0.00 sec)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n\n\n# æä»¶ Docker File æ¹å¼\n\næ¹å¼äºï¼éè¿Docker File æ¥æ·»å \n\nDockerFile æ¯ç¨æ¥æå»ºDockeréåçæå»ºæä»¶ï¼æ¯ç±ä¸äºåå½ä»¤ååæ°ææçèæ¬ã\n\nè¿éåäºè§£ä½éªä¸ä¸ï¼åé¢æè¯¦ç»ä»ç»\n\n1ãç¼åDockerFileæä»¶\n\næä»¬å¨å®¿ä¸»æº /home ç®å½ä¸æ°å»ºä¸ä¸ª docker-test-volumeæä»¶å¤¹\n\nmkdir docker-test-volume\n\n\n1\n\n\nåºäºå¯ç§»æ¤ååäº«çèèï¼ä¹åä½¿ç¨ç -v ä¸»æºç®å½:å®¹å¨ç®å½ è¿ç§æ¹å¼ä¸è½å¤ç´æ¥å¨ DockerFile ä¸­å®ç°ã\n\n[root@VM-0-6-centos docker-test-volume]# pwd\n/home/docker-test-volume\n[root@VM-0-6-centos docker-test-volume]# vim dockerfile1\n[root@VM-0-6-centos docker-test-volume]# cat dockerfile1\nFROM centos\nVOLUME ["/dataVolumeContainer1","/dataVolumeContainer2"]\nCMD echo "-------end------"\nCMD /bin/bash\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nè¯´æï¼å¨ç¼åDockerFileæä»¶ä¸­ä½¿ç¨ VOLUME æ¥ç»éåæ·»å ä¸ä¸ªæå¤ä¸ªæ°æ®å·\n\n2ãbuildçæéå\n\nbuildçæéåï¼è·å¾ä¸ä¸ªæ°éå test-centosï¼æ³¨ææåé¢æä¸ª .\n\ndocker build -f /home/docker-test-volume/dockerfile1 -t test-centos .\n\n\n1\n\n\nç¶åå¯å¨å®¹å¨ï¼\n\ndocker run -it test-centos /bin/bash\n\n\n1\n\n\n\n\néè¿ä¸è¿°æ­¥éª¤ï¼å®¹å¨åçå·ç®å½å°åå°±å·²ç»ç¥éäºï¼ä½æ¯å¯¹åºçä¸»æºç®å½å°åå¨åªéå¢ï¼\n\n3ãæ¥çæ°æ®ç®å½\n\næä»¬å¨æ°æ®å·ä¸­æ°å»ºä¸ä¸ªæä»¶\n\n[root@93343e21a67b /]# cd dataVolumeContainer1\n[root@93343e21a67b dataVolumeContainer1]# touch container.txt\n\n\n1\n2\n\n\næ¥çä¸è¿ä¸ªå®¹å¨çä¿¡æ¯\n\ndocker inspect 93343e21a67b\n\n\n1\n\n\nå¯ä»¥çå°æè½½çè·¯å¾\n\n\n\nå¨ä¸»æºç®å½éçå°ä¹åå¨å®¹å¨éåå»ºçæä»¶\n\n[root@VM-0-6-centos ~]# cd /var/lib/docker/volumes/7adb0e2e33503b17abfd453fded4b0cd9d9e8b05e064d248dc47de0da6456788/_data\n[root@VM-0-6-centos _data]# ls\ncontainer.txt\n\n\n1\n2\n3\n\n\næ³¨æï¼å¦æè®¿é®åºç°äº cannot open directory: Permission denied\n\nè§£å³åæ³ï¼å¨æè½½ç®å½åå¤å ä¸ä¸ª --privileged=trueåæ°å³å¯\n\n\n# å¿ååå·åæè½½\n\n\n# å¿åæè½½\n\n-v å®¹å¨åè·¯å¾\n\ndocker run -d -P --name nginx01 -v /etc/nginx nginx\n\n\n1\n\n\nå¯éè¿å½ä»¤ docker volume ls æ¥çæè½½çåè¡¨\n\n[root@VM-0-6-centos ~]# docker volume ls\nDRIVER    VOLUME NAME\nlocal     4d0221bc0d8b9e44fb2e878cd3efcacb9b4bd51c8e135d79c549f7a6345f3a24\nlocal     7a1e6924fed1cc5ea6a386d9b2542c0ffc53fada1755bc7d09601274dff6ddd0\nlocal     7adb0e2e33503b17abfd453fded4b0cd9d9e8b05e064d248dc47de0da6456788\nlocal     adaa3053cb2ff95afc7bab51451f4b1167aa1b9056398ed44b0d4cae9580db52\n\n\n1\n2\n3\n4\n5\n6\n\n\nè¿äºæ²¡æå®åå­çé½æ¯å¿åæè½½ï¼æä»¬ -v åªåäºå®¹å¨åè·¯å¾ï¼å¹¶æ²¡åå®¹å¨å¤è·¯å¾\n\næè½½ç®å½æ¯ï¼ /var/lib/docker/volumes/VOLUME-NAME/_data\n\nå¿åæè½½çç¼ºç¹ï¼å°±æ¯ä¸å¥½ç»´æ¤ï¼ä¸æ¸æ¥ç®å½æè½½çæ¯åªä¸ªå®¹å¨\n\n\n# å·åæè½½\n\n-v å·å:/å®¹å¨åè·¯å¾\n\nä¾å¦ååä¸º juming æ¥æè½½\n\n[root@VM-0-6-centos ~]# docker run -d -P --name nginx02 -v juming:/etc/nginx nginx\n112f36599f077eada56197c22dd3b3a3eaba2e5bb38bf2cb19adc783163991e7\n[root@VM-0-6-centos ~]# docker volume ls\nDRIVER    VOLUME NAME\nlocal     4d0221bc0d8b9e44fb2e878cd3efcacb9b4bd51c8e135d79c549f7a6345f3a24\nlocal     7a1e6924fed1cc5ea6a386d9b2542c0ffc53fada1755bc7d09601274dff6ddd0\nlocal     7adb0e2e33503b17abfd453fded4b0cd9d9e8b05e064d248dc47de0da6456788\nlocal     adaa3053cb2ff95afc7bab51451f4b1167aa1b9056398ed44b0d4cae9580db52\nlocal     juming\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\næ¥çæè½½çç®å½ï¼docker volume VOLUME-NAME\n\n[root@VM-0-6-centos ~]# docker volume inspect juming\n[\n    {\n        "CreatedAt": "2021-06-05T16:32:10+08:00",\n        "Driver": "local",\n        "Labels": null,\n        "Mountpoint": "/var/lib/docker/volumes/juming/_data",\n        "Name": "juming",\n        "Options": null,\n        "Scope": "local"\n    }\n]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\næè½½æä½ä¸­ï¼æ²¡æå®ç®å½åæåµä¸ï¼é»è®¤å¨ /var/lib/docker/volumes/ ç®å½ä¸\n\n * æ¹åæä»¶çè¯»åæé\n\næå®å®¹å¨å¯¹æä»¬æè½½åºæ¥çåå®¹çè¯»åæé\n\ndocker run -d -P --name nginx02 -v nginxconfig:/etc/nginx:ro nginx\ndocker run -d -P --name nginx02 -v nginxconfig:/etc/nginx:rw nginx\n\n\n1\n2\n\n\nro: readonly åªè¯»\n\nrw: readwrite å¯è¯»å¯å\n\n\n# æ°æ®å·å®¹å¨\n\nä¹åçæ¯ä¸»æºåå®¹å¨ä¹é´å±äº«æ°æ®ï¼é£ä¹å¦ä½å®ç°å®¹å¨åå®¹å¨ä¹é´çå±äº«æ°æ®å¢ï¼\n\nå½åçå®¹å¨æè½½æ°æ®å·ï¼å¶ä»å®¹å¨éè¿æè½½è¿ä¸ªï¼ç¶å®¹å¨ï¼å®ç°æ°æ®å±äº«ï¼æè½½æ°æ®å·çå®¹å¨ï¼ç§°ä¹ä¸ºæ°æ®å·å®¹å¨(Data Volume Container)\n\næµè¯å®¹å¨é´ä¼ éå±äº«\n\nä½¿ç¨ä¹åçéåï¼test-centos ä¸ºæ¨¡æ¿ï¼è¿è¡å®¹å¨ docker01ï¼ç¶å®¹å¨ï¼ï¼docker02ï¼docker03\n\nä»ä»¬é½ä¼å·æå®¹å¨å· /dataVolumeContainer1 å /dataVolumeContainer2\n\n1ãåå¯å¨ä¸ä¸ªç¶å®¹å¨docker01ï¼ç¶åå¨ dataVolumeContainer2 æ°å¢æä»¶\n\n[root@VM-0-6-centos _data]# docker run -it --name docker01 test-centos\n[root@cd87cb3eb33b /]# ls -l\ntotal 56\nlrwxrwxrwx   1 root root    7 Nov  3  2020 bin -> usr/bin\ndrwxr-xr-x   2 root root 4096 Jun  5 08:56 dataVolumeContainer1\ndrwxr-xr-x   2 root root 4096 Jun  5 08:56 dataVolumeContainer2\n............\n[root@cd87cb3eb33b /]# cd dataVolumeContainer2\n[root@cd87cb3eb33b dataVolumeContainer2]# touch docker01.txt\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\néåºä¸ä¸åæ­¢å®¹å¨è¿è¡ï¼ctrl+P+Q\n\n2ãåå»ºdocker02ï¼docker03 è®©ä»ä»¬ç»§æ¿docker01\n\nå¯ä»¥çå° docker01 åå»ºçæä»¶å­å¨\n\n[root@VM-0-6-centos _data]# docker run -it --name docker02 --volumes-from docker01 test-centos\n[root@f81238516f65 /]#  cd dataVolumeContainer2\n[root@f81238516f65 dataVolumeContainer2]# ls\ndocker01.txt\n[root@f81238516f65 dataVolumeContainer2]# touch docker02.txt\n\n[root@VM-0-6-centos _data]# docker run -it --name docker03 --volumes-from docker01 test-centos\n[root@c8c41a2a0831 /]# ls\nbin  dataVolumeContainer1  dataVolumeContainer2  dev  etc  home  lib  lib64  lost+found  media\tmnt  opt  proc\troot  run  sbin  srv  sys  tmp\tusr  var\n[root@c8c41a2a0831 /]# cd dataVolumeContainer2\n[root@c8c41a2a0831 dataVolumeContainer2]# ls\ndocker01.txt  docker02.txt\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n3ãåå°docker01åç°å¯ä»¥çå° 02 å 03 æ·»å çå±äº«æä»¶\n\n[root@VM-0-6-centos ~]#  docker attach docker01\n[root@cd87cb3eb33b dataVolumeContainer2]# ls -l\ntotal 0\n-rw-r--r-- 1 root root 0 Jun  5 08:56 docker01.txt\n-rw-r--r-- 1 root root 0 Jun  5 08:58 docker02.txt\n-rw-r--r-- 1 root root 0 Jun  5 09:00 docker03.txt\n\n\n1\n2\n3\n4\n5\n6\n\n\nå é¤ docker01 å ï¼docker02 ä¿®æ¹æä»¶åï¼ docker03 è¿å¯ä»¥æ­£å¸¸å±äº«æ°æ®\n\nå®¹å¨ä¹é´éç½®ä¿¡æ¯çä¼ éï¼æ°æ®å·ççå½å¨æä¸ç´æç»­å°æ²¡æå®¹å¨ä½¿ç¨å®ä¸ºæ­¢ã å­å¨å¨æ¬æºçæä»¶åä¼ä¸ç´ä¿çï¼',normalizedContent:' * ä»ä¹æ¯æ°æ®å·\n * ä½¿ç¨æ°æ®å·\n   * æä»¤ v æ¹å¼\n   * æä»¶ docker file æ¹å¼\n * å¿ååå·åæè½½\n   * å¿åæè½½\n   * å·åæè½½\n * æ°æ®å·å®¹å¨\n\n\n# ä»ä¹æ¯æ°æ®å·\n\næ°æ®å·(data volume)\n\ndockerççå¿µåé¡¾ï¼\n\nå°åºç¨åè¿è¡çç¯å¢æåå½¢æå®¹å¨è¿è¡ï¼è¿è¡å¯ä»¥ä¼´éçå®¹å¨ï¼ä½æ¯æä»¬å¯¹äºæ°æ®çè¦æ±ï¼æ¯å¸æè½å¤ æä¹åçï¼\n\nå°±å¥½æ¯ï¼ä½ å®è£ä¸ä¸ªmysqlï¼ç»æä½ æå®¹å¨å äºï¼å°±ç¸å½äºå åºè·è·¯äºï¼è¿tmä¹å¤ªæ¯äºå§ï¼\n\næä»¥æä»¬å¸æå®¹å¨ä¹é´æå¯è½å¯ä»¥å±äº«æ°æ®ï¼dockerå®¹å¨äº§ççæ°æ®ï¼å¦æä¸éè¿ docker commit çææ°çéåï¼ä½¿å¾æ°æ®ä½ä¸ºéåçä¸é¨åä¿å­ä¸æ¥ï¼é£ä¹å½å®¹å¨å é¤åï¼æ°æ®èªç¶ä¹å°±æ²¡æäºï¼è¿æ ·æ¯è¡ä¸éçï¼\n\nä¸ºäºè½ä¿å­æ°æ®å¨dockerä¸­æä»¬å°±å¯ä»¥ä½¿ç¨å·ï¼è®©æ°æ®æè½½å°æä»¬æ¬å°ï¼è¿æ ·æ°æ®å°±ä¸ä¼å ä¸ºå®¹å¨å é¤èä¸¢å¤±äºï¼\n\nä½ç¨ï¼\n\nå·å°±æ¯ç®å½æèæä»¶ï¼å­å¨ä¸ä¸ªæèå¤ä¸ªå®¹å¨ä¸­ï¼ç± docker æè½½å°å®¹å¨ï¼ä½ä¸å±äºèåæä»¶ç³»ç»ï¼å æ­¤è½å¤ç»è¿ union file system ï¼ æä¾ä¸äºç¨äºæç»­å­å¨æå±äº«æ°æ®çç¹æ§ã\n\nå·çè®¾è®¡ç®çå°±æ¯æ°æ®çæä¹åï¼å®å¨ç¬ç«äºå®¹å¨ççå­å¨æï¼å æ­¤ docker ä¸ä¼å¨å®¹å¨å é¤æ¶å é¤å¶æè½½çæ°æ®å·ã\n\nç¹ç¹ï¼\n\n 1. æ°æ®å·å¯å¨å®¹å¨ä¹é´å±äº«æéç¨æ°æ®\n 2. å·ä¸­çæ´æ¹å¯ä»¥ç´æ¥çæ\n 3. æ°æ®å·ä¸­çæ´æ¹ä¸ä¼åå«å¨éåçæ´æ°ä¸­\n 4. æ°æ®å·ççå½å¨æä¸ç´æç»­å°æ²¡æå®¹å¨ä½¿ç¨å®ä¸ºæ­¢\n\nä¸å¥è¯ï¼ å°±æ¯å®¹å¨çæä¹åï¼ä»¥åå®¹å¨é´çç»§æ¿åæ°æ®å±äº«ï¼\n\n\n# ä½¿ç¨æ°æ®å·\n\n\n# æä»¤ v æ¹å¼\n\næ¹å¼ä¸ï¼å®¹å¨ä¸­ç´æ¥ä½¿ç¨å½ä»¤æ¥æ·»å \n\nå¨ç¨ docker run å½ä»¤çæ¶åï¼ä½¿ç¨ -v æ è®°æ¥åå»ºä¸ä¸ªæ°æ®å·å¹¶æè½½å°å®¹å¨éã\n\ndocker run -it -v å®¿ä¸»æºç»å¯¹è·¯å¾ç®å½:å®¹å¨åç®å½ éåå\n\n\n1\n\n\næµè¯ï¼\n\ndocker run -it -v /home/d-test:/home centos /bin/bash\n\n\n1\n\n\næ¥çæ°æ®å·æ¯å¦æè½½æå docker inspect å®¹å¨id\n\n[root@vm-0-6-centos ~]# docker ps\ncontainer id   image     command       created          status          ports     names\n05fa819084c9   centos    "/bin/bash"   20 seconds ago   up 20 seconds             friendly_keller\n[root@vm-0-6-centos ~]#  docker inspect 05fa819084c9\n\n\n1\n2\n3\n4\n\n\n\n\n * æµè¯å®¹å¨åå®¿ä¸»æºä¹é´æ°æ®å±äº«ï¼å¯ä»¥åç°ï¼å¨å®¹å¨ä¸­ï¼åå»ºçä¼å¨å®¿ä¸»æºä¸­çå°ï¼\n\nå®¹å¨ï¼\n\n[root@05fa819084c9 /]# ls\nbin  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  s\n[root@05fa819084c9 /]# cd home\n[root@05fa819084c9 home]# ls\n[root@05fa819084c9 home]# touch test.java\n\n\n1\n2\n3\n4\n5\n\n\nä¸»æºï¼\n\n[root@vm-0-6-centos ~]# cd /home/d-test\n[root@vm-0-6-centos d-test]# ls\ntest.java\n\n\n1\n2\n3\n\n * æµè¯å®¹å¨åæ­¢éåºåï¼ä¸»æºä¿®æ¹æ°æ®æ¯å¦ä¼åæ­¥ï¼\n\n 1. åæ­¢å®¹å¨\n 2. å¨å®¿ä¸»æºä¸ä¿®æ¹æä»¶ï¼å¢å äºåå®¹\n 3. å¯å¨åæåæ­¢çå®¹å¨\n 4. ç¶åæ¥çå¯¹åºçæä»¶ï¼åç°æ°æ®ä¾æ§åæ­¥ï¼\n\nä¸»æºï¼\n\n[root@vm-0-6-centos d-test]# ls\ntest.java\n[root@vm-0-6-centos d-test]# touch new.java\n[root@vm-0-6-centos d-test]# ls\nnew.java  test.java\n\n\n1\n2\n3\n4\n5\n\n\nå®¹å¨ï¼\n\ndocker ps -a æ¥çææå®¹å¨\n\n[root@vm-0-6-centos home]# docker start 05fa819084c9\n05fa819084c9\n[root@vm-0-6-centos home]# docker attach 05fa819084c9\n[root@05fa819084c9 /]# cd /home\n[root@05fa819084c9 home]# ls\nnew.java  test.java\n\n\n1\n2\n3\n4\n5\n6\n\n\nå®è£ mysql æµè¯\n\n1ãå®è£\n\ndocker pull mysql:5.7\n\n\n1\n\n\n2ãå¯å¨å®¹å¨ ï¼-e ä¸ºç¯å¢åé\n\nmysql çæ°æ®ä¸åºè¯¥æ¾å¨å®¹å¨åï¼åºæ¾ä¸»æºåï¼åä½éªä¸ -v æè½½å·ï¼\n\nåèå®æ¹ææ¡£\n\ndocker run -d -p 3310:3306 -v /home/mysql/conf:/etc/mysql/conf.d -v /home/mysql/data:/var/lib/mysql -e mysql_root_password=123456 --name mysql01 mysql:5.7\n\n\n1\n\n\nè¿æ¥ mysql å¹¶åå»ºä¸ä¸ªæ°æ®åº\n\n[root@vm-0-6-centos data]# mysql -h 127.0.0.1 -p 3310 -u root -p\nmysql> create database test;\nquery ok, 1 row affected (0.00 sec)\n\nmysql> show databases;\n+--------------------+\n| database           |\n+--------------------+\n| information_schema |\n| mysql              |\n| performance_schema |\n| sys                |\n| test               |\n+--------------------+\n5 rows in set (0.00 sec)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n\n\n# æä»¶ docker file æ¹å¼\n\næ¹å¼äºï¼éè¿docker file æ¥æ·»å \n\ndockerfile æ¯ç¨æ¥æå»ºdockeréåçæå»ºæä»¶ï¼æ¯ç±ä¸äºåå½ä»¤ååæ°ææçèæ¬ã\n\nè¿éåäºè§£ä½éªä¸ä¸ï¼åé¢æè¯¦ç»ä»ç»\n\n1ãç¼ådockerfileæä»¶\n\næä»¬å¨å®¿ä¸»æº /home ç®å½ä¸æ°å»ºä¸ä¸ª docker-test-volumeæä»¶å¤¹\n\nmkdir docker-test-volume\n\n\n1\n\n\nåºäºå¯ç§»æ¤ååäº«çèèï¼ä¹åä½¿ç¨ç -v ä¸»æºç®å½:å®¹å¨ç®å½ è¿ç§æ¹å¼ä¸è½å¤ç´æ¥å¨ dockerfile ä¸­å®ç°ã\n\n[root@vm-0-6-centos docker-test-volume]# pwd\n/home/docker-test-volume\n[root@vm-0-6-centos docker-test-volume]# vim dockerfile1\n[root@vm-0-6-centos docker-test-volume]# cat dockerfile1\nfrom centos\nvolume ["/datavolumecontainer1","/datavolumecontainer2"]\ncmd echo "-------end------"\ncmd /bin/bash\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nè¯´æï¼å¨ç¼ådockerfileæä»¶ä¸­ä½¿ç¨ volume æ¥ç»éåæ·»å ä¸ä¸ªæå¤ä¸ªæ°æ®å·\n\n2ãbuildçæéå\n\nbuildçæéåï¼è·å¾ä¸ä¸ªæ°éå test-centosï¼æ³¨ææåé¢æä¸ª .\n\ndocker build -f /home/docker-test-volume/dockerfile1 -t test-centos .\n\n\n1\n\n\nç¶åå¯å¨å®¹å¨ï¼\n\ndocker run -it test-centos /bin/bash\n\n\n1\n\n\n\n\néè¿ä¸è¿°æ­¥éª¤ï¼å®¹å¨åçå·ç®å½å°åå°±å·²ç»ç¥éäºï¼ä½æ¯å¯¹åºçä¸»æºç®å½å°åå¨åªéå¢ï¼\n\n3ãæ¥çæ°æ®ç®å½\n\næä»¬å¨æ°æ®å·ä¸­æ°å»ºä¸ä¸ªæä»¶\n\n[root@93343e21a67b /]# cd datavolumecontainer1\n[root@93343e21a67b datavolumecontainer1]# touch container.txt\n\n\n1\n2\n\n\næ¥çä¸è¿ä¸ªå®¹å¨çä¿¡æ¯\n\ndocker inspect 93343e21a67b\n\n\n1\n\n\nå¯ä»¥çå°æè½½çè·¯å¾\n\n\n\nå¨ä¸»æºç®å½éçå°ä¹åå¨å®¹å¨éåå»ºçæä»¶\n\n[root@vm-0-6-centos ~]# cd /var/lib/docker/volumes/7adb0e2e33503b17abfd453fded4b0cd9d9e8b05e064d248dc47de0da6456788/_data\n[root@vm-0-6-centos _data]# ls\ncontainer.txt\n\n\n1\n2\n3\n\n\næ³¨æï¼å¦æè®¿é®åºç°äº cannot open directory: permission denied\n\nè§£å³åæ³ï¼å¨æè½½ç®å½åå¤å ä¸ä¸ª --privileged=trueåæ°å³å¯\n\n\n# å¿ååå·åæè½½\n\n\n# å¿åæè½½\n\n-v å®¹å¨åè·¯å¾\n\ndocker run -d -p --name nginx01 -v /etc/nginx nginx\n\n\n1\n\n\nå¯éè¿å½ä»¤ docker volume ls æ¥çæè½½çåè¡¨\n\n[root@vm-0-6-centos ~]# docker volume ls\ndriver    volume name\nlocal     4d0221bc0d8b9e44fb2e878cd3efcacb9b4bd51c8e135d79c549f7a6345f3a24\nlocal     7a1e6924fed1cc5ea6a386d9b2542c0ffc53fada1755bc7d09601274dff6ddd0\nlocal     7adb0e2e33503b17abfd453fded4b0cd9d9e8b05e064d248dc47de0da6456788\nlocal     adaa3053cb2ff95afc7bab51451f4b1167aa1b9056398ed44b0d4cae9580db52\n\n\n1\n2\n3\n4\n5\n6\n\n\nè¿äºæ²¡æå®åå­çé½æ¯å¿åæè½½ï¼æä»¬ -v åªåäºå®¹å¨åè·¯å¾ï¼å¹¶æ²¡åå®¹å¨å¤è·¯å¾\n\næè½½ç®å½æ¯ï¼ /var/lib/docker/volumes/volume-name/_data\n\nå¿åæè½½çç¼ºç¹ï¼å°±æ¯ä¸å¥½ç»´æ¤ï¼ä¸æ¸æ¥ç®å½æè½½çæ¯åªä¸ªå®¹å¨\n\n\n# å·åæè½½\n\n-v å·å:/å®¹å¨åè·¯å¾\n\nä¾å¦ååä¸º juming æ¥æè½½\n\n[root@vm-0-6-centos ~]# docker run -d -p --name nginx02 -v juming:/etc/nginx nginx\n112f36599f077eada56197c22dd3b3a3eaba2e5bb38bf2cb19adc783163991e7\n[root@vm-0-6-centos ~]# docker volume ls\ndriver    volume name\nlocal     4d0221bc0d8b9e44fb2e878cd3efcacb9b4bd51c8e135d79c549f7a6345f3a24\nlocal     7a1e6924fed1cc5ea6a386d9b2542c0ffc53fada1755bc7d09601274dff6ddd0\nlocal     7adb0e2e33503b17abfd453fded4b0cd9d9e8b05e064d248dc47de0da6456788\nlocal     adaa3053cb2ff95afc7bab51451f4b1167aa1b9056398ed44b0d4cae9580db52\nlocal     juming\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\næ¥çæè½½çç®å½ï¼docker volume volume-name\n\n[root@vm-0-6-centos ~]# docker volume inspect juming\n[\n    {\n        "createdat": "2021-06-05t16:32:10+08:00",\n        "driver": "local",\n        "labels": null,\n        "mountpoint": "/var/lib/docker/volumes/juming/_data",\n        "name": "juming",\n        "options": null,\n        "scope": "local"\n    }\n]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\næè½½æä½ä¸­ï¼æ²¡æå®ç®å½åæåµä¸ï¼é»è®¤å¨ /var/lib/docker/volumes/ ç®å½ä¸\n\n * æ¹åæä»¶çè¯»åæé\n\næå®å®¹å¨å¯¹æä»¬æè½½åºæ¥çåå®¹çè¯»åæé\n\ndocker run -d -p --name nginx02 -v nginxconfig:/etc/nginx:ro nginx\ndocker run -d -p --name nginx02 -v nginxconfig:/etc/nginx:rw nginx\n\n\n1\n2\n\n\nro: readonly åªè¯»\n\nrw: readwrite å¯è¯»å¯å\n\n\n# æ°æ®å·å®¹å¨\n\nä¹åçæ¯ä¸»æºåå®¹å¨ä¹é´å±äº«æ°æ®ï¼é£ä¹å¦ä½å®ç°å®¹å¨åå®¹å¨ä¹é´çå±äº«æ°æ®å¢ï¼\n\nå½åçå®¹å¨æè½½æ°æ®å·ï¼å¶ä»å®¹å¨éè¿æè½½è¿ä¸ªï¼ç¶å®¹å¨ï¼å®ç°æ°æ®å±äº«ï¼æè½½æ°æ®å·çå®¹å¨ï¼ç§°ä¹ä¸ºæ°æ®å·å®¹å¨(data volume container)\n\næµè¯å®¹å¨é´ä¼ éå±äº«\n\nä½¿ç¨ä¹åçéåï¼test-centos ä¸ºæ¨¡æ¿ï¼è¿è¡å®¹å¨ docker01ï¼ç¶å®¹å¨ï¼ï¼docker02ï¼docker03\n\nä»ä»¬é½ä¼å·æå®¹å¨å· /datavolumecontainer1 å /datavolumecontainer2\n\n1ãåå¯å¨ä¸ä¸ªç¶å®¹å¨docker01ï¼ç¶åå¨ datavolumecontainer2 æ°å¢æä»¶\n\n[root@vm-0-6-centos _data]# docker run -it --name docker01 test-centos\n[root@cd87cb3eb33b /]# ls -l\ntotal 56\nlrwxrwxrwx   1 root root    7 nov  3  2020 bin -> usr/bin\ndrwxr-xr-x   2 root root 4096 jun  5 08:56 datavolumecontainer1\ndrwxr-xr-x   2 root root 4096 jun  5 08:56 datavolumecontainer2\n............\n[root@cd87cb3eb33b /]# cd datavolumecontainer2\n[root@cd87cb3eb33b datavolumecontainer2]# touch docker01.txt\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\néåºä¸ä¸åæ­¢å®¹å¨è¿è¡ï¼ctrl+p+q\n\n2ãåå»ºdocker02ï¼docker03 è®©ä»ä»¬ç»§æ¿docker01\n\nå¯ä»¥çå° docker01 åå»ºçæä»¶å­å¨\n\n[root@vm-0-6-centos _data]# docker run -it --name docker02 --volumes-from docker01 test-centos\n[root@f81238516f65 /]#  cd datavolumecontainer2\n[root@f81238516f65 datavolumecontainer2]# ls\ndocker01.txt\n[root@f81238516f65 datavolumecontainer2]# touch docker02.txt\n\n[root@vm-0-6-centos _data]# docker run -it --name docker03 --volumes-from docker01 test-centos\n[root@c8c41a2a0831 /]# ls\nbin  datavolumecontainer1  datavolumecontainer2  dev  etc  home  lib  lib64  lost+found  media\tmnt  opt  proc\troot  run  sbin  srv  sys  tmp\tusr  var\n[root@c8c41a2a0831 /]# cd datavolumecontainer2\n[root@c8c41a2a0831 datavolumecontainer2]# ls\ndocker01.txt  docker02.txt\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n3ãåå°docker01åç°å¯ä»¥çå° 02 å 03 æ·»å çå±äº«æä»¶\n\n[root@vm-0-6-centos ~]#  docker attach docker01\n[root@cd87cb3eb33b datavolumecontainer2]# ls -l\ntotal 0\n-rw-r--r-- 1 root root 0 jun  5 08:56 docker01.txt\n-rw-r--r-- 1 root root 0 jun  5 08:58 docker02.txt\n-rw-r--r-- 1 root root 0 jun  5 09:00 docker03.txt\n\n\n1\n2\n3\n4\n5\n6\n\n\nå é¤ docker01 å ï¼docker02 ä¿®æ¹æä»¶åï¼ docker03 è¿å¯ä»¥æ­£å¸¸å±äº«æ°æ®\n\nå®¹å¨ä¹é´éç½®ä¿¡æ¯çä¼ éï¼æ°æ®å·ççå½å¨æä¸ç´æç»­å°æ²¡æå®¹å¨ä½¿ç¨å®ä¸ºæ­¢ã å­å¨å¨æ¬æºçæä»¶åä¼ä¸ç´ä¿çï¼',charsets:{cjk:!0},lastUpdated:"2023/06/02, 15:06:00",lastUpdatedTimestamp:16857188e5},{title:"Docker - DockerFile",frontmatter:{title:"Docker - DockerFile",date:"2021-06-05T17:05:29.000Z",permalink:"/pages/786a41/"},regularPath:"/05.%E5%B7%A5%E5%85%B7%E9%83%A8%E7%BD%B2/10.Docker/14.Docker%20-%20DockerFile.html",relativePath:"05.å·¥å·é¨ç½²/10.Docker/14.Docker - DockerFile.md",key:"v-2967a998",path:"/pages/786a41/",headers:[{level:2,title:"ä»ä¹æ¯ DockerFile",slug:"ä»ä¹æ¯-dockerfile",normalizedTitle:"ä»ä¹æ¯ dockerfile",charIndex:3},{level:2,title:"DockerFile æå»ºè¿ç¨",slug:"dockerfile-æå»ºè¿ç¨",normalizedTitle:"dockerfile æå»ºè¿ç¨",charIndex:21},{level:2,title:"DockerFile æä»¤",slug:"dockerfile-æä»¤",normalizedTitle:"dockerfile æä»¤",charIndex:40},{level:2,title:"CMD å ENTRYPOINT çåºå«",slug:"cmd-å-entrypoint-çåºå«",normalizedTitle:"cmd å entrypoint çåºå«",charIndex:57},{level:2,title:"å®ææµè¯",slug:"å®ææµè¯",normalizedTitle:"å®ææµè¯",charIndex:81},{level:3,title:"CentOS",slug:"centos",normalizedTitle:"centos",charIndex:91},{level:3,title:"Tomcat",slug:"tomcat",normalizedTitle:"tomcat",charIndex:103},{level:3,title:"SpingBoot",slug:"spingboot",normalizedTitle:"spingboot",charIndex:115}],headersStr:"ä»ä¹æ¯ DockerFile DockerFile æå»ºè¿ç¨ DockerFile æä»¤ CMD å ENTRYPOINT çåºå« å®ææµè¯ CentOS Tomcat SpingBoot",content:' * ä»ä¹æ¯ DockerFile\n * DockerFile æå»ºè¿ç¨\n * DockerFile æä»¤\n * CMD å ENTRYPOINT çåºå«\n * å®ææµè¯\n   * CentOS\n   * Tomcat\n   * SpingBoot\n\nå¤§å®¶æ³æ³ï¼Nginxï¼tomcatï¼mysql è¿äºéåé½æ¯åªéæ¥çï¼å®æ¹è½åï¼æä»¬ä¸è½ååï¼\n\næä»¬è¦ç ç©¶èªå·±å¦ä½åä¸ä¸ªéåï¼èä¸æä»¬åçå¾®æå¡é¡¹ç®ä»¥å springboot æåä¸äºé¨ç½²ï¼Dockerå°±æ¯ææ¹ä¾¿çã\n\nå¾®æå¡æåæéåï¼ä»»ä½è£äºDockerçå°æ¹ï¼é½å¯ä»¥ä¸è½½ä½¿ç¨ï¼æå¶çæ¹ä¾¿ã\n\næµç¨ï¼å¼ååºç¨=>DockerFile=>æåä¸ºéå=>ä¸ä¼ å°ä»åºï¼ç§æä»åºï¼å¬æä»åºï¼=> ä¸è½½éå => å¯å¨ è¿è¡ã\n\nè¿å¯ä»¥æ¹ä¾¿ç§»æ¤ï¼\n\n\n# ä»ä¹æ¯ DockerFile\n\ndockerfileæ¯ç¨æ¥æå»ºDockeréåçæå»ºæä»¶ï¼æ¯ç±ä¸ç³»åå½ä»¤ååæ°ææçèæ¬\n\næå»ºæ­¥éª¤ï¼\n\n1ãç¼åDockerFileæä»¶\n\n2ãdocker build æå»ºéå\n\n3ãdocker run\n\næ¥çä¹åæåç centos ï¼https://hub.docker.com/_/centos\n\n\n\næ¥çDockerfile æä»¶\n\n\n\n\n# DockerFile æå»ºè¿ç¨\n\nåºç¡ç¥è¯ï¼\n\n1ãæ¯æ¡ä¿çå­æä»¤é½å¿é¡»ä¸ºå¤§åå­æ¯ä¸åé¢è¦è·éè³å°ä¸ä¸ªåæ°\n\n2ãæä»¤æç§ä»ä¸å°ä¸ï¼é¡ºåºæ§è¡\n\n3ã# è¡¨ç¤ºæ³¨é\n\n4ãæ¯æ¡æä»¤é½ä¼åå»ºä¸ä¸ªæ°çéåå±ï¼å¹¶å¯¹éåè¿è¡æäº¤\n\næµç¨ï¼\n\n1ãdockerä»åºç¡éåè¿è¡ä¸ä¸ªå®¹å¨\n\n2ãæ§è¡ä¸æ¡æä»¤å¹¶å¯¹å®¹å¨ååºä¿®æ¹\n\n3ãæ§è¡ç±»ä¼¼ docker commit çæä½æäº¤ä¸ä¸ªæ°çéåå±\n\n4ãDockerååºäºåæäº¤çéåè¿è¡ä¸ä¸ªæ°å®¹å¨\n\n5ãæ§è¡dockerfileä¸­çä¸ä¸æ¡æä»¤ç´å°æææä»¤é½æ§è¡å®æï¼\n\nè¯´æï¼\n\nä»åºç¨è½¯ä»¶çè§åº¦æ¥çï¼DockerFileï¼dockeréå ä¸ dockerå®¹å¨ åå«ä»£è¡¨è½¯ä»¶çä¸ä¸ªä¸åé¶æ®µã\n\n * DockerFile æ¯è½¯ä»¶çåææ ï¼ä»£ç ï¼\n * Docker éååæ¯è½¯ä»¶çäº¤ä»å ï¼.apkï¼\n * Docker å®¹å¨åæ¯è½¯ä»¶çè¿è¡ç¶æ ï¼å®¢æ·ä¸è½½å®è£æ§è¡ï¼\n\nDockerFile é¢åå¼åï¼Dockeréåæä¸ºäº¤ä»æ åï¼Dockerå®¹å¨åæ¶åé¨ç½²ä¸è¿ç»´ï¼ä¸èç¼ºä¸ä¸å¯ï¼\n\n\n\nDockerFileï¼éè¦å®ä¹ä¸ä¸ªDockerFileï¼DockerFileå®ä¹äºè¿ç¨éè¦çä¸åä¸è¥¿ãDockerFileæ¶åçåå®¹ åæ¬æ§è¡ä»£ç æèæ¯æä»¶ãç¯å¢åéãä¾èµåãè¿è¡æ¶ç¯å¢ãå¨æé¾æ¥åºãæä½ç³»ç»çåè¡çãæå¡è¿ ç¨ååæ ¸è¿ç¨ï¼å½å¼ç¨è¿è¡éè¦åç³»ç»æå¡ååæ ¸è¿ç¨æäº¤éï¼è¿æ¶éè¦èèå¦ä½è®¾è®¡ namespaceçæ éæ§å¶ï¼ç­ç­ã\n\nDockeréåï¼å¨DockerFile å®ä¹äºä¸ä¸ªæä»¶ä¹åï¼Docker build æ¶ä¼äº§çä¸ä¸ªDockeréåï¼å½è¿è¡ Docker éåæ¶ï¼ä¼çæ­£å¼å§æä¾æå¡ï¼\n\nDockerå®¹å¨ï¼å®¹å¨æ¯ç´æ¥æä¾æå¡çã\n\n\n# DockerFile æä»¤\n\nå³é®å­          è¯´æ\nFROM         åºç¡éåï¼å½åæ°éåæ¯åºäºåªä¸ªéåç\nMAINTAINER   éåç»´æ¤èçå§åæ··åé®ç®±å°å\nRUN          å®¹å¨æå»ºæ¶éè¦è¿è¡çå½ä»¤\nEXPOSE       å½åå®¹å¨å¯¹å¤ä¿çåºçç«¯å£\nWORKDIR      æå®å¨åå»ºå®¹å¨åï¼ç»ç«¯é»è®¤ç»å½çè¿æ¥å·¥ä½ç®å½ï¼ä¸ä¸ªè½èç¹\nENV          ç¨æ¥å¨æå»ºéåè¿ç¨ä¸­è®¾ç½®ç¯å¢åé\nADD          å°å®¿ä¸»æºç®å½ä¸çæä»¶æ·è´è¿éåä¸ADDå½ä»¤ä¼èªå¨å¤çURLåè§£åtaråç¼©å\nCOPY         ç±»ä¼¼ADDï¼æ·è´æä»¶åç®å½å°éåä¸­ï¼\nVOLUME       å®¹å¨æ°æ®å·ï¼ç¨äºæ°æ®ä¿å­åæä¹åå·¥ä½\nCMD          æå®ä¸ä¸ªå®¹å¨å¯å¨æ¶è¦è¿è¡çå½ä»¤ï¼dockerFileä¸­å¯ä»¥æå¤ä¸ªCMDæä»¤ï¼ä½åªææåä¸ä¸ªçæï¼\nENTRYPOINT   æå®ä¸ä¸ªå®¹å¨å¯å¨æ¶è¦è¿è¡çå½ä»¤ï¼åCMDä¸æ ·\nONBUILD      å½æå»ºä¸ä¸ªè¢«ç»§æ¿çDockerFileæ¶è¿è¡å½ä»¤ï¼ç¶éåå¨è¢«å­éåç»§æ¿åï¼ç¶éåç ONBUILDè¢«è§¦å\n\n\n\n\n\n\n# CMD å ENTRYPOINT çåºå«\n\næä»¬ä¹åè¯´è¿ï¼ä¸¤ä¸ªå½ä»¤é½æ¯æå®ä¸ä¸ªå®¹å¨å¯å¨æ¶è¦è¿è¡çå½ä»¤\n\n * CMD\n   \n   Dockerfile ä¸­å¯ä»¥æå¤ä¸ªCMD æä»¤ï¼ä½åªææåä¸ä¸ªçæï¼CMD ä¼è¢« docker run ä¹åçåæ°æ¿æ¢ï¼\n\n * ENTRYPOINT\n   \n   docker run ä¹åçåæ°ä¼è¢«å½ååæ°ä¼ éç» ENTRYPOINTï¼ä¹åå½¢ææ°çå½ä»¤ç»åï¼\n\næµè¯ CMD å½ä»¤\n\n1ãç¼åæä»¶\n\n[root@VM-0-6-centos dockerfile-test]# vim dockerfile-cmd-test\n[root@VM-0-6-centos dockerfile-test]# cat dockerfile-cmd-test\nFROM centos \nCMD [ "ls", "-a" ]\n\n\n1\n2\n3\n4\n\n\n2ãæå»ºå¹¶è¿è¡\n\ndocker build -f dockerfile-cmd-test -t cmdtest .\n\ndocker run cmdtest\n\n\n1\n2\n3\n\n\n\n\n3ãå¦ææä»¬å¸æç¨ -l åè¡¨å±ç¤ºä¿¡æ¯ï¼æä»¬å°±éè¦å ä¸ -låæ°\n\n[root@VM-0-6-centos dockerfile-test]#  docker run cmdtest -l\ndocker: Error response from daemon: OCI runtime create failed: container_linux.go:380: starting container process caused: exec: "-l": executable file not found in $PATH: unknown.\n\n\n1\n2\n\n\né®é¢ï¼æä»¬å¯ä»¥çå°å¯æ§è¡æä»¶æ¾ä¸å°çæ¥éï¼executable file not foundã\n\nä¹åæä»¬è¯´è¿ï¼è·å¨éåååé¢çæ¯ commandï¼è¿è¡æ¶ä¼æ¿æ¢ CMD çé»è®¤å¼ã\n\nå æ­¤è¿éç -l æ¿æ¢äºåæ¥ç CMDï¼èä¸æ¯æ·»å å¨åæ¥ç ls -a åé¢ã\n\nè -l æ ¹æ¬ä¸æ¯å½ä»¤ï¼æä»¥èªç¶æ¾ä¸å°ã\n\né£ä¹å¦ææä»¬å¸æå å¥ -lè¿åæ°ï¼æä»¬å°±å¿é¡»éæ°å®æ´çè¾å¥è¿ä¸ªå½ä»¤ï¼\n\ndocker run cmdtest ls -al\n\n\n1\n\n\næµè¯ ENTRYPOINT å½ä»¤\n\n1ãç¼åæä»¶\n\n[root@VM-0-6-centos dockerfile-test]# vim dockerfile-entrypoint-test\n[root@VM-0-6-centos dockerfile-test]# cat dockerfile-entrypoint-test\nFROM centos\nENTRYPOINT [ "ls", "-a" ]\n\n\n1\n2\n3\n4\n\n\n2ãæå»ºå¹¶è¿è¡\n\ndocker build -f dockerfile-entrypoint-test -t entrypointtest .\n\ndocker run entrypointtest\n\n\n1\n2\n3\n\n\n3ãæµè¯ -l åæ°ï¼åç°å¯ä»¥ç´æ¥ä½¿ç¨ï¼è¿éå°±æ¯ä¸ç§è¿½å \n\næä»¬å¯ä»¥ææ¾çç¥é CMD å ENTRYPOINT çåºå«äº\n\ndocker run entrypointtest -l\n\n\n1\n\n\n\n\n\n# å®ææµè¯\n\n\n# CentOS\n\nå®æ¹é»è®¤ç CentOS çæåµä¸æ¯æ vim å ifconfig æä»¤\n\næä»¬èªå·±æå»ºä¸ä¸ªæ¯æè¿äºæä»¤çéå\n\n1ãç¼åæä»¶\n\n[root@VM-0-6-centos home]# cd dockerfile-test\n[root@VM-0-6-centos dockerfile-test]# ls\nmy-centos\n[root@VM-0-6-centos dockerfile-test]# cat my-centos\nFROM centos\nMAINTAINER zhiyuan<oddfar@163.com>\n\nENV MYPATH /usr/local\nWORKDIR $MYPATH\n\nRUN yum -y install vim\nRUN yum -y install net-tools\n\n\nEXPOSE 80\n\nCMD echo $MYPATH\nCMD echo "----end-----"\nCMD /bin/bash\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n2ãæå»º\n\nå½ä»¤æåæä¸ä¸ª . è¡¨ç¤ºå½åç®å½\n\ndocker build -f my-centos -t mycentos:1.1 .\n\n\n1\n\n\næååï¼\n\n\n\n3ãè¿è¡\n\ndocker run -it mycentos:1.1\n\n\n1\n\n\næµè¯åï¼å¯ä»¥çå°ï¼æä»¬èªå·±çæ°éåå·²ç»æ¯æ vim å ifconfigçå½ä»¤äº\n\n * ååºéåçåæ´åå²ï¼\n   \n   docker history éåå\\éåid\n\n\n# Tomcat\n\næ­¥éª¤ï¼\n\n * å° JDK å tomcat å®è£çåç¼©åæ·è´/home/build ç®å½ä¸\n   \n   ä¸è½½å°åï¼\n   \n   é¾æ¥ï¼https://pan.baidu.com/s/1QZEmvAgyh4-8DbebVz7koQ\n   \n   æåç ï¼spfo\n\n * æ°å»ºä¸ä¸ª read.txt æä»¶\n\n * æ°å»ºä¸ä¸ª Dockerfile æä»¶\n\n[root@VM-0-6-centos home]# cd build\n[root@VM-0-6-centos build]# ls\napache-tomcat-9.0.46.tar.gz  Dockerfile  jdk-8u11-linux-x64.tar.gz  read.txt  tomcat\n\n\n1\n2\n3\n\n\nDockerfile åå®¹\n\nFROM centos\n\nMAINTAINER zhiyuan<test@qq.com>\n#æå®¿ä¸»æºå½åä¸ä¸æçread.txtæ·è´å°å®¹å¨/usr/local/è·¯å¾ä¸\nCOPY read.txt /usr/local/cincontainer.txt\n#æjavaä¸tomcatæ·»å å°å®¹å¨ä¸­\nADD jdk-8u11-linux-x64.tar.gz /usr/local/\nADD apache-tomcat-9.0.46.tar.gz /usr/local/\n#å®è£vimç¼è¾å¨\nRUN yum -y install vim\n#åé\nENV MYPATH /usr/local\n#è®¾ç½®å·¥ä½è®¿é®æ¶åçWORKDIRè·¯å¾ï¼ç»å½è½èç¹\nWORKDIR $MYPATH\n#éç½®javaä¸tomcatç¯å¢åé\nENV JAVA_HOME /usr/local/jdk1.8.0_11\nENV CLASSPATH $JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar\nENV CATALINA_HOME /usr/local/apache-tomcat-9.0.46\nENV CATALINA_BASE /usr/local/apache-tomcat-9.0.46\nENV PATH $PATH:$JAVA_HOME/bin:$CATALINA_HOME/lib:$CATALINA_HOME/bin\n#å®¹å¨è¿è¡æ¶çå¬çç«¯å£\nEXPOSE 8080\n#å¯å¨æ¶è¿è¡tomcat\n# ENTRYPOINT ["/usr/local/apache-tomcat-9.0.46/bin/startup.sh" ]\n# CMD ["/usr/local/apache-tomcat-9.0.46/bin/catalina.sh","run"]\nCMD /usr/local/apache-tomcat-9.0.46/bin/startup.sh && tail -F /usr/local/apache-tomcat-9.0.46/bin/logs/catalina.out\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\næå»ºéåï¼\n\ndocker build -t diytomcat .\n\n\n1\n\n\nå¨æ­¤ç®å½ä¸é»è®¤æå»º Dockerfile æä»¶ï¼æä»¥ä¸éè¦å¸¦ä¸æä»¶å\n\nå¯å¨ï¼\n\ndocker run -d  -p 9090:8080 --name mydiytomcat -v /home/build/tomcat/test:/usr/local/apache-tomcat-9.0.46/webapps/test -v /home/build/tomcat/logs/:/usr/local/apache-tomcat-9.0.46/logs --privileged=true diytomcat\n\n\n1\n\n\nå¤æ³¨ï¼Dockeræè½½ä¸»æºç®å½Dockerè®¿é®åºç°cannot open directory Permission denied\n\nè§£å³åæ³ï¼å¨æè½½ç®å½åå¤å ä¸ä¸ª--privileged=trueåæ°å³å¯\n\nåä¸ªæµè¯ç½ç«æå°testç®å½ï¼\n\nweb.xml\n\n<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee"\n  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n  xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee\n                      http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"\n  version="4.0"\n  metadata-complete="true">\n\n  <display-name>Test</display-name>\n\n</web-app>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\na.jsp\n\n<%@ page language="java" contentType="text/html; charset=UTF-8"\n    pageEncoding="UTF-8"%>\n<!DOCTYPE html>\n<html>\n<head>\n<meta charset="utf-8">\n<title>æµè¯</title>\n</head>\n<body>\n\tHello World!<br/>\n\t<% System.out.println("-------my docker tomcat-------");%>\n</body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\næ¥çæ¥å¿ï¼\n\n[root@VM-0-6-centos tomcat]# cd logs\n[root@VM-0-6-centos logs]# cat catalina.out\n\n\n1\n2\n\n\n\n\n\n# SpingBoot\n\n1ãä½¿ç¨ IDEA æå»ºä¸ä¸ª SpringBoot é¡¹ç®\n\n2ãç¼å Controller\n\n@RestController\npublic class HelloController {\n    @GetMapping("/hello")\n    public String hello(){\n\t    return "hello,world";\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\næåæ jar å\n\n3ãæå»ºéå\n\nå°æåå¥½ç jar åæ·è´å° Dockerfile åçº§ç®å½ï¼ç¼å Dockerfileæä»¶\n\nFROM java:8\n\n# æå¡å¨åªædockerfileåjarå¨åçº§ç®å½\nCOPY *.jar /app.jar\n\nCMD ["--server.port=8080"]\n\n# æå®å®¹å¨åè¦æ´é²çç«¯å£\nEXPOSE 8080\n\nENTRYPOINT ["java","-jar","/app.jar"]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\næå»ºè¿è¡\n\n# æå»ºéå\ndocker build -t idea-ks .\n\n# è¿è¡\ndocker run -d -P --name idea-ks idea-ks\n\n\n1\n2\n3\n4\n5\n\n\næåæµè¯è®¿é®',normalizedContent:' * ä»ä¹æ¯ dockerfile\n * dockerfile æå»ºè¿ç¨\n * dockerfile æä»¤\n * cmd å entrypoint çåºå«\n * å®ææµè¯\n   * centos\n   * tomcat\n   * spingboot\n\nå¤§å®¶æ³æ³ï¼nginxï¼tomcatï¼mysql è¿äºéåé½æ¯åªéæ¥çï¼å®æ¹è½åï¼æä»¬ä¸è½ååï¼\n\næä»¬è¦ç ç©¶èªå·±å¦ä½åä¸ä¸ªéåï¼èä¸æä»¬åçå¾®æå¡é¡¹ç®ä»¥å springboot æåä¸äºé¨ç½²ï¼dockerå°±æ¯ææ¹ä¾¿çã\n\nå¾®æå¡æåæéåï¼ä»»ä½è£äºdockerçå°æ¹ï¼é½å¯ä»¥ä¸è½½ä½¿ç¨ï¼æå¶çæ¹ä¾¿ã\n\næµç¨ï¼å¼ååºç¨=>dockerfile=>æåä¸ºéå=>ä¸ä¼ å°ä»åºï¼ç§æä»åºï¼å¬æä»åºï¼=> ä¸è½½éå => å¯å¨ è¿è¡ã\n\nè¿å¯ä»¥æ¹ä¾¿ç§»æ¤ï¼\n\n\n# ä»ä¹æ¯ dockerfile\n\ndockerfileæ¯ç¨æ¥æå»ºdockeréåçæå»ºæä»¶ï¼æ¯ç±ä¸ç³»åå½ä»¤ååæ°ææçèæ¬\n\næå»ºæ­¥éª¤ï¼\n\n1ãç¼ådockerfileæä»¶\n\n2ãdocker build æå»ºéå\n\n3ãdocker run\n\næ¥çä¹åæåç centos ï¼https://hub.docker.com/_/centos\n\n\n\næ¥çdockerfile æä»¶\n\n\n\n\n# dockerfile æå»ºè¿ç¨\n\nåºç¡ç¥è¯ï¼\n\n1ãæ¯æ¡ä¿çå­æä»¤é½å¿é¡»ä¸ºå¤§åå­æ¯ä¸åé¢è¦è·éè³å°ä¸ä¸ªåæ°\n\n2ãæä»¤æç§ä»ä¸å°ä¸ï¼é¡ºåºæ§è¡\n\n3ã# è¡¨ç¤ºæ³¨é\n\n4ãæ¯æ¡æä»¤é½ä¼åå»ºä¸ä¸ªæ°çéåå±ï¼å¹¶å¯¹éåè¿è¡æäº¤\n\næµç¨ï¼\n\n1ãdockerä»åºç¡éåè¿è¡ä¸ä¸ªå®¹å¨\n\n2ãæ§è¡ä¸æ¡æä»¤å¹¶å¯¹å®¹å¨ååºä¿®æ¹\n\n3ãæ§è¡ç±»ä¼¼ docker commit çæä½æäº¤ä¸ä¸ªæ°çéåå±\n\n4ãdockerååºäºåæäº¤çéåè¿è¡ä¸ä¸ªæ°å®¹å¨\n\n5ãæ§è¡dockerfileä¸­çä¸ä¸æ¡æä»¤ç´å°æææä»¤é½æ§è¡å®æï¼\n\nè¯´æï¼\n\nä»åºç¨è½¯ä»¶çè§åº¦æ¥çï¼dockerfileï¼dockeréå ä¸ dockerå®¹å¨ åå«ä»£è¡¨è½¯ä»¶çä¸ä¸ªä¸åé¶æ®µã\n\n * dockerfile æ¯è½¯ä»¶çåææ ï¼ä»£ç ï¼\n * docker éååæ¯è½¯ä»¶çäº¤ä»å ï¼.apkï¼\n * docker å®¹å¨åæ¯è½¯ä»¶çè¿è¡ç¶æ ï¼å®¢æ·ä¸è½½å®è£æ§è¡ï¼\n\ndockerfile é¢åå¼åï¼dockeréåæä¸ºäº¤ä»æ åï¼dockerå®¹å¨åæ¶åé¨ç½²ä¸è¿ç»´ï¼ä¸èç¼ºä¸ä¸å¯ï¼\n\n\n\ndockerfileï¼éè¦å®ä¹ä¸ä¸ªdockerfileï¼dockerfileå®ä¹äºè¿ç¨éè¦çä¸åä¸è¥¿ãdockerfileæ¶åçåå®¹ åæ¬æ§è¡ä»£ç æèæ¯æä»¶ãç¯å¢åéãä¾èµåãè¿è¡æ¶ç¯å¢ãå¨æé¾æ¥åºãæä½ç³»ç»çåè¡çãæå¡è¿ ç¨ååæ ¸è¿ç¨ï¼å½å¼ç¨è¿è¡éè¦åç³»ç»æå¡ååæ ¸è¿ç¨æäº¤éï¼è¿æ¶éè¦èèå¦ä½è®¾è®¡ namespaceçæ éæ§å¶ï¼ç­ç­ã\n\ndockeréåï¼å¨dockerfile å®ä¹äºä¸ä¸ªæä»¶ä¹åï¼docker build æ¶ä¼äº§çä¸ä¸ªdockeréåï¼å½è¿è¡ docker éåæ¶ï¼ä¼çæ­£å¼å§æä¾æå¡ï¼\n\ndockerå®¹å¨ï¼å®¹å¨æ¯ç´æ¥æä¾æå¡çã\n\n\n# dockerfile æä»¤\n\nå³é®å­          è¯´æ\nfrom         åºç¡éåï¼å½åæ°éåæ¯åºäºåªä¸ªéåç\nmaintainer   éåç»´æ¤èçå§åæ··åé®ç®±å°å\nrun          å®¹å¨æå»ºæ¶éè¦è¿è¡çå½ä»¤\nexpose       å½åå®¹å¨å¯¹å¤ä¿çåºçç«¯å£\nworkdir      æå®å¨åå»ºå®¹å¨åï¼ç»ç«¯é»è®¤ç»å½çè¿æ¥å·¥ä½ç®å½ï¼ä¸ä¸ªè½èç¹\nenv          ç¨æ¥å¨æå»ºéåè¿ç¨ä¸­è®¾ç½®ç¯å¢åé\nadd          å°å®¿ä¸»æºç®å½ä¸çæä»¶æ·è´è¿éåä¸addå½ä»¤ä¼èªå¨å¤çurlåè§£åtaråç¼©å\ncopy         ç±»ä¼¼addï¼æ·è´æä»¶åç®å½å°éåä¸­ï¼\nvolume       å®¹å¨æ°æ®å·ï¼ç¨äºæ°æ®ä¿å­åæä¹åå·¥ä½\ncmd          æå®ä¸ä¸ªå®¹å¨å¯å¨æ¶è¦è¿è¡çå½ä»¤ï¼dockerfileä¸­å¯ä»¥æå¤ä¸ªcmdæä»¤ï¼ä½åªææåä¸ä¸ªçæï¼\nentrypoint   æå®ä¸ä¸ªå®¹å¨å¯å¨æ¶è¦è¿è¡çå½ä»¤ï¼åcmdä¸æ ·\nonbuild      å½æå»ºä¸ä¸ªè¢«ç»§æ¿çdockerfileæ¶è¿è¡å½ä»¤ï¼ç¶éåå¨è¢«å­éåç»§æ¿åï¼ç¶éåç onbuildè¢«è§¦å\n\n\n\n\n\n\n# cmd å entrypoint çåºå«\n\næä»¬ä¹åè¯´è¿ï¼ä¸¤ä¸ªå½ä»¤é½æ¯æå®ä¸ä¸ªå®¹å¨å¯å¨æ¶è¦è¿è¡çå½ä»¤\n\n * cmd\n   \n   dockerfile ä¸­å¯ä»¥æå¤ä¸ªcmd æä»¤ï¼ä½åªææåä¸ä¸ªçæï¼cmd ä¼è¢« docker run ä¹åçåæ°æ¿æ¢ï¼\n\n * entrypoint\n   \n   docker run ä¹åçåæ°ä¼è¢«å½ååæ°ä¼ éç» entrypointï¼ä¹åå½¢ææ°çå½ä»¤ç»åï¼\n\næµè¯ cmd å½ä»¤\n\n1ãç¼åæä»¶\n\n[root@vm-0-6-centos dockerfile-test]# vim dockerfile-cmd-test\n[root@vm-0-6-centos dockerfile-test]# cat dockerfile-cmd-test\nfrom centos \ncmd [ "ls", "-a" ]\n\n\n1\n2\n3\n4\n\n\n2ãæå»ºå¹¶è¿è¡\n\ndocker build -f dockerfile-cmd-test -t cmdtest .\n\ndocker run cmdtest\n\n\n1\n2\n3\n\n\n\n\n3ãå¦ææä»¬å¸æç¨ -l åè¡¨å±ç¤ºä¿¡æ¯ï¼æä»¬å°±éè¦å ä¸ -låæ°\n\n[root@vm-0-6-centos dockerfile-test]#  docker run cmdtest -l\ndocker: error response from daemon: oci runtime create failed: container_linux.go:380: starting container process caused: exec: "-l": executable file not found in $path: unknown.\n\n\n1\n2\n\n\né®é¢ï¼æä»¬å¯ä»¥çå°å¯æ§è¡æä»¶æ¾ä¸å°çæ¥éï¼executable file not foundã\n\nä¹åæä»¬è¯´è¿ï¼è·å¨éåååé¢çæ¯ commandï¼è¿è¡æ¶ä¼æ¿æ¢ cmd çé»è®¤å¼ã\n\nå æ­¤è¿éç -l æ¿æ¢äºåæ¥ç cmdï¼èä¸æ¯æ·»å å¨åæ¥ç ls -a åé¢ã\n\nè -l æ ¹æ¬ä¸æ¯å½ä»¤ï¼æä»¥èªç¶æ¾ä¸å°ã\n\né£ä¹å¦ææä»¬å¸æå å¥ -lè¿åæ°ï¼æä»¬å°±å¿é¡»éæ°å®æ´çè¾å¥è¿ä¸ªå½ä»¤ï¼\n\ndocker run cmdtest ls -al\n\n\n1\n\n\næµè¯ entrypoint å½ä»¤\n\n1ãç¼åæä»¶\n\n[root@vm-0-6-centos dockerfile-test]# vim dockerfile-entrypoint-test\n[root@vm-0-6-centos dockerfile-test]# cat dockerfile-entrypoint-test\nfrom centos\nentrypoint [ "ls", "-a" ]\n\n\n1\n2\n3\n4\n\n\n2ãæå»ºå¹¶è¿è¡\n\ndocker build -f dockerfile-entrypoint-test -t entrypointtest .\n\ndocker run entrypointtest\n\n\n1\n2\n3\n\n\n3ãæµè¯ -l åæ°ï¼åç°å¯ä»¥ç´æ¥ä½¿ç¨ï¼è¿éå°±æ¯ä¸ç§è¿½å \n\næä»¬å¯ä»¥ææ¾çç¥é cmd å entrypoint çåºå«äº\n\ndocker run entrypointtest -l\n\n\n1\n\n\n\n\n\n# å®ææµè¯\n\n\n# centos\n\nå®æ¹é»è®¤ç centos çæåµä¸æ¯æ vim å ifconfig æä»¤\n\næä»¬èªå·±æå»ºä¸ä¸ªæ¯æè¿äºæä»¤çéå\n\n1ãç¼åæä»¶\n\n[root@vm-0-6-centos home]# cd dockerfile-test\n[root@vm-0-6-centos dockerfile-test]# ls\nmy-centos\n[root@vm-0-6-centos dockerfile-test]# cat my-centos\nfrom centos\nmaintainer zhiyuan<oddfar@163.com>\n\nenv mypath /usr/local\nworkdir $mypath\n\nrun yum -y install vim\nrun yum -y install net-tools\n\n\nexpose 80\n\ncmd echo $mypath\ncmd echo "----end-----"\ncmd /bin/bash\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n2ãæå»º\n\nå½ä»¤æåæä¸ä¸ª . è¡¨ç¤ºå½åç®å½\n\ndocker build -f my-centos -t mycentos:1.1 .\n\n\n1\n\n\næååï¼\n\n\n\n3ãè¿è¡\n\ndocker run -it mycentos:1.1\n\n\n1\n\n\næµè¯åï¼å¯ä»¥çå°ï¼æä»¬èªå·±çæ°éåå·²ç»æ¯æ vim å ifconfigçå½ä»¤äº\n\n * ååºéåçåæ´åå²ï¼\n   \n   docker history éåå\\éåid\n\n\n# tomcat\n\næ­¥éª¤ï¼\n\n * å° jdk å tomcat å®è£çåç¼©åæ·è´/home/build ç®å½ä¸\n   \n   ä¸è½½å°åï¼\n   \n   é¾æ¥ï¼https://pan.baidu.com/s/1qzemvagyh4-8dbebvz7koq\n   \n   æåç ï¼spfo\n\n * æ°å»ºä¸ä¸ª read.txt æä»¶\n\n * æ°å»ºä¸ä¸ª dockerfile æä»¶\n\n[root@vm-0-6-centos home]# cd build\n[root@vm-0-6-centos build]# ls\napache-tomcat-9.0.46.tar.gz  dockerfile  jdk-8u11-linux-x64.tar.gz  read.txt  tomcat\n\n\n1\n2\n3\n\n\ndockerfile åå®¹\n\nfrom centos\n\nmaintainer zhiyuan<test@qq.com>\n#æå®¿ä¸»æºå½åä¸ä¸æçread.txtæ·è´å°å®¹å¨/usr/local/è·¯å¾ä¸\ncopy read.txt /usr/local/cincontainer.txt\n#æjavaä¸tomcatæ·»å å°å®¹å¨ä¸­\nadd jdk-8u11-linux-x64.tar.gz /usr/local/\nadd apache-tomcat-9.0.46.tar.gz /usr/local/\n#å®è£vimç¼è¾å¨\nrun yum -y install vim\n#åé\nenv mypath /usr/local\n#è®¾ç½®å·¥ä½è®¿é®æ¶åçworkdirè·¯å¾ï¼ç»å½è½èç¹\nworkdir $mypath\n#éç½®javaä¸tomcatç¯å¢åé\nenv java_home /usr/local/jdk1.8.0_11\nenv classpath $java_home/lib/dt.jar:$java_home/lib/tools.jar\nenv catalina_home /usr/local/apache-tomcat-9.0.46\nenv catalina_base /usr/local/apache-tomcat-9.0.46\nenv path $path:$java_home/bin:$catalina_home/lib:$catalina_home/bin\n#å®¹å¨è¿è¡æ¶çå¬çç«¯å£\nexpose 8080\n#å¯å¨æ¶è¿è¡tomcat\n# entrypoint ["/usr/local/apache-tomcat-9.0.46/bin/startup.sh" ]\n# cmd ["/usr/local/apache-tomcat-9.0.46/bin/catalina.sh","run"]\ncmd /usr/local/apache-tomcat-9.0.46/bin/startup.sh && tail -f /usr/local/apache-tomcat-9.0.46/bin/logs/catalina.out\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\næå»ºéåï¼\n\ndocker build -t diytomcat .\n\n\n1\n\n\nå¨æ­¤ç®å½ä¸é»è®¤æå»º dockerfile æä»¶ï¼æä»¥ä¸éè¦å¸¦ä¸æä»¶å\n\nå¯å¨ï¼\n\ndocker run -d  -p 9090:8080 --name mydiytomcat -v /home/build/tomcat/test:/usr/local/apache-tomcat-9.0.46/webapps/test -v /home/build/tomcat/logs/:/usr/local/apache-tomcat-9.0.46/logs --privileged=true diytomcat\n\n\n1\n\n\nå¤æ³¨ï¼dockeræè½½ä¸»æºç®å½dockerè®¿é®åºç°cannot open directory permission denied\n\nè§£å³åæ³ï¼å¨æè½½ç®å½åå¤å ä¸ä¸ª--privileged=trueåæ°å³å¯\n\nåä¸ªæµè¯ç½ç«æå°testç®å½ï¼\n\nweb.xml\n\n<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee"\n  xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n  xsi:schemalocation="http://xmlns.jcp.org/xml/ns/javaee\n                      http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"\n  version="4.0"\n  metadata-complete="true">\n\n  <display-name>test</display-name>\n\n</web-app>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\na.jsp\n\n<%@ page language="java" contenttype="text/html; charset=utf-8"\n    pageencoding="utf-8"%>\n<!doctype html>\n<html>\n<head>\n<meta charset="utf-8">\n<title>æµè¯</title>\n</head>\n<body>\n\thello world!<br/>\n\t<% system.out.println("-------my docker tomcat-------");%>\n</body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\næ¥çæ¥å¿ï¼\n\n[root@vm-0-6-centos tomcat]# cd logs\n[root@vm-0-6-centos logs]# cat catalina.out\n\n\n1\n2\n\n\n\n\n\n# spingboot\n\n1ãä½¿ç¨ idea æå»ºä¸ä¸ª springboot é¡¹ç®\n\n2ãç¼å controller\n\n@restcontroller\npublic class hellocontroller {\n    @getmapping("/hello")\n    public string hello(){\n\t    return "hello,world";\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\næåæ jar å\n\n3ãæå»ºéå\n\nå°æåå¥½ç jar åæ·è´å° dockerfile åçº§ç®å½ï¼ç¼å dockerfileæä»¶\n\nfrom java:8\n\n# æå¡å¨åªædockerfileåjarå¨åçº§ç®å½\ncopy *.jar /app.jar\n\ncmd ["--server.port=8080"]\n\n# æå®å®¹å¨åè¦æ´é²çç«¯å£\nexpose 8080\n\nentrypoint ["java","-jar","/app.jar"]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\næå»ºè¿è¡\n\n# æå»ºéå\ndocker build -t idea-ks .\n\n# è¿è¡\ndocker run -d -p --name idea-ks idea-ks\n\n\n1\n2\n3\n4\n5\n\n\næåæµè¯è®¿é®',charsets:{cjk:!0},lastUpdated:"2023/06/02, 15:06:00",lastUpdatedTimestamp:16857188e5},{title:"Docker - Compose",frontmatter:{title:"Docker - Compose",date:"2021-06-17T17:21:32.000Z",permalink:"/pages/a38e01/"},regularPath:"/05.%E5%B7%A5%E5%85%B7%E9%83%A8%E7%BD%B2/10.Docker/18.Docker%20-%20Compose.html",relativePath:"05.å·¥å·é¨ç½²/10.Docker/18.Docker - Compose.md",key:"v-360040da",path:"/pages/a38e01/",headers:[{level:2,title:"ç®ä»",slug:"ç®ä»",normalizedTitle:"ç®ä»",charIndex:3},{level:2,title:"å®è£",slug:"å®è£",normalizedTitle:"å®è£",charIndex:9},{level:2,title:"ç®åä¸æ",slug:"ç®åä¸æ",normalizedTitle:"ç®åä¸æ",charIndex:15},{level:2,title:"yaml è§å",slug:"yaml-è§å",normalizedTitle:"yaml è§å",charIndex:23},{level:2,title:"javaæµè¯åå¸",slug:"javaæµè¯åå¸",normalizedTitle:"javaæµè¯åå¸",charIndex:34}],headersStr:"ç®ä» å®è£ ç®åä¸æ yaml è§å javaæµè¯åå¸",content:' * ç®ä»\n * å®è£\n * ç®åä¸æ\n * yaml è§å\n * javaæµè¯åå¸\n\n\n# ç®ä»\n\nå®æ¹ä»ç»\n\nhttps://docs.docker.com/compose/\n\nCompose æ¯ä¸ä¸ªç¨äºå®ä¹åè¿è¡å¤å®¹å¨ Docker åºç¨ç¨åºçå·¥å·ãåå© Composeï¼æ¨å¯ä»¥ä½¿ç¨ YAML æä»¶æ¥éç½®åºç¨ç¨åºçæå¡ãç¶åï¼ä½¿ç¨åä¸ªå½ä»¤ï¼ä»éç½®ä¸­åå»ºå¹¶å¯å¨æææå¡ãè¦äºè§£æå³ Compose çææåè½çæ´å¤ä¿¡æ¯ï¼è¯·åéåè½åè¡¨ã\n\nCompose éç¨äºææç¯å¢ï¼çäº§ãç»å°ãå¼åãæµè¯ä»¥å CI å·¥ä½æµãæ¨å¯ä»¥å¨Common Use Cases ä¸­äºè§£æå³æ¯ä¸ªæ¡ä¾çæ´å¤ä¿¡æ¯ã\n\nä½¿ç¨ Compose åºæ¬ä¸æ¯ä¸ä¸ªä¸æ­¥è¿ç¨ï¼\n\n 1. ä½¿ç¨ å®ä¹æ¨çåºç¨ç¨åºçç¯å¢ï¼Dockerfileä»¥ä¾¿å®å¯ä»¥å¨ä»»ä½å°æ¹å¤å¶ã\n 2. å®ä¹ç»ææ¨çåºç¨ç¨åºçæå¡ï¼docker-compose.yml ä»¥ä¾¿å®ä»¬å¯ä»¥å¨éç¦»çç¯å¢ä¸­ä¸èµ·è¿è¡ã\n 3. è¿è¡ docker compose up å Docker compose command å¯å¨å¹¶è¿è¡ä½ çæ´ä¸ªåºç¨ç¨åºãæ¨ä¹å¯ä»¥docker-compose upä½¿ç¨ docker-compose äºè¿å¶æä»¶è¿è¡ã\n\nå¯ä»¥ç¨ Docker Compose æ¥è½»æ¾é«æçç®¡çå®¹å¨ãå®ä¹è¿è¡å¤ä¸ªå®¹å¨ã\n\nä¸ä¸ªdocker-compose.ymlçèµ·æ¥åè¿æ ·ï¼\n\nversion: "3.9"  # optional since v1.27.0\nservices:\n  web:\n    build: .\n    ports:\n      - "5000:5000"\n    volumes:\n      - .:/code\n      - logvolume01:/var/log\n    links:\n      - redis\n  redis:\n    image: redis\nvolumes:\n  logvolume01: {}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# å®è£\n\n1ãä¸è½½\n\nå®ç½ï¼\n\nsudo curl -L "https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose\n\n\n1\n\n\nå éä¸è½½ï¼https://gitmirror.com/\n\nsudo curl -L "https://hub.gitmirror.com/https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose\n\n\n1\n\n\n2ãææ\n\nsudo chmod +x /usr/local/bin/docker-compose\n\n\n1\n\n\n\n# ç®åä¸æ\n\nå®æ¹ææ¡£\n\nhttps://docs.docker.com/compose/gettingstarted/\n\næå»ºä¸ä¸ªå¨ Docker Compose ä¸è¿è¡çç®å Python Web åºç¨ç¨åºãè¯¥åºç¨ç¨åºä½¿ç¨ Flask æ¡æ¶å¹¶å¨ Redis ä¸­ç»´æ¤ä¸ä¸ªå½ä¸­è®¡æ°å¨ã\n\nç¬¬1 æ­¥ï¼è®¾ç½®\n\n 1. ä¸ºé¡¹ç®åå»ºä¸ä¸ªç®å½ï¼\n    \n    mkdir composetest\n    cd composetest\n    \n    \n    1\n    2\n    \n\n 2. åå»ºapp.py\n    \n    import time\n    \n    import redis\n    from flask import Flask\n    \n    app = Flask(__name__)\n    cache = redis.Redis(host=\'redis\', port=6379)\n    \n    def get_hit_count():\n        retries = 5\n        while True:\n            try:\n                return cache.incr(\'hits\')\n            except redis.exceptions.ConnectionError as exc:\n                if retries == 0:\n                    raise exc\n                retries -= 1\n                time.sleep(0.5)\n    \n    @app.route(\'/\')\n    def hello():\n        count = get_hit_count()\n        return \'Hello World! I have been seen {} times.\\n\'.format(count)\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    \n\n 3. å¨é¡¹ç®ç®å½ä¸­åå»º requirements.txt\n\nflask\nredis\n\n\n1\n2\n\n\nç¬¬ 2 æ­¥ï¼åå»º Dockerfile\n\né¡¹ç®ç®å½ä¸­ï¼åå»º Dockerfile\n\n# syntax=docker/dockerfile:1\nFROM python:3.7-alpine\nWORKDIR /code\nENV FLASK_APP=app.py\nENV FLASK_RUN_HOST=0.0.0.0\nRUN apk add --no-cache gcc musl-dev linux-headers\nCOPY requirements.txt requirements.txt\nRUN pip install -r requirements.txt\nEXPOSE 5000\nCOPY . .\nCMD ["flask", "run"]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nç¬¬ 3 æ­¥ï¼å¨ Compose æä»¶ä¸­å®ä¹æå¡\n\né¡¹ç®ç®å½ä¸­åå»º docker-compose.yml\n\nversion: "3.9"\nservices:\n  web:\n    build: .\n    ports:\n      - "5000:5000"\n  redis:\n    image: "redis:alpine"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nç¬¬ 4 æ­¥ï¼ä½¿ç¨ Compose æå»ºå¹¶è¿è¡æ¨çåºç¨ç¨åº\n\nå¨é¡¹ç®ç®å½ä¸­è¿è¡ docker-compose up\n\n[root@VM-0-6-centos composetest]# docker-compose up\n\n\n1\n\n\nå¦æè¦åå°è¿è¡\n\n docker-compose up -d\n\n\n1\n\n\næµè¯ï¼\n\n[root@VM-0-6-centos ~]# curl localhost:5000\nHello World! I have been seen 1 times.\n[root@VM-0-6-centos ~]# curl localhost:5000\nHello World! I have been seen 2 times.\n[root@VM-0-6-centos ~]# curl localhost:5000\nHello World! I have been seen 3 times.\n\n\n1\n2\n3\n4\n5\n6\n\n * åå­è§å\n\n\n\né»è®¤çæå¡åï¼æä»¶å_æå¡å _ num\n\n * å¯ä»¥çè§å¤äºä¸ªç½ç»\n\n[root@VM-0-6-centos ~]# docker network ls\nNETWORK ID     NAME                  DRIVER    SCOPE\n4b873066daf7   bridge                bridge    local\nd87efab51b47   composetest_default   bridge    local\n86da632adad6   elastic               bridge    local\n64b606f257e7   host                  host      local\n34ab4fdb73c0   none                  null      local\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\né¡¹ç®ä¸­çåå®¹é½å¨åä¸ªç½ç»ä¸ã\n\nå¶ä»ä¸ºæ¼ç¤º Compose éèº«å®å¶çç¤ºä¾\n\nè¿äºç¤ºä¾ä¸é¨éå¯¹ Docker Composeï¼\n\n * å¿«éå¥é¨ï¼Compose å Django - å±ç¤ºäºå¦ä½ä½¿ç¨ Docker Compose æ¥è®¾ç½®åè¿è¡ä¸ä¸ªç®åç Django/PostgreSQL åºç¨ç¨åºã\n * å¿«éå¥é¨ï¼Compose å Rails - å±ç¤ºäºå¦ä½ä½¿ç¨ Docker Compose æ¥è®¾ç½®åè¿è¡ Rails/PostgreSQL åºç¨ç¨åºã\n * å¿«éå¥é¨ï¼Compose å WordPress - å±ç¤ºäºå¦ä½ä½¿ç¨ Docker Compose å¨å·æ Docker å®¹å¨çéç¦»ç¯å¢ä¸­è®¾ç½®åè¿è¡ WordPressã\n\n\n# yaml è§å\n\nå®æ¹ææ¡£\n\nhttps://docs.docker.com/compose/compose-file/\n\n# 3å±ï¼\nversion: \'\' # çæ¬\nservices: # æå¡\n    æå¡1: web\n    # æå¡éç½®\n    images\n    build\n    network\n    \n    æå¡2: redis\n    ....\n    æå¡3: redis\n    ....\n\n# å¶ä»éç½® ç½ç»/å·ãå¨å±è§å\nvolumes:\nnetworks:\nconfigs:\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# javaæµè¯åå¸\n\nä»¥ä¸å®ä¾æ¯ç¨ python åçï¼æä»¬åä¸ä¸ª java çæ¬çæµè¯ä¸\n\n\n\n1ãç¼åjavaä»£ç \n\nåå»ºä¸ä¸ª springboot demo\n\n@RestController\npublic class HelloController {\n\n    @Autowired\n    StringRedisTemplate redisTemplate;\n\n    @GetMapping("/hello")\n    public String hello(){\n        Long views = redisTemplate.opsForValue().increment("views");\n        return "hello world! views:"+ views;\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n2ãæ·»å éç½®\n\n * ç¼å application.properties æä»¶\n\nserver.port=8080\nspring.redis.host=redis\n\n\n1\n2\n\n * ç¼å Docker æä»¶\n\nFROM java:8\n\nCOPY *.jar /app.jar\n\nCMD ["--server.port=8080"]\n\nEXPOSE 8080\n\nENTRYPOINT ["java","-jar","/app.jar"]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n * ç¼å docker-compose.yml æä»¶\n\nversion: "3.9"\nservices:\n  zhiyuanapp:\n    build: .\n    image: zhiyuanapp\n    depends_on:\n      - redis\n    ports:\n      - "8080:8080"\n\n  redis:\n    image: "library/redis:alpine"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n3ãä¸ä¼ å¹¶æå»º\n\næ jarå ãDockerãdocker-compose ä¸ä¸ªæä»¶ä¸ä¼ å°ä¸ä¸ªç®å½ä¸\n\nå¹¶å¨æ­¤ç®å½ä¸æå»ºï¼\n\n[root@VM-0-6-centos zhiyuanapp]# docker-compose up\n\n\n1\n\n\n4ãæµè¯ï¼\n\n[root@VM-0-6-centos ~]# curl localhost:8080/hello\nhello world! views:1\n[root@VM-0-6-centos ~]# curl localhost:8080/hello\nhello world! views:2\n[root@VM-0-6-centos ~]# curl localhost:8080/hello\nhello world! views:3\n\n\n1\n2\n3\n4\n5\n6\n',normalizedContent:' * ç®ä»\n * å®è£\n * ç®åä¸æ\n * yaml è§å\n * javaæµè¯åå¸\n\n\n# ç®ä»\n\nå®æ¹ä»ç»\n\nhttps://docs.docker.com/compose/\n\ncompose æ¯ä¸ä¸ªç¨äºå®ä¹åè¿è¡å¤å®¹å¨ docker åºç¨ç¨åºçå·¥å·ãåå© composeï¼æ¨å¯ä»¥ä½¿ç¨ yaml æä»¶æ¥éç½®åºç¨ç¨åºçæå¡ãç¶åï¼ä½¿ç¨åä¸ªå½ä»¤ï¼ä»éç½®ä¸­åå»ºå¹¶å¯å¨æææå¡ãè¦äºè§£æå³ compose çææåè½çæ´å¤ä¿¡æ¯ï¼è¯·åéåè½åè¡¨ã\n\ncompose éç¨äºææç¯å¢ï¼çäº§ãç»å°ãå¼åãæµè¯ä»¥å ci å·¥ä½æµãæ¨å¯ä»¥å¨common use cases ä¸­äºè§£æå³æ¯ä¸ªæ¡ä¾çæ´å¤ä¿¡æ¯ã\n\nä½¿ç¨ compose åºæ¬ä¸æ¯ä¸ä¸ªä¸æ­¥è¿ç¨ï¼\n\n 1. ä½¿ç¨ å®ä¹æ¨çåºç¨ç¨åºçç¯å¢ï¼dockerfileä»¥ä¾¿å®å¯ä»¥å¨ä»»ä½å°æ¹å¤å¶ã\n 2. å®ä¹ç»ææ¨çåºç¨ç¨åºçæå¡ï¼docker-compose.yml ä»¥ä¾¿å®ä»¬å¯ä»¥å¨éç¦»çç¯å¢ä¸­ä¸èµ·è¿è¡ã\n 3. è¿è¡ docker compose up å docker compose command å¯å¨å¹¶è¿è¡ä½ çæ´ä¸ªåºç¨ç¨åºãæ¨ä¹å¯ä»¥docker-compose upä½¿ç¨ docker-compose äºè¿å¶æä»¶è¿è¡ã\n\nå¯ä»¥ç¨ docker compose æ¥è½»æ¾é«æçç®¡çå®¹å¨ãå®ä¹è¿è¡å¤ä¸ªå®¹å¨ã\n\nä¸ä¸ªdocker-compose.ymlçèµ·æ¥åè¿æ ·ï¼\n\nversion: "3.9"  # optional since v1.27.0\nservices:\n  web:\n    build: .\n    ports:\n      - "5000:5000"\n    volumes:\n      - .:/code\n      - logvolume01:/var/log\n    links:\n      - redis\n  redis:\n    image: redis\nvolumes:\n  logvolume01: {}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# å®è£\n\n1ãä¸è½½\n\nå®ç½ï¼\n\nsudo curl -l "https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose\n\n\n1\n\n\nå éä¸è½½ï¼https://gitmirror.com/\n\nsudo curl -l "https://hub.gitmirror.com/https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose\n\n\n1\n\n\n2ãææ\n\nsudo chmod +x /usr/local/bin/docker-compose\n\n\n1\n\n\n\n# ç®åä¸æ\n\nå®æ¹ææ¡£\n\nhttps://docs.docker.com/compose/gettingstarted/\n\næå»ºä¸ä¸ªå¨ docker compose ä¸è¿è¡çç®å python web åºç¨ç¨åºãè¯¥åºç¨ç¨åºä½¿ç¨ flask æ¡æ¶å¹¶å¨ redis ä¸­ç»´æ¤ä¸ä¸ªå½ä¸­è®¡æ°å¨ã\n\nç¬¬1 æ­¥ï¼è®¾ç½®\n\n 1. ä¸ºé¡¹ç®åå»ºä¸ä¸ªç®å½ï¼\n    \n    mkdir composetest\n    cd composetest\n    \n    \n    1\n    2\n    \n\n 2. åå»ºapp.py\n    \n    import time\n    \n    import redis\n    from flask import flask\n    \n    app = flask(__name__)\n    cache = redis.redis(host=\'redis\', port=6379)\n    \n    def get_hit_count():\n        retries = 5\n        while true:\n            try:\n                return cache.incr(\'hits\')\n            except redis.exceptions.connectionerror as exc:\n                if retries == 0:\n                    raise exc\n                retries -= 1\n                time.sleep(0.5)\n    \n    @app.route(\'/\')\n    def hello():\n        count = get_hit_count()\n        return \'hello world! i have been seen {} times.\\n\'.format(count)\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    \n\n 3. å¨é¡¹ç®ç®å½ä¸­åå»º requirements.txt\n\nflask\nredis\n\n\n1\n2\n\n\nç¬¬ 2 æ­¥ï¼åå»º dockerfile\n\né¡¹ç®ç®å½ä¸­ï¼åå»º dockerfile\n\n# syntax=docker/dockerfile:1\nfrom python:3.7-alpine\nworkdir /code\nenv flask_app=app.py\nenv flask_run_host=0.0.0.0\nrun apk add --no-cache gcc musl-dev linux-headers\ncopy requirements.txt requirements.txt\nrun pip install -r requirements.txt\nexpose 5000\ncopy . .\ncmd ["flask", "run"]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nç¬¬ 3 æ­¥ï¼å¨ compose æä»¶ä¸­å®ä¹æå¡\n\né¡¹ç®ç®å½ä¸­åå»º docker-compose.yml\n\nversion: "3.9"\nservices:\n  web:\n    build: .\n    ports:\n      - "5000:5000"\n  redis:\n    image: "redis:alpine"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nç¬¬ 4 æ­¥ï¼ä½¿ç¨ compose æå»ºå¹¶è¿è¡æ¨çåºç¨ç¨åº\n\nå¨é¡¹ç®ç®å½ä¸­è¿è¡ docker-compose up\n\n[root@vm-0-6-centos composetest]# docker-compose up\n\n\n1\n\n\nå¦æè¦åå°è¿è¡\n\n docker-compose up -d\n\n\n1\n\n\næµè¯ï¼\n\n[root@vm-0-6-centos ~]# curl localhost:5000\nhello world! i have been seen 1 times.\n[root@vm-0-6-centos ~]# curl localhost:5000\nhello world! i have been seen 2 times.\n[root@vm-0-6-centos ~]# curl localhost:5000\nhello world! i have been seen 3 times.\n\n\n1\n2\n3\n4\n5\n6\n\n * åå­è§å\n\n\n\né»è®¤çæå¡åï¼æä»¶å_æå¡å _ num\n\n * å¯ä»¥çè§å¤äºä¸ªç½ç»\n\n[root@vm-0-6-centos ~]# docker network ls\nnetwork id     name                  driver    scope\n4b873066daf7   bridge                bridge    local\nd87efab51b47   composetest_default   bridge    local\n86da632adad6   elastic               bridge    local\n64b606f257e7   host                  host      local\n34ab4fdb73c0   none                  null      local\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\né¡¹ç®ä¸­çåå®¹é½å¨åä¸ªç½ç»ä¸ã\n\nå¶ä»ä¸ºæ¼ç¤º compose éèº«å®å¶çç¤ºä¾\n\nè¿äºç¤ºä¾ä¸é¨éå¯¹ docker composeï¼\n\n * å¿«éå¥é¨ï¼compose å django - å±ç¤ºäºå¦ä½ä½¿ç¨ docker compose æ¥è®¾ç½®åè¿è¡ä¸ä¸ªç®åç django/postgresql åºç¨ç¨åºã\n * å¿«éå¥é¨ï¼compose å rails - å±ç¤ºäºå¦ä½ä½¿ç¨ docker compose æ¥è®¾ç½®åè¿è¡ rails/postgresql åºç¨ç¨åºã\n * å¿«éå¥é¨ï¼compose å wordpress - å±ç¤ºäºå¦ä½ä½¿ç¨ docker compose å¨å·æ docker å®¹å¨çéç¦»ç¯å¢ä¸­è®¾ç½®åè¿è¡ wordpressã\n\n\n# yaml è§å\n\nå®æ¹ææ¡£\n\nhttps://docs.docker.com/compose/compose-file/\n\n# 3å±ï¼\nversion: \'\' # çæ¬\nservices: # æå¡\n    æå¡1: web\n    # æå¡éç½®\n    images\n    build\n    network\n    \n    æå¡2: redis\n    ....\n    æå¡3: redis\n    ....\n\n# å¶ä»éç½® ç½ç»/å·ãå¨å±è§å\nvolumes:\nnetworks:\nconfigs:\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# javaæµè¯åå¸\n\nä»¥ä¸å®ä¾æ¯ç¨ python åçï¼æä»¬åä¸ä¸ª java çæ¬çæµè¯ä¸\n\n\n\n1ãç¼åjavaä»£ç \n\nåå»ºä¸ä¸ª springboot demo\n\n@restcontroller\npublic class hellocontroller {\n\n    @autowired\n    stringredistemplate redistemplate;\n\n    @getmapping("/hello")\n    public string hello(){\n        long views = redistemplate.opsforvalue().increment("views");\n        return "hello world! views:"+ views;\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n2ãæ·»å éç½®\n\n * ç¼å application.properties æä»¶\n\nserver.port=8080\nspring.redis.host=redis\n\n\n1\n2\n\n * ç¼å docker æä»¶\n\nfrom java:8\n\ncopy *.jar /app.jar\n\ncmd ["--server.port=8080"]\n\nexpose 8080\n\nentrypoint ["java","-jar","/app.jar"]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n * ç¼å docker-compose.yml æä»¶\n\nversion: "3.9"\nservices:\n  zhiyuanapp:\n    build: .\n    image: zhiyuanapp\n    depends_on:\n      - redis\n    ports:\n      - "8080:8080"\n\n  redis:\n    image: "library/redis:alpine"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n3ãä¸ä¼ å¹¶æå»º\n\næ jarå ãdockerãdocker-compose ä¸ä¸ªæä»¶ä¸ä¼ å°ä¸ä¸ªç®å½ä¸\n\nå¹¶å¨æ­¤ç®å½ä¸æå»ºï¼\n\n[root@vm-0-6-centos zhiyuanapp]# docker-compose up\n\n\n1\n\n\n4ãæµè¯ï¼\n\n[root@vm-0-6-centos ~]# curl localhost:8080/hello\nhello world! views:1\n[root@vm-0-6-centos ~]# curl localhost:8080/hello\nhello world! views:2\n[root@vm-0-6-centos ~]# curl localhost:8080/hello\nhello world! views:3\n\n\n1\n2\n3\n4\n5\n6\n',charsets:{cjk:!0},lastUpdated:"2023/12/24, 7:12:00",lastUpdatedTimestamp:1703403105e3},{title:"Jenkins - ç¥è¯ä½ç³»",frontmatter:{pageComponent:{name:"Catalogue",data:{path:"05.å·¥å·é¨ç½²/30.Jenkins",imgUrl:"/img/web.png",description:"Jenkins ç®å½é¡µ"}},title:"Jenkins - ç¥è¯ä½ç³»",permalink:"/jenkins",article:!1,comment:!1,editLink:!1,date:"2021-09-15T15:09:34.000Z"},regularPath:"/05.%E5%B7%A5%E5%85%B7%E9%83%A8%E7%BD%B2/30.Jenkins/01.Jenkins%20-%20%E7%9B%AE%E5%BD%95%E9%A1%B5.html",relativePath:"05.å·¥å·é¨ç½²/30.Jenkins/01.Jenkins - ç®å½é¡µ.md",key:"v-21390089",path:"/jenkins/",headers:[{level:2,title:"æä¸ºä»ä¹ç¨Jenkinsï¼",slug:"æä¸ºä»ä¹ç¨jenkins",normalizedTitle:"æä¸ºä»ä¹ç¨jenkinsï¼",charIndex:2}],headersStr:"æä¸ºä»ä¹ç¨Jenkinsï¼",content:"# æä¸ºä»ä¹ç¨Jenkinsï¼\n\nååå­¦åä¸ªç½ç«ï¼ä»è´è´£åç«¯ï¼vueï¼ï¼æè´è´£åç«¯ï¼springbootåä½é¡¹ç®ï¼\n\nåç«¯åå®ï¼æå¨ææ jar åï¼ç¶åé¨ç½²å°æå¡å¨ï¼è¿äºéå¤æå¨å·¥ä½å¤§å¤§çæ¶èäºæ¶é´ã\n\näºæ¯å°±ç¨å°äº Jenkins ï¼éç½®å¥½åï¼åªéè¦æäº¤ä»£ç å° Gitee ï¼å°±å¯ä»¥èªå¨æå»ºé¨ç½²ä¸çº¿ï¼ä¸éè¦ä¹åçæå¨éå¤æä½ã\n\n> å·ä½æä½æç¨è¯·çä¸æï¼ä»é¶å¼å§ç¨Jenkinsèªå¨æå»ºé¨ç½²SpringBooté¡¹ç®\n\nåç»­å¯è½å®åè¿ä¸ªç³»åçç¬è®°",normalizedContent:"# æä¸ºä»ä¹ç¨jenkinsï¼\n\nååå­¦åä¸ªç½ç«ï¼ä»è´è´£åç«¯ï¼vueï¼ï¼æè´è´£åç«¯ï¼springbootåä½é¡¹ç®ï¼\n\nåç«¯åå®ï¼æå¨ææ jar åï¼ç¶åé¨ç½²å°æå¡å¨ï¼è¿äºéå¤æå¨å·¥ä½å¤§å¤§çæ¶èäºæ¶é´ã\n\näºæ¯å°±ç¨å°äº jenkins ï¼éç½®å¥½åï¼åªéè¦æäº¤ä»£ç å° gitee ï¼å°±å¯ä»¥èªå¨æå»ºé¨ç½²ä¸çº¿ï¼ä¸éè¦ä¹åçæå¨éå¤æä½ã\n\n> å·ä½æä½æç¨è¯·çä¸æï¼ä»é¶å¼å§ç¨jenkinsèªå¨æå»ºé¨ç½²springbooté¡¹ç®\n\nåç»­å¯è½å®åè¿ä¸ªç³»åçç¬è®°",charsets:{cjk:!0},lastUpdated:"2025/09/06, 15:09:00",lastUpdatedTimestamp:1757171752e3},{title:"Jenkins - ä»ç»",frontmatter:{title:"Jenkins - ä»ç»",date:"2021-09-15T14:12:14.000Z",permalink:"/pages/3dedc8/"},regularPath:"/05.%E5%B7%A5%E5%85%B7%E9%83%A8%E7%BD%B2/30.Jenkins/02.Jenkins%20-%20%E4%BB%8B%E7%BB%8D.html",relativePath:"05.å·¥å·é¨ç½²/30.Jenkins/02.Jenkins - ä»ç».md",key:"v-5233b41b",path:"/pages/3dedc8/",headers:[{level:2,title:"Jenkinsæ¯ä»ä¹ï¼",slug:"jenkinsæ¯ä»ä¹",normalizedTitle:"jenkinsæ¯ä»ä¹ï¼",charIndex:2},{level:2,title:"ç¸å³æ¦å¿µä»ç»",slug:"ç¸å³æ¦å¿µä»ç»",normalizedTitle:"ç¸å³æ¦å¿µä»ç»",charIndex:577},{level:3,title:"è½¯ä»¶å¼åçå½å¨æ",slug:"è½¯ä»¶å¼åçå½å¨æ",normalizedTitle:"è½¯ä»¶å¼åçå½å¨æ",charIndex:588},{level:3,title:"è½¯ä»¶å¼åçå¸æ¨¡å",slug:"è½¯ä»¶å¼åçå¸æ¨¡å",normalizedTitle:"è½¯ä»¶å¼åçå¸æ¨¡å",charIndex:1047},{level:3,title:"è½¯ä»¶çææ·å¼å",slug:"è½¯ä»¶çææ·å¼å",normalizedTitle:"è½¯ä»¶çææ·å¼å",charIndex:1397},{level:3,title:"ä»ä¹æ¯æç»­éæ",slug:"ä»ä¹æ¯æç»­éæ",normalizedTitle:"ä»ä¹æ¯æç»­éæ",charIndex:2439},{level:3,title:"æç»­éæçç»æè¦ç´ ",slug:"æç»­éæçç»æè¦ç´ ",normalizedTitle:"æç»­éæçç»æè¦ç´ ",charIndex:3198},{level:3,title:"æç»­éæçå¥½å¤",slug:"æç»­éæçå¥½å¤",normalizedTitle:"æç»­éæçå¥½å¤",charIndex:3377},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:3519}],headersStr:"Jenkinsæ¯ä»ä¹ï¼ ç¸å³æ¦å¿µä»ç» è½¯ä»¶å¼åçå½å¨æ è½¯ä»¶å¼åçå¸æ¨¡å è½¯ä»¶çææ·å¼å ä»ä¹æ¯æç»­éæ æç»­éæçç»æè¦ç´  æç»­éæçå¥½å¤ åèèµæ",content:'# Jenkinsæ¯ä»ä¹ï¼\n\nJenkinsæ¯ä¸ä¸ªå¼æºçãæä¾åå¥½æä½çé¢çæç»­éæ(CI)å·¥å·ï¼èµ·æºäºHudsonï¼Hudsonæ¯åç¨çï¼ï¼ä¸»è¦ç¨äºæç»­ãèªå¨çæå»º/æµè¯è½¯ä»¶é¡¹ç®ãçæ§å¤é¨ä»»å¡çè¿è¡ãJenkinsç¨Javaè¯­è¨ç¼åï¼å¯å¨Tomcatç­æµè¡çservletå®¹å¨ä¸­è¿è¡ï¼ä¹å¯ç¬ç«è¿è¡ãéå¸¸ä¸çæ¬ç®¡çå·¥å·(SCM)ãæå»ºå·¥å·ç»åä½¿ç¨ãå¸¸ç¨ççæ¬æ§å¶å·¥å·æSVNãGITï¼æå»ºå·¥å·æMavenãAntãGradleã\n\nå®ç½ï¼ http://jenkins-ci.org/ã\n\nJenkinsçç¹å¾ï¼\n\n * å¼æºçJavaè¯­è¨å¼åæç»­éæå·¥å·ï¼æ¯ææç»­éæï¼æç»­é¨ç½²ã\n * æäºå®è£é¨ç½²éç½®ï¼å¯éè¿yumå®è£,æä¸è½½waråä»¥åéè¿dockerå®¹å¨ç­å¿«éå®ç°å®è£é¨ç½²ï¼å¯æ¹ä¾¿webçé¢éç½®ç®¡çã\n * æ¶æ¯éç¥åæµè¯æ¥åï¼éæRSS/E-mailéè¿RSSåå¸æå»ºç»ææå½æå»ºå®ææ¶éè¿e-mailéç¥ï¼ç æJUnit/TestNGæµè¯æ¥åã\n * åå¸å¼æå»ºï¼æ¯æJenkinsè½å¤è®©å¤å°è®¡ç®æºä¸èµ·æå»º/æµè¯\n * æä»¶è¯å«ï¼Jenkinsè½å¤è·è¸ªåªæ¬¡æå»ºçæåªäºjarï¼åªæ¬¡æå»ºä½¿ç¨åªä¸ªçæ¬çjarç­ã\n * ä¸°å¯çæä»¶æ¯æï¼æ¯ææ©å±æä»¶ï¼ä½ å¯ä»¥å¼åéåèªå·±å¢éä½¿ç¨çå·¥å·ï¼å¦gitï¼svnï¼mavenï¼ dockerç­ã\n\n\n# ç¸å³æ¦å¿µä»ç»\n\n\n# è½¯ä»¶å¼åçå½å¨æ\n\n\n\n * éæ±åæ\n   \n   è¿æ¯çå½å¨æçç¬¬ä¸é¶æ®µï¼æ ¹æ®é¡¹ç®éæ±ï¼å¢éæ§è¡ä¸ä¸ªå¯è¡æ§è®¡åçåæãé¡¹ç®éæ±å¯è½æ¯å¬å¸åé¨æèå®¢æ·æåºçãè¿é¶æ®µä¸»è¦æ¯å¯¹ä¿¡æ¯çæ¶éï¼ä¹æå¯è½æ¯å¯¹ç°æé¡¹ç®çæ¹ååéæ°åä¸ä¸ªæ°çé¡¹ç®ã è¿è¦åæé¡¹ç®çé¢ç®å¤é¿ï¼å¯ä»¥ä»åªæ¹é¢åçåå¸å±ï¼è¿ä¹æ¯é¡¹ç®åå»ºçç®æ ã\n\n * è®¾è®¡\n   \n   ç¬¬äºé¶æ®µå°±æ¯è®¾è®¡é¶æ®µï¼ç³»ç»æ¶æåæ»¡æç¶æï¼å°±æ¯è¦åæä»ä¹æ ·å­ï¼æä»ä¹åè½ï¼ï¼ååå»ºä¸ä¸ªé¡¹ç® è®¡åãè®¡åå¯ä»¥ä½¿ç¨å¾è¡¨ï¼å¸å±è®¾è®¡æèæèçæ¹å¼åç°ã\n\n * å®ç°\n   \n   ç¬¬ä¸é¶æ®µå°±æ¯å®ç°é¶æ®µï¼é¡¹ç®ç»çåå»ºååéå·¥ä½ç»å¼èï¼å¼åèæ ¹æ®ä»»å¡åå¨è®¾è®¡é¶æ®µå®ä¹çç®æ è¿ è¡å¼åä»£ç ãä¾æ®é¡¹ç®çå¤§å°åå¤æç¨åº¦ï¼å¯ä»¥éè¦æ°æææ´é¿æ¶é´æè½å®æã\n\n * æµè¯\n   \n   æµè¯äººåè¿è¡ä»£ç æµè¯ ï¼åæ¬åè½æµè¯ãä»£ç æµè¯ãååæµè¯ç­\n\n * è¿å\n   \n   æåè¿é¶æ®µå°±æ¯å¯¹äº§åä¸æ­çè¿åæ¹è¿åç»´æ¤é¶æ®µï¼æ ¹æ®ç¨æ·çä½¿ç¨æåµï¼å¯è½éè¦å¯¹æåè½è¿è¡ä¿® æ¹ï¼bugä¿®å¤ï¼åè½å¢å ç­ã\n\n\n# è½¯ä»¶å¼åçå¸æ¨¡å\n\nçå¸æ¨¡åæ¯æèååæå¸¸ä½¿ç¨çè½¯ä»¶å¼åæ¨¡åãçå¸æ¨¡åå°±æ¯ä¸ç³»åçè½¯ä»¶å¼åè¿ç¨ãå®æ¯ç±å¶é ä¸ç¹è¡åºæ¥çãä¸ä¸ªé«åº¦åçç»ææµç¨å¨ä¸ä¸ªæ¹åä¸æµå¨ï¼æç¹åçäº§çº¿ä¸æ ·ãå¨çå¸æ¨¡ååå»ºä¹åï¼æ²¡æå¶å®å¼åçæ¨¡åï¼æå¾å¤ä¸è¥¿å¨é å¼åäººåå»çæµï¼å»å¼åãè¿æ ·çæ¨¡åä»éç¨äºé£äºç®åçè½¯ä»¶å¼åï¼ ä½æ¯å·²ç»ä¸éåç°å¨çå¼åäºã\n\n\n\nä¼å¿ï¼\n\n * ç®åæç¨åçè§£\n * å½åä¸é¶æ®µå®æåï¼æ¨åªéè¦ å»å³æ³¨åç»­é¶æ®µã\n * ä¸ºé¡¹ç®æä¾äºæé¶æ®µååçæ£ æ¥èç¹\n\nå£å¿ï¼\n\n * åä¸ªé¶æ®µçååå®å¨åºå®ï¼é¶æ®µä¹é´äº§çå¤§éçææ¡£ï¼æå¤§å° å¢å äºå·¥ä½éã\n * ç±äºå¼åæ¨¡åæ¯çº¿æ§çï¼ç¨æ·åªæç­å°æ´ä¸ªè¿ç¨çæ«ææè½è§ å°å¼åææï¼ä»èå¢å äºå¼åé£é©ã\n * çå¸æ¨¡åççªåºç¼ºç¹æ¯ä¸éåºç¨æ·éæ±çååã\n\n\n# è½¯ä»¶çææ·å¼å\n\nä»ä¹æ¯ææ·å¼åï¼\n\nææ·å¼åï¼Agile Developmentï¼ çæ ¸å¿æ¯è¿­ä»£å¼åï¼Iterative Developmentï¼ ä¸ å¢éå¼å ï¼Incremental Developmentï¼ ã\n\n> ä½ä¸ºè¿­ä»£å¼åï¼\n\nå¯¹äºå¤§åè½¯ä»¶é¡¹ç®ï¼ä¼ ç»çå¼åæ¹å¼æ¯éç¨ä¸ä¸ªå¤§å¨æï¼æ¯å¦ä¸å¹´ï¼è¿è¡å¼åï¼æ´ä¸ªè¿ç¨å°±æ¯ä¸æ¬¡"å¤§å¼å"ï¼è¿­ä»£å¼åçæ¹å¼åä¸ä¸æ ·ï¼å®å°å¼åè¿ç¨æåæå¤ä¸ªå°å¨æï¼å³ä¸æ¬¡"å¤§å¼å"åæå¤æ¬¡"å°å¼å"ï¼æ¯æ¬¡å°å¼åé½æ¯åæ ·çæµç¨ï¼æä»¥çä¸å»å°±å¥½åéå¤å¨ååæ ·çæ­¥éª¤ã\n\nä¸¾ä¾æ¥è¯´ï¼SpaceX å¬å¸æ³é ä¸ä¸ªå¤§æ¨åç«ç®­ï¼å°äººç±»éå°ç«æãä½æ¯ï¼å®ä¸æ¯ä¸å¼å§å°±é å¤§ç«ç®­ï¼èæ¯åé ä¸ä¸ªæç®éçå°ç«ç®­ Falcon 1ãç»æï¼ç¬¬ä¸æ¬¡åå°å°±çç¸äºï¼ç´å°ç¬¬åæ¬¡åå°ï¼ææåè¿å¥è½¨éãç¶åï¼å¼åäºä¸­åç«ç®­ Falcon 9ï¼ä¹å¹´ä¸­åå°äº70æ¬¡ãæåï¼æå¼å Falcon éåç«ç®­ãå¦æ SpaceX ä¸éç¨è¿­ä»£å¼åï¼å®å¯è½ç´å°ç°å¨è¿æ æ³ä¸å¤©ã\n\n> ä½ä¸ºå¢éå¼åï¼\n\nè½¯ä»¶çæ¯ä¸ªçæ¬ï¼é½ä¼æ°å¢ä¸ä¸ªç¨æ·å¯ä»¥æç¥çå®æ´åè½ãä¹å°±æ¯è¯´ï¼æç§æ°å¢åè½æ¥ååè¿­ä»£ã\n\nä¸¾ä¾æ¥è¯´ï¼æ¿äº§å¬å¸å¼åä¸ä¸ª10æ æ¥¼çå°åºãå¦æéç¨å¢éå¼åçæ¨¡å¼ï¼è¯¥å¬å¸ç¬¬ä¸ä¸ªè¿­ä»£å°±æ¯äº¤ä»ä¸å·æ¥¼ï¼ç¬¬äºä¸ªè¿­ä»£äº¤ä»äºå·æ¥¼......æ¯ä¸ªè¿­ä»£é½æ¯å®æä¸æ å®æ´çæ¥¼ãèä¸æ¯ç¬¬ä¸ä¸ªè¿­ä»£æå¥½10æ æ¥¼çå°åºï¼ç¬¬äºä¸ªè¿­ä»£å»ºå¥½æ¯æ æ¥¼çéª¨æ¶ï¼ç¬¬ä¸ä¸ªè¿­ä»£æ¶è®¾å±é¡¶......\n\n> ææ·å¼åå¦ä½è¿­ä»£ï¼\n\nè½ç¶ææ·å¼åå°è½¯ä»¶å¼ååæå¤ä¸ªè¿­ä»£ï¼ä½æ¯ä¹è¦æ±ï¼æ¯æ¬¡è¿­ä»£é½æ¯ä¸ä¸ªå®æ´çè½¯ä»¶å¼åå¨æï¼å¿é¡»æ ç§è½¯ä»¶å·¥ç¨çæ¹æ³è®ºï¼è¿è¡æ­£è§çæµç¨ç®¡çã\n\n\n\n> ææ·å¼åæä»ä¹å¥½å¤ï¼\n\n * æ©æäº¤ä»\n\nææ·å¼åçç¬¬ä¸ä¸ªå¥½å¤ï¼å°±æ¯æ©æäº¤ä»ï¼ä»èå¤§å¤§éä½ææ¬ã è¿æ¯ä»¥ä¸ä¸èçæ¿äº§å¬å¸ä¸ºä¾ï¼å¦ææç§ä¼ ç»ç"çå¸å¼åæ¨¡å¼"ï¼åæ10æ æ¥¼çå°åºãåçéª¨æ¶ãç¶åæ¶è®¾å±é¡¶ï¼æ¯ä¸ªé¶æ®µé½ç­å°åä¸ä¸ªé¶æ®µå®æåå¼å§ï¼å¯è½éè¦ä¸¤å¹´æè½ä¸æ¬¡æ§äº¤ä»10æ æ¥¼ãä¹å°±æ¯è¯´ï¼å¦æä¸èèé¢å®ï¼è¯¥é¡¹ç®å¿é¡»ç­å°ä¸¤å¹´åæè½åæ¬¾ã ææ·å¼åæ¯å­ä¸ªæåäº¤ä»ä¸å·æ¥¼ï¼åé¢æ¯ä¸¤ä¸ªæäº¤ä»ä¸æ æ¥¼ãå æ­¤ï¼åå¹´å°±è½åæ¬¾10%ï¼åé¢æ¯ä¸ªæé½ä¼æç°éæµï¼èµéååå°±å¤§å¤§åè½»äºã\n\n * éä½é£é©\n\nææ·å¼åçç¬¬äºä¸ªå¥½å¤æ¯ï¼åæ¶äºè§£å¸åºéæ±ï¼éä½äº§åä¸éç¨çé£é©ã è¯·æ³ä¸æ³ï¼åªä¸ç§æåµæå¤±æ¯è¾å°ï¼10æ æ¥¼é½é å¥½ä»¥åï¼æåç°åä¸åºå»ï¼è¿æ¯é å¥½ç¬¬ä¸æ æ¥¼ï¼å°±åç°åä¸åºå»ï¼ä»èæ¹è¿æåå»ºåé¢9æ æ¥¼ï¼\n\n\n# ä»ä¹æ¯æç»­éæ\n\næç»­éæï¼ Continuous integration ï¼ ç®ç§° CI ï¼æçæ¯ï¼é¢ç¹å°ï¼ä¸å¤©å¤æ¬¡ï¼å°ä»£ç éæå°ä¸»å¹²\n\næç»­éæçç®çï¼å°±æ¯è®©äº§åå¯ä»¥å¿«éè¿­ä»£ï¼åæ¶è¿è½ä¿æé«è´¨éãå®çæ ¸å¿æªæ½æ¯ï¼ä»£ç éæå°ä¸»å¹²ä¹åï¼å¿é¡»éè¿èªå¨åæµè¯ãåªè¦æä¸ä¸ªæµè¯ç¨ä¾å¤±è´¥ï¼å°±ä¸è½éæã\n\néè¿æç»­éæï¼ å¢éå¯ä»¥å¿«éçä»ä¸ä¸ªåè½å°å¦ä¸ä¸ªåè½ï¼ç®èè¨ä¹ï¼ææ·è½¯ä»¶å¼åå¾å¤§ä¸é¨åé½è¦å½åäºæç»­éæã\n\næç»­éæçæµç¨\n\n\n\næ ¹æ®æç»­éæçè®¾è®¡ï¼ä»£ç ä»æäº¤å°çäº§ï¼æ´ä¸ªè¿ç¨æä»¥ä¸å æ­¥ã\n\n * æäº¤\n   \n   æµç¨çç¬¬ä¸æ­¥ï¼æ¯å¼åèåä»£ç ä»åºæäº¤ä»£ç ãææåé¢çæ­¥éª¤é½å§äºæ¬å°ä»£ç çä¸æ¬¡æäº¤ ï¼commitï¼ã\n\n * æµè¯ï¼ç¬¬ä¸è½®ï¼\n   \n   ä»£ç ä»åºå¯¹commitæä½éç½®äºé©å­ï¼hookï¼ï¼åªè¦æäº¤ä»£ç æèåå¹¶è¿ä¸»å¹²ï¼å°±ä¼è·èªå¨åæµè¯\n\n * æå»º\n   \n   éè¿ç¬¬ä¸è½®æµè¯ï¼ä»£ç å°±å¯ä»¥åå¹¶è¿ä¸»å¹²ï¼å°±ç®å¯ä»¥äº¤ä»äºã\n   \n   äº¤ä»åï¼å°±åè¿è¡æå»ºï¼buildï¼ï¼åè¿å¥ç¬¬äºè½®æµè¯ãæè°æå»ºï¼æçæ¯å°æºç è½¬æ¢ä¸ºå¯ä»¥è¿è¡çå®éä»£ç ï¼æ¯å¦å®è£ä¾èµï¼éç½®åç§èµæºï¼æ ·å¼è¡¨ãJSèæ¬ãå¾çï¼ç­ç­ã\n\n * æµè¯ï¼ç¬¬äºè½®ï¼\n   \n   æå»ºå®æï¼å°±è¦è¿è¡ç¬¬äºè½®æµè¯ãå¦æç¬¬ä¸è½®å·²ç»æ¶µçäºæææµè¯åå®¹ï¼ç¬¬äºè½®å¯ä»¥çç¥ï¼å½ç¶ï¼è¿æ¶ æå»ºæ­¥éª¤ä¹è¦ç§»å°ç¬¬ä¸è½®æµè¯åé¢ã\n\n * é¨ç½²\n   \n   è¿äºç¬¬äºè½®æµè¯ï¼å½åä»£ç å°±æ¯ä¸ä¸ªå¯ä»¥ç´æ¥é¨ç½²ççæ¬ï¼artifactï¼ãå°è¿ä¸ªçæ¬çæææä»¶æåï¼ tar filename.tar * ï¼å­æ¡£ï¼åå°çäº§æå¡å¨ã\n\n * åæ»\n   \n   ä¸æ¦å½åçæ¬åçé®é¢ï¼å°±è¦åæ»å°ä¸ä¸ä¸ªçæ¬çæå»ºç»æãæç®åçåæ³å°±æ¯ä¿®æ¹ä¸ä¸ç¬¦å·é¾æ¥ï¼æ åä¸ä¸ä¸ªçæ¬çç®å½ã\n\n\n# æç»­éæçç»æè¦ç´ \n\n * ä¸ä¸ªèªå¨æå»ºè¿ç¨ï¼ ä»æ£åºä»£ç ã ç¼è¯æå»ºã è¿è¡æµè¯ã ç»æè®°å½ã æµè¯ç»è®¡ç­é½æ¯èªå¨å®æ çï¼ æ éäººå·¥å¹²é¢\n * ä¸ä¸ªä»£ç å­å¨åºï¼å³éè¦çæ¬æ§å¶è½¯ä»¶æ¥ä¿éä»£ç çå¯ç»´æ¤æ§ï¼åæ¶ä½ä¸ºæå»ºè¿ç¨çç´ æåºï¼ä¸è¬ ä½¿ç¨SVNæGit\n * ä¸ä¸ªæç»­éææå¡å¨ï¼ Jenkins å°±æ¯ä¸ä¸ªéç½®ç®ååä½¿ç¨æ¹ä¾¿çæç»­éææå¡å¨ã\n\n\n\n\n# æç»­éæçå¥½å¤\n\n1ãéä½é£é©ï¼ç±äºæç»­éæä¸æ­å»æå»ºï¼ç¼è¯åæµè¯ï¼å¯ä»¥å¾æ©æåç°é®é¢ï¼æä»¥ä¿®å¤çä»£ä»·å°±å°ï¼\n\n2ãå¯¹ç³»ç»å¥åº·æç»­æ£æ¥ï¼åå°åå¸é£é©å¸¦æ¥çé®é¢ï¼\n\n3ãåå°éå¤æ§å·¥ä½ï¼\n\n4ãæç»­é¨ç½²ï¼æä¾å¯é¨ç½²åååï¼\n\n5ãæç»­äº¤ä»å¯ä¾ä½¿ç¨ççæ¬ï¼\n\n6ãå¢å¼ºå¢éä¿¡å¿ï¼\n\n\n# åèèµæ\n\n * https://www.jianshu.com/p/5f671aca2b5a\n * https://www.bilibili.com/video/BV1kJ411p7mV',normalizedContent:'# jenkinsæ¯ä»ä¹ï¼\n\njenkinsæ¯ä¸ä¸ªå¼æºçãæä¾åå¥½æä½çé¢çæç»­éæ(ci)å·¥å·ï¼èµ·æºäºhudsonï¼hudsonæ¯åç¨çï¼ï¼ä¸»è¦ç¨äºæç»­ãèªå¨çæå»º/æµè¯è½¯ä»¶é¡¹ç®ãçæ§å¤é¨ä»»å¡çè¿è¡ãjenkinsç¨javaè¯­è¨ç¼åï¼å¯å¨tomcatç­æµè¡çservletå®¹å¨ä¸­è¿è¡ï¼ä¹å¯ç¬ç«è¿è¡ãéå¸¸ä¸çæ¬ç®¡çå·¥å·(scm)ãæå»ºå·¥å·ç»åä½¿ç¨ãå¸¸ç¨ççæ¬æ§å¶å·¥å·æsvnãgitï¼æå»ºå·¥å·æmavenãantãgradleã\n\nå®ç½ï¼ http://jenkins-ci.org/ã\n\njenkinsçç¹å¾ï¼\n\n * å¼æºçjavaè¯­è¨å¼åæç»­éæå·¥å·ï¼æ¯ææç»­éæï¼æç»­é¨ç½²ã\n * æäºå®è£é¨ç½²éç½®ï¼å¯éè¿yumå®è£,æä¸è½½waråä»¥åéè¿dockerå®¹å¨ç­å¿«éå®ç°å®è£é¨ç½²ï¼å¯æ¹ä¾¿webçé¢éç½®ç®¡çã\n * æ¶æ¯éç¥åæµè¯æ¥åï¼éærss/e-mailéè¿rssåå¸æå»ºç»ææå½æå»ºå®ææ¶éè¿e-mailéç¥ï¼ç æjunit/testngæµè¯æ¥åã\n * åå¸å¼æå»ºï¼æ¯æjenkinsè½å¤è®©å¤å°è®¡ç®æºä¸èµ·æå»º/æµè¯\n * æä»¶è¯å«ï¼jenkinsè½å¤è·è¸ªåªæ¬¡æå»ºçæåªäºjarï¼åªæ¬¡æå»ºä½¿ç¨åªä¸ªçæ¬çjarç­ã\n * ä¸°å¯çæä»¶æ¯æï¼æ¯ææ©å±æä»¶ï¼ä½ å¯ä»¥å¼åéåèªå·±å¢éä½¿ç¨çå·¥å·ï¼å¦gitï¼svnï¼mavenï¼ dockerç­ã\n\n\n# ç¸å³æ¦å¿µä»ç»\n\n\n# è½¯ä»¶å¼åçå½å¨æ\n\n\n\n * éæ±åæ\n   \n   è¿æ¯çå½å¨æçç¬¬ä¸é¶æ®µï¼æ ¹æ®é¡¹ç®éæ±ï¼å¢éæ§è¡ä¸ä¸ªå¯è¡æ§è®¡åçåæãé¡¹ç®éæ±å¯è½æ¯å¬å¸åé¨æèå®¢æ·æåºçãè¿é¶æ®µä¸»è¦æ¯å¯¹ä¿¡æ¯çæ¶éï¼ä¹æå¯è½æ¯å¯¹ç°æé¡¹ç®çæ¹ååéæ°åä¸ä¸ªæ°çé¡¹ç®ã è¿è¦åæé¡¹ç®çé¢ç®å¤é¿ï¼å¯ä»¥ä»åªæ¹é¢åçåå¸å±ï¼è¿ä¹æ¯é¡¹ç®åå»ºçç®æ ã\n\n * è®¾è®¡\n   \n   ç¬¬äºé¶æ®µå°±æ¯è®¾è®¡é¶æ®µï¼ç³»ç»æ¶æåæ»¡æç¶æï¼å°±æ¯è¦åæä»ä¹æ ·å­ï¼æä»ä¹åè½ï¼ï¼ååå»ºä¸ä¸ªé¡¹ç® è®¡åãè®¡åå¯ä»¥ä½¿ç¨å¾è¡¨ï¼å¸å±è®¾è®¡æèæèçæ¹å¼åç°ã\n\n * å®ç°\n   \n   ç¬¬ä¸é¶æ®µå°±æ¯å®ç°é¶æ®µï¼é¡¹ç®ç»çåå»ºååéå·¥ä½ç»å¼èï¼å¼åèæ ¹æ®ä»»å¡åå¨è®¾è®¡é¶æ®µå®ä¹çç®æ è¿ è¡å¼åä»£ç ãä¾æ®é¡¹ç®çå¤§å°åå¤æç¨åº¦ï¼å¯ä»¥éè¦æ°æææ´é¿æ¶é´æè½å®æã\n\n * æµè¯\n   \n   æµè¯äººåè¿è¡ä»£ç æµè¯ ï¼åæ¬åè½æµè¯ãä»£ç æµè¯ãååæµè¯ç­\n\n * è¿å\n   \n   æåè¿é¶æ®µå°±æ¯å¯¹äº§åä¸æ­çè¿åæ¹è¿åç»´æ¤é¶æ®µï¼æ ¹æ®ç¨æ·çä½¿ç¨æåµï¼å¯è½éè¦å¯¹æåè½è¿è¡ä¿® æ¹ï¼bugä¿®å¤ï¼åè½å¢å ç­ã\n\n\n# è½¯ä»¶å¼åçå¸æ¨¡å\n\nçå¸æ¨¡åæ¯æèååæå¸¸ä½¿ç¨çè½¯ä»¶å¼åæ¨¡åãçå¸æ¨¡åå°±æ¯ä¸ç³»åçè½¯ä»¶å¼åè¿ç¨ãå®æ¯ç±å¶é ä¸ç¹è¡åºæ¥çãä¸ä¸ªé«åº¦åçç»ææµç¨å¨ä¸ä¸ªæ¹åä¸æµå¨ï¼æç¹åçäº§çº¿ä¸æ ·ãå¨çå¸æ¨¡ååå»ºä¹åï¼æ²¡æå¶å®å¼åçæ¨¡åï¼æå¾å¤ä¸è¥¿å¨é å¼åäººåå»çæµï¼å»å¼åãè¿æ ·çæ¨¡åä»éç¨äºé£äºç®åçè½¯ä»¶å¼åï¼ ä½æ¯å·²ç»ä¸éåç°å¨çå¼åäºã\n\n\n\nä¼å¿ï¼\n\n * ç®åæç¨åçè§£\n * å½åä¸é¶æ®µå®æåï¼æ¨åªéè¦ å»å³æ³¨åç»­é¶æ®µã\n * ä¸ºé¡¹ç®æä¾äºæé¶æ®µååçæ£ æ¥èç¹\n\nå£å¿ï¼\n\n * åä¸ªé¶æ®µçååå®å¨åºå®ï¼é¶æ®µä¹é´äº§çå¤§éçææ¡£ï¼æå¤§å° å¢å äºå·¥ä½éã\n * ç±äºå¼åæ¨¡åæ¯çº¿æ§çï¼ç¨æ·åªæç­å°æ´ä¸ªè¿ç¨çæ«ææè½è§ å°å¼åææï¼ä»èå¢å äºå¼åé£é©ã\n * çå¸æ¨¡åççªåºç¼ºç¹æ¯ä¸éåºç¨æ·éæ±çååã\n\n\n# è½¯ä»¶çææ·å¼å\n\nä»ä¹æ¯ææ·å¼åï¼\n\nææ·å¼åï¼agile developmentï¼ çæ ¸å¿æ¯è¿­ä»£å¼åï¼iterative developmentï¼ ä¸ å¢éå¼å ï¼incremental developmentï¼ ã\n\n> ä½ä¸ºè¿­ä»£å¼åï¼\n\nå¯¹äºå¤§åè½¯ä»¶é¡¹ç®ï¼ä¼ ç»çå¼åæ¹å¼æ¯éç¨ä¸ä¸ªå¤§å¨æï¼æ¯å¦ä¸å¹´ï¼è¿è¡å¼åï¼æ´ä¸ªè¿ç¨å°±æ¯ä¸æ¬¡"å¤§å¼å"ï¼è¿­ä»£å¼åçæ¹å¼åä¸ä¸æ ·ï¼å®å°å¼åè¿ç¨æåæå¤ä¸ªå°å¨æï¼å³ä¸æ¬¡"å¤§å¼å"åæå¤æ¬¡"å°å¼å"ï¼æ¯æ¬¡å°å¼åé½æ¯åæ ·çæµç¨ï¼æä»¥çä¸å»å°±å¥½åéå¤å¨ååæ ·çæ­¥éª¤ã\n\nä¸¾ä¾æ¥è¯´ï¼spacex å¬å¸æ³é ä¸ä¸ªå¤§æ¨åç«ç®­ï¼å°äººç±»éå°ç«æãä½æ¯ï¼å®ä¸æ¯ä¸å¼å§å°±é å¤§ç«ç®­ï¼èæ¯åé ä¸ä¸ªæç®éçå°ç«ç®­ falcon 1ãç»æï¼ç¬¬ä¸æ¬¡åå°å°±çç¸äºï¼ç´å°ç¬¬åæ¬¡åå°ï¼ææåè¿å¥è½¨éãç¶åï¼å¼åäºä¸­åç«ç®­ falcon 9ï¼ä¹å¹´ä¸­åå°äº70æ¬¡ãæåï¼æå¼å falcon éåç«ç®­ãå¦æ spacex ä¸éç¨è¿­ä»£å¼åï¼å®å¯è½ç´å°ç°å¨è¿æ æ³ä¸å¤©ã\n\n> ä½ä¸ºå¢éå¼åï¼\n\nè½¯ä»¶çæ¯ä¸ªçæ¬ï¼é½ä¼æ°å¢ä¸ä¸ªç¨æ·å¯ä»¥æç¥çå®æ´åè½ãä¹å°±æ¯è¯´ï¼æç§æ°å¢åè½æ¥ååè¿­ä»£ã\n\nä¸¾ä¾æ¥è¯´ï¼æ¿äº§å¬å¸å¼åä¸ä¸ª10æ æ¥¼çå°åºãå¦æéç¨å¢éå¼åçæ¨¡å¼ï¼è¯¥å¬å¸ç¬¬ä¸ä¸ªè¿­ä»£å°±æ¯äº¤ä»ä¸å·æ¥¼ï¼ç¬¬äºä¸ªè¿­ä»£äº¤ä»äºå·æ¥¼......æ¯ä¸ªè¿­ä»£é½æ¯å®æä¸æ å®æ´çæ¥¼ãèä¸æ¯ç¬¬ä¸ä¸ªè¿­ä»£æå¥½10æ æ¥¼çå°åºï¼ç¬¬äºä¸ªè¿­ä»£å»ºå¥½æ¯æ æ¥¼çéª¨æ¶ï¼ç¬¬ä¸ä¸ªè¿­ä»£æ¶è®¾å±é¡¶......\n\n> ææ·å¼åå¦ä½è¿­ä»£ï¼\n\nè½ç¶ææ·å¼åå°è½¯ä»¶å¼ååæå¤ä¸ªè¿­ä»£ï¼ä½æ¯ä¹è¦æ±ï¼æ¯æ¬¡è¿­ä»£é½æ¯ä¸ä¸ªå®æ´çè½¯ä»¶å¼åå¨æï¼å¿é¡»æ ç§è½¯ä»¶å·¥ç¨çæ¹æ³è®ºï¼è¿è¡æ­£è§çæµç¨ç®¡çã\n\n\n\n> ææ·å¼åæä»ä¹å¥½å¤ï¼\n\n * æ©æäº¤ä»\n\nææ·å¼åçç¬¬ä¸ä¸ªå¥½å¤ï¼å°±æ¯æ©æäº¤ä»ï¼ä»èå¤§å¤§éä½ææ¬ã è¿æ¯ä»¥ä¸ä¸èçæ¿äº§å¬å¸ä¸ºä¾ï¼å¦ææç§ä¼ ç»ç"çå¸å¼åæ¨¡å¼"ï¼åæ10æ æ¥¼çå°åºãåçéª¨æ¶ãç¶åæ¶è®¾å±é¡¶ï¼æ¯ä¸ªé¶æ®µé½ç­å°åä¸ä¸ªé¶æ®µå®æåå¼å§ï¼å¯è½éè¦ä¸¤å¹´æè½ä¸æ¬¡æ§äº¤ä»10æ æ¥¼ãä¹å°±æ¯è¯´ï¼å¦æä¸èèé¢å®ï¼è¯¥é¡¹ç®å¿é¡»ç­å°ä¸¤å¹´åæè½åæ¬¾ã ææ·å¼åæ¯å­ä¸ªæåäº¤ä»ä¸å·æ¥¼ï¼åé¢æ¯ä¸¤ä¸ªæäº¤ä»ä¸æ æ¥¼ãå æ­¤ï¼åå¹´å°±è½åæ¬¾10%ï¼åé¢æ¯ä¸ªæé½ä¼æç°éæµï¼èµéååå°±å¤§å¤§åè½»äºã\n\n * éä½é£é©\n\nææ·å¼åçç¬¬äºä¸ªå¥½å¤æ¯ï¼åæ¶äºè§£å¸åºéæ±ï¼éä½äº§åä¸éç¨çé£é©ã è¯·æ³ä¸æ³ï¼åªä¸ç§æåµæå¤±æ¯è¾å°ï¼10æ æ¥¼é½é å¥½ä»¥åï¼æåç°åä¸åºå»ï¼è¿æ¯é å¥½ç¬¬ä¸æ æ¥¼ï¼å°±åç°åä¸åºå»ï¼ä»èæ¹è¿æåå»ºåé¢9æ æ¥¼ï¼\n\n\n# ä»ä¹æ¯æç»­éæ\n\næç»­éæï¼ continuous integration ï¼ ç®ç§° ci ï¼æçæ¯ï¼é¢ç¹å°ï¼ä¸å¤©å¤æ¬¡ï¼å°ä»£ç éæå°ä¸»å¹²\n\næç»­éæçç®çï¼å°±æ¯è®©äº§åå¯ä»¥å¿«éè¿­ä»£ï¼åæ¶è¿è½ä¿æé«è´¨éãå®çæ ¸å¿æªæ½æ¯ï¼ä»£ç éæå°ä¸»å¹²ä¹åï¼å¿é¡»éè¿èªå¨åæµè¯ãåªè¦æä¸ä¸ªæµè¯ç¨ä¾å¤±è´¥ï¼å°±ä¸è½éæã\n\néè¿æç»­éæï¼ å¢éå¯ä»¥å¿«éçä»ä¸ä¸ªåè½å°å¦ä¸ä¸ªåè½ï¼ç®èè¨ä¹ï¼ææ·è½¯ä»¶å¼åå¾å¤§ä¸é¨åé½è¦å½åäºæç»­éæã\n\næç»­éæçæµç¨\n\n\n\næ ¹æ®æç»­éæçè®¾è®¡ï¼ä»£ç ä»æäº¤å°çäº§ï¼æ´ä¸ªè¿ç¨æä»¥ä¸å æ­¥ã\n\n * æäº¤\n   \n   æµç¨çç¬¬ä¸æ­¥ï¼æ¯å¼åèåä»£ç ä»åºæäº¤ä»£ç ãææåé¢çæ­¥éª¤é½å§äºæ¬å°ä»£ç çä¸æ¬¡æäº¤ ï¼commitï¼ã\n\n * æµè¯ï¼ç¬¬ä¸è½®ï¼\n   \n   ä»£ç ä»åºå¯¹commitæä½éç½®äºé©å­ï¼hookï¼ï¼åªè¦æäº¤ä»£ç æèåå¹¶è¿ä¸»å¹²ï¼å°±ä¼è·èªå¨åæµè¯\n\n * æå»º\n   \n   éè¿ç¬¬ä¸è½®æµè¯ï¼ä»£ç å°±å¯ä»¥åå¹¶è¿ä¸»å¹²ï¼å°±ç®å¯ä»¥äº¤ä»äºã\n   \n   äº¤ä»åï¼å°±åè¿è¡æå»ºï¼buildï¼ï¼åè¿å¥ç¬¬äºè½®æµè¯ãæè°æå»ºï¼æçæ¯å°æºç è½¬æ¢ä¸ºå¯ä»¥è¿è¡çå®éä»£ç ï¼æ¯å¦å®è£ä¾èµï¼éç½®åç§èµæºï¼æ ·å¼è¡¨ãjsèæ¬ãå¾çï¼ç­ç­ã\n\n * æµè¯ï¼ç¬¬äºè½®ï¼\n   \n   æå»ºå®æï¼å°±è¦è¿è¡ç¬¬äºè½®æµè¯ãå¦æç¬¬ä¸è½®å·²ç»æ¶µçäºæææµè¯åå®¹ï¼ç¬¬äºè½®å¯ä»¥çç¥ï¼å½ç¶ï¼è¿æ¶ æå»ºæ­¥éª¤ä¹è¦ç§»å°ç¬¬ä¸è½®æµè¯åé¢ã\n\n * é¨ç½²\n   \n   è¿äºç¬¬äºè½®æµè¯ï¼å½åä»£ç å°±æ¯ä¸ä¸ªå¯ä»¥ç´æ¥é¨ç½²ççæ¬ï¼artifactï¼ãå°è¿ä¸ªçæ¬çæææä»¶æåï¼ tar filename.tar * ï¼å­æ¡£ï¼åå°çäº§æå¡å¨ã\n\n * åæ»\n   \n   ä¸æ¦å½åçæ¬åçé®é¢ï¼å°±è¦åæ»å°ä¸ä¸ä¸ªçæ¬çæå»ºç»æãæç®åçåæ³å°±æ¯ä¿®æ¹ä¸ä¸ç¬¦å·é¾æ¥ï¼æ åä¸ä¸ä¸ªçæ¬çç®å½ã\n\n\n# æç»­éæçç»æè¦ç´ \n\n * ä¸ä¸ªèªå¨æå»ºè¿ç¨ï¼ ä»æ£åºä»£ç ã ç¼è¯æå»ºã è¿è¡æµè¯ã ç»æè®°å½ã æµè¯ç»è®¡ç­é½æ¯èªå¨å®æ çï¼ æ éäººå·¥å¹²é¢\n * ä¸ä¸ªä»£ç å­å¨åºï¼å³éè¦çæ¬æ§å¶è½¯ä»¶æ¥ä¿éä»£ç çå¯ç»´æ¤æ§ï¼åæ¶ä½ä¸ºæå»ºè¿ç¨çç´ æåºï¼ä¸è¬ ä½¿ç¨svnægit\n * ä¸ä¸ªæç»­éææå¡å¨ï¼ jenkins å°±æ¯ä¸ä¸ªéç½®ç®ååä½¿ç¨æ¹ä¾¿çæç»­éææå¡å¨ã\n\n\n\n\n# æç»­éæçå¥½å¤\n\n1ãéä½é£é©ï¼ç±äºæç»­éæä¸æ­å»æå»ºï¼ç¼è¯åæµè¯ï¼å¯ä»¥å¾æ©æåç°é®é¢ï¼æä»¥ä¿®å¤çä»£ä»·å°±å°ï¼\n\n2ãå¯¹ç³»ç»å¥åº·æç»­æ£æ¥ï¼åå°åå¸é£é©å¸¦æ¥çé®é¢ï¼\n\n3ãåå°éå¤æ§å·¥ä½ï¼\n\n4ãæç»­é¨ç½²ï¼æä¾å¯é¨ç½²åååï¼\n\n5ãæç»­äº¤ä»å¯ä¾ä½¿ç¨ççæ¬ï¼\n\n6ãå¢å¼ºå¢éä¿¡å¿ï¼\n\n\n# åèèµæ\n\n * https://www.jianshu.com/p/5f671aca2b5a\n * https://www.bilibili.com/video/bv1kj411p7mv',charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"å³äº - æ",frontmatter:{title:"å³äº - æ",date:"2021-05-16T22:53:19.000Z",permalink:"/pages/038c37/"},regularPath:"/10.%E5%85%B3%E4%BA%8E/01.%E5%85%B3%E4%BA%8E%20-%20%E6%88%91/01.%E5%85%B3%E4%BA%8E%20-%20%E6%88%91.html",relativePath:"10.å³äº/01.å³äº - æ/01.å³äº - æ.md",key:"v-e25da80e",path:"/pages/038c37/",headers:[{level:2,title:"å³äºæ",slug:"å³äºæ",normalizedTitle:"å³äºæ",charIndex:3},{level:2,title:"ç½ç«åè¡·",slug:"ç½ç«åè¡·",normalizedTitle:"ç½ç«åè¡·",charIndex:10},{level:2,title:"å­¦ä¹ èµæ",slug:"å­¦ä¹ èµæ",normalizedTitle:"å­¦ä¹ èµæ",charIndex:18}],headersStr:"å³äºæ ç½ç«åè¡· å­¦ä¹ èµæ",content:" * å³äºæ\n * ç½ç«åè¡·\n * å­¦ä¹ èµæ\n\n\n# å³äºæ\n\n2024å¹´æ¯ä¸ï¼å°±èäºæçµåSaaS ERPå¬å¸ã\n\n\n# ç½ç«åè¡·\n\n * æå»ºèªå·±çç¥è¯ä½ç³»\n\n * çç£èªå·±çå­¦ä¹ \n\n * å¸®å©å¶ä»åå­¦è\n   \n   ç¬è®°åå®¹ä¸æ·±ï¼å¸æè½å¸®å°ä¸äºåå­¦è\n\næ¨èéè¯»ï¼å¦ä½æå»ºèªå·±çç¬è®°ç³»ç»ï¼\n\n\n# å­¦ä¹ èµæ\n\næ¬äººå­¦ä¹  java ä¹æ²¡å¤é¿æ¶é´ï¼è¿æ²¡ç¡¬å®åååºå®å¥½çèªå·±çç¥è¯ä½ç³»ã\n\nå¤§é¨å java ç¬è®°åå©äºçç¥åå°ç¡è°·è¯¾å ç¬è®°ï¼å¨æç« ç»å°¾æå¼å¤´æè§é¢æç¨é¾æ¥å°åä¼ é\n\nç¬è®°å äºç¹èªå·±ççè§£ï¼åå¶ä»ç«ç¹çè®²è§£ã\n\nåå®¹é¾åä¼æé®é¢ï¼å¦æä»»ä½é®é¢ï¼è¯·åä½å¤§ä½¬æ§æ­£ï¼\n\nå¨æ¬é¡¹ç®å°ååå»º âissuesâ",normalizedContent:" * å³äºæ\n * ç½ç«åè¡·\n * å­¦ä¹ èµæ\n\n\n# å³äºæ\n\n2024å¹´æ¯ä¸ï¼å°±èäºæçµåsaas erpå¬å¸ã\n\n\n# ç½ç«åè¡·\n\n * æå»ºèªå·±çç¥è¯ä½ç³»\n\n * çç£èªå·±çå­¦ä¹ \n\n * å¸®å©å¶ä»åå­¦è\n   \n   ç¬è®°åå®¹ä¸æ·±ï¼å¸æè½å¸®å°ä¸äºåå­¦è\n\næ¨èéè¯»ï¼å¦ä½æå»ºèªå·±çç¬è®°ç³»ç»ï¼\n\n\n# å­¦ä¹ èµæ\n\næ¬äººå­¦ä¹  java ä¹æ²¡å¤é¿æ¶é´ï¼è¿æ²¡ç¡¬å®åååºå®å¥½çèªå·±çç¥è¯ä½ç³»ã\n\nå¤§é¨å java ç¬è®°åå©äºçç¥åå°ç¡è°·è¯¾å ç¬è®°ï¼å¨æç« ç»å°¾æå¼å¤´æè§é¢æç¨é¾æ¥å°åä¼ é\n\nç¬è®°å äºç¹èªå·±ççè§£ï¼åå¶ä»ç«ç¹çè®²è§£ã\n\nåå®¹é¾åä¼æé®é¢ï¼å¦æä»»ä½é®é¢ï¼è¯·åä½å¤§ä½¬æ§æ­£ï¼\n\nå¨æ¬é¡¹ç®å°ååå»º âissuesâ",charsets:{cjk:!0},lastUpdated:"2025/09/06, 15:09:00",lastUpdatedTimestamp:1757170909e3},{title:"ä»é¶å¼å§ç¨Jenkinsèªå¨æå»ºé¨ç½²SpringBooté¡¹ç®",frontmatter:{title:"ä»é¶å¼å§ç¨Jenkinsèªå¨æå»ºé¨ç½²SpringBooté¡¹ç®",date:"2021-09-15T14:12:32.000Z",permalink:"/pages/ec9790/"},regularPath:"/05.%E5%B7%A5%E5%85%B7%E9%83%A8%E7%BD%B2/30.Jenkins/04.%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%94%A8Jenkins%E8%87%AA%E5%8A%A8%E6%9E%84%E5%BB%BA%E9%83%A8%E7%BD%B2SpringBoot%E9%A1%B9%E7%9B%AE.html",relativePath:"05.å·¥å·é¨ç½²/30.Jenkins/04.ä»é¶å¼å§ç¨Jenkinsèªå¨æå»ºé¨ç½²SpringBooté¡¹ç®.md",key:"v-6f12cff7",path:"/pages/ec9790/",headers:[{level:2,title:"åææ¡ä»¶",slug:"åææ¡ä»¶",normalizedTitle:"åææ¡ä»¶",charIndex:37},{level:2,title:"å®è£Jenkins",slug:"å®è£jenkins",normalizedTitle:"å®è£jenkins",charIndex:210},{level:2,title:"æä»¶å®è£",slug:"æä»¶å®è£",normalizedTitle:"æä»¶å®è£",charIndex:1956},{level:2,title:"å®è£jdk",slug:"å®è£jdk",normalizedTitle:"å®è£jdk",charIndex:2040},{level:2,title:"å®è£maven",slug:"å®è£maven",normalizedTitle:"å®è£maven",charIndex:2169},{level:2,title:"éç½®ssh",slug:"éç½®ssh",normalizedTitle:"éç½®ssh",charIndex:2223},{level:2,title:"æå»ºé¡¹ç®",slug:"æå»ºé¡¹ç®",normalizedTitle:"æå»ºé¡¹ç®",charIndex:2294},{level:2,title:"æå»ºåèªå¨é¨ç½²",slug:"æå»ºåèªå¨é¨ç½²",normalizedTitle:"æå»ºåèªå¨é¨ç½²",charIndex:2979},{level:2,title:"Gitæäº¤åèªå¨æå»º",slug:"gitæäº¤åèªå¨æå»º",normalizedTitle:"gitæäº¤åèªå¨æå»º",charIndex:3155}],headersStr:"åææ¡ä»¶ å®è£Jenkins æä»¶å®è£ å®è£jdk å®è£maven éç½®ssh æå»ºé¡¹ç® æå»ºåèªå¨é¨ç½² Gitæäº¤åèªå¨æå»º",content:"# ä»é¶å¼å§ç¨Jenkinsèªå¨æå»ºé¨ç½²SpringBooté¡¹ç®\n\n\n# åææ¡ä»¶\n\n * ä¸å°æå¡å¨\n   \n   å»ºè®®éç½®2h4gä»¥ä¸ï¼1h2gçå±å®æç¹ä½äºï¼\n\n * sspringbooté¡¹ç®æå¨ç¨mavenæåï¼ä¸jaråå¯æ­£å¸¸è¿è¡\n   \n   å¦æä½ çæ¯å¤æ¨¡åé¡¹ç®ï¼å¦å¾ï¼ï¼éè¦éç½®å¥½æåï¼å¦åå¯å¨å¤±è´¥\n   \n   \n   \n   å°±åè¿æ ·çé¡¹ç®ï¼å¯æµè§æç« ï¼SpringBootå¤æ¨¡åæåæ¹å¼\n\n\n# å®è£Jenkins\n\nå®è£æç¨å¯çè§é¢ï¼https://www.bilibili.com/video/BV1wA411c7aS\n\n1ãå®è£\n\ndocker pull jenkins/jenkins:lts\n\n\n1\n\n\n2ãåå»ºç®å½\n\n[root@localhost data]# mkdir jenkins_home\n[root@localhost data]# ls\ndocker  jenkins_home\n\n\n1\n2\n3\n\n\n3ãå¯å¨\n\ndocker run -di --name=jenkins -p 8080:8080 -v /data/jenkins_home:/var/jenkins_home jenkins/jenkins:lts\n\n\n1\n\n\nå¯å¨å¤±è´¥ï¼\n\n[root@localhost data]# docker logs  d6b5baf89d6b\ntouch: cannot touch '/var/jenkins_home/copy_reference_file.log': Permission denied\nCan not write to /var/jenkins_home/copy_reference_file.log. Wrong volume permissions?\ntouch: cannot touch '/var/jenkins_home/copy_reference_file.log': Permission denied\nCan not write to /var/jenkins_home/copy_reference_file.log. Wrong volume permissions?\n\n\n1\n2\n3\n4\n5\n\n\næéï¼\n\nchown -R 1000 /data/jenkins_home\n\n\n1\n\n\nåéæ°å¯å¨ï¼ç­å¯å¨å·¥ä½å®æ¯å\n\n\n\næ¥çå®¹å¨æ¥å¿ï¼\n\ndocker logs jenkins\n\n\n1\n\n\n\n\nç®­å¤´ææå°±æ¯å¯ç \n\n> æ¹æ³äºï¼\n\n[root@localhost data]# cd jenkins_home/secrets/\n[root@localhost secrets]# ll\næ»ç¨é 20\ndrwxr-xr-x 2 www www  29 9æ  14 18:45 filepath-filters.d\n-rw-r----- 1 www www  33 9æ  14 18:45 initialAdminPassword\n-rw-r--r-- 1 www www  32 9æ  14 18:45 jenkins.model.Jenkins.crumbSalt\n-rw-r--r-- 1 www www 256 9æ  14 18:45 master.key\n-rw-r--r-- 1 www www 272 9æ  14 18:45 org.jenkinsci.main.modules.instance_identity.InstanceIdentity.KEY\n-rw-r--r-- 1 www www   5 9æ  14 18:45 slave-to-master-security-kill-switch\ndrwxr-xr-x 2 www www  26 9æ  14 18:45 whitelisted-callables.d\n[root@localhost secrets]# cat initialAdminPassword\n730edbb8adcd4ae7b58f14ac3ccd001d\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nJenkinsä¿®æ¹åå§å¯ç :https://www.pianshen.com/article/7582333512/\n\n5ãè¿å¥é¡µé¢åï¼éæ©æ¨èçæä»¶\n\n\n\nå¨é¨å®è£æååï¼\n\n\n\næä¸äºä¼å®è£å¤±è´¥ï¼æç¨çæå¡å¨ï¼ç¨èææºçç±äºæå¢å¯è½è®¿é®ä¸å°githubï¼\n\n\n\nç¹å»éè¯å\n\n\n\nå¤§é¨åé½è£ä¸äºï¼æå ä¸ªå¯è½ä¼è£ä¸ä¸ï¼å°æ¶åå¯ä»¥æå¨å®è£ï¼åç¹ç¡®å®\n\nç¶ååå»ºç¨æ·\n\n\n\nä¸ä¸æ­¥ï¼URLä¸ºï¼jenkinsçIP:ç«¯å£\n\n\n\n\n# æä»¶å®è£\n\n\n\næç´¢æä»¶ sshï¼çº¢è²ä»£è¡¨ä¸jenkinsçæ¬ä¸å¹éï¼\n\n\n\nå®è£å¤±è´¥éæ°å®è£å³å¯ï¼\n\nç¬¬ä¸è¡è¡¨ç¤ºä¹åçå®è£çæ¥å¿ï¼ç­å¾æ åæèè²ä»£è¡¨å®è£æå\n\n\n# å®è£jdk\n\nå¨å±å·¥å·éç½®\n\n\n\nç¹æ°å¢JDKï¼éæ©çæ¬ï¼ç»å½ä¸oracleè´¦å·ï¼2696671285@qq.com Oracle123\n\nè´¦å·ä¸ºupä¸»æä¾çï¼https://www.bilibili.com/video/BV1wA411c7aS\n\n\n\nä¹åå®è£mavenï¼å¦æä½ çé¡¹ç®ä¸æ¯mavenåå®è£å«çæä»¶ï¼\n\n\n# å®è£maven\n\nç¹å»ä¿å­\n\n\n\n\n# éç½®ssh\n\n\n\næç´¢ ssh\n\n\n\næ·»å sshçipåç«¯å£ ï¼ ç¹å»æ·»å \n\n\n\næ·»å æå¡å¨çè´¦å·åå¯ç \n\n\n\næ£æµè¿æ¥æ¯å¦æå\n\n\n\n\n# æå»ºé¡¹ç®\n\n1ãæ°å»ºé¡¹ç®\n\n\n\n2ãè¾å¥ä»»å¡åç§°ï¼éæ©maven\n\næ²¡æè¿ä¸ªé¡¹ç®åä¸è½½mavenæä»¶ï¼ç¾åº¦å³å¯ï¼\n\nMaven Integration plugin\n\n\n\n3ãè®¾ç½®æºç ç®¡ç\n\n\n\nè®°å¾æ·»å ä½ çgiteeè´¦å·å¯ç çå­æ®\n\n4ãè®¾ç½®Maven\n\n\n\nè®¾ç½®\n\nclean package\n\n\n1\n\n\n\n\nç¶åæä»¬åæå»ºä¸ï¼ç­å¾ç»æ\n\n\n\nä½æ¯mavenä¸è½½ä¾èµéåº¦å¤ªæ¢ï¼æä»¬å¯ä»¥æå¨å³é­æå»ºï¼æéåéç½®ä¸ºé¿éäºéå\n\n5ãä¿®æ¹mavenéç½®\n\néç½®æä»¶å¨ä½ çjenkinsæ°æ®ç®å½ä¸ï¼ä¾å¦æçå°±æ¯ï¼\n\n/data/jenkins_home/tools/hudson.tasks.Maven_MavenInstallation\n\næç§ååæ¹æ³ä¿®æ¹éç½®æä»¶ï¼æmavenè¿ç¨ä»åºå°åæ¹æé¿éäºçï¼è¿æ­¥å°±ä¸ç¨è¯¦ç»è¯´äºå§ã\n\n6ãéæ°æå»º\n\nç¹å» ç«å³æå»º\n\nè¿æ¬¡ä¸è½½éåº¦å°±å¿«äºï¼æå»ºå¥½çjaråç®å½å¨ï¼\n\n/data/jenkins_home/workspace/jekins-test/service/target\n\njekins-testï¼æ¯ä»»å¡åç§°ï¼æåå»ºä»»å¡æ¶ï¼å°æäºä¸ªnï¼\n\néä¸­æ¥çæ§å¶å°è¾åº\n\n\n\næ ¹æ®è¾åºå°±è½çå°jarççæç®å½\n\n\n\nç¶åæä»¬å¯å¨ççæ¯å¦æ­£å¸¸\n\ncd /data/jenkins_home/workspace/jekins-test/service/target\nnohup java -jar service-0.0.1-SNAPSHOT.jar > /data/journalism/logs.txt &\n\n\n1\n2\n\n\n\n# æå»ºåèªå¨é¨ç½²\n\n8160æ¯æçspringbootæå¡ç«¯å£\n\nnetstat  -nlp|grep 8160\n\n\n1\n\n\nå¼ºå¶ææ­»æä¸ªç«¯å£è¿ç¨å½ä»¤ï¼å³é­jarå\n\nsudo fuser -k -n tcp 8160\n\n\n1\n\n\nè¯·åæåæå¼å¯çjaråæå¡å³æ\n\nè®¾ç½®æå»ºç¯å¢éç½®ï¼æå»ºåæä½ï¼æå»ºåå°±ä¸ç¨è®¾ç½®ï¼æµè¯è¿ï¼å¡«äºå°±åºç°éè¯¯ï¼\n\n\n\n\n# Gitæäº¤åèªå¨æå»º\n\n1ãéç½®URLæå»ºè§¦åå¨\n\nä»¤çéä¾¿è¾ï¼URLæ ¼å¼å°±æ¯ä¸é¢é£ä¸ªè±æè¯´æï¼æ ¹æ®èªå·±çä¿®æ¹\n\n\n\n2ãéç½®GiteeçWebHooks\n\næè¿éç¨çGiteeï¼å­¦æ ¡ç½è¿GitHubå¾ä¸ç¨³å®ï¼å°±éæ©Giteeäºï¼\n\nGiteeé¡¹ç®éè®¾ç½®URLåç§é¥\n\nä¸ºäºå®å¨èªå·±åä¸ªæå¡ç¨æ¥è®¿é®è§¦åJenkinsæå»ºçURLï¼ä¸ç´æ¥è¾å¥ä¹åçURL\n\nä¾å¦ï¼æç¨çphpï¼ä»£ç å¨ä¸æ¹\n\n\n\n3ãæ·»å ç¨æ·token\n\n\n\nçæï¼ä¿å­tokenä¿¡æ¯\n\n\n\nä¿®æ¹urlï¼ä¾å¦æçï¼æ ¹æ®èªå·±è§åè®¾ç½®\n\nhttp://ç¨æ·å:token@ip:ç«¯å£/job/jekins-test/build?token=è®¾ç½®çtoken\n\nè¯¦æè®¿é®ï¼éè¿URLè§¦åJenkinsæå»º\n\nphpä»£ç å¦ä¸ï¼ä¿®æ¹URLåç§é¥ï¼ï¼\n\n<?php\n\n//æ¥æ¶å¤´ä¿¡æ¯\n function em_getallheaders()\n{\n   foreach ($_SERVER as $name => $value)\n   {\n       if (substr($name, 0, 5) == 'HTTP_')\n       {\n           $headers[str_replace(' ', '-', ucwords(strtolower(str_replace('_', ' ', substr($name, 5)))))] = $value;\n       }\n   }\n   return $headers;\n}\n\n//åéè¯·æ±\nfunction getSslPage($url) {\n    $ch = curl_init();\n    curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, FALSE);\n    curl_setopt($ch, CURLOPT_HEADER, false);\n    curl_setopt($ch, CURLOPT_FOLLOWLOCATION, true);\n    curl_setopt($ch, CURLOPT_URL, $url);\n    curl_setopt($ch, CURLOPT_REFERER, $url);\n    curl_setopt($ch, CURLOPT_RETURNTRANSFER, TRUE);\n    $result = curl_exec($ch);\n    curl_close($ch);\n    return $result;\n}\n\n$url = \"ä½ çURL\";\n\n$headers = em_getallheaders();\n//æ¯å¦ç­äºGiteeè®¾ç½®çç§é¥\nif($headers['X-Gitee-Token'] == \"ä½ è®¾ç½®çç§é¥\"){\n    //è°ç¨\n    getSslPage($url);\n    echo \"ok\";\n}else{\n    echo \"no\";\n}\n\nprint_r($headers['X-Gitee-Token']) ;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n\n4ãå®ææµè¯\n\næ´æ¹ä»£ç ï¼pushå°Gitee\n\n\n\nGiteeè¯·æ±æå\n\n\n\njenkinsæå»ºæå\n\n",normalizedContent:"# ä»é¶å¼å§ç¨jenkinsèªå¨æå»ºé¨ç½²springbooté¡¹ç®\n\n\n# åææ¡ä»¶\n\n * ä¸å°æå¡å¨\n   \n   å»ºè®®éç½®2h4gä»¥ä¸ï¼1h2gçå±å®æç¹ä½äºï¼\n\n * sspringbooté¡¹ç®æå¨ç¨mavenæåï¼ä¸jaråå¯æ­£å¸¸è¿è¡\n   \n   å¦æä½ çæ¯å¤æ¨¡åé¡¹ç®ï¼å¦å¾ï¼ï¼éè¦éç½®å¥½æåï¼å¦åå¯å¨å¤±è´¥\n   \n   \n   \n   å°±åè¿æ ·çé¡¹ç®ï¼å¯æµè§æç« ï¼springbootå¤æ¨¡åæåæ¹å¼\n\n\n# å®è£jenkins\n\nå®è£æç¨å¯çè§é¢ï¼https://www.bilibili.com/video/bv1wa411c7as\n\n1ãå®è£\n\ndocker pull jenkins/jenkins:lts\n\n\n1\n\n\n2ãåå»ºç®å½\n\n[root@localhost data]# mkdir jenkins_home\n[root@localhost data]# ls\ndocker  jenkins_home\n\n\n1\n2\n3\n\n\n3ãå¯å¨\n\ndocker run -di --name=jenkins -p 8080:8080 -v /data/jenkins_home:/var/jenkins_home jenkins/jenkins:lts\n\n\n1\n\n\nå¯å¨å¤±è´¥ï¼\n\n[root@localhost data]# docker logs  d6b5baf89d6b\ntouch: cannot touch '/var/jenkins_home/copy_reference_file.log': permission denied\ncan not write to /var/jenkins_home/copy_reference_file.log. wrong volume permissions?\ntouch: cannot touch '/var/jenkins_home/copy_reference_file.log': permission denied\ncan not write to /var/jenkins_home/copy_reference_file.log. wrong volume permissions?\n\n\n1\n2\n3\n4\n5\n\n\næéï¼\n\nchown -r 1000 /data/jenkins_home\n\n\n1\n\n\nåéæ°å¯å¨ï¼ç­å¯å¨å·¥ä½å®æ¯å\n\n\n\næ¥çå®¹å¨æ¥å¿ï¼\n\ndocker logs jenkins\n\n\n1\n\n\n\n\nç®­å¤´ææå°±æ¯å¯ç \n\n> æ¹æ³äºï¼\n\n[root@localhost data]# cd jenkins_home/secrets/\n[root@localhost secrets]# ll\næ»ç¨é 20\ndrwxr-xr-x 2 www www  29 9æ  14 18:45 filepath-filters.d\n-rw-r----- 1 www www  33 9æ  14 18:45 initialadminpassword\n-rw-r--r-- 1 www www  32 9æ  14 18:45 jenkins.model.jenkins.crumbsalt\n-rw-r--r-- 1 www www 256 9æ  14 18:45 master.key\n-rw-r--r-- 1 www www 272 9æ  14 18:45 org.jenkinsci.main.modules.instance_identity.instanceidentity.key\n-rw-r--r-- 1 www www   5 9æ  14 18:45 slave-to-master-security-kill-switch\ndrwxr-xr-x 2 www www  26 9æ  14 18:45 whitelisted-callables.d\n[root@localhost secrets]# cat initialadminpassword\n730edbb8adcd4ae7b58f14ac3ccd001d\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\njenkinsä¿®æ¹åå§å¯ç :https://www.pianshen.com/article/7582333512/\n\n5ãè¿å¥é¡µé¢åï¼éæ©æ¨èçæä»¶\n\n\n\nå¨é¨å®è£æååï¼\n\n\n\næä¸äºä¼å®è£å¤±è´¥ï¼æç¨çæå¡å¨ï¼ç¨èææºçç±äºæå¢å¯è½è®¿é®ä¸å°githubï¼\n\n\n\nç¹å»éè¯å\n\n\n\nå¤§é¨åé½è£ä¸äºï¼æå ä¸ªå¯è½ä¼è£ä¸ä¸ï¼å°æ¶åå¯ä»¥æå¨å®è£ï¼åç¹ç¡®å®\n\nç¶ååå»ºç¨æ·\n\n\n\nä¸ä¸æ­¥ï¼urlä¸ºï¼jenkinsçip:ç«¯å£\n\n\n\n\n# æä»¶å®è£\n\n\n\næç´¢æä»¶ sshï¼çº¢è²ä»£è¡¨ä¸jenkinsçæ¬ä¸å¹éï¼\n\n\n\nå®è£å¤±è´¥éæ°å®è£å³å¯ï¼\n\nç¬¬ä¸è¡è¡¨ç¤ºä¹åçå®è£çæ¥å¿ï¼ç­å¾æ åæèè²ä»£è¡¨å®è£æå\n\n\n# å®è£jdk\n\nå¨å±å·¥å·éç½®\n\n\n\nç¹æ°å¢jdkï¼éæ©çæ¬ï¼ç»å½ä¸oracleè´¦å·ï¼2696671285@qq.com oracle123\n\nè´¦å·ä¸ºupä¸»æä¾çï¼https://www.bilibili.com/video/bv1wa411c7as\n\n\n\nä¹åå®è£mavenï¼å¦æä½ çé¡¹ç®ä¸æ¯mavenåå®è£å«çæä»¶ï¼\n\n\n# å®è£maven\n\nç¹å»ä¿å­\n\n\n\n\n# éç½®ssh\n\n\n\næç´¢ ssh\n\n\n\næ·»å sshçipåç«¯å£ ï¼ ç¹å»æ·»å \n\n\n\næ·»å æå¡å¨çè´¦å·åå¯ç \n\n\n\næ£æµè¿æ¥æ¯å¦æå\n\n\n\n\n# æå»ºé¡¹ç®\n\n1ãæ°å»ºé¡¹ç®\n\n\n\n2ãè¾å¥ä»»å¡åç§°ï¼éæ©maven\n\næ²¡æè¿ä¸ªé¡¹ç®åä¸è½½mavenæä»¶ï¼ç¾åº¦å³å¯ï¼\n\nmaven integration plugin\n\n\n\n3ãè®¾ç½®æºç ç®¡ç\n\n\n\nè®°å¾æ·»å ä½ çgiteeè´¦å·å¯ç çå­æ®\n\n4ãè®¾ç½®maven\n\n\n\nè®¾ç½®\n\nclean package\n\n\n1\n\n\n\n\nç¶åæä»¬åæå»ºä¸ï¼ç­å¾ç»æ\n\n\n\nä½æ¯mavenä¸è½½ä¾èµéåº¦å¤ªæ¢ï¼æä»¬å¯ä»¥æå¨å³é­æå»ºï¼æéåéç½®ä¸ºé¿éäºéå\n\n5ãä¿®æ¹mavenéç½®\n\néç½®æä»¶å¨ä½ çjenkinsæ°æ®ç®å½ä¸ï¼ä¾å¦æçå°±æ¯ï¼\n\n/data/jenkins_home/tools/hudson.tasks.maven_maveninstallation\n\næç§ååæ¹æ³ä¿®æ¹éç½®æä»¶ï¼æmavenè¿ç¨ä»åºå°åæ¹æé¿éäºçï¼è¿æ­¥å°±ä¸ç¨è¯¦ç»è¯´äºå§ã\n\n6ãéæ°æå»º\n\nç¹å» ç«å³æå»º\n\nè¿æ¬¡ä¸è½½éåº¦å°±å¿«äºï¼æå»ºå¥½çjaråç®å½å¨ï¼\n\n/data/jenkins_home/workspace/jekins-test/service/target\n\njekins-testï¼æ¯ä»»å¡åç§°ï¼æåå»ºä»»å¡æ¶ï¼å°æäºä¸ªnï¼\n\néä¸­æ¥çæ§å¶å°è¾åº\n\n\n\næ ¹æ®è¾åºå°±è½çå°jarççæç®å½\n\n\n\nç¶åæä»¬å¯å¨ççæ¯å¦æ­£å¸¸\n\ncd /data/jenkins_home/workspace/jekins-test/service/target\nnohup java -jar service-0.0.1-snapshot.jar > /data/journalism/logs.txt &\n\n\n1\n2\n\n\n\n# æå»ºåèªå¨é¨ç½²\n\n8160æ¯æçspringbootæå¡ç«¯å£\n\nnetstat  -nlp|grep 8160\n\n\n1\n\n\nå¼ºå¶ææ­»æä¸ªç«¯å£è¿ç¨å½ä»¤ï¼å³é­jarå\n\nsudo fuser -k -n tcp 8160\n\n\n1\n\n\nè¯·åæåæå¼å¯çjaråæå¡å³æ\n\nè®¾ç½®æå»ºç¯å¢éç½®ï¼æå»ºåæä½ï¼æå»ºåå°±ä¸ç¨è®¾ç½®ï¼æµè¯è¿ï¼å¡«äºå°±åºç°éè¯¯ï¼\n\n\n\n\n# gitæäº¤åèªå¨æå»º\n\n1ãéç½®urlæå»ºè§¦åå¨\n\nä»¤çéä¾¿è¾ï¼urlæ ¼å¼å°±æ¯ä¸é¢é£ä¸ªè±æè¯´æï¼æ ¹æ®èªå·±çä¿®æ¹\n\n\n\n2ãéç½®giteeçwebhooks\n\næè¿éç¨çgiteeï¼å­¦æ ¡ç½è¿githubå¾ä¸ç¨³å®ï¼å°±éæ©giteeäºï¼\n\ngiteeé¡¹ç®éè®¾ç½®urlåç§é¥\n\nä¸ºäºå®å¨èªå·±åä¸ªæå¡ç¨æ¥è®¿é®è§¦åjenkinsæå»ºçurlï¼ä¸ç´æ¥è¾å¥ä¹åçurl\n\nä¾å¦ï¼æç¨çphpï¼ä»£ç å¨ä¸æ¹\n\n\n\n3ãæ·»å ç¨æ·token\n\n\n\nçæï¼ä¿å­tokenä¿¡æ¯\n\n\n\nä¿®æ¹urlï¼ä¾å¦æçï¼æ ¹æ®èªå·±è§åè®¾ç½®\n\nhttp://ç¨æ·å:token@ip:ç«¯å£/job/jekins-test/build?token=è®¾ç½®çtoken\n\nè¯¦æè®¿é®ï¼éè¿urlè§¦åjenkinsæå»º\n\nphpä»£ç å¦ä¸ï¼ä¿®æ¹urlåç§é¥ï¼ï¼\n\n<?php\n\n//æ¥æ¶å¤´ä¿¡æ¯\n function em_getallheaders()\n{\n   foreach ($_server as $name => $value)\n   {\n       if (substr($name, 0, 5) == 'http_')\n       {\n           $headers[str_replace(' ', '-', ucwords(strtolower(str_replace('_', ' ', substr($name, 5)))))] = $value;\n       }\n   }\n   return $headers;\n}\n\n//åéè¯·æ±\nfunction getsslpage($url) {\n    $ch = curl_init();\n    curl_setopt($ch, curlopt_ssl_verifypeer, false);\n    curl_setopt($ch, curlopt_header, false);\n    curl_setopt($ch, curlopt_followlocation, true);\n    curl_setopt($ch, curlopt_url, $url);\n    curl_setopt($ch, curlopt_referer, $url);\n    curl_setopt($ch, curlopt_returntransfer, true);\n    $result = curl_exec($ch);\n    curl_close($ch);\n    return $result;\n}\n\n$url = \"ä½ çurl\";\n\n$headers = em_getallheaders();\n//æ¯å¦ç­äºgiteeè®¾ç½®çç§é¥\nif($headers['x-gitee-token'] == \"ä½ è®¾ç½®çç§é¥\"){\n    //è°ç¨\n    getsslpage($url);\n    echo \"ok\";\n}else{\n    echo \"no\";\n}\n\nprint_r($headers['x-gitee-token']) ;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n\n4ãå®ææµè¯\n\næ´æ¹ä»£ç ï¼pushå°gitee\n\n\n\ngiteeè¯·æ±æå\n\n\n\njenkinsæå»ºæå\n\n",charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"ææ¡£ - å¿«éä¸æ",frontmatter:{title:"ææ¡£ - å¿«éä¸æ",date:"2021-05-16T22:47:39.000Z",permalink:"/pages/c6c456/"},regularPath:"/10.%E5%85%B3%E4%BA%8E/02.%E5%85%B3%E4%BA%8E%20-%20%E6%9C%AC%E7%AB%99/02.%E6%96%87%E6%A1%A3%20-%20%20%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B.html",relativePath:"10.å³äº/02.å³äº - æ¬ç«/02.ææ¡£ -  å¿«éä¸æ.md",key:"v-8e9c4c14",path:"/pages/c6c456/",headers:[{level:2,title:"åå¤",slug:"åå¤",normalizedTitle:"åå¤",charIndex:3},{level:2,title:"å¿«éå¼å§",slug:"å¿«éå¼å§",normalizedTitle:"å¿«éå¼å§",charIndex:9},{level:2,title:"éç½®ä¿¡æ¯ä¿®æ¹",slug:"éç½®ä¿¡æ¯ä¿®æ¹",normalizedTitle:"éç½®ä¿¡æ¯ä¿®æ¹",charIndex:17},{level:2,title:"è¯¦æè¯·ç",slug:"è¯¦æè¯·ç",normalizedTitle:"è¯¦æè¯·ç",charIndex:27}],headersStr:"åå¤ å¿«éå¼å§ éç½®ä¿¡æ¯ä¿®æ¹ è¯¦æè¯·ç",content:" * åå¤\n * å¿«éå¼å§\n * éç½®ä¿¡æ¯ä¿®æ¹\n * è¯¦æè¯·ç\n\nä½¿ç¨ vuepress åä¸»é¢ vdoing ï¼èªå¨é¨ç½²å¨GitHub Pages\n\nçº¯æ°æå¯ç bilibili ç vuepress è§é¢æç¨ï¼https://www.bilibili.com/video/BV17t41177cr\n\n\n# åå¤\n\nVuePress éè¦ Node.js >= 8.6\n\né¦åéè¦ä¸è½½ Node.js\n\n 1. åéå°æ¬å°å¹¶è¿å¥ç®å½\n    \n    git clone https://github.com/oddfar/notes.git && cd notes\n    \n    \n    1\n    \n    \n    æ gitee å°åï¼\n    \n    git clone https://gitee.com/oddfar/notes.git && cd notes\n    \n    \n    1\n    \n\n 2. å®è£æ¬å°ä¾èµ\n    \n    npm install\n    \n    \n    1\n    \n\n 3. æ¬å°æµè¯\n    \n    npm run dev\n    \n    \n    1\n    \n    \n    é»è®¤è®¿é®é¾æ¥ï¼http://localhost:8080\n\n\n# å¿«éå¼å§\n\nä½¿ç¨ markdown è¯­æ³ç¼å md æä»¶ï¼ææç¬è®° md æä»¶æ¾å¨ docs/ ç®å½ä¸\n\nä¾å¦æ·»å  test ç±»ï¼å¹¶ç¼å hello.md æä»¶\n\n 1. åå»ºç®å½\n    \n    æ ¼å¼ï¼åºå·+æ é¢\n    \n    ä¾å¦ï¼30.test\n\n 2. æ·»å ç¬è®°\n    \n    ä¾å¦ï¼01.hello.md\n\n 3. ç¼ååå®¹\n    \n    ## æ é¢\n    \n    hello world\n    \n    \n    1\n    2\n    3\n    \n\n 4. æµè¯è¿è¡\n    \n    å¨é¡¹ç®æ ¹ç®å½ä¸\n    \n    npm run dev\n    \n    \n    1\n    \n    \n    ä¼èªå¨çæ\n    \n    tittleï¼æ é¢ï¼é»è®¤æä»¶åï¼å³ hello\n    \n    permalinkï¼è®¿é®é¾æ¥\n    \n    dateï¼æ¥æï¼é»è®¤æä»¶åå»ºæ¶é´\n\n\n# éç½®ä¿¡æ¯ä¿®æ¹\n\nä¸äºå¸¸ç¨ç\n\nç®å½ docs\\.vuepress ä¸\n\n * config.js\n   \n   ä¿®æ¹ vuepress åä¸»é¢ä¸äºéç½®\n\n * config\\nav.js\n   \n   ä¿®æ¹é¦é¡µå¯¼èªæ \n\n\n# è¯¦æè¯·ç\n\nå³äº vuepress çéç½®ï¼\n\n * vuepresså®æ¹ææ¡£\n\n * vdoingä¸»é¢ä»ç»ææ¡£",normalizedContent:" * åå¤\n * å¿«éå¼å§\n * éç½®ä¿¡æ¯ä¿®æ¹\n * è¯¦æè¯·ç\n\nä½¿ç¨ vuepress åä¸»é¢ vdoing ï¼èªå¨é¨ç½²å¨github pages\n\nçº¯æ°æå¯ç bilibili ç vuepress è§é¢æç¨ï¼https://www.bilibili.com/video/bv17t41177cr\n\n\n# åå¤\n\nvuepress éè¦ node.js >= 8.6\n\né¦åéè¦ä¸è½½ node.js\n\n 1. åéå°æ¬å°å¹¶è¿å¥ç®å½\n    \n    git clone https://github.com/oddfar/notes.git && cd notes\n    \n    \n    1\n    \n    \n    æ gitee å°åï¼\n    \n    git clone https://gitee.com/oddfar/notes.git && cd notes\n    \n    \n    1\n    \n\n 2. å®è£æ¬å°ä¾èµ\n    \n    npm install\n    \n    \n    1\n    \n\n 3. æ¬å°æµè¯\n    \n    npm run dev\n    \n    \n    1\n    \n    \n    é»è®¤è®¿é®é¾æ¥ï¼http://localhost:8080\n\n\n# å¿«éå¼å§\n\nä½¿ç¨ markdown è¯­æ³ç¼å md æä»¶ï¼ææç¬è®° md æä»¶æ¾å¨ docs/ ç®å½ä¸\n\nä¾å¦æ·»å  test ç±»ï¼å¹¶ç¼å hello.md æä»¶\n\n 1. åå»ºç®å½\n    \n    æ ¼å¼ï¼åºå·+æ é¢\n    \n    ä¾å¦ï¼30.test\n\n 2. æ·»å ç¬è®°\n    \n    ä¾å¦ï¼01.hello.md\n\n 3. ç¼ååå®¹\n    \n    ## æ é¢\n    \n    hello world\n    \n    \n    1\n    2\n    3\n    \n\n 4. æµè¯è¿è¡\n    \n    å¨é¡¹ç®æ ¹ç®å½ä¸\n    \n    npm run dev\n    \n    \n    1\n    \n    \n    ä¼èªå¨çæ\n    \n    tittleï¼æ é¢ï¼é»è®¤æä»¶åï¼å³ hello\n    \n    permalinkï¼è®¿é®é¾æ¥\n    \n    dateï¼æ¥æï¼é»è®¤æä»¶åå»ºæ¶é´\n\n\n# éç½®ä¿¡æ¯ä¿®æ¹\n\nä¸äºå¸¸ç¨ç\n\nç®å½ docs\\.vuepress ä¸\n\n * config.js\n   \n   ä¿®æ¹ vuepress åä¸»é¢ä¸äºéç½®\n\n * config\\nav.js\n   \n   ä¿®æ¹é¦é¡µå¯¼èªæ \n\n\n# è¯¦æè¯·ç\n\nå³äº vuepress çéç½®ï¼\n\n * vuepresså®æ¹ææ¡£\n\n * vdoingä¸»é¢ä»ç»ææ¡£",charsets:{cjk:!0},lastUpdated:"2021/08/03, 15:08:00",lastUpdatedTimestamp:1628003018e3},{title:"ææ¡£ - mdæä»¶åä½",frontmatter:{title:"ææ¡£ - mdæä»¶åä½",date:"2021-05-30T00:13:42.000Z",permalink:"/pages/2a3030/"},regularPath:"/10.%E5%85%B3%E4%BA%8E/02.%E5%85%B3%E4%BA%8E%20-%20%E6%9C%AC%E7%AB%99/03.%E6%96%87%E6%A1%A3%20-%20md%E6%96%87%E4%BB%B6%E5%86%99%E4%BD%9C.html",relativePath:"10.å³äº/02.å³äº - æ¬ç«/03.ææ¡£ - mdæä»¶åä½.md",key:"v-54f3eee1",path:"/pages/2a3030/",headers:[{level:2,title:"æ¨èåä½è½¯ä»¶",slug:"æ¨èåä½è½¯ä»¶",normalizedTitle:"æ¨èåä½è½¯ä»¶",charIndex:2},{level:2,title:"å¾çè¦æ±",slug:"å¾çè¦æ±",normalizedTitle:"å¾çè¦æ±",charIndex:176},{level:2,title:"æä»¶å½åçº¦å®",slug:"æä»¶å½åçº¦å®",normalizedTitle:"æä»¶å½åçº¦å®",charIndex:302},{level:2,title:"çº§å«è¯´æ",slug:"çº§å«è¯´æ",normalizedTitle:"çº§å«è¯´æ",charIndex:602}],headersStr:"æ¨èåä½è½¯ä»¶ å¾çè¦æ± æä»¶å½åçº¦å® çº§å«è¯´æ",content:"# æ¨èåä½è½¯ä»¶\n\næ¨èå markdown è½¯ä»¶\n\n 1. Typora\n    \n    ä¸è½½å³ç¨\n\n 2. vs code\n    \n    éè¦ä¸è½½ markdown æä»¶\n    \n    éé¢ç»ç«¯å¯è®¾ç½® git bash ç»ç«¯ï¼æ¹ä¾¿è°è¯ï¼éåç¨åºåä½¿ç¨\n    \n    è®¾ç½®æç¨ï¼æ°çæ¬VS Code ç»ç«¯è®¾ç½®ä¸ºgit bash\n\n\n# å¾çè¦æ±\n\nå¾çå°åå¿é¡»æ¯å¯å¨çº¿è®¿é®çé¾æ¥ï¼ä¸è½æ¯æ¬å°å¾ç\n\nå¯ä»¥ç¨ GitHub+PicGo+jsDelivr æ­å»ºåè´¹å¾åº\n\nå¦ä½åè´¹æ­å»ºå¾åºï¼å¹¶å¨markdownä¸­ä½¿ç¨æç¨ï¼https://oddfar.com/archives/91/\n\n\n# æä»¶å½åçº¦å®\n\n * æ è®ºæ¯æä»¶è¿æ¯æä»¶å¤¹ï¼è¯·ä¸ºå¶åç§°æ·»å ä¸æ­£ç¡®çæ­£æ´æ°åºå·å.ï¼ä»00æ01å¼å§ç´¯è®¡ï¼å¦01.æä»¶å¤¹ã02.æä»¶.mdï¼æä»¬å°ä¼æç§åºå·çé¡ºåºæ¥å³å®å¶å¨ä¾§è¾¹æ å½ä¸­çé¡ºåºã\n * åä¸çº§å«ç®å½å«åå³ä½¿åªæä¸ä¸ªæä»¶ææä»¶å¤¹ä¹è¦ä¸ºå¶å ä¸åºå·ã\n * æä»¶ææä»¶å¤¹åç§°ä¸­é´ä¸è½åºç°å¤ä½çç¹.ï¼å¦01.ææ¯.åç§°.mdä¸­é´åºç°.å°ä¼å¯¼è´è§£æéè¯¯ã\n\nåºå·åªæ¯ç¨äºå³å®ååé¡ºåºï¼å¹¶ä¸ä¸å®éè¦è¿çï¼å¦01ã02ã03...ï¼å®éå·¥ä½ä¸­å¯è½ä¼å¨ä¸¤ä¸ªæç« ä¸­é´æå¥ä¸ç¯æ°çæç« ï¼å æ­¤ä¸ºäºæ¹ä¾¿å¯ä»¥éç¨é´éåºå·10ã20ã30...ï¼åé¢å¦æéè¦å¨10å20ä¸­é´æå¥ä¸ç¯æ°æç« ï¼å¯ä»¥ç»å®åºå·15ã\n\n\n# çº§å«è¯´æ\n\næºç®å½ï¼ä¸è¬æ¯docsï¼åºä¸ççº§å«ç°å¨æä»¬ç§°ä¹ä¸ºä¸çº§ç®å½ï¼ä¸çº§ç®å½çä¸ä¸çº§ä¸ºäºçº§ç®å½ï¼ä»¥æ­¤ç±»æ¨ï¼æå¤å°åçº§ç®å½ã\n\n * ä¸çº§ç®å½\n   1. .vuepressã@pagesã_postsãindex.md æ README.md è¿äºæä»¶(æä»¶å¤¹)ä¸åä¸æ°æ®çæã\n   2. åºå·éå¿é¡»ãï¼å¦ä¸äºä¸æ ï¼å¯ä»¥ä¸ç¨åºå·)\n * äºçº§ç®å½\n   1. è¯¥çº§å«ä¸å¯ä»¥åæ¶æ¾æä»¶å¤¹å.mdæä»¶ï¼ä½æ¯ä¸¤èåºå·è¦è¿è´¯ï¼åèä¸é¢çä¾å­ä¸­çå¶ä»ï¼ã\n   2. å¿é¡»æåºå·\n * ä¸çº§ç®å½\n   * (åä¸)\n * åçº§ç®å½\n   1. è¯¥çº§å«ä¸åªè½æ¾.mdæä»¶ã\n   2. å¿é¡»æåºå·\n\nææçº§å«åè³å°æä¸ä¸ªæä»¶ææä»¶å¤¹ã\n\nvdoingä¸»é¢ä»ç»ææ¡£ï¼https://doc.xugaoyi.com/pages/33d574/",normalizedContent:"# æ¨èåä½è½¯ä»¶\n\næ¨èå markdown è½¯ä»¶\n\n 1. typora\n    \n    ä¸è½½å³ç¨\n\n 2. vs code\n    \n    éè¦ä¸è½½ markdown æä»¶\n    \n    éé¢ç»ç«¯å¯è®¾ç½® git bash ç»ç«¯ï¼æ¹ä¾¿è°è¯ï¼éåç¨åºåä½¿ç¨\n    \n    è®¾ç½®æç¨ï¼æ°çæ¬vs code ç»ç«¯è®¾ç½®ä¸ºgit bash\n\n\n# å¾çè¦æ±\n\nå¾çå°åå¿é¡»æ¯å¯å¨çº¿è®¿é®çé¾æ¥ï¼ä¸è½æ¯æ¬å°å¾ç\n\nå¯ä»¥ç¨ github+picgo+jsdelivr æ­å»ºåè´¹å¾åº\n\nå¦ä½åè´¹æ­å»ºå¾åºï¼å¹¶å¨markdownä¸­ä½¿ç¨æç¨ï¼https://oddfar.com/archives/91/\n\n\n# æä»¶å½åçº¦å®\n\n * æ è®ºæ¯æä»¶è¿æ¯æä»¶å¤¹ï¼è¯·ä¸ºå¶åç§°æ·»å ä¸æ­£ç¡®çæ­£æ´æ°åºå·å.ï¼ä»00æ01å¼å§ç´¯è®¡ï¼å¦01.æä»¶å¤¹ã02.æä»¶.mdï¼æä»¬å°ä¼æç§åºå·çé¡ºåºæ¥å³å®å¶å¨ä¾§è¾¹æ å½ä¸­çé¡ºåºã\n * åä¸çº§å«ç®å½å«åå³ä½¿åªæä¸ä¸ªæä»¶ææä»¶å¤¹ä¹è¦ä¸ºå¶å ä¸åºå·ã\n * æä»¶ææä»¶å¤¹åç§°ä¸­é´ä¸è½åºç°å¤ä½çç¹.ï¼å¦01.ææ¯.åç§°.mdä¸­é´åºç°.å°ä¼å¯¼è´è§£æéè¯¯ã\n\nåºå·åªæ¯ç¨äºå³å®ååé¡ºåºï¼å¹¶ä¸ä¸å®éè¦è¿çï¼å¦01ã02ã03...ï¼å®éå·¥ä½ä¸­å¯è½ä¼å¨ä¸¤ä¸ªæç« ä¸­é´æå¥ä¸ç¯æ°çæç« ï¼å æ­¤ä¸ºäºæ¹ä¾¿å¯ä»¥éç¨é´éåºå·10ã20ã30...ï¼åé¢å¦æéè¦å¨10å20ä¸­é´æå¥ä¸ç¯æ°æç« ï¼å¯ä»¥ç»å®åºå·15ã\n\n\n# çº§å«è¯´æ\n\næºç®å½ï¼ä¸è¬æ¯docsï¼åºä¸ççº§å«ç°å¨æä»¬ç§°ä¹ä¸ºä¸çº§ç®å½ï¼ä¸çº§ç®å½çä¸ä¸çº§ä¸ºäºçº§ç®å½ï¼ä»¥æ­¤ç±»æ¨ï¼æå¤å°åçº§ç®å½ã\n\n * ä¸çº§ç®å½\n   1. .vuepressã@pagesã_postsãindex.md æ readme.md è¿äºæä»¶(æä»¶å¤¹)ä¸åä¸æ°æ®çæã\n   2. åºå·éå¿é¡»ãï¼å¦ä¸äºä¸æ ï¼å¯ä»¥ä¸ç¨åºå·)\n * äºçº§ç®å½\n   1. è¯¥çº§å«ä¸å¯ä»¥åæ¶æ¾æä»¶å¤¹å.mdæä»¶ï¼ä½æ¯ä¸¤èåºå·è¦è¿è´¯ï¼åèä¸é¢çä¾å­ä¸­çå¶ä»ï¼ã\n   2. å¿é¡»æåºå·\n * ä¸çº§ç®å½\n   * (åä¸)\n * åçº§ç®å½\n   1. è¯¥çº§å«ä¸åªè½æ¾.mdæä»¶ã\n   2. å¿é¡»æåºå·\n\nææçº§å«åè³å°æä¸ä¸ªæä»¶ææä»¶å¤¹ã\n\nvdoingä¸»é¢ä»ç»ææ¡£ï¼https://doc.xugaoyi.com/pages/33d574/",charsets:{cjk:!0},lastUpdated:"2021/08/03, 15:08:00",lastUpdatedTimestamp:1628003018e3},{title:"ææ¡£ - é¨ç½²",frontmatter:{title:"ææ¡£ - é¨ç½²",date:"2021-05-16T22:53:51.000Z",permalink:"/pages/39f283/"},regularPath:"/10.%E5%85%B3%E4%BA%8E/02.%E5%85%B3%E4%BA%8E%20-%20%E6%9C%AC%E7%AB%99/05.%E6%96%87%E6%A1%A3%20-%20%E9%83%A8%E7%BD%B2.html",relativePath:"10.å³äº/02.å³äº - æ¬ç«/05.ææ¡£ - é¨ç½².md",key:"v-0436aabe",path:"/pages/39f283/",headers:[{level:2,title:"æå¨é¨ç½²",slug:"æå¨é¨ç½²",normalizedTitle:"æå¨é¨ç½²",charIndex:3},{level:3,title:"GitHub",slug:"github",normalizedTitle:"github",charIndex:13},{level:3,title:"èªå·±æå¡å¨",slug:"èªå·±æå¡å¨",normalizedTitle:"èªå·±æå¡å¨",charIndex:25},{level:2,title:"GitHub èªå¨é¨ç½²",slug:"github-èªå¨é¨ç½²",normalizedTitle:"github èªå¨é¨ç½²",charIndex:34},{level:3,title:"çæ Token",slug:"çæ-token",normalizedTitle:"çæ token",charIndex:51},{level:3,title:"éç½®ç§é¥",slug:"éç½®ç§é¥",normalizedTitle:"éç½®ç§é¥",charIndex:65},{level:2,title:"èªå¨é¨ç½²èªå·±æå¡å¨",slug:"èªå¨é¨ç½²èªå·±æå¡å¨",normalizedTitle:"èªå¨é¨ç½²èªå·±æå¡å¨",charIndex:73}],headersStr:"æå¨é¨ç½² GitHub èªå·±æå¡å¨ GitHub èªå¨é¨ç½² çæ Token éç½®ç§é¥ èªå¨é¨ç½²èªå·±æå¡å¨",content:" * æå¨é¨ç½²\n   * GitHub\n   * èªå·±æå¡å¨\n * GitHub èªå¨é¨ç½²\n   * çæ Token\n   * éç½®ç§é¥\n * èªå¨é¨ç½²èªå·±æå¡å¨\n\n\n# æå¨é¨ç½²\n\n\n# GitHub\n\nåå»ºåæ¯ï¼gh-pages\n\næ´æ¹æä»¶deploy.shåå®¹\n\nä»åºå°åæ¿æ¢æèªå·±çï¼\n\n * githubUrl=git@github.com:oddfar/notes.git\n\n * githubUrl=https://oddfar:${GITHUB_TOKEN}@github.com/oddfar/notes.git\n\n * initDist \"module.exports = '/notes/'\"\n\nä¿®å¥½å®åï¼åå»è¿è¡ deploy.sh\n\nä¹åéç½® GitHub Pages\n\n\n\n\n# èªå·±æå¡å¨\n\næ ¹ç®å½ä¸æ§è¡å½ä»¤\n\nnpm run build\n\n\n1\n\n\nçææä»¶å¨ docs\\.vuepress\\dist\\ ç®å½ä¸\n\næåå°æå¡å¨å³å¯\n\næ³¨ï¼æ¬å°ä¸å¯ç´æ¥è®¿é®ï¼éè¦éåæä»¶ï¼è¯¦æçå®æ¹ææ¡£\n\n\n# GitHub èªå¨é¨ç½²\n\nç®å½ .github\\workflows\\ ä¸ç ci.yml æä»¶ä¸ºéç½®æä»¶\n\nè¥ä¸éè¦åæ­¥å° Gitee éåï¼ä¸éè¦éç½®å¯¹ï¼å¦åææä»¶éé¢ç æ­¥éª¤ä¸åæ­¥éª¤å å æ\n\néç½®æä»¶å·²ç»åå¥½äºï¼æä»¬åªéè¦å¨ github ä¸éç½®ä¸ç§é¥ï¼secretsï¼\n\nåæå·²ç»éç½®äº GitHub Pages æå¡å¹¶è½æ­£å¸¸è®¿é®\n\n\n# çæ Token\n\nSettings -> Developer settings->Personal access tokens\n\n1ãSettings\n\n\n\n2ãDeveloper settings\n\n\n\n3ãPersonal access tokens\n\n\n\n4ãGenerate new token\n\n\n\nåå»ºæååï¼ä¼çæä¸ä¸²tokenï¼è¿ä¸²tokenä¹åä¸ä¼åæ¾ç¤ºï¼è¯·è®¤çä¿å­\n\n\n# éç½®ç§é¥\n\nä»åºSetting -> secrets -> New repository secret\n\n\n\nNameå¿é¡»å¡« ACCESS_TOKEN\n\nValueå¡«åä¸ä¸æ­¥çæçToken\n\n\n\nè³æ­¤å·²å¨é¨éç½®å¥½\n\næ¯å½æä»¬ push å°ä¸»åæ¯ master æ¶åï¼github pages ä¼èªå¨é¨ç½²\n\n\n# èªå¨é¨ç½²èªå·±æå¡å¨\n\nç¨å° WebHooks å Jenkinsï¼æ¯æ¬¡æäº¤æå¶ä»æä½æ¶åï¼ä¼è®¿é®è®¾ç½®çURL\n\nJenkinæç¨ï¼<Jenkins - ç¥è¯ä½ç³» | OddFar's Notes>\n\n\n\nè·ä¸éèæ¬å½ä»¤å°±è¡\n\nrm -rf notes\ngit clone -b gh-pages https://gitee.com/oddfar/notes.git\n\n\n1\n2\n\n\nå ä¸ºæçgithubéç½®ï¼æ¯æ¬¡æäº¤ä¼åæ­¥å°gitee\n\nç¶åè§¦åwebhooksï¼ä½¿jenkinsæå»ºåæ­¥å°èªå·±æå¡å¨\n\næåè®¿é®å°åï¼\n\n * https://note.oddfar.com\n\n * https://oddfar.github.io/notes",normalizedContent:" * æå¨é¨ç½²\n   * github\n   * èªå·±æå¡å¨\n * github èªå¨é¨ç½²\n   * çæ token\n   * éç½®ç§é¥\n * èªå¨é¨ç½²èªå·±æå¡å¨\n\n\n# æå¨é¨ç½²\n\n\n# github\n\nåå»ºåæ¯ï¼gh-pages\n\næ´æ¹æä»¶deploy.shåå®¹\n\nä»åºå°åæ¿æ¢æèªå·±çï¼\n\n * githuburl=git@github.com:oddfar/notes.git\n\n * githuburl=https://oddfar:${github_token}@github.com/oddfar/notes.git\n\n * initdist \"module.exports = '/notes/'\"\n\nä¿®å¥½å®åï¼åå»è¿è¡ deploy.sh\n\nä¹åéç½® github pages\n\n\n\n\n# èªå·±æå¡å¨\n\næ ¹ç®å½ä¸æ§è¡å½ä»¤\n\nnpm run build\n\n\n1\n\n\nçææä»¶å¨ docs\\.vuepress\\dist\\ ç®å½ä¸\n\næåå°æå¡å¨å³å¯\n\næ³¨ï¼æ¬å°ä¸å¯ç´æ¥è®¿é®ï¼éè¦éåæä»¶ï¼è¯¦æçå®æ¹ææ¡£\n\n\n# github èªå¨é¨ç½²\n\nç®å½ .github\\workflows\\ ä¸ç ci.yml æä»¶ä¸ºéç½®æä»¶\n\nè¥ä¸éè¦åæ­¥å° gitee éåï¼ä¸éè¦éç½®å¯¹ï¼å¦åææä»¶éé¢ç æ­¥éª¤ä¸åæ­¥éª¤å å æ\n\néç½®æä»¶å·²ç»åå¥½äºï¼æä»¬åªéè¦å¨ github ä¸éç½®ä¸ç§é¥ï¼secretsï¼\n\nåæå·²ç»éç½®äº github pages æå¡å¹¶è½æ­£å¸¸è®¿é®\n\n\n# çæ token\n\nsettings -> developer settings->personal access tokens\n\n1ãsettings\n\n\n\n2ãdeveloper settings\n\n\n\n3ãpersonal access tokens\n\n\n\n4ãgenerate new token\n\n\n\nåå»ºæååï¼ä¼çæä¸ä¸²tokenï¼è¿ä¸²tokenä¹åä¸ä¼åæ¾ç¤ºï¼è¯·è®¤çä¿å­\n\n\n# éç½®ç§é¥\n\nä»åºsetting -> secrets -> new repository secret\n\n\n\nnameå¿é¡»å¡« access_token\n\nvalueå¡«åä¸ä¸æ­¥çæçtoken\n\n\n\nè³æ­¤å·²å¨é¨éç½®å¥½\n\næ¯å½æä»¬ push å°ä¸»åæ¯ master æ¶åï¼github pages ä¼èªå¨é¨ç½²\n\n\n# èªå¨é¨ç½²èªå·±æå¡å¨\n\nç¨å° webhooks å jenkinsï¼æ¯æ¬¡æäº¤æå¶ä»æä½æ¶åï¼ä¼è®¿é®è®¾ç½®çurl\n\njenkinæç¨ï¼<jenkins - ç¥è¯ä½ç³» | oddfar's notes>\n\n\n\nè·ä¸éèæ¬å½ä»¤å°±è¡\n\nrm -rf notes\ngit clone -b gh-pages https://gitee.com/oddfar/notes.git\n\n\n1\n2\n\n\nå ä¸ºæçgithubéç½®ï¼æ¯æ¬¡æäº¤ä¼åæ­¥å°gitee\n\nç¶åè§¦åwebhooksï¼ä½¿jenkinsæå»ºåæ­¥å°èªå·±æå¡å¨\n\næåè®¿é®å°åï¼\n\n * https://note.oddfar.com\n\n * https://oddfar.github.io/notes",charsets:{cjk:!0},lastUpdated:"2023/03/26, 13:03:00",lastUpdatedTimestamp:167983777e4},{title:"æ é¢ - éç¹æ¯è¾",frontmatter:{title:"æ é¢ - éç¹æ¯è¾",date:"2021-05-16T22:54:18.000Z",permalink:"/pages/8bac8d/"},regularPath:"/10.%E5%85%B3%E4%BA%8E/02.%E5%85%B3%E4%BA%8E%20-%20%E6%9C%AC%E7%AB%99/12.%E6%A0%87%E9%A2%98%20-%20%E9%94%9A%E7%82%B9%E6%AF%94%E8%BE%83.html",relativePath:"10.å³äº/02.å³äº - æ¬ç«/12.æ é¢ - éç¹æ¯è¾.md",key:"v-5944f74c",path:"/pages/8bac8d/",headers:[{level:2,title:"ä¸  äºçº§ç®å½2ç©ºæ ¼",slug:"ä¸-äºçº§ç®å½2ç©ºæ ¼",normalizedTitle:"ä¸  äºçº§ç®å½2ç©ºæ ¼",charIndex:null},{level:3,title:"3  ç¸åçä¸çº§ç®å½",slug:"_3-ç¸åçä¸çº§ç®å½",normalizedTitle:"3  ç¸åçä¸çº§ç®å½",charIndex:null},{level:3,title:"3  ç¸åçä¸çº§ç®å½",slug:"_3-ç¸åçä¸çº§ç®å½-2",normalizedTitle:"3  ç¸åçä¸çº§ç®å½",charIndex:null},{level:4,title:"ä¸å¸¦ç¬¦å·åç©ºæ ¼çåçº§ç®å½",slug:"ä¸å¸¦ç¬¦å·åç©ºæ ¼çåçº§ç®å½",normalizedTitle:"ä¸å¸¦ç¬¦å·åç©ºæ ¼çåçº§ç®å½",charIndex:344},{level:2,title:"äº äºçº§ç®å½1ç©ºæ ¼",slug:"äº-äºçº§ç®å½1ç©ºæ ¼",normalizedTitle:"äº äºçº§ç®å½1ç©ºæ ¼",charIndex:105},{level:2,title:"äº äºçº§ç®å½ï¼å¸¦æ¬å·ï¼",slug:"äº-äºçº§ç®å½-å¸¦æ¬å·",normalizedTitle:"äº äºçº§ç®å½ï¼å¸¦æ¬å·ï¼",charIndex:118},{level:3,title:"3 ä¸çº§ç®å½",slug:"_3-ä¸çº§ç®å½",normalizedTitle:"3 ä¸çº§ç®å½",charIndex:135},{level:4,title:"4 åçº§ç®å½",slug:"_4-åçº§ç®å½",normalizedTitle:"4 åçº§ç®å½",charIndex:404},{level:2,title:"2ãå¸¦æ°å­åç¬¦å·çäºçº§ç®å½",slug:"_2ãå¸¦æ°å­åç¬¦å·çäºçº§ç®å½",normalizedTitle:"2ãå¸¦æ°å­åç¬¦å·çäºçº§ç®å½",charIndex:145},{level:3,title:"3ãä¸çº§ç®å½",slug:"_3ãä¸çº§ç®å½",normalizedTitle:"3ãä¸çº§ç®å½",charIndex:164},{level:4,title:"4ãåçº§ç®å½",slug:"_4ãåçº§ç®å½",normalizedTitle:"4ãåçº§ç®å½",charIndex:447}],headersStr:"ä¸  äºçº§ç®å½2ç©ºæ ¼ 3  ç¸åçä¸çº§ç®å½ 3  ç¸åçä¸çº§ç®å½ ä¸å¸¦ç¬¦å·åç©ºæ ¼çåçº§ç®å½ äº äºçº§ç®å½1ç©ºæ ¼ äº äºçº§ç®å½ï¼å¸¦æ¬å·ï¼ 3 ä¸çº§ç®å½ 4 åçº§ç®å½ 2ãå¸¦æ°å­åç¬¦å·çäºçº§ç®å½ 3ãä¸çº§ç®å½ 4ãåçº§ç®å½",content:"----------------------------------------\n\nvuepressçæçç®å½\n\n\n\n * ä¸ äºçº§ç®å½2ç©ºæ ¼\n   * 3 ç¸åçä¸çº§ç®å½\n   * 3 ç¸åçä¸çº§ç®å½\n * äº äºçº§ç®å½1ç©ºæ ¼\n * äº äºçº§ç®å½ï¼å¸¦æ¬å·ï¼\n   * 3 ä¸çº§ç®å½\n * 2ãå¸¦æ°å­åç¬¦å·çäºçº§ç®å½\n   * 3ãä¸çº§ç®å½\n\n\n\n----------------------------------------\n\nç¹å»ä¸¤æ¬¾æ é¢è·³è½¬çéç¹ï¼èªè¡å¤æ­äºèçåºå«\n\n----------------------------------------\n\ndoctocçæçç®å½\n\n * ä¸ äºçº§ç®å½2ç©ºæ ¼\n   * 3 ç¸åçä¸çº§ç®å½\n   * 3 ç¸åçä¸çº§ç®å½\n     * ä¸å¸¦ç¬¦å·åç©ºæ ¼çåçº§ç®å½\n * äº äºçº§ç®å½1ç©ºæ ¼\n * äº äºçº§ç®å½ï¼å¸¦æ¬å·ï¼\n   * 3 ä¸çº§ç®å½\n     * 4 åçº§ç®å½\n * 2ãå¸¦æ°å­åç¬¦å·çäºçº§ç®å½\n   * 3ãä¸çº§ç®å½\n     * 4ãåçº§ç®å½\n\n----------------------------------------\n\n\n# ä¸ äºçº§ç®å½2ç©ºæ ¼\n\n\n# 3 ç¸åçä¸çº§ç®å½\n\n\n# 3 ç¸åçä¸çº§ç®å½\n\n# ä¸å¸¦ç¬¦å·åç©ºæ ¼çåçº§ç®å½\n\n\n# äº äºçº§ç®å½1ç©ºæ ¼\n\n\n# äº äºçº§ç®å½ï¼å¸¦æ¬å·ï¼\n\n\n# 3 ä¸çº§ç®å½\n\n# 4 åçº§ç®å½\n\n\n# 2ãå¸¦æ°å­åç¬¦å·çäºçº§ç®å½\n\n\n# 3ãä¸çº§ç®å½\n\n# 4ãåçº§ç®å½",normalizedContent:"----------------------------------------\n\nvuepressçæçç®å½\n\n\n\n * ä¸ äºçº§ç®å½2ç©ºæ ¼\n   * 3 ç¸åçä¸çº§ç®å½\n   * 3 ç¸åçä¸çº§ç®å½\n * äº äºçº§ç®å½1ç©ºæ ¼\n * äº äºçº§ç®å½ï¼å¸¦æ¬å·ï¼\n   * 3 ä¸çº§ç®å½\n * 2ãå¸¦æ°å­åç¬¦å·çäºçº§ç®å½\n   * 3ãä¸çº§ç®å½\n\n\n\n----------------------------------------\n\nç¹å»ä¸¤æ¬¾æ é¢è·³è½¬çéç¹ï¼èªè¡å¤æ­äºèçåºå«\n\n----------------------------------------\n\ndoctocçæçç®å½\n\n * ä¸ äºçº§ç®å½2ç©ºæ ¼\n   * 3 ç¸åçä¸çº§ç®å½\n   * 3 ç¸åçä¸çº§ç®å½\n     * ä¸å¸¦ç¬¦å·åç©ºæ ¼çåçº§ç®å½\n * äº äºçº§ç®å½1ç©ºæ ¼\n * äº äºçº§ç®å½ï¼å¸¦æ¬å·ï¼\n   * 3 ä¸çº§ç®å½\n     * 4 åçº§ç®å½\n * 2ãå¸¦æ°å­åç¬¦å·çäºçº§ç®å½\n   * 3ãä¸çº§ç®å½\n     * 4ãåçº§ç®å½\n\n----------------------------------------\n\n\n# ä¸ äºçº§ç®å½2ç©ºæ ¼\n\n\n# 3 ç¸åçä¸çº§ç®å½\n\n\n# 3 ç¸åçä¸çº§ç®å½\n\n# ä¸å¸¦ç¬¦å·åç©ºæ ¼çåçº§ç®å½\n\n\n# äº äºçº§ç®å½1ç©ºæ ¼\n\n\n# äº äºçº§ç®å½ï¼å¸¦æ¬å·ï¼\n\n\n# 3 ä¸çº§ç®å½\n\n# 4 åçº§ç®å½\n\n\n# 2ãå¸¦æ°å­åç¬¦å·çäºçº§ç®å½\n\n\n# 3ãä¸çº§ç®å½\n\n# 4ãåçº§ç®å½",charsets:{cjk:!0},lastUpdated:"2021/08/03, 15:08:00",lastUpdatedTimestamp:1628003018e3},{title:"æåº¦ç¿»è¯",frontmatter:{title:"æåº¦ç¿»è¯",date:"2023-03-26T21:46:55.000Z",permalink:"/pages/007827/"},regularPath:"/20.%E7%88%AC%E8%99%AB/02.%E6%9F%90%E5%BA%A6%E7%BF%BB%E8%AF%91.html",relativePath:"20.ç¬è«/02.æåº¦ç¿»è¯.md",key:"v-7a41b909",path:"/pages/007827/",headers:[{level:2,title:"jsåæ",slug:"jsåæ",normalizedTitle:"jsåæ",charIndex:2},{level:2,title:"pythonç¬è«",slug:"pythonç¬è«",normalizedTitle:"pythonç¬è«",charIndex:8460}],headersStr:"jsåæ pythonç¬è«",content:"# jsåæ\n\nè¯·æ±ç½ç«ï¼æ¥çæéè¦çæ°æ®ï¼æ¾å°æå¯¹åºçurl\n\n\n\nè¯·æ±åæ°ééè¦signåtoken\n\nè¿ä¸ªtokenè¯è¿äºä¸éè¦å¨ï¼åªéè§£å³signå³å¯\n\nsignæ¯æ ¹æ®è¾å¥çåå®¹çæç\n\n\n\nå¤å¶è¯·æ±çurlï¼https://fanyi.baidu.com/v2transapi\n\nåæä¸ªæ­ç¹\n\n\n\nç¹å»ç¿»è¯ï¼æ­ä½äºï¼å¯ä»¥çå°æ°æ®éææéè¦çsign\n\n\n\næä»¬éè¦æ¾å° ajax è¯·æ±ï¼ççéé¢çæ°æ®\n\nå¨ è°ç¨å æ éä¾æ¬¡ç¹å»ï¼æ¾å°éè¦çæ°æ®ï¼åç°å¨ç¬¬ä¸ä¸ªå æ é\n\ndata: w, wå°±æ¯è¯·æ±çæ°æ®ï¼\n\n\n\nå¯ä»¥æ§å¶å°è¾åºä¸ä¸ï¼éé¢ææéè¦çsignå¼\n\nåä¹åè¯·æ±ç¿»è¯âä½ å¥½âçsignä¸æ ·ï¼è¯´æå¼æ¯æ ¹æ®è¾å¥åå®¹çæç\n\n\n\næ ¹æ®wçåå®¹ï¼å¯ä»¥ç¥ésignæ¯ç± b(e) çæç\n\n w = {\n    from: v.fromLang,\n    to: v.toLang,\n    query: e,\n    transtype: i,\n    simple_means_flag: 3,\n    sign: b(e),\n    token: window.common.token,\n    domain: k.getCurDomain()\n},\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n\næ§å¶å°è¾åºä¸ä¸ b(e)ï¼è¿ä¸ªå¼å°±æ¯æä»¬æ³è¦ç\n\n b(e)\n'232427.485594'\n\n\n1\n2\n\n\né¼ æ åæ æ¾å°bä¸ï¼å·¦é®åå»è¿å¥æ¹æ³\n\n\n\nå¯ä»¥çå°ï¼è¿ä¸ªæ¹æ³å°±æ¯çæ sign ç\n\n\n\næ§è¡jsä»£ç \n\næç¨çpycharmï¼éè¦å®è£nodejsç¯å¢\n\nfunction sign(t) {\n    var o, i = t.match(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g);\n    if (null === i) {\n        var a = t.length;\n        a > 30 && (t = \"\".concat(t.substr(0, 10)).concat(t.substr(Math.floor(a / 2) - 5, 10)).concat(t.substr(-10, 10)))\n    } else {\n        for (var s = t.split(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/), c = 0, l = s.length, u = []; c < l; c++)\n            \"\" !== s[c] && u.push.apply(u, function (t) {\n                if (Array.isArray(t))\n                    return e(t)\n            }(o = s[c].split(\"\")) || function (t) {\n                if (\"undefined\" != typeof Symbol && null != t[Symbol.iterator] || null != t[\"@@iterator\"])\n                    return Array.from(t)\n            }(o) || function (t, n) {\n                if (t) {\n                    if (\"string\" == typeof t)\n                        return e(t, n);\n                    var r = Object.prototype.toString.call(t).slice(8, -1);\n                    return \"Object\" === r && t.constructor && (r = t.constructor.name),\n                        \"Map\" === r || \"Set\" === r ? Array.from(t) : \"Arguments\" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? e(t, n) : void 0\n                }\n            }(o) || function () {\n                throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")\n            }()),\n            c !== l - 1 && u.push(i[c]);\n        var p = u.length;\n        p > 30 && (t = u.slice(0, 10).join(\"\") + u.slice(Math.floor(p / 2) - 5, Math.floor(p / 2) + 5).join(\"\") + u.slice(-10).join(\"\"))\n    }\n    for (var d = \"\".concat(String.fromCharCode(103)).concat(String.fromCharCode(116)).concat(String.fromCharCode(107)), h = (null !== r ? r : (r = window[d] || \"\") || \"\").split(\".\"), f = Number(h[0]) || 0, m = Number(h[1]) || 0, g = [], y = 0, v = 0; v < t.length; v++) {\n        var _ = t.charCodeAt(v);\n        _ < 128 ? g[y++] = _ : (_ < 2048 ? g[y++] = _ >> 6 | 192 : (55296 == (64512 & _) && v + 1 < t.length && 56320 == (64512 & t.charCodeAt(v + 1)) ? (_ = 65536 + ((1023 & _) << 10) + (1023 & t.charCodeAt(++v)),\n            g[y++] = _ >> 18 | 240,\n            g[y++] = _ >> 12 & 63 | 128) : g[y++] = _ >> 12 | 224,\n            g[y++] = _ >> 6 & 63 | 128),\n            g[y++] = 63 & _ | 128)\n    }\n    for (var b = f, w = \"\".concat(String.fromCharCode(43)).concat(String.fromCharCode(45)).concat(String.fromCharCode(97)) + \"\".concat(String.fromCharCode(94)).concat(String.fromCharCode(43)).concat(String.fromCharCode(54)), k = \"\".concat(String.fromCharCode(43)).concat(String.fromCharCode(45)).concat(String.fromCharCode(51)) + \"\".concat(String.fromCharCode(94)).concat(String.fromCharCode(43)).concat(String.fromCharCode(98)) + \"\".concat(String.fromCharCode(43)).concat(String.fromCharCode(45)).concat(String.fromCharCode(102)), x = 0; x < g.length; x++)\n        b = n(b += g[x], w);\n    return b = n(b, k),\n    (b ^= m) < 0 && (b = 2147483648 + (2147483647 & b)),\n        \"\".concat((b %= 1e6).toString(), \".\").concat(b ^ f)\n}\nconsole.log(sign(\"ä½ å¥½\"))\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\næ§è¡ç»æï¼\n\n  for (var d = \"\".concat(String.fromCharCode(103)).concat(String.fromCharCode(116)).concat(String.fromCharCode(107)), h = (null !== r ? r : (r = window[d] || \"\") || \"\").split(\".\"), f = Number(h[0]) || 0, m = Number(h[1]) || 0, g = [], y = 0, v = 0; v < t.length; v++) {\n                                                                                                                            ^\n\nReferenceError: r is not defined\n\n\n1\n2\n3\n4\n\n\n\n\næ¥éåå®¹æ¯r is not definedï¼æ¾ä¸å°r\n\nå®ä½å°æ¥éä»£ç æå¨è¡ï¼æä¸ªæ­ç¹\n\n\n\néæ°åéè¯·æ±ï¼ç¹è·³è½¬å°ä¸ä¸ä¸ªå½æ°è°ç¨ï¼æ§è¡\n\n\n\nå¯ä»¥çå°ræ¯ä¸ªå­ç¬¦ä¸²ï¼åå®¹ä¸ºï¼\"320305.131321201\"\n\n\n\næä»¬åæ r åæ­»\n\nvar r = \"320305.131321201\";\n\n\n1\n\n\néæ°æ§è¡ä¸jsï¼æ¥éæ¾ä¸å°næ¹æ³\n\n\n\nå»æ¾ä¸ä¸ n æ¹æ³ï¼æä¸ªæ­å®ï¼ç»§ç»­æ§è¡èæ¬\n\n\n\næ¾å°næ¹æ³\n\nfunction n(t, e) {\n    for (var n = 0; n < e.length - 2; n += 3) {\n        var r = e.charAt(n + 2);\n        r = \"a\" <= r ? r.charCodeAt(0) - 87 : Number(r),\n        r = \"+\" === e.charAt(n + 1) ? t >>> r : t << r,\n        t = \"+\" === e.charAt(n) ? t + r & 4294967295 : t ^ r\n    }\n    return t\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nå®æ´ä»£ç js\n\nfunction n(t, e) {\n    for (var n = 0; n < e.length - 2; n += 3) {\n        var r = e.charAt(n + 2);\n        r = \"a\" <= r ? r.charCodeAt(0) - 87 : Number(r),\n        r = \"+\" === e.charAt(n + 1) ? t >>> r : t << r,\n        t = \"+\" === e.charAt(n) ? t + r & 4294967295 : t ^ r\n    }\n    return t\n}\n\nvar r = \"320305.131321201\";\n\nfunction sign(t) {\n    var o, i = t.match(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g);\n    if (null === i) {\n        var a = t.length;\n        a > 30 && (t = \"\".concat(t.substr(0, 10)).concat(t.substr(Math.floor(a / 2) - 5, 10)).concat(t.substr(-10, 10)))\n    } else {\n        for (var s = t.split(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/), c = 0, l = s.length, u = []; c < l; c++)\n            \"\" !== s[c] && u.push.apply(u, function (t) {\n                if (Array.isArray(t))\n                    return e(t)\n            }(o = s[c].split(\"\")) || function (t) {\n                if (\"undefined\" != typeof Symbol && null != t[Symbol.iterator] || null != t[\"@@iterator\"])\n                    return Array.from(t)\n            }(o) || function (t, n) {\n                if (t) {\n                    if (\"string\" == typeof t)\n                        return e(t, n);\n                    var r = Object.prototype.toString.call(t).slice(8, -1);\n                    return \"Object\" === r && t.constructor && (r = t.constructor.name),\n                        \"Map\" === r || \"Set\" === r ? Array.from(t) : \"Arguments\" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? e(t, n) : void 0\n                }\n            }(o) || function () {\n                throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")\n            }()),\n            c !== l - 1 && u.push(i[c]);\n        var p = u.length;\n        p > 30 && (t = u.slice(0, 10).join(\"\") + u.slice(Math.floor(p / 2) - 5, Math.floor(p / 2) + 5).join(\"\") + u.slice(-10).join(\"\"))\n    }\n    for (var d = \"\".concat(String.fromCharCode(103)).concat(String.fromCharCode(116)).concat(String.fromCharCode(107)), h = (null !== r ? r : \"\").split(\".\"), f = Number(h[0]) || 0, m = Number(h[1]) || 0, g = [], y = 0, v = 0; v < t.length; v++) {\n        var _ = t.charCodeAt(v);\n        _ < 128 ? g[y++] = _ : (_ < 2048 ? g[y++] = _ >> 6 | 192 : (55296 == (64512 & _) && v + 1 < t.length && 56320 == (64512 & t.charCodeAt(v + 1)) ? (_ = 65536 + ((1023 & _) << 10) + (1023 & t.charCodeAt(++v)),\n            g[y++] = _ >> 18 | 240,\n            g[y++] = _ >> 12 & 63 | 128) : g[y++] = _ >> 12 | 224,\n            g[y++] = _ >> 6 & 63 | 128),\n            g[y++] = 63 & _ | 128)\n    }\n    for (var b = f, w = \"\".concat(String.fromCharCode(43)).concat(String.fromCharCode(45)).concat(String.fromCharCode(97)) + \"\".concat(String.fromCharCode(94)).concat(String.fromCharCode(43)).concat(String.fromCharCode(54)), k = \"\".concat(String.fromCharCode(43)).concat(String.fromCharCode(45)).concat(String.fromCharCode(51)) + \"\".concat(String.fromCharCode(94)).concat(String.fromCharCode(43)).concat(String.fromCharCode(98)) + \"\".concat(String.fromCharCode(43)).concat(String.fromCharCode(45)).concat(String.fromCharCode(102)), x = 0; x < g.length; x++)\n        b = n(b += g[x], w);\n    return b = n(b, k),\n    (b ^= m) < 0 && (b = 2147483648 + (2147483647 & b)),\n        \"\".concat((b %= 1e6).toString(), \".\").concat(b ^ f)\n}\n\nconsole.log(sign(\"ä½ å¥½\"))\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n\n\næ§è¡ç»æ\n\n232427.485594\n\n\n1\n\n\nåä¹åè¦çsignå¼ä¸æ ·\n\n\n# pythonç¬è«\n\nå¨æ­¤ç½ç«ä¸ï¼https://curlconverter.com/\n\næcURLè½¬æ¢æpythonä»£ç \n\n\n\npyhtonä»£ç ï¼\n\nimport json\nimport requests\nimport execjs\n\ndef get_sign(vlues):\n\n    # è¯»åjsæä»¶çåå®¹\n    with open('getSign.js', 'r', encoding='utf-8') as f:\n        js_code = f.read()\n\n    # éè¿execjs.compile()è¿è¡ç¼è¯jsæä»¶åå®¹\n    compile_result = execjs.compile(js_code)\n    # è°ç¨jsæä»¶ä¼ å\n    # weixinæ¯jsä¸­çfunctionæ¹æ³åï¼inpæ¯ç©¿çå\n    result = compile_result.call('sign', vlues)\n    return result\n\ndef spider(value):\n    cookies = {\n        'BAIDUID': 'E7E4E0567FBE9DEDF43C583B9E60119F:FG=1',\n        'REALTIME_TRANS_SWITCH': '1',\n        'FANYI_WORD_SWITCH': '1',\n        'HISTORY_SWITCH': '1',\n        'SOUND_SPD_SWITCH': '1',\n        'SOUND_PREFER_SWITCH': '1',\n        'BIDUPSID': 'E7E4E0567FBE9DEDF43C583B9E60119F',\n        'PSTM': '1662006000',\n        'APPGUIDE_10_0_2': '1',\n        'BDORZ': 'B490B5EBF6F3CD402E515D22BCDA1598',\n        'H_PS_PSSID': '36547_38113_38359_38404_37862_38468_38174_38289_38257_37934_38382_26350_38417_37881',\n        'BDSFRCVID': '2AFOJeC629rz1DRfXd9v5P_3d5XzF9QTH6aomM5W3L3Q6y9KgdxmEG0Pqx8g0KAbMVkPogKKBmOTHn_F_2uxOjjg8UtVJeC6EG0Ptf8g0M5',\n        'H_BDCLCKID_SF': 'tJPJoKDbJKD3jR5m-R5HMtCyqxby2C62aJ0H5lQvWJ5TMC_wKRCaQhDEWM88-jQTXb7b_xnL3DTGShPC-tnVXjLiDPkeQ658fm3M0PnE3l02V-j9e-t2yU_VXJjWQPRMW23GWl7mWnrrsxA45J7cM4IseboJLfT-0bc4KKJxbnLWeIJEjj6jK4JKDGAOJ6cP',\n        'Hm_lvt_64ecd82404c51e03dc91cb9e8c025574': '1678884815,1679816757',\n        'delPer': '0',\n        'PSINO': '1',\n        'BAIDUID_BFESS': 'E7E4E0567FBE9DEDF43C583B9E60119F:FG=1',\n        'BDSFRCVID_BFESS': '2AFOJeC629rz1DRfXd9v5P_3d5XzF9QTH6aomM5W3L3Q6y9KgdxmEG0Pqx8g0KAbMVkPogKKBmOTHn_F_2uxOjjg8UtVJeC6EG0Ptf8g0M5',\n        'H_BDCLCKID_SF_BFESS': 'tJPJoKDbJKD3jR5m-R5HMtCyqxby2C62aJ0H5lQvWJ5TMC_wKRCaQhDEWM88-jQTXb7b_xnL3DTGShPC-tnVXjLiDPkeQ658fm3M0PnE3l02V-j9e-t2yU_VXJjWQPRMW23GWl7mWnrrsxA45J7cM4IseboJLfT-0bc4KKJxbnLWeIJEjj6jK4JKDGAOJ6cP',\n        'Hm_lpvt_64ecd82404c51e03dc91cb9e8c025574': '1679827229',\n        'ab_sr': '1.0.1_ZDc2NWQ5ODZiNDI1NjczMTRjYjRlNWY3YTNhZmY2ODAyZjcxM2MyZmM1ODQ1ZTg4NTIwYmNlOWMwYjk4ZjFhMjQzNTBjMzVjYzg4NTMxODI0NWEyNDBiNDljYWEyOGY1YTlkZWQyMzAwZmU3MGY0N2ZiZjEzMjM5ZDZkOWM3NjA2MzAxMTE0OTkxNTFhNTMwYmI5OTM5OGNkZTFiZjhiNA==',\n    }\n\n    headers = {\n        'Accept': '*/*',\n        'Accept-Language': 'zh-CN,zh;q=0.9',\n        'Acs-Token': '1679831923507_1679831922998_WgGGMV2Y27GwWX9/lcuaMP6Dn3dAzyKShwVfdY3ZvbGZlRi8qcN5M+d4u6tZoV0uV+9HmN2ZaofOexoL6zE8Y6dT7j1AzIF96PjQK5W6ODi5XZ5h2+fNVgP+zZXlhHzr0v2C4Q36HXgFR60nlxaPJG/1Ss+CNd71j94XdKAKMzsaSbJJ4XBxQrmHcUc4uDvtyjFIjn5xCiyhh9fWML6lXakNjAtPDAr0QnoufugFaaQGbzhYaLWRnm7GeV1vHwC9eBW6pDnHmzFmV1dEIJ8PD86wGQwIfJi0l/NJNJaYB5/RLCkajs3XfEAmhDqI+uGPNGy9rimDqL15qldEPYwSNcWsJh8q1A0eMvvxJMfRQ+8=',\n        'Connection': 'keep-alive',\n        'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',\n        # 'Cookie': 'BAIDUID=E7E4E0567FBE9DEDF43C583B9E60119F:FG=1; REALTIME_TRANS_SWITCH=1; FANYI_WORD_SWITCH=1; HISTORY_SWITCH=1; SOUND_SPD_SWITCH=1; SOUND_PREFER_SWITCH=1; BIDUPSID=E7E4E0567FBE9DEDF43C583B9E60119F; PSTM=1662006000; APPGUIDE_10_0_2=1; BDORZ=B490B5EBF6F3CD402E515D22BCDA1598; H_PS_PSSID=36547_38113_38359_38404_37862_38468_38174_38289_38257_37934_38382_26350_38417_37881; BDSFRCVID=2AFOJeC629rz1DRfXd9v5P_3d5XzF9QTH6aomM5W3L3Q6y9KgdxmEG0Pqx8g0KAbMVkPogKKBmOTHn_F_2uxOjjg8UtVJeC6EG0Ptf8g0M5; H_BDCLCKID_SF=tJPJoKDbJKD3jR5m-R5HMtCyqxby2C62aJ0H5lQvWJ5TMC_wKRCaQhDEWM88-jQTXb7b_xnL3DTGShPC-tnVXjLiDPkeQ658fm3M0PnE3l02V-j9e-t2yU_VXJjWQPRMW23GWl7mWnrrsxA45J7cM4IseboJLfT-0bc4KKJxbnLWeIJEjj6jK4JKDGAOJ6cP; Hm_lvt_64ecd82404c51e03dc91cb9e8c025574=1678884815,1679816757; delPer=0; PSINO=1; BAIDUID_BFESS=E7E4E0567FBE9DEDF43C583B9E60119F:FG=1; BDSFRCVID_BFESS=2AFOJeC629rz1DRfXd9v5P_3d5XzF9QTH6aomM5W3L3Q6y9KgdxmEG0Pqx8g0KAbMVkPogKKBmOTHn_F_2uxOjjg8UtVJeC6EG0Ptf8g0M5; H_BDCLCKID_SF_BFESS=tJPJoKDbJKD3jR5m-R5HMtCyqxby2C62aJ0H5lQvWJ5TMC_wKRCaQhDEWM88-jQTXb7b_xnL3DTGShPC-tnVXjLiDPkeQ658fm3M0PnE3l02V-j9e-t2yU_VXJjWQPRMW23GWl7mWnrrsxA45J7cM4IseboJLfT-0bc4KKJxbnLWeIJEjj6jK4JKDGAOJ6cP; Hm_lpvt_64ecd82404c51e03dc91cb9e8c025574=1679827229; ab_sr=1.0.1_ZDc2NWQ5ODZiNDI1NjczMTRjYjRlNWY3YTNhZmY2ODAyZjcxM2MyZmM1ODQ1ZTg4NTIwYmNlOWMwYjk4ZjFhMjQzNTBjMzVjYzg4NTMxODI0NWEyNDBiNDljYWEyOGY1YTlkZWQyMzAwZmU3MGY0N2ZiZjEzMjM5ZDZkOWM3NjA2MzAxMTE0OTkxNTFhNTMwYmI5OTM5OGNkZTFiZjhiNA==',\n        'Origin': 'https://fanyi.baidu.com',\n        'Referer': 'https://fanyi.baidu.com/',\n        'Sec-Fetch-Dest': 'empty',\n        'Sec-Fetch-Mode': 'cors',\n        'Sec-Fetch-Site': 'same-origin',\n        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36',\n        'X-Requested-With': 'XMLHttpRequest',\n        'sec-ch-ua': '\"Google Chrome\";v=\"111\", \"Not(A:Brand\";v=\"8\", \"Chromium\";v=\"111\"',\n        'sec-ch-ua-mobile': '?0',\n        'sec-ch-ua-platform': '\"Windows\"',\n        'token': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJwa19pZCI6MSwiYV9pZCI6IiIsImR0eXBlIjoxLCJpZCI6MSwiZXhwIjoxNjc4NzI0MTQxLCJ0eXBlIjoieXp5IiwiaWF0IjoxNjc4NzE2OTQxfQ.Ztx8Dp3ooCtz9nc5XF6tQ3CFatDTeb4gXwxbG14B780',\n        'uid': '1',\n    }\n\n    params = {\n        'from': 'zh',\n        'to': 'en',\n    }\n\n    data = {\n        'from': 'zh',\n        'to': 'en',\n        'query': value,\n        'transtype': 'translang',\n        'simple_means_flag': '3',\n        'sign': get_sign(value),\n        'token': '34032f562bee3207e4dc0085490c43e3',\n        'domain': 'common',\n    }\n\n    response = requests.post('https://fanyi.baidu.com/v2transapi', params=params, cookies=cookies, headers=headers,\n                             data=data)\n    res = json.loads(response.text)\n    print(res)\n\nif __name__ == '__main__':\n    spider('ä½ å¥½')\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n\n\njsï¼\n\nfunction n(t, e) {\n    for (var n = 0; n < e.length - 2; n += 3) {\n        var r = e.charAt(n + 2);\n        r = \"a\" <= r ? r.charCodeAt(0) - 87 : Number(r),\n        r = \"+\" === e.charAt(n + 1) ? t >>> r : t << r,\n        t = \"+\" === e.charAt(n) ? t + r & 4294967295 : t ^ r\n    }\n    return t\n}\n\nvar r = \"320305.131321201\";\n\nfunction sign(t) {\n    var o, i = t.match(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g);\n    if (null === i) {\n        var a = t.length;\n        a > 30 && (t = \"\".concat(t.substr(0, 10)).concat(t.substr(Math.floor(a / 2) - 5, 10)).concat(t.substr(-10, 10)))\n    } else {\n        for (var s = t.split(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/), c = 0, l = s.length, u = []; c < l; c++)\n            \"\" !== s[c] && u.push.apply(u, function (t) {\n                if (Array.isArray(t))\n                    return e(t)\n            }(o = s[c].split(\"\")) || function (t) {\n                if (\"undefined\" != typeof Symbol && null != t[Symbol.iterator] || null != t[\"@@iterator\"])\n                    return Array.from(t)\n            }(o) || function (t, n) {\n                if (t) {\n                    if (\"string\" == typeof t)\n                        return e(t, n);\n                    var r = Object.prototype.toString.call(t).slice(8, -1);\n                    return \"Object\" === r && t.constructor && (r = t.constructor.name),\n                        \"Map\" === r || \"Set\" === r ? Array.from(t) : \"Arguments\" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? e(t, n) : void 0\n                }\n            }(o) || function () {\n                throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")\n            }()),\n            c !== l - 1 && u.push(i[c]);\n        var p = u.length;\n        p > 30 && (t = u.slice(0, 10).join(\"\") + u.slice(Math.floor(p / 2) - 5, Math.floor(p / 2) + 5).join(\"\") + u.slice(-10).join(\"\"))\n    }\n    for (var d = \"\".concat(String.fromCharCode(103)).concat(String.fromCharCode(116)).concat(String.fromCharCode(107)), h = (null !== r ? r : \"\").split(\".\"), f = Number(h[0]) || 0, m = Number(h[1]) || 0, g = [], y = 0, v = 0; v < t.length; v++) {\n        var _ = t.charCodeAt(v);\n        _ < 128 ? g[y++] = _ : (_ < 2048 ? g[y++] = _ >> 6 | 192 : (55296 == (64512 & _) && v + 1 < t.length && 56320 == (64512 & t.charCodeAt(v + 1)) ? (_ = 65536 + ((1023 & _) << 10) + (1023 & t.charCodeAt(++v)),\n            g[y++] = _ >> 18 | 240,\n            g[y++] = _ >> 12 & 63 | 128) : g[y++] = _ >> 12 | 224,\n            g[y++] = _ >> 6 & 63 | 128),\n            g[y++] = 63 & _ | 128)\n    }\n    for (var b = f, w = \"\".concat(String.fromCharCode(43)).concat(String.fromCharCode(45)).concat(String.fromCharCode(97)) + \"\".concat(String.fromCharCode(94)).concat(String.fromCharCode(43)).concat(String.fromCharCode(54)), k = \"\".concat(String.fromCharCode(43)).concat(String.fromCharCode(45)).concat(String.fromCharCode(51)) + \"\".concat(String.fromCharCode(94)).concat(String.fromCharCode(43)).concat(String.fromCharCode(98)) + \"\".concat(String.fromCharCode(43)).concat(String.fromCharCode(45)).concat(String.fromCharCode(102)), x = 0; x < g.length; x++)\n        b = n(b += g[x], w);\n    return b = n(b, k),\n    (b ^= m) < 0 && (b = 2147483648 + (2147483647 & b)),\n        \"\".concat((b %= 1e6).toString(), \".\").concat(b ^ f)\n}\n\nconsole.log(sign(\"ä½ å¥½\"))\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n\n\nè¿è¡ç»æ\n\n",normalizedContent:"# jsåæ\n\nè¯·æ±ç½ç«ï¼æ¥çæéè¦çæ°æ®ï¼æ¾å°æå¯¹åºçurl\n\n\n\nè¯·æ±åæ°ééè¦signåtoken\n\nè¿ä¸ªtokenè¯è¿äºä¸éè¦å¨ï¼åªéè§£å³signå³å¯\n\nsignæ¯æ ¹æ®è¾å¥çåå®¹çæç\n\n\n\nå¤å¶è¯·æ±çurlï¼https://fanyi.baidu.com/v2transapi\n\nåæä¸ªæ­ç¹\n\n\n\nç¹å»ç¿»è¯ï¼æ­ä½äºï¼å¯ä»¥çå°æ°æ®éææéè¦çsign\n\n\n\næä»¬éè¦æ¾å° ajax è¯·æ±ï¼ççéé¢çæ°æ®\n\nå¨ è°ç¨å æ éä¾æ¬¡ç¹å»ï¼æ¾å°éè¦çæ°æ®ï¼åç°å¨ç¬¬ä¸ä¸ªå æ é\n\ndata: w, wå°±æ¯è¯·æ±çæ°æ®ï¼\n\n\n\nå¯ä»¥æ§å¶å°è¾åºä¸ä¸ï¼éé¢ææéè¦çsignå¼\n\nåä¹åè¯·æ±ç¿»è¯âä½ å¥½âçsignä¸æ ·ï¼è¯´æå¼æ¯æ ¹æ®è¾å¥åå®¹çæç\n\n\n\næ ¹æ®wçåå®¹ï¼å¯ä»¥ç¥ésignæ¯ç± b(e) çæç\n\n w = {\n    from: v.fromlang,\n    to: v.tolang,\n    query: e,\n    transtype: i,\n    simple_means_flag: 3,\n    sign: b(e),\n    token: window.common.token,\n    domain: k.getcurdomain()\n},\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n\næ§å¶å°è¾åºä¸ä¸ b(e)ï¼è¿ä¸ªå¼å°±æ¯æä»¬æ³è¦ç\n\n b(e)\n'232427.485594'\n\n\n1\n2\n\n\né¼ æ åæ æ¾å°bä¸ï¼å·¦é®åå»è¿å¥æ¹æ³\n\n\n\nå¯ä»¥çå°ï¼è¿ä¸ªæ¹æ³å°±æ¯çæ sign ç\n\n\n\næ§è¡jsä»£ç \n\næç¨çpycharmï¼éè¦å®è£nodejsç¯å¢\n\nfunction sign(t) {\n    var o, i = t.match(/[\\ud800-\\udbff][\\udc00-\\udfff]/g);\n    if (null === i) {\n        var a = t.length;\n        a > 30 && (t = \"\".concat(t.substr(0, 10)).concat(t.substr(math.floor(a / 2) - 5, 10)).concat(t.substr(-10, 10)))\n    } else {\n        for (var s = t.split(/[\\ud800-\\udbff][\\udc00-\\udfff]/), c = 0, l = s.length, u = []; c < l; c++)\n            \"\" !== s[c] && u.push.apply(u, function (t) {\n                if (array.isarray(t))\n                    return e(t)\n            }(o = s[c].split(\"\")) || function (t) {\n                if (\"undefined\" != typeof symbol && null != t[symbol.iterator] || null != t[\"@@iterator\"])\n                    return array.from(t)\n            }(o) || function (t, n) {\n                if (t) {\n                    if (\"string\" == typeof t)\n                        return e(t, n);\n                    var r = object.prototype.tostring.call(t).slice(8, -1);\n                    return \"object\" === r && t.constructor && (r = t.constructor.name),\n                        \"map\" === r || \"set\" === r ? array.from(t) : \"arguments\" === r || /^(?:ui|i)nt(?:8|16|32)(?:clamped)?array$/.test(r) ? e(t, n) : void 0\n                }\n            }(o) || function () {\n                throw new typeerror(\"invalid attempt to spread non-iterable instance.\\nin order to be iterable, non-array objects must have a [symbol.iterator]() method.\")\n            }()),\n            c !== l - 1 && u.push(i[c]);\n        var p = u.length;\n        p > 30 && (t = u.slice(0, 10).join(\"\") + u.slice(math.floor(p / 2) - 5, math.floor(p / 2) + 5).join(\"\") + u.slice(-10).join(\"\"))\n    }\n    for (var d = \"\".concat(string.fromcharcode(103)).concat(string.fromcharcode(116)).concat(string.fromcharcode(107)), h = (null !== r ? r : (r = window[d] || \"\") || \"\").split(\".\"), f = number(h[0]) || 0, m = number(h[1]) || 0, g = [], y = 0, v = 0; v < t.length; v++) {\n        var _ = t.charcodeat(v);\n        _ < 128 ? g[y++] = _ : (_ < 2048 ? g[y++] = _ >> 6 | 192 : (55296 == (64512 & _) && v + 1 < t.length && 56320 == (64512 & t.charcodeat(v + 1)) ? (_ = 65536 + ((1023 & _) << 10) + (1023 & t.charcodeat(++v)),\n            g[y++] = _ >> 18 | 240,\n            g[y++] = _ >> 12 & 63 | 128) : g[y++] = _ >> 12 | 224,\n            g[y++] = _ >> 6 & 63 | 128),\n            g[y++] = 63 & _ | 128)\n    }\n    for (var b = f, w = \"\".concat(string.fromcharcode(43)).concat(string.fromcharcode(45)).concat(string.fromcharcode(97)) + \"\".concat(string.fromcharcode(94)).concat(string.fromcharcode(43)).concat(string.fromcharcode(54)), k = \"\".concat(string.fromcharcode(43)).concat(string.fromcharcode(45)).concat(string.fromcharcode(51)) + \"\".concat(string.fromcharcode(94)).concat(string.fromcharcode(43)).concat(string.fromcharcode(98)) + \"\".concat(string.fromcharcode(43)).concat(string.fromcharcode(45)).concat(string.fromcharcode(102)), x = 0; x < g.length; x++)\n        b = n(b += g[x], w);\n    return b = n(b, k),\n    (b ^= m) < 0 && (b = 2147483648 + (2147483647 & b)),\n        \"\".concat((b %= 1e6).tostring(), \".\").concat(b ^ f)\n}\nconsole.log(sign(\"ä½ å¥½\"))\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\næ§è¡ç»æï¼\n\n  for (var d = \"\".concat(string.fromcharcode(103)).concat(string.fromcharcode(116)).concat(string.fromcharcode(107)), h = (null !== r ? r : (r = window[d] || \"\") || \"\").split(\".\"), f = number(h[0]) || 0, m = number(h[1]) || 0, g = [], y = 0, v = 0; v < t.length; v++) {\n                                                                                                                            ^\n\nreferenceerror: r is not defined\n\n\n1\n2\n3\n4\n\n\n\n\næ¥éåå®¹æ¯r is not definedï¼æ¾ä¸å°r\n\nå®ä½å°æ¥éä»£ç æå¨è¡ï¼æä¸ªæ­ç¹\n\n\n\néæ°åéè¯·æ±ï¼ç¹è·³è½¬å°ä¸ä¸ä¸ªå½æ°è°ç¨ï¼æ§è¡\n\n\n\nå¯ä»¥çå°ræ¯ä¸ªå­ç¬¦ä¸²ï¼åå®¹ä¸ºï¼\"320305.131321201\"\n\n\n\næä»¬åæ r åæ­»\n\nvar r = \"320305.131321201\";\n\n\n1\n\n\néæ°æ§è¡ä¸jsï¼æ¥éæ¾ä¸å°næ¹æ³\n\n\n\nå»æ¾ä¸ä¸ n æ¹æ³ï¼æä¸ªæ­å®ï¼ç»§ç»­æ§è¡èæ¬\n\n\n\næ¾å°næ¹æ³\n\nfunction n(t, e) {\n    for (var n = 0; n < e.length - 2; n += 3) {\n        var r = e.charat(n + 2);\n        r = \"a\" <= r ? r.charcodeat(0) - 87 : number(r),\n        r = \"+\" === e.charat(n + 1) ? t >>> r : t << r,\n        t = \"+\" === e.charat(n) ? t + r & 4294967295 : t ^ r\n    }\n    return t\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nå®æ´ä»£ç js\n\nfunction n(t, e) {\n    for (var n = 0; n < e.length - 2; n += 3) {\n        var r = e.charat(n + 2);\n        r = \"a\" <= r ? r.charcodeat(0) - 87 : number(r),\n        r = \"+\" === e.charat(n + 1) ? t >>> r : t << r,\n        t = \"+\" === e.charat(n) ? t + r & 4294967295 : t ^ r\n    }\n    return t\n}\n\nvar r = \"320305.131321201\";\n\nfunction sign(t) {\n    var o, i = t.match(/[\\ud800-\\udbff][\\udc00-\\udfff]/g);\n    if (null === i) {\n        var a = t.length;\n        a > 30 && (t = \"\".concat(t.substr(0, 10)).concat(t.substr(math.floor(a / 2) - 5, 10)).concat(t.substr(-10, 10)))\n    } else {\n        for (var s = t.split(/[\\ud800-\\udbff][\\udc00-\\udfff]/), c = 0, l = s.length, u = []; c < l; c++)\n            \"\" !== s[c] && u.push.apply(u, function (t) {\n                if (array.isarray(t))\n                    return e(t)\n            }(o = s[c].split(\"\")) || function (t) {\n                if (\"undefined\" != typeof symbol && null != t[symbol.iterator] || null != t[\"@@iterator\"])\n                    return array.from(t)\n            }(o) || function (t, n) {\n                if (t) {\n                    if (\"string\" == typeof t)\n                        return e(t, n);\n                    var r = object.prototype.tostring.call(t).slice(8, -1);\n                    return \"object\" === r && t.constructor && (r = t.constructor.name),\n                        \"map\" === r || \"set\" === r ? array.from(t) : \"arguments\" === r || /^(?:ui|i)nt(?:8|16|32)(?:clamped)?array$/.test(r) ? e(t, n) : void 0\n                }\n            }(o) || function () {\n                throw new typeerror(\"invalid attempt to spread non-iterable instance.\\nin order to be iterable, non-array objects must have a [symbol.iterator]() method.\")\n            }()),\n            c !== l - 1 && u.push(i[c]);\n        var p = u.length;\n        p > 30 && (t = u.slice(0, 10).join(\"\") + u.slice(math.floor(p / 2) - 5, math.floor(p / 2) + 5).join(\"\") + u.slice(-10).join(\"\"))\n    }\n    for (var d = \"\".concat(string.fromcharcode(103)).concat(string.fromcharcode(116)).concat(string.fromcharcode(107)), h = (null !== r ? r : \"\").split(\".\"), f = number(h[0]) || 0, m = number(h[1]) || 0, g = [], y = 0, v = 0; v < t.length; v++) {\n        var _ = t.charcodeat(v);\n        _ < 128 ? g[y++] = _ : (_ < 2048 ? g[y++] = _ >> 6 | 192 : (55296 == (64512 & _) && v + 1 < t.length && 56320 == (64512 & t.charcodeat(v + 1)) ? (_ = 65536 + ((1023 & _) << 10) + (1023 & t.charcodeat(++v)),\n            g[y++] = _ >> 18 | 240,\n            g[y++] = _ >> 12 & 63 | 128) : g[y++] = _ >> 12 | 224,\n            g[y++] = _ >> 6 & 63 | 128),\n            g[y++] = 63 & _ | 128)\n    }\n    for (var b = f, w = \"\".concat(string.fromcharcode(43)).concat(string.fromcharcode(45)).concat(string.fromcharcode(97)) + \"\".concat(string.fromcharcode(94)).concat(string.fromcharcode(43)).concat(string.fromcharcode(54)), k = \"\".concat(string.fromcharcode(43)).concat(string.fromcharcode(45)).concat(string.fromcharcode(51)) + \"\".concat(string.fromcharcode(94)).concat(string.fromcharcode(43)).concat(string.fromcharcode(98)) + \"\".concat(string.fromcharcode(43)).concat(string.fromcharcode(45)).concat(string.fromcharcode(102)), x = 0; x < g.length; x++)\n        b = n(b += g[x], w);\n    return b = n(b, k),\n    (b ^= m) < 0 && (b = 2147483648 + (2147483647 & b)),\n        \"\".concat((b %= 1e6).tostring(), \".\").concat(b ^ f)\n}\n\nconsole.log(sign(\"ä½ å¥½\"))\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n\n\næ§è¡ç»æ\n\n232427.485594\n\n\n1\n\n\nåä¹åè¦çsignå¼ä¸æ ·\n\n\n# pythonç¬è«\n\nå¨æ­¤ç½ç«ä¸ï¼https://curlconverter.com/\n\næcurlè½¬æ¢æpythonä»£ç \n\n\n\npyhtonä»£ç ï¼\n\nimport json\nimport requests\nimport execjs\n\ndef get_sign(vlues):\n\n    # è¯»åjsæä»¶çåå®¹\n    with open('getsign.js', 'r', encoding='utf-8') as f:\n        js_code = f.read()\n\n    # éè¿execjs.compile()è¿è¡ç¼è¯jsæä»¶åå®¹\n    compile_result = execjs.compile(js_code)\n    # è°ç¨jsæä»¶ä¼ å\n    # weixinæ¯jsä¸­çfunctionæ¹æ³åï¼inpæ¯ç©¿çå\n    result = compile_result.call('sign', vlues)\n    return result\n\ndef spider(value):\n    cookies = {\n        'baiduid': 'e7e4e0567fbe9dedf43c583b9e60119f:fg=1',\n        'realtime_trans_switch': '1',\n        'fanyi_word_switch': '1',\n        'history_switch': '1',\n        'sound_spd_switch': '1',\n        'sound_prefer_switch': '1',\n        'bidupsid': 'e7e4e0567fbe9dedf43c583b9e60119f',\n        'pstm': '1662006000',\n        'appguide_10_0_2': '1',\n        'bdorz': 'b490b5ebf6f3cd402e515d22bcda1598',\n        'h_ps_pssid': '36547_38113_38359_38404_37862_38468_38174_38289_38257_37934_38382_26350_38417_37881',\n        'bdsfrcvid': '2afojec629rz1drfxd9v5p_3d5xzf9qth6aomm5w3l3q6y9kgdxmeg0pqx8g0kabmvkpogkkbmothn_f_2uxojjg8utvjec6eg0ptf8g0m5',\n        'h_bdclckid_sf': 'tjpjokdbjkd3jr5m-r5hmtcyqxby2c62aj0h5lqvwj5tmc_wkrcaqhdewm88-jqtxb7b_xnl3dtgshpc-tnvxjlidpkeq658fm3m0pne3l02v-j9e-t2yu_vxjjwqprmw23gwl7mwnrrsxa45j7cm4isebojlft-0bc4kkjxbnlweijejj6jk4jkdgaoj6cp',\n        'hm_lvt_64ecd82404c51e03dc91cb9e8c025574': '1678884815,1679816757',\n        'delper': '0',\n        'psino': '1',\n        'baiduid_bfess': 'e7e4e0567fbe9dedf43c583b9e60119f:fg=1',\n        'bdsfrcvid_bfess': '2afojec629rz1drfxd9v5p_3d5xzf9qth6aomm5w3l3q6y9kgdxmeg0pqx8g0kabmvkpogkkbmothn_f_2uxojjg8utvjec6eg0ptf8g0m5',\n        'h_bdclckid_sf_bfess': 'tjpjokdbjkd3jr5m-r5hmtcyqxby2c62aj0h5lqvwj5tmc_wkrcaqhdewm88-jqtxb7b_xnl3dtgshpc-tnvxjlidpkeq658fm3m0pne3l02v-j9e-t2yu_vxjjwqprmw23gwl7mwnrrsxa45j7cm4isebojlft-0bc4kkjxbnlweijejj6jk4jkdgaoj6cp',\n        'hm_lpvt_64ecd82404c51e03dc91cb9e8c025574': '1679827229',\n        'ab_sr': '1.0.1_zdc2nwq5odzindi1njczmtrjyjrlnwy3ytnhzmy2odayzjcxm2myzmm1odq1ztg4ntiwymnlowmwyjk4zjfhmjqzntbjmzvjyzg4ntmxodi0nweyndbindljyweyogy1ytlkzwqymzawzmu3mgy0n2zizjezmjm5zdzkowm3nja2mzaxmte0otkxntfhntmwymi5otm5ognkztfizjhina==',\n    }\n\n    headers = {\n        'accept': '*/*',\n        'accept-language': 'zh-cn,zh;q=0.9',\n        'acs-token': '1679831923507_1679831922998_wgggmv2y27gwwx9/lcuamp6dn3dazykshwvfdy3zvbgzlri8qcn5m+d4u6tzov0uv+9hmn2zaofoexol6ze8y6dt7j1azif96pjqk5w6odi5xz5h2+fnvgp+zzxlhhzr0v2c4q36hxgfr60nlxapjg/1ss+cnd71j94xdkakmzsasbjj4xbxqrmhcuc4udvtyjfijn5xciyhh9fwml6lxaknjatpdar0qnoufugfaaqgbzhyalwrnm7gev1vhwc9ebw6pdnhmzfmv1deij8pd86wgqwifji0l/njnjayb5/rlckajs3xfeamhdqi+ugpngy9rimdql15qldepywsncwsjh8q1a0emvvxjmfrq+8=',\n        'connection': 'keep-alive',\n        'content-type': 'application/x-www-form-urlencoded; charset=utf-8',\n        # 'cookie': 'baiduid=e7e4e0567fbe9dedf43c583b9e60119f:fg=1; realtime_trans_switch=1; fanyi_word_switch=1; history_switch=1; sound_spd_switch=1; sound_prefer_switch=1; bidupsid=e7e4e0567fbe9dedf43c583b9e60119f; pstm=1662006000; appguide_10_0_2=1; bdorz=b490b5ebf6f3cd402e515d22bcda1598; h_ps_pssid=36547_38113_38359_38404_37862_38468_38174_38289_38257_37934_38382_26350_38417_37881; bdsfrcvid=2afojec629rz1drfxd9v5p_3d5xzf9qth6aomm5w3l3q6y9kgdxmeg0pqx8g0kabmvkpogkkbmothn_f_2uxojjg8utvjec6eg0ptf8g0m5; h_bdclckid_sf=tjpjokdbjkd3jr5m-r5hmtcyqxby2c62aj0h5lqvwj5tmc_wkrcaqhdewm88-jqtxb7b_xnl3dtgshpc-tnvxjlidpkeq658fm3m0pne3l02v-j9e-t2yu_vxjjwqprmw23gwl7mwnrrsxa45j7cm4isebojlft-0bc4kkjxbnlweijejj6jk4jkdgaoj6cp; hm_lvt_64ecd82404c51e03dc91cb9e8c025574=1678884815,1679816757; delper=0; psino=1; baiduid_bfess=e7e4e0567fbe9dedf43c583b9e60119f:fg=1; bdsfrcvid_bfess=2afojec629rz1drfxd9v5p_3d5xzf9qth6aomm5w3l3q6y9kgdxmeg0pqx8g0kabmvkpogkkbmothn_f_2uxojjg8utvjec6eg0ptf8g0m5; h_bdclckid_sf_bfess=tjpjokdbjkd3jr5m-r5hmtcyqxby2c62aj0h5lqvwj5tmc_wkrcaqhdewm88-jqtxb7b_xnl3dtgshpc-tnvxjlidpkeq658fm3m0pne3l02v-j9e-t2yu_vxjjwqprmw23gwl7mwnrrsxa45j7cm4isebojlft-0bc4kkjxbnlweijejj6jk4jkdgaoj6cp; hm_lpvt_64ecd82404c51e03dc91cb9e8c025574=1679827229; ab_sr=1.0.1_zdc2nwq5odzindi1njczmtrjyjrlnwy3ytnhzmy2odayzjcxm2myzmm1odq1ztg4ntiwymnlowmwyjk4zjfhmjqzntbjmzvjyzg4ntmxodi0nweyndbindljyweyogy1ytlkzwqymzawzmu3mgy0n2zizjezmjm5zdzkowm3nja2mzaxmte0otkxntfhntmwymi5otm5ognkztfizjhina==',\n        'origin': 'https://fanyi.baidu.com',\n        'referer': 'https://fanyi.baidu.com/',\n        'sec-fetch-dest': 'empty',\n        'sec-fetch-mode': 'cors',\n        'sec-fetch-site': 'same-origin',\n        'user-agent': 'mozilla/5.0 (windows nt 10.0; win64; x64) applewebkit/537.36 (khtml, like gecko) chrome/111.0.0.0 safari/537.36',\n        'x-requested-with': 'xmlhttprequest',\n        'sec-ch-ua': '\"google chrome\";v=\"111\", \"not(a:brand\";v=\"8\", \"chromium\";v=\"111\"',\n        'sec-ch-ua-mobile': '?0',\n        'sec-ch-ua-platform': '\"windows\"',\n        'token': 'eyj0exaioijkv1qilcjhbgcioijiuzi1nij9.eyjwa19pzci6mswiyv9pzci6iiisimr0exblijoxlcjpzci6mswizxhwijoxnjc4nzi0mtqxlcj0exblijoiexp5iiwiawf0ijoxnjc4nze2otqxfq.ztx8dp3ooctz9nc5xf6tq3cfatdteb4gxwxbg14b780',\n        'uid': '1',\n    }\n\n    params = {\n        'from': 'zh',\n        'to': 'en',\n    }\n\n    data = {\n        'from': 'zh',\n        'to': 'en',\n        'query': value,\n        'transtype': 'translang',\n        'simple_means_flag': '3',\n        'sign': get_sign(value),\n        'token': '34032f562bee3207e4dc0085490c43e3',\n        'domain': 'common',\n    }\n\n    response = requests.post('https://fanyi.baidu.com/v2transapi', params=params, cookies=cookies, headers=headers,\n                             data=data)\n    res = json.loads(response.text)\n    print(res)\n\nif __name__ == '__main__':\n    spider('ä½ å¥½')\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n\n\njsï¼\n\nfunction n(t, e) {\n    for (var n = 0; n < e.length - 2; n += 3) {\n        var r = e.charat(n + 2);\n        r = \"a\" <= r ? r.charcodeat(0) - 87 : number(r),\n        r = \"+\" === e.charat(n + 1) ? t >>> r : t << r,\n        t = \"+\" === e.charat(n) ? t + r & 4294967295 : t ^ r\n    }\n    return t\n}\n\nvar r = \"320305.131321201\";\n\nfunction sign(t) {\n    var o, i = t.match(/[\\ud800-\\udbff][\\udc00-\\udfff]/g);\n    if (null === i) {\n        var a = t.length;\n        a > 30 && (t = \"\".concat(t.substr(0, 10)).concat(t.substr(math.floor(a / 2) - 5, 10)).concat(t.substr(-10, 10)))\n    } else {\n        for (var s = t.split(/[\\ud800-\\udbff][\\udc00-\\udfff]/), c = 0, l = s.length, u = []; c < l; c++)\n            \"\" !== s[c] && u.push.apply(u, function (t) {\n                if (array.isarray(t))\n                    return e(t)\n            }(o = s[c].split(\"\")) || function (t) {\n                if (\"undefined\" != typeof symbol && null != t[symbol.iterator] || null != t[\"@@iterator\"])\n                    return array.from(t)\n            }(o) || function (t, n) {\n                if (t) {\n                    if (\"string\" == typeof t)\n                        return e(t, n);\n                    var r = object.prototype.tostring.call(t).slice(8, -1);\n                    return \"object\" === r && t.constructor && (r = t.constructor.name),\n                        \"map\" === r || \"set\" === r ? array.from(t) : \"arguments\" === r || /^(?:ui|i)nt(?:8|16|32)(?:clamped)?array$/.test(r) ? e(t, n) : void 0\n                }\n            }(o) || function () {\n                throw new typeerror(\"invalid attempt to spread non-iterable instance.\\nin order to be iterable, non-array objects must have a [symbol.iterator]() method.\")\n            }()),\n            c !== l - 1 && u.push(i[c]);\n        var p = u.length;\n        p > 30 && (t = u.slice(0, 10).join(\"\") + u.slice(math.floor(p / 2) - 5, math.floor(p / 2) + 5).join(\"\") + u.slice(-10).join(\"\"))\n    }\n    for (var d = \"\".concat(string.fromcharcode(103)).concat(string.fromcharcode(116)).concat(string.fromcharcode(107)), h = (null !== r ? r : \"\").split(\".\"), f = number(h[0]) || 0, m = number(h[1]) || 0, g = [], y = 0, v = 0; v < t.length; v++) {\n        var _ = t.charcodeat(v);\n        _ < 128 ? g[y++] = _ : (_ < 2048 ? g[y++] = _ >> 6 | 192 : (55296 == (64512 & _) && v + 1 < t.length && 56320 == (64512 & t.charcodeat(v + 1)) ? (_ = 65536 + ((1023 & _) << 10) + (1023 & t.charcodeat(++v)),\n            g[y++] = _ >> 18 | 240,\n            g[y++] = _ >> 12 & 63 | 128) : g[y++] = _ >> 12 | 224,\n            g[y++] = _ >> 6 & 63 | 128),\n            g[y++] = 63 & _ | 128)\n    }\n    for (var b = f, w = \"\".concat(string.fromcharcode(43)).concat(string.fromcharcode(45)).concat(string.fromcharcode(97)) + \"\".concat(string.fromcharcode(94)).concat(string.fromcharcode(43)).concat(string.fromcharcode(54)), k = \"\".concat(string.fromcharcode(43)).concat(string.fromcharcode(45)).concat(string.fromcharcode(51)) + \"\".concat(string.fromcharcode(94)).concat(string.fromcharcode(43)).concat(string.fromcharcode(98)) + \"\".concat(string.fromcharcode(43)).concat(string.fromcharcode(45)).concat(string.fromcharcode(102)), x = 0; x < g.length; x++)\n        b = n(b += g[x], w);\n    return b = n(b, k),\n    (b ^= m) < 0 && (b = 2147483648 + (2147483647 & b)),\n        \"\".concat((b %= 1e6).tostring(), \".\").concat(b ^ f)\n}\n\nconsole.log(sign(\"ä½ å¥½\"))\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n\n\nè¿è¡ç»æ\n\n",charsets:{cjk:!0},lastUpdated:"2023/03/27, 13:03:00",lastUpdatedTimestamp:1679922049e3},{title:"ææ¡£å¯ç ç ´è§£",frontmatter:{title:"ææ¡£å¯ç ç ´è§£",date:"2024-01-30T16:19:06.000Z",permalink:"/pages/7de988/"},regularPath:"/20.%E7%88%AC%E8%99%AB/04.%E6%96%87%E6%A1%A3%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3.html",relativePath:"20.ç¬è«/04.ææ¡£å¯ç ç ´è§£.md",key:"v-23d64f0e",path:"/pages/7de988/",headers:[{level:2,title:"æææ¡£ä¸",slug:"æææ¡£ä¸",normalizedTitle:"æææ¡£ä¸",charIndex:2},{level:2,title:"æææ¡£äº",slug:"æææ¡£äº",normalizedTitle:"æææ¡£äº",charIndex:619}],headersStr:"æææ¡£ä¸ æææ¡£äº",content:'# æææ¡£ä¸\n\næµè§æææ¯ææ¡£æ¶ï¼åç°æ­¤ææ¡£éè¦éªè¯ç ï¼èéªè¯ç éå å¥ç¥è¯æçæè½çå°\n\n\n\näºæ¯åççè½ä¸è½ç ´è§£å¯ï¼æå¼ F12 ï¼åéä¾¿è¾å¥ä¸ªéªè¯ç ï¼ççæ¯ä¸æ¯å¨æéªè¯ç\n\n\n\nXHR è¯·æ±éæè¯·æ±è¿è¡éªè¯\n\n\n\næ ¹æ®æ­¤é¾æ¥å»æä¸ªæ­ç¹çç\n\n\n\néæ°è¾å¥éªè¯ç åèµ·è¯·æ±ï¼æ¥çåæä»£ç \n\n\n\nè¿éå¾å®¹æå°±ç¥éï¼å½ s ä¸ç­äº i æ¶ä»£è¡¨éªè¯ç éè¯¯\n\næä»¬åªéè¦è®© s==i å°±å¯ä»¥\n\n if (st.log("md5Input", s),\n\t!= i)\n\t\tthrow new Error("éªè¯ç éè¯¯ï¼")\n\n\n1\n2\n3\n\n\næä¸ªæ­ç¹ï¼ççä»ä¿©å¼æ¯å¤å°\n\n\n\nå³ä¸è§ç»§ç»­æ§è¡\n\n\n\ni å°±æ¯ XHR è¯·æ±è¿åæ°æ®ä¸­çå­æ®µ description çå¼\n\ns å°±æ¯ y7.MD5(o).toString() ï¼o å°±æ¯è¾å¥çéªè¯ç \n\n\n\næä»¬åªè¦æ s çåå®¹æ¹æ "e74eb4201f9376041508fc2219a125e2" å°±è¡äº\n\nä½ç¨åéç´æ¥æ¿æ¢å°±è¡äº\n\n\n\næ¥çç»§ç»­æ§è¡ï¼æç¤ºææ¡£è§£éæå\n\n\n\n> åºå®è¿ååå®¹\n\néªè¯ç å¯è½ä¼å®ææ´æ¢ï¼æä»¬ä¹å¯ä»¥æ´æ¹æ¥å£çè¿ååå®¹ï¼è¿æ ·å°±ä¸ç¨æå¿æ´æ¢\n\nä½¿ç¨ä¸æ¬¾æå±ç¨åºï¼Requestly: Open Source HTTPs Debugging Proxy\n\n\n\næ·»å ä¸ä¸ª Modify API Responseï¼ä¿®æ¹APIååºï¼çè§å\n\nç´æ¥è¿åæä»¬èªå·±æ³è¦ç\n\n\n\n\n# æææ¡£äº\n\næµè§å¦ä¸å¹³å°çææ¡£ï¼ä¹æ¯éè¦éªè¯ç \n\n\n\néæºè¾å¥ä¸ä¸ªéªè¯ç åï¼æ²¡æç½ç»è¯·æ±ï¼å¯ä»¥æ­å®éªè¯ç å¨æ¬å°\n\n\n\nåç¨ç¼å­ï¼éæ°å·æ°ç½é¡µï¼æç´¢å³é®å­ï¼è§£ééªè¯ç æè¯¯\n\n\n\nå»åæä¸ä»£ç \n\n\n\næ ¹æ®è¿åä»£ç ææå°±æ¯\n\nè¾å¥æ¡ id="unlockCode" çå¼å e æ¯è¾ï¼å­å¨ä¹å°±æ¯ >= 0 å°±è®¾ç½® Cookies å¦åå°±æ¯éªè¯ç éè¯¯\n\næä»¥ e å°±æ¯å¯ç \n\n\n\nè¿ä¸ªè¾å¥æ¡ä¹æ­£å¥½æ¯ éªè¯ç  çè¾å¥æ¡\n\n\n\né¼ æ æ¾è¿å»å°±ç¥éäºå¯ç \n\n',normalizedContent:'# æææ¡£ä¸\n\næµè§æææ¯ææ¡£æ¶ï¼åç°æ­¤ææ¡£éè¦éªè¯ç ï¼èéªè¯ç éå å¥ç¥è¯æçæè½çå°\n\n\n\näºæ¯åççè½ä¸è½ç ´è§£å¯ï¼æå¼ f12 ï¼åéä¾¿è¾å¥ä¸ªéªè¯ç ï¼ççæ¯ä¸æ¯å¨æéªè¯ç\n\n\n\nxhr è¯·æ±éæè¯·æ±è¿è¡éªè¯\n\n\n\næ ¹æ®æ­¤é¾æ¥å»æä¸ªæ­ç¹çç\n\n\n\néæ°è¾å¥éªè¯ç åèµ·è¯·æ±ï¼æ¥çåæä»£ç \n\n\n\nè¿éå¾å®¹æå°±ç¥éï¼å½ s ä¸ç­äº i æ¶ä»£è¡¨éªè¯ç éè¯¯\n\næä»¬åªéè¦è®© s==i å°±å¯ä»¥\n\n if (st.log("md5input", s),\n\t!= i)\n\t\tthrow new error("éªè¯ç éè¯¯ï¼")\n\n\n1\n2\n3\n\n\næä¸ªæ­ç¹ï¼ççä»ä¿©å¼æ¯å¤å°\n\n\n\nå³ä¸è§ç»§ç»­æ§è¡\n\n\n\ni å°±æ¯ xhr è¯·æ±è¿åæ°æ®ä¸­çå­æ®µ description çå¼\n\ns å°±æ¯ y7.md5(o).tostring() ï¼o å°±æ¯è¾å¥çéªè¯ç \n\n\n\næä»¬åªè¦æ s çåå®¹æ¹æ "e74eb4201f9376041508fc2219a125e2" å°±è¡äº\n\nä½ç¨åéç´æ¥æ¿æ¢å°±è¡äº\n\n\n\næ¥çç»§ç»­æ§è¡ï¼æç¤ºææ¡£è§£éæå\n\n\n\n> åºå®è¿ååå®¹\n\néªè¯ç å¯è½ä¼å®ææ´æ¢ï¼æä»¬ä¹å¯ä»¥æ´æ¹æ¥å£çè¿ååå®¹ï¼è¿æ ·å°±ä¸ç¨æå¿æ´æ¢\n\nä½¿ç¨ä¸æ¬¾æå±ç¨åºï¼requestly: open source https debugging proxy\n\n\n\næ·»å ä¸ä¸ª modify api responseï¼ä¿®æ¹apiååºï¼çè§å\n\nç´æ¥è¿åæä»¬èªå·±æ³è¦ç\n\n\n\n\n# æææ¡£äº\n\næµè§å¦ä¸å¹³å°çææ¡£ï¼ä¹æ¯éè¦éªè¯ç \n\n\n\néæºè¾å¥ä¸ä¸ªéªè¯ç åï¼æ²¡æç½ç»è¯·æ±ï¼å¯ä»¥æ­å®éªè¯ç å¨æ¬å°\n\n\n\nåç¨ç¼å­ï¼éæ°å·æ°ç½é¡µï¼æç´¢å³é®å­ï¼è§£ééªè¯ç æè¯¯\n\n\n\nå»åæä¸ä»£ç \n\n\n\næ ¹æ®è¿åä»£ç ææå°±æ¯\n\nè¾å¥æ¡ id="unlockcode" çå¼å e æ¯è¾ï¼å­å¨ä¹å°±æ¯ >= 0 å°±è®¾ç½® cookies å¦åå°±æ¯éªè¯ç éè¯¯\n\næä»¥ e å°±æ¯å¯ç \n\n\n\nè¿ä¸ªè¾å¥æ¡ä¹æ­£å¥½æ¯ éªè¯ç  çè¾å¥æ¡\n\n\n\né¼ æ æ¾è¿å»å°±ç¥éäºå¯ç \n\n',charsets:{cjk:!0},lastUpdated:"2025/09/06, 15:09:00",lastUpdatedTimestamp:1757170909e3},{title:"æ é¢ - ç®å½çæ",frontmatter:{title:"æ é¢ - ç®å½çæ",date:"2021-05-16T23:36:45.000Z",permalink:"/pages/2bde62/"},regularPath:"/10.%E5%85%B3%E4%BA%8E/02.%E5%85%B3%E4%BA%8E%20-%20%E6%9C%AC%E7%AB%99/11.%E6%A0%87%E9%A2%98%20-%20%E7%9B%AE%E5%BD%95%E7%94%9F%E6%88%90.html",relativePath:"10.å³äº/02.å³äº - æ¬ç«/11.æ é¢ - ç®å½çæ.md",key:"v-bbc08472",path:"/pages/2bde62/",headers:[{level:2,title:"æ é¢ç®å½çæ",slug:"æ é¢ç®å½çæ",normalizedTitle:"æ é¢ç®å½çæ",charIndex:3},{level:3,title:"typora",slug:"typora",normalizedTitle:"typora",charIndex:15},{level:3,title:"vuepress",slug:"vuepress",normalizedTitle:"vuepress",charIndex:27},{level:4,title:"markdown.extractHeaders",slug:"markdown-extractheaders",normalizedTitle:"markdown.extractheaders",charIndex:254},{level:3,title:"DoCToc",slug:"doctoc",normalizedTitle:"doctoc",charIndex:41},{level:2,title:"æ é¢å»ºè®®",slug:"æ é¢å»ºè®®",normalizedTitle:"æ é¢å»ºè®®",charIndex:51}],headersStr:"æ é¢ç®å½çæ typora vuepress markdown.extractHeaders DoCToc æ é¢å»ºè®®",content:" * æ é¢ç®å½çæ\n   * typora\n   * vuepress\n   * DoCToc\n * æ é¢å»ºè®®\n\n\n\n\n# æ é¢ç®å½çæ\n\næ¨èä½¿ç¨DocTocï¼ä½¿ç¨èªå¸¦çvuepresså³å¯\n\n\n# typora\n\nè¾å¥\n\n[TOC]\n\n\n1\n\n\nçææææ é¢\n\nä½ä¸è½å¨ github vuepress ä¸­æ­£å¸¸æ¾ç¤ºï¼å¯å¨ csdn ä¸­ä½¿ç¨\n\n\n# vuepress\n\nè¾å¥\n\n[[TOC]]\n\n\n1\n\n\nåªçæäºçº§ãä¸çº§æ é¢ï¼æ°çæ¬å¯ä»¥ä½¿ç®å½æ æ¯æh2~h6æ é¢\n\nåªå¨ vuepress ä¸­æ¾ç¤º\n\n# markdown.extractHeaders\n\n * ç±»å: Array\n * é»è®¤å¼: ['h2', 'h3']\n\nMarkdown æä»¶ç headers (æ é¢ & å°æ é¢) ä¼å¨åå¤é¶æ®µè¢«æååºæ¥ï¼å¹¶å­å¨å¨ this.$page.headers ä¸­ãé»è®¤æåµä¸ï¼VuePress ä¼æå h2 å h3 æ é¢ãä½ å¯ä»¥éè¿è¿ä¸ªéé¡¹æ¥ä¿®æ¹æååºçæ é¢çº§å«ã\n\nmodule.exports = {\n  markdown: {\n    extractHeaders: [ 'h2', 'h3', 'h4', 'h5', 'h6' ]\n  }\n}\n\n\n1\n2\n3\n4\n5\n\n\næ³¨ï¼æ­¤éç½®æ¥èª VuePresså®æ¹ææ¡£\n\n\n# DoCToc\n\nDocTocï¼ä¸ºæ¬å°gitä»åºåçmarkdownæä»¶çæç®å½ãé¾æ¥ä¸githubæå¶ä»ç«ç¹çæçéç¹å¼å®¹ã\n\nå¨å±å®è£\n\nnpm install -g doctoc\n\n\n1\n\n\nä½¿ç¨æ¹æ³ï¼\n\nå®æ¹ææ¡£ï¼https://www.npmjs.com/package/doctoc\n\nDocToc é»è®¤å¨é¡¶å¤´çæç®å½ï¼ä½å¨ vuepress ä¸­é¡¶å¤´åçæ¯éç½®\n\næä»¥éè¦èªå®ä¹ç®å½ä½ç½®\n\n\x3c!-- START doctoc --\x3e\n\x3c!-- END doctoc --\x3e\n\n\n1\n2\n\n\nä¾å¦ï¼\n\n// my_new_post.md\nHere we are, introducing the post. It's going to be great!\nBut first: a TOC for easy reference.\n\n\x3c!-- START doctoc --\x3e\n\x3c!-- END doctoc --\x3e\n\n# Section One\n\nHere we'll discuss...\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nçæç®å½\n\nçæä¸ä¸ªæä»¶ README.md\n\ndoctoc README.md --github\n\n\n1\n\n\næ´æ°ç®å½\n\næ´æ°ä¸ä¸ªæä»¶ README.md\n\ndoctoc README.md --github -u\n\n\n1\n\n\nç®å½ä¸æææä»¶ä¸é®çæ\n\nå¨é¡¹ç®æ ¹ç®å½ä¸­\n\ndoctoc . --github -u\n\n\n1\n\n\næ­¤å½ä»¤åªä¼å¨ææ è®°è®°å½çmdæä»¶ çæ/æ´æ° ç®å½\n\nè¥ä½ æ³æ¯ä¸ªæä»¶é½çæï¼éè¦èªå·±å¨æ¯ä¸ªæä»¶ä¸­å ä¸æ è®°\n\n\n# æ é¢å»ºè®®\n\nä¸ºäºé¾æ¥éé github å vuepress æ é¢éç¹å¼å®¹\n\nå»ºè®®\n\n * ä¸è¦ä½¿ç¨å°åæ°å­+ç©ºæ ¼ï¼å¯ç¨å¤§åæ°å­+ç©ºæ ¼\n\n * ä¸è¦ä½¿ç¨ç¬¦å·\n   \n   å¯ä»¥ç¨ç©ºæ ¼ï¼ä¸åªè½ä¸ä¸ªç©ºæ ¼\n\n * ä¸çº§æ é¢åæ´å°æ é¢ä¸å¯æ·»å ç¬¦å·åç©ºæ ¼\n\næ­£ç¡®ï¼\n\n## ä¸ javaç®ä»\n## äº Javaçç¹æ§åä¼å¿\n## Javaä¸å¤§çæ¬\n\n\n1\n2\n3\n\n\néè¯¯\n\n//ä½¿ç¨äºä¸ªç©ºæ ¼\n## ä¸  javaç®ä»\n//ä½¿ç¨ç¬¦å·\n## 2ãjavaç®ä»\n\n//ä¸çº§åä»¥ä¸æ é¢ä¸å¯å ç¬¦å·åç©ºæ ¼\n### ä¸ Javaä¸å¤§çæ¬\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nä¸¤èçæçéç¹é¾æ¥å·®å¼ï¼è®¿é®ä¸æ\n\næ»ç»ï¼ä¸ç¨ç¬¦å·",normalizedContent:" * æ é¢ç®å½çæ\n   * typora\n   * vuepress\n   * doctoc\n * æ é¢å»ºè®®\n\n\n\n\n# æ é¢ç®å½çæ\n\næ¨èä½¿ç¨doctocï¼ä½¿ç¨èªå¸¦çvuepresså³å¯\n\n\n# typora\n\nè¾å¥\n\n[toc]\n\n\n1\n\n\nçææææ é¢\n\nä½ä¸è½å¨ github vuepress ä¸­æ­£å¸¸æ¾ç¤ºï¼å¯å¨ csdn ä¸­ä½¿ç¨\n\n\n# vuepress\n\nè¾å¥\n\n[[toc]]\n\n\n1\n\n\nåªçæäºçº§ãä¸çº§æ é¢ï¼æ°çæ¬å¯ä»¥ä½¿ç®å½æ æ¯æh2~h6æ é¢\n\nåªå¨ vuepress ä¸­æ¾ç¤º\n\n# markdown.extractheaders\n\n * ç±»å: array\n * é»è®¤å¼: ['h2', 'h3']\n\nmarkdown æä»¶ç headers (æ é¢ & å°æ é¢) ä¼å¨åå¤é¶æ®µè¢«æååºæ¥ï¼å¹¶å­å¨å¨ this.$page.headers ä¸­ãé»è®¤æåµä¸ï¼vuepress ä¼æå h2 å h3 æ é¢ãä½ å¯ä»¥éè¿è¿ä¸ªéé¡¹æ¥ä¿®æ¹æååºçæ é¢çº§å«ã\n\nmodule.exports = {\n  markdown: {\n    extractheaders: [ 'h2', 'h3', 'h4', 'h5', 'h6' ]\n  }\n}\n\n\n1\n2\n3\n4\n5\n\n\næ³¨ï¼æ­¤éç½®æ¥èª vuepresså®æ¹ææ¡£\n\n\n# doctoc\n\ndoctocï¼ä¸ºæ¬å°gitä»åºåçmarkdownæä»¶çæç®å½ãé¾æ¥ä¸githubæå¶ä»ç«ç¹çæçéç¹å¼å®¹ã\n\nå¨å±å®è£\n\nnpm install -g doctoc\n\n\n1\n\n\nä½¿ç¨æ¹æ³ï¼\n\nå®æ¹ææ¡£ï¼https://www.npmjs.com/package/doctoc\n\ndoctoc é»è®¤å¨é¡¶å¤´çæç®å½ï¼ä½å¨ vuepress ä¸­é¡¶å¤´åçæ¯éç½®\n\næä»¥éè¦èªå®ä¹ç®å½ä½ç½®\n\n\x3c!-- start doctoc --\x3e\n\x3c!-- end doctoc --\x3e\n\n\n1\n2\n\n\nä¾å¦ï¼\n\n// my_new_post.md\nhere we are, introducing the post. it's going to be great!\nbut first: a toc for easy reference.\n\n\x3c!-- start doctoc --\x3e\n\x3c!-- end doctoc --\x3e\n\n# section one\n\nhere we'll discuss...\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nçæç®å½\n\nçæä¸ä¸ªæä»¶ readme.md\n\ndoctoc readme.md --github\n\n\n1\n\n\næ´æ°ç®å½\n\næ´æ°ä¸ä¸ªæä»¶ readme.md\n\ndoctoc readme.md --github -u\n\n\n1\n\n\nç®å½ä¸æææä»¶ä¸é®çæ\n\nå¨é¡¹ç®æ ¹ç®å½ä¸­\n\ndoctoc . --github -u\n\n\n1\n\n\næ­¤å½ä»¤åªä¼å¨ææ è®°è®°å½çmdæä»¶ çæ/æ´æ° ç®å½\n\nè¥ä½ æ³æ¯ä¸ªæä»¶é½çæï¼éè¦èªå·±å¨æ¯ä¸ªæä»¶ä¸­å ä¸æ è®°\n\n\n# æ é¢å»ºè®®\n\nä¸ºäºé¾æ¥éé github å vuepress æ é¢éç¹å¼å®¹\n\nå»ºè®®\n\n * ä¸è¦ä½¿ç¨å°åæ°å­+ç©ºæ ¼ï¼å¯ç¨å¤§åæ°å­+ç©ºæ ¼\n\n * ä¸è¦ä½¿ç¨ç¬¦å·\n   \n   å¯ä»¥ç¨ç©ºæ ¼ï¼ä¸åªè½ä¸ä¸ªç©ºæ ¼\n\n * ä¸çº§æ é¢åæ´å°æ é¢ä¸å¯æ·»å ç¬¦å·åç©ºæ ¼\n\næ­£ç¡®ï¼\n\n## ä¸ javaç®ä»\n## äº javaçç¹æ§åä¼å¿\n## javaä¸å¤§çæ¬\n\n\n1\n2\n3\n\n\néè¯¯\n\n//ä½¿ç¨äºä¸ªç©ºæ ¼\n## ä¸  javaç®ä»\n//ä½¿ç¨ç¬¦å·\n## 2ãjavaç®ä»\n\n//ä¸çº§åä»¥ä¸æ é¢ä¸å¯å ç¬¦å·åç©ºæ ¼\n### ä¸ javaä¸å¤§çæ¬\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nä¸¤èçæçéç¹é¾æ¥å·®å¼ï¼è®¿é®ä¸æ\n\næ»ç»ï¼ä¸ç¨ç¬¦å·",charsets:{cjk:!0},lastUpdated:"2022/06/12, 3:06:00",lastUpdatedTimestamp:165500324e4},{title:"å½æ¡£",frontmatter:{archivesPage:!0,title:"å½æ¡£",permalink:"/archives/",article:!1},regularPath:"/@pages/archivesPage.html",relativePath:"@pages/archivesPage.md",key:"v-536574fe",path:"/archives/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2021/05/26, 10:05:00",lastUpdatedTimestamp:1622024154e3},{title:"AI è§£è¯»é¡¹ç®",frontmatter:{title:"AI è§£è¯»é¡¹ç®",date:"2025-08-25T20:46:37.000Z",permalink:"/pages/86599a/"},regularPath:"/30.AI/01.AI%20%E8%A7%A3%E8%AF%BB%E9%A1%B9%E7%9B%AE.html",relativePath:"30.AI/01.AI è§£è¯»é¡¹ç®.md",key:"v-fc806cac",path:"/pages/86599a/",headers:[{level:2,title:"ð ä¸åééé DeepWiki",slug:"ð-ä¸åééé-deepwiki",normalizedTitle:"ð ä¸åééé deepwiki",charIndex:45}],headersStr:"ð ä¸åééé DeepWiki",content:"----------------------------------------\n\n\n# ð ä¸åééé DeepWiki\n\nå«ç¡¬åä»£ç äºï¼DeepWiki ææ¯å½ä»£æå·¥äººçç»­å½ç¥å¨ãåæ¾ç»è®ºï¼\n\n * 10 åé çæä¸ä»½å¸¦æ¶æå¾ãæ¶åºå¾ãç±»å¾çè¶è¯¦ç» Wiki\n * ç´æ¥å¯¹è¯ ä»£ç åºï¼åªéä¸ä¼é®åªé\n * å®å¨åè´¹ï¼ç§æåºä¹æ¯æï¼åé¢è®²å§¿å¿ï¼\n\nä½å¸®å©æºæéçï¼ä¸è¿è¿æ¯å¯ä»¥æé«éè¯»æç\n\nåºæ¯      ååæ³                               DEEPWIKI åæ³\nè¯»å¼æºé¡¹ç®   git clone â ç¿» README â çç®å½ â æ¾å¼   https://deepwiki.com/owner/repo ä¸ææ¢­\nçç§æé¡¹ç®   æ­ VPN + æä»£ç  + æ¬å° IDE å¨å±æç´¢         æ¬å° Docker ä¸é®é¨ç½²ï¼ä»£ç ä¸è½å°\nåææ¯ææ¡£   æç»æ¶æå¾ + å Markdown â æ°¸è¿è½åä»£ç        AI èªå¨çæï¼æ¯æ¬¡ commit é½è½éæ°çæ\n\n> ð§ ç©æ³\n\nç©æ³        å½ä»¤ / å°å                                        ææ\nç´æ¥è·³è½¬      https://deepwiki.com/owner/repo                å·²ç´¢å¼é¡¹ç®ç§å¼\næµè§å¨å°ä¹¦ç­¾    æ GitHub å°åæ  github æ¹æ deepwiki                ä¸é®åæ¢\næºç &é¨ç½²æå   https://github.com/AsyncFuncAI/deepwiki-open   æå¿ä»£ç æ³é²ï¼å¯èªå·±é¨ç½²ä½¿ç¨\n\n----------------------------------------",normalizedContent:"----------------------------------------\n\n\n# ð ä¸åééé deepwiki\n\nå«ç¡¬åä»£ç äºï¼deepwiki ææ¯å½ä»£æå·¥äººçç»­å½ç¥å¨ãåæ¾ç»è®ºï¼\n\n * 10 åé çæä¸ä»½å¸¦æ¶æå¾ãæ¶åºå¾ãç±»å¾çè¶è¯¦ç» wiki\n * ç´æ¥å¯¹è¯ ä»£ç åºï¼åªéä¸ä¼é®åªé\n * å®å¨åè´¹ï¼ç§æåºä¹æ¯æï¼åé¢è®²å§¿å¿ï¼\n\nä½å¸®å©æºæéçï¼ä¸è¿è¿æ¯å¯ä»¥æé«éè¯»æç\n\nåºæ¯      ååæ³                               deepwiki åæ³\nè¯»å¼æºé¡¹ç®   git clone â ç¿» readme â çç®å½ â æ¾å¼   https://deepwiki.com/owner/repo ä¸ææ¢­\nçç§æé¡¹ç®   æ­ vpn + æä»£ç  + æ¬å° ide å¨å±æç´¢         æ¬å° docker ä¸é®é¨ç½²ï¼ä»£ç ä¸è½å°\nåææ¯ææ¡£   æç»æ¶æå¾ + å markdown â æ°¸è¿è½åä»£ç        ai èªå¨çæï¼æ¯æ¬¡ commit é½è½éæ°çæ\n\n> ð§ ç©æ³\n\nç©æ³        å½ä»¤ / å°å                                        ææ\nç´æ¥è·³è½¬      https://deepwiki.com/owner/repo                å·²ç´¢å¼é¡¹ç®ç§å¼\næµè§å¨å°ä¹¦ç­¾    æ github å°åæ  github æ¹æ deepwiki                ä¸é®åæ¢\næºç &é¨ç½²æå   https://github.com/asyncfuncai/deepwiki-open   æå¿ä»£ç æ³é²ï¼å¯èªå·±é¨ç½²ä½¿ç¨\n\n----------------------------------------",charsets:{cjk:!0},lastUpdated:"2025/09/06, 15:09:00",lastUpdatedTimestamp:1757171752e3},{title:"Claude Codeæç¨",frontmatter:{title:"Claude Codeæç¨",date:"2025-09-06T22:43:27.000Z",permalink:"/pages/ec7818/"},regularPath:"/30.AI/05.Claude%20Code%E6%95%99%E7%A8%8B.html",relativePath:"30.AI/05.Claude Codeæç¨.md",key:"v-3a8672e0",path:"/pages/ec7818/",headers:[{level:2,title:"å®è£æå",slug:"å®è£æå",normalizedTitle:"å®è£æå",charIndex:92},{level:2,title:"åºç¡å½ä»¤",slug:"åºç¡å½ä»¤",normalizedTitle:"åºç¡å½ä»¤",charIndex:238},{level:3,title:"é¡¹ç®åå§å",slug:"é¡¹ç®åå§å",normalizedTitle:"é¡¹ç®åå§å",charIndex:247},{level:3,title:"éæå¼åç¯å¢æ¨¡å¼",slug:"éæå¼åç¯å¢æ¨¡å¼",normalizedTitle:"éæå¼åç¯å¢æ¨¡å¼",charIndex:401},{level:2,title:"æèå¢å¼ºåè½",slug:"æèå¢å¼ºåè½",normalizedTitle:"æèå¢å¼ºåè½",charIndex:515},{level:3,title:"Think å½ä»¤",slug:"think-å½ä»¤",normalizedTitle:"think å½ä»¤",charIndex:526},{level:3,title:"æèçº§å«å³é®è¯",slug:"æèçº§å«å³é®è¯",normalizedTitle:"æèçº§å«å³é®è¯",charIndex:640},{level:2,title:"è¿è¡æ¨¡å¼",slug:"è¿è¡æ¨¡å¼",normalizedTitle:"è¿è¡æ¨¡å¼",charIndex:887},{level:3,title:"éäº¤äºæ¨¡å¼",slug:"éäº¤äºæ¨¡å¼",normalizedTitle:"éäº¤äºæ¨¡å¼",charIndex:896},{level:2,title:"MCP è¿æ¥å¨ç®¡ç",slug:"mcp-è¿æ¥å¨ç®¡ç",normalizedTitle:"mcp è¿æ¥å¨ç®¡ç",charIndex:1001},{level:3,title:"æ·»å  MCP è¿æ¥å¨",slug:"æ·»å -mcp-è¿æ¥å¨",normalizedTitle:"æ·»å  mcp è¿æ¥å¨",charIndex:1066},{level:3,title:"ç§»é¤ MCP è¿æ¥å¨",slug:"ç§»é¤-mcp-è¿æ¥å¨",normalizedTitle:"ç§»é¤ mcp è¿æ¥å¨",charIndex:1287},{level:2,title:"æéç®¡ç",slug:"æéç®¡ç",normalizedTitle:"æéç®¡ç",charIndex:1378},{level:3,title:"æ¥çæé",slug:"æ¥çæé",normalizedTitle:"æ¥çæé",charIndex:1387},{level:3,title:"è·³è¿æéæ£æ¥ï¼è°¨æä½¿ç¨ï¼",slug:"è·³è¿æéæ£æ¥-è°¨æä½¿ç¨",normalizedTitle:"è·³è¿æéæ£æ¥ï¼è°¨æä½¿ç¨ï¼",charIndex:1421},{level:2,title:"èªå®ä¹åè½",slug:"èªå®ä¹åè½",normalizedTitle:"èªå®ä¹åè½",charIndex:1514},{level:3,title:"èªå®ä¹å½ä»¤",slug:"èªå®ä¹å½ä»¤",normalizedTitle:"èªå®ä¹å½ä»¤",charIndex:1524},{level:3,title:"Hooksï¼é©å­å½æ°ï¼",slug:"hooks-é©å­å½æ°",normalizedTitle:"hooksï¼é©å­å½æ°ï¼",charIndex:1749},{level:2,title:"é«çº§åè½",slug:"é«çº§åè½",normalizedTitle:"é«çº§åè½",charIndex:1957},{level:3,title:"Sub Agent",slug:"sub-agent",normalizedTitle:"sub agent",charIndex:1966},{level:3,title:"åå²å¯¹è¯ç®¡ç",slug:"åå²å¯¹è¯ç®¡ç",normalizedTitle:"åå²å¯¹è¯ç®¡ç",charIndex:2021},{level:2,title:"æä½³å®è·µ",slug:"æä½³å®è·µ",normalizedTitle:"æä½³å®è·µ",charIndex:2108},{level:3,title:"1. é¡¹ç®ç®¡ç",slug:"_1-é¡¹ç®ç®¡ç",normalizedTitle:"1. é¡¹ç®ç®¡ç",charIndex:2117},{level:3,title:"2. æèåè½ä½¿ç¨",slug:"_2-æèåè½ä½¿ç¨",normalizedTitle:"2. æèåè½ä½¿ç¨",charIndex:2193},{level:3,title:"3. æéå®å¨",slug:"_3-æéå®å¨",normalizedTitle:"3. æéå®å¨",charIndex:2280},{level:3,title:"4. èªå®ä¹ä¼å",slug:"_4-èªå®ä¹ä¼å",normalizedTitle:"4. èªå®ä¹ä¼å",charIndex:2368},{level:3,title:"5. å·¥ä½æµç¨",slug:"_5-å·¥ä½æµç¨",normalizedTitle:"5. å·¥ä½æµç¨",charIndex:2436},{level:2,title:"æéæé¤",slug:"æéæé¤",normalizedTitle:"æéæé¤",charIndex:2634},{level:3,title:"å¸¸è§é®é¢åè§£å³æ¹æ¡",slug:"å¸¸è§é®é¢åè§£å³æ¹æ¡",normalizedTitle:"å¸¸è§é®é¢åè§£å³æ¹æ¡",charIndex:2643},{level:3,title:"è·åå¸®å©",slug:"è·åå¸®å©",normalizedTitle:"è·åå¸®å©",charIndex:3054},{level:2,title:"é«æä½¿ç¨æå·§",slug:"é«æä½¿ç¨æå·§",normalizedTitle:"é«æä½¿ç¨æå·§",charIndex:3191}],headersStr:"å®è£æå åºç¡å½ä»¤ é¡¹ç®åå§å éæå¼åç¯å¢æ¨¡å¼ æèå¢å¼ºåè½ Think å½ä»¤ æèçº§å«å³é®è¯ è¿è¡æ¨¡å¼ éäº¤äºæ¨¡å¼ MCP è¿æ¥å¨ç®¡ç æ·»å  MCP è¿æ¥å¨ ç§»é¤ MCP è¿æ¥å¨ æéç®¡ç æ¥çæé è·³è¿æéæ£æ¥ï¼è°¨æä½¿ç¨ï¼ èªå®ä¹åè½ èªå®ä¹å½ä»¤ Hooksï¼é©å­å½æ°ï¼ é«çº§åè½ Sub Agent åå²å¯¹è¯ç®¡ç æä½³å®è·µ 1. é¡¹ç®ç®¡ç 2. æèåè½ä½¿ç¨ 3. æéå®å¨ 4. èªå®ä¹ä¼å 5. å·¥ä½æµç¨ æéæé¤ å¸¸è§é®é¢åè§£å³æ¹æ¡ è·åå¸®å© é«æä½¿ç¨æå·§",content:'# Claude Code å½ä»¤æç¨\n\nClaude Code æ¯ä¸ä¸ªå¼ºå¤§çå½ä»¤è¡å·¥å·ï¼è®©å¼åèè½å¤ç´æ¥ä»ç»ç«¯ä¸ Claude AI è¿è¡äº¤äºï¼å®ç°é«æçä»£ç å¼ååé®é¢è§£å³ã\n\n\n# å®è£æå\n\nå®æ¹ææ¡£ï¼ https://docs.anthropic.com/zh-CN/docs/claude-code/overview\n\næºè°±AIæ¥å¥ï¼ https://docs.bigmodel.cn/cn/guide/develop/claude\n\nä¹å¯æ¥å¥éä¹åé®ç­æ¨¡å\n\n\n# åºç¡å½ä»¤\n\n\n# é¡¹ç®åå§å\n\nclaude /init\n\n\n1\n\n\nä½ç¨ï¼ å¨å½åç®å½åå§åä¸ä¸ªæ°ç Claude Code é¡¹ç®ï¼åå»ºå¿è¦çéç½®æä»¶åç®å½ç»æã\n\nç¤ºä¾ï¼\n\ncd my-project\nclaude /init\n\n\n1\n2\n\n\nè¿å°å¨é¡¹ç®æ ¹ç®å½åå»º .claude éç½®ç®å½ï¼ä¸ºåç»­å¼ååå¥½åå¤ã\n\n\n# éæå¼åç¯å¢æ¨¡å¼\n\nclaude /ide\n\n\n1\n\n\nä½ç¨ï¼ å¯å¨äº¤äºå¼å¼åç¯å¢ï¼æä¾æ´ä¸°å¯çå¼åä½éªåæç»­å¯¹è¯è½åã\n\nç¤ºä¾ï¼\n\nclaude /ide\n# è¿å¥äº¤äºæ¨¡å¼ï¼å¯ä»¥è¿è¡æç»­çä»£ç è®¨è®ºåä¿®æ¹\n\n\n1\n2\n\n\n\n# æèå¢å¼ºåè½\n\n\n# Think å½ä»¤\n\nclaude think\n\n\n1\n\n\nä½ç¨ï¼ ä¸º Claude æä¾é¢å¤çæèæ¶é´ï¼å¸®å©å¤çå¤æé®é¢ãæä¸¤ç§è§¦åæ¹å¼ï¼\n\n * manual - æå¨è°ç¨\n * auto - ä¸ä¸æçªå£æ»¡æ¶èªå¨è§¦å\n\n\n# æèçº§å«å³é®è¯\n\nå¨æç¤ºä¸­æ·»å ä»¥ä¸å³é®è¯ï¼æå¤æåº¦éå¢æåï¼\n\nå³é®è¯            TOKEN æ¶è   éç¨åºæ¯\nthink          æä½         ç®åé®é¢æè\nthink hard     ä¸­ç­         ä¸­ç­å¤æåº¦é®é¢\nthink harder   è¾é«         å¤æé»è¾é®é¢\nultrathink     æé«         æå¶å¤æçé®é¢\n\nç¤ºä¾ï¼\n\nclaude "ultrathink è®¾è®¡ä¸ä¸ªåå¸å¼ç¼å­ç³»ç»çæ¶æ"\n\n\n1\n\n\n\n# è¿è¡æ¨¡å¼\n\n\n# éäº¤äºæ¨¡å¼\n\nclaude -p "ä½ çé®é¢"\n\n\n1\n\n\nä½ç¨ï¼ ç´æ¥æé®å¹¶è·åç­æ¡ï¼ä¸è¿å¥äº¤äºå¼å¯¹è¯æ¨¡å¼ã\n\nç¤ºä¾ï¼\n\nclaude -p "è§£é JavaScript çäºä»¶å¾ªç¯æºå¶"\n\n\n1\n\n\n\n# MCP è¿æ¥å¨ç®¡ç\n\nMCP (Model Context Protocol) åè®¸ Claude è¿æ¥å¤é¨å·¥å·åæå¡ã\n\n\n# æ·»å  MCP è¿æ¥å¨\n\n# æ·»å ç¨æ·çº§å«çè¿æ¥å¨\nclaude mcp add context7 --scope user -- npx -y @upstash/context7-mcp --api-key your-api-key\n\n# æ·»å  HTTP ä¼ è¾è¿æ¥å¨\nclaude mcp add --transport http chrome-mcp http://127.0.0.1:12306/mcp\n\n\n1\n2\n3\n4\n5\n\n\n\n# ç§»é¤ MCP è¿æ¥å¨\n\nclaude mcp remove context7\n\n\n1\n\n\nç¤ºä¾åºæ¯ï¼\n\n * è¿æ¥æ°æ®åºæå¡\n * éææµè§å¨æ§å¶\n * æ¥å¥ç¬¬ä¸æ¹ API\n\n\n# æéç®¡ç\n\n\n# æ¥çæé\n\nclaude permissions\n\n\n1\n\n\n\n# è·³è¿æéæ£æ¥ï¼è°¨æä½¿ç¨ï¼\n\nclaude --dangerously-skip-permissions\n\n\n1\n\n\næ³¨æï¼ æ­¤éé¡¹ä¼è·³è¿ææå®å¨æ£æ¥ï¼ä»å¨å®å¨ä¿¡ä»»çç¯å¢ä¸­ä½¿ç¨ã\n\n\n# èªå®ä¹åè½\n\n\n# èªå®ä¹å½ä»¤\n\nå¨é¡¹ç®ç .claude/commands ç®å½ä¸åå»ºèªå®ä¹å½ä»¤èæ¬ã\n\nç¤ºä¾ï¼\n\n# åå»ºèªå®ä¹å½ä»¤\nmkdir -p .claude/commands\necho \'#!/bin/bash\\necho "æ§è¡é¡¹ç®æå»º..."\' > .claude/commands/build\nchmod +x .claude/commands/build\n\n# ä½¿ç¨èªå®ä¹å½ä»¤\nclaude /build\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# Hooksï¼é©å­å½æ°ï¼\n\nå¨ .claude/hooks ç®å½ä¸è®¾ç½®å¨ç¹å®äºä»¶åæ§è¡çèæ¬ã\n\nç¤ºä¾ï¼\n\n# åå»ºåå¤çé©å­\nmkdir -p .claude/hooks\necho \'#!/bin/bash\\necho "å½ä»¤æ§è¡å®æï¼è¿è¡æµè¯..."\' > .claude/hooks/post-command\nchmod +x .claude/hooks/post-command\n\n\n1\n2\n3\n4\n\n\n\n# é«çº§åè½\n\n\n# Sub Agent\n\nClaude Code æ¯æåå»ºå­ä»£çæ¥å¤çç¹å®ä»»å¡ï¼å®ç°ä»»å¡åå·¥åå¹¶è¡å¤çã\n\n\n# åå²å¯¹è¯ç®¡ç\n\n# æ¥çå¯¹è¯åå²\nclaude history\n\n# æç´¢åå²è®°å½\nclaude history search "å³é®è¯"\n\n\n1\n2\n3\n4\n5\n\n\n\n# æä½³å®è·µ\n\n\n# 1. é¡¹ç®ç®¡ç\n\n * æ¯ä¸ªæ°é¡¹ç®é½åè¿è¡ claude /init\n * åçç»ç» .claude ç®å½ç»æ\n * ä½¿ç¨çæ¬æ§å¶ç®¡çéç½®æä»¶\n\n\n# 2. æèåè½ä½¿ç¨\n\n * ç®åé®é¢ä½¿ç¨ think\n * æ¶æè®¾è®¡ç±»é®é¢ä½¿ç¨ think harder æ ultrathink\n * æ ¹æ®é®é¢å¤æåº¦éæ©åéçº§å«\n\n\n# 3. æéå®å¨\n\n * é¿åä¸å¿è¦ä½¿ç¨ --dangerously-skip-permissions\n * å®ææ£æ¥åæ´æ°æéè®¾ç½®\n * å¨çäº§ç¯å¢ä¸­ç¹å«æ³¨ææéç®¡ç\n\n\n# 4. èªå®ä¹ä¼å\n\n * å°å¸¸ç¨æä½å°è£ä¸ºèªå®ä¹å½ä»¤\n * ä½¿ç¨ hooks å®ç°èªå¨åå·¥ä½æµ\n * åçéç½® MCP è¿æ¥å¨\n\n\n# 5. å·¥ä½æµç¨\n\n# æ åå·¥ä½æµç¨ç¤ºä¾\nclaude /init                    # åå§åé¡¹ç®\nclaude /ide                     # å¯å¨å¼åç¯å¢\nclaude "think hard åæè¿ä¸ªbug"  # æ·±åº¦æèé®é¢\nclaude mcp add database-tool     # æ·»å å¿è¦å·¥å·\n\n\n1\n2\n3\n4\n5\n\n\n\n# æéæé¤\n\n\n# å¸¸è§é®é¢åè§£å³æ¹æ¡\n\næéè¢«æç»\n\n# æ£æ¥æä»¶æé\nls -la .claude/\n# æä½¿ç¨æééé¡¹\nclaude --help permissions\n\n\n1\n2\n3\n4\n\n\nMCP è¿æ¥å¤±è´¥\n\n# æ£æ¥æå¡ç¶æ\ncurl -f http://127.0.0.1:12306/mcp\n# éæ°æ·»å è¿æ¥å¨\nclaude mcp remove problematic-connector\nclaude mcp add problematic-connector --transport http http://127.0.0.1:12306/mcp\n\n\n1\n2\n3\n4\n5\n\n\nèªå®ä¹å½ä»¤æ æ³æ§è¡\n\n# æ£æ¥èæ¬æé\nchmod +x .claude/commands/your-command\n# æ£æ¥èæ¬è¯­æ³\nbash -n .claude/commands/your-command\n\n\n1\n2\n3\n4\n\n\n\n# è·åå¸®å©\n\n# æ¥çå¨å±å¸®å©\nclaude --help\n\n# æ¥çç¹å®å½ä»¤å¸®å©\nclaude mcp --help\nclaude permissions --help\n\n# æ¥ççæ¬ä¿¡æ¯\nclaude --version\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# é«æä½¿ç¨æå·§\n\n 1. ç»åä½¿ç¨å½ä»¤ï¼å°å¤ä¸ªå½ä»¤ç»åä½¿ç¨ä»¥å®ç°å¤æå·¥ä½æµ\n 2. å©ç¨åå²è®°å½ï¼éè¿åå²åè½å¿«éåé¡¾åéç¨ä¹åçè§£å³æ¹æ¡\n 3. å®å¶å¼åç¯å¢ï¼æ ¹æ®é¡¹ç®éæ±éç½®ä¸å±ç MCP è¿æ¥å¨åèªå®ä¹å½ä»¤\n 4. åçä½¿ç¨æèåè½ï¼å¨å¤æé®é¢ä¸æå¥æ´å¤æè tokenï¼å¨ç®åé®é¢ä¸ä¿ææç\n\néè¿ææ¡è¿äºå½ä»¤åæä½³å®è·µï¼ä½ å¯ä»¥åååæ¥ Claude Code çå¼ºå¤§åè½ï¼æ¾èæåå¼åæçåä»£ç è´¨éã',normalizedContent:'# claude code å½ä»¤æç¨\n\nclaude code æ¯ä¸ä¸ªå¼ºå¤§çå½ä»¤è¡å·¥å·ï¼è®©å¼åèè½å¤ç´æ¥ä»ç»ç«¯ä¸ claude ai è¿è¡äº¤äºï¼å®ç°é«æçä»£ç å¼ååé®é¢è§£å³ã\n\n\n# å®è£æå\n\nå®æ¹ææ¡£ï¼ https://docs.anthropic.com/zh-cn/docs/claude-code/overview\n\næºè°±aiæ¥å¥ï¼ https://docs.bigmodel.cn/cn/guide/develop/claude\n\nä¹å¯æ¥å¥éä¹åé®ç­æ¨¡å\n\n\n# åºç¡å½ä»¤\n\n\n# é¡¹ç®åå§å\n\nclaude /init\n\n\n1\n\n\nä½ç¨ï¼ å¨å½åç®å½åå§åä¸ä¸ªæ°ç claude code é¡¹ç®ï¼åå»ºå¿è¦çéç½®æä»¶åç®å½ç»æã\n\nç¤ºä¾ï¼\n\ncd my-project\nclaude /init\n\n\n1\n2\n\n\nè¿å°å¨é¡¹ç®æ ¹ç®å½åå»º .claude éç½®ç®å½ï¼ä¸ºåç»­å¼ååå¥½åå¤ã\n\n\n# éæå¼åç¯å¢æ¨¡å¼\n\nclaude /ide\n\n\n1\n\n\nä½ç¨ï¼ å¯å¨äº¤äºå¼å¼åç¯å¢ï¼æä¾æ´ä¸°å¯çå¼åä½éªåæç»­å¯¹è¯è½åã\n\nç¤ºä¾ï¼\n\nclaude /ide\n# è¿å¥äº¤äºæ¨¡å¼ï¼å¯ä»¥è¿è¡æç»­çä»£ç è®¨è®ºåä¿®æ¹\n\n\n1\n2\n\n\n\n# æèå¢å¼ºåè½\n\n\n# think å½ä»¤\n\nclaude think\n\n\n1\n\n\nä½ç¨ï¼ ä¸º claude æä¾é¢å¤çæèæ¶é´ï¼å¸®å©å¤çå¤æé®é¢ãæä¸¤ç§è§¦åæ¹å¼ï¼\n\n * manual - æå¨è°ç¨\n * auto - ä¸ä¸æçªå£æ»¡æ¶èªå¨è§¦å\n\n\n# æèçº§å«å³é®è¯\n\nå¨æç¤ºä¸­æ·»å ä»¥ä¸å³é®è¯ï¼æå¤æåº¦éå¢æåï¼\n\nå³é®è¯            token æ¶è   éç¨åºæ¯\nthink          æä½         ç®åé®é¢æè\nthink hard     ä¸­ç­         ä¸­ç­å¤æåº¦é®é¢\nthink harder   è¾é«         å¤æé»è¾é®é¢\nultrathink     æé«         æå¶å¤æçé®é¢\n\nç¤ºä¾ï¼\n\nclaude "ultrathink è®¾è®¡ä¸ä¸ªåå¸å¼ç¼å­ç³»ç»çæ¶æ"\n\n\n1\n\n\n\n# è¿è¡æ¨¡å¼\n\n\n# éäº¤äºæ¨¡å¼\n\nclaude -p "ä½ çé®é¢"\n\n\n1\n\n\nä½ç¨ï¼ ç´æ¥æé®å¹¶è·åç­æ¡ï¼ä¸è¿å¥äº¤äºå¼å¯¹è¯æ¨¡å¼ã\n\nç¤ºä¾ï¼\n\nclaude -p "è§£é javascript çäºä»¶å¾ªç¯æºå¶"\n\n\n1\n\n\n\n# mcp è¿æ¥å¨ç®¡ç\n\nmcp (model context protocol) åè®¸ claude è¿æ¥å¤é¨å·¥å·åæå¡ã\n\n\n# æ·»å  mcp è¿æ¥å¨\n\n# æ·»å ç¨æ·çº§å«çè¿æ¥å¨\nclaude mcp add context7 --scope user -- npx -y @upstash/context7-mcp --api-key your-api-key\n\n# æ·»å  http ä¼ è¾è¿æ¥å¨\nclaude mcp add --transport http chrome-mcp http://127.0.0.1:12306/mcp\n\n\n1\n2\n3\n4\n5\n\n\n\n# ç§»é¤ mcp è¿æ¥å¨\n\nclaude mcp remove context7\n\n\n1\n\n\nç¤ºä¾åºæ¯ï¼\n\n * è¿æ¥æ°æ®åºæå¡\n * éææµè§å¨æ§å¶\n * æ¥å¥ç¬¬ä¸æ¹ api\n\n\n# æéç®¡ç\n\n\n# æ¥çæé\n\nclaude permissions\n\n\n1\n\n\n\n# è·³è¿æéæ£æ¥ï¼è°¨æä½¿ç¨ï¼\n\nclaude --dangerously-skip-permissions\n\n\n1\n\n\næ³¨æï¼ æ­¤éé¡¹ä¼è·³è¿ææå®å¨æ£æ¥ï¼ä»å¨å®å¨ä¿¡ä»»çç¯å¢ä¸­ä½¿ç¨ã\n\n\n# èªå®ä¹åè½\n\n\n# èªå®ä¹å½ä»¤\n\nå¨é¡¹ç®ç .claude/commands ç®å½ä¸åå»ºèªå®ä¹å½ä»¤èæ¬ã\n\nç¤ºä¾ï¼\n\n# åå»ºèªå®ä¹å½ä»¤\nmkdir -p .claude/commands\necho \'#!/bin/bash\\necho "æ§è¡é¡¹ç®æå»º..."\' > .claude/commands/build\nchmod +x .claude/commands/build\n\n# ä½¿ç¨èªå®ä¹å½ä»¤\nclaude /build\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# hooksï¼é©å­å½æ°ï¼\n\nå¨ .claude/hooks ç®å½ä¸è®¾ç½®å¨ç¹å®äºä»¶åæ§è¡çèæ¬ã\n\nç¤ºä¾ï¼\n\n# åå»ºåå¤çé©å­\nmkdir -p .claude/hooks\necho \'#!/bin/bash\\necho "å½ä»¤æ§è¡å®æï¼è¿è¡æµè¯..."\' > .claude/hooks/post-command\nchmod +x .claude/hooks/post-command\n\n\n1\n2\n3\n4\n\n\n\n# é«çº§åè½\n\n\n# sub agent\n\nclaude code æ¯æåå»ºå­ä»£çæ¥å¤çç¹å®ä»»å¡ï¼å®ç°ä»»å¡åå·¥åå¹¶è¡å¤çã\n\n\n# åå²å¯¹è¯ç®¡ç\n\n# æ¥çå¯¹è¯åå²\nclaude history\n\n# æç´¢åå²è®°å½\nclaude history search "å³é®è¯"\n\n\n1\n2\n3\n4\n5\n\n\n\n# æä½³å®è·µ\n\n\n# 1. é¡¹ç®ç®¡ç\n\n * æ¯ä¸ªæ°é¡¹ç®é½åè¿è¡ claude /init\n * åçç»ç» .claude ç®å½ç»æ\n * ä½¿ç¨çæ¬æ§å¶ç®¡çéç½®æä»¶\n\n\n# 2. æèåè½ä½¿ç¨\n\n * ç®åé®é¢ä½¿ç¨ think\n * æ¶æè®¾è®¡ç±»é®é¢ä½¿ç¨ think harder æ ultrathink\n * æ ¹æ®é®é¢å¤æåº¦éæ©åéçº§å«\n\n\n# 3. æéå®å¨\n\n * é¿åä¸å¿è¦ä½¿ç¨ --dangerously-skip-permissions\n * å®ææ£æ¥åæ´æ°æéè®¾ç½®\n * å¨çäº§ç¯å¢ä¸­ç¹å«æ³¨ææéç®¡ç\n\n\n# 4. èªå®ä¹ä¼å\n\n * å°å¸¸ç¨æä½å°è£ä¸ºèªå®ä¹å½ä»¤\n * ä½¿ç¨ hooks å®ç°èªå¨åå·¥ä½æµ\n * åçéç½® mcp è¿æ¥å¨\n\n\n# 5. å·¥ä½æµç¨\n\n# æ åå·¥ä½æµç¨ç¤ºä¾\nclaude /init                    # åå§åé¡¹ç®\nclaude /ide                     # å¯å¨å¼åç¯å¢\nclaude "think hard åæè¿ä¸ªbug"  # æ·±åº¦æèé®é¢\nclaude mcp add database-tool     # æ·»å å¿è¦å·¥å·\n\n\n1\n2\n3\n4\n5\n\n\n\n# æéæé¤\n\n\n# å¸¸è§é®é¢åè§£å³æ¹æ¡\n\næéè¢«æç»\n\n# æ£æ¥æä»¶æé\nls -la .claude/\n# æä½¿ç¨æééé¡¹\nclaude --help permissions\n\n\n1\n2\n3\n4\n\n\nmcp è¿æ¥å¤±è´¥\n\n# æ£æ¥æå¡ç¶æ\ncurl -f http://127.0.0.1:12306/mcp\n# éæ°æ·»å è¿æ¥å¨\nclaude mcp remove problematic-connector\nclaude mcp add problematic-connector --transport http http://127.0.0.1:12306/mcp\n\n\n1\n2\n3\n4\n5\n\n\nèªå®ä¹å½ä»¤æ æ³æ§è¡\n\n# æ£æ¥èæ¬æé\nchmod +x .claude/commands/your-command\n# æ£æ¥èæ¬è¯­æ³\nbash -n .claude/commands/your-command\n\n\n1\n2\n3\n4\n\n\n\n# è·åå¸®å©\n\n# æ¥çå¨å±å¸®å©\nclaude --help\n\n# æ¥çç¹å®å½ä»¤å¸®å©\nclaude mcp --help\nclaude permissions --help\n\n# æ¥ççæ¬ä¿¡æ¯\nclaude --version\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# é«æä½¿ç¨æå·§\n\n 1. ç»åä½¿ç¨å½ä»¤ï¼å°å¤ä¸ªå½ä»¤ç»åä½¿ç¨ä»¥å®ç°å¤æå·¥ä½æµ\n 2. å©ç¨åå²è®°å½ï¼éè¿åå²åè½å¿«éåé¡¾åéç¨ä¹åçè§£å³æ¹æ¡\n 3. å®å¶å¼åç¯å¢ï¼æ ¹æ®é¡¹ç®éæ±éç½®ä¸å±ç mcp è¿æ¥å¨åèªå®ä¹å½ä»¤\n 4. åçä½¿ç¨æèåè½ï¼å¨å¤æé®é¢ä¸æå¥æ´å¤æè tokenï¼å¨ç®åé®é¢ä¸ä¿ææç\n\néè¿ææ¡è¿äºå½ä»¤åæä½³å®è·µï¼ä½ å¯ä»¥åååæ¥ claude code çå¼ºå¤§åè½ï¼æ¾èæåå¼åæçåä»£ç è´¨éã',charsets:{cjk:!0},lastUpdated:"2025/09/06, 15:09:00",lastUpdatedTimestamp:1757171752e3},{title:"Home",frontmatter:{home:!0,heroImage:"/img/web.png",heroText:"OddFar's Notes",tagline:"æä»¬å¨é»æä¸­å¹¶è©åè¡ï¼èµ°å¨åèªçæå£è·¯ä¸!",actionText:"ç«å»è¿å¥ â",actionLink:"/java/",bannerBg:"none",postList:"none"},regularPath:"/",relativePath:"index.md",key:"v-bf924ecc",path:"/",headersStr:null,content:"é»æä¹åæ»æä¸æ®µæ¶é´ç¹å«é»ã",normalizedContent:"é»æä¹åæ»æä¸æ®µæ¶é´ç¹å«é»ã",charsets:{cjk:!0},lastUpdated:"2023/02/17, 14:02:00",lastUpdatedTimestamp:1676644803e3}],themeConfig:{nav:[{text:"é¦é¡µ",link:"/"},{text:"Java",link:"/java/",items:[{text:"Java-Se",items:[{text:"Javaåºç¡",link:"/java/se/initial-java/"},{text:"Javaé¢åå¯¹è±¡",link:"/java/se/object/"},{text:"Javaå¸¸ç¨ç±»",link:"/java/se/commonly-used-class/"},{text:"Javaéåæ¡æ¶",link:"/java/se/collection/synopsis/"}]},{text:"Java-Seè¿é¶",items:[{text:"JUCå¤çº¿ç¨",link:"/java/se/thread/1/"}]},{text:"Java-ee",items:[{text:"JavaWeb",link:"/javaweb/"}]}]},{text:"æ°æ®åº",items:[{text:"SQL æ°æ®åº",items:[{text:"MySQL",link:"/mysql/"}]},{text:"NoSQL æ°æ®åº",items:[{text:"Redis",link:"/redis/"},{text:"ElasticSearch",link:"/es/"},{text:"MongoDB",link:"/mongodb/"}]}]},{text:"æ¡æ¶",items:[{text:"æ°æ®åº",items:[{text:"MyBatis",link:"/mybatis/study-note/"},{text:"MyBatis-Plus",link:"/mybatis-plus/study-note/"}]},{text:"Spring",items:[{text:"Spring",link:"/spring/"}]},{text:"ä¸­é´ä»¶",items:[{text:"RabbitMQ",link:"/rabbitmq/"}]}]},{text:"å·¥å·|é¨ç½²",items:[{text:"Git",link:"/git/"},{text:"Docker",link:"/docker/"},{text:"Jenkins",link:"/jenkins/"}]},{text:"AI",link:"/ai/"},{text:"ç¬è«",link:"/spider/"},{text:"é¡¹ç®",items:[{text:"Campus",link:"https://oddfar.github.io/campus-doc/"},{text:"æ ¡å­ä¿¡æ¯å¢",link:"https://oddfar.github.io/campus-doc/campus-example/"}]},{text:"å³äº",link:"/about/"},{text:"å½æ¡£",link:"/archives/"}],sidebarDepth:2,logo:"/img/logo.png",repo:"oddfar/notes",searchMaxSuggestions:10,lastUpdated:"æåæ´æ°",docsDir:"docs",editLinks:!0,editLinkText:"å¨ GitHub ä¸ç¼è¾æ­¤é¡µ",pageStyle:"line",category:!1,tag:!1,sidebar:{"/00.ç®å½é¡µ/":[["01.java.md","java","/java"],["10.å³äº.md","å³äº","/about"],["20.ç¬è«.md","ç¬è«","/spider"],["30.AI.md","AIä¸æ ","/ai"]],catalogue:{java:"/java","å³äº":"/about","ç¬è«":"/spider",AI:"/ai",javaweb:"/javaweb",MySQL:"/mysql","Redisç¥è¯ä½ç³»":"/redis",ElasticSearch:"/es","Mongo - ç®å½é¡µ":"/mongodb","RabbitMQç¥è¯ä½ç³» ":"/rabbitmq",Git:"/git",Docker:"/docker","Jenkins - ç®å½é¡µ":"/jenkins"},"/01.Java/":[{title:"java-åºç¡",collapsable:!0,children:[["02.java-åºç¡/01.åè¯java.md","åè¯java","/java/se/initial-java/"],{title:"åºç¡è¯­æ³",collapsable:!0,children:[["02.java-åºç¡/02.åºç¡è¯­æ³/01.æ³¨é.md","æ³¨é","/java/se/basic-grammar/annotation"],["02.java-åºç¡/02.åºç¡è¯­æ³/02.æ è¯ç¬¦.md","æ è¯ç¬¦","/java/se/basic-grammar/identifier/"],["02.java-åºç¡/02.åºç¡è¯­æ³/03.æ°æ®ç±»å.md","æ°æ®ç±»å","/java/se/basic-grammar/data-type/"],["02.java-åºç¡/02.åºç¡è¯­æ³/04.ç±»åè½¬æ¢.md","ç±»åè½¬æ¢","/java/se/basic-grammar/type-conversion/"],["02.java-åºç¡/02.åºç¡è¯­æ³/05.åéåå¸¸é.md","åéåå¸¸é","/java/se/basic-grammar/variate-constant/"],["02.java-åºç¡/02.åºç¡è¯­æ³/06.è¿ç®ç¬¦.md","è¿ç®ç¬¦","/java/se/basic-grammar/operator/"],["02.java-åºç¡/02.åºç¡è¯­æ³/07.åæºå¶.md","åæºå¶","/java/se/basic-grammar/packet/"],["02.java-åºç¡/02.åºç¡è¯­æ³/08.JavaDoc.md","JavaDoc","/java/se/basic-grammar/javadoc/"]]},{title:"æµç¨æ§å¶",collapsable:!0,children:[["02.java-åºç¡/03.æµç¨æ§å¶/01.ç¨æ·äº¤äºScanner.md","Scanner","/java/se/process-control/scanner/"],["02.java-åºç¡/03.æµç¨æ§å¶/02.é¡ºåºç»æ.md","é¡ºåºç»æ","/java/se/process-control/sequential-structure/"],["02.java-åºç¡/03.æµç¨æ§å¶/03.éæ©ç»æ.md","éæ©ç»æ","/java/se/process-control/case-structure/"],["02.java-åºç¡/03.æµç¨æ§å¶/04.å¾ªç¯ç»æ.md","å¾ªç¯ç»æ","/java/se/process-control/loop-structure"],["02.java-åºç¡/03.æµç¨æ§å¶/05.breakåcontinue.md","breakåcontinue","/java/se/process-control/break-continue"]]},["02.java-åºç¡/04.æ¹æ³.md","æ¹æ³","/java/se/method/"],["02.java-åºç¡/05.æ°ç».md","æ°ç»","/java/se/array/"],["02.java-åºç¡/07.å¼å¸¸æºå¶.md","å¼å¸¸æºå¶","/java/se/exception/"]]},{title:"java-é¢åå¯¹è±¡",collapsable:!0,children:[["03.java-é¢åå¯¹è±¡/06.é¢åå¯¹è±¡.md","é¢åå¯¹è±¡","/java/se/object/"]]},{title:"Java-å¸¸ç¨ç±»",collapsable:!0,children:[["04.Java-å¸¸ç¨ç±»/08.å¸¸ç¨ç±».md","å¸¸ç¨ç±»","/java/se/commonly-used-class/"]]},{title:"Java-éåæ¡æ¶",collapsable:!0,children:[["05.Java-éåæ¡æ¶/01.éåæ¦åº.md","éåæ¦åº","/java/se/collection/synopsis"],["05.Java-éåæ¡æ¶/02.ArrayList.md","ArrayList","/java/se/collection/ArrayList"],["05.Java-éåæ¡æ¶/03.LinkedList.md","LinkedList","/java/se/collection/LinkedList"],["05.Java-éåæ¡æ¶/04.VevtoråStack.md","VevtoråStack","/java/se/collection/Vevtor-Stack/"],["05.Java-éåæ¡æ¶/05.Listæ»ç».md","Listæ»ç»","/java/se/collection/List-summary/"],["05.Java-éåæ¡æ¶/06.HashMap.md","HashMap","/java/se/collection/HashMap/"],["05.Java-éåæ¡æ¶/07.Set.md","set","/java/se/collection/set/"],["05.Java-éåæ¡æ¶/08.HashSet.md","HashSet","/java/se/collection/HashSet/"],["05.Java-éåæ¡æ¶/09.TreeSet.md","TreeSet","/java/se/collection/TreeSet/"],["05.Java-éåæ¡æ¶/10.è¿­ä»£å¨.md","è¿­ä»£å¨","/java/se/collection/iterator/"],["05.Java-éåæ¡æ¶/11.æ³å.md","æ³å","/java/se/collection/generic-paradigm/"],["05.Java-éåæ¡æ¶/12.Collectionså·¥å·ç±».md","Collectionså·¥å·ç±»","/java/se/collection/collections/"]]},{title:"Java-å¤çº¿ç¨",collapsable:!0,children:[["07.Java-å¤çº¿ç¨/02.JUCå­¦ä¹ ç¬è®°.md","JUCå­¦ä¹ ç¬è®°ï¼ä¸ï¼","/java/se/thread/1"],["07.Java-å¤çº¿ç¨/05.JUCå­¦ä¹ ç¬è®°.md","JUCå­¦ä¹ ç¬è®°ï¼ä¸ï¼","/java/se/thread/2"]]},{title:"JavaWeb",collapsable:!0,children:[["20.JavaWeb/00.javaweb.md","JavaWeb- ç¥è¯ä½ç³»","/javaweb"],["20.JavaWeb/01.åºæ¬æ¦å¿µ.md","JavaWeb - åºæ¬æ¦å¿µ","/pages/5916e7/"],["20.JavaWeb/02.Tomcat.md","JavaWeb - Tomcat","/pages/1ccdff/"],["20.JavaWeb/03.Http.md","JavaWeb - Http","/pages/7187be/"],["20.JavaWeb/04.Maven.md","JavaWeb - Maven","/pages/cb259f/"],["20.JavaWeb/05.servlet.md","JavaWeb - Servlet","/pages/e986b8/"],["20.JavaWeb/06.cookieåsession.md","JavaWeb - CookieåSession","/pages/d20044/"],["20.JavaWeb/20.æ»è§.md","JavaWeb - å¶å®æ»è§","/pages/e8021e/"]]}],"/03.æ°æ®åº/":[{title:"MySQL",collapsable:!0,children:[["05.MySQL/02.MySQL.md","MySQL - ç¥è¯ä½ç³»","/mysql"],["05.MySQL/04.MySQL - é»è¾æ¶æ.md","MySQL - é»è¾æ¶æç®ä»","/mysql/logic/"],["05.MySQL/06.MySQL - ç´¢å¼.md","MySQL - ç´¢å¼ä»ç»","/mysql/index/"],["05.MySQL/10.MySQL - ä¼åSQLæ£æµæ­¥éª¤.md","MySQL - ä¼åSQLæ£æµæ­¥éª¤","/mysql/optimize-sql-check/"],["05.MySQL/12.MySQL - ç´¢å¼çä½¿ç¨.md","MySQL - ç´¢å¼çä½¿ç¨","/mysql/index-use/"],["05.MySQL/14.MySQL - SQLä¼å.md","MySQL - SQLè¯­å¥ä¼å","/mysql/sql-optimize/"],["05.MySQL/16.MySQL - ç¼å­æ¥è¯¢.md","MySQL - ç¼å­æ¥è¯¢","/mysql/cache-query/"],["05.MySQL/18.MySQL - åå­ç®¡ç.md","MySQL - åå­ç®¡ç","/mysql/memory-management/"],["05.MySQL/20.MySQL - å¹¶ååæ°.md","MySQL - å¹¶ååæ°","/mysql/concurrent-parameter/"],["05.MySQL/22.MySQL - éé®é¢.md","MySQL - éé®é¢","/mysql/lock-question/"],["05.MySQL/24.MySQL - å¸¸ç¨sqlæå·§.md","MySQL - å¸¸ç¨sqlæå·§","/mysql/common-use-sql-skill/"],["05.MySQL/26.MySQL - å¸¸ç¨å·¥å·.md","MySQL - å¸¸ç¨å·¥å·","/mysql/common-tools/"],["05.MySQL/28.MySQL - æ¥å¿.md","MySQL - æ¥å¿","/mysql/log/"],["05.MySQL/30.MySQL - ä¸»ä»å¤å¶.md","MySQL - ä¸»ä»å¤å¶","/mysql/copy/"]]},{title:"Redis",collapsable:!0,children:[["10.Redis/00.Redisç¥è¯ä½ç³».md","Redis - ç¥è¯ä½ç³»","/redis"],["10.Redis/01.Redis - å¥é¨.md","Redis - æ¦å¿µååºç¡","/pages/28aa50/"],["10.Redis/02.äºå¤§æ°æ®ç±»å.md","Redis - äºå¤§æ°æ®ç±»å","/pages/6ea36e/"],["10.Redis/03.ä¸ç§ç¹æ®æ°æ®ç±»å.md","Redis - ä¸ç§ç¹æ®æ°æ®ç±»å","/pages/5898ab/"],["10.Redis/04.Redisäºå¡.md","Redis - äºå¡","/pages/41f31b/"],["10.Redis/05.Redis - Java.md","Redis - Java","/pages/216cfe/"],["10.Redis/10.Rediså­¦ä¹ ç¬è®°-æ»è§.md","Redis - å­¦ä¹ ç¬è®°-æ»è§","/pages/feab74/"]]},{title:"ElasticSearch",collapsable:!0,children:[["15.ElasticSearch/01.ElasticSearch.md","ElasticSearch - ç¥è¯ä½ç³»","/es"],["15.ElasticSearch/02.ES - åºç¡æ¦å¿µ.md","ES - ElasticSearchåºç¡æ¦å¿µ","/es/introduce"],["15.ElasticSearch/04.ES - å®è£.md","ES - å®è£ElasticSearch","/es/install"],["15.ElasticSearch/06.ES - ç´¢å¼åææ¡£çåºæ¬æä½.md","ES - ç´¢å¼åææ¡£çåºæ¬æä½","/es/index-doc/"],["15.ElasticSearch/08.ES - é«çº§æ¥è¯¢æä½.md","ES - é«çº§æ¥è¯¢æä½","/es/query/"],["15.ElasticSearch/10.ES - ç´¢å¼ç®¡ç.md","ES - ç´¢å¼ç®¡ç","/pages/8b85ee/"],["15.ElasticSearch/12.ES - åè¯.md","ES - åè¯","/pages/87178e/"]]},{title:"MongoDB",collapsable:!0,children:[["20.MongoDB/00.Mongo - ç®å½é¡µ.md","MongoDB - ç¥è¯ä½ç³»","/mongodb"],["20.MongoDB/05.Mongo - åºç¡æ¦å¿µ.md","Mongo - åºç¡æ¦å¿µ","/pages/34c4ae/"],["20.MongoDB/10.Mongo - å®è£åCRUD.md","Mongo - å®è£åCRUD","/pages/f04bc7/"]]}],"/04.æ¡æ¶/":[{title:"mybatis",collapsable:!0,children:[["01.mybatis/01.å­¦ä¹ ç¬è®°.md","mybatiså­¦ä¹ ç¬è®°","/mybatis/study-note"]]},{title:"mybatis-plus",collapsable:!0,children:[["02.mybatis-plus/01.å­¦ä¹ ç¬è®°.md","mybatis-pluså­¦ä¹ ç¬è®°","/mybatis-plus/study-note"]]},{title:"Spring",collapsable:!0,children:[["03.Spring/01.spring - ç®å½é¡µ.md","spring","/spring/"]]},{title:"RabbitMQ",collapsable:!0,children:[["20.RabbitMQ/01.RabbitMQç¥è¯ä½ç³» .md","RabbitMQ - ç¥è¯ä½ç³»","/rabbitmq"],["20.RabbitMQ/02.ä¸­é´ä»¶ä»ç».md","ä¸­é´ä»¶ä»ç»","/pages/e38dcb/"],["20.RabbitMQ/04.æ¶æ¯éåä»ç».md","æ¶æ¯éåä»ç»","/pages/2c91a1/"],["20.RabbitMQ/06.RabbitMQ - å®è£.md","RabbitMQ - å®è£","/pages/f015b1/"],["20.RabbitMQ/08.RabbitMQ - ç®åæ¡ä¾.md","RabbitMQ - ç®åæ¡ä¾","/pages/95ce73/"],["20.RabbitMQ/10.RabbitMQ - åå¸ç¡®è®¤.md","RabbitMQ - åå¸ç¡®è®¤","/pages/ef9b33/"],["20.RabbitMQ/12.RabbitMQ - äº¤æ¢æº.md","RabbitMQ - äº¤æ¢æº","/pages/c9c254/"],["20.RabbitMQ/14.RabbitMQ - æ­»ä¿¡éå.md","RabbitMQ - æ­»ä¿¡éå","/pages/1477b8/"],["20.RabbitMQ/16.RabbitMQ - å»¶è¿éå.md","RabbitMQ - å»¶è¿éå","/pages/0a0086/"],["20.RabbitMQ/18.RabbitMQ - åå¸ç¡®è®¤é«çº§.md","RabbitMQ - åå¸ç¡®è®¤é«çº§","/pages/c94906/"],["20.RabbitMQ/20.RabbitMQ - å¹ç­æ§ãä¼åçº§ãæ°æ§.md","RabbitMQ - å¹ç­æ§ãä¼åçº§ãæ°æ§","/pages/ee71b9/"]]}],"/05.å·¥å·é¨ç½²/":[{title:"Git",collapsable:!0,children:[["01.Git/00.Git.md","Git - ç¥è¯ä½ç³»","/git"],["01.Git/01.Gitç®åæäº¤.md","Git - ç®åæäº¤","/pages/7d2d32/"],["01.Git/02.SSHåå¯ç»å½.md","Git - SSHåå¯ç»å½","/pages/5747a6/"],["01.Git/04.Git - Commitå¸¸ç¨è¡¨æ.md","Git - Commitå¸¸ç¨è¡¨æ","/pages/fe0004/"],["01.Git/05.Gitå é¤æäº¤è®°å½.md","Git - å é¤æäº¤è®°å½","/pages/81663b/"],["01.Git/06.DS_Store.md","Git - DS_Store","/pages/0fc313/"],["01.Git/11.GitHubæé.md","GitHub - æé","/pages/90bb76/"]]},{title:"Docker",collapsable:!0,children:[["10.Docker/01.Docker.md","Docker - ç¥è¯ä½ç³»","/docker"],["10.Docker/02.Docker - æ¦è¿°.md","Docker - æ¦è¿°","/pages/09f2eb/"],["10.Docker/04.Docker - å®è£.md","Docker - å®è£","/pages/fc0548/"],["10.Docker/06.Docker - å¸¸ç¨å½ä»¤.md","Docker - å¸¸ç¨å½ä»¤","/pages/a25911/"],["10.Docker/08.Docker - å¯è§å.md","Docker - å¯è§å","/pages/4e8ad2/"],["10.Docker/10.Docker - éååä»åº.md","Docker - éååä»åº","/pages/982fe2/"],["10.Docker/12.Docker - æ°æ®å·.md","Docker - æ°æ®å·","/pages/d7cc4c/"],["10.Docker/14.Docker - DockerFile.md","Docker - DockerFile","/pages/786a41/"],["10.Docker/16.Docker - ç½ç».md","Docker - ç½ç»","/pages/3b9d4b/"],["10.Docker/18.Docker - Compose.md","Docker - Compose","/pages/a38e01/"]]},{title:"Jenkins",collapsable:!0,children:[["30.Jenkins/01.Jenkins - ç®å½é¡µ.md","Jenkins - ç¥è¯ä½ç³»","/jenkins"],["30.Jenkins/02.Jenkins - ä»ç».md","Jenkins - ä»ç»","/pages/3dedc8/"],["30.Jenkins/04.ä»é¶å¼å§ç¨Jenkinsèªå¨æå»ºé¨ç½²SpringBooté¡¹ç®.md","ä»é¶å¼å§ç¨Jenkinsèªå¨æå»ºé¨ç½²SpringBooté¡¹ç®","/pages/ec9790/"]]}],"/10.å³äº/":[{title:"å³äº - æ",collapsable:!0,children:[["01.å³äº - æ/01.å³äº - æ.md","å³äº - æ","/pages/038c37/"]]},{title:"å³äº - æ¬ç«",collapsable:!0,children:[["02.å³äº - æ¬ç«/02.ææ¡£ -  å¿«éä¸æ.md","ææ¡£ - å¿«éä¸æ","/pages/c6c456/"],["02.å³äº - æ¬ç«/03.ææ¡£ - mdæä»¶åä½.md","ææ¡£ - mdæä»¶åä½","/pages/2a3030/"],["02.å³äº - æ¬ç«/05.ææ¡£ - é¨ç½².md","ææ¡£ - é¨ç½²","/pages/39f283/"],["02.å³äº - æ¬ç«/11.æ é¢ - ç®å½çæ.md","æ é¢ - ç®å½çæ","/pages/2bde62/"],["02.å³äº - æ¬ç«/12.æ é¢ - éç¹æ¯è¾.md","æ é¢ - éç¹æ¯è¾","/pages/8bac8d/"]]}],"/20.ç¬è«/":[["02.æåº¦ç¿»è¯.md","æåº¦ç¿»è¯","/pages/007827/"],["04.ææ¡£å¯ç ç ´è§£.md","ææ¡£å¯ç ç ´è§£","/pages/7de988/"]],"/30.AI/":[["01.AI è§£è¯»é¡¹ç®.md","AI è§£è¯»é¡¹ç®","/pages/86599a/"],["05.Claude Codeæç¨.md","Claude Codeæç¨","/pages/ec7818/"]]},updateBar:{showToArticle:!1},author:{name:"zhiyuan",href:"https://oddfar.com/"},social:{icons:[{iconClass:"icon-youjian",title:"åé®ä»¶",link:"mailto:oddfar@163.com"},{iconClass:"icon-github",title:"GitHub",link:"https://github.com/oddfar"}]},footer:{createYear:2021,copyrightInfo:'oddfar | <a href="https://beian.miit.gov.cn/" target="_blank">åICPå¤20001094å·</a>'}}};var wl=t(123),_l=t(124),Sl=t(21);var jl={computed:{$filterPosts(){return this.$site.pages.filter(n=>{const{frontmatter:{pageComponent:e,article:t,home:a}}=n;return!(e||!1===t||!0===a)})},$sortPosts(){return(n=this.$filterPosts).sort((n,e)=>{const t=n.frontmatter.sticky,a=e.frontmatter.sticky;return t&&a?t==a?Object(Sl.a)(n,e):t-a:t&&!a?-1:!t&&a?1:Object(Sl.a)(n,e)}),n;var n},$sortPostsByDate(){return(n=this.$filterPosts).sort((n,e)=>Object(Sl.a)(n,e)),n;var n},$groupPosts(){return function(n){const e={},t={};for(let a=0,i=n.length;a<i;a++){const{frontmatter:{categories:i,tags:r}}=n[a];"array"===Object(Sl.n)(i)&&i.forEach(t=>{t&&(e[t]||(e[t]=[]),e[t].push(n[a]))}),"array"===Object(Sl.n)(r)&&r.forEach(e=>{e&&(t[e]||(t[e]=[]),t[e].push(n[a]))})}return{categories:e,tags:t}}(this.$sortPosts)},$categoriesAndTags(){return function(n){const e=[],t=[];for(let t in n.categories)e.push({key:t,length:n.categories[t].length});for(let e in n.tags)t.push({key:e,length:n.tags[e].length});return{categories:e,tags:t}}(this.$groupPosts)}}};Gt.component(wl.default),Gt.component(_l.default);function El(n){return n.toString().padStart(2,"0")}t(276);Gt.component("Badge",()=>Promise.all([t.e(0),t.e(6)]).then(t.bind(null,397))),Gt.component("CodeBlock",()=>Promise.resolve().then(t.bind(null,123))),Gt.component("CodeGroup",()=>Promise.resolve().then(t.bind(null,124)));t(277);var Tl=[({Vue:n,options:e,router:t,siteData:a})=>{},({Vue:n,options:e,router:t,siteData:a})=>{a.pages.map(n=>{const{frontmatter:{date:e,author:t}}=n;"string"==typeof e&&"Z"===e.charAt(e.length-1)&&(n.frontmatter.date=function(n){n instanceof Date||(n=new Date(n));return`${n.getUTCFullYear()}-${El(n.getUTCMonth()+1)}-${El(n.getUTCDate())} ${El(n.getUTCHours())}:${El(n.getUTCMinutes())}:${El(n.getUTCSeconds())}`}(e)),t?n.author=t:a.themeConfig.author&&(n.author=a.themeConfig.author)}),n.mixin(jl)},{},({Vue:n})=>{n.mixin({computed:{$dataBlock(){return this.$options.__data__block__}}})},{},{},()=>{"undefined"!=typeof window&&function(n,e,t){function a(n){var t=e.createElement("div");t.className="heart",i.push({el:t,x:n.clientX-5,y:n.clientY-5,scale:1,alpha:1,color:"#11a8cd"}),e.body.appendChild(t)}var i=[];n.requestAnimationFrame=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame||function(n){setTimeout(n,1e3/60)},function(n){var t=e.createElement("style");t.type="text/css";try{t.appendChild(e.createTextNode(n))}catch(e){t.styleSheet.cssText=n}e.getElementsByTagName("head")[0].appendChild(t)}(".heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}"),function(){var e="function"==typeof n.onclick&&n.onclick;n.onclick=function(n){let t=!0;n.path&&n.path.forEach(n=>{1===n.nodeType&&"string"==typeof n.className&&n.className.indexOf("theme-vdoing-content")>-1&&(t=!1)}),t&&(e&&e(),a(n))}}(),function n(){for(var t=0;t<i.length;t++)i[t].alpha<=0?(e.body.removeChild(i[t].el),i.splice(t,1)):(i[t].y--,i[t].scale+=.004,i[t].alpha-=.013,i[t].el.style.cssText="left:"+i[t].x+"px;top:"+i[t].y+"px;opacity:"+i[t].alpha+";transform:scale("+i[t].scale+","+i[t].scale+") rotate(45deg);background:"+i[t].color+";z-index:99999");requestAnimationFrame(n)}()}(window,document)}],Cl=[];class ql extends class{constructor(){this.store=new Gt({data:{state:{}}})}$get(n){return this.store.state[n]}$set(n,e){Gt.set(this.store.state,n,e)}$emit(...n){this.store.$emit(...n)}$on(...n){this.store.$on(...n)}}{}Object.assign(ql.prototype,{getPageAsyncComponent:so,getLayoutAsyncComponent:oo,getAsyncComponent:lo,getVueComponent:co});var Il={install(n){const e=new ql;n.$vuepress=e,n.prototype.$vuepress=e}};function Al(n,e){const t=e.toLowerCase();return n.options.routes.some(n=>n.path.toLowerCase()===t)}var Ml={props:{pageKey:String,slotKey:{type:String,default:"default"}},render(n){const e=this.pageKey||this.$parent.$page.key;return po("pageKey",e),Gt.component(e)||Gt.component(e,so(e)),Gt.component(e)?n(e):n("")}},zl={functional:!0,props:{slotKey:String,required:!0},render:(n,{props:e,slots:t})=>n("div",{class:["content__"+e.slotKey]},t()[e.slotKey])},Ll={computed:{openInNewWindowTitle(){return this.$themeLocaleConfig.openNewWindowText||"(opens new window)"}}},Dl=(t(278),t(279),Object(yl.a)(Ll,(function(){var n=this._self._c;return n("span",[n("svg",{staticClass:"icon outbound",attrs:{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15"}},[n("path",{attrs:{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}}),this._v(" "),n("polygon",{attrs:{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"}})]),this._v(" "),n("span",{staticClass:"sr-only"},[this._v(this._s(this.openInNewWindowTitle))])])}),[],!1,null,null,null).exports),Rl={functional:!0,render(n,{parent:e,children:t}){if(e._isMounted)return t;e.$once("hook:mounted",()=>{e.$forceUpdate()})}};Gt.config.productionTip=!1,Gt.use(Hs),Gt.use(Il),Gt.mixin(function(n,e,t=Gt){!function(n){n.locales&&Object.keys(n.locales).forEach(e=>{n.locales[e].path=e});Object.freeze(n)}(e),t.$vuepress.$set("siteData",e);const a=new(n(t.$vuepress.$get("siteData"))),i=Object.getOwnPropertyDescriptors(Object.getPrototypeOf(a)),r={};return Object.keys(i).reduce((n,e)=>(e.startsWith("$")&&(n[e]=i[e].get),n),r),{computed:r}}(n=>class{setPage(n){this.__page=n}get $site(){return n}get $themeConfig(){return this.$site.themeConfig}get $frontmatter(){return this.$page.frontmatter}get $localeConfig(){const{locales:n={}}=this.$site;let e,t;for(const a in n)"/"===a?t=n[a]:0===this.$page.path.indexOf(a)&&(e=n[a]);return e||t||{}}get $siteTitle(){return this.$localeConfig.title||this.$site.title||""}get $canonicalUrl(){const{canonicalUrl:n}=this.$page.frontmatter;return"string"==typeof n&&n}get $title(){const n=this.$page,{metaTitle:e}=this.$page.frontmatter;if("string"==typeof e)return e;const t=this.$siteTitle,a=n.frontmatter.home?null:n.frontmatter.title||n.title;return t?a?a+" | "+t:t:a||"VuePress"}get $description(){const n=function(n){if(n){const e=n.filter(n=>"description"===n.name)[0];if(e)return e.content}}(this.$page.frontmatter.meta);return n||(this.$page.frontmatter.description||this.$localeConfig.description||this.$site.description||"")}get $lang(){return this.$page.frontmatter.lang||this.$localeConfig.lang||"en-US"}get $localePath(){return this.$localeConfig.path||"/"}get $themeLocaleConfig(){return(this.$site.themeConfig.locales||{})[this.$localePath]||{}}get $page(){return this.__page?this.__page:function(n,e){for(let t=0;t<n.length;t++){const a=n[t];if(a.path.toLowerCase()===e.toLowerCase())return a}return{path:"",frontmatter:{}}}(this.$site.pages,this.$route.path)}},xl)),Gt.component("Content",Ml),Gt.component("ContentSlotsDistributor",zl),Gt.component("OutboundLink",Dl),Gt.component("ClientOnly",Rl),Gt.component("Layout",oo("Layout")),Gt.component("NotFound",oo("NotFound")),Gt.prototype.$withBase=function(n){const e=this.$site.base;return"/"===n.charAt(0)?e+n.slice(1):n},window.__VUEPRESS__={version:"1.9.10",hash:"030b8e9"},async function(n){const e="undefined"!=typeof window&&window.__VUEPRESS_ROUTER_BASE__?window.__VUEPRESS_ROUTER_BASE__:xl.routerBase||xl.base,t=new Hs({base:e,mode:"history",fallback:!1,routes:kl,scrollBehavior:(n,e,t)=>t||(n.hash?!Gt.$vuepress.$get("disableScrollBehavior")&&{selector:decodeURIComponent(n.hash)}:{x:0,y:0})});!function(n){n.beforeEach((e,t,a)=>{if(Al(n,e.path))a();else if(/(\/|\.html)$/.test(e.path))if(/\/$/.test(e.path)){const t=e.path.replace(/\/$/,"")+".html";Al(n,t)?a(t):a()}else a();else{const t=e.path+"/",i=e.path+".html";Al(n,i)?a(i):Al(n,t)?a(t):a()}})}(t);const a={};try{await Promise.all(Tl.filter(n=>"function"==typeof n).map(e=>e({Vue:Gt,options:a,router:t,siteData:xl,isServer:n})))}catch(n){console.error(n)}return{app:new Gt(Object.assign(a,{router:t,render:n=>n("div",{attrs:{id:"app"}},[n("RouterView",{ref:"layout"}),n("div",{class:"global-ui"},Cl.map(e=>n(e)))])})),router:t}}(!1).then(({app:n,router:e})=>{e.onReady(()=>{n.$mount("#app")})})}]);